(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[179],{6637:(bi,vt,H)=>{"use strict";H.d(vt,{a:()=>Ue});var x=H(8484),l=H(5879);function me(ae,Ke){1&ae&&l.Hsn(0)}const g=["*"];let Ue=(()=>{class ae{constructor(ot,ke,He){this.componentFactoryResolver=ot,this.injector=ke,this.appRef=He}ngAfterViewInit(){this.portalOutlet=new x.u0(document.querySelector("left"===this.position?"#layout-left-custom-items":"#layout-right-custom-items"),this.componentFactoryResolver,this.appRef,this.injector),this.portalOutlet.attach(this.portal)}ngOnDestroy(){this.portalOutlet.detach()}static#e=this.\u0275fac=function(ke){return new(ke||ae)(l.Y36(l._Vd),l.Y36(l.zs3),l.Y36(l.z2F))};static#t=this.\u0275cmp=l.Xpm({type:ae,selectors:[["showcase-layout-toolbar-menu"]],viewQuery:function(ke,He){if(1&ke&&l.Gf(x.ig,5),2&ke){let lt;l.iGM(lt=l.CRH())&&(He.portal=lt.first)}},inputs:{position:"position"},ngContentSelectors:g,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(ke,He){1&ke&&(l.F$t(),l.YNc(0,me,1,0,"ng-template",0))},dependencies:[x.bH],encapsulation:2})}return ae})()},2627:(bi,vt,H)=>{"use strict";H.d(vt,{$:()=>ae});var x=H(5879),l=H(8184),me=H(1274),g=H(617),Ue=H(2296);let ae=(()=>{class Ke{static#e=this.\u0275fac=function(He){return new(He||Ke)};static#t=this.\u0275cmp=x.Xpm({type:Ke,selectors:[["ng-component"]],decls:18,vars:0,consts:[["color","primary"],["id","layout-left-custom-items"],["mat-icon-button","","routerLink","/"],["svgIcon","ngx-maplibre-gl"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/demo"],["mat-button","","routerLink","/doc"],["id","layout-right-custom-items"],["mat-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["mat-icon-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["svgIcon","github"]],template:function(He,lt){1&He&&(x.TgZ(0,"mat-toolbar",0)(1,"div"),x._UZ(2,"div",1),x.TgZ(3,"a",2),x._UZ(4,"mat-icon",3),x.qZA(),x.TgZ(5,"a",4),x._uU(6," ngx-maplibre-gl "),x.qZA(),x.TgZ(7,"a",5),x._uU(8," Demo "),x.qZA(),x.TgZ(9,"a",6),x._uU(10," Documentation "),x.qZA()(),x.TgZ(11,"div"),x._UZ(12,"div",7),x.TgZ(13,"a",8),x._uU(14," Github "),x.qZA(),x.TgZ(15,"a",9),x._UZ(16,"mat-icon",10),x.qZA()()(),x._UZ(17,"router-outlet"))},dependencies:[l.lC,l.rH,me.Ye,g.Hw,Ue.zs,Ue.o6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px 0 0}div[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.menu-button[_ngcontent-%COMP%]{height:100%}"]})}return Ke})()},877:(bi,vt,H)=>{"use strict";H.d(vt,{x:()=>lt});var x=H(8484),l=H(6814),me=H(2296),g=H(617),Ue=H(1274),ae=H(8184),ke=(H(6637),H(2627),H(5879));let lt=(()=>{class Ze{static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275mod=ke.oAB({type:Ze});static#i=this.\u0275inj=ke.cJS({imports:[l.ez,ae.Bz,Ue.g0,g.Ps,me.ot,x.eL]})}return Ze})()},4772:(bi,vt,H)=>{"use strict";var x=H(6593),l=H(5879),me=H(8184);let g=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-root"]],decls:1,vars:0,template:function(h,b){1&h&&l._UZ(0,"router-outlet")},dependencies:[me.lC],encapsulation:2})}return c})();var Ue=H(617),ae=H(6825);function ot(c){return new l.vHH(3e3,!1)}function At(c){switch(c.length){case 0:return new ae.ZN;case 1:return c[0];default:return new ae.ZE(c)}}function ai(c,v,r=new Map,h=new Map){const b=[],L=[];let X=-1,fe=null;if(v.forEach(Ge=>{const pt=Ge.get("offset"),jt=pt==X,Wt=jt&&fe||new Map;Ge.forEach((Ni,tn)=>{let Pi=tn,qi=Ni;if("offset"!==tn)switch(Pi=c.normalizePropertyName(Pi,b),qi){case ae.k1:qi=r.get(tn);break;case ae.l3:qi=h.get(tn);break;default:qi=c.normalizeStyleValue(tn,Pi,qi,b)}Wt.set(Pi,qi)}),jt||L.push(Wt),fe=Wt,X=pt}),b.length)throw function Kn(c){return new l.vHH(3502,!1)}();return L}function Jt(c,v,r,h){switch(v){case"start":c.onStart(()=>h(r&&vi(r,"start",c)));break;case"done":c.onDone(()=>h(r&&vi(r,"done",c)));break;case"destroy":c.onDestroy(()=>h(r&&vi(r,"destroy",c)))}}function vi(c,v,r){const L=yi(c.element,c.triggerName,c.fromState,c.toState,v||c.phaseName,r.totalTime??c.totalTime,!!r.disabled),X=c._data;return null!=X&&(L._data=X),L}function yi(c,v,r,h,b="",L=0,X){return{element:c,triggerName:v,fromState:r,toState:h,phaseName:b,totalTime:L,disabled:!!X}}function Fi(c,v,r){let h=c.get(v);return h||c.set(v,h=r),h}function dt(c){const v=c.indexOf(":");return[c.substring(1,v),c.slice(v+1)]}const $t=(()=>typeof document>"u"?null:document.documentElement)();function Kt(c){const v=c.parentNode||c.host||null;return v===$t?null:v}let Yi=null,On=!1;function xe(c,v){for(;v;){if(v===c)return!0;v=Kt(v)}return!1}function Re(c,v,r){if(r)return Array.from(c.querySelectorAll(v));const h=c.querySelector(v);return h?[h]:[]}let Ye=(()=>{class c{validateStyleProperty(r){return function Wi(c){Yi||(Yi=function Tt(){return typeof document<"u"?document.body:null}()||{},On=!!Yi.style&&"WebkitAppearance"in Yi.style);let v=!0;return Yi.style&&!function _t(c){return"ebkit"==c.substring(1,6)}(c)&&(v=c in Yi.style,!v&&On&&(v="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Yi.style)),v}(r)}matchesElement(r,h){return!1}containsElement(r,h){return xe(r,h)}getParentElement(r){return Kt(r)}query(r,h,b){return Re(r,h,b)}computeStyle(r,h,b){return b||""}animate(r,h,b,L,X,fe=[],Ge){return new ae.ZN(b,L)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac})}return c})(),be=(()=>{class c{static#e=this.NOOP=new Ye}return c})();const qe=1e3,ri="ng-enter",Ei="ng-leave",gi="ng-trigger",Gt=".ng-trigger",Mi="ng-animating",xi=".ng-animating";function an(c){if("number"==typeof c)return c;const v=c.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Vt(parseFloat(v[1]),v[2])}function Vt(c,v){return"s"===v?c*qe:c}function ci(c,v,r){return c.hasOwnProperty("duration")?c:function Ft(c,v,r){let b,L=0,X="";if("string"==typeof c){const fe=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fe)return v.push(ot()),{duration:0,delay:0,easing:""};b=Vt(parseFloat(fe[1]),fe[2]);const Ge=fe[3];null!=Ge&&(L=Vt(parseFloat(Ge),fe[4]));const pt=fe[5];pt&&(X=pt)}else b=c;if(!r){let fe=!1,Ge=v.length;b<0&&(v.push(function ke(){return new l.vHH(3100,!1)}()),fe=!0),L<0&&(v.push(function He(){return new l.vHH(3101,!1)}()),fe=!0),fe&&v.splice(Ge,0,ot())}return{duration:b,delay:L,easing:X}}(c,v,r)}function ve(c,v={}){return Object.keys(c).forEach(r=>{v[r]=c[r]}),v}function K(c){const v=new Map;return Object.keys(c).forEach(r=>{v.set(r,c[r])}),v}function Ae(c,v=new Map,r){if(r)for(let[h,b]of r)v.set(h,b);for(let[h,b]of c)v.set(h,b);return v}function ze(c,v,r){v.forEach((h,b)=>{const L=pe(b);r&&!r.has(b)&&r.set(b,c.style[L]),c.style[L]=h})}function Ee(c,v){v.forEach((r,h)=>{const b=pe(h);c.style[b]=""})}function ie(c){return Array.isArray(c)?1==c.length?c[0]:(0,ae.vP)(c):c}const Z=new RegExp("{{\\s*(.+?)\\s*}}","g");function ce(c){let v=[];if("string"==typeof c){let r;for(;r=Z.exec(c);)v.push(r[1]);Z.lastIndex=0}return v}function Ie(c,v,r){const h=c.toString(),b=h.replace(Z,(L,X)=>{let fe=v[X];return null==fe&&(r.push(function Ze(c){return new l.vHH(3003,!1)}()),fe=""),fe.toString()});return b==h?c:b}function ye(c){const v=[];let r=c.next();for(;!r.done;)v.push(r.value),r=c.next();return v}const Le=/-+([a-z0-9])/g;function pe(c){return c.replace(Le,(...v)=>v[1].toUpperCase())}function Ve(c,v,r){switch(v.type){case 7:return c.visitTrigger(v,r);case 0:return c.visitState(v,r);case 1:return c.visitTransition(v,r);case 2:return c.visitSequence(v,r);case 3:return c.visitGroup(v,r);case 4:return c.visitAnimate(v,r);case 5:return c.visitKeyframes(v,r);case 6:return c.visitStyle(v,r);case 8:return c.visitReference(v,r);case 9:return c.visitAnimateChild(v,r);case 10:return c.visitAnimateRef(v,r);case 11:return c.visitQuery(v,r);case 12:return c.visitStagger(v,r);default:throw function it(c){return new l.vHH(3004,!1)}()}}function Ne(c,v){return window.getComputedStyle(c)[v]}const nn="*";function gr(c,v){const r=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function xr(c,v,r){if(":"==c[0]){const Ge=function so(c,v){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,h)=>parseFloat(h)>parseFloat(r);case":decrement":return(r,h)=>parseFloat(h)<parseFloat(r);default:return v.push(function _i(c){return new l.vHH(3016,!1)}()),"* => *"}}(c,r);if("function"==typeof Ge)return void v.push(Ge);c=Ge}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return r.push(function fi(c){return new l.vHH(3015,!1)}()),v;const b=h[1],L=h[2],X=h[3];v.push(Ur(b,X));"<"==L[0]&&!(b==nn&&X==nn)&&v.push(Ur(X,b))}(h,r,v)):r.push(c),r}const _r=new Set(["true","1"]),fn=new Set(["false","0"]);function Ur(c,v){const r=_r.has(c)||fn.has(c),h=_r.has(v)||fn.has(v);return(b,L)=>{let X=c==nn||c==b,fe=v==nn||v==L;return!X&&r&&"boolean"==typeof b&&(X=b?_r.has(c):fn.has(c)),!fe&&h&&"boolean"==typeof L&&(fe=L?_r.has(v):fn.has(v)),X&&fe}}const _n=new RegExp("s*:selfs*,?","g");function hr(c,v,r,h){return new Mn(c).build(v,r,h)}class Mn{constructor(v){this._driver=v}build(v,r,h){const b=new ao(r);return this._resetContextStyleTimingState(b),Ve(this,ie(v),b)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,r){let h=r.queryCount=0,b=r.depCount=0;const L=[],X=[];return"@"==v.name.charAt(0)&&r.errors.push(function ut(){return new l.vHH(3006,!1)}()),v.definitions.forEach(fe=>{if(this._resetContextStyleTimingState(r),0==fe.type){const Ge=fe,pt=Ge.name;pt.toString().split(/\s*,\s*/).forEach(jt=>{Ge.name=jt,L.push(this.visitState(Ge,r))}),Ge.name=pt}else if(1==fe.type){const Ge=this.visitTransition(fe,r);h+=Ge.queryCount,b+=Ge.depCount,X.push(Ge)}else r.errors.push(function Et(){return new l.vHH(3007,!1)}())}),{type:7,name:v.name,states:L,transitions:X,queryCount:h,depCount:b,options:null}}visitState(v,r){const h=this.visitStyle(v.styles,r),b=v.options&&v.options.params||null;if(h.containsDynamicStyles){const L=new Set,X=b||{};h.styles.forEach(fe=>{fe instanceof Map&&fe.forEach(Ge=>{ce(Ge).forEach(pt=>{X.hasOwnProperty(pt)||L.add(pt)})})}),L.size&&(ye(L.values()),r.errors.push(function Ut(c,v){return new l.vHH(3008,!1)}()))}return{type:0,name:v.name,style:h,options:b?{params:b}:null}}visitTransition(v,r){r.queryCount=0,r.depCount=0;const h=Ve(this,ie(v.animation),r);return{type:1,matchers:gr(v.expr,r.errors),animation:h,queryCount:r.queryCount,depCount:r.depCount,options:dr(v.options)}}visitSequence(v,r){return{type:2,steps:v.steps.map(h=>Ve(this,h,r)),options:dr(v.options)}}visitGroup(v,r){const h=r.currentTime;let b=0;const L=v.steps.map(X=>{r.currentTime=h;const fe=Ve(this,X,r);return b=Math.max(b,r.currentTime),fe});return r.currentTime=b,{type:3,steps:L,options:dr(v.options)}}visitAnimate(v,r){const h=function Lo(c,v){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return vn(ci(c,v).duration,0,"");const r=c;if(r.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=vn(0,0,"");return L.dynamic=!0,L.strValue=r,L}const b=ci(r,v);return vn(b.duration,b.delay,b.easing)}(v.timings,r.errors);r.currentAnimateTimings=h;let b,L=v.styles?v.styles:(0,ae.oB)({});if(5==L.type)b=this.visitKeyframes(L,r);else{let X=v.styles,fe=!1;if(!X){fe=!0;const pt={};h.easing&&(pt.easing=h.easing),X=(0,ae.oB)(pt)}r.currentTime+=h.duration+h.delay;const Ge=this.visitStyle(X,r);Ge.isEmptyStep=fe,b=Ge}return r.currentAnimateTimings=null,{type:4,timings:h,style:b,options:null}}visitStyle(v,r){const h=this._makeStyleAst(v,r);return this._validateStyleAst(h,r),h}_makeStyleAst(v,r){const h=[],b=Array.isArray(v.styles)?v.styles:[v.styles];for(let fe of b)"string"==typeof fe?fe===ae.l3?h.push(fe):r.errors.push(new l.vHH(3002,!1)):h.push(K(fe));let L=!1,X=null;return h.forEach(fe=>{if(fe instanceof Map&&(fe.has("easing")&&(X=fe.get("easing"),fe.delete("easing")),!L))for(let Ge of fe.values())if(Ge.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:h,easing:X,offset:v.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(v,r){const h=r.currentAnimateTimings;let b=r.currentTime,L=r.currentTime;h&&L>0&&(L-=h.duration+h.delay),v.styles.forEach(X=>{"string"!=typeof X&&X.forEach((fe,Ge)=>{const pt=r.collectedStyles.get(r.currentQuerySelector),jt=pt.get(Ge);let Wt=!0;jt&&(L!=b&&L>=jt.startTime&&b<=jt.endTime&&(r.errors.push(function ni(c,v,r,h,b){return new l.vHH(3010,!1)}()),Wt=!1),L=jt.startTime),Wt&&pt.set(Ge,{startTime:L,endTime:b}),r.options&&function $(c,v,r){const h=v.params||{},b=ce(c);b.length&&b.forEach(L=>{h.hasOwnProperty(L)||r.push(function lt(c){return new l.vHH(3001,!1)}())})}(fe,r.options,r.errors)})})}visitKeyframes(v,r){const h={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Fe(){return new l.vHH(3011,!1)}()),h;let L=0;const X=[];let fe=!1,Ge=!1,pt=0;const jt=v.steps.map(Yn=>{const or=this._makeStyleAst(Yn,r);let vo=null!=or.offset?or.offset:function Ki(c){if("string"==typeof c)return null;let v=null;if(Array.isArray(c))c.forEach(r=>{if(r instanceof Map&&r.has("offset")){const h=r;v=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const r=c;v=parseFloat(r.get("offset")),r.delete("offset")}return v}(or.styles),Or=0;return null!=vo&&(L++,Or=or.offset=vo),Ge=Ge||Or<0||Or>1,fe=fe||Or<pt,pt=Or,X.push(Or),or});Ge&&r.errors.push(function Je(){return new l.vHH(3012,!1)}()),fe&&r.errors.push(function $e(){return new l.vHH(3200,!1)}());const Wt=v.steps.length;let Ni=0;L>0&&L<Wt?r.errors.push(function Nt(){return new l.vHH(3202,!1)}()):0==L&&(Ni=1/(Wt-1));const tn=Wt-1,Pi=r.currentTime,qi=r.currentAnimateTimings,Tn=qi.duration;return jt.forEach((Yn,or)=>{const vo=Ni>0?or==tn?1:Ni*or:X[or],Or=vo*Tn;r.currentTime=Pi+qi.delay+Or,qi.duration=Or,this._validateStyleAst(Yn,r),Yn.offset=vo,h.styles.push(Yn)}),h}visitReference(v,r){return{type:8,animation:Ve(this,ie(v.animation),r),options:dr(v.options)}}visitAnimateChild(v,r){return r.depCount++,{type:9,options:dr(v.options)}}visitAnimateRef(v,r){return{type:10,animation:this.visitReference(v.animation,r),options:dr(v.options)}}visitQuery(v,r){const h=r.currentQuerySelector,b=v.options||{};r.queryCount++,r.currentQuery=v;const[L,X]=function Jn(c){const v=!!c.split(/\s*,\s*/).find(r=>":self"==r);return v&&(c=c.replace(_n,"")),c=c.replace(/@\*/g,Gt).replace(/@\w+/g,r=>Gt+"-"+r.slice(1)).replace(/:animating/g,xi),[c,v]}(v.selector);r.currentQuerySelector=h.length?h+" "+L:L,Fi(r.collectedStyles,r.currentQuerySelector,new Map);const fe=Ve(this,ie(v.animation),r);return r.currentQuery=null,r.currentQuerySelector=h,{type:11,selector:L,limit:b.limit||0,optional:!!b.optional,includeSelf:X,animation:fe,originalSelector:v.selector,options:dr(v.options)}}visitStagger(v,r){r.currentQuery||r.errors.push(function Pt(){return new l.vHH(3013,!1)}());const h="full"===v.timings?{duration:0,delay:0,easing:"full"}:ci(v.timings,r.errors,!0);return{type:12,animation:Ve(this,ie(v.animation),r),timings:h,options:null}}}class ao{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dr(c){return c?(c=ve(c)).params&&(c.params=function Tr(c){return c?ve(c):null}(c.params)):c={},c}function vn(c,v,r){return{duration:c,delay:v,easing:r}}function To(c,v,r,h,b,L,X=null,fe=!1){return{type:1,element:c,keyframes:v,preStyleProps:r,postStyleProps:h,duration:b,delay:L,totalTime:b+L,easing:X,subTimeline:fe}}class lo{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,r){let h=this._map.get(v);h||this._map.set(v,h=[]),h.push(...r)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Dl=new RegExp(":enter","g"),ia=new RegExp(":leave","g");function na(c,v,r,h,b,L=new Map,X=new Map,fe,Ge,pt=[]){return(new Hs).buildKeyframes(c,v,r,h,b,L,X,fe,Ge,pt)}class Hs{buildKeyframes(v,r,h,b,L,X,fe,Ge,pt,jt=[]){pt=pt||new lo;const Wt=new $s(v,r,pt,b,L,jt,[]);Wt.options=Ge;const Ni=Ge.delay?an(Ge.delay):0;Wt.currentTimeline.delayNextStep(Ni),Wt.currentTimeline.setStyles([X],null,Wt.errors,Ge),Ve(this,h,Wt);const tn=Wt.timelines.filter(Pi=>Pi.containsAnimation());if(tn.length&&fe.size){let Pi;for(let qi=tn.length-1;qi>=0;qi--){const Tn=tn[qi];if(Tn.element===r){Pi=Tn;break}}Pi&&!Pi.allowOnlyTimelineStyles()&&Pi.setStyles([fe],null,Wt.errors,Ge)}return tn.length?tn.map(Pi=>Pi.buildKeyframes()):[To(r,[],[],[],0,Ni,"",!1)]}visitTrigger(v,r){}visitState(v,r){}visitTransition(v,r){}visitAnimateChild(v,r){const h=r.subInstructions.get(r.element);if(h){const b=r.createSubContext(v.options),L=r.currentTimeline.currentTime,X=this._visitSubInstructions(h,b,b.options);L!=X&&r.transformIntoNewTimeline(X)}r.previousNode=v}visitAnimateRef(v,r){const h=r.createSubContext(v.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],r,h),this.visitReference(v.animation,h),r.transformIntoNewTimeline(h.currentTimeline.currentTime),r.previousNode=v}_applyAnimationRefDelays(v,r,h){for(const b of v){const L=b?.delay;if(L){const X="number"==typeof L?L:an(Ie(L,b?.params??{},r.errors));h.delayNextStep(X)}}}_visitSubInstructions(v,r,h){let L=r.currentTimeline.currentTime;const X=null!=h.duration?an(h.duration):null,fe=null!=h.delay?an(h.delay):null;return 0!==X&&v.forEach(Ge=>{const pt=r.appendInstructionToTimeline(Ge,X,fe);L=Math.max(L,pt.duration+pt.delay)}),L}visitReference(v,r){r.updateOptions(v.options,!0),Ve(this,v.animation,r),r.previousNode=v}visitSequence(v,r){const h=r.subContextCount;let b=r;const L=v.options;if(L&&(L.params||L.delay)&&(b=r.createSubContext(L),b.transformIntoNewTimeline(),null!=L.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=jr);const X=an(L.delay);b.delayNextStep(X)}v.steps.length&&(v.steps.forEach(X=>Ve(this,X,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>h&&b.transformIntoNewTimeline()),r.previousNode=v}visitGroup(v,r){const h=[];let b=r.currentTimeline.currentTime;const L=v.options&&v.options.delay?an(v.options.delay):0;v.steps.forEach(X=>{const fe=r.createSubContext(v.options);L&&fe.delayNextStep(L),Ve(this,X,fe),b=Math.max(b,fe.currentTimeline.currentTime),h.push(fe.currentTimeline)}),h.forEach(X=>r.currentTimeline.mergeTimelineCollectedStyles(X)),r.transformIntoNewTimeline(b),r.previousNode=v}_visitTiming(v,r){if(v.dynamic){const h=v.strValue;return ci(r.params?Ie(h,r.params,r.errors):h,r.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,r){const h=r.currentAnimateTimings=this._visitTiming(v.timings,r),b=r.currentTimeline;h.delay&&(r.incrementTime(h.delay),b.snapshotCurrentStyles());const L=v.style;5==L.type?this.visitKeyframes(L,r):(r.incrementTime(h.duration),this.visitStyle(L,r),b.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=v}visitStyle(v,r){const h=r.currentTimeline,b=r.currentAnimateTimings;!b&&h.hasCurrentStyleProperties()&&h.forwardFrame();const L=b&&b.easing||v.easing;v.isEmptyStep?h.applyEmptyStep(L):h.setStyles(v.styles,L,r.errors,r.options),r.previousNode=v}visitKeyframes(v,r){const h=r.currentAnimateTimings,b=r.currentTimeline.duration,L=h.duration,fe=r.createSubContext().currentTimeline;fe.easing=h.easing,v.styles.forEach(Ge=>{fe.forwardTime((Ge.offset||0)*L),fe.setStyles(Ge.styles,Ge.easing,r.errors,r.options),fe.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(fe),r.transformIntoNewTimeline(b+L),r.previousNode=v}visitQuery(v,r){const h=r.currentTimeline.currentTime,b=v.options||{},L=b.delay?an(b.delay):0;L&&(6===r.previousNode.type||0==h&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jr);let X=h;const fe=r.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!b.optional,r.errors);r.currentQueryTotal=fe.length;let Ge=null;fe.forEach((pt,jt)=>{r.currentQueryIndex=jt;const Wt=r.createSubContext(v.options,pt);L&&Wt.delayNextStep(L),pt===r.element&&(Ge=Wt.currentTimeline),Ve(this,v.animation,Wt),Wt.currentTimeline.applyStylesToKeyframe(),X=Math.max(X,Wt.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(X),Ge&&(r.currentTimeline.mergeTimelineCollectedStyles(Ge),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=v}visitStagger(v,r){const h=r.parentContext,b=r.currentTimeline,L=v.timings,X=Math.abs(L.duration),fe=X*(r.currentQueryTotal-1);let Ge=X*r.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":Ge=fe-Ge;break;case"full":Ge=h.currentStaggerTime}const jt=r.currentTimeline;Ge&&jt.delayNextStep(Ge);const Wt=jt.currentTime;Ve(this,v.animation,r),r.previousNode=v,h.currentStaggerTime=b.currentTime-Wt+(b.startTime-h.currentTimeline.startTime)}}const jr={};class $s{constructor(v,r,h,b,L,X,fe,Ge){this._driver=v,this.element=r,this.subInstructions=h,this._enterClassName=b,this._leaveClassName=L,this.errors=X,this.timelines=fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new Oa(this._driver,r,0),fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,r){if(!v)return;const h=v;let b=this.options;null!=h.duration&&(b.duration=an(h.duration)),null!=h.delay&&(b.delay=an(h.delay));const L=h.params;if(L){let X=b.params;X||(X=this.options.params={}),Object.keys(L).forEach(fe=>{(!r||!X.hasOwnProperty(fe))&&(X[fe]=Ie(L[fe],X,this.errors))})}}_copyOptions(){const v={};if(this.options){const r=this.options.params;if(r){const h=v.params={};Object.keys(r).forEach(b=>{h[b]=r[b]})}}return v}createSubContext(v=null,r,h){const b=r||this.element,L=new $s(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,h||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(v),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(v){return this.previousNode=jr,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,r,h){const b={duration:r??v.duration,delay:this.currentTimeline.currentTime+(h??0)+v.delay,easing:""},L=new Za(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,b,v.stretchStartingKeyframe);return this.timelines.push(L),b}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,r,h,b,L,X){let fe=[];if(b&&fe.push(this.element),v.length>0){v=(v=v.replace(Dl,"."+this._enterClassName)).replace(ia,"."+this._leaveClassName);let pt=this._driver.query(this.element,v,1!=h);0!==h&&(pt=h<0?pt.slice(pt.length+h,pt.length):pt.slice(0,h)),fe.push(...pt)}return!L&&0==fe.length&&X.push(function zt(c){return new l.vHH(3014,!1)}()),fe}}class Oa{constructor(v,r,h,b){this._driver=v,this.element=r,this.startTime=h,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+v),r&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,r){return this.applyStylesToKeyframe(),new Oa(this._driver,v,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,r){this._localTimelineStyles.set(v,r),this._globalTimelineStyles.set(v,r),this._styleSummary.set(v,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[r,h]of this._globalTimelineStyles)this._backFill.set(r,h||ae.l3),this._currentKeyframe.set(r,ae.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,r,h,b){r&&this._previousKeyframe.set("easing",r);const L=b&&b.params||{},X=function Sl(c,v){const r=new Map;let h;return c.forEach(b=>{if("*"===b){h=h||v.keys();for(let L of h)r.set(L,ae.l3)}else Ae(b,r)}),r}(v,this._globalTimelineStyles);for(let[fe,Ge]of X){const pt=Ie(Ge,L,h);this._pendingStyles.set(fe,pt),this._localTimelineStyles.has(fe)||this._backFill.set(fe,this._globalTimelineStyles.get(fe)??ae.l3),this._updateStyle(fe,pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,r)=>{this._currentKeyframe.set(r,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,v)}))}snapshotCurrentStyles(){for(let[v,r]of this._localTimelineStyles)this._pendingStyles.set(v,r),this._updateStyle(v,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let r in this._currentKeyframe)v.push(r);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((r,h)=>{const b=this._styleSummary.get(h);(!b||r.time>b.time)&&this._updateStyle(h,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,r=new Set,h=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((fe,Ge)=>{const pt=Ae(fe,new Map,this._backFill);pt.forEach((jt,Wt)=>{jt===ae.k1?v.add(Wt):jt===ae.l3&&r.add(Wt)}),h||pt.set("offset",Ge/this.duration),b.push(pt)});const L=v.size?ye(v.values()):[],X=r.size?ye(r.values()):[];if(h){const fe=b[0],Ge=new Map(fe);fe.set("offset",0),Ge.set("offset",1),b=[fe,Ge]}return To(this.element,b,L,X,this.duration,this.startTime,this.easing,!1)}}class Za extends Oa{constructor(v,r,h,b,L,X,fe=!1){super(v,r,X.delay),this.keyframes=h,this.preStyleProps=b,this.postStyleProps=L,this._stretchStartingKeyframe=fe,this.timings={duration:X.duration,delay:X.delay,easing:X.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:r,duration:h,easing:b}=this.timings;if(this._stretchStartingKeyframe&&r){const L=[],X=h+r,fe=r/X,Ge=Ae(v[0]);Ge.set("offset",0),L.push(Ge);const pt=Ae(v[0]);pt.set("offset",Gs(fe)),L.push(pt);const jt=v.length-1;for(let Wt=1;Wt<=jt;Wt++){let Ni=Ae(v[Wt]);const tn=Ni.get("offset");Ni.set("offset",Gs((r+tn*h)/X)),L.push(Ni)}h=X,r=0,b="",v=L}return To(this.element,v,this.preStyleProps,this.postStyleProps,h,r,b,!0)}}function Gs(c,v=3){const r=Math.pow(10,v-1);return Math.round(c*r)/r}class Zs{}const Fa=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sn extends Zs{normalizePropertyName(v,r){return pe(v)}normalizeStyleValue(v,r,h,b){let L="";const X=h.toString().trim();if(Fa.has(r)&&0!==h&&"0"!==h)if("number"==typeof h)L="px";else{const fe=h.match(/^[+-]?[\d\.]+([a-z]*)$/);fe&&0==fe[1].length&&b.push(function nt(c,v){return new l.vHH(3005,!1)}())}return X+L}}function nr(c,v,r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni){return{type:0,element:c,triggerName:v,isRemovalTransition:b,fromState:r,fromStyles:L,toState:h,toStyles:X,timelines:fe,queriedElements:Ge,preStyleProps:pt,postStyleProps:jt,totalTime:Wt,errors:Ni}}const yr={};class os{constructor(v,r,h){this._triggerName=v,this.ast=r,this._stateStyles=h}match(v,r,h,b){return function ss(c,v,r,h,b){return c.some(L=>L(v,r,h,b))}(this.ast.matchers,v,r,h,b)}buildStyles(v,r,h){let b=this._stateStyles.get("*");return void 0!==v&&(b=this._stateStyles.get(v?.toString())||b),b?b.buildStyles(r,h):new Map}build(v,r,h,b,L,X,fe,Ge,pt,jt){const Wt=[],Ni=this.ast.options&&this.ast.options.params||yr,Pi=this.buildStyles(h,fe&&fe.params||yr,Wt),qi=Ge&&Ge.params||yr,Tn=this.buildStyles(b,qi,Wt),Yn=new Set,or=new Map,vo=new Map,Or="void"===b,ka={params:as(qi,Ni),delay:this.ast.options?.delay},$a=jt?[]:na(v,r,this.ast.animation,L,X,Pi,Tn,ka,pt,Wt);let Us=0;if($a.forEach(Zl=>{Us=Math.max(Zl.duration+Zl.delay,Us)}),Wt.length)return nr(r,this._triggerName,h,b,Or,Pi,Tn,[],[],or,vo,Us,Wt);$a.forEach(Zl=>{const ol=Zl.element,Wh=Fi(or,ol,new Set);Zl.preStyleProps.forEach(ns=>Wh.add(ns));const iu=Fi(vo,ol,new Set);Zl.postStyleProps.forEach(ns=>iu.add(ns)),ol!==r&&Yn.add(ol)});const rl=ye(Yn.values());return nr(r,this._triggerName,h,b,Or,Pi,Tn,$a,rl,or,vo,Us)}}function as(c,v){const r=ve(v);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(r[h]=c[h]);return r}class Wr{constructor(v,r,h){this.styles=v,this.defaultParams=r,this.normalizer=h}buildStyles(v,r){const h=new Map,b=ve(this.defaultParams);return Object.keys(v).forEach(L=>{const X=v[L];null!==X&&(b[L]=X)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((X,fe)=>{X&&(X=Ie(X,b,r));const Ge=this.normalizer.normalizePropertyName(fe,r);X=this.normalizer.normalizeStyleValue(fe,Ge,X,r),h.set(fe,X)})}),h}}class Is{constructor(v,r,h){this.name=v,this.ast=r,this._normalizer=h,this.transitionFactories=[],this.states=new Map,r.states.forEach(b=>{this.states.set(b.name,new Wr(b.style,b.options&&b.options.params||{},h))}),Ai(this.states,"true","1"),Ai(this.states,"false","0"),r.transitions.forEach(b=>{this.transitionFactories.push(new os(v,b,this.states))}),this.fallbackTransition=function Qn(c,v,r){return new os(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(X,fe)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,r,h,b){return this.transitionFactories.find(X=>X.match(v,r,h,b))||null}matchStyles(v,r,h){return this.fallbackTransition.buildStyles(v,r,h)}}function Ai(c,v,r){c.has(v)?c.has(r)||c.set(r,c.get(v)):c.has(r)&&c.set(v,c.get(r))}const ln=new lo;class Xi{constructor(v,r,h){this.bodyNode=v,this._driver=r,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,r){const h=[],L=hr(this._driver,r,h,[]);if(h.length)throw function yn(c){return new l.vHH(3503,!1)}();this._animations.set(v,L)}_buildPlayer(v,r,h){const b=v.element,L=ai(this._normalizer,v.keyframes,r,h);return this._driver.animate(b,L,v.duration,v.delay,v.easing,[],!0)}create(v,r,h={}){const b=[],L=this._animations.get(v);let X;const fe=new Map;if(L?(X=na(this._driver,r,L,ri,Ei,new Map,new Map,h,ln,b),X.forEach(jt=>{const Wt=Fi(fe,jt.element,new Map);jt.postStyleProps.forEach(Ni=>Wt.set(Ni,null))})):(b.push(function Hn(){return new l.vHH(3300,!1)}()),X=[]),b.length)throw function Pn(c){return new l.vHH(3504,!1)}();fe.forEach((jt,Wt)=>{jt.forEach((Ni,tn)=>{jt.set(tn,this._driver.computeStyle(Wt,tn,ae.l3))})});const pt=At(X.map(jt=>{const Wt=fe.get(jt.element);return this._buildPlayer(jt,new Map,Wt)}));return this._playersById.set(v,pt),pt.onDestroy(()=>this.destroy(v)),this.players.push(pt),pt}destroy(v){const r=this._getPlayer(v);r.destroy(),this._playersById.delete(v);const h=this.players.indexOf(r);h>=0&&this.players.splice(h,1)}_getPlayer(v){const r=this._playersById.get(v);if(!r)throw function xt(c){return new l.vHH(3301,!1)}();return r}listen(v,r,h,b){const L=yi(r,"","","");return Jt(this._getPlayer(v),h,L,b),()=>{}}command(v,r,h,b){if("register"==h)return void this.register(v,b[0]);if("create"==h)return void this.create(v,r,b[0]||{});const L=this._getPlayer(v);switch(h){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(v)}}}const wr="ng-animate-queued",Xn="ng-animate-disabled",zo=[],mn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},As={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kr="__ng_removed";class qo{get params(){return this.options.params}constructor(v,r=""){this.namespaceId=r;const h=v&&v.hasOwnProperty("value");if(this.value=function va(c){return c??null}(h?v.value:v),h){const L=ve(v);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const r=v.params;if(r){const h=this.options.params;Object.keys(r).forEach(b=>{null==h[b]&&(h[b]=r[b])})}}}const rr="void",bo=new qo(rr);class ra{constructor(v,r,h){this.id=v,this.hostElement=r,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Xr(r,this._hostClassName)}listen(v,r,h,b){if(!this._triggers.has(r))throw function wt(c,v){return new l.vHH(3302,!1)}();if(null==h||0==h.length)throw function gt(c){return new l.vHH(3303,!1)}();if(!function La(c){return"start"==c||"done"==c}(h))throw function Bt(c,v){return new l.vHH(3400,!1)}();const L=Fi(this._elementListeners,v,[]),X={name:r,phase:h,callback:b};L.push(X);const fe=Fi(this._engine.statesByElement,v,new Map);return fe.has(r)||(Xr(v,gi),Xr(v,gi+"-"+r),fe.set(r,bo)),()=>{this._engine.afterFlush(()=>{const Ge=L.indexOf(X);Ge>=0&&L.splice(Ge,1),this._triggers.has(r)||fe.delete(r)})}}register(v,r){return!this._triggers.has(v)&&(this._triggers.set(v,r),!0)}_getTrigger(v){const r=this._triggers.get(v);if(!r)throw function Mt(c){return new l.vHH(3401,!1)}();return r}trigger(v,r,h,b=!0){const L=this._getTrigger(r),X=new Yo(this.id,r,v);let fe=this._engine.statesByElement.get(v);fe||(Xr(v,gi),Xr(v,gi+"-"+r),this._engine.statesByElement.set(v,fe=new Map));let Ge=fe.get(r);const pt=new qo(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&Ge&&pt.absorbOptions(Ge.options),fe.set(r,pt),Ge||(Ge=bo),pt.value!==rr&&Ge.value===pt.value){if(!function ba(c,v){const r=Object.keys(c),h=Object.keys(v);if(r.length!=h.length)return!1;for(let b=0;b<r.length;b++){const L=r[b];if(!v.hasOwnProperty(L)||c[L]!==v[L])return!1}return!0}(Ge.params,pt.params)){const qi=[],Tn=L.matchStyles(Ge.value,Ge.params,qi),Yn=L.matchStyles(pt.value,pt.params,qi);qi.length?this._engine.reportError(qi):this._engine.afterFlush(()=>{Ee(v,Tn),ze(v,Yn)})}return}const Ni=Fi(this._engine.playersByElement,v,[]);Ni.forEach(qi=>{qi.namespaceId==this.id&&qi.triggerName==r&&qi.queued&&qi.destroy()});let tn=L.matchTransition(Ge.value,pt.value,v,pt.params),Pi=!1;if(!tn){if(!b)return;tn=L.fallbackTransition,Pi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:r,transition:tn,fromState:Ge,toState:pt,player:X,isFallbackTransition:Pi}),Pi||(Xr(v,wr),X.onStart(()=>{Ko(v,wr)})),X.onDone(()=>{let qi=this.players.indexOf(X);qi>=0&&this.players.splice(qi,1);const Tn=this._engine.playersByElement.get(v);if(Tn){let Yn=Tn.indexOf(X);Yn>=0&&Tn.splice(Yn,1)}}),this.players.push(X),Ni.push(X),X}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(r=>r.delete(v)),this._elementListeners.forEach((r,h)=>{this._elementListeners.set(h,r.filter(b=>b.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const r=this._engine.playersByElement.get(v);r&&(r.forEach(h=>h.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,r){const h=this._engine.driver.query(v,Gt,!0);h.forEach(b=>{if(b[Kr])return;const L=this._engine.fetchNamespacesByElement(b);L.size?L.forEach(X=>X.triggerLeaveAnimation(b,r,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(v,r,h,b){const L=this._engine.statesByElement.get(v),X=new Map;if(L){const fe=[];if(L.forEach((Ge,pt)=>{if(X.set(pt,Ge.value),this._triggers.has(pt)){const jt=this.trigger(v,pt,rr,b);jt&&fe.push(jt)}}),fe.length)return this._engine.markElementAsRemoved(this.id,v,!0,r,X),h&&At(fe).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const r=this._elementListeners.get(v),h=this._engine.statesByElement.get(v);if(r&&h){const b=new Set;r.forEach(L=>{const X=L.name;if(b.has(X))return;b.add(X);const Ge=this._triggers.get(X).fallbackTransition,pt=h.get(X)||bo,jt=new qo(rr),Wt=new Yo(this.id,X,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:X,transition:Ge,fromState:pt,toState:jt,player:Wt,isFallbackTransition:!0})})}}removeNode(v,r){const h=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,r),this.triggerLeaveAnimation(v,r,!0))return;let b=!1;if(h.totalAnimations){const L=h.players.length?h.playersByQueriedElement.get(v):[];if(L&&L.length)b=!0;else{let X=v;for(;X=X.parentNode;)if(h.statesByElement.get(X)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(v),b)h.markElementAsRemoved(this.id,v,!1,r);else{const L=v[Kr];(!L||L===mn)&&(h.afterFlush(()=>this.clearElementCache(v)),h.destroyInnerAnimations(v),h._onRemovalComplete(v,r))}}insertNode(v,r){Xr(v,this._hostClassName)}drainQueuedTransitions(v){const r=[];return this._queue.forEach(h=>{const b=h.player;if(b.destroyed)return;const L=h.element,X=this._elementListeners.get(L);X&&X.forEach(fe=>{if(fe.name==h.triggerName){const Ge=yi(L,h.triggerName,h.fromState.value,h.toState.value);Ge._data=v,Jt(h.player,fe.phase,Ge,fe.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):r.push(h)}),this._queue=[],r.sort((h,b)=>{const L=h.transition.ast.depCount,X=b.transition.ast.depCount;return 0==L||0==X?L-X:this._engine.driver.containsElement(h.element,b.element)?1:-1})}destroy(v){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class Bo{_onRemovalComplete(v,r){this.onRemovalComplete(v,r)}constructor(v,r,h){this.bodyNode=v,this.driver=r,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,L)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(r=>{r.players.forEach(h=>{h.queued&&v.push(h)})}),v}createNamespace(v,r){const h=new ra(v,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(h,r):(this.newHostElements.set(r,h),this.collectEnterElement(r)),this._namespaceLookup[v]=h}_balanceNamespaceList(v,r){const h=this._namespaceList,b=this.namespacesByHostElement;if(h.length-1>=0){let X=!1,fe=this.driver.getParentElement(r);for(;fe;){const Ge=b.get(fe);if(Ge){const pt=h.indexOf(Ge);h.splice(pt+1,0,v),X=!0;break}fe=this.driver.getParentElement(fe)}X||h.unshift(v)}else h.push(v);return b.set(r,v),v}register(v,r){let h=this._namespaceLookup[v];return h||(h=this.createNamespace(v,r)),h}registerTrigger(v,r,h){let b=this._namespaceLookup[v];b&&b.register(r,h)&&this.totalAnimations++}destroy(v,r){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(v);this.namespacesByHostElement.delete(h.hostElement);const b=this._namespaceList.indexOf(h);b>=0&&this._namespaceList.splice(b,1),h.destroy(r),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const r=new Set,h=this.statesByElement.get(v);if(h)for(let b of h.values())if(b.namespaceId){const L=this._fetchNamespace(b.namespaceId);L&&r.add(L)}return r}trigger(v,r,h,b){if(ls(r)){const L=this._fetchNamespace(v);if(L)return L.trigger(r,h,b),!0}return!1}insertNode(v,r,h,b){if(!ls(r))return;const L=r[Kr];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const X=this.collectedLeaveElements.indexOf(r);X>=0&&this.collectedLeaveElements.splice(X,1)}if(v){const X=this._fetchNamespace(v);X&&X.insertNode(r,h)}b&&this.collectEnterElement(r)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,r){r?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Xr(v,Xn)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Ko(v,Xn))}removeNode(v,r,h){if(ls(r)){const b=v?this._fetchNamespace(v):null;b?b.removeNode(r,h):this.markElementAsRemoved(v,r,!1,h);const L=this.namespacesByHostElement.get(r);L&&L.id!==v&&L.removeNode(r,h)}else this._onRemovalComplete(r,h)}markElementAsRemoved(v,r,h,b,L){this.collectedLeaveElements.push(r),r[Kr]={namespaceId:v,setForRemoval:b,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:L}}listen(v,r,h,b,L){return ls(r)?this._fetchNamespace(v).listen(r,h,b,L):()=>{}}_buildInstruction(v,r,h,b,L){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,h,b,v.fromState.options,v.toState.options,r,L)}destroyInnerAnimations(v){let r=this.driver.query(v,Gt,!0);r.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(v,xi,!0),r.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(v){const r=this.playersByElement.get(v);r&&r.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(v){const r=this.playersByQueriedElement.get(v);r&&r.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return At(this.players).onDone(()=>v());v()})}processLeaveNode(v){const r=v[Kr];if(r&&r.setForRemoval){if(v[Kr]=mn,r.namespaceId){this.destroyInnerAnimations(v);const h=this._fetchNamespace(r.namespaceId);h&&h.clearElementCache(v)}this._onRemovalComplete(v,r.setForRemoval)}v.classList?.contains(Xn)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(v=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,b)=>this._balanceNamespaceList(h,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Xr(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{r=this._flushAnimations(h,v)}finally{for(let b=0;b<h.length;b++)h[b]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],r.length?At(r).onDone(()=>{h.forEach(b=>b())}):h.forEach(b=>b())}}reportError(v){throw function at(c){return new l.vHH(3402,!1)}()}_flushAnimations(v,r){const h=new lo,b=[],L=new Map,X=[],fe=new Map,Ge=new Map,pt=new Map,jt=new Set;this.disabledNodes.forEach(Qi=>{jt.add(Qi);const Vi=this.driver.query(Qi,".ng-animate-queued",!0);for(let gn=0;gn<Vi.length;gn++)jt.add(Vi[gn])});const Wt=this.bodyNode,Ni=Array.from(this.statesByElement.keys()),tn=qa(Ni,this.collectedEnterElements),Pi=new Map;let qi=0;tn.forEach((Qi,Vi)=>{const gn=ri+qi++;Pi.set(Vi,gn),Qi.forEach(Zn=>Xr(Zn,gn))});const Tn=[],Yn=new Set,or=new Set;for(let Qi=0;Qi<this.collectedLeaveElements.length;Qi++){const Vi=this.collectedLeaveElements[Qi],gn=Vi[Kr];gn&&gn.setForRemoval&&(Tn.push(Vi),Yn.add(Vi),gn.hasAnimation?this.driver.query(Vi,".ng-star-inserted",!0).forEach(Zn=>Yn.add(Zn)):or.add(Vi))}const vo=new Map,Or=qa(Ni,Array.from(Yn));Or.forEach((Qi,Vi)=>{const gn=Ei+qi++;vo.set(Vi,gn),Qi.forEach(Zn=>Xr(Zn,gn))}),v.push(()=>{tn.forEach((Qi,Vi)=>{const gn=Pi.get(Vi);Qi.forEach(Zn=>Ko(Zn,gn))}),Or.forEach((Qi,Vi)=>{const gn=vo.get(Vi);Qi.forEach(Zn=>Ko(Zn,gn))}),Tn.forEach(Qi=>{this.processLeaveNode(Qi)})});const ka=[],$a=[];for(let Qi=this._namespaceList.length-1;Qi>=0;Qi--)this._namespaceList[Qi].drainQueuedTransitions(r).forEach(gn=>{const Zn=gn.player,Zo=gn.element;if(ka.push(Zn),this.collectedEnterElements.length){const vs=Zo[Kr];if(vs&&vs.setForMove){if(vs.previousTriggersValues&&vs.previousTriggersValues.has(gn.triggerName)){const ql=vs.previousTriggersValues.get(gn.triggerName),rs=this.statesByElement.get(gn.element);if(rs&&rs.has(gn.triggerName)){const sl=rs.get(gn.triggerName);sl.value=ql,rs.set(gn.triggerName,sl)}}return void Zn.destroy()}}const Ga=!Wt||!this.driver.containsElement(Wt,Zo),js=vo.get(Zo),Wl=Pi.get(Zo),Yr=this._buildInstruction(gn,h,Wl,js,Ga);if(Yr.errors&&Yr.errors.length)return void $a.push(Yr);if(Ga)return Zn.onStart(()=>Ee(Zo,Yr.fromStyles)),Zn.onDestroy(()=>ze(Zo,Yr.toStyles)),void b.push(Zn);if(gn.isFallbackTransition)return Zn.onStart(()=>Ee(Zo,Yr.fromStyles)),Zn.onDestroy(()=>ze(Zo,Yr.toStyles)),void b.push(Zn);const qh=[];Yr.timelines.forEach(vs=>{vs.stretchStartingKeyframe=!0,this.disabledNodes.has(vs.element)||qh.push(vs)}),Yr.timelines=qh,h.append(Zo,Yr.timelines),X.push({instruction:Yr,player:Zn,element:Zo}),Yr.queriedElements.forEach(vs=>Fi(fe,vs,[]).push(Zn)),Yr.preStyleProps.forEach((vs,ql)=>{if(vs.size){let rs=Ge.get(ql);rs||Ge.set(ql,rs=new Set),vs.forEach((sl,nu)=>rs.add(nu))}}),Yr.postStyleProps.forEach((vs,ql)=>{let rs=pt.get(ql);rs||pt.set(ql,rs=new Set),vs.forEach((sl,nu)=>rs.add(nu))})});if($a.length){const Qi=[];$a.forEach(Vi=>{Qi.push(function We(c,v){return new l.vHH(3505,!1)}())}),ka.forEach(Vi=>Vi.destroy()),this.reportError(Qi)}const Us=new Map,rl=new Map;X.forEach(Qi=>{const Vi=Qi.element;h.has(Vi)&&(rl.set(Vi,Vi),this._beforeAnimationBuild(Qi.player.namespaceId,Qi.instruction,Us))}),b.forEach(Qi=>{const Vi=Qi.element;this._getPreviousPlayers(Vi,!1,Qi.namespaceId,Qi.triggerName,null).forEach(Zn=>{Fi(Us,Vi,[]).push(Zn),Zn.destroy()})});const Zl=Tn.filter(Qi=>Hr(Qi,Ge,pt)),ol=new Map;An(ol,this.driver,or,pt,ae.l3).forEach(Qi=>{Hr(Qi,Ge,pt)&&Zl.push(Qi)});const iu=new Map;tn.forEach((Qi,Vi)=>{An(iu,this.driver,new Set(Qi),Ge,ae.k1)}),Zl.forEach(Qi=>{const Vi=ol.get(Qi),gn=iu.get(Qi);ol.set(Qi,new Map([...Vi?.entries()??[],...gn?.entries()??[]]))});const ns=[],Pa=[],Qm={};X.forEach(Qi=>{const{element:Vi,player:gn,instruction:Zn}=Qi;if(h.has(Vi)){if(jt.has(Vi))return gn.onDestroy(()=>ze(Vi,Zn.toStyles)),gn.disabled=!0,gn.overrideTotalTime(Zn.totalTime),void b.push(gn);let Zo=Qm;if(rl.size>1){let js=Vi;const Wl=[];for(;js=js.parentNode;){const Yr=rl.get(js);if(Yr){Zo=Yr;break}Wl.push(js)}Wl.forEach(Yr=>rl.set(Yr,Zo))}const Ga=this._buildAnimation(gn.namespaceId,Zn,Us,L,iu,ol);if(gn.setRealPlayer(Ga),Zo===Qm)ns.push(gn);else{const js=this.playersByElement.get(Zo);js&&js.length&&(gn.parentPlayer=At(js)),b.push(gn)}}else Ee(Vi,Zn.fromStyles),gn.onDestroy(()=>ze(Vi,Zn.toStyles)),Pa.push(gn),jt.has(Vi)&&b.push(gn)}),Pa.forEach(Qi=>{const Vi=L.get(Qi.element);if(Vi&&Vi.length){const gn=At(Vi);Qi.setRealPlayer(gn)}}),b.forEach(Qi=>{Qi.parentPlayer?Qi.syncPlayerEvents(Qi.parentPlayer):Qi.destroy()});for(let Qi=0;Qi<Tn.length;Qi++){const Vi=Tn[Qi],gn=Vi[Kr];if(Ko(Vi,Ei),gn&&gn.hasAnimation)continue;let Zn=[];if(fe.size){let Ga=fe.get(Vi);Ga&&Ga.length&&Zn.push(...Ga);let js=this.driver.query(Vi,xi,!0);for(let Wl=0;Wl<js.length;Wl++){let Yr=fe.get(js[Wl]);Yr&&Yr.length&&Zn.push(...Yr)}}const Zo=Zn.filter(Ga=>!Ga.destroyed);Zo.length?mr(this,Vi,Zo):this.processLeaveNode(Vi)}return Tn.length=0,ns.forEach(Qi=>{this.players.push(Qi),Qi.onDone(()=>{Qi.destroy();const Vi=this.players.indexOf(Qi);this.players.splice(Vi,1)}),Qi.play()}),ns}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,r,h,b,L){let X=[];if(r){const fe=this.playersByQueriedElement.get(v);fe&&(X=fe)}else{const fe=this.playersByElement.get(v);if(fe){const Ge=!L||L==rr;fe.forEach(pt=>{pt.queued||!Ge&&pt.triggerName!=b||X.push(pt)})}}return(h||b)&&(X=X.filter(fe=>!(h&&h!=fe.namespaceId||b&&b!=fe.triggerName))),X}_beforeAnimationBuild(v,r,h){const L=r.element,X=r.isRemovalTransition?void 0:v,fe=r.isRemovalTransition?void 0:r.triggerName;for(const Ge of r.timelines){const pt=Ge.element,jt=pt!==L,Wt=Fi(h,pt,[]);this._getPreviousPlayers(pt,jt,X,fe,r.toState).forEach(tn=>{const Pi=tn.getRealPlayer();Pi.beforeDestroy&&Pi.beforeDestroy(),tn.destroy(),Wt.push(tn)})}Ee(L,r.fromStyles)}_buildAnimation(v,r,h,b,L,X){const fe=r.triggerName,Ge=r.element,pt=[],jt=new Set,Wt=new Set,Ni=r.timelines.map(Pi=>{const qi=Pi.element;jt.add(qi);const Tn=qi[Kr];if(Tn&&Tn.removedBeforeQueried)return new ae.ZN(Pi.duration,Pi.delay);const Yn=qi!==Ge,or=function xs(c){const v=[];return cs(c,v),v}((h.get(qi)||zo).map(Us=>Us.getRealPlayer())).filter(Us=>!!Us.element&&Us.element===qi),vo=L.get(qi),Or=X.get(qi),ka=ai(this._normalizer,Pi.keyframes,vo,Or),$a=this._buildPlayer(Pi,ka,or);if(Pi.subTimeline&&b&&Wt.add(qi),Yn){const Us=new Yo(v,fe,qi);Us.setRealPlayer($a),pt.push(Us)}return $a});pt.forEach(Pi=>{Fi(this.playersByQueriedElement,Pi.element,[]).push(Pi),Pi.onDone(()=>function Il(c,v,r){let h=c.get(v);if(h){if(h.length){const b=h.indexOf(r);h.splice(b,1)}0==h.length&&c.delete(v)}return h}(this.playersByQueriedElement,Pi.element,Pi))}),jt.forEach(Pi=>Xr(Pi,Mi));const tn=At(Ni);return tn.onDestroy(()=>{jt.forEach(Pi=>Ko(Pi,Mi)),ze(Ge,r.toStyles)}),Wt.forEach(Pi=>{Fi(b,Pi,[]).push(tn)}),tn}_buildPlayer(v,r,h){return r.length>0?this.driver.animate(v.element,r,v.duration,v.delay,v.easing,h):new ae.ZN(v.duration,v.delay)}}class Yo{constructor(v,r,h){this.namespaceId=v,this.triggerName=r,this.element=h,this._player=new ae.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((r,h)=>{r.forEach(b=>Jt(v,h,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const r=this._player;r.triggerCallback&&v.onStart(()=>r.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,r){Fi(this._queuedCallbacks,v,[]).push(r)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const r=this._player;r.triggerCallback&&r.triggerCallback(v)}}function ls(c){return c&&1===c.nodeType}function bs(c,v){const r=c.style.display;return c.style.display=v??"none",r}function An(c,v,r,h,b){const L=[];r.forEach(Ge=>L.push(bs(Ge)));const X=[];h.forEach((Ge,pt)=>{const jt=new Map;Ge.forEach(Wt=>{const Ni=v.computeStyle(pt,Wt,b);jt.set(Wt,Ni),(!Ni||0==Ni.length)&&(pt[Kr]=As,X.push(pt))}),c.set(pt,jt)});let fe=0;return r.forEach(Ge=>bs(Ge,L[fe++])),X}function qa(c,v){const r=new Map;if(c.forEach(fe=>r.set(fe,[])),0==v.length)return r;const b=new Set(v),L=new Map;function X(fe){if(!fe)return 1;let Ge=L.get(fe);if(Ge)return Ge;const pt=fe.parentNode;return Ge=r.has(pt)?pt:b.has(pt)?1:X(pt),L.set(fe,Ge),Ge}return v.forEach(fe=>{const Ge=X(fe);1!==Ge&&r.get(Ge).push(fe)}),r}function Xr(c,v){c.classList?.add(v)}function Ko(c,v){c.classList?.remove(v)}function mr(c,v,r){At(r).onDone(()=>c.processLeaveNode(v))}function cs(c,v){for(let r=0;r<c.length;r++){const h=c[r];h instanceof ae.ZE?cs(h.players,v):v.push(h)}}function Hr(c,v,r){const h=r.get(c);if(!h)return!1;let b=v.get(c);return b?h.forEach(L=>b.add(L)):v.set(c,h),r.delete(c),!0}class oa{constructor(v,r,h){this.bodyNode=v,this._driver=r,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(b,L)=>{},this._transitionEngine=new Bo(v,r,h),this._timelineEngine=new Xi(v,r,h),this._transitionEngine.onRemovalComplete=(b,L)=>this.onRemovalComplete(b,L)}registerTrigger(v,r,h,b,L){const X=v+"-"+b;let fe=this._triggerCache[X];if(!fe){const Ge=[],jt=hr(this._driver,L,Ge,[]);if(Ge.length)throw function Dn(c,v){return new l.vHH(3404,!1)}();fe=function Wa(c,v,r){return new Is(c,v,r)}(b,jt,this._normalizer),this._triggerCache[X]=fe}this._transitionEngine.registerTrigger(r,b,fe)}register(v,r){this._transitionEngine.register(v,r)}destroy(v,r){this._transitionEngine.destroy(v,r)}onInsert(v,r,h,b){this._transitionEngine.insertNode(v,r,h,b)}onRemove(v,r,h){this._transitionEngine.removeNode(v,r,h)}disableAnimations(v,r){this._transitionEngine.markElementAsDisabled(v,r)}process(v,r,h,b){if("@"==h.charAt(0)){const[L,X]=dt(h);this._timelineEngine.command(L,r,X,b)}else this._transitionEngine.trigger(v,r,h,b)}listen(v,r,h,b,L){if("@"==h.charAt(0)){const[X,fe]=dt(h);return this._timelineEngine.listen(X,r,fe,L)}return this._transitionEngine.listen(v,r,h,b,L)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let Cr=(()=>{class c{static#e=this.initialStylesByElement=new WeakMap;constructor(r,h,b){this._element=r,this._startStyles=h,this._endStyles=b,this._state=0;let L=c.initialStylesByElement.get(r);L||c.initialStylesByElement.set(r,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&ze(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ze(this._element,this._initialStyles),this._endStyles&&(ze(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Ee(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ee(this._element,this._endStyles),this._endStyles=null),ze(this._element,this._initialStyles),this._state=3)}}return c})();function ws(c){let v=null;return c.forEach((r,h)=>{(function sa(c){return"display"===c||"position"===c})(h)&&(v=v||new Map,v.set(h,r))}),v}class Cs{constructor(v,r,h,b){this.element=v,this.keyframes=r,this.options=h,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const r=[];return v.forEach(h=>{r.push(Object.fromEntries(h))}),r}_triggerWebAnimation(v,r,h){return v.animate(this._convertKeyframesToObject(r),h)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,b)=>{"offset"!==b&&v.set(b,this._finished?h:Ne(this.element,b))}),this.currentSnapshot=v}triggerCallback(v){const r="start"===v?this._onStartFns:this._onDoneFns;r.forEach(h=>h()),r.length=0}}class $i{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,r){return!1}containsElement(v,r){return xe(v,r)}getParentElement(v){return Kt(v)}query(v,r,h){return Re(v,r,h)}computeStyle(v,r,h){return window.getComputedStyle(v)[r]}animate(v,r,h,b,L,X=[]){const Ge={duration:h,delay:b,fill:0==b?"both":"forwards"};L&&(Ge.easing=L);const pt=new Map,jt=X.filter(tn=>tn instanceof Cs);(function rt(c,v){return 0===c||0===v})(h,b)&&jt.forEach(tn=>{tn.currentSnapshot.forEach((Pi,qi)=>pt.set(qi,Pi))});let Wt=function se(c){return c.length?c[0]instanceof Map?c:c.map(v=>K(v)):[]}(r).map(tn=>Ae(tn));Wt=function Ct(c,v,r){if(r.size&&v.length){let h=v[0],b=[];if(r.forEach((L,X)=>{h.has(X)||b.push(X),h.set(X,L)}),b.length)for(let L=1;L<v.length;L++){let X=v[L];b.forEach(fe=>X.set(fe,Ne(c,fe)))}}return v}(v,Wt,pt);const Ni=function co(c,v){let r=null,h=null;return Array.isArray(v)&&v.length?(r=ws(v[0]),v.length>1&&(h=ws(v[v.length-1]))):v instanceof Map&&(r=ws(v)),r||h?new Cr(c,r,h):null}(v,Wt);return new Cs(v,Wt,Ge,Ni)}}var cn=H(6814);let kn=(()=>{class c extends ae._j{constructor(r,h){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(h.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(r){const h=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(r)?(0,ae.vP)(r):r;return pr(this._renderer,null,h,"register",[b]),new aa(h,this._renderer)}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(l.FYo),l.LFG(cn.K0))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac})}return c})();class aa extends ae.LC{constructor(v,r){super(),this._id=v,this._renderer=r}create(v,r){return new er(this._id,v,r||{},this._renderer)}}class er{constructor(v,r,h,b){this.id=v,this.element=r,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(v,r){return this._renderer.listen(this.element,`@@${this.id}:${v}`,r)}_command(v,...r){return pr(this._renderer,this.element,this.id,v,r)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pr(c,v,r,h,b){return c.setProperty(v,`@@${r}:${h}`,b)}const ne="@.disabled";let le=(()=>{class c{constructor(r,h,b){this.delegate=r,this.engine=h,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(L,X)=>{const fe=X?.parentNode(L);fe&&X.removeChild(fe,L)}}createRenderer(r,h){const L=this.delegate.createRenderer(r,h);if(!(r&&h&&h.data&&h.data.animation)){let jt=this._rendererCache.get(L);return jt||(jt=new q("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,jt)),jt}const X=h.id,fe=h.id+"-"+this._currentId;this._currentId++,this.engine.register(fe,r);const Ge=jt=>{Array.isArray(jt)?jt.forEach(Ge):this.engine.registerTrigger(X,fe,r,jt.name,jt)};return h.data.animation.forEach(Ge),new De(this,fe,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,h,b){r>=0&&r<this._microtaskId?this._zone.run(()=>h(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[X,fe]=L;X(fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(l.FYo),l.LFG(oa),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac})}return c})();class q{constructor(v,r,h,b){this.namespaceId=v,this.delegate=r,this.engine=h,this._onDestroy=b}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,r){return this.delegate.createElement(v,r)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,r){this.delegate.appendChild(v,r),this.engine.onInsert(this.namespaceId,r,v,!1)}insertBefore(v,r,h,b=!0){this.delegate.insertBefore(v,r,h),this.engine.onInsert(this.namespaceId,r,v,b)}removeChild(v,r,h){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(v,r){return this.delegate.selectRootElement(v,r)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,r,h,b){this.delegate.setAttribute(v,r,h,b)}removeAttribute(v,r,h){this.delegate.removeAttribute(v,r,h)}addClass(v,r){this.delegate.addClass(v,r)}removeClass(v,r){this.delegate.removeClass(v,r)}setStyle(v,r,h,b){this.delegate.setStyle(v,r,h,b)}removeStyle(v,r,h){this.delegate.removeStyle(v,r,h)}setProperty(v,r,h){"@"==r.charAt(0)&&r==ne?this.disableAnimations(v,!!h):this.delegate.setProperty(v,r,h)}setValue(v,r){this.delegate.setValue(v,r)}listen(v,r,h){return this.delegate.listen(v,r,h)}disableAnimations(v,r){this.engine.disableAnimations(v,r)}}class De extends q{constructor(v,r,h,b,L){super(r,h,b,L),this.factory=v,this.namespaceId=r}setProperty(v,r,h){"@"==r.charAt(0)?"."==r.charAt(1)&&r==ne?this.disableAnimations(v,h=void 0===h||!!h):this.engine.process(this.namespaceId,v,r.slice(1),h):this.delegate.setProperty(v,r,h)}listen(v,r,h){if("@"==r.charAt(0)){const b=function st(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(v);let L=r.slice(1),X="";return"@"!=L.charAt(0)&&([L,X]=function on(c){const v=c.indexOf(".");return[c.substring(0,v),c.slice(v+1)]}(L)),this.engine.listen(this.namespaceId,b,L,X,fe=>{this.factory.scheduleListenerCallback(fe._data||-1,h,fe)})}return this.delegate.listen(v,r,h)}}let wn=(()=>{class c extends oa{constructor(r,h,b,L){super(r.body,h,b)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(cn.K0),l.LFG(be),l.LFG(Zs),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac})}return c})();const la=[{provide:ae._j,useClass:kn},{provide:Zs,useFactory:function Xo(){return new Sn}},{provide:oa,useClass:wn},{provide:l.FYo,useFactory:function ds(c,v,r){return new le(c,v,r)},deps:[x.se,oa,l.R0b]}],Xl=[{provide:be,useFactory:()=>new $i},{provide:l.QbO,useValue:"BrowserAnimations"},...la],Cd=[{provide:be,useClass:Ye},{provide:l.QbO,useValue:"NoopAnimations"},...la];let Al=(()=>{class c{static withConfig(r){return{ngModule:c,providers:r.disableAnimations?Cd:Xl}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({providers:Xl,imports:[x.b2]})}return c})(),al=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[cn.ez]})}return c})();function ca(c,v,r,h,b,L,X){try{var fe=c[L](X),Ge=fe.value}catch(pt){return void r(pt)}fe.done?v(Ge):Promise.resolve(Ge).then(h,b)}function fr(c){return function(){var v=this,r=arguments;return new Promise(function(h,b){var L=c.apply(v,r);function X(Ge){ca(L,h,b,X,fe,"next",Ge)}function fe(Ge){ca(L,h,b,X,fe,"throw",Ge)}X(void 0)})}}var Vo=H(5624),ur=H(8645);class uo extends ur.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(v){const{hasError:r,_hasValue:h,_value:b,thrownError:L,isStopped:X,_isComplete:fe}=this;r?v.error(L):(X||fe)&&(h&&v.next(b),v.complete())}next(v){this.isStopped||(this._value=v,this._hasValue=!0)}complete(){const{_hasValue:v,_value:r,_isComplete:h}=this;h||(this._isComplete=!0,v&&super.next(r),super.complete())}}var xo=H(7394),zn=H(1374);let ar=(()=>{class c{constructor(r){this.zone=r,this.mapCreated=new uo,this.mapLoaded=new uo,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new xo.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(r){this.zone.onStable.pipe((0,zn.P)()).subscribe(()=>{this.createMap(r.mapOptions),this.hookEvents(r.mapEvents),this.mapEvents=r.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),r.mapOptions.terrain&&this.mapInstance.on("load",()=>{this.updateTerrain(r.mapOptions.terrain)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateMinZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(r)})}updateMaxZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(r)})}updateMinPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(r)})}updateMaxPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(r)})}updateRenderWorldCopies(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(r)})}updateScrollZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(r)})}updateMaxBounds(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(r)})}updateTerrain(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setTerrain(r)})}getTerrain(){return this.zone.runOutsideAngular(()=>this.mapInstance.getTerrain())}changeCanvasCursor(r){this.mapInstance.getCanvasContainer().style.cursor=r}queryRenderedFeatures(r,h){return this.mapInstance.queryRenderedFeatures(r,h)}panTo(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(r,h)})}move(r,h,b,L,X,fe){return this.zone.runOutsideAngular(()=>{this.mapInstance[r]({...h,zoom:b??this.mapInstance.getZoom(),center:L??this.mapInstance.getCenter(),bearing:X??this.mapInstance.getBearing(),pitch:fe??this.mapInstance.getPitch()})})}addLayer(r,h,b){this.zone.runOutsideAngular(()=>{Object.keys(r.layerOptions).forEach(L=>{void 0===r.layerOptions[L]&&delete r.layerOptions[L]}),this.mapInstance.addLayer(r.layerOptions,b),h&&(r.layerEvents.layerClick.observers.length&&this.mapInstance.on("click",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerClick.emit(L)})}),r.layerEvents.layerDblClick.observers.length&&this.mapInstance.on("dblclick",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerDblClick.emit(L)})}),r.layerEvents.layerMouseDown.observers.length&&this.mapInstance.on("mousedown",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseDown.emit(L)})}),r.layerEvents.layerMouseUp.observers.length&&this.mapInstance.on("mouseup",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseUp.emit(L)})}),r.layerEvents.layerMouseEnter.observers.length&&this.mapInstance.on("mouseenter",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseEnter.emit(L)})}),r.layerEvents.layerMouseLeave.observers.length&&this.mapInstance.on("mouseleave",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseLeave.emit(L)})}),r.layerEvents.layerMouseMove.observers.length&&this.mapInstance.on("mousemove",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseMove.emit(L)})}),r.layerEvents.layerMouseOver.observers.length&&this.mapInstance.on("mouseover",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseOver.emit(L)})}),r.layerEvents.layerMouseOut.observers.length&&this.mapInstance.on("mouseout",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerMouseOut.emit(L)})}),r.layerEvents.layerContextMenu.observers.length&&this.mapInstance.on("contextmenu",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerContextMenu.emit(L)})}),r.layerEvents.layerTouchStart.observers.length&&this.mapInstance.on("touchstart",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerTouchStart.emit(L)})}),r.layerEvents.layerTouchEnd.observers.length&&this.mapInstance.on("touchend",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerTouchEnd.emit(L)})}),r.layerEvents.layerTouchCancel.observers.length&&this.mapInstance.on("touchcancel",r.layerOptions.id,L=>{this.zone.run(()=>{r.layerEvents.layerTouchCancel.emit(L)})}))})}removeLayer(r){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(r)&&this.mapInstance.removeLayer(r)})}addMarker(r){const h={offset:r.markersOptions.offset,anchor:r.markersOptions.anchor,draggable:!!r.markersOptions.draggable,rotationAlignment:r.markersOptions.rotationAlignment,pitchAlignment:r.markersOptions.pitchAlignment,clickTolerance:r.markersOptions.clickTolerance};r.markersOptions.element.childNodes.length>0&&(h.element=r.markersOptions.element);const b=new Vo.Marker(h);return r.markersEvents.markerDragStart.observers.length&&b.on("dragstart",X=>{if(X){const{target:fe}=X;this.zone.run(()=>{r.markersEvents.markerDragStart.emit(fe)})}}),r.markersEvents.markerDrag.observers.length&&b.on("drag",X=>{if(X){const{target:fe}=X;this.zone.run(()=>{r.markersEvents.markerDrag.emit(fe)})}}),r.markersEvents.markerDragEnd.observers.length&&b.on("dragend",X=>{if(X){const{target:fe}=X;this.zone.run(()=>{r.markersEvents.markerDragEnd.emit(fe)})}}),b.setLngLat(r.markersOptions.feature?r.markersOptions.feature.geometry.coordinates:r.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(b.addTo(this.mapInstance),b))}removeMarker(r){this.markersToRemove.push(r)}createPopup(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(r.popupOptions).forEach(L=>void 0===r.popupOptions[L]&&delete r.popupOptions[L]);const b=new Vo.Popup(r.popupOptions);return b.setDOMContent(h),r.popupEvents.popupClose.observers.length&&b.on("close",()=>{this.zone.run(()=>{r.popupEvents.popupClose.emit()})}),r.popupEvents.popupOpen.observers.length&&b.on("open",()=>{this.zone.run(()=>{r.popupEvents.popupOpen.emit()})}),b})}addPopupToMap(r,h,b=!1){return this.zone.runOutsideAngular(()=>{b&&r._listeners&&delete r._listeners.open,r.setLngLat(h),r.addTo(this.mapInstance)})}addPopupToMarker(r,h){return this.zone.runOutsideAngular(()=>{r.setPopup(h)})}removePopupFromMap(r,h=!1){h&&r._listeners&&delete r._listeners.close,this.popupsToRemove.push(r)}removePopupFromMarker(r){return this.zone.runOutsideAngular(()=>{r.setPopup(void 0)})}addControl(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(r,h)})}removeControl(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(r)})}loadAndAddImage(r,h,b){var L=this;return fr(function*(){return L.zone.runOutsideAngular(()=>new Promise((X,fe)=>{L.mapInstance.loadImage(h,(Ge,pt)=>{Ge?fe(Ge):(L.addImage(r,pt,b),X())})}))})()}addImage(r,h,b){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(r,h,b)})}removeImage(r){this.imageIdsToRemove.push(r)}addSource(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(b=>void 0===h[b]&&delete h[b]),this.mapInstance.addSource(r,h)})}getSource(r){return this.mapInstance.getSource(r)}removeSource(r){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(r).forEach(h=>this.mapInstance.removeLayer(h.id)),this.mapInstance.removeSource(r)})}setAllLayerPaintProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(b=>{this.mapInstance.setPaintProperty(r,b,h[b])})})}setAllLayerLayoutProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(b=>{this.mapInstance.setLayoutProperty(r,b,h[b])})})}setLayerFilter(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(r,h)})}setLayerBefore(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(r,h)})}setLayerZoomRange(r,h,b){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(r,h||0,b||20)})}fitBounds(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(r,h)})}fitScreenCoordinates(r,h,b){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(r[0],r[1],h,b)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(r){l.R0b.assertNotInAngularZone(),Object.keys(r).forEach(b=>{void 0===r[b]&&delete r[b]}),this.mapInstance=new Vo.Map(r),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(r.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const r of this.markersToRemove)r.remove();this.markersToRemove=[]}removePopups(){for(const r of this.popupsToRemove)r.remove();this.popupsToRemove=[]}removeImages(){for(const r of this.imageIdsToRemove)this.mapInstance.removeImage(r);this.imageIdsToRemove=[]}findLayersBySourceId(r){const h=this.mapInstance.getStyle().layers;return null==h?[]:h.filter(b=>"source"in b&&b.source===r)}hookEvents(r){this.mapInstance.on("load",h=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{r.mapLoad.emit(h.target)})}),r.mapResize.observers.length&&this.mapInstance.on("resize",h=>this.zone.run(()=>{r.mapResize.emit(h)})),r.mapRemove.observers.length&&this.mapInstance.on("remove",h=>this.zone.run(()=>{r.mapRemove.emit(h)})),r.mapMouseDown.observers.length&&this.mapInstance.on("mousedown",h=>this.zone.run(()=>{r.mapMouseDown.emit(h)})),r.mapMouseUp.observers.length&&this.mapInstance.on("mouseup",h=>this.zone.run(()=>{r.mapMouseUp.emit(h)})),r.mapMouseMove.observers.length&&this.mapInstance.on("mousemove",h=>this.zone.run(()=>{r.mapMouseMove.emit(h)})),r.mapClick.observers.length&&this.mapInstance.on("click",h=>this.zone.run(()=>{r.mapClick.emit(h)})),r.mapDblClick.observers.length&&this.mapInstance.on("dblclick",h=>this.zone.run(()=>{r.mapDblClick.emit(h)})),r.mapMouseOver.observers.length&&this.mapInstance.on("mouseover",h=>this.zone.run(()=>{r.mapMouseOver.emit(h)})),r.mapMouseOut.observers.length&&this.mapInstance.on("mouseout",h=>this.zone.run(()=>{r.mapMouseOut.emit(h)})),r.mapContextMenu.observers.length&&this.mapInstance.on("contextmenu",h=>this.zone.run(()=>{r.mapContextMenu.emit(h)})),r.mapTouchStart.observers.length&&this.mapInstance.on("touchstart",h=>this.zone.run(()=>{r.mapTouchStart.emit(h)})),r.mapTouchEnd.observers.length&&this.mapInstance.on("touchend",h=>this.zone.run(()=>{r.mapTouchEnd.emit(h)})),r.mapTouchMove.observers.length&&this.mapInstance.on("touchmove",h=>this.zone.run(()=>{r.mapTouchMove.emit(h)})),r.mapTouchCancel.observers.length&&this.mapInstance.on("touchcancel",h=>this.zone.run(()=>{r.mapTouchCancel.emit(h)})),r.mapWheel.observers.length&&this.mapInstance.on("wheel",h=>this.zone.run(()=>{r.mapWheel.emit(h)})),r.moveStart.observers.length&&this.mapInstance.on("movestart",h=>this.zone.run(()=>r.moveStart.emit(h))),r.move.observers.length&&this.mapInstance.on("move",h=>this.zone.run(()=>r.move.emit(h))),r.moveEnd.observers.length&&this.mapInstance.on("moveend",h=>this.zone.run(()=>r.moveEnd.emit(h))),r.mapDragStart.observers.length&&this.mapInstance.on("dragstart",h=>this.zone.run(()=>{r.mapDragStart.emit(h)})),r.mapDrag.observers.length&&this.mapInstance.on("drag",h=>this.zone.run(()=>{r.mapDrag.emit(h)})),r.mapDragEnd.observers.length&&this.mapInstance.on("dragend",h=>this.zone.run(()=>{r.mapDragEnd.emit(h)})),r.zoomStart.observers.length&&this.mapInstance.on("zoomstart",h=>this.zone.run(()=>r.zoomStart.emit(h))),r.zoomEvt.observers.length&&this.mapInstance.on("zoom",h=>this.zone.run(()=>r.zoomEvt.emit(h))),r.zoomEnd.observers.length&&this.mapInstance.on("zoomend",h=>this.zone.run(()=>r.zoomEnd.emit(h))),r.rotateStart.observers.length&&this.mapInstance.on("rotatestart",h=>this.zone.run(()=>r.rotateStart.emit(h))),r.rotate.observers.length&&this.mapInstance.on("rotate",h=>this.zone.run(()=>r.rotate.emit(h))),r.rotateEnd.observers.length&&this.mapInstance.on("rotateend",h=>this.zone.run(()=>r.rotateEnd.emit(h))),r.pitchStart.observers.length&&this.mapInstance.on("pitchstart",h=>this.zone.run(()=>r.pitchStart.emit(h))),r.pitchEvt.observers.length&&this.mapInstance.on("pitch",h=>this.zone.run(()=>r.pitchEvt.emit(h))),r.pitchEnd.observers.length&&this.mapInstance.on("pitchend",h=>this.zone.run(()=>r.pitchEnd.emit(h))),r.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",h=>this.zone.run(()=>r.boxZoomStart.emit(h))),r.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",h=>this.zone.run(()=>r.boxZoomEnd.emit(h))),r.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",h=>this.zone.run(()=>r.boxZoomCancel.emit(h))),r.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",h=>this.zone.run(()=>r.webGlContextLost.emit(h))),r.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",h=>this.zone.run(()=>r.webGlContextRestored.emit(h))),r.render.observers.length&&this.mapInstance.on("render",h=>this.zone.run(()=>r.render.emit(h))),r.mapError.observers.length&&this.mapInstance.on("error",h=>this.zone.run(()=>{r.mapError.emit(h)})),r.data.observers.length&&this.mapInstance.on("data",h=>this.zone.run(()=>r.data.emit(h))),r.styleData.observers.length&&this.mapInstance.on("styledata",h=>this.zone.run(()=>r.styleData.emit(h))),r.sourceData.observers.length&&this.mapInstance.on("sourcedata",h=>this.zone.run(()=>r.sourceData.emit(h))),r.dataLoading.observers.length&&this.mapInstance.on("dataloading",h=>this.zone.run(()=>r.dataLoading.emit(h))),r.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",h=>this.zone.run(()=>r.styleDataLoading.emit(h))),r.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",h=>this.zone.run(()=>r.sourceDataLoading.emit(h))),r.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",h=>this.zone.run(()=>r.styleImageMissing.emit(h))),r.idle.observers.length&&this.mapInstance.on("idle",h=>this.zone.run(()=>r.idle.emit(h)))}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac})}return c})();const Uo=["content"],ll=["*"];class wa{constructor(v){this.container=v}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}}let Ir=(()=>{class c{constructor(r){this.mapService=r}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new wa(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position)}))}ngOnDestroy(){this.mapService.mapInstance.hasControl(this.control)&&this.mapService.removeControl(this.control)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-control"]],viewQuery:function(h,b){if(1&h&&l.Gf(Uo,7),2&h){let L;l.iGM(L=l.CRH())&&(b.content=L.first)}},inputs:{position:"position"},ngContentSelectors:ll,decls:3,vars:0,consts:[[1,"maplibregl-ctrl"],["content",""]],template:function(h,b){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0})}return c})();var Jr=H(2438),Ar=H(2181),Ya=H(9397),ks=H(4664),zr=H(9773),cl=H(8180),Ca=H(3620);let ho=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.type="geojson",this.updateFeatureData=new ur.x,this.sub=new xo.w0,this.sourceAdded=!1,this.featureIdCounter=0}ngOnInit(){this.data||(this.data={type:"FeatureCollection",features:[]});const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Jr.R)(this.mapService.mapInstance,"styledata").pipe((0,Ar.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded&&((r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.buffer&&!r.buffer.isFirstChange()||r.tolerance&&!r.tolerance.isFirstChange()||r.cluster&&!r.cluster.isFirstChange()||r.clusterRadius&&!r.clusterRadius.isFirstChange()||r.clusterMaxZoom&&!r.clusterMaxZoom.isFirstChange()||r.clusterMinPoints&&!r.clusterMinPoints.isFirstChange()||r.clusterProperties&&!r.clusterProperties.isFirstChange()||r.lineMetrics&&!r.lineMetrics.isFirstChange()||r.generateId&&!r.generateId.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange()||r.filter&&!r.filter.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit()),r.data&&!r.data.isFirstChange())){const h=this.mapService.getSource(this.id);if(void 0===h)return;h.setData(this.data)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}getClusterExpansionZoom(r){var h=this;return fr(function*(){const b=h.mapService.getSource(h.id);return h.zone.run(fr(function*(){return new Promise((L,X)=>{b.getClusterExpansionZoom(r,(fe,Ge)=>{fe?X(fe):L(Ge)})})}))})()}getClusterChildren(r){var h=this;return fr(function*(){const b=h.mapService.getSource(h.id);return h.zone.run(fr(function*(){return new Promise((L,X)=>{b.getClusterChildren(r,(fe,Ge)=>{fe?X(fe):L(Ge)})})}))})()}getClusterLeaves(r,h,b){var L=this;return fr(function*(){const X=L.mapService.getSource(L.id);return L.zone.run(fr(function*(){return new Promise((fe,Ge)=>{X.getClusterLeaves(r,h,b,(pt,jt)=>{pt?Ge(pt):fe(jt)})})}))})()}_addFeature(r){this.data.features.push(r),this.updateFeatureData.next(void 0)}_removeFeature(r){const h=this.data,b=h.features.indexOf(r);b>-1&&h.features.splice(b,1),this.updateFeatureData.next(void 0)}_getNewFeatureId(){return++this.featureIdCounter}init(){this.mapService.addSource(this.id,{type:"geojson",data:this.data,maxzoom:this.maxzoom,attribution:this.attribution,buffer:this.buffer,tolerance:this.tolerance,cluster:this.cluster,clusterRadius:this.clusterRadius,clusterMaxZoom:this.clusterMaxZoom,clusterMinPoints:this.clusterMinPoints,clusterProperties:this.clusterProperties,lineMetrics:this.lineMetrics,generateId:this.generateId,promoteId:this.promoteId,filter:this.filter});const h=this.updateFeatureData.pipe((0,Ca.b)(0)).subscribe(()=>{const b=this.mapService.getSource(this.id);void 0!==b&&b.setData(this.data)});this.sub.add(h),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-geojson-source"]],inputs:{id:"id",data:"data",maxzoom:"maxzoom",attribution:"attribution",buffer:"buffer",tolerance:"tolerance",cluster:"cluster",clusterRadius:"clusterRadius",clusterMaxZoom:"clusterMaxZoom",clusterMinPoints:"clusterMinPoints",clusterProperties:"clusterProperties",lineMetrics:"lineMetrics",generateId:"generateId",promoteId:"promoteId",filter:"filter"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2,changeDetection:0})}return c})(),mo=(()=>{class c{constructor(r){this.geoJSONSourceComponent=r,this.type="Feature"}ngOnInit(){this.id||(this.id=this.geoJSONSourceComponent._getNewFeatureId()),this.feature={type:this.type,geometry:this.geometry,properties:this.properties?this.properties:{}},this.feature.id=this.id,this.geoJSONSourceComponent._addFeature(this.feature)}ngOnDestroy(){this.geoJSONSourceComponent._removeFeature(this.feature)}updateCoordinates(r){this.feature.geometry.coordinates=r,this.geoJSONSourceComponent.updateFeatureData.next(void 0)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36((0,l.Gpc)(()=>ho)))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-feature"]],inputs:{id:"id",geometry:"geometry",properties:"properties"},decls:0,vars:0,template:function(h,b){},encapsulation:2,changeDetection:0})}return c})(),us=(()=>{class c{constructor(r,h,b){this.mapService=r,this.ngZone=h,this.featureComponent=b,this.featureDragStart=new l.vpe,this.featureDragEnd=new l.vpe,this.featureDrag=new l.vpe,this.sub=new xo.w0}ngOnInit(){let r,h,b;if(!this.featureComponent||!this.layer)throw new Error("mglDraggable can only be used on Feature (with a layer as input) or Marker");if(r=this.layer.layerMouseEnter,h=this.layer.layerMouseLeave,b=this.featureComponent.updateCoordinates.bind(this.featureComponent),"Point"!==this.featureComponent.geometry.type)throw new Error("mglDraggable only support point feature");this.handleDraggable(r,h,b)}ngOnDestroy(){this.sub.unsubscribe()}handleDraggable(r,h,b){let L=!1,X=!1;this.mapService.mapCreated$.subscribe(()=>{const fe=(0,Jr.R)(this.mapService.mapInstance,"mouseup"),Ge=r.pipe((0,Ar.h)(()=>!L),(0,Ar.h)(Wt=>this.filterFeature(Wt)),(0,Ya.b)(()=>{X=!0,this.mapService.changeCanvasCursor("move"),this.mapService.updateDragPan(!1)}),(0,ks.w)(()=>(0,Jr.R)(this.mapService.mapInstance,"mousedown").pipe((0,zr.R)(h)))),pt=Ge.pipe((0,ks.w)(()=>(0,Jr.R)(this.mapService.mapInstance,"mousemove").pipe((0,zr.R)(fe)))),jt=Ge.pipe((0,ks.w)(()=>fe.pipe((0,cl.q)(1))));this.sub.add(Ge.subscribe(Wt=>{L=!0,this.featureDragStart.observers.length&&this.ngZone.run(()=>{this.featureDragStart.emit(Wt)})})),this.sub.add(pt.subscribe(Wt=>{b([Wt.lngLat.lng,Wt.lngLat.lat]),this.featureDrag.observers.length&&this.ngZone.run(()=>{this.featureDrag.emit(Wt)})})),this.sub.add(jt.subscribe(Wt=>{L=!1,this.featureDragEnd.observers.length&&this.ngZone.run(()=>{this.featureDragEnd.emit(Wt)}),X||(this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0))})),this.sub.add(h.pipe((0,Ya.b)(()=>X=!1),(0,Ar.h)(()=>!L)).subscribe(()=>{this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0)}))})}filterFeature(r){return!(this.featureComponent&&this.layer&&!this.mapService.queryRenderedFeatures(r.point,{layers:[this.layer.id],filter:["all",["==","$type","Point"],["==","$id",this.featureComponent.id]]})[0])}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(l.R0b),l.Y36(mo,9))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglDraggable",""]],inputs:{layer:["mglDraggable","layer"]},outputs:{featureDragStart:"featureDragStart",featureDragEnd:"featureDragEnd",featureDrag:"featureDrag"}})}return c})();var Ea=H(7398),dl=H(7921);let po=(()=>{class c{constructor(r){this.mapService=r,this.layerClick=new l.vpe,this.layerDblClick=new l.vpe,this.layerMouseDown=new l.vpe,this.layerMouseUp=new l.vpe,this.layerMouseEnter=new l.vpe,this.layerMouseLeave=new l.vpe,this.layerMouseMove=new l.vpe,this.layerMouseOver=new l.vpe,this.layerMouseOut=new l.vpe,this.layerContextMenu=new l.vpe,this.layerTouchStart=new l.vpe,this.layerTouchEnd=new l.vpe,this.layerTouchCancel=new l.vpe,this.layerAdded=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,ks.w)(()=>(0,Jr.R)(this.mapService.mapInstance,"styledata").pipe((0,Ea.U)(()=>!1),(0,Ar.h)(()=>!this.mapService.mapInstance.getLayer(this.id)),(0,dl.O)(!0)))).subscribe(r=>this.init(r))}ngOnChanges(r){this.layerAdded&&(r.paint&&!r.paint.isFirstChange()&&this.mapService.setAllLayerPaintProperty(this.id,r.paint.currentValue),r.layout&&!r.layout.isFirstChange()&&this.mapService.setAllLayerLayoutProperty(this.id,r.layout.currentValue),r.filter&&!r.filter.isFirstChange()&&this.mapService.setLayerFilter(this.id,r.filter.currentValue),r.before&&!r.before.isFirstChange()&&this.mapService.setLayerBefore(this.id,r.before.currentValue),(r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange())&&this.mapService.setLayerZoomRange(this.id,this.minzoom,this.maxzoom))}ngOnDestroy(){this.layerAdded&&(this.mapService.removeLayer(this.id),void 0!==this.sourceIdAdded&&this.mapService.getSource(this.sourceIdAdded)&&this.mapService.removeSource(this.sourceIdAdded)),this.sub&&this.sub.unsubscribe()}init(r){const h={layerOptions:{id:this.id,type:this.type,source:this.source,metadata:this.metadata,"source-layer":this.sourceLayer,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this.layout,paint:this.paint},layerEvents:{layerClick:this.layerClick,layerDblClick:this.layerDblClick,layerMouseDown:this.layerMouseDown,layerMouseUp:this.layerMouseUp,layerMouseEnter:this.layerMouseEnter,layerMouseLeave:this.layerMouseLeave,layerMouseMove:this.layerMouseMove,layerMouseOver:this.layerMouseOver,layerMouseOut:this.layerMouseOut,layerContextMenu:this.layerContextMenu,layerTouchStart:this.layerTouchStart,layerTouchEnd:this.layerTouchEnd,layerTouchCancel:this.layerTouchCancel}};this.removeSource&&"string"!=typeof this.source&&void 0===this.mapService.getSource(this.id)&&(this.sourceIdAdded=this.id),this.mapService.addLayer(h,r,this.before),void 0!==this.sourceIdAdded&&void 0===this.mapService.getSource(this.sourceIdAdded)&&(this.sourceIdAdded=void 0),this.layerAdded=!0}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-layer"]],inputs:{id:"id",source:"source",type:"type",metadata:"metadata",sourceLayer:"sourceLayer",removeSource:"removeSource",filter:"filter",layout:"layout",paint:"paint",before:"before",minzoom:"minzoom",maxzoom:"maxzoom"},outputs:{layerClick:"layerClick",layerDblClick:"layerDblClick",layerMouseDown:"layerMouseDown",layerMouseUp:"layerMouseUp",layerMouseEnter:"layerMouseEnter",layerMouseLeave:"layerMouseLeave",layerMouseMove:"layerMouseMove",layerMouseOver:"layerMouseOver",layerMouseOut:"layerMouseOut",layerContextMenu:"layerContextMenu",layerTouchStart:"layerTouchStart",layerTouchEnd:"layerTouchEnd",layerTouchCancel:"layerTouchCancel"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2})}return c})(),kl=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.imageError=new l.vpe,this.imageLoaded=new l.vpe,this.isAdded=!1,this.isAdding=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,ks.w)(()=>(0,Jr.R)(this.mapService.mapInstance,"styledata").pipe((0,dl.O)(void 0),(0,Ar.h)(()=>!this.isAdding&&!this.mapService.mapInstance.hasImage(this.id))))).subscribe(()=>this.init())}ngOnChanges(r){(r.data&&!r.data.isFirstChange()||r.options&&!r.options.isFirstChange()||r.url&&!r.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.isAdded&&this.mapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}init(){var r=this;return fr(function*(){if(r.isAdding=!0,r.data)r.mapService.addImage(r.id,r.data,r.options),r.isAdded=!0,r.isAdding=!1;else if(r.url)try{yield r.mapService.loadAndAddImage(r.id,r.url,r.options),r.isAdded=!0,r.isAdding=!1,r.zone.run(()=>{r.imageLoaded.emit()})}catch(h){r.zone.run(()=>{r.imageError.emit(h)})}})()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2})}return c})(),Pl=(()=>{class c{constructor(r){this.mapService=r,this.type="vector",this.sourceAdded=!1,this.sub=new xo.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Jr.R)(this.mapService.mapInstance,"styledata").pipe((0,Ar.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded)if(r.bounds&&!r.bounds.isFirstChange()||r.scheme&&!r.scheme.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange())this.ngOnDestroy(),this.ngOnInit();else if(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()){const h=this.mapService.getSource(this.id);if(void 0===h)return;r.url&&this.url&&h.setUrl(this.url),r.tiles&&this.tiles&&h.setTiles(this.tiles)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,scheme:this.scheme,minzoom:this.minzoom,maxzoom:this.maxzoom,attribution:this.attribution,promoteId:this.promoteId}),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-vector-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",scheme:"scheme",minzoom:"minzoom",maxzoom:"maxzoom",attribution:"attribution",promoteId:"promoteId"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2,changeDetection:0})}return c})(),Ps=(()=>{class c{constructor(r){this.mapService=r,this.type="image"}ngOnInit(){this.sub=this.mapService.mapLoaded$.subscribe(()=>this.init())}ngOnChanges(r){if(void 0===this.sourceId)return;const h=this.mapService.getSource(this.sourceId);void 0!==h&&h.updateImage({url:void 0===r.url?void 0:this.url,coordinates:void 0===r.coordinates?void 0:this.coordinates})}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe(),void 0!==this.sourceId&&(this.mapService.removeSource(this.sourceId),this.sourceId=void 0)}init(){this.mapService.addSource(this.id,{type:"image",url:this.url,coordinates:this.coordinates}),this.sourceId=this.id}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image-source"]],inputs:{id:"id",url:"url",coordinates:"coordinates"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2,changeDetection:0})}return c})(),Os=(()=>{class c{constructor(r){this.mapService=r,this.type="raster-dem",this.sourceAdded=!1,this.sub=new xo.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Jr.R)(this.mapService.mapInstance,"styledata").pipe((0,Ar.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){this.sourceAdded&&(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()||r.bounds&&!r.bounds.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.tileSize&&!r.tileSize.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.encoding&&!r.encoding.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,minzoom:this.minzoom,maxzoom:this.maxzoom,tileSize:this.tileSize,attribution:this.attribution,encoding:this.encoding}),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-raster-dem-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",minzoom:"minzoom",maxzoom:"maxzoom",tileSize:"tileSize",attribution:"attribution",encoding:"encoding"},features:[l.TTD],decls:0,vars:0,template:function(h,b){},encapsulation:2,changeDetection:0})}return c})();const Rs=["content"],Ql=["*"];let Fs=(()=>{class c{constructor(r){this.mapService=r,this.markerDragStart=new l.vpe,this.markerDragEnd=new l.vpe,this.markerDrag=new l.vpe}ngOnInit(){if(this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(r){r.lngLat&&!r.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),r.feature&&!r.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),r.draggable&&!r.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),r.popupShown&&!r.popupShown.isFirstChange()&&(r.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),r.pitchAlignment&&!r.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(r.pitchAlignment.currentValue),r.rotationAlignment&&!r.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(r.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(r){this.markerInstance.setLngLat(r)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-marker"]],viewQuery:function(h,b){if(1&h&&l.Gf(Rs,7),2&h){let L;l.iGM(L=l.CRH())&&(b.content=L.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag"},features:[l.TTD],ngContentSelectors:Ql,decls:3,vars:2,consts:[["content",""]],template:function(h,b){1&h&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA()),2&h&&l.Tol(b.className)},encapsulation:2,changeDetection:0})}return c})();const ec=["content"],B=["*"];let he=(()=>{class c{constructor(r){this.mapService=r,this.popupClose=new l.vpe,this.popupOpen=new l.vpe}ngOnInit(){if(this.lngLat&&this.marker||this.feature&&this.lngLat||this.feature&&this.marker)throw new Error("marker, lngLat, feature input are mutually exclusive")}ngOnChanges(r){if(r.feature&&!r.feature.isFirstChange()){const h=r.lngLat?this.lngLat:this.feature.geometry.coordinates;this.mapService.removePopupFromMap(this.popupInstance,!0);const b=this.createPopup();this.mapService.addPopupToMap(b,h,this.popupInstance.isOpen()),this.popupInstance=b}if(r.lngLat&&!r.lngLat.isFirstChange()&&this.popupInstance.setLngLat(this.lngLat),r.marker&&!r.marker.isFirstChange()){const h=r.marker.previousValue;h.markerInstance&&this.mapService.removePopupFromMarker(h.markerInstance),this.marker&&this.marker.markerInstance&&this.popupInstance&&this.mapService.addPopupToMarker(this.marker.markerInstance,this.popupInstance)}r.offset&&!r.offset.isFirstChange()&&this.popupInstance&&this.popupInstance.setOffset(this.offset)}ngAfterViewInit(){this.popupInstance=this.createPopup(),this.addPopup(this.popupInstance)}ngOnDestroy(){this.popupInstance&&(this.lngLat||this.feature?this.mapService.removePopupFromMap(this.popupInstance):this.marker&&this.marker.markerInstance&&this.mapService.removePopupFromMarker(this.marker.markerInstance)),this.popupInstance=void 0}createPopup(){return this.mapService.createPopup({popupOptions:{closeButton:this.closeButton,closeOnClick:this.closeOnClick,closeOnMove:this.closeOnMove,focusAfterOpen:this.focusAfterOpen,anchor:this.anchor,offset:this.offset,className:this.className,maxWidth:this.maxWidth},popupEvents:{popupOpen:this.popupOpen,popupClose:this.popupClose}},this.content.nativeElement)}addPopup(r){this.mapService.mapCreated$.subscribe(()=>{if(this.lngLat||this.feature)this.mapService.addPopupToMap(r,this.lngLat?this.lngLat:this.feature.geometry.coordinates);else{if(!this.marker||!this.marker.markerInstance)throw new Error("mgl-popup need either lngLat/marker/feature to be set");this.mapService.addPopupToMarker(this.marker.markerInstance,r)}})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-popup"]],viewQuery:function(h,b){if(1&h&&l.Gf(ec,7),2&h){let L;l.iGM(L=l.CRH())&&(b.content=L.first)}},inputs:{closeButton:"closeButton",closeOnClick:"closeOnClick",closeOnMove:"closeOnMove",focusAfterOpen:"focusAfterOpen",anchor:"anchor",className:"className",maxWidth:"maxWidth",feature:"feature",lngLat:"lngLat",marker:"marker",offset:"offset"},outputs:{popupClose:"popupClose",popupOpen:"popupOpen"},features:[l.TTD],ngContentSelectors:B,decls:3,vars:0,consts:[["content",""]],template:function(h,b){1&h&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0})}return c})(),Y=(()=>{class c{onFullscreen(){this.mapService.mapInstance.resize()}constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Vo.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglFullscreen",""]],hostBindings:function(h,b){1&h&&l.NdJ("webkitfullscreenchange",function(X){return b.onFullscreen(X.target)},!1,l.Jf7)},inputs:{container:"container"}})}return c})(),oe=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h,this.geolocate=new l.vpe}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation};Object.keys(r).forEach(h=>{void 0===r[h]&&delete r[h]}),this.controlComponent.control=new Vo.GeolocateControl(r),this.controlComponent.control.on("geolocate",h=>{this.geolocate.emit(h)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation"},outputs:{geolocate:"geolocate"}})}return c})(),Me=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.showCompass&&(r.showCompass=this.showCompass),void 0!==this.showZoom&&(r.showZoom=this.showZoom),null!=this.visualizePitch&&(r.visualizePitch=this.visualizePitch),this.controlComponent.control=new Vo.NavigationControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom",visualizePitch:"visualizePitch"}})}return c})(),Lt=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.compact&&(r.compact=this.compact),void 0!==this.customAttribution&&(r.customAttribution=this.customAttribution),this.controlComponent.control=new Vo.AttributionControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}})}return c})(),Zt=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngOnChanges(r){r.unit&&!r.unit.isFirstChange()&&this.controlComponent.control.setUnit(r.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.maxWidth&&(r.maxWidth=this.maxWidth),void 0!==this.unit&&(r.unit=this.unit),this.controlComponent.control=new Vo.ScaleControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[l.TTD]})}return c})();var ji=H(3019);function lr(c,v){1&c&&l.GkF(0)}const li=function(c){return{$implicit:c}};function Bn(c,v){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,lr,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.clusterPointTpl)("ngTemplateOutletContext",l.VKq(3,li,r))}}function In(c,v){1&c&&l.GkF(0)}function $r(c,v){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,In,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.pointTpl)("ngTemplateOutletContext",l.VKq(3,li,r))}}function tr(c,v){if(1&c&&(l.ynx(0),l.YNc(1,Bn,3,5,"ng-container",2),l.YNc(2,$r,3,5,"ng-container",2),l.BQk()),2&c){const r=v.$implicit;l.xp6(1),l.Q6J("ngIf",r.properties.cluster),l.xp6(1),l.Q6J("ngIf",!r.properties.cluster)}}const qr=function(){return{"circle-radius":0}};let Es=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglPoint",""]]})}return c})(),jo=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglClusterPoint",""]]})}return c})(),da=0,Jo=(()=>{class c{constructor(r,h,b){this.mapService=r,this.changeDetectorRef=h,this.ngZone=b,this.layerId="mgl-markers-for-clusters-"+da++,this.sub=new xo.w0}ngAfterContentInit(){const h=this.mapService.mapCreated$.pipe((0,ks.w)(()=>(0,Jr.R)(this.mapService.mapInstance,"data").pipe((0,Ar.h)(b=>b.sourceId===this.source&&"metadata"!==b.sourceDataType&&this.mapService.mapInstance.isSourceLoaded(this.source)))),(0,ks.w)(()=>(0,ji.T)((0,Jr.R)(this.mapService.mapInstance,"move"),(0,Jr.R)(this.mapService.mapInstance,"moveend")).pipe((0,dl.O)(void 0)))).subscribe(()=>{this.ngZone.run(()=>{this.updateCluster()})});this.sub.add(h)}ngOnDestroy(){this.sub.unsubscribe()}trackByClusterPoint(r,h){return h.id}updateCluster(){const r={layers:[this.layerId]};this.pointTpl||(r.filter=["==","cluster",!0]),this.clusterPoints=this.mapService.mapInstance.queryRenderedFeatures(r),this.changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(l.sBO),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-markers-for-clusters"]],contentQueries:function(h,b,L){if(1&h&&(l.Suo(L,Es,5,l.Rgc),l.Suo(L,jo,5,l.Rgc)),2&h){let X;l.iGM(X=l.CRH())&&(b.pointTpl=X.first),l.iGM(X=l.CRH())&&(b.clusterPointTpl=X.first)}},inputs:{source:"source"},decls:2,vars:6,consts:[["type","circle",3,"id","source","paint"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,b){1&h&&(l._UZ(0,"mgl-layer",0),l.YNc(1,tr,3,2,"ng-container",1)),2&h&&(l.Q6J("id",b.layerId)("source",b.source)("paint",l.DdM(5,qr)),l.xp6(1),l.Q6J("ngForOf",b.clusterPoints)("ngForTrackBy",b.trackByClusterPoint))},dependencies:[cn.sg,cn.O5,cn.tP,po,Fs],encapsulation:2,changeDetection:0})}return c})(),fo=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Vo.TerrainControl({source:this.source,exaggeration:this.exaggeration??1}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar),l.Y36(Ir,1))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mglTerrain",""]],inputs:{source:"source",exaggeration:"exaggeration"}})}return c})();const Ws=["container"];let dn=(()=>{class c{get mapInstance(){return this.mapService.mapInstance}constructor(r){this.mapService=r,this.movingMethod="flyTo",this.mapResize=new l.vpe,this.mapRemove=new l.vpe,this.mapMouseDown=new l.vpe,this.mapMouseUp=new l.vpe,this.mapMouseMove=new l.vpe,this.mapClick=new l.vpe,this.mapDblClick=new l.vpe,this.mapMouseOver=new l.vpe,this.mapMouseOut=new l.vpe,this.mapContextMenu=new l.vpe,this.mapTouchStart=new l.vpe,this.mapTouchEnd=new l.vpe,this.mapTouchMove=new l.vpe,this.mapTouchCancel=new l.vpe,this.mapWheel=new l.vpe,this.moveStart=new l.vpe,this.move=new l.vpe,this.moveEnd=new l.vpe,this.mapDragStart=new l.vpe,this.mapDrag=new l.vpe,this.mapDragEnd=new l.vpe,this.zoomStart=new l.vpe,this.zoomEvt=new l.vpe,this.zoomEnd=new l.vpe,this.rotateStart=new l.vpe,this.rotate=new l.vpe,this.rotateEnd=new l.vpe,this.pitchStart=new l.vpe,this.pitchEvt=new l.vpe,this.pitchEnd=new l.vpe,this.boxZoomStart=new l.vpe,this.boxZoomEnd=new l.vpe,this.boxZoomCancel=new l.vpe,this.webGlContextLost=new l.vpe,this.webGlContextRestored=new l.vpe,this.mapLoad=new l.vpe,this.idle=new l.vpe,this.render=new l.vpe,this.mapError=new l.vpe,this.data=new l.vpe,this.styleData=new l.vpe,this.sourceData=new l.vpe,this.dataLoading=new l.vpe,this.styleDataLoading=new l.vpe,this.sourceDataLoading=new l.vpe,this.styleImageMissing=new l.vpe}ngAfterViewInit(){this.mapService.setup({mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,terrain:this.terrain},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(r){var h=this;return fr(function*(){yield h.mapService.mapCreated$.toPromise(),r.cursorStyle&&!r.cursorStyle.isFirstChange()&&h.mapService.changeCanvasCursor(r.cursorStyle.currentValue),r.minZoom&&!r.minZoom.isFirstChange()&&h.mapService.updateMinZoom(r.minZoom.currentValue),r.maxZoom&&!r.maxZoom.isFirstChange()&&h.mapService.updateMaxZoom(r.maxZoom.currentValue),r.minPitch&&!r.minPitch.isFirstChange()&&h.mapService.updateMinPitch(r.minPitch.currentValue),r.maxPitch&&!r.maxPitch.isFirstChange()&&h.mapService.updateMaxPitch(r.maxPitch.currentValue),r.renderWorldCopies&&!r.renderWorldCopies.isFirstChange()&&h.mapService.updateRenderWorldCopies(r.renderWorldCopies.currentValue),r.scrollZoom&&!r.scrollZoom.isFirstChange()&&h.mapService.updateScrollZoom(r.scrollZoom.currentValue),r.dragRotate&&!r.dragRotate.isFirstChange()&&h.mapService.updateDragRotate(r.dragRotate.currentValue),r.touchPitch&&!r.touchPitch.isFirstChange()&&h.mapService.updateTouchPitch(r.touchPitch.currentValue),r.touchZoomRotate&&!r.touchZoomRotate.isFirstChange()&&h.mapService.updateTouchZoomRotate(r.touchZoomRotate.currentValue),r.doubleClickZoom&&!r.doubleClickZoom.isFirstChange()&&h.mapService.updateDoubleClickZoom(r.doubleClickZoom.currentValue),r.keyboard&&!r.keyboard.isFirstChange()&&h.mapService.updateKeyboard(r.keyboard.currentValue),r.dragPan&&!r.dragPan.isFirstChange()&&h.mapService.updateDragPan(r.dragPan.currentValue),r.boxZoom&&!r.boxZoom.isFirstChange()&&h.mapService.updateBoxZoom(r.boxZoom.currentValue),r.style&&!r.style.isFirstChange()&&h.mapService.updateStyle(r.style.currentValue),r.maxBounds&&!r.maxBounds.isFirstChange()&&h.mapService.updateMaxBounds(r.maxBounds.currentValue),r.fitBounds&&r.fitBounds.currentValue&&!r.fitBounds.isFirstChange()&&h.mapService.fitBounds(r.fitBounds.currentValue,h.fitBoundsOptions),r.fitScreenCoordinates&&r.fitScreenCoordinates.currentValue&&((h.center||h.zoom||h.pitch||h.fitBounds)&&r.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),h.mapService.fitScreenCoordinates(r.fitScreenCoordinates.currentValue,h.bearing?h.bearing[0]:0,h.movingOptions)),!h.centerWithPanTo||!r.center||r.center.isFirstChange()||r.zoom||r.bearing||r.pitch?(r.center&&!r.center.isFirstChange()||r.zoom&&!r.zoom.isFirstChange()||r.bearing&&!r.bearing.isFirstChange()&&!r.fitScreenCoordinates||r.pitch&&!r.pitch.isFirstChange())&&h.mapService.move(h.movingMethod,h.movingOptions,r.zoom&&h.zoom?h.zoom[0]:void 0,r.center?h.center:void 0,r.bearing&&h.bearing?h.bearing[0]:void 0,r.pitch&&h.pitch?h.pitch[0]:void 0):h.mapService.panTo(h.center,h.panToOptions),r.terrain&&!r.terrain.isFirstChange()&&h.mapService.updateTerrain(r.terrain.currentValue)})()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(ar))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-map"]],viewQuery:function(h,b){if(1&h&&l.Gf(Ws,7),2&h){let L;l.iGM(L=l.CRH())&&(b.mapContainer=L.first)}},inputs:{collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",terrain:"terrain",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing"},features:[l._Bn([ar]),l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(h,b){1&h&&l._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0})}return c})();var un=H(877);const ul="object"==typeof global&&global&&global.Object===Object&&global;var Qr="object"==typeof self&&self&&self.Object===Object&&self;const Ns=ul||Qr||Function("return this")(),ir=Ns.Symbol;var Rr=Object.prototype,Ec=Rr.hasOwnProperty,tc=Rr.toString,Ds=ir?ir.toStringTag:void 0;var ua=Object.prototype.toString;var Mc=ir?ir.toStringTag:void 0;const go=function qs(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":Mc&&Mc in Object(c)?function Dd(c){var v=Ec.call(c,Ds),r=c[Ds];try{c[Ds]=void 0;var h=!0}catch{}var b=tc.call(c);return h&&(v?c[Ds]=r:delete c[Ds]),b}(c):function Dc(c){return ua.call(c)}(c)},Qo=function Sc(c){var v=typeof c;return null!=c&&("object"==v||"function"==v)},hl=function ou(c){if(!Qo(c))return!1;var v=go(c);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v};var c,ti=Ns["__core-js_shared__"],nc=(c=/[^.]+$/.exec(ti&&ti.keys&&ti.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var $n=Function.prototype.toString;const i=function C(c){if(null!=c){try{return $n.call(c)}catch{}try{return c+""}catch{}}return""};var f=/^\[object .+?Constructor\]$/,V=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Q=function W(c){return!(!Qo(c)||function rc(c){return!!nc&&nc in c}(c))&&(hl(c)?V:f).test(i(c))},k=function T(c,v){var r=function E(c,v){return c?.[v]}(c,v);return Q(r)?r:void 0};var z=function(){try{var c=k(Object,"defineProperty");return c({},"",{}),c}catch{}}();const j=z,Se=function re(c,v,r){"__proto__"==v&&j?j(c,v,{configurable:!0,enumerable:!0,value:r,writable:!0}):c[v]=r},je=function ue(c,v,r,h){for(var b=-1,L=null==c?0:c.length;++b<L;){var X=c[b];v(h,X,r(X),c)}return h};var Rt=function mt(c){return function(v,r,h){for(var b=-1,L=Object(v),X=h(v),fe=X.length;fe--;){var Ge=X[c?fe:++b];if(!1===r(L[Ge],Ge,L))break}return v}}();const ii=Rt,hn=function Bi(c){return null!=c&&"object"==typeof c},Di=function rn(c){return hn(c)&&"[object Arguments]"==go(c)};var Lr=Object.prototype,Cn=Lr.hasOwnProperty,En=Lr.propertyIsEnumerable,Vn=Di(function(){return arguments}())?Di:function(c){return hn(c)&&Cn.call(c,"callee")&&!En.call(c,"callee")};const to=Vn,Gr=Array.isArray;var ms="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ys=ms&&"object"==typeof module&&module&&!module.nodeType&&module,Ba=Ys&&Ys.exports===ms?Ns.Buffer:void 0;const Xa=(Ba?Ba.isBuffer:void 0)||function Dr(){return!1};var wo=/^(?:0|[1-9]\d*)$/;const Yc=function Ms(c,v){var r=typeof c;return!!(v=v??9007199254740991)&&("number"==r||"symbol"!=r&&wo.test(c))&&c>-1&&c%1==0&&c<v},zs=function ko(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991};var Zr={};Zr["[object Float32Array]"]=Zr["[object Float64Array]"]=Zr["[object Int8Array]"]=Zr["[object Int16Array]"]=Zr["[object Int32Array]"]=Zr["[object Uint8Array]"]=Zr["[object Uint8ClampedArray]"]=Zr["[object Uint16Array]"]=Zr["[object Uint32Array]"]=!0,Zr["[object Arguments]"]=Zr["[object Array]"]=Zr["[object ArrayBuffer]"]=Zr["[object Boolean]"]=Zr["[object DataView]"]=Zr["[object Date]"]=Zr["[object Error]"]=Zr["[object Function]"]=Zr["[object Map]"]=Zr["[object Number]"]=Zr["[object Object]"]=Zr["[object RegExp]"]=Zr["[object Set]"]=Zr["[object String]"]=Zr["[object WeakMap]"]=!1;const cu=function Qc(c){return function(v){return c(v)}};var Xh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rc=Xh&&"object"==typeof module&&module&&!module.nodeType&&module,Lu=Rc&&Rc.exports===Xh&&ul.process;const Td=function(){try{return Rc&&Rc.require&&Rc.require("util").types||Lu&&Lu.binding&&Lu.binding("util")}catch{}}();var ed=Td&&Td.isTypedArray;const du=ed?cu(ed):function Wf(c){return hn(c)&&zs(c.length)&&!!Zr[go(c)]};var Nu=Object.prototype.hasOwnProperty;const Po=function Ad(c,v){var r=Gr(c),h=!r&&to(c),b=!r&&!h&&Xa(c),L=!r&&!h&&!b&&du(c),X=r||h||b||L,fe=X?function qt(c,v){for(var r=-1,h=Array(c);++r<c;)h[r]=v(r);return h}(c.length,String):[],Ge=fe.length;for(var pt in c)(v||Nu.call(c,pt))&&(!X||!("length"==pt||b&&("offset"==pt||"parent"==pt)||L&&("buffer"==pt||"byteLength"==pt||"byteOffset"==pt)||Yc(pt,Ge)))&&fe.push(pt);return fe};var gl=Object.prototype;const kd=function zu(c){var v=c&&c.constructor;return c===("function"==typeof v&&v.prototype||gl)},qf=function Fl(c,v){return function(r){return c(v(r))}},ty=qf(Object.keys,Object);var Kf=Object.prototype.hasOwnProperty;const oc=function ip(c){return null!=c&&zs(c.length)&&!hl(c)},sc=function Qh(c){return oc(c)?Po(c):function Xf(c){if(!kd(c))return ty(c);var v=[];for(var r in Object(c))Kf.call(c,r)&&"constructor"!=r&&v.push(r);return v}(c)};var Qa=function uu(c,v){return function(r,h){if(null==r)return r;if(!oc(r))return c(r,h);for(var b=r.length,L=v?b:-1,X=Object(r);(v?L--:++L<b)&&!1!==h(X[L],L,X););return r}}(function Mr(c,v){return c&&ii(c,v,sc)});const Pd=Qa,Vu=function rp(c,v,r,h){return Pd(c,function(b,L,X){v(h,b,r(b),X)}),h},ac=function Qf(c,v){return c===v||c!=c&&v!=v},Xs=function ju(c,v){for(var r=c.length;r--;)if(ac(c[r][0],v))return r;return-1};var Od=Array.prototype.splice;function Pr(c){var v=-1,r=null==c?0:c.length;for(this.clear();++v<r;){var h=c[v];this.set(h[0],h[1])}}Pr.prototype.clear=function td(){this.__data__=[],this.size=0},Pr.prototype.delete=function ny(c){var v=this.__data__,r=Xs(v,c);return!(r<0||(r==v.length-1?v.pop():Od.call(v,r,1),--this.size,0))},Pr.prototype.get=function eg(c){var v=this.__data__,r=Xs(v,c);return r<0?void 0:v[r][1]},Pr.prototype.has=function tm(c){return Xs(this.__data__,c)>-1},Pr.prototype.set=function Rd(c,v){var r=this.__data__,h=Xs(r,c);return h<0?(++this.size,r.push([c,v])):r[h][1]=v,this};const Ll=Pr,Ld=k(Ns,"Map"),_l=k(Object,"create");var rm=Object.prototype.hasOwnProperty;var mp=Object.prototype.hasOwnProperty;function rd(c){var v=-1,r=null==c?0:c.length;for(this.clear();++v<r;){var h=c[v];this.set(h[0],h[1])}}rd.prototype.clear=function lc(){this.__data__=_l?_l(null):{},this.size=0},rd.prototype.delete=function lp(c){var v=this.has(c)&&delete this.__data__[c];return this.size-=v?1:0,v},rd.prototype.get=function up(c){var v=this.__data__;if(_l){var r=v[c];return"__lodash_hash_undefined__"===r?void 0:r}return rm.call(v,c)?v[c]:void 0},rd.prototype.has=function sg(c){var v=this.__data__;return _l?void 0!==v[c]:mp.call(v,c)},rd.prototype.set=function cc(c,v){var r=this.__data__;return this.size+=this.has(c)?0:1,r[c]=_l&&void 0===v?"__lodash_hash_undefined__":v,this};const od=rd,sm=function ag(c,v){var r=c.__data__;return function ay(c){var v=typeof c;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==c:null===c}(v)?r["string"==typeof v?"string":"hash"]:r.map};function Nc(c){var v=-1,r=null==c?0:c.length;for(this.clear();++v<r;){var h=c[v];this.set(h[0],h[1])}}Nc.prototype.clear=function om(){this.size=0,this.__data__={hash:new od,map:new(Ld||Ll),string:new od}},Nc.prototype.delete=function ly(c){var v=sm(this,c).delete(c);return this.size-=v?1:0,v},Nc.prototype.get=function dy(c){return sm(this,c).get(c)},Nc.prototype.has=function Lc(c){return sm(this,c).has(c)},Nc.prototype.set=function fp(c,v){var r=sm(this,c),h=r.size;return r.set(c,v),this.size+=r.size==h?0:1,this};const dc=Nc;function uc(c){var v=this.__data__=new Ll(c);this.size=v.size}uc.prototype.clear=function sp(){this.__data__=new Ll,this.size=0},uc.prototype.delete=function Hu(c){var v=this.__data__,r=v.delete(c);return this.size=v.size,r},uc.prototype.get=function ap(c){return this.__data__.get(c)},uc.prototype.has=function nd(c){return this.__data__.has(c)},uc.prototype.set=function zd(c,v){var r=this.__data__;if(r instanceof Ll){var h=r.__data__;if(!Ld||h.length<199)return h.push([c,v]),this.size=++r.size,this;r=this.__data__=new dc(h)}return r.set(c,v),this.size=r.size,this};const zc=uc;function Bd(c){var v=-1,r=null==c?0:c.length;for(this.__data__=new dc;++v<r;)this.add(c[v])}Bd.prototype.add=Bd.prototype.push=function cg(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},Bd.prototype.has=function yp(c){return this.__data__.has(c)};const vp=Bd,lm=function bp(c,v){for(var r=-1,h=null==c?0:c.length;++r<h;)if(v(c[r],r,c))return!0;return!1},qu=function ug(c,v){return c.has(v)},Ku=function xp(c,v,r,h,b,L){var X=1&r,fe=c.length,Ge=v.length;if(fe!=Ge&&!(X&&Ge>fe))return!1;var pt=L.get(c),jt=L.get(v);if(pt&&jt)return pt==v&&jt==c;var Wt=-1,Ni=!0,tn=2&r?new vp:void 0;for(L.set(c,v),L.set(v,c);++Wt<fe;){var Pi=c[Wt],qi=v[Wt];if(h)var Tn=X?h(qi,Pi,Wt,v,c,L):h(Pi,qi,Wt,c,v,L);if(void 0!==Tn){if(Tn)continue;Ni=!1;break}if(tn){if(!lm(v,function(Yn,or){if(!qu(tn,or)&&(Pi===Yn||b(Pi,Yn,r,h,L)))return tn.push(or)})){Ni=!1;break}}else if(Pi!==qi&&!b(Pi,qi,r,h,L)){Ni=!1;break}}return L.delete(c),L.delete(v),Ni},hc=Ns.Uint8Array,Cp=function wp(c){var v=-1,r=Array(c.size);return c.forEach(function(h,b){r[++v]=[b,h]}),r},Oo=function mu(c){var v=-1,r=Array(c.size);return c.forEach(function(h){r[++v]=h}),r};var um=ir?ir.prototype:void 0,Ju=um?um.valueOf:void 0;const eh=function Tp(c,v){for(var r=-1,h=v.length,b=c.length;++r<h;)c[b+r]=v[r];return c},ad=function sd(c,v,r){var h=v(c);return Gr(c)?h:eh(h,r(c))},Ap=function mm(){return[]};var kp=Object.prototype.propertyIsEnumerable,Hd=Object.getOwnPropertySymbols,th=Hd?function(c){return null==c?[]:(c=Object(c),function Ip(c,v){for(var r=-1,h=null==c?0:c.length,b=0,L=[];++r<h;){var X=c[r];v(X,r,c)&&(L[b++]=X)}return L}(Hd(c),function(v){return kp.call(c,v)}))}:Ap;const ps=th,ih=function pm(c){return ad(c,sc,ps)};var vl=Object.prototype.hasOwnProperty;const Pp=k(Ns,"DataView"),rh=k(Ns,"Promise"),gu=k(Ns,"Set"),cd=k(Ns,"WeakMap");var _u="[object Map]",Gd="[object Promise]",sh="[object Set]",Bc="[object WeakMap]",Ma="[object DataView]",mc=i(Pp),ah=i(Ld),dd=i(rh),fg=i(gu),Rp=i(cd),zl=go;(Pp&&zl(new Pp(new ArrayBuffer(1)))!=Ma||Ld&&zl(new Ld)!=_u||rh&&zl(rh.resolve())!=Gd||gu&&zl(new gu)!=sh||cd&&zl(new cd)!=Bc)&&(zl=function(c){var v=go(c),r="[object Object]"==v?c.constructor:void 0,h=r?i(r):"";if(h)switch(h){case mc:return Ma;case ah:return _u;case dd:return Gd;case fg:return sh;case Rp:return Bc}return v});const ud=zl;var yu="[object Arguments]",vu="[object Array]",el="[object Object]",Vc=Object.prototype.hasOwnProperty;const Fp=function gm(c,v,r,h,b,L){var X=Gr(c),fe=Gr(v),Ge=X?vu:ud(c),pt=fe?vu:ud(v),jt=(Ge=Ge==yu?el:Ge)==el,Wt=(pt=pt==yu?el:pt)==el,Ni=Ge==pt;if(Ni&&Xa(c)){if(!Xa(v))return!1;X=!0,jt=!1}if(Ni&&!jt)return L||(L=new zc),X||du(c)?Ku(c,v,r,h,b,L):function jd(c,v,r,h,b,L,X){switch(r){case"[object DataView]":if(c.byteLength!=v.byteLength||c.byteOffset!=v.byteOffset)return!1;c=c.buffer,v=v.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=v.byteLength||!L(new hc(c),new hc(v)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ac(+c,+v);case"[object Error]":return c.name==v.name&&c.message==v.message;case"[object RegExp]":case"[object String]":return c==v+"";case"[object Map]":var fe=Cp;case"[object Set]":if(fe||(fe=Oo),c.size!=v.size&&!(1&h))return!1;var pt=X.get(c);if(pt)return pt==v;h|=2,X.set(c,v);var jt=Ku(fe(c),fe(v),h,b,L,X);return X.delete(c),jt;case"[object Symbol]":if(Ju)return Ju.call(c)==Ju.call(v)}return!1}(c,v,Ge,r,h,b,L);if(!(1&r)){var tn=jt&&Vc.call(c,"__wrapped__"),Pi=Wt&&Vc.call(v,"__wrapped__");if(tn||Pi){var qi=tn?c.value():c,Tn=Pi?v.value():v;return L||(L=new zc),b(qi,Tn,r,h,L)}}return!!Ni&&(L||(L=new zc),function ld(c,v,r,h,b,L){var X=1&r,fe=ih(c),Ge=fe.length;if(Ge!=ih(v).length&&!X)return!1;for(var Wt=Ge;Wt--;){var Ni=fe[Wt];if(!(X?Ni in v:vl.call(v,Ni)))return!1}var tn=L.get(c),Pi=L.get(v);if(tn&&Pi)return tn==v&&Pi==c;var qi=!0;L.set(c,v),L.set(v,c);for(var Tn=X;++Wt<Ge;){var Yn=c[Ni=fe[Wt]],or=v[Ni];if(h)var vo=X?h(or,Yn,Ni,v,c,L):h(Yn,or,Ni,c,v,L);if(!(void 0===vo?Yn===or||b(Yn,or,r,h,L):vo)){qi=!1;break}Tn||(Tn="constructor"==Ni)}if(qi&&!Tn){var Or=c.constructor,ka=v.constructor;Or!=ka&&"constructor"in c&&"constructor"in v&&!("function"==typeof Or&&Or instanceof Or&&"function"==typeof ka&&ka instanceof ka)&&(qi=!1)}return L.delete(c),L.delete(v),qi}(c,v,r,h,b,L))},_m=function ch(c,v,r,h,b){return c===v||(null==c||null==v||!hn(c)&&!hn(v)?c!=c&&v!=v:Fp(c,v,r,h,ch,b))},bm=function vm(c){return c==c&&!Qo(c)},xm=function Sa(c,v){return function(r){return null!=r&&r[c]===v&&(void 0!==v||c in Object(r))}},zp=function Np(c){var v=function Lp(c){for(var v=sc(c),r=v.length;r--;){var h=v[r],b=c[h];v[r]=[h,b,bm(b)]}return v}(c);return 1==v.length&&v[0][2]?xm(v[0][0],v[0][1]):function(r){return r===c||function hd(c,v,r,h){var b=r.length,L=b,X=!h;if(null==c)return!L;for(c=Object(c);b--;){var fe=r[b];if(X&&fe[2]?fe[1]!==c[fe[0]]:!(fe[0]in c))return!1}for(;++b<L;){var Ge=(fe=r[b])[0],pt=c[Ge],jt=fe[1];if(X&&fe[2]){if(void 0===pt&&!(Ge in c))return!1}else{var Wt=new zc;if(h)var Ni=h(pt,jt,Ge,c,v,Wt);if(!(void 0===Ni?_m(jt,pt,3,h,Wt):Ni))return!1}}return!0}(r,c,v)}},Ua=function Vp(c){return"symbol"==typeof c||hn(c)&&"[object Symbol]"==go(c)};var pc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Up=/^\w*$/;const hh=function wm(c,v){if(Gr(c))return!1;var r=typeof c;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=c&&!Ua(c))||Up.test(c)||!pc.test(c)||null!=v&&c in Object(v)};function md(c,v){if("function"!=typeof c||null!=v&&"function"!=typeof v)throw new TypeError("Expected a function");var r=function(){var h=arguments,b=v?v.apply(this,h):h[0],L=r.cache;if(L.has(b))return L.get(b);var X=c.apply(this,h);return r.cache=L.set(b,X)||L,X};return r.cache=new(md.Cache||dc),r}md.Cache=dc;const jp=md;var Gp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zp=/\\(\\)?/g,mh=function Hp(c){var v=jp(c,function(h){return 500===r.size&&r.clear(),h}),r=v.cache;return v}(function(c){var v=[];return 46===c.charCodeAt(0)&&v.push(""),c.replace(Gp,function(r,h,b,L){v.push(b?L.replace(Zp,"$1"):h||r)}),v});const Bl=mh;var ph=ir?ir.prototype:void 0,Wp=ph?ph.toString:void 0;const uy=function yg(c){if("string"==typeof c)return c;if(Gr(c))return function tl(c,v){for(var r=-1,h=null==c?0:c.length,b=Array(h);++r<h;)b[r]=v(c[r],r,c);return b}(c,yg)+"";if(Ua(c))return Wp?Wp.call(c):"";var v=c+"";return"0"==v&&1/c==-1/0?"-0":v},gh=function vg(c,v){return Gr(c)?c:hh(c,v)?[c]:Bl(function fh(c){return null==c?"":uy(c)}(c))},pd=function _h(c){if("string"==typeof c||Ua(c))return c;var v=c+"";return"0"==v&&1/c==-1/0?"-0":v},qp=function yh(c,v){for(var r=0,h=(v=gh(v,c)).length;null!=c&&r<h;)c=c[pd(v[r++])];return r&&r==h?c:void 0},jc=function Kp(c,v){return null!=c&&v in Object(c)},Xp=function bh(c,v){return null!=c&&function Ss(c,v,r){for(var h=-1,b=(v=gh(v,c)).length,L=!1;++h<b;){var X=pd(v[h]);if(!(L=null!=c&&r(c,X)))break;c=c[X]}return L||++h!=b?L:!!(b=null==c?0:c.length)&&zs(b)&&Yc(X,b)&&(Gr(c)||to(c))}(c,v,jc)},Jp=function bg(c,v){return hh(c)&&bm(v)?xm(pd(c),v):function(r){var h=function Yp(c,v,r){var h=null==c?void 0:qp(c,v);return void 0===h?r:h}(r,c);return void 0===h&&h===v?Xp(r,c):_m(v,h,3)}},xg=function Qp(c){return c},fd=function cr(c){return hh(c)?function Tm(c){return function(v){return v?.[c]}}(pd(c)):function tf(c){return function(v){return qp(v,c)}}(c)};var Ch=Object.prototype.hasOwnProperty,Eh=function Wd(c,v){return function(r,h){var b=Gr(r)?je:Vu,L=v?v():{};return b(r,c,function Im(c){return"function"==typeof c?c:null==c?xg:"object"==typeof c?Gr(c)?Jp(c[0],c[1]):zp(c):fd(c)}(h),L)}}(function(c,v,r){Ch.call(c,r)?c[r].push(v):Se(c,r,[v])});const Dh=Eh;var m=Object.prototype.hasOwnProperty;const D=function _(c,v,r){var h=c[v];(!m.call(c,v)||!ac(h,r)||void 0===r&&!(v in c))&&Se(c,v,r)},P=function S(c,v,r,h){var b=!r;r||(r={});for(var L=-1,X=v.length;++L<X;){var fe=v[L],Ge=h?h(r[fe],c[fe],fe,r,c):void 0;void 0===Ge&&(Ge=c[fe]),b?Se(r,fe,Ge):D(r,fe,Ge)}return r};var ge=Object.prototype.hasOwnProperty;const Oe=function we(c){if(!Qo(c))return function J(c){var v=[];if(null!=c)for(var r in Object(c))v.push(r);return v}(c);var v=kd(c),r=[];for(var h in c)"constructor"==h&&(v||!ge.call(c,h))||r.push(h);return r},et=function Xe(c){return oc(c)?Po(c,!0):Oe(c)};var bt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ot=bt&&"object"==typeof module&&module&&!module.nodeType&&module,ki=Ot&&Ot.exports===bt?Ns.Buffer:void 0,Gi=ki?ki.allocUnsafe:void 0;const Ji=qf(Object.getPrototypeOf,Object);var Sr=Object.getOwnPropertySymbols?function(c){for(var v=[];c;)eh(v,ps(c)),c=Ji(c);return v}:Ap;const Vr=Sr,_o=function Ho(c){return ad(c,et,Vr)};var Ro=Object.prototype.hasOwnProperty;const ro=function Mo(c){var v=new c.constructor(c.byteLength);return new hc(v).set(new hc(c)),v};var gs=/\w*$/;var So=ir?ir.prototype:void 0,Un=So?So.valueOf:void 0;const nf=function Dg(c,v,r){var h=c.constructor;switch(v){case"[object ArrayBuffer]":return ro(c);case"[object Boolean]":case"[object Date]":return new h(+c);case"[object DataView]":return function ts(c,v){var r=v?ro(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.byteLength)}(c,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Fo(c,v){var r=v?ro(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.length)}(c,r);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(c);case"[object RegExp]":return function _s(c){var v=new c.constructor(c.source,gs.exec(c));return v.lastIndex=c.lastIndex,v}(c);case"[object Symbol]":return function Bs(c){return Un?Object(Un.call(c)):{}}(c)}};var rf=Object.create,xl=function(){function c(){}return function(v){if(!Qo(v))return{};if(rf)return rf(v);c.prototype=v;var r=new c;return c.prototype=void 0,r}}();const Sh=xl;var ya=Td&&Td.isMap;const wl=ya?cu(ya):function hy(c){return hn(c)&&"[object Map]"==ud(c)};var py=Td&&Td.isSet;const AC=py?cu(py):function jl(c){return hn(c)&&"[object Set]"==ud(c)};var Sg="[object Arguments]",_y="[object Function]",yc="[object Object]",yo={};yo[Sg]=yo["[object Array]"]=yo["[object ArrayBuffer]"]=yo["[object DataView]"]=yo["[object Boolean]"]=yo["[object Date]"]=yo["[object Float32Array]"]=yo["[object Float64Array]"]=yo["[object Int8Array]"]=yo["[object Int16Array]"]=yo["[object Int32Array]"]=yo["[object Map]"]=yo["[object Number]"]=yo[yc]=yo["[object RegExp]"]=yo["[object Set]"]=yo["[object String]"]=yo["[object Symbol]"]=yo["[object Uint8Array]"]=yo["[object Uint8ClampedArray]"]=yo["[object Uint16Array]"]=yo["[object Uint32Array]"]=!0,yo["[object Error]"]=yo[_y]=yo["[object WeakMap]"]=!1;const Th=function Fm(c,v,r,h,b,L){var X,fe=1&v,Ge=2&v,pt=4&v;if(r&&(X=b?r(c,h,b,L):r(c)),void 0!==X)return X;if(!Qo(c))return c;var jt=Gr(c);if(jt){if(X=function fs(c){var v=c.length,r=new c.constructor(v);return v&&"string"==typeof c[0]&&Ro.call(c,"index")&&(r.index=c.index,r.input=c.input),r}(c),!fe)return function wi(c,v){var r=-1,h=c.length;for(v||(v=Array(h));++r<h;)v[r]=c[r];return v}(c,X)}else{var Wt=ud(c),Ni=Wt==_y||"[object GeneratorFunction]"==Wt;if(Xa(c))return function Ri(c,v){if(v)return c.slice();var r=c.length,h=Gi?Gi(r):new c.constructor(r);return c.copy(h),h}(c,fe);if(Wt==yc||Wt==Sg||Ni&&!b){if(X=Ge||Ni?{}:function Om(c){return"function"!=typeof c.constructor||kd(c)?{}:Sh(Ji(c))}(c),!fe)return Ge?function Do(c,v){return P(c,Vr(c),v)}(c,function yt(c,v){return c&&P(v,et(v),c)}(X,c)):function Si(c,v){return P(c,ps(c),v)}(c,function N(c,v){return c&&P(v,sc(v),c)}(X,c))}else{if(!yo[Wt])return b?c:{};X=nf(c,Wt,fe)}}L||(L=new zc);var tn=L.get(c);if(tn)return tn;L.set(c,X),AC(c)?c.forEach(function(Tn){X.add(Fm(Tn,v,r,Tn,c,L))}):wl(c)&&c.forEach(function(Tn,Yn){X.set(Yn,Fm(Tn,v,r,Yn,c,L))});var qi=jt?void 0:(pt?Ge?_o:ih:Ge?et:sc)(c);return function o(c,v){for(var r=-1,h=null==c?0:c.length;++r<h&&!1!==v(c[r],r,c););}(qi||c,function(Tn,Yn){qi&&(Tn=c[Yn=Tn]),D(X,Yn,Fm(Tn,v,r,Yn,c,L))}),X},Og=c=>"object"==typeof c&&null!=c&&1===c.nodeType,Rg=(c,v)=>(!v||"hidden"!==c)&&"visible"!==c&&"clip"!==c,Lm=(c,v)=>{if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){const r=getComputedStyle(c,null);return Rg(r.overflowY,v)||Rg(r.overflowX,v)||(h=>{const b=(L=>{if(!L.ownerDocument||!L.ownerDocument.defaultView)return null;try{return L.ownerDocument.defaultView.frameElement}catch{return null}})(h);return!!b&&(b.clientHeight<h.scrollHeight||b.clientWidth<h.scrollWidth)})(c)}return!1},Kd=(c,v,r,h,b,L,X,fe)=>L<c&&X>v||L>c&&X<v?0:L<=c&&fe<=r||X>=v&&fe>=r?L-c-h:X>v&&fe<r||L<c&&fe>r?X-v+b:0,sf=c=>c.parentElement??(c.getRootNode().host||null),Fg=(c,v)=>{var r,h,b,L;if(typeof document>"u")return[];const{scrollMode:X,block:fe,inline:Ge,boundary:pt,skipOverflowHiddenElements:jt}=v,Wt="function"==typeof pt?pt:Qi=>Qi!==pt;if(!Og(c))throw new TypeError("Invalid target");const Ni=document.scrollingElement||document.documentElement,tn=[];let Pi=c;for(;Og(Pi)&&Wt(Pi);){if(Pi=sf(Pi),Pi===Ni){tn.push(Pi);break}null!=Pi&&Pi===document.body&&Lm(Pi)&&!Lm(document.documentElement)||null!=Pi&&Lm(Pi,jt)&&tn.push(Pi)}const qi=null!=(h=null==(r=window.visualViewport)?void 0:r.width)?h:innerWidth,Tn=null!=(L=null==(b=window.visualViewport)?void 0:b.height)?L:innerHeight,{scrollX:Yn,scrollY:or}=window,{height:vo,width:Or,top:ka,right:$a,bottom:Us,left:rl}=c.getBoundingClientRect(),{top:Zl,right:ol,bottom:Wh,left:iu}=(Qi=>{const Vi=window.getComputedStyle(Qi);return{top:parseFloat(Vi.scrollMarginTop)||0,right:parseFloat(Vi.scrollMarginRight)||0,bottom:parseFloat(Vi.scrollMarginBottom)||0,left:parseFloat(Vi.scrollMarginLeft)||0}})(c);let ns="start"===fe||"nearest"===fe?ka-Zl:"end"===fe?Us+Wh:ka+vo/2-Zl+Wh,Pa="center"===Ge?rl+Or/2-iu+ol:"end"===Ge?$a+ol:rl-iu;const Qm=[];for(let Qi=0;Qi<tn.length;Qi++){const Vi=tn[Qi],{height:gn,width:Zn,top:Zo,right:Ga,bottom:js,left:Wl}=Vi.getBoundingClientRect();if("if-needed"===X&&ka>=0&&rl>=0&&Us<=Tn&&$a<=qi&&ka>=Zo&&Us<=js&&rl>=Wl&&$a<=Ga)return Qm;const Yr=getComputedStyle(Vi),qh=parseInt(Yr.borderLeftWidth,10),Yh=parseInt(Yr.borderTopWidth,10),vs=parseInt(Yr.borderRightWidth,10),ql=parseInt(Yr.borderBottomWidth,10);let rs=0,sl=0;const nu="offsetWidth"in Vi?Vi.offsetWidth-Vi.clientWidth-qh-vs:0,ep="offsetHeight"in Vi?Vi.offsetHeight-Vi.clientHeight-Yh-ql:0,$f="offsetWidth"in Vi?0===Vi.offsetWidth?0:Zn/Vi.offsetWidth:0,J_="offsetHeight"in Vi?0===Vi.offsetHeight?0:gn/Vi.offsetHeight:0;if(Ni===Vi)rs="start"===fe?ns:"end"===fe?ns-Tn:"nearest"===fe?Kd(or,or+Tn,Tn,Yh,ql,or+ns,or+ns+vo,vo):ns-Tn/2,sl="start"===Ge?Pa:"center"===Ge?Pa-qi/2:"end"===Ge?Pa-qi:Kd(Yn,Yn+qi,qi,qh,vs,Yn+Pa,Yn+Pa+Or,Or),rs=Math.max(0,rs+or),sl=Math.max(0,sl+Yn);else{rs="start"===fe?ns-Zo-Yh:"end"===fe?ns-js+ql+ep:"nearest"===fe?Kd(Zo,js,gn,Yh,ql+ep,ns,ns+vo,vo):ns-(Zo+gn/2)+ep/2,sl="start"===Ge?Pa-Wl-qh:"center"===Ge?Pa-(Wl+Zn/2)+nu/2:"end"===Ge?Pa-Ga+vs+nu:Kd(Wl,Ga,Zn,qh,vs+nu,Pa,Pa+Or,Or);const{scrollLeft:x0,scrollTop:Q_}=Vi;rs=0===J_?0:Math.max(0,Math.min(Q_+rs/J_,Vi.scrollHeight-gn/J_+ep)),sl=0===$f?0:Math.max(0,Math.min(x0+sl/$f,Vi.scrollWidth-Zn/$f+nu)),ns+=Q_-rs,Pa+=x0-sl}Qm.push({el:Vi,top:rs,left:sl})}return Qm};let Dy=(()=>{class c{constructor(){this.resize$=new ur.x}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var Ia=H(6223),B0=H(6637),$c=H(2296),bn=H(2495),Hl=H(2831),Wn=H(3680),My=H(7131);let Sy=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,bn.Ig)(r)}get inset(){return this._inset}set inset(r){this._inset=(0,bn.Ig)(r)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(h,b){2&h&&(l.uIk("aria-orientation",b.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",b.vertical)("mat-divider-horizontal",!b.vertical)("mat-divider-inset",b.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(h,b){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return c})(),Ty=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[Wn.BQ,Wn.BQ]})}return c})();var bd=H(7849),Cu=H(8337),xd=H(6028);const af=["*"],Lg='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',Ng=["unscopedContent"],Iy=["text"],jn=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Ay=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Hg=new l.OlP("ListOption");let Fy=(()=>{class c{constructor(r){this._elementRef=r}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return c})(),Ly=(()=>{class c{constructor(r){this._elementRef=r}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return c})(),$0=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return c})(),Ny=(()=>{class c{constructor(r){this._listOption=r}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(Hg,8))};static#t=this.\u0275dir=l.lG2({type:c,hostVars:4,hostBindings:function(h,b){2&h&&l.ekj("mdc-list-item__start",b._isAlignedAtStart())("mdc-list-item__end",!b._isAlignedAtStart())}})}return c})(),zy=(()=>{class c extends Ny{static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]})}return c})(),By=(()=>{class c extends Ny{static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]})}return c})();const G0=new l.OlP("MAT_LIST_CONFIG");let Xd=(()=>{class c{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(G0,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,bn.Ig)(r)}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,bn.Ig)(r)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=l.lG2({type:c,hostVars:1,hostBindings:function(h,b){2&h&&l.uIk("aria-disabled",b.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return c})(),Ha=(()=>{class c{set lines(r){this._explicitLines=(0,bn.su)(r,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(r){this._disableRipple=(0,bn.Ig)(r)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(r){this._disabled=(0,bn.Ig)(r)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(r,h,b,L,X,fe){this._elementRef=r,this._ngZone=h,this._listBase=b,this._platform=L,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new xo.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=X||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===fe,b&&!b._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Wn.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,ji.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(r){if(!this._lines||!this._titles||!this._unscopedContent)return;r&&this._checkDomForUnscopedTextContent();const h=this._explicitLines??this._inferLinesFromContent(),b=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===h),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===h),this._hasUnscopedTextContent){const L=0===this._titles.length&&1===h;b.classList.toggle("mdc-list-item__primary-text",L),b.classList.toggle("mdc-list-item__secondary-text",!L)}else b.classList.remove("mdc-list-item__primary-text"),b.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let r=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(r+=1),r}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(r=>r.nodeType!==r.COMMENT_NODE).some(r=>!(!r.textContent||!r.textContent.trim()))}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Xd,8),l.Y36(Hl.t4),l.Y36(Wn.Y2,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:c,contentQueries:function(h,b,L){if(1&h&&(l.Suo(L,zy,4),l.Suo(L,By,4)),2&h){let X;l.iGM(X=l.CRH())&&(b._avatars=X),l.iGM(X=l.CRH())&&(b._icons=X)}},hostVars:4,hostBindings:function(h,b){2&h&&(l.uIk("aria-disabled",b.disabled)("disabled",b._isButtonElement&&b.disabled||null),l.ekj("mdc-list-item--disabled",b.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return c})(),$g=(()=>{class c extends Xd{static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:Xd,useExisting:c}]),l.qOj],ngContentSelectors:af,decls:1,vars:0,template:function(h,b){1&h&&(l.F$t(),l.Hsn(0))},styles:[Lg],encapsulation:2,changeDetection:0})}return c})(),Gg=(()=>{class c extends Ha{get activated(){return this._activated}set activated(r){this._activated=(0,bn.Ig)(r)}constructor(r,h,b,L,X,fe){super(r,h,b,L,X,fe),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Xd,8),l.Y36(Hl.t4),l.Y36(Wn.Y2,8),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(h,b,L){if(1&h&&(l.Suo(L,Ly,5),l.Suo(L,Fy,5),l.Suo(L,$0,5)),2&h){let X;l.iGM(X=l.CRH())&&(b._lines=X),l.iGM(X=l.CRH())&&(b._titles=X),l.iGM(X=l.CRH())&&(b._meta=X)}},viewQuery:function(h,b){if(1&h&&(l.Gf(Ng,5),l.Gf(Iy,5)),2&h){let L;l.iGM(L=l.CRH())&&(b._unscopedContent=L.first),l.iGM(L=l.CRH())&&(b._itemText=L.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(h,b){2&h&&(l.uIk("aria-current",b._getAriaCurrent()),l.ekj("mdc-list-item--activated",b.activated)("mdc-list-item--with-leading-avatar",0!==b._avatars.length)("mdc-list-item--with-leading-icon",0!==b._icons.length)("mdc-list-item--with-trailing-meta",0!==b._meta.length)("_mat-animation-noopable",b._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:Ay,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(h,b){1&h&&(l.F$t(jn),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return b._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[My.wD],encapsulation:2,changeDetection:0})}return c})(),W0=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]})}return c})(),Y0=(()=>{class c extends Xd{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:Xd,useExisting:c}]),l.qOj],ngContentSelectors:af,decls:1,vars:0,template:function(h,b){1&h&&(l.F$t(),l.Hsn(0))},styles:[Lg],encapsulation:2,changeDetection:0})}return c})(),J0=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[My.Q8,cn.ez,Wn.BQ,Wn.si,Wn.us,Ty]})}return c})();var Q0=H(6232);const Uy=(0,Hl.i$)({passive:!0});let ex=(()=>{class c{constructor(r,h){this._platform=r,this._ngZone=h,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Q0.E;const h=(0,bn.fI)(r),b=this._monitoredElements.get(h);if(b)return b.subject;const L=new ur.x,X="cdk-text-field-autofilled",fe=Ge=>{"cdk-text-field-autofill-start"!==Ge.animationName||h.classList.contains(X)?"cdk-text-field-autofill-end"===Ge.animationName&&h.classList.contains(X)&&(h.classList.remove(X),this._ngZone.run(()=>L.next({target:Ge.target,isAutofilled:!1}))):(h.classList.add(X),this._ngZone.run(()=>L.next({target:Ge.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",fe,Uy),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:L,unlisten:()=>{h.removeEventListener("animationstart",fe,Uy)}}),L}stopMonitoring(r){const h=(0,bn.fI)(r),b=this._monitoredElements.get(h);b&&(b.unlisten(),b.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((r,h)=>this.stopMonitoring(h))}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(Hl.t4),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),tx=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({})}return c})();var Jd=H(4170);const Hy=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),$y=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cf=0;const Wg=(0,Wn.FD)(class{constructor(c,v,r,h){this._defaultErrorStateMatcher=c,this._parentForm=v,this._parentFormGroup=r,this.ngControl=h,this.stateChanges=new ur.x}});let NC=(()=>{class c extends Wg{get disabled(){return this._disabled}set disabled(r){this._disabled=(0,bn.Ig)(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ia.kI.required)??!1}set required(r){this._required=(0,bn.Ig)(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&(0,Hl.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=(0,bn.Ig)(r)}constructor(r,h,b,L,X,fe,Ge,pt,jt,Wt){super(fe,L,X,b),this._elementRef=r,this._platform=h,this._autofillMonitor=pt,this._formField=Wt,this._uid="mat-input-"+cf++,this.focused=!1,this.stateChanges=new ur.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Pi=>(0,Hl.qK)().has(Pi)),this._iOSKeyupListener=Pi=>{const qi=Pi.target;!qi.value&&0===qi.selectionStart&&0===qi.selectionEnd&&(qi.setSelectionRange(1,1),qi.setSelectionRange(0,0))};const Ni=this._elementRef.nativeElement,tn=Ni.nodeName.toLowerCase();this._inputValueAccessor=Ge||Ni,this._previousNativeValue=this.value,this.id=this.id,h.IOS&&jt.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===tn,this._isTextarea="textarea"===tn,this._isInFormField=!!Wt,this._isNativeSelect&&(this.controlType=Ni.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){const r=this._getPlaceholder();if(r!==this._previousPlaceholder){const h=this._elementRef.nativeElement;this._previousPlaceholder=r,r?h.setAttribute("placeholder",r):h.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){$y.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,h=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&h&&h.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(Hl.t4),l.Y36(Ia.a5,10),l.Y36(Ia.F,8),l.Y36(Ia.sg,8),l.Y36(Wn.rD),l.Y36(Hy,10),l.Y36(ex),l.Y36(l.R0b),l.Y36(Jd.G_,8))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(h,b){1&h&&l.NdJ("focus",function(){return b._focusChanged(!0)})("blur",function(){return b._focusChanged(!1)})("input",function(){return b._onInput()}),2&h&&(l.Ikx("id",b.id)("disabled",b.disabled)("required",b.required),l.uIk("name",b.name||null)("readonly",b.readonly&&!b._isNativeSelect||null)("aria-invalid",b.empty&&b.required?null:b.errorState)("aria-required",b.required)("id",b.id),l.ekj("mat-input-server",b._isServer)("mat-mdc-form-field-textarea-control",b._isInFormField&&b._isTextarea)("mat-mdc-form-field-input-control",b._isInFormField)("mdc-text-field__input",b._isInFormField)("mat-mdc-native-select-inline",b._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Jd.Eo,useExisting:c}]),l.qOj,l.TTD]})}return c})(),Gy=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[Wn.BQ,Jd.lN,Jd.lN,tx,Wn.BQ]})}return c})();var Cl=H(799),qg=H(9388),Yg=H(975),Kg=H(3997);const $l=["*"],ix=["content"];function nx(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Xg(c,v){1&c&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const rx=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Zy=["mat-drawer","mat-drawer-content","*"];function ox(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function df(c,v){1&c&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const zm=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Wy=["mat-sidenav","mat-sidenav-content","*"],sx={transformDrawer:(0,ae.X$)("transform",[(0,ae.SB)("open, open-instant",(0,ae.oB)({transform:"none",visibility:"visible"})),(0,ae.SB)("void",(0,ae.oB)({"box-shadow":"none",visibility:"hidden"})),(0,ae.eR)("void => open-instant",(0,ae.jt)("0ms")),(0,ae.eR)("void <=> open, open-instant => void",(0,ae.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},qy=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ax(){return!1}}),hf=new l.OlP("MAT_DRAWER_CONTAINER");let mf=(()=>{class c extends Cl.PQ{constructor(r,h,b,L,X){super(b,L,X),this._changeDetectorRef=r,this._container=h}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Qg)),l.Y36(l.SBq),l.Y36(Cl.mF),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(h,b){2&h&&l.Udp("margin-left",b._container._contentMargins.left,"px")("margin-right",b._container._contentMargins.right,"px")},features:[l._Bn([{provide:Cl.PQ,useExisting:c}]),l.qOj],ngContentSelectors:$l,decls:1,vars:0,template:function(h,b){1&h&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return c})(),Jg=(()=>{class c{get position(){return this._position}set position(r){(r="end"===r?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=(0,bn.Ig)(r)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(r){("true"===r||"false"===r||null==r)&&(r=(0,bn.Ig)(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle((0,bn.Ig)(r))}constructor(r,h,b,L,X,fe,Ge,pt){this._elementRef=r,this._focusTrapFactory=h,this._focusMonitor=b,this._platform=L,this._ngZone=X,this._interactivityChecker=fe,this._doc=Ge,this._container=pt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ur.x,this._animationEnd=new ur.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,Ar.h)(jt=>jt),(0,Ea.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Ar.h)(jt=>jt.fromState!==jt.toState&&0===jt.toState.indexOf("open")),(0,Yg.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Ar.h)(jt=>!jt),(0,Ea.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Ar.h)(jt=>jt.fromState!==jt.toState&&"void"===jt.toState),(0,Yg.h)(void 0)),this._destroyed=new ur.x,this.onPositionChanged=new l.vpe,this._modeChanged=new ur.x,this.openedChange.subscribe(jt=>{jt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Jr.R)(this._elementRef.nativeElement,"keydown").pipe((0,Ar.h)(jt=>jt.keyCode===xd.hY&&!this.disableClose&&!(0,xd.Vb)(jt)),(0,zr.R)(this._destroyed)).subscribe(jt=>this._ngZone.run(()=>{this.close(),jt.stopPropagation(),jt.preventDefault()}))}),this._animationEnd.pipe((0,Kg.x)((jt,Wt)=>jt.fromState===Wt.fromState&&jt.toState===Wt.toState)).subscribe(jt=>{const{fromState:Wt,toState:Ni}=jt;(0===Ni.indexOf("open")&&"void"===Wt||"void"===Ni&&0===Wt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(r,h){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const b=()=>{r.removeEventListener("blur",b),r.removeEventListener("mousedown",b),r.removeAttribute("tabindex")};r.addEventListener("blur",b),r.addEventListener("mousedown",b)})),r.focus(h)}_focusByCssSelector(r,h){let b=this._elementRef.nativeElement.querySelector(r);b&&this._forceFocus(b,h)}_takeFocus(){if(!this._focusTrap)return;const r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(h=>{!h&&"function"==typeof this._elementRef.nativeElement.focus&&r.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(r){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,h){r&&h&&(this._openedVia=h);const b=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),b}_setOpen(r,h,b){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",h&&this._restoreFocus(b)),this._updateFocusTrapState(),new Promise(L=>{this.openedChange.pipe((0,cl.q)(1)).subscribe(X=>L(X?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(r){const h=this._elementRef.nativeElement,b=h.parentNode;"end"===r?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),b.insertBefore(this._anchor,h)),b.appendChild(h)):this._anchor&&this._anchor.parentNode.insertBefore(h,this._anchor)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(bd.qV),l.Y36(bd.tE),l.Y36(Hl.t4),l.Y36(l.R0b),l.Y36(bd.ic),l.Y36(cn.K0,8),l.Y36(hf,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer"]],viewQuery:function(h,b){if(1&h&&l.Gf(ix,5),2&h){let L;l.iGM(L=l.CRH())&&(b._content=L.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(h,b){1&h&&l.WFA("@transform.start",function(X){return b._animationStarted.next(X)})("@transform.done",function(X){return b._animationEnd.next(X)}),2&h&&(l.uIk("align",null),l.d8E("@transform",b._animationState),l.ekj("mat-drawer-end","end"===b.position)("mat-drawer-over","over"===b.mode)("mat-drawer-push","push"===b.mode)("mat-drawer-side","side"===b.mode)("mat-drawer-opened",b.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:$l,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(h,b){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Cl.PQ],encapsulation:2,data:{animation:[sx.transformDrawer]},changeDetection:0})}return c})(),Qg=(()=>{class c{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=(0,bn.Ig)(r)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(r){this._backdropOverride=null==r?null:(0,bn.Ig)(r)}get scrollable(){return this._userContent||this._content}constructor(r,h,b,L,X,fe=!1,Ge){this._dir=r,this._element=h,this._ngZone=b,this._changeDetectorRef=L,this._animationMode=Ge,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new ur.x,this._doCheckSubject=new ur.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ur.x,r&&r.change.pipe((0,zr.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),X.change().pipe((0,zr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=fe}ngAfterContentInit(){this._allDrawers.changes.pipe((0,dl.O)(this._allDrawers),(0,zr.R)(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(h=>!h._container||h._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,dl.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ca.b)(10),(0,zr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,h=0;if(this._left&&this._left.opened)if("side"==this._left.mode)r+=this._left._getWidth();else if("push"==this._left.mode){const b=this._left._getWidth();r+=b,h-=b}if(this._right&&this._right.opened)if("side"==this._right.mode)h+=this._right._getWidth();else if("push"==this._right.mode){const b=this._right._getWidth();h+=b,r-=b}r=r||null,h=h||null,(r!==this._contentMargins.left||h!==this._contentMargins.right)&&(this._contentMargins={left:r,right:h},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe((0,Ar.h)(h=>h.fromState!==h.toState),(0,zr.R)(this._drawers.changes)).subscribe(h=>{"open-instant"!==h.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==r.mode&&r.openedChange.pipe((0,zr.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r&&r.onPositionChanged.pipe((0,zr.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,cl.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(r){r&&r._modeChanged.pipe((0,zr.R)((0,ji.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){const h=this._element.nativeElement.classList,b="mat-drawer-container-has-open";r?h.add(b):h.remove(b)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{"end"==r.position?this._end=r:this._start=r}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._drawerHasBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(r){return null!=r&&r.opened}_drawerHasBackdrop(r){return null==this._backdropOverride?!!r&&"side"!==r.mode:this._backdropOverride}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(qg.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(Cl.rL),l.Y36(qy),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-container"]],contentQueries:function(h,b,L){if(1&h&&(l.Suo(L,mf,5),l.Suo(L,Jg,5)),2&h){let X;l.iGM(X=l.CRH())&&(b._content=X.first),l.iGM(X=l.CRH())&&(b._allDrawers=X)}},viewQuery:function(h,b){if(1&h&&l.Gf(mf,5),2&h){let L;l.iGM(L=l.CRH())&&(b._userContent=L.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(h,b){2&h&&l.ekj("mat-drawer-container-explicit-backdrop",b._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:hf,useExisting:c}])],ngContentSelectors:Zy,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(h,b){1&h&&(l.F$t(rx),l.YNc(0,nx,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Xg,2,0,"mat-drawer-content",1)),2&h&&(l.Q6J("ngIf",b.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!b._content))},dependencies:[cn.O5,mf],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return c})(),Eu=(()=>{class c extends mf{constructor(r,h,b,L,X){super(r,h,b,L,X)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>e_)),l.Y36(l.SBq),l.Y36(Cl.mF),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(h,b){2&h&&l.Udp("margin-left",b._container._contentMargins.left,"px")("margin-right",b._container._contentMargins.right,"px")},features:[l._Bn([{provide:Cl.PQ,useExisting:c}]),l.qOj],ngContentSelectors:$l,decls:1,vars:0,template:function(h,b){1&h&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return c})(),Yy=(()=>{class c extends Jg{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=(0,bn.Ig)(r)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=(0,bn.su)(r)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=(0,bn.su)(r)}static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(h,b){2&h&&(l.uIk("align",null),l.Udp("top",b.fixedInViewport?b.fixedTopGap:null,"px")("bottom",b.fixedInViewport?b.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===b.position)("mat-drawer-over","over"===b.mode)("mat-drawer-push","push"===b.mode)("mat-drawer-side","side"===b.mode)("mat-drawer-opened",b.opened)("mat-sidenav-fixed",b.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:$l,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(h,b){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Cl.PQ],encapsulation:2,data:{animation:[sx.transformDrawer]},changeDetection:0})}return c})(),e_=(()=>{class c extends Qg{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-container"]],contentQueries:function(h,b,L){if(1&h&&(l.Suo(L,Eu,5),l.Suo(L,Yy,5)),2&h){let X;l.iGM(X=l.CRH())&&(b._content=X.first),l.iGM(X=l.CRH())&&(b._allDrawers=X)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(h,b){2&h&&l.ekj("mat-drawer-container-explicit-backdrop",b._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:hf,useExisting:c}]),l.qOj],ngContentSelectors:Wy,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(h,b){1&h&&(l.F$t(zm),l.YNc(0,ox,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,df,2,0,"mat-sidenav-content",1)),2&h&&(l.Q6J("ngIf",b.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!b._content))},dependencies:[cn.O5,Eu],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return c})(),Ky=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[cn.ez,Wn.BQ,Cl.ZD,Cl.ZD,Wn.BQ]})}return c})();const lx=["switch"];function cx(c,v){1&c&&(l.TgZ(0,"div",12),l.O4$(),l.TgZ(1,"svg",13),l._UZ(2,"path",14),l.qZA(),l.TgZ(3,"svg",15),l._UZ(4,"path",16),l.qZA()())}const Bm=["*"],dx=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),ux={provide:Ia.JU,useExisting:(0,l.Gpc)(()=>Jy),multi:!0};class Xy{constructor(v,r){this.source=v,this.checked=r}}let hx=0;const mx=(0,Wn.sb)((0,Wn.pj)((0,Wn.Kr)((0,Wn.Id)(class{constructor(c){this._elementRef=c}}))));let px=(()=>{class c extends mx{get required(){return this._required}set required(r){this._required=(0,bn.Ig)(r)}get checked(){return this._checked}set checked(r){this._checked=(0,bn.Ig)(r),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(r){this._hideIcon=(0,bn.Ig)(r)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,b,L,X,fe,Ge){super(r),this._focusMonitor=h,this._changeDetectorRef=b,this.defaults=X,this._onChange=pt=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(L)||0,this.color=this.defaultColor=X.color||"accent",this._noopAnimations="NoopAnimations"===fe,this.id=this._uniqueId=`${Ge}${++hx}`,this._hideIcon=X.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{"keyboard"===r||"program"===r?(this._focused=!0,this._changeDetectorRef.markForCheck()):r||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(r){this.checked=!!r}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(h){l.$Z()};static#t=this.\u0275dir=l.lG2({type:c,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]})}return c})(),Jy=(()=>{class c extends px{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(r,h,b,L,X,fe){super(r,h,b,L,X,fe,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Xy(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(r){return new Xy(this,r)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(bd.tE),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(dx),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-slide-toggle"]],viewQuery:function(h,b){if(1&h&&l.Gf(lx,5),2&h){let L;l.iGM(L=l.CRH())&&(b._switchElement=L.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(h,b){2&h&&(l.Ikx("id",b.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",b._focused)("mat-mdc-slide-toggle-checked",b.checked)("_mat-animation-noopable",b._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([ux]),l.qOj],ngContentSelectors:Bm,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(h,b){if(1&h&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return b._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.YNc(10,cx,5,0,"div",10),l.qZA()()(),l.TgZ(11,"label",11),l.NdJ("click",function(X){return X.stopPropagation()}),l.Hsn(12),l.qZA()()),2&h){const L=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==b.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",b.checked)("mdc-switch--unselected",!b.checked)("mdc-switch--checked",b.checked)("mdc-switch--disabled",b.disabled),l.Q6J("tabIndex",b.tabIndex)("disabled",b.disabled),l.uIk("id",b.buttonId)("name",b.name)("aria-label",b.ariaLabel)("aria-labelledby",b._getAriaLabelledBy())("aria-describedby",b.ariaDescribedby)("aria-required",b.required||null)("aria-checked",b.checked),l.xp6(8),l.Q6J("matRippleTrigger",L)("matRippleDisabled",b.disableRipple||b.disabled)("matRippleCentered",!0),l.xp6(1),l.Q6J("ngIf",!b.hideIcon),l.xp6(1),l.Q6J("for",b.buttonId),l.uIk("id",b._labelId)}},dependencies:[Wn.wG,cn.O5],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return c})(),pf=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({})}return c})(),gx=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[pf,Wn.BQ,Wn.si,cn.ez,pf,Wn.BQ]})}return c})();const ff=["exampleLink"];function _x(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b.clearSearch())}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}const yx=function(c){return{_routerLinkActiveWakeUpHack_:c}};function vx(c,v){if(1&c&&(l.TgZ(0,"a",14,15),l._uU(2),l.qZA()),2&c){const r=l.oxw().$implicit,h=l.oxw(2);l.Q6J("routerLink","/demo/"+(h.isEditMode?"/edit/":"")+r.path)("routerLinkActiveOptions",l.VKq(3,yx,h.isEditMode)),l.xp6(2),l.hij(" ",r.data.label," ")}}function bx(c,v){if(1&c&&(l.ynx(0),l.YNc(1,vx,3,5,"a",13),l.BQk()),2&c){const r=v.$implicit;l.xp6(1),l.Q6J("ngIf",r)}}function xx(c,v){if(1&c&&(l.ynx(0),l.TgZ(1,"h3",12),l._uU(2),l.qZA(),l.YNc(3,bx,2,1,"ng-container",9),l._UZ(4,"mat-divider"),l.BQk()),2&c){const r=v.$implicit,h=l.oxw();l.xp6(2),l.Oqu(r),l.xp6(1),l.Q6J("ngForOf",h.routes[r])}}let wx=(()=>{class c{constructor(r,h,b,L){this.zone=r,this.router=h,this.activatedRoute=b,this.mapResizeService=L,this.sidenavIsOpen=!0,this.isEditMode=!!this.activatedRoute.snapshot.firstChild.params.demoUrl,this.originalRoutes=Dh(Jm[0].children,X=>X.data?X.data.cat:null),this.categories=[xn.STYLES,xn.LAYERS,xn.SOURCES,xn.USER_INTERACTION,xn.CAMERA,xn.CONTROLS_AND_OVERLAYS,xn.TERRAIN]}ngOnInit(){this.routes=this.originalRoutes}ngAfterViewInit(){this.scrollInToActiveExampleLink()}toggleSidenav(){this.sidenavIsOpen=!this.sidenavIsOpen}toggleEdit(r){const h=this.activatedRoute.snapshot.firstChild;this.router.navigate(r.checked?["demo","edit",h.url[0].path]:["demo",h.params.demoUrl])}onSidenavChange(){this.mapResizeService.resize$.next(void 0)}search(){this.routes=function L0(c){return Th(c,5)}(this.originalRoutes),Object.values(this.routes).forEach(r=>{r.forEach((h,b)=>{h.data&&!h.data.label.toLowerCase().includes(this.searchTerm.toLowerCase())&&delete r[b]})})}clearSearch(){this.searchTerm="",this.routes=this.originalRoutes}scrollInToActiveExampleLink(){this.zone.onStable.pipe((0,zn.P)()).subscribe(()=>{const r=this.exampleLinks.find(h=>h.nativeElement.classList.contains("active"));r&&function z0(c,v){if(!c.isConnected||!(b=>{let L=b;for(;L&&L.parentNode;){if(L.parentNode===document)return!0;L=L.parentNode instanceof ShadowRoot?L.parentNode.host:L.parentNode}return!1})(c))return;const r=(b=>{const L=window.getComputedStyle(b);return{top:parseFloat(L.scrollMarginTop)||0,right:parseFloat(L.scrollMarginRight)||0,bottom:parseFloat(L.scrollMarginBottom)||0,left:parseFloat(L.scrollMarginLeft)||0}})(c);if("object"==typeof(b=v)&&"function"==typeof b.behavior)return v.behavior(Fg(c,v));var b;const h="boolean"==typeof v||null==v?void 0:v.behavior;for(const{el:b,top:L,left:X}of Fg(c,(c=>{return!1===c?{block:"end",inline:"nearest"}:(v=c)===Object(v)&&0!==Object.keys(v).length?c:{block:"start",inline:"nearest"};var v})(v)))b.scroll({top:L-r.top+r.bottom,left:X-r.left+r.right,behavior:h})}(r.nativeElement,{block:"center",scrollMode:"if-needed"})})}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.R0b),l.Y36(me.F0),l.Y36(me.gz),l.Y36(Dy))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(h,b){if(1&h&&l.Gf(ff,5,l.SBq),2&h){let L;l.iGM(L=l.CRH())&&(b.exampleLinks=L)}},decls:18,vars:5,consts:[["position","left"],["mat-button","",1,"menu-button",3,"click"],["position","right"],["color","accent",3,"ngModel","ngModelChange","change"],["mode","side",3,"opened","openedChange"],["sidenav",""],[1,"search"],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSubheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["exampleLink",""]],template:function(h,b){1&h&&(l.TgZ(0,"showcase-layout-toolbar-menu",0)(1,"button",1),l.NdJ("click",function(){return b.toggleSidenav()}),l.TgZ(2,"mat-icon"),l._uU(3,"menu"),l.qZA()()(),l.TgZ(4,"showcase-layout-toolbar-menu",2)(5,"mat-slide-toggle",3),l.NdJ("ngModelChange",function(X){return b.isEditMode=X})("change",function(X){return b.toggleEdit(X)}),l._uU(6," Edit! "),l.qZA()(),l.TgZ(7,"mat-sidenav-container")(8,"mat-sidenav",4,5),l.NdJ("openedChange",function(){return b.onSidenavChange()}),l.TgZ(10,"mat-form-field",6)(11,"input",7),l.NdJ("ngModelChange",function(X){return b.searchTerm=X})("ngModelChange",function(){return b.search()}),l.qZA(),l.YNc(12,_x,3,0,"button",8),l.qZA(),l.TgZ(13,"mat-nav-list"),l.YNc(14,xx,5,2,"ng-container",9),l.qZA()(),l.TgZ(15,"mat-sidenav-content")(16,"section",10),l._UZ(17,"router-outlet"),l.qZA()()()),2&h&&(l.xp6(5),l.Q6J("ngModel",b.isEditMode),l.xp6(3),l.Q6J("opened",b.sidenavIsOpen),l.xp6(3),l.Q6J("ngModel",b.searchTerm),l.xp6(1),l.Q6J("ngIf",b.searchTerm),l.xp6(2),l.Q6J("ngForOf",b.categories))},dependencies:[me.lC,me.rH,me.Od,cn.sg,cn.O5,Ia.Fj,Ia.JJ,Ia.On,B0.a,$c.lW,$c.RK,Y0,Gg,W0,Sy,NC,Jd.KE,Jd.R9,Ue.Hw,Yy,e_,Eu,Jy],styles:["[_nghost-%COMP%], .content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:345px;display:flex;flex-direction:column;flex:1}mat-nav-list[_ngcontent-%COMP%]{overflow-y:auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{height:100%}mat-form-field.search[_ngcontent-%COMP%]{width:100%;margin-bottom:-1.25em}a.active[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5!important}"]})}return c})(),qn=(()=>{class c{constructor(r,h){this.mapResizeService=r,this.map=h,this.sub=new xo.w0}ngOnInit(){this.sub.add(this.mapResizeService.resize$.subscribe(()=>{this.map.mapInstance.resize()}))}ngOnDestroy(){this.sub.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(Dy),l.Y36(dn))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]]})}return c})(),Gn=(()=>{class c{constructor(r){this.map=r,null!=window.Cypress&&(console.info("Cypress detected. Setting preserveDrawingBuffer=true"),this.map.preserveDrawingBuffer=!0)}onMapIdle(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!0}onMapRender(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!1}onMapLoad(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.loaded=!0}ngOnInit(){window.mglMapTestHelper={mapComponent:this.map}}ngOnDestroy(){window.mglMapTestHelper=void 0}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(dn))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]],hostBindings:function(h,b){1&h&&l.NdJ("idle",function(X){return b.onMapIdle(X)})("render",function(X){return b.onMapRender(X)})("mapLoad",function(X){return b.onMapLoad(X)})}})}return c})();const ev=function(c){return[c,40.7135]},Cx=function(){return["==","extrude","true"]},Ex=function(){return["linear"]},t_=function(){return["zoom"]},tv=function(){return["get","height"]},Dx=function(c,v,r){return["interpolate",c,v,15,0,15.05,r]},gf=function(){return["get","min_height"]},Mx=function(c,v){return{"fill-extrusion-color":"#aaa","fill-extrusion-height":c,"fill-extrusion-base":v,"fill-extrusion-opacity":.6}};let Sx=(()=>{class c{onLoad(r){const h=r.getStyle().layers;for(let b=0;b<h.length;b++)if("symbol"===h[b].type&&h[b].layout["text-field"]){this.labelLayerId=h[b].id;break}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:30,consts:[[3,"zoom","center","pitch","bearing","mapLoad"],["id","3d-buildings","source","openmaptiles","sourceLayer","building","type","fill-extrusion",3,"filter","minzoom","paint","before"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(X){return b.onLoad(X)}),l._UZ(1,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",15.5)("center",l.VKq(10,ev,-74.0066))("pitch",45)("bearing",-17.6),l.xp6(1),l.Q6J("filter",l.DdM(12,Cx))("minzoom",15)("paint",l.WLB(27,Mx,l.kEZ(16,Dx,l.DdM(13,Ex),l.DdM(14,t_),l.DdM(15,tv)),l.kEZ(23,Dx,l.DdM(20,Ex),l.DdM(21,t_),l.DdM(22,gf))))("before",b.labelLayerId))},dependencies:[dn,po,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const i_=function(c){return{width:64,height:64,data:c}},Tx=function(){return[0,0]},Gc=function(c){return{type:"Point",coordinates:c}},Vm=function(c){return{type:"Feature",geometry:c}},Aa=function(c){return[c]},Du=function(c){return{type:"FeatureCollection",features:c}},_f=function(c){return{type:"geojson",data:c}},Gl=function(){return{"icon-image":"gradient"}};let n_=(()=>{class c{ngOnInit(){this.imageData=this.generateImage()}generateImage(){const b=new Uint8Array(16384);for(let L=0;L<64;L++)for(let X=0;X<64;X++){const fe=4*(64*X+L);b[fe+0]=X/64*255,b[fe+1]=L/64*255,b[fe+2]=128,b[fe+3]=255}return b}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:19,consts:[["id","gradient",3,"data"],["id","points","type","symbol",3,"source","layout"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-image",0)(2,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("data",l.VKq(5,i_,b.imageData)),l.xp6(1),l.Q6J("source",l.VKq(16,_f,l.VKq(14,Du,l.VKq(12,Aa,l.VKq(10,Vm,l.VKq(8,Gc,l.DdM(7,Tx)))))))("layout",l.DdM(18,Gl)))},dependencies:[dn,po,kl,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function Ph(c,v){if(1&c&&l._UZ(0,"mgl-image",3),2&c){const r=v.$implicit;l.Q6J("id",r.id)("data",r)}}const Oh=function(){return[0,0]},Qd=function(c){return{type:"Point",coordinates:c}},Rh=function(){return{color:"255,0,0"}},eu=function(c,v){return{type:"Feature",geometry:c,properties:v}},Fh=function(){return[50,0]},Lh=function(){return{color:"255,209,28"}},Nh=function(c){return[c,0]},zh=function(){return{color:"242,127,32"}},iv=function(c,v,r){return[c,v,r]},nv=function(c){return{type:"FeatureCollection",features:c}},rv=function(c){return{type:"geojson",data:c}},ov=function(){return["get","color"]},sv=function(c){return["concat","square-rgb-",c]},av=function(c){return{"icon-image":c}};let lv=(()=>{class c{constructor(){this.imagesData=[]}generateImage({id:r}){const h="square-rgb-";if(0!==r.indexOf(h))return;const b=r.replace(h,"").split(",").map(Number),fe=new Uint8Array(16384);for(let pt=0;pt<64;pt++)for(let jt=0;jt<64;jt++){const Wt=4*(64*jt+pt);fe[Wt+0]=b[0],fe[Wt+1]=b[1],fe[Wt+2]=b[2],fe[Wt+3]=255}this.imagesData=[...this.imagesData,{id:r,width:64,height:64,data:fe}]}trackByImage(r,h){return h.id}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:41,consts:[[3,"styleImageMissing"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],["id","points","type","symbol",3,"source","layout"],[3,"id","data"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("styleImageMissing",function(X){return b.generateImage(X)}),l.YNc(1,Ph,1,2,"mgl-image",1),l._UZ(2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngForOf",b.imagesData)("ngForTrackBy",b.trackByImage),l.xp6(1),l.Q6J("source",l.VKq(34,rv,l.VKq(32,nv,l.kEZ(28,iv,l.WLB(10,eu,l.VKq(7,Qd,l.DdM(6,Oh)),l.DdM(9,Rh)),l.WLB(17,eu,l.VKq(14,Qd,l.DdM(13,Fh)),l.DdM(16,Lh)),l.WLB(25,eu,l.VKq(22,Qd,l.VKq(20,Nh,-50)),l.DdM(24,zh))))))("layout",l.VKq(39,av,l.VKq(37,sv,l.DdM(36,ov)))))},dependencies:[cn.sg,dn,po,kl,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const cv=function(){return[0,0]},dv=function(c){return{type:"Point",coordinates:c}},r_=function(c){return{type:"Feature",geometry:c}},Ix=function(c){return[c]},BC=function(c){return{type:"FeatureCollection",features:c}},VC=function(c){return{type:"geojson",data:c}},Ax=function(){return{"icon-image":"cat","icon-size":.25}};function kx(c,v){1&c&&l._UZ(0,"mgl-layer",2),2&c&&l.Q6J("source",l.VKq(11,VC,l.VKq(9,BC,l.VKq(7,Ix,l.VKq(5,r_,l.VKq(3,dv,l.DdM(2,cv)))))))("layout",l.DdM(13,Ax))}let UC=(()=>{class c{constructor(){this.imageLoaded=!1}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:3,consts:[["id","cat","url","https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png",3,"imageLoaded"],["id","points","type","symbol",3,"source","layout",4,"ngIf"],["id","points","type","symbol",3,"source","layout"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map")(1,"mgl-image",0),l.NdJ("imageLoaded",function(){return b.imageLoaded=!0}),l.qZA(),l.YNc(2,kx,1,14,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(2),l.Q6J("ngIf",b.imageLoaded))},dependencies:[cn.O5,dn,po,kl,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Px=function(c){return[c,38.907]},jC=function(){return[11.15]};let Ox=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","top-left"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(5,Px,-77.04))("zoom",l.DdM(7,jC))("attributionControl",!1))},dependencies:[dn,Ir,Lt,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function Rx(c,v){1&c&&l._UZ(0,"mgl-feature",4),2&c&&l.Q6J("geometry",v.$implicit)}const Fx=function(){return[8]},o_=function(){return{"icon-image":"oneway"}};let Um=(()=>{class c{constructor(){this.center=[-90.96,-.47],this.geometries=[{type:"Point",coordinates:[-91.395263671875,-.9145729757782163]},{type:"Point",coordinates:[-90.32958984375,-.6344474832838974]},{type:"Point",coordinates:[-91.34033203125,.01647949196029245]}]}centerMapTo(r){this.center=r.features[0].geometry.coordinates}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:9,consts:[[3,"zoom","center","cursorStyle","mapLoad"],["id","symbols-source"],[3,"geometry",4,"ngFor","ngForOf"],["id","symbols","type","symbol","source","symbols-source",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"geometry"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(X){return b.map=X}),l.TgZ(1,"mgl-geojson-source",1),l.YNc(2,Rx,1,1,"mgl-feature",2),l.qZA(),l.TgZ(3,"mgl-layer",3),l.NdJ("layerClick",function(X){return b.centerMapTo(X)})("layerMouseEnter",function(){return b.cursorStyle="pointer"})("layerMouseLeave",function(){return b.cursorStyle=""}),l.qZA()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Fx))("center",b.center)("cursorStyle",b.cursorStyle),l.xp6(2),l.Q6J("ngForOf",b.geometries),l.xp6(1),l.Q6J("layout",l.DdM(8,o_)))},dependencies:[cn.sg,dn,po,ho,mo,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function s_(c,v){1&c&&l._UZ(0,"showcase-cluster-point",6),2&c&&l.Q6J("properties",v.$implicit.properties)}const yf=function(){return[.3]},uv=function(){return[0,20]},Bh=function(){return["!=","cluster",!0]},hv=function(c){return{fill:c}};function Lx(c,v){if(1&c&&(l.O4$(),l._UZ(0,"path",4)),2&c){const r=v.$implicit;l.Q6J("ngStyle",l.VKq(2,hv,r.fill)),l.uIk("d",r.d)}}const jm=function(c){return{font:c}},Vh=["#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c"];let Nx=(()=>{class c{constructor(){const r=["<",["get","mag"],2],h=["all",[">=",["get","mag"],2],["<",["get","mag"],3]],b=["all",[">=",["get","mag"],3],["<",["get","mag"],4]],L=["all",[">=",["get","mag"],4],["<",["get","mag"],5]];this.clusterProperties={mag1:["+",["case",r,1,0]],mag2:["+",["case",h,1,0]],mag3:["+",["case",b,1,0]],mag4:["+",["case",L,1,0]],mag5:["+",["case",[">=",["get","mag"],5],1,0]]},this.circlePaint={"circle-color":["case",r,Vh[0],h,Vh[1],b,Vh[2],L,Vh[3],Vh[4]],"circle-opacity":.6,"circle-radius":12},this.labelLayout={"text-field":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":10},this.labelPaint={"text-color":["case",["<",["get","mag"],3],"black","white"]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:16,consts:[[3,"zoom","center"],["id","earthquakes","data","https://maplibre.org/maplibre-gl-js/docs/assets/earthquakes.geojson",3,"cluster","clusterRadius","clusterProperties"],["source","earthquakes"],["mglClusterPoint",""],["id","earthquake_circle","type","circle","source","earthquakes",3,"filter","paint"],["id","earthquake_label","type","symbol","source","earthquakes",3,"filter","layout","paint"],[3,"properties"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-markers-for-clusters",2),l.YNc(3,s_,1,1,"ng-template",3),l.qZA(),l._UZ(4,"mgl-layer",4)(5,"mgl-layer",5),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(12,yf))("center",l.DdM(13,uv)),l.xp6(1),l.Q6J("cluster",!0)("clusterRadius",80)("clusterProperties",b.clusterProperties),l.xp6(3),l.Q6J("filter",l.DdM(14,Bh))("paint",b.circlePaint),l.xp6(1),l.Q6J("filter",l.DdM(15,Bh))("layout",b.labelLayout)("paint",b.labelPaint))},dependencies:function(){return[dn,po,ho,jo,Jo,qn,zx,Gn]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})(),zx=(()=>{class c{ngOnInit(){const r=[],h=[this.properties.mag1,this.properties.mag2,this.properties.mag3,this.properties.mag4,this.properties.mag5];let b=0;for(let X=0;X<h.length;X++)r.push(b),b+=h[X];this.font=(b>=1e3?22:b>=100?20:b>=10?18:16)+"px sans-serif",this.r=b>=1e3?50:b>=100?32:b>=10?24:18,this.r0=Math.round(.6*this.r),this.w=2*this.r,this.viewbox=`0 0 ${this.w} ${this.w}`,this.textTransform=`translate(${this.r}, ${this.r})`,this.segments=[];for(let X=0;X<h.length;X++)this.segments.push(this.donutSegment(r[X]/b,(r[X]+h[X])/b,Vh[X]));this.totalString=b.toLocaleString()}donutSegment(r,h,b){h-r==1&&(h-=1e-5);const L=2*Math.PI*(r-.25),X=2*Math.PI*(h-.25),fe=Math.cos(L),Ge=Math.sin(L),pt=Math.cos(X),jt=Math.sin(X),Wt=h-r>.5?1:0;return{d:`M ${this.r+this.r0*fe} ${this.r+this.r0*Ge} L ${this.r+this.r*fe} ${this.r+this.r*Ge} A ${this.r} ${this.r} 0 ${Wt} 1 ${this.r+this.r*pt} ${this.r+this.r*jt} L ${this.r+this.r0*pt} ${this.r+this.r0*jt} A ${this.r0} ${this.r0} 0 ${Wt} 0 ${this.r+this.r0*fe} ${this.r+this.r0*Ge}`,fill:b}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-point"]],inputs:{properties:"properties"},decls:5,vars:12,consts:[["text-anchor","middle",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],["fill","white"],["dominant-baseline","central"],[3,"ngStyle"]],template:function(h,b){1&h&&(l.O4$(),l.TgZ(0,"svg",0),l.YNc(1,Lx,1,4,"path",1),l._UZ(2,"circle",2),l.TgZ(3,"text",3),l._uU(4),l.qZA()()),2&h&&(l.Q6J("ngStyle",l.VKq(10,jm,b.font)),l.uIk("width",b.w)("height",b.w)("viewbox",b.viewbox),l.xp6(1),l.Q6J("ngForOf",b.segments),l.xp6(1),l.uIk("cx",b.r)("cy",b.r)("r",b.r0),l.xp6(1),l.uIk("transform",b.textTransform),l.xp6(1),l.hij(" ",b.totalString," "))},dependencies:[cn.sg,cn.PC],encapsulation:2})}return c})();const mv=function(){return["has","point_count"]},a_=function(){return[0,"#51bbd6"]},vf=function(){return[100,"#f1f075"]},bf=function(){return[750,"#f28cb1"]},Bx=function(c,v,r){return[c,v,r]},pv=function(c){return{property:"point_count",type:"interval",stops:c}},Vx=function(){return[0,20]},l_=function(){return[100,30]},Ux=function(){return[750,40]},fv=function(c,v){return{"circle-color":c,"circle-radius":v}},jx=function(){return["DIN Offc Pro Medium","Arial Unicode MS Bold"]},Hx=function(c){return{"text-field":"{point_count_abbreviated}","text-font":c,"text-size":12}},gv=function(){return["!has","point_count"]},_v=function(){return{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};function yv(c,v){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2)(2,"mgl-layer",3)(3,"mgl-layer",4)(4,"mgl-layer",5),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",14)("clusterRadius",50),l.xp6(1),l.Q6J("filter",l.DdM(10,mv))("paint",l.WLB(29,fv,l.VKq(18,pv,l.kEZ(14,Bx,l.DdM(11,a_),l.DdM(12,vf),l.DdM(13,bf))),l.VKq(27,pv,l.kEZ(23,Bx,l.DdM(20,Vx),l.DdM(21,l_),l.DdM(22,Ux))))),l.xp6(1),l.Q6J("filter",l.DdM(32,mv))("layout",l.VKq(34,Hx,l.DdM(33,jx))),l.xp6(1),l.Q6J("filter",l.DdM(36,gv))("paint",l.DdM(37,_v))}}const $x=function(){return[3]},Gx=function(c){return[c,40.66995747013945]};let Zx=(()=>{class c{ngOnInit(){var r=this;return fr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19))})()}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["id","clusters","type","circle","source","earthquakes",3,"filter","paint"],["id","cluster-count","type","symbol","source","earthquakes",3,"filter","layout"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,yv,5,38,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,$x))("center",l.VKq(6,Gx,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",b.earthquakes))},dependencies:[cn.O5,dn,po,ho,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const vv=function(c){return[c,38.907]},c_=function(){return[11.15]},Wx=function(){return['<a href="https://github.com/Wykks/ngx-mapbox-gl" target="_blank">Maps made awesome in Angular</a>',"Hello World"]};let xf=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","bottom-right",3,"customAttribution"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(6,vv,-77.04))("zoom",l.DdM(8,c_))("attributionControl",!1),l.xp6(1),l.Q6J("customAttribution",l.DdM(9,Wx)))},dependencies:[dn,Ir,Lt,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const wf=function(){return[36.235656,50.00387]},u_=function(){return[11.15]};let bv=(()=>{class c{constructor(){this.locale={"FullscreenControl.Enter":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c","FullscreenControl.Exit":"\u0412\u0438\u0439\u0442\u0438 \u0437 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0443","GeolocateControl.FindMyLocation":"\u0417\u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f","GeolocateControl.LocationNotAvailable":"\u041c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435","LogoControl.Title":"\u041b\u043e\u0433\u043e Mapbox","NavigationControl.ResetBearing":"C\u043a\u0438\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u0441","NavigationControl.ZoomIn":"\u041d\u0430\u0431\u043b\u0438\u0437\u0438\u0442\u0438","NavigationControl.ZoomOut":"\u0412\u0456\u0434\u0434\u0430\u043b\u0438\u0442\u0438","ScaleControl.Feet":"\u0444","ScaleControl.Meters":"\u043c","ScaleControl.Kilometers":"\u043a\u043c","ScaleControl.Miles":"\u043c\u0438","ScaleControl.NauticalMiles":"\u043d\u043c"}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:7,consts:[[3,"center","zoom","locale"],["mglFullscreen","","position","top-left"],["mglGeolocate","","position","top-left"],["mglNavigation","","position","top-left"],["mglScale",""]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1)(2,"mgl-control",2)(3,"mgl-control",3)(4,"mgl-control",4),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.DdM(5,wf))("zoom",l.DdM(6,u_))("locale",b.locale))},dependencies:[dn,Ir,Y,Me,oe,Zt,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const qx=function(c,v,r){return{"background-image":c,width:v,height:r}};function Yx(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"mgl-marker",2)(1,"div",3),l.NdJ("click",function(){const L=l.CHM(r).$implicit,X=l.oxw();return l.KtG(X.alert(L.properties.message))}),l.qZA()()}if(2&c){const r=v.$implicit;l.Q6J("feature",r),l.xp6(1),l.Q6J("ngStyle",l.kEZ(2,qx,"url(https://placekitten.com/g/"+r.properties.iconSize.join("/")+"/)",r.properties.iconSize[0]+"px",r.properties.iconSize[1]+"px"))}}const Kx=function(){return[5]},Cf=function(c,v){return[c,v]};let Ef=(()=>{class c{constructor(){this.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{message:"Foo",iconSize:[60,60]},geometry:{type:"Point",coordinates:[-66.324462890625,-16.024695711685304]}},{type:"Feature",properties:{message:"Bar",iconSize:[50,50]},geometry:{type:"Point",coordinates:[-61.2158203125,-15.97189158092897]}},{type:"Feature",properties:{message:"Baz",iconSize:[40,40]},geometry:{type:"Point",coordinates:[-63.29223632812499,-18.28151823530889]}}]}}alert(r){alert(r)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:9,consts:[[3,"zoom","center"],[3,"feature",4,"ngFor","ngForOf"],[3,"feature"],[1,"marker",3,"ngStyle","click"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Yx,2,6,"mgl-marker",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Kx))("center",l.WLB(6,Cf,-65.017,-16.457)),l.xp6(1),l.Q6J("ngForOf",b.geojson.features))},dependencies:[cn.sg,cn.PC,dn,Fs,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]})}return c})();const h_=function(){return[3]},xv=function(c){return[c,39]};let Xx=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(h,b){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,h_))("center",l.VKq(5,xv,-77.38)))},dependencies:[dn,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Jx=function(){return[9]},wv=function(c){return[c,40]};let m_=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(h,b){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Jx))("center",l.VKq(5,wv,-74.5)))},dependencies:[dn,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Cv=["*"],Dv=new l.OlP("MAT_CARD_CONFIG");let Df=(()=>{class c{constructor(r){this.appearance=r?.appearance||"raised"}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(Dv,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(h,b){2&h&&l.ekj("mat-mdc-card-outlined","outlined"===b.appearance)("mdc-card--outlined","outlined"===b.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Cv,decls:1,vars:0,template:function(h,b){1&h&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return c})(),Mf=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[Wn.BQ,cn.ez,Wn.BQ]})}return c})();function tu(c,v){if(1&c&&(l.TgZ(0,"mgl-control",3)(1,"mat-card",4)(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.qZA()()()),2&c){const r=l.oxw();l.xp6(3),l.hij("Longitude:\xa0",r.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",r.coordinates[1],"")}}const uw=function(){return[2]},Tv=function(){return[0,0]};let g_=(()=>{class c{constructor(){this.color="#3887be"}onDragEnd(r){this.coordinates=r.getLngLat().toArray()}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:10,consts:[[3,"zoom","center"],[3,"lngLat","draggable","markerDragEnd"],["position","bottom-left",4,"ngIf"],["position","bottom-left"],["appearance","outlined"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1),l.NdJ("markerDragEnd",function(X){return b.onDragEnd(X)}),l.qZA(),l.YNc(2,tu,6,2,"mgl-control",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,uw))("center",l.DdM(8,Tv)),l.xp6(1),l.Q6J("lngLat",l.DdM(9,Tv))("draggable",!0),l.xp6(1),l.Q6J("ngIf",b.coordinates))},dependencies:[cn.O5,dn,Fs,Ir,Df,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Mu=function(){return[13]},__=function(){return[11.255,43.77]};let hw=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:6,consts:[[3,"zoom","center"],["mglFullscreen",""]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Mu))("center",l.DdM(5,__)))},dependencies:[dn,Ir,Y,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const y_=function(){return[15]},$C=function(c){return[c,37.830348]},GC=function(){return{}},mw=function(c){return[c,37.83381888486939]},pw=function(c){return[c,37.83317489144141]},Iv=function(c){return[c,37.83270036637107]},fw=function(c){return[c,37.832056363179625]},Vs=function(c){return[c,37.83114119107971]},Av=function(c){return[c,37.83049717427869]},gw=function(c){return[c,37.829920943955045]},_w=function(c){return[c,37.82954808664175]},kv=function(c){return[c,37.82944639795659]},yw=function(c){return[c,37.82880236636284]},Pv=function(c){return[c,37.82931081282506]},Ov=function(c){return[c,37.83080223556934]},Uh=function(c){return[c,37.83168351665737]},vw=function(c){return[c,37.832158048267786]},bw=function(c){return[c,37.83297152392784]},Rv=function(c){return[c,37.83263257682617]},xw=function(c){return[c,37.832937629287755]},Fv=function(c){return[c,37.832429207817725]},ZC=function(c){return[c,37.832564787218985]},v_=function(c){return[c,37.83337825839438]},b_=function(c){return[c,37.83368330777276]},vc=function(c,v,r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni,tn,Pi,qi,Tn,Yn,or,vo,Or){return[c,v,r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni,tn,Pi,qi,Tn,Yn,or,vo,Or]},ww=function(c){return{type:"LineString",coordinates:c}},Lv=function(c,v){return{type:"Feature",properties:c,geometry:v}},Zc=function(c){return{type:"geojson",data:c}},bc=function(){return{"line-join":"round","line-cap":"round"}},xc=function(){return{"line-color":"#888","line-width":8}};let Nv=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:84,consts:[[3,"zoom","center"],["id","route","type","line",3,"source","layout","paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,y_))("center",l.VKq(8,$C,-122.486052)),l.xp6(1),l.Q6J("source",l.VKq(80,Zc,l.WLB(77,Lv,l.DdM(10,GC),l.VKq(75,ww,l.rFY(53,vc,[l.VKq(11,mw,-122.48369693756104),l.VKq(13,pw,-122.48348236083984),l.VKq(15,Iv,-122.48339653015138),l.VKq(17,fw,-122.48356819152832),l.VKq(19,Vs,-122.48404026031496),l.VKq(21,Av,-122.48404026031496),l.VKq(23,gw,-122.48348236083984),l.VKq(25,_w,-122.48356819152832),l.VKq(27,kv,-122.48507022857666),l.VKq(29,yw,-122.48610019683838),l.VKq(31,Pv,-122.48695850372314),l.VKq(33,Ov,-122.48700141906738),l.VKq(35,Uh,-122.48751640319824),l.VKq(37,vw,-122.48803138732912),l.VKq(39,bw,-122.48888969421387),l.VKq(41,Rv,-122.48987674713133),l.VKq(43,xw,-122.49043464660643),l.VKq(45,Fv,-122.49125003814696),l.VKq(47,ZC,-122.49163627624512),l.VKq(49,v_,-122.49223709106445),l.VKq(51,b_,-122.49378204345702)])))))("layout",l.DdM(82,bc))("paint",l.DdM(83,xc)))},dependencies:[dn,po,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function zv(c,v){if(1&c&&l._UZ(0,"mgl-layer",5),2&c){const r=v.$implicit;l.Q6J("id",r.id)("type",r.type)("filter",r.filter)("paint",r.paint)}}const Cw=function(){return["!=","cluster",!0]},Ew=function(){return{"circle-color":"rgba(0,255,0,0.5)","circle-radius":20,"circle-blur":1}};function Dw(c,v){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2),l.YNc(2,zv,1,4,"mgl-layer",3),l._UZ(3,"mgl-layer",4),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",15)("clusterRadius",20),l.xp6(1),l.Q6J("ngForOf",r.clusterLayers),l.xp6(1),l.Q6J("filter",l.DdM(7,Cw))("paint",l.DdM(8,Ew))}}const Mw=function(){return[3]},x_=function(c){return[c,40.66995747013945]};let Hm=(()=>{class c{ngOnInit(){var r=this;return fr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19));const h=[[0,"green"],[20,"orange"],[200,"red"]];r.clusterLayers=h.map((b,L)=>({type:"circle",id:`cluster-${L}`,paint:{"circle-color":b[1],"circle-radius":70,"circle-blur":1},filter:L===h.length-1?[">=","point_count",b[0]]:["all",[">=","point_count",b[0]],["<","point_count",h[L+1][0]]]}))})()}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["source","earthquakes",3,"id","type","filter","paint",4,"ngFor","ngForOf"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"],["source","earthquakes",3,"id","type","filter","paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Dw,4,9,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Mw))("center",l.VKq(6,x_,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",b.earthquakes))},dependencies:[cn.sg,cn.O5,dn,po,ho,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Sw=function(){return[2]},Bv=function(c){return[c,37.830348]},Tw=function(){return{"fill-color":"#627BC1","fill-opacity":.5}},Iw=function(){return{"line-color":"#627BC1","line-width":2}},Vv=function(){return{"fill-color":"#627BC1","fill-opacity":1}};let Uv=(()=>{class c{constructor(){this.hoverFilter=["==","name",""]}activateHoverOn(r){this.hoverFilter=["==","name",r.features[0].properties.name]}disableHover(){this.hoverFilter=["==","name",""]}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:14,consts:[[3,"zoom","center"],["id","states","data","https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson"],["id","state-fills","type","fill","source","states",3,"paint","layerMouseMove","layerMouseLeave"],["id","state-borders","type","line","source","states",3,"paint"],["id","state-fills-hover","type","fill","source","states",3,"paint","filter"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerMouseMove",function(X){return b.activateHoverOn(X)})("layerMouseLeave",function(){return b.disableHover()}),l.qZA(),l._UZ(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Sw))("center",l.VKq(9,Bv,-100.486052)),l.xp6(2),l.Q6J("paint",l.DdM(11,Tw)),l.xp6(1),l.Q6J("paint",l.DdM(12,Iw)),l.xp6(1),l.Q6J("paint",l.DdM(13,Vv))("filter",b.hoverFilter))},dependencies:[dn,po,ho,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Sf=function(){return[9]},Aw=function(c){return[c,40]};let jv=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:8,consts:[[3,"zoom","center","interactive"]],template:function(h,b){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Sf))("center",l.VKq(6,Aw,-74.5))("interactive",!1))},dependencies:[dn,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Hv=function(){return[2.9]},$v=function(){return[16.05,48]};let kw=(()=>{class c{changeLangTo(r){this.map&&(this.map.setLayoutProperty("country_1","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_2","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_3","text-field","{name:"+r+"}"))}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:6,consts:[[3,"zoom","center","mapLoad"],["mat-raised-button","",1,"lang-button",3,"click"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(X){return b.map=X}),l.TgZ(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return b.changeLangTo("fr")}),l._uU(3," French "),l.qZA(),l.TgZ(4,"button",1),l.NdJ("click",function(){return b.changeLangTo("ru")}),l._uU(5," Russian "),l.qZA(),l.TgZ(6,"button",1),l.NdJ("click",function(){return b.changeLangTo("de")}),l._uU(7," German "),l.qZA(),l.TgZ(8,"button",1),l.NdJ("click",function(){return b.changeLangTo("es")}),l._uU(9," Spanish "),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Hv))("center",l.DdM(5,$v)))},dependencies:[dn,Ir,$c.lW,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function Pw(c,v){if(1&c&&l._UZ(0,"mgl-geojson-source",3),2&c){const r=l.oxw();l.Q6J("data",r.data)}}const w_=function(){return{"line-color":"yellow","line-opacity":.75,"line-width":5}};function Tf(c,v){1&c&&l._UZ(0,"mgl-layer",4),2&c&&l.Q6J("paint",l.DdM(1,w_))}let Gv=(()=>{class c{constructor(){this.zoom=[0]}ngOnInit(){var r=this;return fr(function*(){const h=yield H.e(330).then(H.t.bind(H,3330,19)),b=h.features[0].geometry.coordinates;h.features[0].geometry.coordinates=[b[0]],r.data=h,r.center=b[0],r.zoom=[14],r.pitch=30;let L=0;r.timer=window.setInterval(()=>{L<b.length?(r.center=b[L],h.features[0].geometry.coordinates.push(b[L]),r.data={...r.data},L++):window.clearInterval(r.timer)},10)})()}ngOnDestroy(){window.clearInterval(this.timer)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:8,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch"],["id","trace",3,"data",4,"ngIf"],["id","trace","type","line","source","trace",3,"paint",4,"ngIf"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Pw,1,1,"mgl-geojson-source",1),l.YNc(2,Tf,1,2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",b.zoom)("center",b.center)("centerWithPanTo",!0)("pitch",b.pitch),l.xp6(1),l.Q6J("ngIf",b.data),l.xp6(1),l.Q6J("ngIf",b.data))},dependencies:[cn.O5,dn,po,ho,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();var Zv=H(6321),Wv=H(4825);const Yv=function(){return[14]},Kv=function(){return{"raster-fade-duration":0}};let Xv=(()=>{class c{constructor(){this.size=.001,this.url="assets/red.png"}ngOnInit(){var r=this;return fr(function*(){const b=(yield H.e(330).then(H.t.bind(H,3330,19))).features[0].geometry.coordinates,L=b.map(fe=>r.makeRectangle(fe));r.center=b[0],r.coordinates=L[0];let X=0;r.sub=function qv(c=0,v=Zv.z){return c<0&&(c=0),(0,Wv.H)(c,c,v)}(250).subscribe(()=>{r.url=Math.random()<.5?"assets/red.png":"assets/blue.png",r.coordinates=L[X],X=(X+1)%L.length})})()}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}makeRectangle([r,h]){return[[r,h],[r+this.size,h],[r+this.size,h-this.size],[r,h-this.size]]}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:9,consts:[["movingMethod","jumpTo",3,"center","zoom"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-image-source",1)(2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",b.center)("zoom",l.DdM(7,Yv)),l.xp6(1),l.Q6J("url",b.url)("coordinates",b.coordinates),l.xp6(1),l.Q6J("paint",l.DdM(8,Kv)))},dependencies:[dn,po,Ps,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Jv=function(){return{enableHighAccuracy:!0}};let Qv=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:5,consts:[["mglGeolocate","",3,"positionOptions","trackUserLocation"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("positionOptions",l.DdM(4,Jv))("trackUserLocation",!0))},dependencies:[dn,Ir,oe,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const eb=function(c){return[c]},Ow=function(){return[17]},Rw=function(){return[4.577979,51.038189]},Fw=function(){return[4.577979,51.03816]};let Lw=(()=>{class c{constructor(){this.pitch=50,this.bearing=-97}ngOnInit(){let r=0;setInterval(()=>{r+=.01,1===r&&(r=0),this.pitch=45+15*Math.cos(r),this.bearing=20*Math.sin(r)-103},20)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:15,consts:[["movingMethod","jumpTo",3,"interactive","pitch","bearing","zoom","center"],["rotationAlignment","map","pitchAlignment","map",3,"lngLat"],[1,"arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 434 437"],["points","37.5 437.18 218 350.75 217.49 -0.37 37.5 437.18",2,"fill","#579120"],["points","397.55 437.13 218 350.75 217.49 -0.37 397.55 437.13",2,"fill","#6fad2d"],["points","217.22 391.46 397.55 437.13 218 350.75 37.5 437.18 217.22 391.46",2,"fill","#315112"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"polygon",4)(5,"polygon",5)(6,"polygon",6),l.qZA()()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("interactive",!1)("pitch",l.VKq(8,eb,b.pitch))("bearing",l.VKq(10,eb,b.bearing))("zoom",l.DdM(12,Ow))("center",l.DdM(13,Rw)),l.xp6(1),l.Q6J("lngLat",l.DdM(14,Fw)))},dependencies:[dn,Fs,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".arrow[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-97deg)}"]})}return c})();const Nw=function(){return[9]},zw=function(c){return[c,40]};let Bw=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:7,consts:[[3,"zoom","center"],["mglNavigation",""]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Nw))("center",l.VKq(5,zw,-74.5)))},dependencies:[dn,Ir,Me,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();var tb=H(8525),C_=H(3651),Vw=H(8484);const Uw=["tooltip"],ib=new l.OlP("mat-tooltip-scroll-strategy"),$w={provide:ib,deps:[C_.aV],useFactory:function Hw(c){return()=>c.scrollStrategies.reposition({scrollThrottle:20})}},rb=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function nb(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),E_="tooltip-panel",D_=(0,Hl.i$)({passive:!0});let S_=(()=>{class c{get position(){return this._position}set position(r){r!==this._position&&(this._position=r,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(r){this._positionAtOrigin=(0,bn.Ig)(r),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,bn.Ig)(r),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(r){this._showDelay=(0,bn.su)(r)}get hideDelay(){return this._hideDelay}set hideDelay(r){this._hideDelay=(0,bn.su)(r),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=r?String(r).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(r){this._tooltipClass=r,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni,tn){this._overlay=r,this._elementRef=h,this._scrollDispatcher=b,this._viewContainerRef=L,this._ngZone=X,this._platform=fe,this._ariaDescriber=Ge,this._focusMonitor=pt,this._dir=Wt,this._defaultOptions=Ni,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ur.x,this._scrollStrategy=jt,this._document=tn,Ni&&(this._showDelay=Ni.showDelay,this._hideDelay=Ni.hideDelay,Ni.position&&(this.position=Ni.position),Ni.positionAtOrigin&&(this.positionAtOrigin=Ni.positionAtOrigin),Ni.touchGestures&&(this.touchGestures=Ni.touchGestures)),Wt.change.pipe((0,zr.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,zr.R)(this._destroyed)).subscribe(r=>{r?"keyboard"===r&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const r=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([h,b])=>{r.removeEventListener(h,b,D_)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(r,this.message,"tooltip"),this._focusMonitor.stopMonitoring(r)}show(r=this.showDelay,h){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const b=this._createOverlay(h);this._detach(),this._portal=this._portal||new Vw.C5(this._tooltipComponent,this._viewContainerRef);const L=this._tooltipInstance=b.attach(this._portal).instance;L._triggerElement=this._elementRef.nativeElement,L._mouseLeaveHideDelay=this._hideDelay,L.afterHidden().pipe((0,zr.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),L.show(r)}hide(r=this.hideDelay){const h=this._tooltipInstance;h&&(h.isVisible()?h.hide(r):(h._cancelPendingAnimations(),this._detach()))}toggle(r){this._isTooltipVisible()?this.hide():this.show(void 0,r)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(r){if(this._overlayRef){const L=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!r)&&L._origin instanceof l.SBq)return this._overlayRef;this._detach()}const h=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),b=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&r||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(h);return b.positionChanges.pipe((0,zr.R)(this._destroyed)).subscribe(L=>{this._updateCurrentPositionClass(L.connectionPair),this._tooltipInstance&&L.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:b,panelClass:`${this._cssClassPrefix}-${E_}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,zr.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,zr.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,zr.R)(this._destroyed)).subscribe(L=>{this._isTooltipVisible()&&L.keyCode===xd.hY&&!(0,xd.Vb)(L)&&(L.preventDefault(),L.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(r){const h=r.getConfig().positionStrategy,b=this._getOrigin(),L=this._getOverlayPosition();h.withPositions([this._addOffset({...b.main,...L.main}),this._addOffset({...b.fallback,...L.fallback})])}_addOffset(r){return r}_getOrigin(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let b;"above"==h||"below"==h?b={originX:"center",originY:"above"==h?"top":"bottom"}:"before"==h||"left"==h&&r||"right"==h&&!r?b={originX:"start",originY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(b={originX:"end",originY:"center"});const{x:L,y:X}=this._invertPosition(b.originX,b.originY);return{main:b,fallback:{originX:L,originY:X}}}_getOverlayPosition(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let b;"above"==h?b={overlayX:"center",overlayY:"bottom"}:"below"==h?b={overlayX:"center",overlayY:"top"}:"before"==h||"left"==h&&r||"right"==h&&!r?b={overlayX:"end",overlayY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(b={overlayX:"start",overlayY:"center"});const{x:L,y:X}=this._invertPosition(b.overlayX,b.overlayY);return{main:b,fallback:{overlayX:L,overlayY:X}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,cl.q)(1),(0,zr.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(r){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=r,this._tooltipInstance._markForCheck())}_invertPosition(r,h){return"above"===this.position||"below"===this.position?"top"===h?h="bottom":"bottom"===h&&(h="top"):"end"===r?r="start":"start"===r&&(r="end"),{x:r,y:h}}_updateCurrentPositionClass(r){const{overlayY:h,originX:b,originY:L}=r;let X;if(X="center"===h?this._dir&&"rtl"===this._dir.value?"end"===b?"left":"right":"start"===b?"left":"right":"bottom"===h&&"top"===L?"above":"below",X!==this._currentPosition){const fe=this._overlayRef;if(fe){const Ge=`${this._cssClassPrefix}-${E_}-`;fe.removePanelClass(Ge+this._currentPosition),fe.addPanelClass(Ge+X)}this._currentPosition=X}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",r=>{let h;this._setupPointerExitEventsIfNeeded(),void 0!==r.x&&void 0!==r.y&&(h=r),this.show(void 0,h)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",r=>{const h=r.targetTouches?.[0],b=h?{x:h.clientX,y:h.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,b),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const r=[];if(this._platformSupportsMouseEvents())r.push(["mouseleave",h=>{const b=h.relatedTarget;(!b||!this._overlayRef?.overlayElement.contains(b))&&this.hide()}],["wheel",h=>this._wheelListener(h)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const h=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};r.push(["touchend",h],["touchcancel",h])}this._addListeners(r),this._passiveListeners.push(...r)}_addListeners(r){r.forEach(([h,b])=>{this._elementRef.nativeElement.addEventListener(h,b,D_)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(r){if(this._isTooltipVisible()){const h=this._document.elementFromPoint(r.clientX,r.clientY),b=this._elementRef.nativeElement;h!==b&&!b.contains(h)&&this.hide()}}_disableNativeGesturesIfNecessary(){const r=this.touchGestures;if("off"!==r){const h=this._elementRef.nativeElement,b=h.style;("on"===r||"INPUT"!==h.nodeName&&"TEXTAREA"!==h.nodeName)&&(b.userSelect=b.msUserSelect=b.webkitUserSelect=b.MozUserSelect="none"),("on"===r||!h.draggable)&&(b.webkitUserDrag="none"),b.touchAction="none",b.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(h){l.$Z()};static#t=this.\u0275dir=l.lG2({type:c,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return c})(),Su=(()=>{class c extends S_{constructor(r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni,tn){super(r,h,b,L,X,fe,Ge,pt,jt,Wt,Ni,tn),this._tooltipComponent=Ww,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(r){const b=!this._dir||"ltr"==this._dir.value;return"top"===r.originY?r.offsetY=-8:"bottom"===r.originY?r.offsetY=8:"start"===r.originX?r.offsetX=b?-8:8:"end"===r.originX&&(r.offsetX=b?8:-8),r}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(C_.aV),l.Y36(l.SBq),l.Y36(Cl.mF),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(Hl.t4),l.Y36(bd.$s),l.Y36(bd.tE),l.Y36(ib),l.Y36(qg.Is,8),l.Y36(rb,8),l.Y36(cn.K0))};static#t=this.\u0275dir=l.lG2({type:c,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(h,b){2&h&&l.ekj("mat-mdc-tooltip-disabled",b.disabled)},exportAs:["matTooltip"],features:[l.qOj]})}return c})(),Zw=(()=>{class c{constructor(r,h){this._changeDetectorRef=r,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ur.x,this._animationsDisabled="NoopAnimations"===h}show(r){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},r)}hide(r){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},r)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:r}){(!r||!this._triggerElement.contains(r))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:r}){(r===this._showAnimation||r===this._hideAnimation)&&this._finalizeAnimation(r===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(r){r?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(r){const h=this._tooltip.nativeElement,b=this._showAnimation,L=this._hideAnimation;if(h.classList.remove(r?L:b),h.classList.add(r?b:L),this._isVisible=r,r&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const X=getComputedStyle(h);("0s"===X.getPropertyValue("animation-duration")||"none"===X.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}r&&this._onShow(),this._animationsDisabled&&(h.classList.add("_mat-animation-noopable"),this._finalizeAnimation(r))}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.sBO),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:c})}return c})(),Ww=(()=>{class c extends Zw{constructor(r,h,b){super(r,b),this._elementRef=h,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const r=this._elementRef.nativeElement.getBoundingClientRect();return r.height>24&&r.width>=200}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-tooltip-component"]],viewQuery:function(h,b){if(1&h&&l.Gf(Uw,7),2&h){let L;l.iGM(L=l.CRH())&&(b._tooltip=L.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(h,b){1&h&&l.NdJ("mouseleave",function(X){return b._handleMouseLeave(X)}),2&h&&l.Udp("zoom",b.isVisible()?1:null)},features:[l.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(h,b){1&h&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(X){return b._handleAnimationEnd(X)}),l.TgZ(2,"div",2),l._uU(3),l.qZA()()),2&h&&(l.ekj("mdc-tooltip--multiline",b._isMultiline),l.Q6J("ngClass",b.tooltipClass),l.xp6(3),l.Oqu(b.message))},dependencies:[cn.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return c})(),qC=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({providers:[$w],imports:[bd.rt,cn.ez,C_.U8,Wn.BQ,Wn.BQ,Cl.ZD]})}return c})();function T_(c,v){if(1&c&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&c){const r=v.$implicit;l.Q6J("value",r),l.xp6(1),l.hij(" ",r," ")}}function YC(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(b){l.CHM(r);const L=l.oxw(2);return l.KtG(L._changePageSize(b.value))}),l.YNc(2,T_,2,2,"mat-option",18),l.qZA()()}if(2&c){const r=l.oxw(2);l.Q6J("appearance",r._formFieldAppearance)("color",r.color),l.xp6(1),l.Q6J("value",r.pageSize)("disabled",r.disabled)("aria-labelledby",r._pageSizeLabelId)("panelClass",r.selectConfig.panelClass||"")("disableOptionCentering",r.selectConfig.disableOptionCentering),l.xp6(1),l.Q6J("ngForOf",r._displayedPageSizeOptions)}}function cb(c,v){if(1&c&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&c){const r=l.oxw(2);l.xp6(1),l.Oqu(r.pageSize)}}function db(c,v){if(1&c&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,YC,3,8,"mat-form-field",14),l.YNc(4,cb,2,1,"div",15),l.qZA()),2&c){const r=l.oxw();l.xp6(1),l.s9C("id",r._pageSizeLabelId),l.xp6(1),l.hij(" ",r._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length<=1)}}function KC(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),l.uIk("aria-label",r._intl.firstPageLabel)}}function jh(c,v){if(1&c){const r=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),l.uIk("aria-label",r._intl.lastPageLabel)}}let If=(()=>{class c{constructor(){this.changes=new ur.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(r,h,b)=>{if(0==b||0==h)return`0 of ${b}`;const L=r*h;return`${L+1} \u2013 ${L<(b=Math.max(b,0))?Math.min(L+h,b):L+h} of ${b}`}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Yw={provide:If,deps:[[new l.FiY,new l.tp0,If]],useFactory:function qw(c){return c||new If}},Af=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),kf=(0,Wn.Id)((0,Wn.dB)(class{}));let nl=(()=>{class c extends kf{get pageIndex(){return this._pageIndex}set pageIndex(r){this._pageIndex=Math.max((0,bn.su)(r),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(r){this._length=(0,bn.su)(r),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(r){this._pageSize=Math.max((0,bn.su)(r),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(r){this._pageSizeOptions=(r||[]).map(h=>(0,bn.su)(h)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(r){this._hidePageSize=(0,bn.Ig)(r)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(r){this._showFirstLastButtons=(0,bn.Ig)(r)}constructor(r,h,b){if(super(),this._intl=r,this._changeDetectorRef=h,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=r.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),b){const{pageSize:L,pageSizeOptions:X,hidePageSize:fe,showFirstLastButtons:Ge}=b;null!=L&&(this._pageSize=L),null!=X&&(this._pageSizeOptions=X),null!=fe&&(this._hidePageSize=fe),null!=Ge&&(this._showFirstLastButtons=Ge)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(r)}previousPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(r)}firstPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=0,this._emitPageEvent(r)}lastPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(r)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const r=this.getNumberOfPages()-1;return this.pageIndex<r&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(r){const b=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/r)||0,this.pageSize=r,this._emitPageEvent(b)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((r,h)=>r-h),this._changeDetectorRef.markForCheck())}_emitPageEvent(r){this.page.emit({previousPageIndex:r,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(h){l.$Z()};static#t=this.\u0275dir=l.lG2({type:c,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[l.qOj]})}return c})(),JC=0,I_=(()=>{class c extends nl{constructor(r,h,b){super(r,h,b),this._pageSizeLabelId="mat-paginator-page-size-label-"+JC++,this._formFieldAppearance=b?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(If),l.Y36(l.sBO),l.Y36(Af,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(h,b){1&h&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,db,5,4,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,KC,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return b.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return b.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,jh,3,5,"button",11),l.qZA()()()),2&h&&(l.xp6(2),l.Q6J("ngIf",!b.hidePageSize),l.xp6(3),l.hij(" ",b._intl.getRangeLabel(b.pageIndex,b.pageSize,b.length)," "),l.xp6(1),l.Q6J("ngIf",b.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",b._intl.previousPageLabel)("matTooltipDisabled",b._previousButtonsDisabled())("matTooltipPosition","above")("disabled",b._previousButtonsDisabled()),l.uIk("aria-label",b._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",b._intl.nextPageLabel)("matTooltipDisabled",b._nextButtonsDisabled())("matTooltipPosition","above")("disabled",b._nextButtonsDisabled()),l.uIk("aria-label",b._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",b.showFirstLastButtons))},dependencies:[cn.sg,cn.O5,$c.RK,Jd.KE,tb.gD,Wn.ey,Su],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return c})(),ub=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({providers:[Yw],imports:[cn.ez,$c.ot,tb.LD,qC]})}return c})();function Kw(c,v){if(1&c&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&c){const r=v.$implicit;l.Q6J("title",r.properties["Secondary ID"]),l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}function hb(c,v){if(1&c){const r=l.EpF();l.TgZ(0,"div",9),l.NdJ("click",function(b){const X=l.CHM(r).$implicit,fe=l.oxw(2);return l.KtG(fe.selectCluster(b,X))}),l._uU(1),l.qZA()}if(2&c){const r=v.$implicit;l.xp6(1),l.hij(" ",null==r.properties?null:r.properties.point_count," ")}}function mb(c,v){if(1&c&&(l.TgZ(0,"mgl-popup",10),l._UZ(1,"showcase-cluster-popup",11),l.qZA()),2&c){l.oxw();const r=l.MAs(2),h=l.oxw();l.Q6J("feature",h.selectedCluster),l.xp6(1),l.Q6J("clusterComponent",r)("selectedCluster",h.selectedCluster)}}function pb(c,v){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2,3),l.TgZ(3,"mgl-markers-for-clusters",4),l.YNc(4,Kw,2,2,"ng-template",5),l.YNc(5,hb,2,1,"ng-template",6),l.qZA(),l.YNc(6,mb,2,3,"mgl-popup",7),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterRadius",50)("clusterMaxZoom",14),l.xp6(5),l.Q6J("ngIf",r.selectedCluster)}}const fb=function(){return[3]},Xw=function(c){return[c,40.66995747013945]};function Jw(c,v){if(1&c&&(l.TgZ(0,"mat-list-item"),l._uU(1),l.qZA()),2&c){const r=v.$implicit;l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}let Qw=(()=>{class c{ngOnInit(){var r=this;return fr(function*(){const h=yield H.e(45).then(H.t.bind(H,3045,19));setInterval(()=>{h.features.length&&h.features.pop(),r.earthquakes={...h}},500)})()}selectCluster(r,h){r.stopPropagation(),this.selectedCluster={geometry:h.geometry,properties:h.properties}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterRadius","clusterMaxZoom"],["clusterComponent",""],["source","earthquakes"],["mglPoint",""],["mglClusterPoint",""],[3,"feature",4,"ngIf"],[1,"marker",3,"title"],[1,"marker-cluster",3,"click"],[3,"feature"],[3,"clusterComponent","selectedCluster"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,pb,7,5,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,fb))("center",l.VKq(6,Xw,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",b.earthquakes))},dependencies:function(){return[cn.O5,dn,ho,he,Es,jo,Jo,qn,Gm,Gn]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker-cluster{width:30px;height:30px;border-radius:50%;background-color:#4f615a;display:flex;justify-content:center;align-items:center;color:#fff;border:2px solid #56c498;cursor:pointer}.marker[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#7d7d7d;display:flex;justify-content:center;align-items:center;border:2px solid #c9c9c9}"]})}return c})(),Gm=(()=>{class c{ngOnChanges(r){this.changePage(),r.selectedCluster&&!r.selectedCluster.isFirstChange()&&this.paginator.firstPage()}changePage(r){var h=this;return fr(function*(){let b=0;r&&(b=5*r.pageIndex),h.leaves=yield h.clusterComponent.getClusterLeaves(h.selectedCluster.properties.cluster_id,5,b)})()}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-popup"]],viewQuery:function(h,b){if(1&h&&l.Gf(I_,7),2&h){let L;l.iGM(L=l.CRH())&&(b.paginator=L.first)}},inputs:{selectedCluster:"selectedCluster",clusterComponent:"clusterComponent"},features:[l.TTD],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"length","pageSize","page"]],template:function(h,b){1&h&&(l.TgZ(0,"mat-list"),l.YNc(1,Jw,2,1,"mat-list-item",0),l.qZA(),l.TgZ(2,"mat-paginator",1),l.NdJ("page",function(X){return b.changePage(X)}),l.qZA()),2&h&&(l.xp6(1),l.Q6J("ngForOf",b.leaves),l.xp6(1),l.Q6J("length",null==b.selectedCluster.properties?null:b.selectedCluster.properties.point_count)("pageSize",5))},dependencies:[cn.sg,$g,Gg,I_],encapsulation:2})}return c})();function e1(c,v){if(1&c){const r=l.EpF();l.ynx(0),l.TgZ(1,"mgl-control")(2,"button",3),l.NdJ("click",function(){l.CHM(r);const b=l.oxw();return l.KtG(b.alert("Hello"))}),l._uU(3," Hello "),l.qZA()(),l._UZ(4,"mgl-control",4)(5,"mgl-control",5),l.TgZ(6,"mgl-control",6),l.NdJ("geolocate",function(b){l.CHM(r);const L=l.oxw();return l.KtG(L.onGeolocate(b))}),l.qZA(),l._UZ(7,"mgl-control",7)(8,"mgl-control",8),l.BQk()}}let t1=(()=>{class c{constructor(){this.visible=!0}alert(r){alert(r)}onGeolocate(r){console.log("geolocate",r)}toggleControls(){this.visible=!this.visible}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:4,consts:[[4,"ngIf"],["position","bottom-right"],["mat-flat-button","","color","accent",3,"click"],["mat-fab","","color","primary",1,"custom-control",3,"click"],["mglAttribution","","position","top-right"],["mglFullscreen","","position","top-right"],["mglGeolocate","","position","top-right",3,"geolocate"],["mglNavigation","","position","top-right"],["mglScale","","position","top-right"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map"),l.YNc(1,e1,9,0,"ng-container",0),l.TgZ(2,"mgl-control",1)(3,"button",2),l.NdJ("click",function(){return b.toggleControls()}),l._uU(4),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngIf",b.visible),l.xp6(3),l.hij(" ",b.visible?"Hide Controls":"Show Controls"," "))},dependencies:[cn.O5,dn,Ir,Y,Me,oe,Lt,Zt,$c.lW,$c.cs,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const n1=function(){return[5]},Tu=function(c,v){return[c,v]};let gb=(()=>{class c{alert(r){alert(r)}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:20,consts:[[3,"zoom","center"],[3,"lngLat"],[1,"marker",2,"background-image","url(https://placekitten.com/g/60/60/)","width","60px","height","60px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/50/50/)","width","50px","height","50px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/40/40/)","width","40px","height","40px",3,"click"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.NdJ("click",function(){return b.alert("Foo")}),l.qZA()(),l.TgZ(3,"mgl-marker",1)(4,"div",3),l.NdJ("click",function(){return b.alert("Bar")}),l.qZA()(),l.TgZ(5,"mgl-marker",1)(6,"div",4),l.NdJ("click",function(){return b.alert("Baz")}),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,n1))("center",l.WLB(8,Tu,-65.017,-16.457)),l.xp6(1),l.Q6J("lngLat",l.WLB(11,Tu,-66.324462890625,-16.024695711685304)),l.xp6(2),l.Q6J("lngLat",l.WLB(14,Tu,-61.2158203125,-15.97189158092897)),l.xp6(2),l.Q6J("lngLat",l.WLB(17,Tu,-63.29223632812499,-18.28151823530889)))},dependencies:[dn,Fs,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]})}return c})();const _b=function(){return[2]},A_=function(){return[0,0]},r1=function(c){return{type:"Point",coordinates:c}};let Zm=(()=>{class c{constructor(){this.layerPaint={"circle-radius":10,"circle-color":"#3887be"},this.coordinates=[0,0]}onDragStart(r){console.log("onDragStart",r)}onDragEnd(r){console.log("onDragEnd",r)}onDrag(r){console.log("onDrag",r),this.coordinates=r.lngLat.toArray()}changeColor(r){this.layerPaint={...this.layerPaint,"circle-color":r}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:11,vars:14,consts:[[3,"zoom","center"],["id","point"],[3,"properties","geometry","mglDraggable","featureDragStart","featureDragEnd","featureDrag"],["id","point","type","circle","source","point",3,"paint","layerMouseEnter","layerMouseLeave"],["targetLayer",""],["position","bottom-left"],["appearance","outlined"]],template:function(h,b){if(1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1)(2,"mgl-feature",2),l.NdJ("featureDragStart",function(X){return b.onDragStart(X)})("featureDragEnd",function(X){return b.onDragEnd(X)})("featureDrag",function(X){return b.onDrag(X)}),l.qZA()(),l.TgZ(3,"mgl-layer",3,4),l.NdJ("layerMouseEnter",function(){return b.changeColor("#3bb2d0")})("layerMouseLeave",function(){return b.changeColor("#3887be")}),l.qZA(),l.TgZ(5,"mgl-control",5)(6,"mat-card",6)(7,"div"),l._uU(8),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.qZA()()()()),2&h){const L=l.MAs(4);l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(9,_b))("center",l.DdM(10,A_)),l.xp6(2),l.Q6J("geometry",l.VKq(12,r1,l.DdM(11,A_)))("mglDraggable",L),l.xp6(1),l.Q6J("paint",b.layerPaint),l.xp6(5),l.hij("Longitude:\xa0",b.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",b.coordinates[1],"")}},dependencies:[dn,po,us,ho,mo,Ir,Df,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Wm=function(){return[15]},o1=function(c){return[c,37.830348]},s1=function(){return{"line-join":"round","line-cap":"round"}},a1=function(){return{"line-color":"#888","line-width":8}};let yb=(()=>{class c{constructor(){this.geometry={type:"LineString",coordinates:[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],["id","oneline"],[3,"geometry"],["id","route","type","line","source","oneline",3,"layout","paint"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1),l._UZ(2,"mgl-feature",2),l.qZA(),l._UZ(3,"mgl-layer",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Wm))("center",l.VKq(8,o1,-122.486052)),l.xp6(2),l.Q6J("geometry",b.geometry),l.xp6(1),l.Q6J("layout",l.DdM(10,s1))("paint",l.DdM(11,a1)))},dependencies:[dn,po,ho,mo,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})(),vb=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:2,consts:[["mglScale","","unit","imperial","position","top-right"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&h&&l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")},dependencies:[dn,Ir,Zt,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const bb=function(){return[12]},l1=function(){return[11.39085,47.27574]};let xb=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:7,consts:[[3,"zoom","center","pitch"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"],["mglNavigation","","showCompass","true","showZoom","true","visualizePitch","true"],["mglTerrain","","source","terrainSource","exaggeration","5","position","top-right"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1)(2,"mgl-control",2)(3,"mgl-control",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,bb))("center",l.DdM(6,l1))("pitch",52))},dependencies:[dn,Os,Ir,Me,fo,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function c1(c,v){if(1&c&&(l.TgZ(0,"mgl-popup",3),l._UZ(1,"span",4),l.qZA()),2&c){const r=l.oxw();l.Q6J("lngLat",r.selectedLngLat)("closeOnClick",!1),l.xp6(1),l.Q6J("innerHTML",null==r.selectedElement?null:r.selectedElement.name,l.oJD)}}const d1=function(){return[3]},QC=function(c){return[c,38.907]},tE=function(){return{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"}},iE=function(){return{"fill-color":"rgba(200, 100, 240, 0.4)","fill-outline-color":"rgba(200, 100, 240, 1)"}};let wb=(()=>{class c{onClick(r){this.selectedLngLat=r.lngLat,this.selectedElement=r.features[0].properties}onMapClick(){this.selectedElement=null}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:13,consts:[[3,"zoom","center","cursorStyle","mapClick"],["id","states-layer","type","fill",3,"source","paint","layerMouseEnter","layerMouseLeave","layerClick"],[3,"lngLat","closeOnClick",4,"ngIf"],[3,"lngLat","closeOnClick"],[3,"innerHTML"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapClick",function(){return b.onMapClick()}),l.TgZ(1,"mgl-layer",1),l.NdJ("layerMouseEnter",function(){return b.cursorStyle="pointer"})("layerMouseLeave",function(){return b.cursorStyle=""})("layerClick",function(X){return b.onClick(X)}),l.qZA(),l.YNc(2,c1,2,3,"mgl-popup",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,d1))("center",l.VKq(9,QC,-100.04))("cursorStyle",b.cursorStyle),l.xp6(1),l.Q6J("source",l.DdM(11,tE))("paint",l.DdM(12,iE)),l.xp6(1),l.Q6J("ngIf",b.selectedElement&&b.selectedLngLat))},dependencies:[cn.O5,dn,po,he,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();function Pf(c,v){if(1&c&&(l.TgZ(0,"mgl-popup",4),l._UZ(1,"span",5),l.qZA()),2&c){const r=l.oxw();l.Q6J("feature",r.selectedPoint),l.xp6(1),l.Q6J("innerHTML",null==r.selectedPoint.properties?null:r.selectedPoint.properties.description,l.oJD)}}const u1=function(){return[11.15]},h1=function(c){return[c,38.907]},Cb=function(){return["get","icon"]},qm=function(c){return{"icon-image":c,"icon-allow-overlap":!0}};let m1=(()=>{class c{constructor(){this.points={type:"FeatureCollection",features:[{type:"Feature",properties:{description:'<strong>Make it Mount Pleasant</strong><p><a href="http://www.mtpleasantdc.com/makeitmtpleasant" target="_blank" title="Opens in a new window">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.038659,38.931567]}},{type:"Feature",properties:{description:'<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a <a href="http://madmens5finale.eventbrite.com/" target="_blank" title="Opens in a new window">Mad Men Season Five Finale Watch Party</a>, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.003168,38.894651]}},{type:"Feature",properties:{description:'<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a <a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Opens in a new window">Big Backyard Beach Bash and Wine Fest</a> on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>',icon:"bar_15"},geometry:{type:"Point",coordinates:[-77.090372,38.881189]}},{type:"Feature",properties:{description:'<strong>Ballston Arts & Crafts Market</strong><p>The <a href="http://ballstonarts-craftsmarket.blogspot.com/" target="_blank" title="Opens in a new window">Ballston Arts & Crafts Market</a> sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>',icon:"art_gallery_15"},geometry:{type:"Point",coordinates:[-77.111561,38.882342]}},{type:"Feature",properties:{description:'<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year\'s <a href="http://dandiesandquaintrelles.com/2012/04/the-seersucker-social-is-set-for-june-9th-save-the-date-and-start-planning-your-look/" target="_blank" title="Opens in a new window">Seersucker Social</a> bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>',icon:"bicycle_15"},geometry:{type:"Point",coordinates:[-77.052477,38.943951]}},{type:"Feature",properties:{description:'<strong>Capital Pride Parade</strong><p>The annual <a href="http://www.capitalpride.org/parade" target="_blank" title="Opens in a new window">Capital Pride Parade</a> makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>',icon:"star_15"},geometry:{type:"Point",coordinates:[-77.043444,38.909664]}},{type:"Feature",properties:{description:'<strong>Muhsinah</strong><p>Jazz-influenced hip hop artist <a href="http://www.muhsinah.com" target="_blank" title="Opens in a new window">Muhsinah</a> plays the <a href="http://www.blackcatdc.com">Black Cat</a> (1811 14th Street NW) tonight with <a href="http://www.exitclov.com" target="_blank" title="Opens in a new window">Exit Clov</a> and <a href="http://godsilla.bandcamp.com" target="_blank" title="Opens in a new window">Gods\u2019illa</a>. 9:00 p.m. $12.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.031706,38.914581]}},{type:"Feature",properties:{description:'<strong>A Little Night Music</strong><p>The Arlington Players\' production of Stephen Sondheim\'s  <a href="http://www.thearlingtonplayers.org/drupal-6.20/node/4661/show" target="_blank" title="Opens in a new window"><em>A Little Night Music</em></a> comes to the Kogod Cradle at The Mead Center for American Theater (1101 6th Street SW) this weekend and next. 8:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.020945,38.878241]}},{type:"Feature",properties:{description:'<strong>Truckeroo</strong><p><a href="http://www.truckeroodc.com/www/" target="_blank">Truckeroo</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.007481,38.876516]}}]}}onClick(r){this.selectedPoint=r.features[0]}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:14,consts:[[3,"zoom","center","cursorStyle"],["id","points",3,"data"],["id","points","source","points","type","symbol",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"feature",4,"ngIf"],[3,"feature"],[3,"innerHTML"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerClick",function(X){return b.onClick(X)})("layerMouseEnter",function(){return b.cursorStyle="pointer"})("layerMouseLeave",function(){return b.cursorStyle=""}),l.qZA(),l.YNc(3,Pf,2,2,"mgl-popup",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,u1))("center",l.VKq(9,h1,-77.04))("cursorStyle",b.cursorStyle),l.xp6(1),l.Q6J("data",b.points),l.xp6(1),l.Q6J("layout",l.VKq(12,qm,l.DdM(11,Cb))),l.xp6(1),l.Q6J("ngIf",b.selectedPoint))},dependencies:[cn.O5,dn,po,ho,he,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const p1=function(){return[3]},Eb=function(c){return[c,37.8]};let f1=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],[3,"lngLat","closeOnClick","className"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-popup",1)(2,"h1"),l._uU(3,"Hello world !"),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,p1))("center",l.VKq(8,Eb,-96)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,Eb,-96))("closeOnClick",!1)("className","custom-popup-class1 custom-popup-class2"))},dependencies:[dn,he,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".custom-popup-class1{color:purple;text-align:center}  .custom-popup-class2{width:300px}"]})}return c})();const g1=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},Db=function(c){return{satellite:c}},_1=function(){return{visibility:"visible"}},y1=function(){return{"raster-opacity":1}},Ym=function(c,v){return{id:"satellite",layout:c,minzoom:0,paint:v,"raster-opacity":1,source:"satellite",type:"raster"}},v1=function(c){return[c]},Mb=function(c,v){return{version:8,sources:c,layers:v}},b1=function(){return[9]},Sb=function(){return[137.9150899566626,36.25956997955441]};let x1=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:19,consts:[[3,"zoom","center"]],template:function(h,b){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn(l.WLB(14,Mb,l.VKq(5,Db,l.DdM(4,g1)),l.VKq(12,v1,l.WLB(9,Ym,l.DdM(7,_1),l.DdM(8,y1))))),l.Q6J("zoom",l.DdM(17,b1))("center",l.DdM(18,Sb)))},dependencies:[dn,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Tb=function(){return[15]},Ib=function(c){return[c,38.8895]},w1=function(){return{"background-image":"url(https://maplibre.org/maplibre-gl-js/docs/assets/washington-monument.jpg)","background-size":"cover",width:"50px",height:"50px","border-radius":"50%",cursor:"pointer"}};let Ab=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:13,consts:[[3,"zoom","center"],[3,"lngLat"],["myMarker",""],[3,"ngStyle"],[3,"marker"]],template:function(h,b){if(1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1,2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"mgl-popup",4),l._uU(5," Construction on the Washington Monument began in 1848. "),l.qZA()()),2&h){const L=l.MAs(2);l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,Tb))("center",l.VKq(8,Ib,-77.0353)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,Ib,-77.0353)),l.xp6(2),l.Q6J("ngStyle",l.DdM(12,w1)),l.xp6(1),l.Q6J("marker",L)}},dependencies:[cn.PC,dn,Fs,he,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const kb=["input"],C1=["*"];let Pb=0;class Ob{constructor(v,r){this.source=v,this.value=r}}const P_={provide:Ia.JU,useExisting:(0,l.Gpc)(()=>Lb),multi:!0},Rb=new l.OlP("MatRadioGroup"),Fb=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function E1(){return{color:"accent"}}});let D1=(()=>{class c{get name(){return this._name}set name(r){this._name=r,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition="before"===r?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(r){this._selected=r,this.value=r?r.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,bn.Ig)(r),this._markRadiosForCheck()}get required(){return this._required}set required(r){this._required=(0,bn.Ig)(r),this._markRadiosForCheck()}constructor(r){this._changeDetector=r,this._value=null,this._name="mat-radio-group-"+Pb++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(r=>r===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(r=>{r.name=this.name,r._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(h=>{h.checked=this.value===h.value,h.checked&&(this._selected=h)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Ob(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(r=>r._markForCheck())}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.sBO))};static#t=this.\u0275dir=l.lG2({type:c,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return c})();class M1{constructor(v){this._elementRef=v}}const S1=(0,Wn.Kr)((0,Wn.sb)(M1));let T1=(()=>{class c extends S1{get checked(){return this._checked}set checked(r){const h=(0,bn.Ig)(r);this._checked!==h&&(this._checked=h,h&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!h&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),h&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===r),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(r){this._labelPosition=r}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(r){this._setDisabled((0,bn.Ig)(r))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(r){this._required=(0,bn.Ig)(r)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(r){this._color=r}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,b,L,X,fe,Ge,pt){super(h),this._changeDetector=b,this._focusMonitor=L,this._radioDispatcher=X,this._providerOverride=Ge,this._uniqueId="mat-radio-"+ ++Pb,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=r,this._noopAnimations="NoopAnimations"===fe,pt&&(this.tabIndex=(0,bn.su)(pt,0))}focus(r,h){h?this._focusMonitor.focusVia(this._inputElement,h,r):this._inputElement.nativeElement.focus(r)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((r,h)=>{r!==this.id&&h===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{!r&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Ob(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(r){r.stopPropagation()}_onInputInteraction(r){if(r.stopPropagation(),!this.checked&&!this.disabled){const h=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),h&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(r){this._onInputInteraction(r),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(r){this._disabled!==r&&(this._disabled=r,this._changeDetector.markForCheck())}_updateTabIndex(){const r=this.radioGroup;let h;if(h=r&&r.selected&&!this.disabled?r.selected===this?this.tabIndex:-1:this.tabIndex,h!==this._previousTabIndex){const b=this._inputElement?.nativeElement;b&&(b.setAttribute("tabindex",h+""),this._previousTabIndex=h)}}static#e=this.\u0275fac=function(h){l.$Z()};static#t=this.\u0275dir=l.lG2({type:c,viewQuery:function(h,b){if(1&h&&l.Gf(kb,5),2&h){let L;l.iGM(L=l.CRH())&&(b._inputElement=L.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]})}return c})(),Lb=(()=>{class c extends D1{static#e=this.\u0275fac=function(){let r;return function(b){return(r||(r=l.n5z(c)))(b||c)}}();static#t=this.\u0275dir=l.lG2({type:c,selectors:[["mat-radio-group"]],contentQueries:function(h,b,L){if(1&h&&l.Suo(L,Nb,5),2&h){let X;l.iGM(X=l.CRH())&&(b._radios=X)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([P_,{provide:Rb,useExisting:c}]),l.qOj]})}return c})(),Nb=(()=>{class c extends T1{constructor(r,h,b,L,X,fe,Ge,pt){super(r,h,b,L,X,fe,Ge,pt)}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(Rb,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(bd.tE),l.Y36(Cu.A8),l.Y36(l.QbO,8),l.Y36(Fb,8),l.$8M("tabindex"))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(h,b){1&h&&l.NdJ("focus",function(){return b._inputElement.nativeElement.focus()}),2&h&&(l.uIk("id",b.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-primary","primary"===b.color)("mat-accent","accent"===b.color)("mat-warn","warn"===b.color)("mat-mdc-radio-checked",b.checked)("_mat-animation-noopable",b._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:C1,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(h,b){if(1&h&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),l.NdJ("click",function(X){return b._onTouchTargetClick(X)}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("change",function(X){return b._onInputInteraction(X)}),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"div",7)(8,"div",8),l.qZA(),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA()(),l.TgZ(11,"label",11),l.Hsn(12),l.qZA()()),2&h){const L=l.MAs(1);l.ekj("mdc-form-field--align-end","before"==b.labelPosition),l.xp6(2),l.ekj("mdc-radio--disabled",b.disabled),l.xp6(2),l.Q6J("id",b.inputId)("checked",b.checked)("disabled",b.disabled)("required",b.required),l.uIk("name",b.name)("value",b.value)("aria-label",b.ariaLabel)("aria-labelledby",b.ariaLabelledby)("aria-describedby",b.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",L)("matRippleDisabled",b._isRippleDisabled())("matRippleCentered",!0),l.xp6(2),l.Q6J("for",b.inputId)}},dependencies:[Wn.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return c})(),I1=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[Wn.BQ,cn.ez,Wn.si,Wn.BQ]})}return c})();const zb=function(){return[13]},Bb=function(){return[4.899,52.372]};let A1=(()=>{class c{constructor(){this.layerId="streets"}ngOnInit(){this.changeStyle(this.layerId)}changeStyle(r){this.style="streets"===r?"https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL":{version:8,sources:{raster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],minzoom:0,maxzoom:15,scheme:"xyz",tileSize:256}},layers:[{id:"some-raster-layer-id",type:"raster",source:"raster",layout:{visibility:"visible"},paint:{"raster-opacity":1}}]}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:7,consts:[[3,"zoom","center"],[1,"radio-group",3,"ngModel","ngModelChange"],["value","streets"],["value","code"]],template:function(h,b){1&h&&(l._UZ(0,"mgl-map",0),l.TgZ(1,"mat-radio-group",1),l.NdJ("ngModelChange",function(X){return b.changeStyle(X)}),l.TgZ(2,"mat-radio-button",2),l._uU(3,"streets"),l.qZA(),l.TgZ(4,"mat-radio-button",3),l._uU(5,"from code"),l.qZA()()),2&h&&(l.Akn(b.style),l.Q6J("zoom",l.DdM(5,zb))("center",l.DdM(6,Bb)),l.xp6(1),l.Q6J("ngModel",b.layerId))},dependencies:[Ia.JJ,Ia.On,dn,Lb,Nb,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".radio-group[_ngcontent-%COMP%]{position:absolute;padding:8px;background:#fff}"]})}return c})();const Vb=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},O1=function(){return{type:"raster-dem",url:"https://demotiles.maplibre.org/terrain-tiles/tiles.json",tileSize:256}},R1=function(c,v){return{satelliteSource:c,terrainSource:v}},F1=function(){return{id:"satellite",type:"raster",source:"satelliteSource"}},O_=function(c){return[c]},R_=function(){return{source:"terrainSource",exaggeration:1}},Ub=function(c,v,r){return{version:8,sources:c,layers:v,terrain:r}},F_=function(){return[12]},L1=function(){return[11.39085,47.27574]};let N1=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:20,consts:[[3,"zoom","center","pitch"]],template:function(h,b){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn(l.kEZ(14,Ub,l.WLB(7,R1,l.DdM(5,Vb),l.DdM(6,O1)),l.VKq(11,O_,l.DdM(10,F1)),l.DdM(13,R_))),l.Q6J("zoom",l.DdM(18,F_))("center",l.DdM(19,L1))("pitch",52))},dependencies:[dn,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const L_=function(){return[12]},z1=function(){return[11.39085,47.27574]};let jb=(()=>{class c{constructor(){this.mapLibreExampleSource="https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",this.terrainSpec={source:"terrainSource",exaggeration:1}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center","pitch","terrain"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1),l.qZA()),2&h&&(l.Akn(b.mapLibreExampleSource),l.Q6J("zoom",l.DdM(6,L_))("center",l.DdM(7,z1))("pitch",52)("terrain",b.terrainSpec))},dependencies:[dn,Os,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})();const Iu=["button"],Hb=["*"],$b=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),B1=new l.OlP("MatButtonToggleGroup");let Of=0;class Gb{constructor(v,r){this.source=v,this.value=r}}const Wb=(0,Wn.Kr)(class{});let qb=(()=>{class c extends Wb{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){const h=(0,bn.Ig)(r);h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=(0,bn.Ig)(r)}constructor(r,h,b,L,X,fe){super(),this._changeDetectorRef=h,this._elementRef=b,this._focusMonitor=L,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const Ge=Number(X);this.tabIndex=Ge||0===Ge?Ge:null,this.buttonToggleGroup=r,this.appearance=fe&&fe.appearance?fe.appearance:"standard"}ngOnInit(){const r=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Of++,r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){const r=!!this._isSingleSelector()||!this._checked;r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Gb(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(B1,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(bd.tE),l.$8M("tabindex"),l.Y36($b,8))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-button-toggle"]],viewQuery:function(h,b){if(1&h&&l.Gf(Iu,5),2&h){let L;l.iGM(L=l.CRH())&&(b._buttonElement=L.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(h,b){1&h&&l.NdJ("focus",function(){return b.focus()}),2&h&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",b.id)("name",null),l.ekj("mat-button-toggle-standalone",!b.buttonToggleGroup)("mat-button-toggle-checked",b.checked)("mat-button-toggle-disabled",b.disabled)("mat-button-toggle-appearance-standard","standard"===b.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:Hb,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(h,b){if(1&h&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return b._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&h){const L=l.MAs(1);l.Q6J("id",b.buttonId)("disabled",b.disabled||null),l.uIk("tabindex",b.disabled?-1:b.tabIndex)("aria-pressed",b.checked)("name",b._getButtonName())("aria-label",b.ariaLabel)("aria-labelledby",b.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",L)("matRippleDisabled",b.disableRipple||b.disabled)}},dependencies:[Wn.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return c})(),Yb=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[Wn.BQ,Wn.si,Wn.BQ]})}return c})();const z_=function(){return[3]},Kb=function(c,v){return[c,v]},Jb=function(){return["https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf"]},Qb=function(){return{"line-color":"blue"}};let V1=(()=>{class c{constructor(){this.layouts={countries:{visibility:"none"},names:{visibility:"none","text-field":"{name:latin}","text-size":30}}}ngOnInit(){}toggleLayer(r){this.layouts[r.value]={...this.layouts[r.value],visibility:"visible"===this.layouts[r.value].visibility?"none":"visible"}}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:16,consts:[[3,"zoom","center"],["id","countries",3,"tiles"],["id","everything","url","https://api.maptiler.com/tiles/v3/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"],["id","countries-layer","type","line","source","countries","sourceLayer","countries",3,"layout","paint"],["id","names","type","symbol","source","everything","sourceLayer","place",3,"layout"],[1,"menu"],["value","names",3,"checked","change"],["value","countries",3,"checked","change"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-vector-source",1)(2,"mgl-vector-source",2)(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA(),l.TgZ(5,"div",5)(6,"mat-button-toggle",6),l.NdJ("change",function(X){return b.toggleLayer(X)}),l._uU(7,"countries names"),l.qZA(),l.TgZ(8,"mat-button-toggle",7),l.NdJ("change",function(X){return b.toggleLayer(X)}),l._uU(9,"countries border"),l.qZA()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(10,z_))("center",l.WLB(11,Kb,-71.97722138410576,-13.517379300798098)),l.xp6(1),l.Q6J("tiles",l.DdM(14,Jb)),l.xp6(2),l.Q6J("layout",b.layouts.countries)("paint",l.DdM(15,Qb)),l.xp6(1),l.Q6J("layout",b.layouts.names),l.xp6(2),l.Q6J("checked",!0),l.xp6(2),l.Q6J("checked",!0))},dependencies:[dn,po,Pl,qb,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".menu[_ngcontent-%COMP%]{position:absolute;padding:8px}"]})}return c})();const U1=function(){return[12]},j1=function(c){return[c,38.897]},H1=function(){return{padding:20}},e0=function(){return{"line-color":"#BF93E4","line-width":5}},rE=function(){return{"line-join":"round","line-cap":"round"}};let t0=(()=>{class c{constructor(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",properties:{},coordinates:[[-77.0366048812866,38.89873175227713],[-77.03364372253417,38.89876515143842],[-77.03364372253417,38.89549195896866],[-77.02982425689697,38.89549195896866],[-77.02400922775269,38.89387200688839],[-77.01519012451172,38.891416957534204],[-77.01521158218382,38.892068305429156],[-77.00813055038452,38.892051604275686],[-77.00832366943358,38.89143365883688],[-77.00818419456482,38.89082405874451],[-77.00815200805664,38.88989712255097]]}}]}}}zoomToBounds(){const r=this.source.data.features[0].geometry.coordinates;this.bounds=r.reduce((h,b)=>h.extend(b),new Vo.LngLatBounds(r[0],r[0]))}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:15,consts:[[3,"zoom","center","fitBounds","fitBoundsOptions"],["mat-raised-button","",1,"zoom-button",3,"click"],["id","LineString","type","line",3,"source","paint","layout"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return b.zoomToBounds()}),l._uU(3," Zoom to bounds "),l.qZA()(),l._UZ(4,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(9,U1))("center",l.VKq(10,j1,-77.0214))("fitBounds",b.bounds)("fitBoundsOptions",l.DdM(12,H1)),l.xp6(4),l.Q6J("source",b.source)("paint",l.DdM(13,e0))("layout",l.DdM(14,rE)))},dependencies:[dn,po,Ir,$c.lW,qn,Gn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return c})(),n0=(()=>{class c{constructor(r){this.router=r}canActivate(r){return!!Jm[0].children.some(h=>h.path===r.params.demoUrl)||(this.router.navigate(["/demo"]),!1)}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(me.F0))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Z1="https://stackblitz.com",B_=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],r0=["project","search","ports","settings"],o0=["light","dark"],s0=["editor","preview"],a0={clickToLoad:c=>$h("ctl",c),devToolsHeight:c=>c0("devtoolsheight",c),forceEmbedLayout:c=>$h("embed",c),hideDevTools:c=>$h("hidedevtools",c),hideExplorer:c=>$h("hideExplorer",c),hideNavigation:c=>$h("hideNavigation",c),openFile:c=>Gh("file",c),showSidebar:c=>function W1(c,v){return"boolean"==typeof v?`${c}=${v?"1":"0"}`:""}("showSidebar",c),sidebarView:c=>Rf("sidebarView",c,r0),startScript:c=>Gh("startScript",c),terminalHeight:c=>c0("terminalHeight",c),theme:c=>Rf("theme",c,o0),view:c=>Rf("view",c,s0),zenMode:c=>$h("zenMode",c)};function l0(c={}){const v=Object.entries(c).map(([r,h])=>null!=h&&a0.hasOwnProperty(r)?a0[r](h):"").filter(Boolean);return v.length?`?${v.join("&")}`:""}function $h(c,v){return!0===v?`${c}=1`:""}function c0(c,v){if("number"==typeof v&&!Number.isNaN(v)){const r=Math.min(100,Math.max(0,v));return`${c}=${encodeURIComponent(Math.round(r))}`}return""}function Rf(c,v="",r=[]){return r.includes(v)?`${c}=${encodeURIComponent(v)}`:""}function Gh(c,v){return(Array.isArray(v)?v:[v]).filter(h=>"string"==typeof h&&""!==h.trim()).map(h=>`${c}=${encodeURIComponent(h)}`).join("&")}function V_(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function Lf(c,v){const r={forceEmbedLayout:!0};return v&&"object"==typeof v&&Object.assign(r,v),`${U_(r)}${c}${l0(r)}`}function U_(c={}){return("string"==typeof c.origin?c.origin:Z1).replace(/\/$/,"")}function Nf(c,v,r){if(!v||!c||!c.parentNode)throw new Error("Invalid Element");c.id&&(v.id=c.id),c.className&&(v.className=c.className),function sE(c,v={}){const r=Object.hasOwnProperty.call(v,"height")?`${v.height}`:"300",h=Object.hasOwnProperty.call(v,"width")?`${v.width}`:void 0;c.setAttribute("height",r),h?c.setAttribute("width",h):c.setAttribute("style","width:100%;")}(v,r),c.replaceWith(v)}function zf(c){if("string"==typeof c){const v=document.getElementById(c);if(!v)throw new Error(`Could not find element with id '${c}'`);return v}if(c instanceof HTMLElement)return c;throw new Error(`Invalid element: ${c}`)}class aE{constructor(v){this.pending={},this.port=v,this.port.onmessage=this.messageListener.bind(this)}request({type:v,payload:r}){return new Promise((h,b)=>{const L=V_();this.pending[L]={resolve:h,reject:b},this.port.postMessage({type:v,payload:{...r,__reqid:L}})})}messageListener(v){if("string"!=typeof v.data.payload?.__reqid)return;const{type:r,payload:h}=v.data,{__reqid:b,__success:L,__error:X}=h;this.pending[b]&&(L?this.pending[b].resolve(this.cleanResult(h)):this.pending[b].reject(X?`${r}: ${X}`:r),delete this.pending[b])}cleanResult(v){const r={...v};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class d0{constructor(v,r){this.editor={openFile:h=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:h}}),setCurrentFile:h=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:h}}),setTheme:h=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:h}}),setView:h=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:h}}),showSidebar:(h=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:h}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(h=>h?.url??null),setUrl:(h="/")=>{if("string"!=typeof h||!h.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${h}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:h}})}},this._rdc=new aE(v),Object.defineProperty(this.preview,"origin",{value:"string"==typeof r.previewOrigin?r.previewOrigin:null,writable:!1})}applyFsDiff(v){const r=h=>null!==h&&"object"==typeof h;if(!r(v)||!r(v.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(v.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:v})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const Bf=[];class q1{constructor(v){this.id=V_(),this.element=v,this.pending=new Promise((r,h)=>{const b=({data:pt,ports:jt})=>{"SDK_INIT_SUCCESS"===pt?.action&&pt.id===this.id&&(this.vm=new d0(jt[0],pt.payload),r(this.vm),X())},L=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function X(){window.clearInterval(Ge),window.removeEventListener("message",b)}window.addEventListener("message",b),L();let fe=0;const Ge=window.setInterval(()=>{if(!this.vm)return fe>=20?(X(),h("Timeout: Unable to establish a connection with the StackBlitz VM"),void Bf.forEach((pt,jt)=>{pt.id===this.id&&Bf.splice(jt,1)})):(fe++,void L());X()},500)}),Bf.push(this)}}function u0({template:c,title:v,description:r,dependencies:h,files:b,settings:L}){if(!B_.includes(c)){const pt=B_.map(jt=>`'${jt}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${pt}`)}const X=[],fe=(pt,jt,Wt="")=>{X.push(function K1(c,v){const r=document.createElement("input");return r.type="hidden",r.name=c,r.value=v,r}(pt,"string"==typeof jt?jt:Wt))};fe("project[title]",v),"string"==typeof r&&r.length>0&&fe("project[description]",r),fe("project[template]",c,"javascript"),h&&("node"===c?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):fe("project[dependencies]",JSON.stringify(h))),L&&fe("project[settings]",JSON.stringify(L)),Object.entries(b).forEach(([pt,jt])=>{fe(`project[files][${function Km(c){return c.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(pt)}]`,jt)});const Ge=document.createElement("form");return Ge.method="POST",Ge.setAttribute("style","display:none!important;"),Ge.append(...X),Ge}function H_(c){return c?.contentWindow?((c=>{const v=c instanceof Element?"element":"id";return Bf.find(r=>r[v]===c)??null})(c)??new q1(c)).pending:Promise.reject("Provided element is not an iframe.")}const Uf_embedProject=function Q1(c,v,r){const h=zf(c),b=function Vf(c,v){const r=u0(c);return r.action=Lf("/run",v),r.id="sb_run",`<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${r.outerHTML}\n  <script>document.getElementById('${r.id}').submit();<\/script>\n</body>\n</html>`}(v,r),L=document.createElement("iframe");return Nf(h,L,r),L.contentDocument?.write(b),H_(L)};var jf=H(9315),h0=H(2096),m0=H(7715),Zh=H(940),iC=H(4716);function nC(c){return c.replace(/(^\w|-\w)/g,p0)}function p0(c){return c.replace(/-/,"").toUpperCase()}var $_=H(9862);const G_="app/demo/examples/";let Hf=(()=>{class c{constructor(r){this.http=r,this.fileCache=new Map,this.loadFile("example.css")}getDemoFiles(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${G_}${r}.component.ts`,{responseType:"text"}).pipe((0,ks.w)(b=>this.loadAdditionnalFilesIfNecessary(b)),(0,Zh.d)(1)),this.fileCache.set(r,h),h)}loadAdditionnalFilesIfNecessary(r){const h=/'\.\/([\w-.]+\.\w+)'/g;let b;const L=[],X={"src/demo.ts":r};for(;b=h.exec(r);)L.push(this.loadFile(b[1]));return L.length?(0,jf.D)(L).pipe((0,Ea.U)(fe=>({...Object.assign({},...fe),...X}))):(0,h0.of)(X)}loadFile(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${G_}${r}`,{responseType:"text"}).pipe((0,Ea.U)(b=>({[`src/${r}`]:b})),(0,Zh.d)(1)),this.fileCache.set(r,h),h)}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG($_.eN))};static#t=this.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const oC=["determinateSpinner"];function sC(c,v){if(1&c&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&c){const r=l.oxw();l.uIk("viewBox",r._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),l.uIk("r",r._circleRadius())}}const f0=(0,Wn.pj)(class{constructor(c){this._elementRef=c}},"primary"),g0=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Z_(){return{diameter:W_}}}),W_=100;let _0=(()=>{class c extends f0{constructor(r,h,b){super(r),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=W_,this._noopAnimations="NoopAnimations"===h&&!!b&&!b._forceAnimations,b&&(b.color&&(this.color=this.defaultColor=b.color),b.diameter&&(this.diameter=b.diameter),b.strokeWidth&&(this.strokeWidth=b.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,(0,bn.su)(r)))}get diameter(){return this._diameter}set diameter(r){this._diameter=(0,bn.su)(r)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(r){this._strokeWidth=(0,bn.su)(r)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const r=2*this._circleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(g0))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(h,b){if(1&h&&l.Gf(oC,5),2&h){let L;l.iGM(L=l.CRH())&&(b._determinateCircle=L.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(h,b){2&h&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===b.mode?b.value:null)("mode",b.mode),l.Udp("width",b.diameter,"px")("height",b.diameter,"px")("--mdc-circular-progress-size",b.diameter+"px")("--mdc-circular-progress-active-indicator-width",b.diameter+"px"),l.ekj("_mat-animation-noopable",b._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===b.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(h,b){if(1&h&&(l.YNc(0,sC,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&h){const L=l.MAs(1);l.xp6(4),l.uIk("viewBox",b._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",b._strokeCircumference(),"px")("stroke-dashoffset",b._strokeDashOffset(),"px")("stroke-width",b._circleStrokeWidth(),"%"),l.uIk("r",b._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",L),l.xp6(2),l.Q6J("ngTemplateOutlet",L),l.xp6(2),l.Q6J("ngTemplateOutlet",L)}},dependencies:[cn.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return c})(),cC=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[cn.ez,Wn.BQ]})}return c})();const dC=["container"];function q_(c,v){1&c&&(l.TgZ(0,"div",2),l._UZ(1,"mat-spinner")(2,"div"),l.qZA())}let Y_=(()=>{class c{constructor(r,h,b,L,X){this.zone=r,this.activatedRoute=h,this.demoFileLoaderService=b,this.http=L,this.ChangeDetectorRef=X,this.loading=!0,this.projectbase$=(0,jf.D)([this.http.get("assets/stackblitz/main.notts",{responseType:"text"}),this.http.get("assets/stackblitz/angular.json",{responseType:"text"})]).pipe((0,Zh.d)(1))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngAfterViewInit(){this.sub=this.activatedRoute.params.pipe((0,Ya.b)(()=>{this.loading=!0,this.ChangeDetectorRef.markForCheck()}),(0,ks.w)(r=>(0,jf.D)([this.projectbase$,this.demoFileLoaderService.getDemoFiles(r.demoUrl),(0,h0.of)(r.demoUrl)])),(0,ks.w)(([r,h,b])=>(0,m0.D)(this.openExample(r,h,b)).pipe((0,iC.x)(()=>{this.loading=!1,this.ChangeDetectorRef.markForCheck()})))).subscribe()}openExample(r,h,b){var L=this;return fr(function*(){if(L.vm)return void(yield L.vm.applyFsDiff({create:h,destroy:[]}));const X=function rC(c,v,r){return{files:{"src/main.ts":c[0].replace(/###/g,nC(r)+"Component"),"angular.json":c[1],"src/index.html":"<showcase-demo></showcase-demo>","src/styles.css":"\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n","src/polyfills.ts":"\nimport 'zone.js';\n(window as any).global = window;\n",...v},title:"",description:"",template:"angular-cli",dependencies:{tslib:"*","maplibre-gl":"*","@maplibre/maplibre-gl-style-spec":"*","@maplibre/ngx-maplibre-gl":"*","@angular/cdk":"^16","@angular/material":"^16","@angular/animations":"^16","@angular/forms":"^16","@angular/common":"^16","@angular/compiler":"^16","@angular/core":"^16","@angular/platform-browser":"^16","@angular/platform-browser-dynamic":"^16","@angular/router":"^16",url:"*",querystring:"*",events:"*","@types/supercluster":"*","@types/geojson":"*"}}}(r,h,b);yield L.zone.runOutsideAngular(fr(function*(){L.vm=yield Uf_embedProject(L.stackblitzContainer.nativeElement,X,{hideExplorer:!0,hideNavigation:!0,forceEmbedLayout:!0,openFile:"src/demo.ts"})}))})()}static#e=this.\u0275fac=function(h){return new(h||c)(l.Y36(l.R0b),l.Y36(me.gz),l.Y36(Hf),l.Y36($_.eN),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(h,b){if(1&h&&l.Gf(dC,5),2&h){let L;l.iGM(L=l.CRH())&&(b.stackblitzContainer=L.first)}},decls:3,vars:1,consts:[["container",""],["class","loader",4,"ngIf"],[1,"loader"]],template:function(h,b){1&h&&(l._UZ(0,"div",null,0),l.YNc(2,q_,3,0,"div",1)),2&h&&(l.xp6(2),l.Q6J("ngIf",b.loading))},dependencies:[cn.O5,_0],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}[_nghost-%COMP%]     iframe{height:100%;width:100%;border:0}.loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0})}return c})();var xn=function(c){return c.STYLES="Styles",c.LAYERS="Layers",c.SOURCES="Sources",c.USER_INTERACTION="User interaction",c.CAMERA="Camera",c.CONTROLS_AND_OVERLAYS="Controls and overlays",c.TERRAIN="3D Terrain",c}(xn||{});const Jm=[{path:"",component:wx,children:[{path:"edit/:demoUrl",component:Y_,canActivate:[n0]},{path:"display-map",component:m_,data:{label:"Display a map",cat:xn.STYLES}},{path:"custom-style-id",component:Xx,data:{label:"Display a map with a custom style",cat:xn.STYLES}},{path:"set-style",component:A1,data:{label:"Change a map's style",cat:xn.STYLES}},{path:"satellite-map",component:x1,data:{label:"Display a satellite map",cat:xn.STYLES}},{path:"add-image-generated",component:n_,data:{label:"Add a generated icon to the map",cat:xn.LAYERS}},{path:"add-image",component:UC,data:{label:"Add an icon to the map",cat:xn.LAYERS}},{path:"toggle-layers",component:V1,data:{label:"Show and hide layers",cat:xn.LAYERS}},{path:"3d-buildings",component:Sx,data:{label:"Display 3d buildings",cat:xn.LAYERS}},{path:"cluster",component:Zx,data:{label:"Create and style clusters",cat:xn.LAYERS}},{path:"heatmap",component:Hm,data:{label:"Create a heatmap layer",cat:xn.LAYERS}},{path:"geojson-line",component:Nv,data:{label:"Add a GeoJSON line",cat:xn.LAYERS}},{path:"ngx-geojson-line",component:yb,data:{label:"[NGX] Add a GeoJSON line",cat:xn.LAYERS}},{path:"custom-marker-icons",component:Ef,data:{label:"Add custom icons with Markers",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-marker-icons",component:gb,data:{label:"[NGX] Add custom icons with Markers",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"live-update-feature",component:Gv,data:{label:"Update a feature in realtime",cat:xn.SOURCES}},{path:"live-update-image-source",component:Xv,data:{label:"Update an image source in realtime",cat:xn.SOURCES}},{path:"popup",component:f1,data:{label:"Display a popup",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"set-popup",component:Ab,data:{label:"Attach a popup to a marker instance",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"fullscreen",component:hw,data:{label:"View a fullscreen map",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"navigation",component:Bw,data:{label:"Display map navigation controls",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"locate-user",component:Qv,data:{label:"Locate the user",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"attribution-position",component:Ox,data:{label:"Change the default position for attribution",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"ngx-scale-control",component:vb,data:{label:"[NGX] Show scale information",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-control",component:t1,data:{label:"[NGX] Add a custom control",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"interactive-false",component:jv,data:{label:"Display a non-interactive map",cat:xn.USER_INTERACTION}},{path:"language-switch",component:kw,data:{label:"Change a map's language",cat:xn.USER_INTERACTION}},{path:"center-on-symbol",component:Um,data:{label:"Center the map on a clicked symbol",cat:xn.USER_INTERACTION}},{path:"ngx-drag-a-point",component:Zm,data:{label:"[NGX] Create a draggable point",cat:xn.USER_INTERACTION}},{path:"drag-a-marker",component:g_,data:{label:"Create a draggable marker",cat:xn.USER_INTERACTION}},{path:"hover-styles",component:Uv,data:{label:"Create a hover effect",cat:xn.USER_INTERACTION}},{path:"popup-on-click",component:m1,data:{label:"Display a popup on click",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"zoomto-linestring",component:t0,data:{label:"Fit to the bounds of a LineString",cat:xn.USER_INTERACTION}},{path:"cluster-html",component:Nx,data:{label:"Display HTML clusters with custom properties",cat:xn.LAYERS}},{path:"ngx-cluster-html",component:Qw,data:{label:"[NGX] Display HTML clusters with custom properties",cat:xn.LAYERS}},{path:"polygon-popup-on-click",component:wb,data:{label:"Show polygon information on click",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"add-image-missing-generated",component:lv,data:{label:"Generate and add a missing icon to the map",cat:xn.STYLES}},{path:"custom-attribution",component:xf,data:{label:"Add custom attributions",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"custom-locale",component:bv,data:{label:"Add custom localization for controls",cat:xn.CONTROLS_AND_OVERLAYS}},{path:"marker-alignment",component:Lw,data:{label:"Marker alignment options",cat:xn.CAMERA}},{path:"terrain-style",component:N1,data:{label:"Initialize 3D Terrain using style",cat:xn.TERRAIN}},{path:"terrain-control",component:xb,data:{label:"Terrain Control",cat:xn.TERRAIN}},{path:"terrain",component:jb,data:{label:"[NGX] Initialize 3D Terrain declaratively",cat:xn.TERRAIN}},{path:"**",redirectTo:"display-map"}]}],K_=function(){return[2]},uC=[{path:"",component:(()=>{class c{constructor(){this.center=[0,0],this.panToOptions={duration:1e4,easing:r=>r}}moveCenter(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const r=this.center[0];0===r?this.center=[90,0]:90===r?this.center=[180,0]:180===r?this.center=[-90,0]:-90===r&&(this.center=[0,0])}static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],decls:5,vars:8,consts:[[3,"zoom","center","centerWithPanTo","panToOptions","interactive","mapLoad","moveEnd"],[1,"main"],["svgIcon","ngx-maplibre-gl-red",1,"logo"]],template:function(h,b){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(){return b.moveCenter()})("moveEnd",function(){return b.moveCenter()}),l.qZA(),l.TgZ(1,"div",1),l._UZ(2,"mat-icon",2),l.TgZ(3,"h1"),l._uU(4,"Angular binding of maplibre-gl-js"),l.qZA()()),2&h&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,K_))("center",b.center)("centerWithPanTo",!0)("panToOptions",b.panToOptions)("interactive",!1))},dependencies:[dn,Ue.Hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:none}.logo[_ngcontent-%COMP%]{width:150px;height:150px}mgl-map[_ngcontent-%COMP%]{flex:1}"]})}return c})(),pathMatch:"full"}],mC=[{path:"",component:H(2627).$,children:[{path:"demo",children:Jm},...uC,{path:"doc",loadChildren:()=>H.e(46).then(H.bind(H,7046)).then(c=>c.DocModule)}]},{path:"**",redirectTo:""}];let y0=(()=>{class c{constructor(r,h){r.addSvgIcon("ngx-maplibre-gl",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl.svg")),r.addSvgIcon("ngx-maplibre-gl-red",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl-red.svg")),r.addSvgIcon("github",h.bypassSecurityTrustResourceUrl("assets/github.svg"))}static#e=this.\u0275fac=function(h){return new(h||c)(l.LFG(Ue.jv),l.LFG(x.H7))};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[x.b2,Al,Ue.Ps,me.Bz.forRoot(mC,{}),al,un.x]})}return c})(),X_=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({providers:[n0],imports:[me.Bz,$_.JF,cn.ez,Ia.u5,al,un.x,I1,Yb,$c.ot,J0,Mf,cC,Gy,Ue.Ps,Ky,ub,gx]})}return c})(),v0=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c});static#i=this.\u0275inj=l.cJS({imports:[al,Ue.Ps]})}return c})(),b0=(()=>{class c{static#e=this.\u0275fac=function(h){return new(h||c)};static#t=this.\u0275mod=l.oAB({type:c,bootstrap:[g]});static#i=this.\u0275inj=l.cJS({imports:[me.Bz,y0,v0,X_]})}return c})();(0,l.G48)(),x.q6().bootstrapModule(b0).catch(c=>console.log(c))},5619:(bi,vt,H)=>{"use strict";H.d(vt,{X:()=>l});var x=H(8645);class l extends x.x{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const Ue=super._subscribe(g);return!Ue.closed&&g.next(this._value),Ue}getValue(){const{hasError:g,thrownError:Ue,_value:ae}=this;if(g)throw Ue;return this._throwIfClosed(),ae}next(g){super.next(this._value=g)}}},5592:(bi,vt,H)=>{"use strict";H.d(vt,{y:()=>ot});var x=H(305),l=H(7394),me=H(4850),g=H(8407),Ue=H(2653),ae=H(4674),Ke=H(1441);let ot=(()=>{class Ze{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const ut=new Ze;return ut.source=this,ut.operator=nt,ut}subscribe(nt,ut,Et){const Ut=function lt(Ze){return Ze&&Ze instanceof x.Lv||function He(Ze){return Ze&&(0,ae.m)(Ze.next)&&(0,ae.m)(Ze.error)&&(0,ae.m)(Ze.complete)}(Ze)&&(0,l.Nn)(Ze)}(nt)?nt:new x.Hp(nt,ut,Et);return(0,Ke.x)(()=>{const{operator:ei,source:Ti}=this;Ut.add(ei?ei.call(Ut,Ti):Ti?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(nt){try{return this._subscribe(nt)}catch(ut){nt.error(ut)}}forEach(nt,ut){return new(ut=ke(ut))((Et,Ut)=>{const ei=new x.Hp({next:Ti=>{try{nt(Ti)}catch(ni){Ut(ni),ei.unsubscribe()}},error:Ut,complete:Et});this.subscribe(ei)})}_subscribe(nt){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(nt)}[me.L](){return this}pipe(...nt){return(0,g.U)(nt)(this)}toPromise(nt){return new(nt=ke(nt))((ut,Et)=>{let Ut;this.subscribe(ei=>Ut=ei,ei=>Et(ei),()=>ut(Ut))})}}return Ze.create=it=>new Ze(it),Ze})();function ke(Ze){var it;return null!==(it=Ze??Ue.config.Promise)&&void 0!==it?it:Promise}},8645:(bi,vt,H)=>{"use strict";H.d(vt,{x:()=>Ke});var x=H(5592),l=H(7394);const g=(0,H(2306).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=H(9039),ae=H(1441);let Ke=(()=>{class ke extends x.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(lt){const Ze=new ot(this,this);return Ze.operator=lt,Ze}_throwIfClosed(){if(this.closed)throw new g}next(lt){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ze of this.currentObservers)Ze.next(lt)}})}error(lt){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=lt;const{observers:Ze}=this;for(;Ze.length;)Ze.shift().error(lt)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:lt}=this;for(;lt.length;)lt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var lt;return(null===(lt=this.observers)||void 0===lt?void 0:lt.length)>0}_trySubscribe(lt){return this._throwIfClosed(),super._trySubscribe(lt)}_subscribe(lt){return this._throwIfClosed(),this._checkFinalizedStatuses(lt),this._innerSubscribe(lt)}_innerSubscribe(lt){const{hasError:Ze,isStopped:it,observers:nt}=this;return Ze||it?l.Lc:(this.currentObservers=null,nt.push(lt),new l.w0(()=>{this.currentObservers=null,(0,Ue.P)(nt,lt)}))}_checkFinalizedStatuses(lt){const{hasError:Ze,thrownError:it,isStopped:nt}=this;Ze?lt.error(it):nt&&lt.complete()}asObservable(){const lt=new x.y;return lt.source=this,lt}}return ke.create=(He,lt)=>new ot(He,lt),ke})();class ot extends Ke{constructor(He,lt){super(),this.destination=He,this.source=lt}next(He){var lt,Ze;null===(Ze=null===(lt=this.destination)||void 0===lt?void 0:lt.next)||void 0===Ze||Ze.call(lt,He)}error(He){var lt,Ze;null===(Ze=null===(lt=this.destination)||void 0===lt?void 0:lt.error)||void 0===Ze||Ze.call(lt,He)}complete(){var He,lt;null===(lt=null===(He=this.destination)||void 0===He?void 0:He.complete)||void 0===lt||lt.call(He)}_subscribe(He){var lt,Ze;return null!==(Ze=null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(He))&&void 0!==Ze?Ze:l.Lc}}},305:(bi,vt,H)=>{"use strict";H.d(vt,{Hp:()=>Et,Lv:()=>Ze});var x=H(4674),l=H(7394),me=H(2653),g=H(3894),Ue=H(2420);const ae=ke("C",void 0,void 0);function ke(Fe,Je,$e){return{kind:Fe,value:Je,error:$e}}var He=H(7599),lt=H(1441);class Ze extends l.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,l.Nn)(Je)&&Je.add(this)):this.destination=ni}static create(Je,$e,Nt){return new Et(Je,$e,Nt)}next(Je){this.isStopped?Ti(function ot(Fe){return ke("N",Fe,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?Ti(function Ke(Fe){return ke("E",void 0,Fe)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?Ti(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function nt(Fe,Je){return it.call(Fe,Je)}class ut{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:$e}=this;if($e.next)try{$e.next(Je)}catch(Nt){Ut(Nt)}}error(Je){const{partialObserver:$e}=this;if($e.error)try{$e.error(Je)}catch(Nt){Ut(Nt)}else Ut(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch($e){Ut($e)}}}class Et extends Ze{constructor(Je,$e,Nt){let Pt;if(super(),(0,x.m)(Je)||!Je)Pt={next:Je??void 0,error:$e??void 0,complete:Nt??void 0};else{let zt;this&&me.config.useDeprecatedNextContext?(zt=Object.create(Je),zt.unsubscribe=()=>this.unsubscribe(),Pt={next:Je.next&&nt(Je.next,zt),error:Je.error&&nt(Je.error,zt),complete:Je.complete&&nt(Je.complete,zt)}):Pt=Je}this.destination=new ut(Pt)}}function Ut(Fe){me.config.useDeprecatedSynchronousErrorHandling?(0,lt.O)(Fe):(0,g.h)(Fe)}function Ti(Fe,Je){const{onStoppedNotification:$e}=me.config;$e&&He.z.setTimeout(()=>$e(Fe,Je))}const ni={closed:!0,next:Ue.Z,error:function ei(Fe){throw Fe},complete:Ue.Z}},7394:(bi,vt,H)=>{"use strict";H.d(vt,{Lc:()=>ae,w0:()=>Ue,Nn:()=>Ke});var x=H(4674);const me=(0,H(2306).d)(ke=>function(lt){ke(this),this.message=lt?`${lt.length} errors occurred during unsubscription:\n${lt.map((Ze,it)=>`${it+1}) ${Ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=lt});var g=H(9039);class Ue{constructor(He){this.initialTeardown=He,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let He;if(!this.closed){this.closed=!0;const{_parentage:lt}=this;if(lt)if(this._parentage=null,Array.isArray(lt))for(const nt of lt)nt.remove(this);else lt.remove(this);const{initialTeardown:Ze}=this;if((0,x.m)(Ze))try{Ze()}catch(nt){He=nt instanceof me?nt.errors:[nt]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const nt of it)try{ot(nt)}catch(ut){He=He??[],ut instanceof me?He=[...He,...ut.errors]:He.push(ut)}}if(He)throw new me(He)}}add(He){var lt;if(He&&He!==this)if(this.closed)ot(He);else{if(He instanceof Ue){if(He.closed||He._hasParent(this))return;He._addParent(this)}(this._finalizers=null!==(lt=this._finalizers)&&void 0!==lt?lt:[]).push(He)}}_hasParent(He){const{_parentage:lt}=this;return lt===He||Array.isArray(lt)&&lt.includes(He)}_addParent(He){const{_parentage:lt}=this;this._parentage=Array.isArray(lt)?(lt.push(He),lt):lt?[lt,He]:He}_removeParent(He){const{_parentage:lt}=this;lt===He?this._parentage=null:Array.isArray(lt)&&(0,g.P)(lt,He)}remove(He){const{_finalizers:lt}=this;lt&&(0,g.P)(lt,He),He instanceof Ue&&He._removeParent(this)}}Ue.EMPTY=(()=>{const ke=new Ue;return ke.closed=!0,ke})();const ae=Ue.EMPTY;function Ke(ke){return ke instanceof Ue||ke&&"closed"in ke&&(0,x.m)(ke.remove)&&(0,x.m)(ke.add)&&(0,x.m)(ke.unsubscribe)}function ot(ke){(0,x.m)(ke)?ke():ke.unsubscribe()}},2653:(bi,vt,H)=>{"use strict";H.d(vt,{config:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(bi,vt,H)=>{"use strict";H.d(vt,{a:()=>He});var x=H(5592),l=H(7453),me=H(7715),g=H(2737),Ue=H(7400),ae=H(9940),Ke=H(2714),ot=H(8251),ke=H(7103);function He(...it){const nt=(0,ae.yG)(it),ut=(0,ae.jO)(it),{args:Et,keys:Ut}=(0,l.D)(it);if(0===Et.length)return(0,me.D)([],nt);const ei=new x.y(function lt(it,nt,ut=g.y){return Et=>{Ze(nt,()=>{const{length:Ut}=it,ei=new Array(Ut);let Ti=Ut,ni=Ut;for(let Fe=0;Fe<Ut;Fe++)Ze(nt,()=>{const Je=(0,me.D)(it[Fe],nt);let $e=!1;Je.subscribe((0,ot.x)(Et,Nt=>{ei[Fe]=Nt,$e||($e=!0,ni--),ni||Et.next(ut(ei.slice()))},()=>{--Ti||Et.complete()}))},Et)},Et)}}(Et,nt,Ut?Ti=>(0,Ke.n)(Ut,Ti):g.y));return ut?ei.pipe((0,Ue.Z)(ut)):ei}function Ze(it,nt,ut){it?(0,ke.f)(ut,it,nt):nt()}},5211:(bi,vt,H)=>{"use strict";H.d(vt,{z:()=>Ue});var x=H(7537),me=H(9940),g=H(7715);function Ue(...ae){return function l(){return(0,x.J)(1)}()((0,g.D)(ae,(0,me.yG)(ae)))}},4911:(bi,vt,H)=>{"use strict";H.d(vt,{P:()=>me});var x=H(5592),l=H(4829);function me(g){return new x.y(Ue=>{(0,l.Xf)(g()).subscribe(Ue)})}},6232:(bi,vt,H)=>{"use strict";H.d(vt,{E:()=>l});const l=new(H(5592).y)(Ue=>Ue.complete())},9315:(bi,vt,H)=>{"use strict";H.d(vt,{D:()=>ot});var x=H(5592),l=H(7453),me=H(4829),g=H(9940),Ue=H(8251),ae=H(7400),Ke=H(2714);function ot(...ke){const He=(0,g.jO)(ke),{args:lt,keys:Ze}=(0,l.D)(ke),it=new x.y(nt=>{const{length:ut}=lt;if(!ut)return void nt.complete();const Et=new Array(ut);let Ut=ut,ei=ut;for(let Ti=0;Ti<ut;Ti++){let ni=!1;(0,me.Xf)(lt[Ti]).subscribe((0,Ue.x)(nt,Fe=>{ni||(ni=!0,ei--),Et[Ti]=Fe},()=>Ut--,void 0,()=>{(!Ut||!ni)&&(ei||nt.next(Ze?(0,Ke.n)(Ze,Et):Et),nt.complete())}))}});return He?it.pipe((0,ae.Z)(He)):it}},7715:(bi,vt,H)=>{"use strict";H.d(vt,{D:()=>Nt});var x=H(4829),l=H(7103),me=H(9360),g=H(8251);function Ue(Pt,zt=0){return(0,me.e)((fi,_i)=>{fi.subscribe((0,g.x)(_i,Li=>(0,l.f)(_i,Pt,()=>_i.next(Li),zt),()=>(0,l.f)(_i,Pt,()=>_i.complete(),zt),Li=>(0,l.f)(_i,Pt,()=>_i.error(Li),zt)))})}function ae(Pt,zt=0){return(0,me.e)((fi,_i)=>{_i.add(Pt.schedule(()=>fi.subscribe(_i),zt))})}var ke=H(5592),lt=H(4971),Ze=H(4674);function nt(Pt,zt){if(!Pt)throw new Error("Iterable cannot be null");return new ke.y(fi=>{(0,l.f)(fi,zt,()=>{const _i=Pt[Symbol.asyncIterator]();(0,l.f)(fi,zt,()=>{_i.next().then(Li=>{Li.done?fi.complete():fi.next(Li.value)})},0,!0)})})}var ut=H(8382),Et=H(4026),Ut=H(4266),ei=H(3664),Ti=H(5726),ni=H(9853),Fe=H(541);function Nt(Pt,zt){return zt?function $e(Pt,zt){if(null!=Pt){if((0,ut.c)(Pt))return function Ke(Pt,zt){return(0,x.Xf)(Pt).pipe(ae(zt),Ue(zt))}(Pt,zt);if((0,Ut.z)(Pt))return function He(Pt,zt){return new ke.y(fi=>{let _i=0;return zt.schedule(function(){_i===Pt.length?fi.complete():(fi.next(Pt[_i++]),fi.closed||this.schedule())})})}(Pt,zt);if((0,Et.t)(Pt))return function ot(Pt,zt){return(0,x.Xf)(Pt).pipe(ae(zt),Ue(zt))}(Pt,zt);if((0,Ti.D)(Pt))return nt(Pt,zt);if((0,ei.T)(Pt))return function it(Pt,zt){return new ke.y(fi=>{let _i;return(0,l.f)(fi,zt,()=>{_i=Pt[lt.h](),(0,l.f)(fi,zt,()=>{let Li,Hi;try{({value:Li,done:Hi}=_i.next())}catch(Dn){return void fi.error(Dn)}Hi?fi.complete():fi.next(Li)},0,!0)}),()=>(0,Ze.m)(_i?.return)&&_i.return()})}(Pt,zt);if((0,Fe.L)(Pt))return function Je(Pt,zt){return nt((0,Fe.Q)(Pt),zt)}(Pt,zt)}throw(0,ni.z)(Pt)}(Pt,zt):(0,x.Xf)(Pt)}},2438:(bi,vt,H)=>{"use strict";H.d(vt,{R:()=>He});var x=H(4829),l=H(5592),me=H(1631),g=H(4266),Ue=H(4674),ae=H(7400);const Ke=["addListener","removeListener"],ot=["addEventListener","removeEventListener"],ke=["on","off"];function He(ut,Et,Ut,ei){if((0,Ue.m)(Ut)&&(ei=Ut,Ut=void 0),ei)return He(ut,Et,Ut).pipe((0,ae.Z)(ei));const[Ti,ni]=function nt(ut){return(0,Ue.m)(ut.addEventListener)&&(0,Ue.m)(ut.removeEventListener)}(ut)?ot.map(Fe=>Je=>ut[Fe](Et,Je,Ut)):function Ze(ut){return(0,Ue.m)(ut.addListener)&&(0,Ue.m)(ut.removeListener)}(ut)?Ke.map(lt(ut,Et)):function it(ut){return(0,Ue.m)(ut.on)&&(0,Ue.m)(ut.off)}(ut)?ke.map(lt(ut,Et)):[];if(!Ti&&(0,g.z)(ut))return(0,me.z)(Fe=>He(Fe,Et,Ut))((0,x.Xf)(ut));if(!Ti)throw new TypeError("Invalid event target");return new l.y(Fe=>{const Je=(...$e)=>Fe.next(1<$e.length?$e:$e[0]);return Ti(Je),()=>ni(Je)})}function lt(ut,Et){return Ut=>ei=>ut[Ut](Et,ei)}},4829:(bi,vt,H)=>{"use strict";H.d(vt,{Xf:()=>it});var x=H(7582),l=H(4266),me=H(4026),g=H(5592),Ue=H(8382),ae=H(5726),Ke=H(9853),ot=H(3664),ke=H(541),He=H(4674),lt=H(3894),Ze=H(4850);function it(Fe){if(Fe instanceof g.y)return Fe;if(null!=Fe){if((0,Ue.c)(Fe))return function nt(Fe){return new g.y(Je=>{const $e=Fe[Ze.L]();if((0,He.m)($e.subscribe))return $e.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,l.z)(Fe))return function ut(Fe){return new g.y(Je=>{for(let $e=0;$e<Fe.length&&!Je.closed;$e++)Je.next(Fe[$e]);Je.complete()})}(Fe);if((0,me.t)(Fe))return function Et(Fe){return new g.y(Je=>{Fe.then($e=>{Je.closed||(Je.next($e),Je.complete())},$e=>Je.error($e)).then(null,lt.h)})}(Fe);if((0,ae.D)(Fe))return ei(Fe);if((0,ot.T)(Fe))return function Ut(Fe){return new g.y(Je=>{for(const $e of Fe)if(Je.next($e),Je.closed)return;Je.complete()})}(Fe);if((0,ke.L)(Fe))return function Ti(Fe){return ei((0,ke.Q)(Fe))}(Fe)}throw(0,Ke.z)(Fe)}function ei(Fe){return new g.y(Je=>{(function ni(Fe,Je){var $e,Nt,Pt,zt;return(0,x.mG)(this,void 0,void 0,function*(){try{for($e=(0,x.KL)(Fe);!(Nt=yield $e.next()).done;)if(Je.next(Nt.value),Je.closed)return}catch(fi){Pt={error:fi}}finally{try{Nt&&!Nt.done&&(zt=$e.return)&&(yield zt.call($e))}finally{if(Pt)throw Pt.error}}Je.complete()})})(Fe,Je).catch($e=>Je.error($e))})}},3019:(bi,vt,H)=>{"use strict";H.d(vt,{T:()=>ae});var x=H(7537),l=H(4829),me=H(6232),g=H(9940),Ue=H(7715);function ae(...Ke){const ot=(0,g.yG)(Ke),ke=(0,g._6)(Ke,1/0),He=Ke;return He.length?1===He.length?(0,l.Xf)(He[0]):(0,x.J)(ke)((0,Ue.D)(He,ot)):me.E}},2096:(bi,vt,H)=>{"use strict";H.d(vt,{of:()=>me});var x=H(9940),l=H(7715);function me(...g){const Ue=(0,x.yG)(g);return(0,l.D)(g,Ue)}},8504:(bi,vt,H)=>{"use strict";H.d(vt,{_:()=>me});var x=H(5592),l=H(4674);function me(g,Ue){const ae=(0,l.m)(g)?g:()=>g,Ke=ot=>ot.error(ae());return new x.y(Ue?ot=>Ue.schedule(Ke,0,ot):Ke)}},4825:(bi,vt,H)=>{"use strict";H.d(vt,{H:()=>Ue});var x=H(5592),l=H(6321),me=H(671);function Ue(ae=0,Ke,ot=l.P){let ke=-1;return null!=Ke&&((0,me.K)(Ke)?ot=Ke:ke=Ke),new x.y(He=>{let lt=function g(ae){return ae instanceof Date&&!isNaN(ae)}(ae)?+ae-ot.now():ae;lt<0&&(lt=0);let Ze=0;return ot.schedule(function(){He.closed||(He.next(Ze++),0<=ke?this.schedule(void 0,ke):He.complete())},lt)})}},8251:(bi,vt,H)=>{"use strict";H.d(vt,{x:()=>l});var x=H(305);function l(g,Ue,ae,Ke,ot){return new me(g,Ue,ae,Ke,ot)}class me extends x.Lv{constructor(Ue,ae,Ke,ot,ke,He){super(Ue),this.onFinalize=ke,this.shouldUnsubscribe=He,this._next=ae?function(lt){try{ae(lt)}catch(Ze){Ue.error(Ze)}}:super._next,this._error=ot?function(lt){try{ot(lt)}catch(Ze){Ue.error(Ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ke?function(){try{Ke()}catch(lt){Ue.error(lt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(Ue=this.onFinalize)||void 0===Ue||Ue.call(this))}}}},6306:(bi,vt,H)=>{"use strict";H.d(vt,{K:()=>g});var x=H(4829),l=H(8251),me=H(9360);function g(Ue){return(0,me.e)((ae,Ke)=>{let He,ot=null,ke=!1;ot=ae.subscribe((0,l.x)(Ke,void 0,void 0,lt=>{He=(0,x.Xf)(Ue(lt,g(Ue)(ae))),ot?(ot.unsubscribe(),ot=null,He.subscribe(Ke)):ke=!0})),ke&&(ot.unsubscribe(),ot=null,He.subscribe(Ke))})}},6328:(bi,vt,H)=>{"use strict";H.d(vt,{b:()=>me});var x=H(1631),l=H(4674);function me(g,Ue){return(0,l.m)(Ue)?(0,x.z)(g,Ue,1):(0,x.z)(g,1)}},3620:(bi,vt,H)=>{"use strict";H.d(vt,{b:()=>g});var x=H(6321),l=H(9360),me=H(8251);function g(Ue,ae=x.z){return(0,l.e)((Ke,ot)=>{let ke=null,He=null,lt=null;const Ze=()=>{if(ke){ke.unsubscribe(),ke=null;const nt=He;He=null,ot.next(nt)}};function it(){const nt=lt+Ue,ut=ae.now();if(ut<nt)return ke=this.schedule(void 0,nt-ut),void ot.add(ke);Ze()}Ke.subscribe((0,me.x)(ot,nt=>{He=nt,lt=ae.now(),ke||(ke=ae.schedule(it,Ue),ot.add(ke))},()=>{Ze(),ot.complete()},void 0,()=>{He=ke=null}))})}},3572:(bi,vt,H)=>{"use strict";H.d(vt,{d:()=>me});var x=H(9360),l=H(8251);function me(g){return(0,x.e)((Ue,ae)=>{let Ke=!1;Ue.subscribe((0,l.x)(ae,ot=>{Ke=!0,ae.next(ot)},()=>{Ke||ae.next(g),ae.complete()}))})}},3997:(bi,vt,H)=>{"use strict";H.d(vt,{x:()=>g});var x=H(2737),l=H(9360),me=H(8251);function g(ae,Ke=x.y){return ae=ae??Ue,(0,l.e)((ot,ke)=>{let He,lt=!0;ot.subscribe((0,me.x)(ke,Ze=>{const it=Ke(Ze);(lt||!ae(He,it))&&(lt=!1,He=it,ke.next(Ze))}))})}function Ue(ae,Ke){return ae===Ke}},2181:(bi,vt,H)=>{"use strict";H.d(vt,{h:()=>me});var x=H(9360),l=H(8251);function me(g,Ue){return(0,x.e)((ae,Ke)=>{let ot=0;ae.subscribe((0,l.x)(Ke,ke=>g.call(Ue,ke,ot++)&&Ke.next(ke)))})}},4716:(bi,vt,H)=>{"use strict";H.d(vt,{x:()=>l});var x=H(9360);function l(me){return(0,x.e)((g,Ue)=>{try{g.subscribe(Ue)}finally{Ue.add(me)}})}},1374:(bi,vt,H)=>{"use strict";H.d(vt,{P:()=>Ke});var x=H(6973),l=H(2181),me=H(8180),g=H(3572),Ue=H(3026),ae=H(2737);function Ke(ot,ke){const He=arguments.length>=2;return lt=>lt.pipe(ot?(0,l.h)((Ze,it)=>ot(Ze,it,lt)):ae.y,(0,me.q)(1),He?(0,g.d)(ke):(0,Ue.T)(()=>new x.K))}},7398:(bi,vt,H)=>{"use strict";H.d(vt,{U:()=>me});var x=H(9360),l=H(8251);function me(g,Ue){return(0,x.e)((ae,Ke)=>{let ot=0;ae.subscribe((0,l.x)(Ke,ke=>{Ke.next(g.call(Ue,ke,ot++))}))})}},975:(bi,vt,H)=>{"use strict";H.d(vt,{h:()=>l});var x=H(7398);function l(me){return(0,x.U)(()=>me)}},7537:(bi,vt,H)=>{"use strict";H.d(vt,{J:()=>me});var x=H(1631),l=H(2737);function me(g=1/0){return(0,x.z)(l.y,g)}},1631:(bi,vt,H)=>{"use strict";H.d(vt,{z:()=>ot});var x=H(7398),l=H(4829),me=H(9360),g=H(7103),Ue=H(8251),Ke=H(4674);function ot(ke,He,lt=1/0){return(0,Ke.m)(He)?ot((Ze,it)=>(0,x.U)((nt,ut)=>He(Ze,nt,it,ut))((0,l.Xf)(ke(Ze,it))),lt):("number"==typeof He&&(lt=He),(0,me.e)((Ze,it)=>function ae(ke,He,lt,Ze,it,nt,ut,Et){const Ut=[];let ei=0,Ti=0,ni=!1;const Fe=()=>{ni&&!Ut.length&&!ei&&He.complete()},Je=Nt=>ei<Ze?$e(Nt):Ut.push(Nt),$e=Nt=>{nt&&He.next(Nt),ei++;let Pt=!1;(0,l.Xf)(lt(Nt,Ti++)).subscribe((0,Ue.x)(He,zt=>{it?.(zt),nt?Je(zt):He.next(zt)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(ei--;Ut.length&&ei<Ze;){const zt=Ut.shift();ut?(0,g.f)(He,ut,()=>$e(zt)):$e(zt)}Fe()}catch(zt){He.error(zt)}}))};return ke.subscribe((0,Ue.x)(He,Je,()=>{ni=!0,Fe()})),()=>{Et?.()}}(Ze,it,ke,lt)))}},3020:(bi,vt,H)=>{"use strict";H.d(vt,{B:()=>Ue});var x=H(4829),l=H(8645),me=H(305),g=H(9360);function Ue(Ke={}){const{connector:ot=(()=>new l.x),resetOnError:ke=!0,resetOnComplete:He=!0,resetOnRefCountZero:lt=!0}=Ke;return Ze=>{let it,nt,ut,Et=0,Ut=!1,ei=!1;const Ti=()=>{nt?.unsubscribe(),nt=void 0},ni=()=>{Ti(),it=ut=void 0,Ut=ei=!1},Fe=()=>{const Je=it;ni(),Je?.unsubscribe()};return(0,g.e)((Je,$e)=>{Et++,!ei&&!Ut&&Ti();const Nt=ut=ut??ot();$e.add(()=>{Et--,0===Et&&!ei&&!Ut&&(nt=ae(Fe,lt))}),Nt.subscribe($e),!it&&Et>0&&(it=new me.Hp({next:Pt=>Nt.next(Pt),error:Pt=>{ei=!0,Ti(),nt=ae(ni,ke,Pt),Nt.error(Pt)},complete:()=>{Ut=!0,Ti(),nt=ae(ni,He),Nt.complete()}}),(0,x.Xf)(Je).subscribe(it))})(Ze)}}function ae(Ke,ot,...ke){if(!0===ot)return void Ke();if(!1===ot)return;const He=new me.Hp({next:()=>{He.unsubscribe(),Ke()}});return(0,x.Xf)(ot(...ke)).subscribe(He)}},940:(bi,vt,H)=>{"use strict";H.d(vt,{d:()=>Ue});var x=H(8645),l=H(4552);class me extends x.x{constructor(Ke=1/0,ot=1/0,ke=l.l){super(),this._bufferSize=Ke,this._windowTime=ot,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ot===1/0,this._bufferSize=Math.max(1,Ke),this._windowTime=Math.max(1,ot)}next(Ke){const{isStopped:ot,_buffer:ke,_infiniteTimeWindow:He,_timestampProvider:lt,_windowTime:Ze}=this;ot||(ke.push(Ke),!He&&ke.push(lt.now()+Ze)),this._trimBuffer(),super.next(Ke)}_subscribe(Ke){this._throwIfClosed(),this._trimBuffer();const ot=this._innerSubscribe(Ke),{_infiniteTimeWindow:ke,_buffer:He}=this,lt=He.slice();for(let Ze=0;Ze<lt.length&&!Ke.closed;Ze+=ke?1:2)Ke.next(lt[Ze]);return this._checkFinalizedStatuses(Ke),ot}_trimBuffer(){const{_bufferSize:Ke,_timestampProvider:ot,_buffer:ke,_infiniteTimeWindow:He}=this,lt=(He?1:2)*Ke;if(Ke<1/0&&lt<ke.length&&ke.splice(0,ke.length-lt),!He){const Ze=ot.now();let it=0;for(let nt=1;nt<ke.length&&ke[nt]<=Ze;nt+=2)it=nt;it&&ke.splice(0,it+1)}}}var g=H(3020);function Ue(ae,Ke,ot){let ke,He=!1;return ae&&"object"==typeof ae?({bufferSize:ke=1/0,windowTime:Ke=1/0,refCount:He=!1,scheduler:ot}=ae):ke=ae??1/0,(0,g.B)({connector:()=>new me(ke,Ke,ot),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:He})}},7921:(bi,vt,H)=>{"use strict";H.d(vt,{O:()=>g});var x=H(5211),l=H(9940),me=H(9360);function g(...Ue){const ae=(0,l.yG)(Ue);return(0,me.e)((Ke,ot)=>{(ae?(0,x.z)(Ue,Ke,ae):(0,x.z)(Ue,Ke)).subscribe(ot)})}},4664:(bi,vt,H)=>{"use strict";H.d(vt,{w:()=>g});var x=H(4829),l=H(9360),me=H(8251);function g(Ue,ae){return(0,l.e)((Ke,ot)=>{let ke=null,He=0,lt=!1;const Ze=()=>lt&&!ke&&ot.complete();Ke.subscribe((0,me.x)(ot,it=>{ke?.unsubscribe();let nt=0;const ut=He++;(0,x.Xf)(Ue(it,ut)).subscribe(ke=(0,me.x)(ot,Et=>ot.next(ae?ae(it,Et,ut,nt++):Et),()=>{ke=null,Ze()}))},()=>{lt=!0,Ze()}))})}},8180:(bi,vt,H)=>{"use strict";H.d(vt,{q:()=>g});var x=H(6232),l=H(9360),me=H(8251);function g(Ue){return Ue<=0?()=>x.E:(0,l.e)((ae,Ke)=>{let ot=0;ae.subscribe((0,me.x)(Ke,ke=>{++ot<=Ue&&(Ke.next(ke),Ue<=ot&&Ke.complete())}))})}},9773:(bi,vt,H)=>{"use strict";H.d(vt,{R:()=>Ue});var x=H(9360),l=H(8251),me=H(4829),g=H(2420);function Ue(ae){return(0,x.e)((Ke,ot)=>{(0,me.Xf)(ae).subscribe((0,l.x)(ot,()=>ot.complete(),g.Z)),!ot.closed&&Ke.subscribe(ot)})}},9397:(bi,vt,H)=>{"use strict";H.d(vt,{b:()=>Ue});var x=H(4674),l=H(9360),me=H(8251),g=H(2737);function Ue(ae,Ke,ot){const ke=(0,x.m)(ae)||Ke||ot?{next:ae,error:Ke,complete:ot}:ae;return ke?(0,l.e)((He,lt)=>{var Ze;null===(Ze=ke.subscribe)||void 0===Ze||Ze.call(ke);let it=!0;He.subscribe((0,me.x)(lt,nt=>{var ut;null===(ut=ke.next)||void 0===ut||ut.call(ke,nt),lt.next(nt)},()=>{var nt;it=!1,null===(nt=ke.complete)||void 0===nt||nt.call(ke),lt.complete()},nt=>{var ut;it=!1,null===(ut=ke.error)||void 0===ut||ut.call(ke,nt),lt.error(nt)},()=>{var nt,ut;it&&(null===(nt=ke.unsubscribe)||void 0===nt||nt.call(ke)),null===(ut=ke.finalize)||void 0===ut||ut.call(ke)}))}):g.y}},3026:(bi,vt,H)=>{"use strict";H.d(vt,{T:()=>g});var x=H(6973),l=H(9360),me=H(8251);function g(ae=Ue){return(0,l.e)((Ke,ot)=>{let ke=!1;Ke.subscribe((0,me.x)(ot,He=>{ke=!0,ot.next(He)},()=>ke?ot.complete():ot.error(ae())))})}function Ue(){return new x.K}},1954:(bi,vt,H)=>{"use strict";H.d(vt,{o:()=>Ue});var x=H(7394);class l extends x.w0{constructor(Ke,ot){super()}schedule(Ke,ot=0){return this}}const me={setInterval(ae,Ke,...ot){const{delegate:ke}=me;return ke?.setInterval?ke.setInterval(ae,Ke,...ot):setInterval(ae,Ke,...ot)},clearInterval(ae){const{delegate:Ke}=me;return(Ke?.clearInterval||clearInterval)(ae)},delegate:void 0};var g=H(9039);class Ue extends l{constructor(Ke,ot){super(Ke,ot),this.scheduler=Ke,this.work=ot,this.pending=!1}schedule(Ke,ot=0){var ke;if(this.closed)return this;this.state=Ke;const He=this.id,lt=this.scheduler;return null!=He&&(this.id=this.recycleAsyncId(lt,He,ot)),this.pending=!0,this.delay=ot,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(lt,this.id,ot),this}requestAsyncId(Ke,ot,ke=0){return me.setInterval(Ke.flush.bind(Ke,this),ke)}recycleAsyncId(Ke,ot,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return ot;null!=ot&&me.clearInterval(ot)}execute(Ke,ot){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Ke,ot);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ke,ot){let He,ke=!1;try{this.work(Ke)}catch(lt){ke=!0,He=lt||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),He}unsubscribe(){if(!this.closed){const{id:Ke,scheduler:ot}=this,{actions:ke}=ot;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.P)(ke,this),null!=Ke&&(this.id=this.recycleAsyncId(ot,Ke,null)),this.delay=null,super.unsubscribe()}}}},2631:(bi,vt,H)=>{"use strict";H.d(vt,{v:()=>me});var x=H(4552);class l{constructor(Ue,ae=l.now){this.schedulerActionCtor=Ue,this.now=ae}schedule(Ue,ae=0,Ke){return new this.schedulerActionCtor(this,Ue).schedule(Ke,ae)}}l.now=x.l.now;class me extends l{constructor(Ue,ae=l.now){super(Ue,ae),this.actions=[],this._active=!1}flush(Ue){const{actions:ae}=this;if(this._active)return void ae.push(Ue);let Ke;this._active=!0;do{if(Ke=Ue.execute(Ue.state,Ue.delay))break}while(Ue=ae.shift());if(this._active=!1,Ke){for(;Ue=ae.shift();)Ue.unsubscribe();throw Ke}}}},6321:(bi,vt,H)=>{"use strict";H.d(vt,{P:()=>g,z:()=>me});var x=H(1954);const me=new(H(2631).v)(x.o),g=me},4552:(bi,vt,H)=>{"use strict";H.d(vt,{l:()=>x});const x={now:()=>(x.delegate||Date).now(),delegate:void 0}},7599:(bi,vt,H)=>{"use strict";H.d(vt,{z:()=>x});const x={setTimeout(l,me,...g){const{delegate:Ue}=x;return Ue?.setTimeout?Ue.setTimeout(l,me,...g):setTimeout(l,me,...g)},clearTimeout(l){const{delegate:me}=x;return(me?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(bi,vt,H)=>{"use strict";H.d(vt,{h:()=>l});const l=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bi,vt,H)=>{"use strict";H.d(vt,{L:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(bi,vt,H)=>{"use strict";H.d(vt,{K:()=>l});const l=(0,H(2306).d)(me=>function(){me(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(bi,vt,H)=>{"use strict";H.d(vt,{_6:()=>ae,jO:()=>g,yG:()=>Ue});var x=H(4674),l=H(671);function me(Ke){return Ke[Ke.length-1]}function g(Ke){return(0,x.m)(me(Ke))?Ke.pop():void 0}function Ue(Ke){return(0,l.K)(me(Ke))?Ke.pop():void 0}function ae(Ke,ot){return"number"==typeof me(Ke)?Ke.pop():ot}},7453:(bi,vt,H)=>{"use strict";H.d(vt,{D:()=>Ue});const{isArray:x}=Array,{getPrototypeOf:l,prototype:me,keys:g}=Object;function Ue(Ke){if(1===Ke.length){const ot=Ke[0];if(x(ot))return{args:ot,keys:null};if(function ae(Ke){return Ke&&"object"==typeof Ke&&l(Ke)===me}(ot)){const ke=g(ot);return{args:ke.map(He=>ot[He]),keys:ke}}}return{args:Ke,keys:null}}},9039:(bi,vt,H)=>{"use strict";function x(l,me){if(l){const g=l.indexOf(me);0<=g&&l.splice(g,1)}}H.d(vt,{P:()=>x})},2306:(bi,vt,H)=>{"use strict";function x(l){const g=l(Ue=>{Error.call(Ue),Ue.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}H.d(vt,{d:()=>x})},2714:(bi,vt,H)=>{"use strict";function x(l,me){return l.reduce((g,Ue,ae)=>(g[Ue]=me[ae],g),{})}H.d(vt,{n:()=>x})},1441:(bi,vt,H)=>{"use strict";H.d(vt,{O:()=>g,x:()=>me});var x=H(2653);let l=null;function me(Ue){if(x.config.useDeprecatedSynchronousErrorHandling){const ae=!l;if(ae&&(l={errorThrown:!1,error:null}),Ue(),ae){const{errorThrown:Ke,error:ot}=l;if(l=null,Ke)throw ot}}else Ue()}function g(Ue){x.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=Ue)}},7103:(bi,vt,H)=>{"use strict";function x(l,me,g,Ue=0,ae=!1){const Ke=me.schedule(function(){g(),ae?l.add(this.schedule(null,Ue)):this.unsubscribe()},Ue);if(l.add(Ke),!ae)return Ke}H.d(vt,{f:()=>x})},2737:(bi,vt,H)=>{"use strict";function x(l){return l}H.d(vt,{y:()=>x})},4266:(bi,vt,H)=>{"use strict";H.d(vt,{z:()=>x});const x=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(bi,vt,H)=>{"use strict";H.d(vt,{D:()=>l});var x=H(4674);function l(me){return Symbol.asyncIterator&&(0,x.m)(me?.[Symbol.asyncIterator])}},4674:(bi,vt,H)=>{"use strict";function x(l){return"function"==typeof l}H.d(vt,{m:()=>x})},8382:(bi,vt,H)=>{"use strict";H.d(vt,{c:()=>me});var x=H(4850),l=H(4674);function me(g){return(0,l.m)(g[x.L])}},3664:(bi,vt,H)=>{"use strict";H.d(vt,{T:()=>me});var x=H(4971),l=H(4674);function me(g){return(0,l.m)(g?.[x.h])}},4026:(bi,vt,H)=>{"use strict";H.d(vt,{t:()=>l});var x=H(4674);function l(me){return(0,x.m)(me?.then)}},541:(bi,vt,H)=>{"use strict";H.d(vt,{L:()=>g,Q:()=>me});var x=H(7582),l=H(4674);function me(Ue){return(0,x.FC)(this,arguments,function*(){const Ke=Ue.getReader();try{for(;;){const{value:ot,done:ke}=yield(0,x.qq)(Ke.read());if(ke)return yield(0,x.qq)(void 0);yield yield(0,x.qq)(ot)}}finally{Ke.releaseLock()}})}function g(Ue){return(0,l.m)(Ue?.getReader)}},671:(bi,vt,H)=>{"use strict";H.d(vt,{K:()=>l});var x=H(4674);function l(me){return me&&(0,x.m)(me.schedule)}},9360:(bi,vt,H)=>{"use strict";H.d(vt,{A:()=>l,e:()=>me});var x=H(4674);function l(g){return(0,x.m)(g?.lift)}function me(g){return Ue=>{if(l(Ue))return Ue.lift(function(ae){try{return g(ae,this)}catch(Ke){this.error(Ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bi,vt,H)=>{"use strict";H.d(vt,{Z:()=>g});var x=H(7398);const{isArray:l}=Array;function g(Ue){return(0,x.U)(ae=>function me(Ue,ae){return l(ae)?Ue(...ae):Ue(ae)}(Ue,ae))}},2420:(bi,vt,H)=>{"use strict";function x(){}H.d(vt,{Z:()=>x})},8407:(bi,vt,H)=>{"use strict";H.d(vt,{U:()=>me,z:()=>l});var x=H(2737);function l(...g){return me(g)}function me(g){return 0===g.length?x.y:1===g.length?g[0]:function(ae){return g.reduce((Ke,ot)=>ot(Ke),ae)}}},3894:(bi,vt,H)=>{"use strict";H.d(vt,{h:()=>me});var x=H(2653),l=H(7599);function me(g){l.z.setTimeout(()=>{const{onUnhandledError:Ue}=x.config;if(!Ue)throw g;Ue(g)})}},9853:(bi,vt,H)=>{"use strict";function x(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(vt,{z:()=>x})},5624:function(bi){bi.exports=function(){"use strict";var vt,H,x;function l(g,Ue){if(vt)if(H){var ae="var sharedChunk = {}; ("+vt+")(sharedChunk); ("+H+")(sharedChunk);",Ke={};vt(Ke),x=Ue(Ke),typeof window<"u"&&(x.workerUrl=window.URL.createObjectURL(new Blob([ae],{type:"text/javascript"})))}else H=Ue;else vt=Ue}return l(0,function(g){function Ue(o,t,a,m){return new(a||(a=Promise))(function(_,D){function S(G){try{N(m.next(G))}catch(J){D(J)}}function P(G){try{N(m.throw(G))}catch(J){D(J)}}function N(G){var J;G.done?_(G.value):(J=G.value,J instanceof a?J:new a(function(te){te(J)})).then(S,P)}N((m=m.apply(o,t||[])).next())})}function ae(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}"function"==typeof SuppressedError&&SuppressedError;var Ke=ot;function ot(o,t){this.x=o,this.y=t}ot.prototype={clone:function(){return new ot(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,t){return this.clone()._rotateAround(o,t)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var t=o.x-this.x,a=o.y-this.y;return t*t+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,t){return Math.atan2(this.x*t-this.y*o,this.x*o+this.y*t)},_matMult:function(o){var t=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=t,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var t=Math.cos(o),a=Math.sin(o),m=a*this.x+t*this.y;return this.x=t*this.x-a*this.y,this.y=m,this},_rotateAround:function(o,t){var a=Math.cos(o),m=Math.sin(o),_=t.y+m*(this.x-t.x)+a*(this.y-t.y);return this.x=t.x+a*(this.x-t.x)-m*(this.y-t.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ot.convert=function(o){return o instanceof ot?o:Array.isArray(o)?new ot(o[0],o[1]):o};var ke=ae(Ke),He=lt;function lt(o,t,a,m){this.cx=3*o,this.bx=3*(a-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(m-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=t,this.p2x=a,this.p2y=m}lt.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,t){if(void 0===t&&(t=1e-6),o<0)return 0;if(o>1)return 1;for(var a=o,m=0;m<8;m++){var _=this.sampleCurveX(a)-o;if(Math.abs(_)<t)return a;var D=this.sampleCurveDerivativeX(a);if(Math.abs(D)<1e-6)break;a-=_/D}var S=0,P=1;for(a=o,m=0;m<20&&(_=this.sampleCurveX(a),!(Math.abs(_-o)<t));m++)o>_?S=a:P=a,a=.5*(P-S)+S;return a},solve:function(o,t){return this.sampleCurveY(this.solveCurveX(o,t))}};var Ze=ae(He);let it,nt;function ut(){return null==it&&(it=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),it}function Et(){if(null==nt&&(nt=!1,ut())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let m=0;m<25;m++){const _=4*m;t.fillStyle=`rgb(${_},${_+1},${_+2})`,t.fillRect(m%5,Math.floor(m/5),1,1)}const a=t.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&a[m]!==m){nt=!0;break}}}return nt||!1}function Ut(o,t,a,m){const _=new Ze(o,t,a,m);return function(D){return _.solve(D)}}const ei=Ut(.25,.1,.25,1);function Ti(o,t,a){return Math.min(a,Math.max(t,o))}function ni(o,t,a){const m=a-t,_=((o-t)%m+m)%m+t;return _===t?a:_}function Fe(o,...t){for(const a of t)for(const m in a)o[m]=a[m];return o}let Je=1;function $e(o,t,a){const m={};for(const _ in o)m[_]=t.call(a||this,o[_],_,o);return m}function Nt(o,t,a){const m={};for(const _ in o)t.call(a||this,o[_],_,o)&&(m[_]=o[_]);return m}function Pt(o){return Array.isArray(o)?o.map(Pt):"object"==typeof o&&o?$e(o,Pt):o}const zt={};function fi(o){zt[o]||(typeof console<"u"&&console.warn(o),zt[o]=!0)}function _i(o,t,a){return(a.y-o.y)*(t.x-o.x)>(t.y-o.y)*(a.x-o.x)}function Li(o){let t=0;for(let a,m,_=0,D=o.length,S=D-1;_<D;S=_++)a=o[_],m=o[S],t+=(m.x-a.x)*(a.y+m.y);return t}function Hi(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Dn=null;function Kn(o){if(null==Dn){const t=o.navigator?o.navigator.userAgent:null;Dn=!!o.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Dn}function yn(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Pn(o,t,a,m,_){return Ue(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const D=new VideoFrame(o,{timestamp:0});try{const S=D?.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const P=S.startsWith("BGR"),N=new Uint8ClampedArray(m*_*4);if(yield D.copyTo(N,function(G,J,te,de,ge){const we=4*Math.max(-J,0),Oe=(Math.max(0,te)-te)*de*4+we,Xe=4*de,et=Math.max(0,J),yt=Math.max(0,te);return{rect:{x:et,y:yt,width:Math.min(G.width,J+de)-et,height:Math.min(G.height,te+ge)-yt},layout:[{offset:Oe,stride:Xe}]}}(o,t,a,m,_)),P)for(let G=0;G<N.length;G+=4){const J=N[G];N[G]=N[G+2],N[G+2]=J}return N}finally{D.close()}})}let xt,wt,gt,Bt;const Mt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const t=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(o,t=0){return this.getImageCanvasContext(o).getImageData(-t,-t,o.width+2*t,o.height+2*t)},getImageCanvasContext(o){const t=window.document.createElement("canvas"),a=t.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return t.width=o.width,t.height=o.height,a.drawImage(o,0,0,o.width,o.height),a},resolveURL:o=>(gt||(gt=document.createElement("a")),gt.href=o,gt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Bt&&(Bt=matchMedia("(prefers-reduced-motion: reduce)")),Bt.matches)}},at={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class kt extends Error{constructor(t,a,m,_){super(`AJAXError: ${a} (${t}): ${m}`),this.status=t,this.statusText=a,this.url=m,this.body=_}}const We=Hi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,ht=o=>at.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function At(o,t){const a=new AbortController,m=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,cache:o.cache,referrer:We(),signal:a.signal});let _=!1,D=!1;return"json"===o.type&&m.headers.set("Accept","application/json"),D||fetch(m).then(S=>{return S.ok?(P=S,void("arrayBuffer"===o.type||"image"===o.type?P.arrayBuffer():"json"===o.type?P.json():P.text()).then(N=>{D||(_=!0,t(null,N,P.headers.get("Cache-Control"),P.headers.get("Expires")))}).catch(N=>{D||t(new Error(N.message))})):S.blob().then(P=>t(new kt(S.status,S.statusText,o.url,P)));var P}).catch(S=>{20!==S.code&&t(new Error(S.message))}),{cancel:()=>{D=!0,_||a.abort()}}}const ai=function(o,t){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(Hi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t);if(!Hi())return(ht(o.url)||At)(o,t)}if(!(/^file:/.test(a=o.url)||/^file:/.test(We())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return At(o,t);if(Hi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t,void 0,!0)}var a;return function(m,_){const D=new XMLHttpRequest;D.open(m.method||"GET",m.url,!0),"arrayBuffer"!==m.type&&"image"!==m.type||(D.responseType="arraybuffer");for(const S in m.headers)D.setRequestHeader(S,m.headers[S]);return"json"===m.type&&(D.responseType="text",D.setRequestHeader("Accept","application/json")),D.withCredentials="include"===m.credentials,D.onerror=()=>{_(new Error(D.statusText))},D.onload=()=>{if((D.status>=200&&D.status<300||0===D.status)&&null!==D.response){let S=D.response;if("json"===m.type)try{S=JSON.parse(D.response)}catch(P){return _(P)}_(null,S,D.getResponseHeader("Cache-Control"),D.getResponseHeader("Expires"))}else{const S=new Blob([D.response],{type:D.getResponseHeader("Content-Type")});_(new kt(D.status,D.statusText,m.url,S))}},D.send(m.body),{cancel:()=>D.abort()}}(o,t)},Jt=function(o,t){return ai(Fe(o,{type:"arrayBuffer"}),t)};function vi(o){if(!o||o.indexOf("://")<=0||0===o.indexOf("data:image/")||0===o.indexOf("blob:"))return!0;const t=new URL(o),a=window.location;return t.protocol===a.protocol&&t.host===a.host}function yi(o,t,a){a[o]&&-1!==a[o].indexOf(t)||(a[o]=a[o]||[],a[o].push(t))}function Fi(o,t,a){if(a&&a[o]){const m=a[o].indexOf(t);-1!==m&&a[o].splice(m,1)}}class dt{constructor(t,a={}){Fe(this,a),this.type=t}}class $t extends dt{constructor(t,a={}){super("error",Fe({error:t},a))}}class Kt{on(t,a){return this._listeners=this._listeners||{},yi(t,a,this._listeners),this}off(t,a){return Fi(t,a,this._listeners),Fi(t,a,this._oneTimeListeners),this}once(t,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},yi(t,a,this._oneTimeListeners),this):new Promise(m=>this.once(t,m))}fire(t,a){"string"==typeof t&&(t=new dt(t,a||{}));const m=t.type;if(this.listens(m)){t.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const P of _)P.call(this,t);const D=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const P of D)Fi(m,P,this._oneTimeListeners),P.call(this,t);const S=this._eventedParent;S&&(Fe(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),S.fire(t))}else t instanceof $t&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,a){return this._eventedParent=t,this._eventedParentData=a,this}}var _t={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Yi=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function On(o,t){const a={};for(const m in o)"ref"!==m&&(a[m]=o[m]);return Yi.forEach(m=>{m in t&&(a[m]=t[m])}),a}function Wi(o,t){if(Array.isArray(o)){if(!Array.isArray(t)||o.length!==t.length)return!1;for(let a=0;a<o.length;a++)if(!Wi(o[a],t[a]))return!1;return!0}if("object"==typeof o&&null!==o&&null!==t){if("object"!=typeof t||Object.keys(o).length!==Object.keys(t).length)return!1;for(const a in o)if(!Wi(o[a],t[a]))return!1;return!0}return o===t}const zi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Tt(o,t,a){a.push({command:zi.addSource,args:[o,t[o]]})}function xe(o,t,a){t.push({command:zi.removeSource,args:[o]}),a[o]=!0}function Re(o,t,a,m){xe(o,a,m),Tt(o,t,a)}function Pe(o,t,a){let m;for(m in o[a])if(Object.prototype.hasOwnProperty.call(o[a],m)&&"data"!==m&&!Wi(o[a][m],t[a][m]))return!1;for(m in t[a])if(Object.prototype.hasOwnProperty.call(t[a],m)&&"data"!==m&&!Wi(o[a][m],t[a][m]))return!1;return!0}function Ye(o,t,a,m,_,D){let S;for(S in t=t||{},o=o||{})Object.prototype.hasOwnProperty.call(o,S)&&(Wi(o[S],t[S])||a.push({command:D,args:[m,S,t[S],_]}));for(S in t)Object.prototype.hasOwnProperty.call(t,S)&&!Object.prototype.hasOwnProperty.call(o,S)&&(Wi(o[S],t[S])||a.push({command:D,args:[m,S,t[S],_]}))}function be(o){return o.id}function qe(o,t){return o[t.id]=t,o}class tt{constructor(t,a,m,_){this.message=(t?`${t}: `:"")+m,_&&(this.identifier=_),null!=a&&a.__line__&&(this.line=a.__line__)}}function Ht(o,...t){for(const a of t)for(const m in a)o[m]=a[m];return o}class ri extends Error{constructor(t,a){super(a),this.message=a,this.key=t}}class Ei{constructor(t,a=[]){this.parent=t,this.bindings={};for(const[m,_]of a)this.bindings[m]=_}concat(t){return new Ei(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const gi={kind:"null"},Gt={kind:"number"},Mi={kind:"string"},xi={kind:"boolean"},an={kind:"color"},Vt={kind:"object"},ci={kind:"value"},Ft={kind:"collator"},ve={kind:"formatted"},K={kind:"padding"},se={kind:"resolvedImage"},Ce={kind:"variableAnchorOffsetCollection"};function Ae(o,t){return{kind:"array",itemType:o,N:t}}function ze(o){if("array"===o.kind){const t=ze(o.itemType);return"number"==typeof o.N?`array<${t}, ${o.N}>`:"value"===o.itemType.kind?"array":`array<${t}>`}return o.kind}const Ee=[gi,Gt,Mi,xi,an,ve,Vt,Ae(ci),K,se,Ce];function ie(o,t){if("error"===t.kind)return null;if("array"===o.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!ie(o.itemType,t.itemType))&&("number"!=typeof o.N||o.N===t.N))return null}else{if(o.kind===t.kind)return null;if("value"===o.kind)for(const a of Ee)if(!ie(a,t))return null}return`Expected ${ze(o)} but found ${ze(t)} instead.`}function $(o,t){return t.some(a=>a.kind===o.kind)}function Z(o,t){return t.some(a=>"null"===a?null===o:"array"===a?Array.isArray(o):"object"===a?o&&!Array.isArray(o)&&"object"==typeof o:a===typeof o)}function ce(o,t){return"array"===o.kind&&"array"===t.kind?o.itemType.kind===t.itemType.kind&&"number"==typeof o.N:o.kind===t.kind}const Le=4/29,pe=6/29,Te=3*pe*pe,rt=pe*pe*pe,Ct=Math.PI/180,Ve=180/Math.PI;function Ne(o){return(o%=360)<0&&(o+=360),o}function Qe([o,t,a,m]){let _,D;const S=Qt((.2225045*(o=St(o))+.7168786*(t=St(t))+.0606169*(a=St(a)))/1);o===t&&t===a?_=D=S:(_=Qt((.4360747*o+.3850649*t+.1430804*a)/.96422),D=Qt((.0139322*o+.0971045*t+.7141733*a)/.82521));const P=116*S-16;return[P<0?0:P,500*(_-S),200*(S-D),m]}function St(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function Qt(o){return o>rt?Math.pow(o,1/3):o/Te+Le}function si([o,t,a,m]){let _=(o+16)/116,D=isNaN(t)?_:_+t/500,S=isNaN(a)?_:_-a/200;return _=1*Oi(_),D=.96422*Oi(D),S=.82521*Oi(S),[oi(3.1338561*D-1.6168667*_-.4906146*S),oi(-.9787684*D+1.9161415*_+.033454*S),oi(.0719453*D-.2289914*_+1.4052427*S),m]}function oi(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function Oi(o){return o>pe?o*o*o:Te*(o-Le)}function nn(o){return parseInt(o.padEnd(2,o),16)/255}function gr(o,t){return xr(t?o/100:o,0,1)}function xr(o,t,a){return Math.min(Math.max(t,o),a)}function so(o){return!o.some(Number.isNaN)}const _r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class fn{constructor(t,a,m,_=1,D=!0){this.r=t,this.g=a,this.b=m,this.a=_,D||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[t,a,m,_]))}static parse(t){if(t instanceof fn)return t;if("string"!=typeof t)return;const a=function(m){if("transparent"===(m=m.toLowerCase().trim()))return[0,0,0,0];const _=_r[m];if(_){const[S,P,N]=_;return[S/255,P/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const S=m.length<6?1:2;let P=1;return[nn(m.slice(P,P+=S)),nn(m.slice(P,P+=S)),nn(m.slice(P,P+=S)),nn(m.slice(P,P+S)||"ff")]}if(m.startsWith("rgb")){const S=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[P,N,G,J,te,de,ge,we,Oe,Xe,et,yt]=S,ct=[J||" ",ge||" ",Xe].join("");if("  "===ct||"  /"===ct||",,"===ct||",,,"===ct){const bt=[G,de,Oe].join(""),Ot="%%%"===bt?100:""===bt?255:0;if(Ot){const Yt=[xr(+N/Ot,0,1),xr(+te/Ot,0,1),xr(+we/Ot,0,1),et?gr(+et,yt):1];if(so(Yt))return Yt}}return}}const D=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(D){const[S,P,N,G,J,te,de,ge,we]=D,Oe=[N||" ",J||" ",de].join("");if("  "===Oe||"  /"===Oe||",,"===Oe||",,,"===Oe){const Xe=[+P,xr(+G,0,100),xr(+te,0,100),ge?gr(+ge,we):1];if(so(Xe))return function([et,yt,ct,bt]){function Ot(Yt){const ki=(Yt+et/30)%12,Gi=yt*Math.min(ct,1-ct);return ct-Gi*Math.max(-1,Math.min(ki-3,9-ki,1))}return et=Ne(et),yt/=100,ct/=100,[Ot(0),Ot(8),Ot(4),bt]}(Xe)}}}(t);return a?new fn(...a,!1):void 0}get rgb(){const{r:t,g:a,b:m,a:_}=this,D=_||1/0;return this.overwriteGetter("rgb",[t/D,a/D,m/D,_])}get hcl(){return this.overwriteGetter("hcl",function(t){const[a,m,_,D]=Qe(t),S=Math.sqrt(m*m+_*_);return[Math.round(1e4*S)?Ne(Math.atan2(_,m)*Ve):NaN,S,a,D]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Qe(this.rgb))}overwriteGetter(t,a){return Object.defineProperty(this,t,{value:a}),a}toString(){const[t,a,m,_]=this.rgb;return`rgba(${[t,a,m].map(D=>Math.round(255*D)).join(",")},${_})`}}fn.black=new fn(0,0,0,1),fn.white=new fn(1,1,1,1),fn.transparent=new fn(0,0,0,0),fn.red=new fn(1,0,0,1);class Ur{constructor(t,a,m){this.sensitivity=t?a?"variant":"case":a?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,a){return this.collator.compare(t,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Rn{constructor(t,a,m,_,D){this.text=t,this.image=a,this.scale=m,this.fontStack=_,this.textColor=D}}class _n{constructor(t){this.sections=t}static fromString(t){return new _n([new Rn(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof _n?t:_n.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}}class hr{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof hr)return t;if("number"==typeof t)return new hr([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const a of t)if("number"!=typeof a)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new hr(t)}}toString(){return JSON.stringify(this.values)}}const Ts=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Mn{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Mn)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let a=0;a<t.length;a+=2){const m=t[a],_=t[a+1];if("string"!=typeof m||!Ts.has(m)||!Array.isArray(_)||2!==_.length||"number"!=typeof _[0]||"number"!=typeof _[1])return}return new Mn(t)}}toString(){return JSON.stringify(this.values)}}class Jn{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Jn({name:t,available:!1}):null}}function Tr(o,t,a,m){return"number"==typeof o&&o>=0&&o<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof a&&a>=0&&a<=255?void 0===m||"number"==typeof m&&m>=0&&m<=1?null:`Invalid rgba value [${[o,t,a,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof m?[o,t,a,m]:[o,t,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ao(o){if(null===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||o instanceof fn||o instanceof Ur||o instanceof _n||o instanceof hr||o instanceof Mn||o instanceof Jn)return!0;if(Array.isArray(o)){for(const t of o)if(!ao(t))return!1;return!0}if("object"==typeof o){for(const t in o)if(!ao(o[t]))return!1;return!0}return!1}function Ki(o){if(null===o)return gi;if("string"==typeof o)return Mi;if("boolean"==typeof o)return xi;if("number"==typeof o)return Gt;if(o instanceof fn)return an;if(o instanceof Ur)return Ft;if(o instanceof _n)return ve;if(o instanceof hr)return K;if(o instanceof Mn)return Ce;if(o instanceof Jn)return se;if(Array.isArray(o)){const t=o.length;let a;for(const m of o){const _=Ki(m);if(a){if(a===_)continue;a=ci;break}a=_}return Ae(a||ci,t)}return Vt}function Lo(o){const t=typeof o;return null===o?"":"string"===t||"number"===t||"boolean"===t?String(o):o instanceof fn||o instanceof _n||o instanceof hr||o instanceof Mn||o instanceof Jn?o.toString():JSON.stringify(o)}class dr{constructor(t,a){this.type=t,this.value=a}static parse(t,a){if(2!==t.length)return a.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!ao(t[1]))return a.error("invalid value");const m=t[1];let _=Ki(m);const D=a.expectedType;return"array"!==_.kind||0!==_.N||!D||"array"!==D.kind||"number"==typeof D.N&&0!==D.N||(_=D),new dr(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class vn{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const To={string:Mi,number:Gt,boolean:xi,object:Vt};class lo{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");let m,_=1;const D=t[0];if("array"===D){let P,N;if(t.length>2){const G=t[1];if("string"!=typeof G||!(G in To)||"object"===G)return a.error('The item type argument of "array" must be one of string, number, boolean',1);P=To[G],_++}else P=ci;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return a.error('The length argument to "array" must be a positive integer literal',2);N=t[2],_++}m=Ae(P,N)}else{if(!To[D])throw new Error(`Types doesn't contain name = ${D}`);m=To[D]}const S=[];for(;_<t.length;_++){const P=a.parse(t[_],_,ci);if(!P)return null;S.push(P)}return new lo(m,S)}evaluate(t){for(let a=0;a<this.args.length;a++){const m=this.args[a].evaluate(t);if(!ie(this.type,Ki(m)))return m;if(a===this.args.length-1)throw new vn(`Expected value to be of type ${ze(this.type)}, but found ${ze(Ki(m))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const El={"to-boolean":xi,"to-color":an,"to-number":Gt,"to-string":Mi};class ta{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const m=t[0];if(!El[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if(("to-boolean"===m||"to-string"===m)&&2!==t.length)return a.error("Expected one argument.");const _=El[m],D=[];for(let S=1;S<t.length;S++){const P=a.parse(t[S],S,ci);if(!P)return null;D.push(P)}return new ta(_,D)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let a,m;for(const _ of this.args){if(a=_.evaluate(t),m=null,a instanceof fn)return a;if("string"==typeof a){const D=t.parseColor(a);if(D)return D}else if(Array.isArray(a)&&(m=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:Tr(a[0],a[1],a[2],a[3]),!m))return new fn(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new vn(m||`Could not parse color from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"padding":{let a;for(const m of this.args){a=m.evaluate(t);const _=hr.parse(a);if(_)return _}throw new vn(`Could not parse padding from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"variableAnchorOffsetCollection":{let a;for(const m of this.args){a=m.evaluate(t);const _=Mn.parse(a);if(_)return _}throw new vn(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"number":{let a=null;for(const m of this.args){if(a=m.evaluate(t),null===a)return 0;const _=Number(a);if(!isNaN(_))return _}throw new vn(`Could not convert ${JSON.stringify(a)} to number.`)}case"formatted":return _n.fromString(Lo(this.args[0].evaluate(t)));case"resolvedImage":return Jn.fromString(Lo(this.args[0].evaluate(t)));default:return Lo(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const Dl=["Unknown","Point","LineString","Polygon"];class Ml{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Dl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let a=this._parseColorCache[t];return a||(a=this._parseColorCache[t]=fn.parse(t)),a}}class ia{constructor(t,a,m=[],_,D=new Ei,S=[]){this.registry=t,this.path=m,this.key=m.map(P=>`[${P}]`).join(""),this.scope=D,this.errors=S,this.expectedType=_,this._isConstant=a}parse(t,a,m,_,D={}){return a?this.concat(a,m,_)._parse(t,D):this._parse(t,D)}_parse(t,a){function m(_,D,S){return"assert"===S?new lo(D,[_]):"coerce"===S?new ta(D,[_]):_}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=t[0];if("string"!=typeof _)return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const D=this.registry[_];if(D){let S=D.parse(t,this);if(!S)return null;if(this.expectedType){const P=this.expectedType,N=S.type;if("string"!==P.kind&&"number"!==P.kind&&"boolean"!==P.kind&&"object"!==P.kind&&"array"!==P.kind||"value"!==N.kind)if("color"!==P.kind&&"formatted"!==P.kind&&"resolvedImage"!==P.kind||"value"!==N.kind&&"string"!==N.kind)if("padding"!==P.kind||"value"!==N.kind&&"number"!==N.kind&&"array"!==N.kind)if("variableAnchorOffsetCollection"!==P.kind||"value"!==N.kind&&"array"!==N.kind){if(this.checkSubtype(P,N))return null}else S=m(S,P,a.typeAnnotation||"coerce");else S=m(S,P,a.typeAnnotation||"coerce");else S=m(S,P,a.typeAnnotation||"coerce");else S=m(S,P,a.typeAnnotation||"assert")}if(!(S instanceof dr)&&"resolvedImage"!==S.type.kind&&this._isConstant(S)){const P=new Ml;try{S=new dr(S.type,S.evaluate(P))}catch(N){return this.error(N.message),null}}return S}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,a,m){const _="number"==typeof t?this.path.concat(t):this.path,D=m?this.scope.concat(m):this.scope;return new ia(this.registry,this._isConstant,_,a||null,D,this.errors)}error(t,...a){const m=`${this.key}${a.map(_=>`[${_}]`).join("")}`;this.errors.push(new ri(m,t))}checkSubtype(t,a){const m=ie(t,a);return m&&this.error(m),m}}class na{constructor(t,a,m){this.type=Ft,this.locale=m,this.caseSensitive=t,this.diacriticSensitive=a}static parse(t,a){if(2!==t.length)return a.error("Expected one argument.");const m=t[1];if("object"!=typeof m||Array.isArray(m))return a.error("Collator options argument must be an object.");const _=a.parse(void 0!==m["case-sensitive"]&&m["case-sensitive"],1,xi);if(!_)return null;const D=a.parse(void 0!==m["diacritic-sensitive"]&&m["diacritic-sensitive"],1,xi);if(!D)return null;let S=null;return m.locale&&(S=a.parse(m.locale,1,Mi),!S)?null:new na(_,D,S)}evaluate(t){return new Ur(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}const Hs=8192;function jr(o,t){o[0]=Math.min(o[0],t[0]),o[1]=Math.min(o[1],t[1]),o[2]=Math.max(o[2],t[0]),o[3]=Math.max(o[3],t[1])}function $s(o,t){return!(o[0]<=t[0]||o[2]>=t[2]||o[1]<=t[1]||o[3]>=t[3])}function Oa(o,t){const a=(180+o[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,_=Math.pow(2,t.z);return[Math.round(a*_*Hs),Math.round(m*_*Hs)]}function Za(o,t,a){const m=o[0]-t[0],_=o[1]-t[1],D=o[0]-a[0],S=o[1]-a[1];return m*S-D*_==0&&m*D<=0&&_*S<=0}function Gs(o,t){let a=!1;for(let S=0,P=t.length;S<P;S++){const N=t[S];for(let G=0,J=N.length;G<J-1;G++){if(Za(o,N[G],N[G+1]))return!1;(_=N[G])[1]>(m=o)[1]!=(D=N[G+1])[1]>m[1]&&m[0]<(D[0]-_[0])*(m[1]-_[1])/(D[1]-_[1])+_[0]&&(a=!a)}}var m,_,D;return a}function Sl(o,t){for(let a=0;a<t.length;a++)if(Gs(o,t[a]))return!0;return!1}function Tl(o,t,a,m){const _=m[0]-a[0],D=m[1]-a[1],S=(o[0]-a[0])*D-_*(o[1]-a[1]),P=(t[0]-a[0])*D-_*(t[1]-a[1]);return S>0&&P<0||S<0&&P>0}function Zs(o,t,a){for(const G of a)for(let J=0;J<G.length-1;++J)if((P=[(S=G[J+1])[0]-(D=G[J])[0],S[1]-D[1]])[0]*(N=[(_=t)[0]-(m=o)[0],_[1]-m[1]])[1]-P[1]*N[0]!=0&&Tl(m,_,D,S)&&Tl(D,S,m,_))return!0;var m,_,D,S,P,N;return!1}function Ra(o,t){for(let a=0;a<o.length;++a)if(!Gs(o[a],t))return!1;for(let a=0;a<o.length-1;++a)if(Zs(o[a],o[a+1],t))return!1;return!0}function Fa(o,t){for(let a=0;a<t.length;a++)if(Ra(o,t[a]))return!0;return!1}function Sn(o,t,a){const m=[];for(let _=0;_<o.length;_++){const D=[];for(let S=0;S<o[_].length;S++){const P=Oa(o[_][S],a);jr(t,P),D.push(P)}m.push(D)}return m}function nr(o,t,a){const m=[];for(let _=0;_<o.length;_++){const D=Sn(o[_],t,a);m.push(D)}return m}function yr(o,t,a,m){if(o[0]<a[0]||o[0]>a[2]){const _=.5*m;let D=o[0]-a[0]>_?-m:a[0]-o[0]>_?m:0;0===D&&(D=o[0]-a[2]>_?-m:a[2]-o[0]>_?m:0),o[0]+=D}jr(t,o)}function os(o,t,a,m){const _=Math.pow(2,m.z)*Hs,D=[m.x*Hs,m.y*Hs],S=[];for(const P of o)for(const N of P){const G=[N.x+D[0],N.y+D[1]];yr(G,t,a,_),S.push(G)}return S}function Io(o,t,a,m){const _=Math.pow(2,m.z)*Hs,D=[m.x*Hs,m.y*Hs],S=[];for(const N of o){const G=[];for(const J of N){const te=[J.x+D[0],J.y+D[1]];jr(t,te),G.push(te)}S.push(G)}if(t[2]-t[0]<=_/2){(P=t)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const N of S)for(const G of N)yr(G,t,a,_)}var P;return S}class ss{constructor(t,a){this.type=xi,this.geojson=t,this.geometries=a}static parse(t,a){if(2!==t.length)return a.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ao(t[1])){const m=t[1];if("FeatureCollection"===m.type)for(let _=0;_<m.features.length;++_){const D=m.features[_].geometry.type;if("Polygon"===D||"MultiPolygon"===D)return new ss(m,m.features[_].geometry)}else if("Feature"===m.type){const _=m.geometry.type;if("Polygon"===_||"MultiPolygon"===_)return new ss(m,m.geometry)}else if("Polygon"===m.type||"MultiPolygon"===m.type)return new ss(m,m)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(a,m){const _=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],S=a.canonicalID();if("Polygon"===m.type){const P=Sn(m.coordinates,D,S),N=os(a.geometry(),_,D,S);if(!$s(_,D))return!1;for(const G of N)if(!Gs(G,P))return!1}if("MultiPolygon"===m.type){const P=nr(m.coordinates,D,S),N=os(a.geometry(),_,D,S);if(!$s(_,D))return!1;for(const G of N)if(!Sl(G,P))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(a,m){const _=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],S=a.canonicalID();if("Polygon"===m.type){const P=Sn(m.coordinates,D,S),N=Io(a.geometry(),_,D,S);if(!$s(_,D))return!1;for(const G of N)if(!Ra(G,P))return!1}if("MultiPolygon"===m.type){const P=nr(m.coordinates,D,S),N=Io(a.geometry(),_,D,S);if(!$s(_,D))return!1;for(const G of N)if(!Fa(G,P))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class as{constructor(t,a){this.type=a.type,this.name=t,this.boundExpression=a}static parse(t,a){if(2!==t.length||"string"!=typeof t[1])return a.error("'var' expression requires exactly one string literal argument.");const m=t[1];return a.scope.has(m)?new as(m,a.scope.get(m)):a.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class Wr{constructor(t,a,m,_){this.name=t,this.type=a,this._evaluate=m,this.args=_}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,a){const m=t[0],_=Wr.definitions[m];if(!_)return a.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const D=Array.isArray(_)?_[0]:_.type,S=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,P=S.filter(([G])=>!Array.isArray(G)||G.length===t.length-1);let N=null;for(const[G,J]of P){N=new ia(a.registry,Wa,a.path,null,a.scope);const te=[];let de=!1;for(let ge=1;ge<t.length;ge++){const we=t[ge],Oe=Array.isArray(G)?G[ge-1]:G.type,Xe=N.parse(we,1+te.length,Oe);if(!Xe){de=!0;break}te.push(Xe)}if(!de)if(Array.isArray(G)&&G.length!==te.length)N.error(`Expected ${G.length} arguments, but found ${te.length} instead.`);else{for(let ge=0;ge<te.length;ge++){const we=Array.isArray(G)?G[ge]:G.type,Oe=te[ge];N.concat(ge+1).checkSubtype(we,Oe.type)}if(0===N.errors.length)return new Wr(m,D,J,te)}}if(1===P.length)a.errors.push(...N.errors);else{const G=(P.length?P:S).map(([te])=>{return de=te,Array.isArray(de)?`(${de.map(ze).join(", ")})`:`(${ze(de.type)}...)`;var de}).join(" | "),J=[];for(let te=1;te<t.length;te++){const de=a.parse(t[te],1+J.length);if(!de)return null;J.push(ze(de.type))}a.error(`Expected arguments of type ${G}, but found (${J.join(", ")}) instead.`)}return null}static register(t,a){Wr.definitions=a;for(const m in a)t[m]=Wr}}function Wa(o){if(o instanceof as)return Wa(o.boundExpression);if(o instanceof Wr&&"error"===o.name||o instanceof na||o instanceof ss)return!1;const t=o instanceof ta||o instanceof lo;let a=!0;return o.eachChild(m=>{a=t?a&&Wa(m):a&&m instanceof dr}),!!a&&Is(o)&&Ai(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Is(o){if(o instanceof Wr&&("get"===o.name&&1===o.args.length||"feature-state"===o.name||"has"===o.name&&1===o.args.length||"properties"===o.name||"geometry-type"===o.name||"id"===o.name||/^filter-/.test(o.name))||o instanceof ss)return!1;let t=!0;return o.eachChild(a=>{t&&!Is(a)&&(t=!1)}),t}function Qn(o){if(o instanceof Wr&&"feature-state"===o.name)return!1;let t=!0;return o.eachChild(a=>{t&&!Qn(a)&&(t=!1)}),t}function Ai(o,t){if(o instanceof Wr&&t.indexOf(o.name)>=0)return!1;let a=!0;return o.eachChild(m=>{a&&!Ai(m,t)&&(a=!1)}),a}function ln(o,t){const a=o.length-1;let m,_,D=0,S=a,P=0;for(;D<=S;)if(P=Math.floor((D+S)/2),m=o[P],_=o[P+1],m<=t){if(P===a||t<_)return P;D=P+1}else{if(!(m>t))throw new vn("Input is not a number.");S=P-1}return 0}class Xi{constructor(t,a,m){this.type=t,this.input=a,this.labels=[],this.outputs=[];for(const[_,D]of m)this.labels.push(_),this.outputs.push(D)}static parse(t,a){if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");const m=a.parse(t[1],1,Gt);if(!m)return null;const _=[];let D=null;a.expectedType&&"value"!==a.expectedType.kind&&(D=a.expectedType);for(let S=1;S<t.length;S+=2){const P=1===S?-1/0:t[S],N=t[S+1],G=S,J=S+1;if("number"!=typeof P)return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',G);if(_.length&&_[_.length-1][0]>=P)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',G);const te=a.parse(N,J,D);if(!te)return null;D=D||te.type,_.push([P,te])}return new Xi(D,m,_)}evaluate(t){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(t);const _=this.input.evaluate(t);if(_<=a[0])return m[0].evaluate(t);const D=a.length;return _>=a[D-1]?m[D-1].evaluate(t):m[ln(a,_)].evaluate(t)}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function wr(o,t,a){return o+a*(t-o)}function Wo(o,t,a){return o.map((m,_)=>wr(m,t[_],a))}const Xn={number:wr,color:function(o,t,a,m="rgb"){switch(m){case"rgb":{const[_,D,S,P]=Wo(o.rgb,t.rgb,a);return new fn(_,D,S,P,!1)}case"hcl":{const[_,D,S,P]=o.hcl,[N,G,J,te]=t.hcl;let de,ge;if(isNaN(_)||isNaN(N))isNaN(_)?isNaN(N)?de=NaN:(de=N,1!==S&&0!==S||(ge=G)):(de=_,1!==J&&0!==J||(ge=D));else{let yt=N-_;N>_&&yt>180?yt-=360:N<_&&_-N>180&&(yt+=360),de=_+a*yt}const[we,Oe,Xe,et]=function([yt,ct,bt,Ot]){return yt=isNaN(yt)?0:yt*Ct,si([bt,Math.cos(yt)*ct,Math.sin(yt)*ct,Ot])}([de,ge??wr(D,G,a),wr(S,J,a),wr(P,te,a)]);return new fn(we,Oe,Xe,et,!1)}case"lab":{const[_,D,S,P]=si(Wo(o.lab,t.lab,a));return new fn(_,D,S,P,!1)}}},array:Wo,padding:function(o,t,a){return new hr(Wo(o.values,t.values,a))},variableAnchorOffsetCollection:function(o,t,a){const m=o.values,_=t.values;if(m.length!==_.length)throw new vn(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${t.toString()}`);const D=[];for(let S=0;S<m.length;S+=2){if(m[S]!==_[S])throw new vn(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${m[S]}, to[${S}]: ${_[S]}`);D.push(m[S]);const[P,N]=m[S+1],[G,J]=_[S+1];D.push([wr(P,G,a),wr(N,J,a)])}return new Mn(D)}};class Nr{constructor(t,a,m,_,D){this.type=t,this.operator=a,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[S,P]of D)this.labels.push(S),this.outputs.push(P)}static interpolationFactor(t,a,m,_){let D=0;if("exponential"===t.name)D=vr(a,t.base,m,_);else if("linear"===t.name)D=vr(a,1,m,_);else if("cubic-bezier"===t.name){const S=t.controlPoints;D=new Ze(S[0],S[1],S[2],S[3]).solve(vr(a,1,m,_))}return D}static parse(t,a){let[m,_,D,...S]=t;if(!Array.isArray(_)||0===_.length)return a.error("Expected an interpolation type expression.",1);if("linear"===_[0])_={name:"linear"};else if("exponential"===_[0]){const G=_[1];if("number"!=typeof G)return a.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:G}}else{if("cubic-bezier"!==_[0])return a.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const G=_.slice(1);if(4!==G.length||G.some(J=>"number"!=typeof J||J<0||J>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:G}}}if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(D=a.parse(D,2,Gt),!D)return null;const P=[];let N=null;"interpolate-hcl"===m||"interpolate-lab"===m?N=an:a.expectedType&&"value"!==a.expectedType.kind&&(N=a.expectedType);for(let G=0;G<S.length;G+=2){const J=S[G],te=S[G+1],de=G+3,ge=G+4;if("number"!=typeof J)return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',de);if(P.length&&P[P.length-1][0]>=J)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',de);const we=a.parse(te,ge,N);if(!we)return null;N=N||we.type,P.push([J,we])}return ce(N,Gt)||ce(N,an)||ce(N,K)||ce(N,Ce)||ce(N,Ae(Gt))?new Nr(N,m,_,D,P):a.error(`Type ${ze(N)} is not interpolatable.`)}evaluate(t){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(t);const _=this.input.evaluate(t);if(_<=a[0])return m[0].evaluate(t);const D=a.length;if(_>=a[D-1])return m[D-1].evaluate(t);const S=ln(a,_),P=Nr.interpolationFactor(this.interpolation,_,a[S],a[S+1]),N=m[S].evaluate(t),G=m[S+1].evaluate(t);switch(this.operator){case"interpolate":return Xn[this.type.kind](N,G,P);case"interpolate-hcl":return Xn.color(N,G,P,"hcl");case"interpolate-lab":return Xn.color(N,G,P,"lab")}}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function vr(o,t,a,m){const _=m-a,D=o-a;return 0===_?0:1===t?D/_:(Math.pow(t,D)-1)/(Math.pow(t,_)-1)}class No{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expectected at least one argument.");let m=null;const _=a.expectedType;_&&"value"!==_.kind&&(m=_);const D=[];for(const P of t.slice(1)){const N=a.parse(P,1+D.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,D.push(N)}if(!m)throw new Error("No output type");const S=_&&D.some(P=>ie(_,P.type));return new No(S?ci:m,D)}evaluate(t){let a,m=null,_=0;for(const D of this.args)if(_++,m=D.evaluate(t),m&&m instanceof Jn&&!m.available&&(a||(a=m.name),m=null,_===this.args.length&&(m=a)),null!==m)break;return m}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}class zo{constructor(t,a){this.type=a.type,this.bindings=[].concat(t),this.result=a}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const a of this.bindings)t(a[1]);t(this.result)}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const m=[];for(let D=1;D<t.length-1;D+=2){const S=t[D];if("string"!=typeof S)return a.error(`Expected string, but found ${typeof S} instead.`,D);if(/[^a-zA-Z0-9_]/.test(S))return a.error("Variable names must contain only alphanumeric characters or '_'.",D);const P=a.parse(t[D+1],D+1);if(!P)return null;m.push([S,P])}const _=a.parse(t[t.length-1],t.length-1,a.expectedType,m);return _?new zo(m,_):null}outputDefined(){return this.result.outputDefined()}}class mn{constructor(t,a,m){this.type=t,this.index=a,this.input=m}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,Gt),_=a.parse(t[2],2,Ae(a.expectedType||ci));return m&&_?new mn(_.type.itemType,m,_):null}evaluate(t){const a=this.index.evaluate(t),m=this.input.evaluate(t);if(a<0)throw new vn(`Array index out of bounds: ${a} < 0.`);if(a>=m.length)throw new vn(`Array index out of bounds: ${a} > ${m.length-1}.`);if(a!==Math.floor(a))throw new vn(`Array index must be an integer, but found ${a} instead.`);return m[a]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class As{constructor(t,a){this.type=xi,this.needle=t,this.haystack=a}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,ci),_=a.parse(t[2],2,ci);return m&&_?$(m.type,[xi,Mi,Gt,gi,ci])?new As(m,_):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(m.type)} instead`):null}evaluate(t){const a=this.needle.evaluate(t),m=this.haystack.evaluate(t);if(!m)return!1;if(!Z(a,["boolean","string","number","null"]))throw new vn(`Expected first argument to be of type boolean, string, number or null, but found ${ze(Ki(a))} instead.`);if(!Z(m,["string","array"]))throw new vn(`Expected second argument to be of type array or string, but found ${ze(Ki(m))} instead.`);return m.indexOf(a)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Kr{constructor(t,a,m){this.type=Gt,this.needle=t,this.haystack=a,this.fromIndex=m}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,ci),_=a.parse(t[2],2,ci);if(!m||!_)return null;if(!$(m.type,[xi,Mi,Gt,gi,ci]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(m.type)} instead`);if(4===t.length){const D=a.parse(t[3],3,Gt);return D?new Kr(m,_,D):null}return new Kr(m,_)}evaluate(t){const a=this.needle.evaluate(t),m=this.haystack.evaluate(t);if(!Z(a,["boolean","string","number","null"]))throw new vn(`Expected first argument to be of type boolean, string, number or null, but found ${ze(Ki(a))} instead.`);if(!Z(m,["string","array"]))throw new vn(`Expected second argument to be of type array or string, but found ${ze(Ki(m))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(t);return m.indexOf(a,_)}return m.indexOf(a)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class qo{constructor(t,a,m,_,D,S){this.inputType=t,this.type=a,this.input=m,this.cases=_,this.outputs=D,this.otherwise=S}static parse(t,a){if(t.length<5)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return a.error("Expected an even number of arguments.");let m,_;a.expectedType&&"value"!==a.expectedType.kind&&(_=a.expectedType);const D={},S=[];for(let G=2;G<t.length-1;G+=2){let J=t[G];const te=t[G+1];Array.isArray(J)||(J=[J]);const de=a.concat(G);if(0===J.length)return de.error("Expected at least one branch label.");for(const we of J){if("number"!=typeof we&&"string"!=typeof we)return de.error("Branch labels must be numbers or strings.");if("number"==typeof we&&Math.abs(we)>Number.MAX_SAFE_INTEGER)return de.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof we&&Math.floor(we)!==we)return de.error("Numeric branch labels must be integer values.");if(m){if(de.checkSubtype(m,Ki(we)))return null}else m=Ki(we);if(void 0!==D[String(we)])return de.error("Branch labels must be unique.");D[String(we)]=S.length}const ge=a.parse(te,G,_);if(!ge)return null;_=_||ge.type,S.push(ge)}const P=a.parse(t[1],1,ci);if(!P)return null;const N=a.parse(t[t.length-1],t.length-1,_);return N?"value"!==P.type.kind&&a.concat(1).checkSubtype(m,P.type)?null:new qo(m,_,P,D,S,N):null}evaluate(t){const a=this.input.evaluate(t);return(Ki(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class rr{constructor(t,a,m){this.type=t,this.branches=a,this.otherwise=m}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return a.error("Expected an odd number of arguments.");let m;a.expectedType&&"value"!==a.expectedType.kind&&(m=a.expectedType);const _=[];for(let S=1;S<t.length-1;S+=2){const P=a.parse(t[S],S,xi);if(!P)return null;const N=a.parse(t[S+1],S+1,m);if(!N)return null;_.push([P,N]),m=m||N.type}const D=a.parse(t[t.length-1],t.length-1,m);if(!D)return null;if(!m)throw new Error("Can't infer output type");return new rr(m,_,D)}evaluate(t){for(const[a,m]of this.branches)if(a.evaluate(t))return m.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[a,m]of this.branches)t(a),t(m);t(this.otherwise)}outputDefined(){return this.branches.every(([t,a])=>a.outputDefined())&&this.otherwise.outputDefined()}}class bo{constructor(t,a,m,_){this.type=t,this.input=a,this.beginIndex=m,this.endIndex=_}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,ci),_=a.parse(t[2],2,Gt);if(!m||!_)return null;if(!$(m.type,[Ae(ci),Mi,ci]))return a.error(`Expected first argument to be of type array or string, but found ${ze(m.type)} instead`);if(4===t.length){const D=a.parse(t[3],3,Gt);return D?new bo(m.type,m,_,D):null}return new bo(m.type,m,_)}evaluate(t){const a=this.input.evaluate(t),m=this.beginIndex.evaluate(t);if(!Z(a,["string","array"]))throw new vn(`Expected first argument to be of type array or string, but found ${ze(Ki(a))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(t);return a.slice(m,_)}return a.slice(m)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function ra(o,t){return"=="===o||"!="===o?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Bo(o,t,a,m){return 0===m.compare(t,a)}function Yo(o,t,a){const m="=="!==o&&"!="!==o;return class QE{constructor(D,S,P){this.type=xi,this.lhs=D,this.rhs=S,this.collator=P,this.hasUntypedArgument="value"===D.type.kind||"value"===S.type.kind}static parse(D,S){if(3!==D.length&&4!==D.length)return S.error("Expected two or three arguments.");const P=D[0];let N=S.parse(D[1],1,ci);if(!N)return null;if(!ra(P,N.type))return S.concat(1).error(`"${P}" comparisons are not supported for type '${ze(N.type)}'.`);let G=S.parse(D[2],2,ci);if(!G)return null;if(!ra(P,G.type))return S.concat(2).error(`"${P}" comparisons are not supported for type '${ze(G.type)}'.`);if(N.type.kind!==G.type.kind&&"value"!==N.type.kind&&"value"!==G.type.kind)return S.error(`Cannot compare types '${ze(N.type)}' and '${ze(G.type)}'.`);m&&("value"===N.type.kind&&"value"!==G.type.kind?N=new lo(G.type,[N]):"value"!==N.type.kind&&"value"===G.type.kind&&(G=new lo(N.type,[G])));let J=null;if(4===D.length){if("string"!==N.type.kind&&"string"!==G.type.kind&&"value"!==N.type.kind&&"value"!==G.type.kind)return S.error("Cannot use collator to compare non-string types.");if(J=S.parse(D[3],3,Ft),!J)return null}return new QE(N,G,J)}evaluate(D){const S=this.lhs.evaluate(D),P=this.rhs.evaluate(D);if(m&&this.hasUntypedArgument){const N=Ki(S),G=Ki(P);if(N.kind!==G.kind||"string"!==N.kind&&"number"!==N.kind)throw new vn(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${N.kind}, ${G.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=Ki(S),G=Ki(P);if("string"!==N.kind||"string"!==G.kind)return t(D,S,P)}return this.collator?a(D,S,P,this.collator.evaluate(D)):t(D,S,P)}eachChild(D){D(this.lhs),D(this.rhs),this.collator&&D(this.collator)}outputDefined(){return!0}}}const Il=Yo("==",function(o,t,a){return t===a},Bo),va=Yo("!=",function(o,t,a){return t!==a},function(o,t,a,m){return!Bo(0,t,a,m)}),ls=Yo("<",function(o,t,a){return t<a},function(o,t,a,m){return m.compare(t,a)<0}),La=Yo(">",function(o,t,a){return t>a},function(o,t,a,m){return m.compare(t,a)>0}),bs=Yo("<=",function(o,t,a){return t<=a},function(o,t,a,m){return m.compare(t,a)<=0}),An=Yo(">=",function(o,t,a){return t>=a},function(o,t,a,m){return m.compare(t,a)>=0});class qa{constructor(t,a,m,_,D){this.type=Mi,this.number=t,this.locale=a,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=D}static parse(t,a){if(3!==t.length)return a.error("Expected two arguments.");const m=a.parse(t[1],1,Gt);if(!m)return null;const _=t[2];if("object"!=typeof _||Array.isArray(_))return a.error("NumberFormat options argument must be an object.");let D=null;if(_.locale&&(D=a.parse(_.locale,1,Mi),!D))return null;let S=null;if(_.currency&&(S=a.parse(_.currency,1,Mi),!S))return null;let P=null;if(_["min-fraction-digits"]&&(P=a.parse(_["min-fraction-digits"],1,Gt),!P))return null;let N=null;return _["max-fraction-digits"]&&(N=a.parse(_["max-fraction-digits"],1,Gt),!N)?null:new qa(m,D,S,P,N)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class Xr{constructor(t){this.type=ve,this.sections=t}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const m=t[1];if(!Array.isArray(m)&&"object"==typeof m)return a.error("First argument must be an image or text section.");const _=[];let D=!1;for(let S=1;S<=t.length-1;++S){const P=t[S];if(D&&"object"==typeof P&&!Array.isArray(P)){D=!1;let N=null;if(P["font-scale"]&&(N=a.parse(P["font-scale"],1,Gt),!N))return null;let G=null;if(P["text-font"]&&(G=a.parse(P["text-font"],1,Ae(Mi)),!G))return null;let J=null;if(P["text-color"]&&(J=a.parse(P["text-color"],1,an),!J))return null;const te=_[_.length-1];te.scale=N,te.font=G,te.textColor=J}else{const N=a.parse(t[S],1,ci);if(!N)return null;const G=N.type.kind;if("string"!==G&&"value"!==G&&"null"!==G&&"resolvedImage"!==G)return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");D=!0,_.push({content:N,scale:null,font:null,textColor:null})}}return new Xr(_)}evaluate(t){return new _n(this.sections.map(a=>{const m=a.content.evaluate(t);return Ki(m)===se?new Rn("",m,null,null,null):new Rn(Lo(m),null,a.scale?a.scale.evaluate(t):null,a.font?a.font.evaluate(t).join(","):null,a.textColor?a.textColor.evaluate(t):null)}))}eachChild(t){for(const a of this.sections)t(a.content),a.scale&&t(a.scale),a.font&&t(a.font),a.textColor&&t(a.textColor)}outputDefined(){return!1}}class Ko{constructor(t){this.type=se,this.input=t}static parse(t,a){if(2!==t.length)return a.error("Expected two arguments.");const m=a.parse(t[1],1,Mi);return m?new Ko(m):a.error("No image name provided.")}evaluate(t){const a=this.input.evaluate(t),m=Jn.fromString(a);return m&&t.availableImages&&(m.available=t.availableImages.indexOf(a)>-1),m}eachChild(t){t(this.input)}outputDefined(){return!1}}class mr{constructor(t){this.type=Gt,this.input=t}static parse(t,a){if(2!==t.length)return a.error(`Expected 1 argument, but found ${t.length-1} instead.`);const m=a.parse(t[1],1);return m?"array"!==m.type.kind&&"string"!==m.type.kind&&"value"!==m.type.kind?a.error(`Expected argument of type string or array, but found ${ze(m.type)} instead.`):new mr(m):null}evaluate(t){const a=this.input.evaluate(t);if("string"==typeof a||Array.isArray(a))return a.length;throw new vn(`Expected value to be of type string or array, but found ${ze(Ki(a))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const xs={"==":Il,"!=":va,">":La,"<":ls,">=":An,"<=":bs,array:lo,at:mn,boolean:lo,case:rr,coalesce:No,collator:na,format:Xr,image:Ko,in:As,"index-of":Kr,interpolate:Nr,"interpolate-hcl":Nr,"interpolate-lab":Nr,length:mr,let:zo,literal:dr,match:qo,number:lo,"number-format":qa,object:lo,slice:bo,step:Xi,string:lo,"to-boolean":ta,"to-color":ta,"to-number":ta,"to-string":ta,var:as,within:ss};function cs(o,[t,a,m,_]){t=t.evaluate(o),a=a.evaluate(o),m=m.evaluate(o);const D=_?_.evaluate(o):1,S=Tr(t,a,m,D);if(S)throw new vn(S);return new fn(t/255,a/255,m/255,D,!1)}function ba(o,t){return o in t}function Hr(o,t){const a=t[o];return void 0===a?null:a}function oa(o){return{type:o}}function co(o){return{result:"success",value:o}}function Cr(o){return{result:"error",value:o}}function ws(o){return"data-driven"===o["property-type"]||"cross-faded-data-driven"===o["property-type"]}function sa(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Cs(o){return!!o.expression&&o.expression.interpolated}function $i(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":null===o?"null":typeof o}function cn(o){return"object"==typeof o&&null!==o&&!Array.isArray(o)}function kn(o){return o}function aa(o,t){const a="color"===t.type,m=o.stops&&"object"==typeof o.stops[0][0],_=m||!(m||void 0!==o.property),D=o.type||(Cs(t)?"exponential":"interval");if(a||"padding"===t.type){const J=a?fn.parse:hr.parse;(o=Ht({},o)).stops&&(o.stops=o.stops.map(te=>[te[0],J(te[1])])),o.default=J(o.default?o.default:t.default)}if(o.colorSpace&&"rgb"!==(S=o.colorSpace)&&"hcl"!==S&&"lab"!==S)throw new Error(`Unknown color space: "${o.colorSpace}"`);var S;let P,N,G;if("exponential"===D)P=ne;else if("interval"===D)P=xa;else if("categorical"===D){P=pr,N=Object.create(null);for(const J of o.stops)N[J[0]]=J[1];G=typeof o.stops[0][0]}else{if("identity"!==D)throw new Error(`Unknown function type "${D}"`);P=le}if(m){const J={},te=[];for(let we=0;we<o.stops.length;we++){const Oe=o.stops[we],Xe=Oe[0].zoom;void 0===J[Xe]&&(J[Xe]={zoom:Xe,type:o.type,property:o.property,default:o.default,stops:[]},te.push(Xe)),J[Xe].stops.push([Oe[0].value,Oe[1]])}const de=[];for(const we of te)de.push([J[we].zoom,aa(J[we],t)]);const ge={name:"linear"};return{kind:"composite",interpolationType:ge,interpolationFactor:Nr.interpolationFactor.bind(void 0,ge),zoomStops:de.map(we=>we[0]),evaluate:({zoom:we},Oe)=>ne({stops:de,base:o.base},t,we).evaluate(we,Oe)}}if(_){const J="exponential"===D?{name:"exponential",base:void 0!==o.base?o.base:1}:null;return{kind:"camera",interpolationType:J,interpolationFactor:Nr.interpolationFactor.bind(void 0,J),zoomStops:o.stops.map(te=>te[0]),evaluate:({zoom:te})=>P(o,t,te,N,G)}}return{kind:"source",evaluate(J,te){const de=te&&te.properties?te.properties[o.property]:void 0;return void 0===de?er(o.default,t.default):P(o,t,de,N,G)}}}function er(o,t,a){return void 0!==o?o:void 0!==t?t:void 0!==a?a:void 0}function pr(o,t,a,m,_){return er(typeof a===_?m[a]:void 0,o.default,t.default)}function xa(o,t,a){if("number"!==$i(a))return er(o.default,t.default);const m=o.stops.length;if(1===m||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[m-1][0])return o.stops[m-1][1];const _=ln(o.stops.map(D=>D[0]),a);return o.stops[_][1]}function ne(o,t,a){const m=void 0!==o.base?o.base:1;if("number"!==$i(a))return er(o.default,t.default);const _=o.stops.length;if(1===_||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[_-1][0])return o.stops[_-1][1];const D=ln(o.stops.map(J=>J[0]),a),S=function(J,te,de,ge){const we=ge-de,Oe=J-de;return 0===we?0:1===te?Oe/we:(Math.pow(te,Oe)-1)/(Math.pow(te,we)-1)}(a,m,o.stops[D][0],o.stops[D+1][0]),P=o.stops[D][1],N=o.stops[D+1][1],G=Xn[t.type]||kn;return"function"==typeof P.evaluate?{evaluate(...J){const te=P.evaluate.apply(void 0,J),de=N.evaluate.apply(void 0,J);if(void 0!==te&&void 0!==de)return G(te,de,S,o.colorSpace)}}:G(P,N,S,o.colorSpace)}function le(o,t,a){switch(t.type){case"color":a=fn.parse(a);break;case"formatted":a=_n.fromString(a.toString());break;case"resolvedImage":a=Jn.fromString(a.toString());break;case"padding":a=hr.parse(a);break;default:$i(a)===t.type||"enum"===t.type&&t.values[a]||(a=void 0)}return er(a,o.default,t.default)}Wr.register(xs,{error:[{kind:"error"},[Mi],(o,[t])=>{throw new vn(t.evaluate(o))}],typeof:[Mi,[ci],(o,[t])=>ze(Ki(t.evaluate(o)))],"to-rgba":[Ae(Gt,4),[an],(o,[t])=>{const[a,m,_,D]=t.evaluate(o).rgb;return[255*a,255*m,255*_,D]}],rgb:[an,[Gt,Gt,Gt],cs],rgba:[an,[Gt,Gt,Gt,Gt],cs],has:{type:xi,overloads:[[[Mi],(o,[t])=>ba(t.evaluate(o),o.properties())],[[Mi,Vt],(o,[t,a])=>ba(t.evaluate(o),a.evaluate(o))]]},get:{type:ci,overloads:[[[Mi],(o,[t])=>Hr(t.evaluate(o),o.properties())],[[Mi,Vt],(o,[t,a])=>Hr(t.evaluate(o),a.evaluate(o))]]},"feature-state":[ci,[Mi],(o,[t])=>Hr(t.evaluate(o),o.featureState||{})],properties:[Vt,[],o=>o.properties()],"geometry-type":[Mi,[],o=>o.geometryType()],id:[ci,[],o=>o.id()],zoom:[Gt,[],o=>o.globals.zoom],"heatmap-density":[Gt,[],o=>o.globals.heatmapDensity||0],"line-progress":[Gt,[],o=>o.globals.lineProgress||0],accumulated:[ci,[],o=>void 0===o.globals.accumulated?null:o.globals.accumulated],"+":[Gt,oa(Gt),(o,t)=>{let a=0;for(const m of t)a+=m.evaluate(o);return a}],"*":[Gt,oa(Gt),(o,t)=>{let a=1;for(const m of t)a*=m.evaluate(o);return a}],"-":{type:Gt,overloads:[[[Gt,Gt],(o,[t,a])=>t.evaluate(o)-a.evaluate(o)],[[Gt],(o,[t])=>-t.evaluate(o)]]},"/":[Gt,[Gt,Gt],(o,[t,a])=>t.evaluate(o)/a.evaluate(o)],"%":[Gt,[Gt,Gt],(o,[t,a])=>t.evaluate(o)%a.evaluate(o)],ln2:[Gt,[],()=>Math.LN2],pi:[Gt,[],()=>Math.PI],e:[Gt,[],()=>Math.E],"^":[Gt,[Gt,Gt],(o,[t,a])=>Math.pow(t.evaluate(o),a.evaluate(o))],sqrt:[Gt,[Gt],(o,[t])=>Math.sqrt(t.evaluate(o))],log10:[Gt,[Gt],(o,[t])=>Math.log(t.evaluate(o))/Math.LN10],ln:[Gt,[Gt],(o,[t])=>Math.log(t.evaluate(o))],log2:[Gt,[Gt],(o,[t])=>Math.log(t.evaluate(o))/Math.LN2],sin:[Gt,[Gt],(o,[t])=>Math.sin(t.evaluate(o))],cos:[Gt,[Gt],(o,[t])=>Math.cos(t.evaluate(o))],tan:[Gt,[Gt],(o,[t])=>Math.tan(t.evaluate(o))],asin:[Gt,[Gt],(o,[t])=>Math.asin(t.evaluate(o))],acos:[Gt,[Gt],(o,[t])=>Math.acos(t.evaluate(o))],atan:[Gt,[Gt],(o,[t])=>Math.atan(t.evaluate(o))],min:[Gt,oa(Gt),(o,t)=>Math.min(...t.map(a=>a.evaluate(o)))],max:[Gt,oa(Gt),(o,t)=>Math.max(...t.map(a=>a.evaluate(o)))],abs:[Gt,[Gt],(o,[t])=>Math.abs(t.evaluate(o))],round:[Gt,[Gt],(o,[t])=>{const a=t.evaluate(o);return a<0?-Math.round(-a):Math.round(a)}],floor:[Gt,[Gt],(o,[t])=>Math.floor(t.evaluate(o))],ceil:[Gt,[Gt],(o,[t])=>Math.ceil(t.evaluate(o))],"filter-==":[xi,[Mi,ci],(o,[t,a])=>o.properties()[t.value]===a.value],"filter-id-==":[xi,[ci],(o,[t])=>o.id()===t.value],"filter-type-==":[xi,[Mi],(o,[t])=>o.geometryType()===t.value],"filter-<":[xi,[Mi,ci],(o,[t,a])=>{const m=o.properties()[t.value],_=a.value;return typeof m==typeof _&&m<_}],"filter-id-<":[xi,[ci],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a<m}],"filter->":[xi,[Mi,ci],(o,[t,a])=>{const m=o.properties()[t.value],_=a.value;return typeof m==typeof _&&m>_}],"filter-id->":[xi,[ci],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a>m}],"filter-<=":[xi,[Mi,ci],(o,[t,a])=>{const m=o.properties()[t.value],_=a.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[xi,[ci],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a<=m}],"filter->=":[xi,[Mi,ci],(o,[t,a])=>{const m=o.properties()[t.value],_=a.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[xi,[ci],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a>=m}],"filter-has":[xi,[ci],(o,[t])=>t.value in o.properties()],"filter-has-id":[xi,[],o=>null!==o.id()&&void 0!==o.id()],"filter-type-in":[xi,[Ae(Mi)],(o,[t])=>t.value.indexOf(o.geometryType())>=0],"filter-id-in":[xi,[Ae(ci)],(o,[t])=>t.value.indexOf(o.id())>=0],"filter-in-small":[xi,[Mi,Ae(ci)],(o,[t,a])=>a.value.indexOf(o.properties()[t.value])>=0],"filter-in-large":[xi,[Mi,Ae(ci)],(o,[t,a])=>function(m,_,D,S){for(;D<=S;){const P=D+S>>1;if(_[P]===m)return!0;_[P]>m?S=P-1:D=P+1}return!1}(o.properties()[t.value],a.value,0,a.value.length-1)],all:{type:xi,overloads:[[[xi,xi],(o,[t,a])=>t.evaluate(o)&&a.evaluate(o)],[oa(xi),(o,t)=>{for(const a of t)if(!a.evaluate(o))return!1;return!0}]]},any:{type:xi,overloads:[[[xi,xi],(o,[t,a])=>t.evaluate(o)||a.evaluate(o)],[oa(xi),(o,t)=>{for(const a of t)if(a.evaluate(o))return!0;return!1}]]},"!":[xi,[xi],(o,[t])=>!t.evaluate(o)],"is-supported-script":[xi,[Mi],(o,[t])=>{const a=o.globals&&o.globals.isSupportedScript;return!a||a(t.evaluate(o))}],upcase:[Mi,[Mi],(o,[t])=>t.evaluate(o).toUpperCase()],downcase:[Mi,[Mi],(o,[t])=>t.evaluate(o).toLowerCase()],concat:[Mi,oa(ci),(o,t)=>t.map(a=>Lo(a.evaluate(o))).join("")],"resolved-locale":[Mi,[Ft],(o,[t])=>t.evaluate(o).resolvedLocale()]});class q{constructor(t,a){var m;this.expression=t,this._warningHistory={},this._evaluator=new Ml,this._defaultValue=a?"color"===(m=a).type&&cn(m.default)?new fn(0,0,0,0):"color"===m.type?fn.parse(m.default)||null:"padding"===m.type?hr.parse(m.default)||null:"variableAnchorOffsetCollection"===m.type?Mn.parse(m.default)||null:void 0===m.default?null:m.default:null,this._enumValues=a&&"enum"===a.type?a.values:null}evaluateWithoutErrorHandling(t,a,m,_,D,S){return this._evaluator.globals=t,this._evaluator.feature=a,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(t,a,m,_,D,S){this._evaluator.globals=t,this._evaluator.feature=a||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=S||null;try{const P=this.expression.evaluate(this._evaluator);if(null==P||"number"==typeof P&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new vn(`Expected value to be one of ${Object.keys(this._enumValues).map(N=>JSON.stringify(N)).join(", ")}, but found ${JSON.stringify(P)} instead.`);return P}catch(P){return this._warningHistory[P.message]||(this._warningHistory[P.message]=!0,typeof console<"u"&&console.warn(P.message)),this._defaultValue}}}function De(o){return Array.isArray(o)&&o.length>0&&"string"==typeof o[0]&&o[0]in xs}function st(o,t){const a=new ia(xs,Wa,[],t?function(_){const D={color:an,string:Mi,number:Gt,enum:Mi,boolean:xi,formatted:ve,padding:K,resolvedImage:se,variableAnchorOffsetCollection:Ce};return"array"===_.type?Ae(D[_.value]||ci,_.length):D[_.type]}(t):void 0),m=a.parse(o,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return m?co(new q(m,t)):Cr(a.errors)}class on{constructor(t,a){this.kind=t,this._styleExpression=a,this.isStateDependent="constant"!==t&&!Qn(a.expression)}evaluateWithoutErrorHandling(t,a,m,_,D,S){return this._styleExpression.evaluateWithoutErrorHandling(t,a,m,_,D,S)}evaluate(t,a,m,_,D,S){return this._styleExpression.evaluate(t,a,m,_,D,S)}}class wn{constructor(t,a,m,_){this.kind=t,this.zoomStops=m,this._styleExpression=a,this.isStateDependent="camera"!==t&&!Qn(a.expression),this.interpolationType=_}evaluateWithoutErrorHandling(t,a,m,_,D,S){return this._styleExpression.evaluateWithoutErrorHandling(t,a,m,_,D,S)}evaluate(t,a,m,_,D,S){return this._styleExpression.evaluate(t,a,m,_,D,S)}interpolationFactor(t,a,m){return this.interpolationType?Nr.interpolationFactor(this.interpolationType,t,a,m):0}}function Xo(o,t){const a=st(o,t);if("error"===a.result)return a;const m=a.value.expression,_=Is(m);if(!_&&!ws(t))return Cr([new ri("","data expressions not supported")]);const D=Ai(m,["zoom"]);if(!D&&!sa(t))return Cr([new ri("","zoom expressions not supported")]);const S=la(m);return S||D?S instanceof ri?Cr([S]):S instanceof Nr&&!Cs(t)?Cr([new ri("",'"interpolate" expressions cannot be used with this property')]):co(S?new wn(_?"camera":"composite",a.value,S.labels,S instanceof Nr?S.interpolation:void 0):new on(_?"constant":"source",a.value)):Cr([new ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ds{constructor(t,a){this._parameters=t,this._specification=a,Ht(this,aa(this._parameters,this._specification))}static deserialize(t){return new ds(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function la(o){let t=null;if(o instanceof zo)t=la(o.result);else if(o instanceof No){for(const a of o.args)if(t=la(a),t)break}else(o instanceof Xi||o instanceof Nr)&&o.input instanceof Wr&&"zoom"===o.input.name&&(t=o);return t instanceof ri||o.eachChild(a=>{const m=la(a);m instanceof ri?t=m:!t&&m?t=new ri("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&m&&t!==m&&(t=new ri("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Xl(o){if(!0===o||!1===o)return!0;if(!Array.isArray(o)||0===o.length)return!1;switch(o[0]){case"has":return o.length>=2&&"$id"!==o[1]&&"$type"!==o[1];case"in":return o.length>=3&&("string"!=typeof o[1]||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==o.length||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const t of o.slice(1))if(!Xl(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Cd={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Al(o){if(null==o)return{filter:()=>!0,needGeometry:!1};Xl(o)||(o=Wc(o));const t=st(o,Cd);if("error"===t.result)throw new Error(t.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,m,_)=>t.value.evaluate(a,m,{},_),needGeometry:ru(o)}}function Ed(o,t){return o<t?-1:o>t?1:0}function ru(o){if(!Array.isArray(o))return!1;if("within"===o[0])return!0;for(let t=1;t<o.length;t++)if(ru(o[t]))return!0;return!1}function Wc(o){if(!o)return!0;const t=o[0];return o.length<=1?"any"!==t:"=="===t?al(o[1],o[2],"=="):"!="===t?Vo(al(o[1],o[2],"==")):"<"===t||">"===t||"<="===t||">="===t?al(o[1],o[2],t):"any"===t?(a=o.slice(1),["any"].concat(a.map(Wc))):"all"===t?["all"].concat(o.slice(1).map(Wc)):"none"===t?["all"].concat(o.slice(1).map(Wc).map(Vo)):"in"===t?ca(o[1],o.slice(2)):"!in"===t?Vo(ca(o[1],o.slice(2))):"has"===t?fr(o[1]):"!has"===t?Vo(fr(o[1])):"within"!==t||o;var a}function al(o,t,a){switch(o){case"$type":return[`filter-type-${a}`,t];case"$id":return[`filter-id-${a}`,t];default:return[`filter-${a}`,o,t]}}function ca(o,t){if(0===t.length)return!1;switch(o){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(a=>typeof a!=typeof t[0])?["filter-in-large",o,["literal",t.sort(Ed)]]:["filter-in-small",o,["literal",t]]}}function fr(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Vo(o){return["!",o]}function ur(o){const t=typeof o;if("number"===t||"boolean"===t||"string"===t||null==o)return JSON.stringify(o);if(Array.isArray(o)){let _="[";for(const D of o)_+=`${ur(D)},`;return`${_}]`}const a=Object.keys(o).sort();let m="{";for(let _=0;_<a.length;_++)m+=`${JSON.stringify(a[_])}:${ur(o[a[_]])},`;return`${m}}`}function uo(o){let t="";for(const a of Yi)t+=`/${ur(o[a])}`;return t}function xo(o){const t=o.value;return t?[new tt(o.key,t,"constants have been deprecated as of v8")]:[]}function zn(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function ar(o){if(Array.isArray(o))return o.map(ar);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const t={};for(const a in o)t[a]=ar(o[a]);return t}return zn(o)}function Uo(o){const t=o.key,a=o.value,m=o.valueSpec||{},_=o.objectElementValidators||{},D=o.style,S=o.styleSpec,P=o.validateSpec;let N=[];const G=$i(a);if("object"!==G)return[new tt(t,a,`object expected, ${G} found`)];for(const J in a){const te=J.split(".")[0],de=m[te]||m["*"];let ge;if(_[te])ge=_[te];else if(m[te])ge=P;else if(_["*"])ge=_["*"];else{if(!m["*"]){N.push(new tt(t,a[J],`unknown property "${J}"`));continue}ge=P}N=N.concat(ge({key:(t&&`${t}.`)+J,value:a[J],valueSpec:de,style:D,styleSpec:S,object:a,objectKey:J,validateSpec:P},a))}for(const J in m)_[J]||m[J].required&&void 0===m[J].default&&void 0===a[J]&&N.push(new tt(t,a,`missing required property "${J}"`));return N}function ll(o){const t=o.value,a=o.valueSpec,m=o.style,_=o.styleSpec,D=o.key,S=o.arrayElementValidator||o.validateSpec;if("array"!==$i(t))return[new tt(D,t,`array expected, ${$i(t)} found`)];if(a.length&&t.length!==a.length)return[new tt(D,t,`array length ${a.length} expected, length ${t.length} found`)];if(a["min-length"]&&t.length<a["min-length"])return[new tt(D,t,`array length at least ${a["min-length"]} expected, length ${t.length} found`)];let P={type:a.value,values:a.values};_.$version<7&&(P.function=a.function),"object"===$i(a.value)&&(P=a.value);let N=[];for(let G=0;G<t.length;G++)N=N.concat(S({array:t,arrayIndex:G,value:t[G],valueSpec:P,validateSpec:o.validateSpec,style:m,styleSpec:_,key:`${D}[${G}]`}));return N}function wa(o){const t=o.key,a=o.value,m=o.valueSpec;let _=$i(a);return"number"===_&&a!=a&&(_="NaN"),"number"!==_?[new tt(t,a,`number expected, ${_} found`)]:"minimum"in m&&a<m.minimum?[new tt(t,a,`${a} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&a>m.maximum?[new tt(t,a,`${a} is greater than the maximum value ${m.maximum}`)]:[]}function Ir(o){const t=o.valueSpec,a=zn(o.value.type);let m,_,D,S={};const P="categorical"!==a&&void 0===o.value.property,N=!P,G="array"===$i(o.value.stops)&&"array"===$i(o.value.stops[0])&&"object"===$i(o.value.stops[0][0]),J=Uo({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(ge){if("identity"===a)return[new tt(ge.key,ge.value,'identity function may not have a "stops" property')];let we=[];const Oe=ge.value;return we=we.concat(ll({key:ge.key,value:Oe,valueSpec:ge.valueSpec,validateSpec:ge.validateSpec,style:ge.style,styleSpec:ge.styleSpec,arrayElementValidator:te})),"array"===$i(Oe)&&0===Oe.length&&we.push(new tt(ge.key,Oe,"array must have at least one stop")),we},default:function(ge){return ge.validateSpec({key:ge.key,value:ge.value,valueSpec:t,validateSpec:ge.validateSpec,style:ge.style,styleSpec:ge.styleSpec})}}});return"identity"===a&&P&&J.push(new tt(o.key,o.value,'missing required property "property"')),"identity"===a||o.value.stops||J.push(new tt(o.key,o.value,'missing required property "stops"')),"exponential"===a&&o.valueSpec.expression&&!Cs(o.valueSpec)&&J.push(new tt(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(N&&!ws(o.valueSpec)?J.push(new tt(o.key,o.value,"property functions not supported")):P&&!sa(o.valueSpec)&&J.push(new tt(o.key,o.value,"zoom functions not supported"))),"categorical"!==a&&!G||void 0!==o.value.property||J.push(new tt(o.key,o.value,'"property" property is required')),J;function te(ge){let we=[];const Oe=ge.value,Xe=ge.key;if("array"!==$i(Oe))return[new tt(Xe,Oe,`array expected, ${$i(Oe)} found`)];if(2!==Oe.length)return[new tt(Xe,Oe,`array length 2 expected, length ${Oe.length} found`)];if(G){if("object"!==$i(Oe[0]))return[new tt(Xe,Oe,`object expected, ${$i(Oe[0])} found`)];if(void 0===Oe[0].zoom)return[new tt(Xe,Oe,"object stop key must have zoom")];if(void 0===Oe[0].value)return[new tt(Xe,Oe,"object stop key must have value")];if(D&&D>zn(Oe[0].zoom))return[new tt(Xe,Oe[0].zoom,"stop zoom values must appear in ascending order")];zn(Oe[0].zoom)!==D&&(D=zn(Oe[0].zoom),_=void 0,S={}),we=we.concat(Uo({key:`${Xe}[0]`,value:Oe[0],valueSpec:{zoom:{}},validateSpec:ge.validateSpec,style:ge.style,styleSpec:ge.styleSpec,objectElementValidators:{zoom:wa,value:de}}))}else we=we.concat(de({key:`${Xe}[0]`,value:Oe[0],valueSpec:{},validateSpec:ge.validateSpec,style:ge.style,styleSpec:ge.styleSpec},Oe));return De(ar(Oe[1]))?we.concat([new tt(`${Xe}[1]`,Oe[1],"expressions are not allowed in function stops.")]):we.concat(ge.validateSpec({key:`${Xe}[1]`,value:Oe[1],valueSpec:t,validateSpec:ge.validateSpec,style:ge.style,styleSpec:ge.styleSpec}))}function de(ge,we){const Oe=$i(ge.value),Xe=zn(ge.value),et=null!==ge.value?ge.value:we;if(m){if(Oe!==m)return[new tt(ge.key,et,`${Oe} stop domain type must match previous stop domain type ${m}`)]}else m=Oe;if("number"!==Oe&&"string"!==Oe&&"boolean"!==Oe)return[new tt(ge.key,et,"stop domain value must be a number, string, or boolean")];if("number"!==Oe&&"categorical"!==a){let yt=`number expected, ${Oe} found`;return ws(t)&&void 0===a&&(yt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new tt(ge.key,et,yt)]}return"categorical"!==a||"number"!==Oe||isFinite(Xe)&&Math.floor(Xe)===Xe?"categorical"!==a&&"number"===Oe&&void 0!==_&&Xe<_?[new tt(ge.key,et,"stop domain values must appear in ascending order")]:(_=Xe,"categorical"===a&&Xe in S?[new tt(ge.key,et,"stop domain values must be unique")]:(S[Xe]=!0,[])):[new tt(ge.key,et,`integer expected, found ${Xe}`)]}}function Jr(o){const t=("property"===o.expressionContext?Xo:st)(ar(o.value),o.valueSpec);if("error"===t.result)return t.value.map(m=>new tt(`${o.key}${m.key}`,o.value,m.message));const a=t.value.expression||t.value._styleExpression.expression;if("property"===o.expressionContext&&"text-font"===o.propertyKey&&!a.outputDefined())return[new tt(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===o.expressionContext&&"layout"===o.propertyType&&!Qn(a))return[new tt(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===o.expressionContext&&!Qn(a))return[new tt(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&0===o.expressionContext.indexOf("cluster")){if(!Ai(a,["zoom","feature-state"]))return[new tt(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===o.expressionContext&&!Is(a))return[new tt(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ar(o){const t=o.key,a=o.value,m=o.valueSpec,_=[];return Array.isArray(m.values)?-1===m.values.indexOf(zn(a))&&_.push(new tt(t,a,`expected one of [${m.values.join(", ")}], ${JSON.stringify(a)} found`)):-1===Object.keys(m.values).indexOf(zn(a))&&_.push(new tt(t,a,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(a)} found`)),_}function Ya(o){return Xl(ar(o.value))?Jr(Ht({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ks(o)}function ks(o){const t=o.value,a=o.key;if("array"!==$i(t))return[new tt(a,t,`array expected, ${$i(t)} found`)];const m=o.styleSpec;let _,D=[];if(t.length<1)return[new tt(a,t,"filter array must have at least 1 element")];switch(D=D.concat(Ar({key:`${a}[0]`,value:t[0],valueSpec:m.filter_operator,style:o.style,styleSpec:o.styleSpec})),zn(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===zn(t[1])&&D.push(new tt(a,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&D.push(new tt(a,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(_=$i(t[1]),"string"!==_&&D.push(new tt(`${a}[1]`,t[1],`string expected, ${_} found`)));for(let S=2;S<t.length;S++)_=$i(t[S]),"$type"===zn(t[1])?D=D.concat(Ar({key:`${a}[${S}]`,value:t[S],valueSpec:m.geometry_type,style:o.style,styleSpec:o.styleSpec})):"string"!==_&&"number"!==_&&"boolean"!==_&&D.push(new tt(`${a}[${S}]`,t[S],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let S=1;S<t.length;S++)D=D.concat(ks({key:`${a}[${S}]`,value:t[S],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":_=$i(t[1]),2!==t.length?D.push(new tt(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==_&&D.push(new tt(`${a}[1]`,t[1],`string expected, ${_} found`));break;case"within":_=$i(t[1]),2!==t.length?D.push(new tt(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==_&&D.push(new tt(`${a}[1]`,t[1],`object expected, ${_} found`))}return D}function zr(o,t){const a=o.key,m=o.validateSpec,_=o.style,D=o.styleSpec,S=o.value,P=o.objectKey,N=D[`${t}_${o.layerType}`];if(!N)return[];const G=P.match(/^(.*)-transition$/);if("paint"===t&&G&&N[G[1]]&&N[G[1]].transition)return m({key:a,value:S,valueSpec:D.transition,style:_,styleSpec:D});const J=o.valueSpec||N[P];if(!J)return[new tt(a,S,`unknown property "${P}"`)];let te;if("string"===$i(S)&&ws(J)&&!J.tokens&&(te=/^{([^}]+)}$/.exec(S)))return[new tt(a,S,`"${P}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(te[1])} }\`.`)];const de=[];return"symbol"===o.layerType&&("text-field"===P&&_&&!_.glyphs&&de.push(new tt(a,S,'use of "text-field" requires a style "glyphs" property')),"text-font"===P&&cn(ar(S))&&"identity"===zn(S.type)&&de.push(new tt(a,S,'"text-font" does not support identity functions'))),de.concat(m({key:o.key,value:S,valueSpec:J,style:_,styleSpec:D,expressionContext:"property",propertyType:t,propertyKey:P}))}function cl(o){return zr(o,"paint")}function Ca(o){return zr(o,"layout")}function ho(o){let t=[];const a=o.value,m=o.key,_=o.style,D=o.styleSpec;a.type||a.ref||t.push(new tt(m,a,'either "type" or "ref" is required'));let S=zn(a.type);const P=zn(a.ref);if(a.id){const N=zn(a.id);for(let G=0;G<o.arrayIndex;G++){const J=_.layers[G];zn(J.id)===N&&t.push(new tt(m,a.id,`duplicate layer id "${a.id}", previously used at line ${J.id.__line__}`))}}if("ref"in a){let N;["type","source","source-layer","filter","layout"].forEach(G=>{G in a&&t.push(new tt(m,a[G],`"${G}" is prohibited for ref layers`))}),_.layers.forEach(G=>{zn(G.id)===P&&(N=G)}),N?N.ref?t.push(new tt(m,a.ref,"ref cannot reference another ref layer")):S=zn(N.type):t.push(new tt(m,a.ref,`ref layer "${P}" not found`))}else if("background"!==S)if(a.source){const N=_.sources&&_.sources[a.source],G=N&&zn(N.type);N?"vector"===G&&"raster"===S?t.push(new tt(m,a.source,`layer "${a.id}" requires a raster source`)):"raster-dem"!==G&&"hillshade"===S?t.push(new tt(m,a.source,`layer "${a.id}" requires a raster-dem source`)):"raster"===G&&"raster"!==S?t.push(new tt(m,a.source,`layer "${a.id}" requires a vector source`)):"vector"!==G||a["source-layer"]?"raster-dem"===G&&"hillshade"!==S?t.push(new tt(m,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==S||!a.paint||!a.paint["line-gradient"]||"geojson"===G&&N.lineMetrics||t.push(new tt(m,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new tt(m,a,`layer "${a.id}" must specify a "source-layer"`)):t.push(new tt(m,a.source,`source "${a.source}" not found`))}else t.push(new tt(m,a,'missing required property "source"'));return t=t.concat(Uo({key:m,value:a,valueSpec:D.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${m}.type`,value:a.type,valueSpec:D.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:a,objectKey:"type"}),filter:Ya,layout:N=>Uo({layer:a,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":G=>Ca(Ht({layerType:S},G))}}),paint:N=>Uo({layer:a,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":G=>cl(Ht({layerType:S},G))}})}})),t}function mo(o){const t=o.value,a=o.key,m=$i(t);return"string"!==m?[new tt(a,t,`string expected, ${m} found`)]:[]}const us={promoteId:function({key:o,value:t}){if("string"===$i(t))return mo({key:o,value:t});{const a=[];for(const m in t)a.push(...mo({key:`${o}.${m}`,value:t[m]}));return a}}};function Ea(o){const t=o.value,a=o.key,m=o.styleSpec,_=o.style,D=o.validateSpec;if(!t.type)return[new tt(a,t,'"type" is required')];const S=zn(t.type);let P;switch(S){case"vector":case"raster":return P=Uo({key:a,value:t,valueSpec:m[`source_${S.replace("-","_")}`],style:o.style,styleSpec:m,objectElementValidators:us,validateSpec:D}),P;case"raster-dem":return P=function(N){var G;const J=null!==(G=N.sourceName)&&void 0!==G?G:"",te=N.value,de=N.styleSpec,ge=de.source_raster_dem,we=N.style;let Oe=[];const Xe=$i(te);if(void 0===te)return Oe;if("object"!==Xe)return Oe.push(new tt("source_raster_dem",te,`object expected, ${Xe} found`)),Oe;const et="custom"===zn(te.encoding),yt=["redFactor","greenFactor","blueFactor","baseShift"],ct=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const bt in te)!et&&yt.includes(bt)?Oe.push(new tt(bt,te[bt],`In "${J}": "${bt}" is only valid when "encoding" is set to "custom". ${ct} encoding found`)):ge[bt]?Oe=Oe.concat(N.validateSpec({key:bt,value:te[bt],valueSpec:ge[bt],validateSpec:N.validateSpec,style:we,styleSpec:de})):Oe.push(new tt(bt,te[bt],`unknown property "${bt}"`));return Oe}({sourceName:a,value:t,style:o.style,styleSpec:m,validateSpec:D}),P;case"geojson":if(P=Uo({key:a,value:t,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:D,objectElementValidators:us}),t.cluster)for(const N in t.clusterProperties){const[G,J]=t.clusterProperties[N],te="string"==typeof G?[G,["accumulated"],["get",N]]:G;P.push(...Jr({key:`${a}.${N}.map`,value:J,validateSpec:D,expressionContext:"cluster-map"})),P.push(...Jr({key:`${a}.${N}.reduce`,value:te,validateSpec:D,expressionContext:"cluster-reduce"}))}return P;case"video":return Uo({key:a,value:t,valueSpec:m.source_video,style:_,validateSpec:D,styleSpec:m});case"image":return Uo({key:a,value:t,valueSpec:m.source_image,style:_,validateSpec:D,styleSpec:m});case"canvas":return[new tt(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ar({key:`${a}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:D,styleSpec:m})}}function dl(o){const t=o.value,a=o.styleSpec,m=a.light,_=o.style;let D=[];const S=$i(t);if(void 0===t)return D;if("object"!==S)return D=D.concat([new tt("light",t,`object expected, ${S} found`)]),D;for(const P in t){const N=P.match(/^(.*)-transition$/);D=D.concat(N&&m[N[1]]&&m[N[1]].transition?o.validateSpec({key:P,value:t[P],valueSpec:a.transition,validateSpec:o.validateSpec,style:_,styleSpec:a}):m[P]?o.validateSpec({key:P,value:t[P],valueSpec:m[P],validateSpec:o.validateSpec,style:_,styleSpec:a}):[new tt(P,t[P],`unknown property "${P}"`)])}return D}function po(o){const t=o.value,a=o.styleSpec,m=a.terrain,_=o.style;let D=[];const S=$i(t);if(void 0===t)return D;if("object"!==S)return D=D.concat([new tt("terrain",t,`object expected, ${S} found`)]),D;for(const P in t)D=D.concat(m[P]?o.validateSpec({key:P,value:t[P],valueSpec:m[P],validateSpec:o.validateSpec,style:_,styleSpec:a}):[new tt(P,t[P],`unknown property "${P}"`)]);return D}function kl(o){let t=[];const a=o.value,m=o.key;if(Array.isArray(a)){const _=[],D=[];for(const S in a)a[S].id&&_.includes(a[S].id)&&t.push(new tt(m,a,`all the sprites' ids must be unique, but ${a[S].id} is duplicated`)),_.push(a[S].id),a[S].url&&D.includes(a[S].url)&&t.push(new tt(m,a,`all the sprites' URLs must be unique, but ${a[S].url} is duplicated`)),D.push(a[S].url),t=t.concat(Uo({key:`${m}[${S}]`,value:a[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return t}return mo({key:m,value:a})}const Pl={"*":()=>[],array:ll,boolean:function(o){const t=o.value,a=o.key,m=$i(t);return"boolean"!==m?[new tt(a,t,`boolean expected, ${m} found`)]:[]},number:wa,color:function(o){const t=o.key,a=o.value,m=$i(a);return"string"!==m?[new tt(t,a,`color expected, ${m} found`)]:fn.parse(String(a))?[]:[new tt(t,a,`color expected, "${a}" found`)]},constants:xo,enum:Ar,filter:Ya,function:Ir,layer:ho,object:Uo,source:Ea,light:dl,terrain:po,string:mo,formatted:function(o){return 0===mo(o).length?[]:Jr(o)},resolvedImage:function(o){return 0===mo(o).length?[]:Jr(o)},padding:function(o){const t=o.key,a=o.value;if("array"===$i(a)){if(a.length<1||a.length>4)return[new tt(t,a,`padding requires 1 to 4 values; ${a.length} values found`)];const m={type:"number"};let _=[];for(let D=0;D<a.length;D++)_=_.concat(o.validateSpec({key:`${t}[${D}]`,value:a[D],validateSpec:o.validateSpec,valueSpec:m}));return _}return wa({key:t,value:a,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const t=o.key,a=o.value,m=$i(a),_=o.styleSpec;if("array"!==m||a.length<1||a.length%2!=0)return[new tt(t,a,"variableAnchorOffsetCollection requires a non-empty array of even length")];let D=[];for(let S=0;S<a.length;S+=2)D=D.concat(Ar({key:`${t}[${S}]`,value:a[S],valueSpec:_.layout_symbol["text-anchor"]})),D=D.concat(ll({key:`${t}[${S+1}]`,value:a[S+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:_}));return D},sprite:kl};function Jl(o){const t=o.value,a=o.valueSpec,m=o.styleSpec;return o.validateSpec=Jl,a.expression&&cn(zn(t))?Ir(o):a.expression&&De(ar(t))?Jr(o):a.type&&Pl[a.type]?Pl[a.type](o):Uo(Ht({},o,{valueSpec:a.type?m[a.type]:a}))}function Ol(o){const t=o.value,a=o.key,m=mo(o);return m.length||(-1===t.indexOf("{fontstack}")&&m.push(new tt(a,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&m.push(new tt(a,t,'"glyphs" url must include a "{range}" token'))),m}function Ps(o,t=_t){let a=[];return a=a.concat(Jl({key:"",value:o,valueSpec:t.$root,styleSpec:t,style:o,validateSpec:Jl,objectElementValidators:{glyphs:Ol,"*":()=>[]}})),o.constants&&(a=a.concat(xo({key:"constants",value:o.constants,style:o,styleSpec:t,validateSpec:Jl}))),wc(a)}function Os(o){return function(t){return o({...t,validateSpec:Jl})}}function wc(o){return[].concat(o).sort((t,a)=>t.line-a.line)}function Rs(o){return function(...t){return wc(o.apply(this,t))}}Ps.source=Rs(Os(Ea)),Ps.sprite=Rs(Os(kl)),Ps.glyphs=Rs(Os(Ol)),Ps.light=Rs(Os(dl)),Ps.terrain=Rs(Os(po)),Ps.layer=Rs(Os(ho)),Ps.filter=Rs(Os(Ya)),Ps.paintProperty=Rs(Os(cl)),Ps.layoutProperty=Rs(Os(Ca));const Ql=Ps,Fs=Ql.light,ec=Ql.paintProperty,B=Ql.layoutProperty;function he(o,t){let a=!1;if(t&&t.length)for(const m of t)o.fire(new $t(new Error(m.message))),a=!0;return a}class Y{constructor(t,a,m){const _=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const S=new Int32Array(this.arrayBuffer);t=S[0],this.d=(a=S[1])+2*(m=S[2]);for(let N=0;N<this.d*this.d;N++){const G=S[3+N],J=S[3+N+1];_.push(G===J?null:S.subarray(G,J))}const P=S[3+_.length+1];this.keys=S.subarray(S[3+_.length],P),this.bboxes=S.subarray(P),this.insert=this._insertReadonly}else{this.d=a+2*m;for(let S=0;S<this.d*this.d;S++)_.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=t,this.padding=m,this.scale=a/t,this.uid=0;const D=m/a*t;this.min=-D,this.max=t+D}insert(t,a,m,_,D){this._forEachCell(a,m,_,D,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(a),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(D)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,a,m,_,D,S){this.cells[D].push(S)}query(t,a,m,_,D){const S=this.min,P=this.max;if(t<=S&&a<=S&&P<=m&&P<=_&&!D)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(t,a,m,_,this._queryCell,N,{},D),N}}_queryCell(t,a,m,_,D,S,P,N){const G=this.cells[D];if(null!==G){const J=this.keys,te=this.bboxes;for(let de=0;de<G.length;de++){const ge=G[de];if(void 0===P[ge]){const we=4*ge;(N?N(te[we+0],te[we+1],te[we+2],te[we+3]):t<=te[we+2]&&a<=te[we+3]&&m>=te[we+0]&&_>=te[we+1])?(P[ge]=!0,S.push(J[ge])):P[ge]=!1}}}}_forEachCell(t,a,m,_,D,S,P,N){const G=this._convertToCellCoord(t),J=this._convertToCellCoord(a),te=this._convertToCellCoord(m),de=this._convertToCellCoord(_);for(let ge=G;ge<=te;ge++)for(let we=J;we<=de;we++){const Oe=this.d*we+ge;if((!N||N(this._convertFromCellCoord(ge),this._convertFromCellCoord(we),this._convertFromCellCoord(ge+1),this._convertFromCellCoord(we+1)))&&D.call(this,t,a,m,_,Oe,S,P,N))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,a=3+this.cells.length+1+1;let m=0;for(let S=0;S<this.cells.length;S++)m+=this.cells[S].length;const _=new Int32Array(a+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let D=a;for(let S=0;S<t.length;S++){const P=t[S];_[3+S]=D,_.set(P,D),D+=P.length}return _[3+t.length]=D,_.set(this.keys,D),D+=this.keys.length,_[3+t.length+1]=D,_.set(this.bboxes,D),D+=this.bboxes.length,_.buffer}static serialize(t,a){const m=t.toArrayBuffer();return a&&a.push(m),{buffer:m}}static deserialize(t){return new Y(t.buffer)}}const oe={};function Me(o,t,a={}){if(oe[o])throw new Error(`${o} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:o,writeable:!1}),oe[o]={klass:t,omit:a.omit||[],shallow:a.shallow||[]}}Me("Object",Object),Me("TransferableGridIndex",Y),Me("Color",fn),Me("Error",Error),Me("AJAXError",kt),Me("ResolvedImage",Jn),Me("StylePropertyFunction",ds),Me("StyleExpression",q,{omit:["_evaluator"]}),Me("ZoomDependentExpression",wn),Me("ZoomConstantExpression",on),Me("CompoundExpression",Wr,{omit:["_evaluate"]});for(const o in xs)xs[o]._classRegistryKey||Me(`Expression_${o}`,xs[o]);function Lt(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function Zt(o,t){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(Lt(o)||yn(o))return t&&t.push(o),o;if(ArrayBuffer.isView(o)){const a=o;return t&&t.push(a.buffer),a}if(o instanceof ImageData)return t&&t.push(o.data.buffer),o;if(Array.isArray(o)){const a=[];for(const m of o)a.push(Zt(m,t));return a}if("object"==typeof o){const a=o.constructor,m=a._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!oe[m])throw new Error(`${m} is not registered.`);const _=a.serialize?a.serialize(o,t):{};if(a.serialize){if(t&&_===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const D in o){if(!o.hasOwnProperty(D)||oe[m].omit.indexOf(D)>=0)continue;const S=o[D];_[D]=oe[m].shallow.indexOf(D)>=0?S:Zt(S,t)}o instanceof Error&&(_.message=o.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==m&&(_.$name=m),_}throw new Error("can't serialize object of type "+typeof o)}function ji(o){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||Lt(o)||yn(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(ji);if("object"==typeof o){const t=o.$name||"Object";if(!oe[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:a}=oe[t];if(!a)throw new Error(`can't deserialize unregistered class ${t}`);if(a.deserialize)return a.deserialize(o);const m=Object.create(a.prototype);for(const _ of Object.keys(o)){if("$name"===_)continue;const D=o[_];m[_]=oe[t].shallow.indexOf(_)>=0?D:ji(D)}return m}throw new Error("can't deserialize object of type "+typeof o)}class lr{constructor(){this.first=!0}update(t,a){const m=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=a),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=m,!0))}}const li={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function Bn(o){for(const t of o)if(tr(t.charCodeAt(0)))return!0;return!1}function In(o){for(const t of o)if(!$r(t.charCodeAt(0)))return!1;return!0}function $r(o){return!(li.Arabic(o)||li["Arabic Supplement"](o)||li["Arabic Extended-A"](o)||li["Arabic Presentation Forms-A"](o)||li["Arabic Presentation Forms-B"](o))}function tr(o){return!(746!==o&&747!==o&&(o<4352||!(li["Bopomofo Extended"](o)||li.Bopomofo(o)||li["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||li["CJK Compatibility Ideographs"](o)||li["CJK Compatibility"](o)||li["CJK Radicals Supplement"](o)||li["CJK Strokes"](o)||!(!li["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||12336===o)||li["CJK Unified Ideographs Extension A"](o)||li["CJK Unified Ideographs"](o)||li["Enclosed CJK Letters and Months"](o)||li["Hangul Compatibility Jamo"](o)||li["Hangul Jamo Extended-A"](o)||li["Hangul Jamo Extended-B"](o)||li["Hangul Jamo"](o)||li["Hangul Syllables"](o)||li.Hiragana(o)||li["Ideographic Description Characters"](o)||li.Kanbun(o)||li["Kangxi Radicals"](o)||li["Katakana Phonetic Extensions"](o)||li.Katakana(o)&&12540!==o||!(!li["Halfwidth and Fullwidth Forms"](o)||65288===o||65289===o||65293===o||o>=65306&&o<=65310||65339===o||65341===o||65343===o||o>=65371&&o<=65503||65507===o||o>=65512&&o<=65519)||!(!li["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||li["Unified Canadian Aboriginal Syllabics"](o)||li["Unified Canadian Aboriginal Syllabics Extended"](o)||li["Vertical Forms"](o)||li["Yijing Hexagram Symbols"](o)||li["Yi Syllables"](o)||li["Yi Radicals"](o))))}function qr(o){return!(tr(o)||(t=o,li["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||li["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||li["Letterlike Symbols"](t)||li["Number Forms"](t)||li["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||li["Control Pictures"](t)&&9251!==t||li["Optical Character Recognition"](t)||li["Enclosed Alphanumerics"](t)||li["Geometric Shapes"](t)||li["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||li["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||li["CJK Symbols and Punctuation"](t)||li.Katakana(t)||li["Private Use Area"](t)||li["CJK Compatibility Forms"](t)||li["Small Form Variants"](t)||li["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function Es(o){return o>=1424&&o<=2303||li["Arabic Presentation Forms-A"](o)||li["Arabic Presentation Forms-B"](o)}function jo(o,t){return!(!t&&Es(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||li.Khmer(o))}function da(o){for(const t of o)if(Es(t.charCodeAt(0)))return!0;return!1}const Jo="deferred",fo="loading",Ws="loaded";let dn=null,un="unavailable",Ls=null;const ul=function(o){o&&"string"==typeof o&&o.indexOf("NetworkError")>-1&&(un="error"),dn&&dn(o)};function Qr(){Cc.fire(new dt("pluginStateChange",{pluginStatus:un,pluginURL:Ls}))}const Cc=new Kt,Ns=function(){return un},Na=function(){if(un!==Jo||!Ls)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");un=fo,Qr(),Ls&&Jt({url:Ls},o=>{o?ul(o):(un=Ws,Qr())})},ir={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>un===Ws||null!=ir.applyArabicShaping,isLoading:()=>un===fo,setState(o){if(!Hi())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");un=o.pluginStatus,Ls=o.pluginURL},isParsed(){if(!Hi())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=ir.applyArabicShaping&&null!=ir.processBidirectionalText&&null!=ir.processStyledBidirectionalText},getPluginURL(){if(!Hi())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ls}};class Rr{constructor(t,a){this.zoom=t,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new lr,this.transition={})}isSupportedScript(t){return function(a,m){for(const _ of a)if(!jo(_.charCodeAt(0),m))return!1;return!0}(t,ir.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,a=t-Math.floor(t),m=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*a}}}class Ec{constructor(t,a){this.property=t,this.value=a,this.expression=function(m,_){if(cn(m))return new ds(m,_);if(De(m)){const D=Xo(m,_);if("error"===D.result)throw new Error(D.value.map(S=>`${S.key}: ${S.message}`).join(", "));return D.value}{let D=m;return"color"===_.type&&"string"==typeof m?D=fn.parse(m):"padding"!==_.type||"number"!=typeof m&&!Array.isArray(m)?"variableAnchorOffsetCollection"===_.type&&Array.isArray(m)&&(D=Mn.parse(m)):D=hr.parse(m),{kind:"constant",evaluate:()=>D}}}(void 0===a?t.specification.default:a,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,a,m){return this.property.possiblyEvaluate(this,t,a,m)}}class tc{constructor(t){this.property=t,this.value=new Ec(t,void 0)}transitioned(t,a){return new Dd(this.property,this.value,a,Fe({},t.transition,this.transition),t.now)}untransitioned(){return new Dd(this.property,this.value,null,{},0)}}class Ds{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Pt(this._values[t].value.value)}setValue(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new tc(this._values[t].property)),this._values[t].value=new Ec(this._values[t].property,null===a?void 0:Pt(a))}getTransition(t){return Pt(this._values[t].transition)}setTransition(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new tc(this._values[t].property)),this._values[t].transition=Pt(a)||void 0}serialize(){const t={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(t[a]=m);const _=this.getTransition(a);void 0!==_&&(t[`${a}-transition`]=_)}return t}transitioned(t,a){const m=new qc(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(t,a._values[_]);return m}untransitioned(){const t=new qc(this._properties);for(const a of Object.keys(this._values))t._values[a]=this._values[a].untransitioned();return t}}class Dd{constructor(t,a,m,_,D){this.property=t,this.value=a,this.begin=D+_.delay||0,this.end=this.begin+_.duration||0,t.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(t,a,m){const _=t.now||0,D=this.value.possiblyEvaluate(t,a,m),S=this.prior;if(S){if(_>this.end)return this.prior=null,D;if(this.value.isDataDriven())return this.prior=null,D;if(_<this.begin)return S.possiblyEvaluate(t,a,m);{const P=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(t,a,m),D,function(N){if(N<=0)return 0;if(N>=1)return 1;const G=N*N,J=G*N;return 4*(N<.5?J:3*(N-G)+J-.75)}(P))}}return D}}class qc{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,a,m){const _=new Dc(this._properties);for(const D of Object.keys(this._values))_._values[D]=this._values[D].possiblyEvaluate(t,a,m);return _}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class hs{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return void 0!==this._values[t].value}getValue(t){return Pt(this._values[t].value)}setValue(t,a){this._values[t]=new Ec(this._values[t].property,null===a?void 0:Pt(a))}serialize(){const t={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(t[a]=m)}return t}possiblyEvaluate(t,a,m){const _=new Dc(this._properties);for(const D of Object.keys(this._values))_._values[D]=this._values[D].possiblyEvaluate(t,a,m);return _}}class ua{constructor(t,a,m){this.property=t,this.value=a,this.parameters=m}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,a,m,_){return this.property.evaluate(this.value,this.parameters,t,a,m,_)}}class Dc{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class en{constructor(t){this.specification=t}possiblyEvaluate(t,a){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(a)}interpolate(t,a,m){const _=Xn[this.specification.type];return _?_(t,a,m):t}}class di{constructor(t,a){this.specification=t,this.overrides=a}possiblyEvaluate(t,a,m,_){return new ua(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(a,null,{},m,_)}:t.expression,a)}interpolate(t,a,m){if("constant"!==t.value.kind||"constant"!==a.value.kind)return t;if(void 0===t.value.value||void 0===a.value.value)return new ua(this,{kind:"constant",value:void 0},t.parameters);const _=Xn[this.specification.type];if(_){const D=_(t.value.value,a.value.value,m);return new ua(this,{kind:"constant",value:D},t.parameters)}return t}evaluate(t,a,m,_,D,S){return"constant"===t.kind?t.value:t.evaluate(a,m,_,D,S)}}class Rl extends di{possiblyEvaluate(t,a,m,_){if(void 0===t.value)return new ua(this,{kind:"constant",value:void 0},a);if("constant"===t.expression.kind){const D=t.expression.evaluate(a,null,{},m,_),S="resolvedImage"===t.property.specification.type&&"string"!=typeof D?D.name:D,P=this._calculate(S,S,S,a);return new ua(this,{kind:"constant",value:P},a)}if("camera"===t.expression.kind){const D=this._calculate(t.expression.evaluate({zoom:a.zoom-1}),t.expression.evaluate({zoom:a.zoom}),t.expression.evaluate({zoom:a.zoom+1}),a);return new ua(this,{kind:"constant",value:D},a)}return new ua(this,t.expression,a)}evaluate(t,a,m,_,D,S){if("source"===t.kind){const P=t.evaluate(a,m,_,D,S);return this._calculate(P,P,P,a)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(a.zoom)-1},m,_),t.evaluate({zoom:Math.floor(a.zoom)},m,_),t.evaluate({zoom:Math.floor(a.zoom)+1},m,_),a):t.value}_calculate(t,a,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:m,to:a}}interpolate(t){return t}}class Mc{constructor(t){this.specification=t}possiblyEvaluate(t,a,m,_){if(void 0!==t.value){if("constant"===t.expression.kind){const D=t.expression.evaluate(a,null,{},m,_);return this._calculate(D,D,D,a)}return this._calculate(t.expression.evaluate(new Rr(Math.floor(a.zoom-1),a)),t.expression.evaluate(new Rr(Math.floor(a.zoom),a)),t.expression.evaluate(new Rr(Math.floor(a.zoom+1),a)),a)}}_calculate(t,a,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:m,to:a}}interpolate(t){return t}}class qs{constructor(t){this.specification=t}possiblyEvaluate(t,a,m,_){return!!t.expression.evaluate(a,null,{},m,_)}interpolate(){return!1}}class go{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in t){const m=t[a];m.specification.overridable&&this.overridableProperties.push(a);const _=this.defaultPropertyValues[a]=new Ec(m,void 0),D=this.defaultTransitionablePropertyValues[a]=new tc(m);this.defaultTransitioningPropertyValues[a]=D.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=_.possiblyEvaluate({})}}}Me("DataDrivenProperty",di),Me("DataConstantProperty",en),Me("CrossFadedDataDrivenProperty",Rl),Me("CrossFadedProperty",Mc),Me("ColorRampProperty",qs);const Sc="-transition";class Qo extends Kt{constructor(t,a){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),a.layout&&(this._unevaluatedLayout=new hs(a.layout)),a.paint)){this._transitionablePaint=new Ds(a.paint);for(const m in t.paint)this.setPaintProperty(m,t.paint[m],{validate:!1});for(const m in t.layout)this.setLayoutProperty(m,t.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Dc(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,a,m={}){null!=a&&this._validate(B,`layers.${this.id}.layout.${t}`,t,a,m)||("visibility"!==t?this._unevaluatedLayout.setValue(t,a):this.visibility=a)}getPaintProperty(t){return t.endsWith(Sc)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,a,m={}){if(null!=a&&this._validate(ec,`layers.${this.id}.paint.${t}`,t,a,m))return!1;if(t.endsWith(Sc))return this._transitionablePaint.setTransition(t.slice(0,-11),a||void 0),!1;{const _=this._transitionablePaint._values[t],D="cross-faded-data-driven"===_.property.specification["property-type"],S=_.value.isDataDriven(),P=_.value;this._transitionablePaint.setValue(t,a),this._handleSpecialPaintPropertyUpdate(t);const N=this._transitionablePaint._values[t].value;return N.isDataDriven()||S||D||this._handleOverridablePaintPropertyUpdate(t,P,N)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,a,m){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,a){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,a)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),Nt(t,(a,m)=>!(void 0===a||"layout"===m&&!Object.keys(a).length||"paint"===m&&!Object.keys(a).length))}_validate(t,a,m,_,D={}){return(!D||!1!==D.validate)&&he(this,t.call(Ql,{key:a,layerType:this.type,objectKey:m,value:_,styleSpec:_t,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const a=this.paint.get(t);if(a instanceof ua&&ws(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1}}const za={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ic{constructor(t,a){this._structArray=t,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Fr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,a){return t._trim(),a&&(t.isTransferred=!0,a.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const a=Object.create(this.prototype);return a.arrayBuffer=t.arrayBuffer,a.length=t.length,a.capacity=t.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Br(o,t=1){let a=0,m=0;return{members:o.map(_=>{const D=za[_.type].BYTES_PER_ELEMENT,S=a=ou(a,Math.max(t,D)),P=_.components||1;return m=Math.max(m,D),a+=D*P,{name:_.name,type:_.type,components:P,offset:S}}),size:ou(a,Math.max(m,t)),alignment:t}}function ou(o,t){return Math.ceil(o/t)*t}class hl extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const _=2*t;return this.int16[_+0]=a,this.int16[_+1]=m,t}}hl.prototype.bytesPerElement=4,Me("StructArrayLayout2i4",hl);class ti extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,t,a,m)}emplace(t,a,m,_){const D=3*t;return this.int16[D+0]=a,this.int16[D+1]=m,this.int16[D+2]=_,t}}ti.prototype.bytesPerElement=6,Me("StructArrayLayout3i6",ti);class Fn extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,_){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,_)}emplace(t,a,m,_,D){const S=4*t;return this.int16[S+0]=a,this.int16[S+1]=m,this.int16[S+2]=_,this.int16[S+3]=D,t}}Fn.prototype.bytesPerElement=8,Me("StructArrayLayout4i8",Fn);class nc extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,m,_,D,S)}emplace(t,a,m,_,D,S,P){const N=6*t;return this.int16[N+0]=a,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=D,this.int16[N+4]=S,this.int16[N+5]=P,t}}nc.prototype.bytesPerElement=12,Me("StructArrayLayout2i4i12",nc);class rc extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,m,_,D,S)}emplace(t,a,m,_,D,S,P){const N=4*t,G=8*t;return this.int16[N+0]=a,this.int16[N+1]=m,this.uint8[G+4]=_,this.uint8[G+5]=D,this.uint8[G+6]=S,this.uint8[G+7]=P,t}}rc.prototype.bytesPerElement=8,Me("StructArrayLayout2i4ub8",rc);class eo extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const _=2*t;return this.float32[_+0]=a,this.float32[_+1]=m,t}}eo.prototype.bytesPerElement=8,Me("StructArrayLayout2f8",eo);class Tc extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S,P,N,G,J){const te=this.length;return this.resize(te+1),this.emplace(te,t,a,m,_,D,S,P,N,G,J)}emplace(t,a,m,_,D,S,P,N,G,J,te){const de=10*t;return this.uint16[de+0]=a,this.uint16[de+1]=m,this.uint16[de+2]=_,this.uint16[de+3]=D,this.uint16[de+4]=S,this.uint16[de+5]=P,this.uint16[de+6]=N,this.uint16[de+7]=G,this.uint16[de+8]=J,this.uint16[de+9]=te,t}}Tc.prototype.bytesPerElement=20,Me("StructArrayLayout10ui20",Tc);class $n extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S,P,N,G,J,te,de){const ge=this.length;return this.resize(ge+1),this.emplace(ge,t,a,m,_,D,S,P,N,G,J,te,de)}emplace(t,a,m,_,D,S,P,N,G,J,te,de,ge){const we=12*t;return this.int16[we+0]=a,this.int16[we+1]=m,this.int16[we+2]=_,this.int16[we+3]=D,this.uint16[we+4]=S,this.uint16[we+5]=P,this.uint16[we+6]=N,this.uint16[we+7]=G,this.int16[we+8]=J,this.int16[we+9]=te,this.int16[we+10]=de,this.int16[we+11]=ge,t}}$n.prototype.bytesPerElement=24,Me("StructArrayLayout4i4ui4i24",$n);class C extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,t,a,m)}emplace(t,a,m,_){const D=3*t;return this.float32[D+0]=a,this.float32[D+1]=m,this.float32[D+2]=_,t}}C.prototype.bytesPerElement=12,Me("StructArrayLayout3f12",C);class i extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint32[1*t+0]=a,t}}i.prototype.bytesPerElement=4,Me("StructArrayLayout1ul4",i);class d extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S,P,N,G){const J=this.length;return this.resize(J+1),this.emplace(J,t,a,m,_,D,S,P,N,G)}emplace(t,a,m,_,D,S,P,N,G,J){const te=10*t,de=5*t;return this.int16[te+0]=a,this.int16[te+1]=m,this.int16[te+2]=_,this.int16[te+3]=D,this.int16[te+4]=S,this.int16[te+5]=P,this.uint32[de+3]=N,this.uint16[te+8]=G,this.uint16[te+9]=J,t}}d.prototype.bytesPerElement=20,Me("StructArrayLayout6i1ul2ui20",d);class f extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,m,_,D,S)}emplace(t,a,m,_,D,S,P){const N=6*t;return this.int16[N+0]=a,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=D,this.int16[N+4]=S,this.int16[N+5]=P,t}}f.prototype.bytesPerElement=12,Me("StructArrayLayout2i2i2i12",f);class y extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D){const S=this.length;return this.resize(S+1),this.emplace(S,t,a,m,_,D)}emplace(t,a,m,_,D,S){const P=4*t,N=8*t;return this.float32[P+0]=a,this.float32[P+1]=m,this.float32[P+2]=_,this.int16[N+6]=D,this.int16[N+7]=S,t}}y.prototype.bytesPerElement=16,Me("StructArrayLayout2f1f2i16",y);class M extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,_){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,_)}emplace(t,a,m,_,D){const S=12*t,P=3*t;return this.uint8[S+0]=a,this.uint8[S+1]=m,this.float32[P+1]=_,this.float32[P+2]=D,t}}M.prototype.bytesPerElement=12,Me("StructArrayLayout2ub2f12",M);class O extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,t,a,m)}emplace(t,a,m,_){const D=3*t;return this.uint16[D+0]=a,this.uint16[D+1]=m,this.uint16[D+2]=_,t}}O.prototype.bytesPerElement=6,Me("StructArrayLayout3ui6",O);class R extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et){const yt=this.length;return this.resize(yt+1),this.emplace(yt,t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et)}emplace(t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et,yt){const ct=24*t,bt=12*t,Ot=48*t;return this.int16[ct+0]=a,this.int16[ct+1]=m,this.uint16[ct+2]=_,this.uint16[ct+3]=D,this.uint32[bt+2]=S,this.uint32[bt+3]=P,this.uint32[bt+4]=N,this.uint16[ct+10]=G,this.uint16[ct+11]=J,this.uint16[ct+12]=te,this.float32[bt+7]=de,this.float32[bt+8]=ge,this.uint8[Ot+36]=we,this.uint8[Ot+37]=Oe,this.uint8[Ot+38]=Xe,this.uint32[bt+10]=et,this.int16[ct+22]=yt,t}}R.prototype.bytesPerElement=48,Me("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",R);class V extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et,yt,ct,bt,Ot,Yt,ki,Gi,Ri,Ii,wi,Ui){const Si=this.length;return this.resize(Si+1),this.emplace(Si,t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et,yt,ct,bt,Ot,Yt,ki,Gi,Ri,Ii,wi,Ui)}emplace(t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe,Xe,et,yt,ct,bt,Ot,Yt,ki,Gi,Ri,Ii,wi,Ui,Si){const hi=32*t,sn=16*t;return this.int16[hi+0]=a,this.int16[hi+1]=m,this.int16[hi+2]=_,this.int16[hi+3]=D,this.int16[hi+4]=S,this.int16[hi+5]=P,this.int16[hi+6]=N,this.int16[hi+7]=G,this.uint16[hi+8]=J,this.uint16[hi+9]=te,this.uint16[hi+10]=de,this.uint16[hi+11]=ge,this.uint16[hi+12]=we,this.uint16[hi+13]=Oe,this.uint16[hi+14]=Xe,this.uint16[hi+15]=et,this.uint16[hi+16]=yt,this.uint16[hi+17]=ct,this.uint16[hi+18]=bt,this.uint16[hi+19]=Ot,this.uint16[hi+20]=Yt,this.uint16[hi+21]=ki,this.uint16[hi+22]=Gi,this.uint32[sn+12]=Ri,this.float32[sn+13]=Ii,this.float32[sn+14]=wi,this.uint16[hi+30]=Ui,this.uint16[hi+31]=Si,t}}V.prototype.bytesPerElement=64,Me("StructArrayLayout8i15ui1ul2f2ui64",V);class W extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.float32[1*t+0]=a,t}}W.prototype.bytesPerElement=4,Me("StructArrayLayout1f4",W);class Q extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,t,a,m)}emplace(t,a,m,_){const D=3*t;return this.uint16[6*t+0]=a,this.float32[D+1]=m,this.float32[D+2]=_,t}}Q.prototype.bytesPerElement=12,Me("StructArrayLayout1ui2f12",Q);class E extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,t,a,m)}emplace(t,a,m,_){const D=4*t;return this.uint32[2*t+0]=a,this.uint16[D+2]=m,this.uint16[D+3]=_,t}}E.prototype.bytesPerElement=8,Me("StructArrayLayout1ul2ui8",E);class I extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const _=2*t;return this.uint16[_+0]=a,this.uint16[_+1]=m,t}}I.prototype.bytesPerElement=4,Me("StructArrayLayout2ui4",I);class T extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint16[1*t+0]=a,t}}T.prototype.bytesPerElement=2,Me("StructArrayLayout1ui2",T);class k extends Fr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,_){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,_)}emplace(t,a,m,_,D){const S=4*t;return this.float32[S+0]=a,this.float32[S+1]=m,this.float32[S+2]=_,this.float32[S+3]=D,t}}k.prototype.bytesPerElement=16,Me("StructArrayLayout4f16",k);class z extends ic{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ke(this.anchorPointX,this.anchorPointY)}}z.prototype.size=20;class j extends d{get(t){return new z(this,t)}}Me("CollisionBoxArray",j);class re extends ic{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}re.prototype.size=48;class Se extends R{get(t){return new re(this,t)}}Me("PlacedSymbolArray",Se);class ue extends ic{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}ue.prototype.size=64;class je extends V{get(t){return new ue(this,t)}}Me("SymbolInstanceArray",je);class mt extends W{getoffsetX(t){return this.float32[1*t+0]}}Me("GlyphOffsetArray",mt);class Dt extends ti{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Me("SymbolLineVertexArray",Dt);class Rt extends ic{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Rt.prototype.size=12;class ii extends Q{get(t){return new Rt(this,t)}}Me("TextAnchorOffsetArray",ii);class qt extends ic{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}qt.prototype.size=8;class ui extends E{get(t){return new qt(this,t)}}Me("FeatureIndexArray",ui);class Bi extends hl{}class hn extends hl{}class pi extends hl{}class rn extends nc{}class Di extends rc{}class Lr extends eo{}class Cn extends Tc{}class En extends $n{}class Vn extends C{}class to extends i{}class Er extends f{}class Gr extends M{}class Dr extends O{}class io extends I{}const ms=Br([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ys}=ms;class kr{constructor(t=[]){this.segments=t}prepareSegment(t,a,m,_){let D=this.segments[this.segments.length-1];return t>kr.MAX_VERTEX_ARRAY_LENGTH&&fi(`Max vertices per segment is ${kr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!D||D.vertexLength+t>kr.MAX_VERTEX_ARRAY_LENGTH||D.sortKey!==_)&&(D={vertexOffset:a.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},void 0!==_&&(D.sortKey=_),this.segments.push(D)),D}get(){return this.segments}destroy(){for(const t of this.segments)for(const a in t.vaos)t.vaos[a].destroy()}static simpleSegment(t,a,m,_){return new kr([{vertexOffset:t,primitiveOffset:a,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function Ba(o,t){return 256*(o=Ti(Math.floor(o),0,255))+Ti(Math.floor(t),0,255)}kr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Me("SegmentVector",kr);const ml=Br([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ka={exports:{}},Ms=function(o,t){var a,m,_,D,S,P,N,G;for(m=o.length-(a=3&o.length),_=t,S=3432918353,P=461845907,G=0;G<m;)N=255&o.charCodeAt(G)|(255&o.charCodeAt(++G))<<8|(255&o.charCodeAt(++G))<<16|(255&o.charCodeAt(++G))<<24,++G,_=27492+(65535&(D=5*(65535&(_=(_^=N=(65535&(N=(N=(65535&N)*S+(((N>>>16)*S&65535)<<16)&4294967295)<<15|N>>>17))*P+(((N>>>16)*P&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(N=0,a){case 3:N^=(255&o.charCodeAt(G+2))<<16;case 2:N^=(255&o.charCodeAt(G+1))<<8;case 1:_^=N=(65535&(N=(N=(65535&(N^=255&o.charCodeAt(G)))*S+(((N>>>16)*S&65535)<<16)&4294967295)<<15|N>>>17))*P+(((N>>>16)*P&65535)<<16)&4294967295}return _^=o.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0},Yc=function(o,t){for(var a,m=o.length,_=t^m,D=0;m>=4;)a=1540483477*(65535&(a=255&o.charCodeAt(D)|(255&o.charCodeAt(++D))<<8|(255&o.charCodeAt(++D))<<16|(255&o.charCodeAt(++D))<<24))+((1540483477*(a>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),m-=4,++D;switch(m){case 3:_^=(255&o.charCodeAt(D+2))<<16;case 2:_^=(255&o.charCodeAt(D+1))<<8;case 1:_=1540483477*(65535&(_^=255&o.charCodeAt(D)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};Ka.exports=Ms,Ka.exports.murmur3=Ms,Ka.exports.murmur2=Yc;var no=ae(Ka.exports);class ko{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,a,m,_){this.ids.push(zs(t)),this.positions.push(a,m,_)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const a=zs(t);let m=0,_=this.ids.length-1;for(;m<_;){const S=m+_>>1;this.ids[S]>=a?_=S:m=S+1}const D=[];for(;this.ids[m]===a;)D.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return D}static serialize(t,a){const m=new Float64Array(t.ids),_=new Uint32Array(t.positions);return Co(m,_,0,m.length-1),a&&a.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(t){const a=new ko;return a.ids=t.ids,a.positions=t.positions,a.indexed=!0,a}}function zs(o){const t=+o;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:no(String(o))}function Co(o,t,a,m){for(;a<m;){const _=o[a+m>>1];let D=a-1,S=m+1;for(;;){do{D++}while(o[D]<_);do{S--}while(o[S]>_);if(D>=S)break;su(o,D,S),su(t,3*D,3*S),su(t,3*D+1,3*S+1),su(t,3*D+2,3*S+2)}S-a<m-S?(Co(o,t,a,S),a=S+1):(Co(o,t,S+1,m),m=S)}}function su(o,t,a){const m=o[t];o[t]=o[a],o[a]=m}Me("FeaturePositionMap",ko);class Ic{constructor(t,a){this.gl=t.gl,this.location=a}}class Ac extends Ic{constructor(t,a){super(t,a),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class kc extends Ic{constructor(t,a){super(t,a),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class ku extends Ic{constructor(t,a){super(t,a),this.current=fn.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Kc=new Float32Array(16);function Ja(o){return[Ba(255*o.r,255*o.g),Ba(255*o.b,255*o.a)]}class pl{constructor(t,a,m){this.value=t,this.uniformNames=a.map(_=>`u_${_}`),this.type=m}setUniform(t,a,m){t.set(m.constantOr(this.value))}getBinding(t,a,m){return"color"===this.type?new ku(t,a):new Ac(t,a)}}class Pc{constructor(t,a){this.uniformNames=a.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=t.tlbr}setUniform(t,a,m,_){const D="u_pattern_to"===_?this.patternTo:"u_pattern_from"===_?this.patternFrom:"u_pixel_ratio_to"===_?this.pixelRatioTo:"u_pixel_ratio_from"===_?this.pixelRatioFrom:null;D&&t.set(D)}getBinding(t,a,m){return"u_pattern"===m.substr(0,9)?new kc(t,a):new Ac(t,a)}}class Va{constructor(t,a,m,_){this.expression=t,this.type=m,this.maxValue=0,this.paintVertexAttributes=a.map(D=>({name:`a_${D}`,type:"Float32",components:"color"===m?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(t,a,m,_,D){const S=this.paintVertexArray.length,P=this.expression.evaluate(new Rr(0),a,{},_,[],D);this.paintVertexArray.resize(t),this._setPaintValue(S,t,P)}updatePaintArray(t,a,m,_){const D=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(t,a,D)}_setPaintValue(t,a,m){if("color"===this.type){const _=Ja(m);for(let D=t;D<a;D++)this.paintVertexArray.emplace(D,_[0],_[1])}else{for(let _=t;_<a;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ks{constructor(t,a,m,_,D,S){this.expression=t,this.uniformNames=a.map(P=>`u_${P}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=D,this.maxValue=0,this.paintVertexAttributes=a.map(P=>({name:`a_${P}`,type:"Float32",components:"color"===m?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(t,a,m,_,D){const S=this.expression.evaluate(new Rr(this.zoom),a,{},_,[],D),P=this.expression.evaluate(new Rr(this.zoom+1),a,{},_,[],D),N=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(N,t,S,P)}updatePaintArray(t,a,m,_){const D=this.expression.evaluate({zoom:this.zoom},m,_),S=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(t,a,D,S)}_setPaintValue(t,a,m,_){if("color"===this.type){const D=Ja(m),S=Ja(_);for(let P=t;P<a;P++)this.paintVertexArray.emplace(P,D[0],D[1],S[0],S[1])}else{for(let D=t;D<a;D++)this.paintVertexArray.emplace(D,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,a){const m=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,_=Ti(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);t.set(_)}getBinding(t,a,m){return new Ac(t,a)}}class fl{constructor(t,a,m,_,D,S){this.expression=t,this.type=a,this.useIntegerZoom=m,this.zoom=_,this.layerId=S,this.zoomInPaintVertexArray=new D,this.zoomOutPaintVertexArray=new D}populatePaintArray(t,a,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(_,t,a.patterns&&a.patterns[this.layerId],m)}updatePaintArray(t,a,m,_,D){this._setPaintValues(t,a,m.patterns&&m.patterns[this.layerId],D)}_setPaintValues(t,a,m,_){if(!_||!m)return;const{min:D,mid:S,max:P}=m,N=_[D],G=_[S],J=_[P];if(N&&G&&J)for(let te=t;te<a;te++)this.zoomInPaintVertexArray.emplace(te,G.tl[0],G.tl[1],G.br[0],G.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],G.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(te,G.tl[0],G.tl[1],G.br[0],G.br[1],J.tl[0],J.tl[1],J.br[0],J.br[1],G.pixelRatio,J.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ml.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ml.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ha{constructor(t,a,m){this.binders={},this._buffers=[];const _=[];for(const D in t.paint._values){if(!m(D))continue;const S=t.paint.get(D);if(!(S instanceof ua&&ws(S.property.specification)))continue;const P=Pu(D,t.type),N=S.value,G=S.property.specification.type,J=S.property.useIntegerZoom,te=S.property.specification["property-type"],de="cross-faded"===te||"cross-faded-data-driven"===te;if("constant"===N.kind)this.binders[D]=de?new Pc(N.value,P):new pl(N.value,P,G),_.push(`/u_${D}`);else if("source"===N.kind||de){const ge=Ou(D,G,"source");this.binders[D]=de?new fl(N,G,J,a,ge,t.id):new Va(N,P,G,ge),_.push(`/a_${D}`)}else{const ge=Ou(D,G,"composite");this.binders[D]=new Ks(N,P,G,J,a,ge),_.push(`/z_${D}`)}}this.cacheKey=_.sort().join("")}getMaxValue(t){const a=this.binders[t];return a instanceof Va||a instanceof Ks?a.maxValue:0}populatePaintArrays(t,a,m,_,D){for(const S in this.binders){const P=this.binders[S];(P instanceof Va||P instanceof Ks||P instanceof fl)&&P.populatePaintArray(t,a,m,_,D)}}setConstantPatternPositions(t,a){for(const m in this.binders){const _=this.binders[m];_ instanceof Pc&&_.setConstantPatternPositions(t,a)}}updatePaintArrays(t,a,m,_,D){let S=!1;for(const P in t){const N=a.getPositions(P);for(const G of N){const J=m.feature(G.index);for(const te in this.binders){const de=this.binders[te];if((de instanceof Va||de instanceof Ks||de instanceof fl)&&!0===de.expression.isStateDependent){const ge=_.paint.get(te);de.expression=ge.value,de.updatePaintArray(G.start,G.end,J,t[P],D),S=!0}}}}return S}defines(){const t=[];for(const a in this.binders){const m=this.binders[a];(m instanceof pl||m instanceof Pc)&&t.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return t}getBinderAttributes(){const t=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof Va||m instanceof Ks)for(let _=0;_<m.paintVertexAttributes.length;_++)t.push(m.paintVertexAttributes[_].name);else if(m instanceof fl)for(let _=0;_<ml.members.length;_++)t.push(ml.members[_].name)}return t}getBinderUniforms(){const t=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof pl||m instanceof Pc||m instanceof Ks)for(const _ of m.uniformNames)t.push(_)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,a){const m=[];for(const _ in this.binders){const D=this.binders[_];if(D instanceof pl||D instanceof Pc||D instanceof Ks)for(const S of D.uniformNames)if(a[S]){const P=D.getBinding(t,a[S],S);m.push({name:S,property:_,binding:P})}}return m}setUniforms(t,a,m,_){for(const{name:D,property:S,binding:P}of a)this.binders[S].setUniform(P,_,m.get(S),D)}updatePaintBuffers(t){this._buffers=[];for(const a in this.binders){const m=this.binders[a];if(t&&m instanceof fl){const _=2===t.fromScale?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof Va||m instanceof Ks)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(t){for(const a in this.binders){const m=this.binders[a];(m instanceof Va||m instanceof Ks||m instanceof fl)&&m.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const a=this.binders[t];(a instanceof Va||a instanceof Ks||a instanceof fl)&&a.destroy()}}}class Xc{constructor(t,a,m=(()=>!0)){this.programConfigurations={};for(const _ of t)this.programConfigurations[_.id]=new ha(_,a,m);this.needsUpload=!1,this._featureMap=new ko,this._bufferOffset=0}populatePaintArrays(t,a,m,_,D,S){for(const P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(t,a,_,D,S);void 0!==a.id&&this._featureMap.add(a.id,m,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,a,m,_){for(const D of m)this.needsUpload=this.programConfigurations[D.id].updatePaintArrays(t,this._featureMap,a,D,_)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function Pu(o,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${t}-`,"").replace(/-/g,"_")]}function Ou(o,t,a){const _={"line-pattern":{source:Cn,composite:Cn},"fill-pattern":{source:Cn,composite:Cn},"fill-extrusion-pattern":{source:Cn,composite:Cn}}[o];return _&&_[a]||{color:{source:eo,composite:k},number:{source:W,composite:eo}}[t][a]}Me("ConstantBinder",pl),Me("CrossFadedConstantBinder",Pc),Me("SourceExpressionBinder",Va),Me("CrossFadedCompositeBinder",fl),Me("CompositeExpressionBinder",Ks),Me("ProgramConfiguration",ha,{omit:["_buffers"]}),Me("ProgramConfigurationSet",Xc);const Eo=8192,Md=Math.pow(2,14)-1,Ru=-Md-1;function Jc(o){const t=Eo/o.extent,a=o.loadGeometry();for(let m=0;m<a.length;m++){const _=a[m];for(let D=0;D<_.length;D++){const S=_[D],P=Math.round(S.x*t),N=Math.round(S.y*t);S.x=Ti(P,Ru,Md),S.y=Ti(N,Ru,Md),(P<S.x||P>S.x+1||N<S.y||N>S.y+1)&&fi("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function Oc(o,t){return{type:o.type,id:o.id,properties:o.properties,geometry:t?Jc(o):[]}}function au(o,t,a,m,_){o.emplaceBack(2*t+(m+1)/2,2*a+(_+1)/2)}class Fu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new hn,this.indexArray=new Dr,this.segments=new kr,this.programConfigurations=new Xc(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){const _=this.layers[0],D=[];let S=null,P=!1;"circle"===_.type&&(S=_.layout.get("circle-sort-key"),P=!S.isConstant());for(const{feature:N,id:G,index:J,sourceLayerIndex:te}of t){const de=this.layers[0]._featureFilter.needGeometry,ge=Oc(N,de);if(!this.layers[0]._featureFilter.filter(new Rr(this.zoom),ge,m))continue;const we=P?S.evaluate(ge,{},m):void 0,Oe={id:G,properties:N.properties,type:N.type,sourceLayerIndex:te,index:J,geometry:de?ge.geometry:Jc(N),patterns:{},sortKey:we};D.push(Oe)}P&&D.sort((N,G)=>N.sortKey-G.sortKey);for(const N of D){const{geometry:G,index:J,sourceLayerIndex:te}=N,de=t[J].feature;this.addFeature(N,G,J,m),a.featureIndex.insert(de,G,J,te,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ys),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,a,m,_){for(const D of a)for(const S of D){const P=S.x,N=S.y;if(P<0||P>=Eo||N<0||N>=Eo)continue;const G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),J=G.vertexLength;au(this.layoutVertexArray,P,N,-1,-1),au(this.layoutVertexArray,P,N,1,-1),au(this.layoutVertexArray,P,N,1,1),au(this.layoutVertexArray,P,N,-1,1),this.indexArray.emplaceBack(J,J+1,J+2),this.indexArray.emplaceBack(J,J+3,J+2),G.vertexLength+=4,G.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,{},_)}}function Zr(o,t){for(let a=0;a<o.length;a++)if(es(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(es(o,t[a]))return!0;return!!cu(o,t)}function Wf(o,t,a){return!!es(o,t)||!!Rc(t,o,a)}function lu(o,t){if(1===o.length)return Lu(t,o[0]);for(let a=0;a<t.length;a++){const m=t[a];for(let _=0;_<m.length;_++)if(es(o,m[_]))return!0}for(let a=0;a<o.length;a++)if(Lu(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(cu(o,t[a]))return!0;return!1}function Qc(o,t,a){if(o.length>1){if(cu(o,t))return!0;for(let m=0;m<t.length;m++)if(Rc(t[m],o,a))return!0}for(let m=0;m<o.length;m++)if(Rc(o[m],t,a))return!0;return!1}function cu(o,t){if(0===o.length||0===t.length)return!1;for(let a=0;a<o.length-1;a++){const m=o[a],_=o[a+1];for(let D=0;D<t.length-1;D++)if(Xh(m,_,t[D],t[D+1]))return!0}return!1}function Xh(o,t,a,m){return _i(o,a,m)!==_i(t,a,m)&&_i(o,t,a)!==_i(o,t,m)}function Rc(o,t,a){const m=a*a;if(1===t.length)return o.distSqr(t[0])<m;for(let _=1;_<t.length;_++)if(Sd(o,t[_-1],t[_])<m)return!0;return!1}function Sd(o,t,a){const m=t.distSqr(a);if(0===m)return o.distSqr(t);const _=((o.x-t.x)*(a.x-t.x)+(o.y-t.y)*(a.y-t.y))/m;return o.distSqr(_<0?t:_>1?a:a.sub(t)._mult(_)._add(t))}function Lu(o,t){let a,m,_,D=!1;for(let S=0;S<o.length;S++){a=o[S];for(let P=0,N=a.length-1;P<a.length;N=P++)m=a[P],_=a[N],m.y>t.y!=_.y>t.y&&t.x<(_.x-m.x)*(t.y-m.y)/(_.y-m.y)+m.x&&(D=!D)}return D}function es(o,t){let a=!1;for(let m=0,_=o.length-1;m<o.length;_=m++){const D=o[m],S=o[_];D.y>t.y!=S.y>t.y&&t.x<(S.x-D.x)*(t.y-D.y)/(S.y-D.y)+D.x&&(a=!a)}return a}function Td(o,t,a){const m=a[0],_=a[2];if(o.x<m.x&&t.x<m.x||o.x>_.x&&t.x>_.x||o.y<m.y&&t.y<m.y||o.y>_.y&&t.y>_.y)return!1;const D=_i(o,t,a[0]);return D!==_i(o,t,a[1])||D!==_i(o,t,a[2])||D!==_i(o,t,a[3])}function ed(o,t,a){const m=t.paint.get(o).value;return"constant"===m.kind?m.value:a.programConfigurations.get(t.id).getMaxValue(o)}function Id(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function du(o,t,a,m,_){if(!t[0]&&!t[1])return o;const D=ke.convert(t)._mult(_);"viewport"===a&&D._rotate(-m);const S=[];for(let P=0;P<o.length;P++)S.push(o[P].sub(D));return S}let Jh,Nu;Me("CircleBucket",Fu,{omit:["layers"]});var Ad={get paint(){return Nu=Nu||new go({"circle-radius":new di(_t.paint_circle["circle-radius"]),"circle-color":new di(_t.paint_circle["circle-color"]),"circle-blur":new di(_t.paint_circle["circle-blur"]),"circle-opacity":new di(_t.paint_circle["circle-opacity"]),"circle-translate":new en(_t.paint_circle["circle-translate"]),"circle-translate-anchor":new en(_t.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new en(_t.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new en(_t.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new di(_t.paint_circle["circle-stroke-width"]),"circle-stroke-color":new di(_t.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new di(_t.paint_circle["circle-stroke-opacity"])})},get layout(){return Jh=Jh||new go({"circle-sort-key":new di(_t.layout_circle["circle-sort-key"])})}},Po=1e-6,gl=typeof Float32Array<"u"?Float32Array:Array;function zu(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function kd(o,t,a){var m=t[0],_=t[1],D=t[2],S=t[3],P=t[4],N=t[5],G=t[6],J=t[7],te=t[8],de=t[9],ge=t[10],we=t[11],Oe=t[12],Xe=t[13],et=t[14],yt=t[15],ct=a[0],bt=a[1],Ot=a[2],Yt=a[3];return o[0]=ct*m+bt*P+Ot*te+Yt*Oe,o[1]=ct*_+bt*N+Ot*de+Yt*Xe,o[2]=ct*D+bt*G+Ot*ge+Yt*et,o[3]=ct*S+bt*J+Ot*we+Yt*yt,o[4]=(ct=a[4])*m+(bt=a[5])*P+(Ot=a[6])*te+(Yt=a[7])*Oe,o[5]=ct*_+bt*N+Ot*de+Yt*Xe,o[6]=ct*D+bt*G+Ot*ge+Yt*et,o[7]=ct*S+bt*J+Ot*we+Yt*yt,o[8]=(ct=a[8])*m+(bt=a[9])*P+(Ot=a[10])*te+(Yt=a[11])*Oe,o[9]=ct*_+bt*N+Ot*de+Yt*Xe,o[10]=ct*D+bt*G+Ot*ge+Yt*et,o[11]=ct*S+bt*J+Ot*we+Yt*yt,o[12]=(ct=a[12])*m+(bt=a[13])*P+(Ot=a[14])*te+(Yt=a[15])*Oe,o[13]=ct*_+bt*N+Ot*de+Yt*Xe,o[14]=ct*D+bt*G+Ot*ge+Yt*et,o[15]=ct*S+bt*J+Ot*we+Yt*yt,o}Math.hypot||(Math.hypot=function(){for(var o=0,t=arguments.length;t--;)o+=arguments[t]*arguments[t];return Math.sqrt(o)});var Fl,qf=kd;function Bu(o,t,a){var m=t[0],_=t[1],D=t[2],S=t[3];return o[0]=a[0]*m+a[4]*_+a[8]*D+a[12]*S,o[1]=a[1]*m+a[5]*_+a[9]*D+a[13]*S,o[2]=a[2]*m+a[6]*_+a[10]*D+a[14]*S,o[3]=a[3]*m+a[7]*_+a[11]*D+a[15]*S,o}Fl=new gl(4),gl!=Float32Array&&(Fl[0]=0,Fl[1]=0,Fl[2]=0,Fl[3]=0);class ty extends Qo{constructor(t){super(t,Ad)}createBucket(t){return new Fu(t)}queryRadius(t){const a=t;return ed("circle-radius",this,a)+ed("circle-stroke-width",this,a)+Id(this.paint.get("circle-translate"))}queryIntersectsFeature(t,a,m,_,D,S,P,N){const G=du(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,P),J=this.paint.get("circle-radius").evaluate(a,m)+this.paint.get("circle-stroke-width").evaluate(a,m),te="map"===this.paint.get("circle-pitch-alignment"),de=te?G:(Oe=N,G.map(Xe=>Yf(Xe,Oe))),ge=te?J*P:J;var Oe;for(const we of _)for(const Oe of we){const Xe=te?Oe:Yf(Oe,N);let et=ge;const yt=Bu([],[Oe.x,Oe.y,0,1],N);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?et*=yt[3]/S.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(et*=S.cameraToCenterDistance/yt[3]),Wf(de,Xe,et))return!0}return!1}}function Yf(o,t){const a=Bu([],[o.x,o.y,0,1],t);return new ke(a[0]/a[3],a[1]/a[3])}class Kf extends Fu{}let Xf;Me("HeatmapBucket",Kf,{omit:["layers"]});var iy={get paint(){return Xf=Xf||new go({"heatmap-radius":new di(_t.paint_heatmap["heatmap-radius"]),"heatmap-weight":new di(_t.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new en(_t.paint_heatmap["heatmap-intensity"]),"heatmap-color":new qs(_t.paint_heatmap["heatmap-color"]),"heatmap-opacity":new en(_t.paint_heatmap["heatmap-opacity"])})}};function ip(o,{width:t,height:a},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==t*a*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${t*a*m}`)}else _=new Uint8Array(t*a*m);return o.width=t,o.height=a,o.data=_,o}function oc(o,{width:t,height:a},m){if(t===o.width&&a===o.height)return;const _=ip({},{width:t,height:a},m);Qh(o,_,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,t),height:Math.min(o.height,a)},m),o.width=t,o.height=a,o.data=_.data}function Qh(o,t,a,m,_,D){if(0===_.width||0===_.height)return t;if(_.width>o.width||_.height>o.height||a.x>o.width-_.width||a.y>o.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>t.width||_.height>t.height||m.x>t.width-_.width||m.y>t.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const S=o.data,P=t.data;if(S===P)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<_.height;N++){const G=((a.y+N)*o.width+a.x)*D,J=((m.y+N)*t.width+m.x)*D;for(let te=0;te<_.width*D;te++)P[J+te]=S[G+te]}return t}class sc{constructor(t,a){ip(this,t,1,a)}resize(t){oc(this,t,1)}clone(){return new sc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,m,_,D){Qh(t,a,m,_,D,1)}}class Mr{constructor(t,a){ip(this,t,4,a)}resize(t){oc(this,t,4)}replace(t,a){a?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Mr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,m,_,D){Qh(t,a,m,_,D,4)}}function np(o){const t={},a=o.resolution||256,m=o.clips?o.clips.length:1,_=o.image||new Mr({width:a,height:m});if(Math.log(a)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${a}`);const D=(S,P,N)=>{t[o.evaluationKey]=N;const G=o.expression.evaluate(t);_.data[S+P+0]=Math.floor(255*G.r/G.a),_.data[S+P+1]=Math.floor(255*G.g/G.a),_.data[S+P+2]=Math.floor(255*G.b/G.a),_.data[S+P+3]=Math.floor(255*G.a)};if(o.clips)for(let S=0,P=0;S<m;++S,P+=4*a)for(let N=0,G=0;N<a;N++,G+=4){const J=N/(a-1),{start:te,end:de}=o.clips[S];D(P,G,te*(1-J)+de*J)}else for(let S=0,P=0;S<a;S++,P+=4)D(0,P,S/(a-1));return _}Me("AlphaImage",sc),Me("RGBAImage",Mr);class uu extends Qo{createBucket(t){return new Kf(t)}constructor(t){super(t,iy),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=np({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Jf;var Qa={get paint(){return Jf=Jf||new go({"hillshade-illumination-direction":new en(_t.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new en(_t.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new en(_t.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new en(_t.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new en(_t.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new en(_t.paint_hillshade["hillshade-accent-color"])})}};class Pd extends Qo{constructor(t){super(t,Qa)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const rp=Br([{name:"a_pos",components:2,type:"Int16"}],4),{members:Vu}=rp;var td={exports:{}};function Uu(o,t,a){a=a||2;var m,_,D,S,P,N,G,J=t&&t.length,te=J?t[0]*a:o.length,de=Qf(o,0,te,a,!0),ge=[];if(!de||de.next===de.prev)return ge;if(J&&(de=function(Oe,Xe,et,yt){var ct,bt,Ot,Yt=[];for(ct=0,bt=Xe.length;ct<bt;ct++)(Ot=Qf(Oe,Xe[ct]*yt,ct<bt-1?Xe[ct+1]*yt:Oe.length,yt,!1))===Ot.next&&(Ot.steiner=!0),Yt.push(ig(Ot));for(Yt.sort(op),ct=0;ct<Yt.length;ct++)et=eg(Yt[ct],et);return et}(o,t,de,a)),o.length>80*a){m=D=o[0],_=S=o[1];for(var we=a;we<te;we+=a)(P=o[we])<m&&(m=P),(N=o[we+1])<_&&(_=N),P>D&&(D=P),N>S&&(S=N);G=0!==(G=Math.max(D-m,S-_))?32767/G:0}return ju(de,ge,a,m,_,G,0),ge}function Qf(o,t,a,m,_){var D,S;if(_===$u(o,t,a,m)>0)for(D=t;D<a;D+=m)S=im(D,o[D],o[D+1],S);else for(D=a-m;D>=t;D-=m)S=im(D,o[D],o[D+1],S);return S&&Ll(S,S.next)&&(nd(S),S=S.next),S}function ac(o,t){if(!o)return o;t||(t=o);var a,m=o;do{if(a=!1,m.steiner||!Ll(m,m.next)&&0!==Pr(m.prev,m,m.next))m=m.next;else{if(nd(m),(m=t=m.prev)===m.next)break;a=!0}}while(a||m!==t);return t}function ju(o,t,a,m,_,D,S){if(o){!S&&D&&function(J,te,de,ge){var we=J;do{0===we.z&&(we.z=tm(we.x,we.y,te,de,ge)),we.prevZ=we.prev,we.nextZ=we.next,we=we.next}while(we!==J);we.prevZ.nextZ=null,we.prevZ=null,function(Oe){var Xe,et,yt,ct,bt,Ot,Yt,ki,Gi=1;do{for(et=Oe,Oe=null,bt=null,Ot=0;et;){for(Ot++,yt=et,Yt=0,Xe=0;Xe<Gi&&(Yt++,yt=yt.nextZ);Xe++);for(ki=Gi;Yt>0||ki>0&&yt;)0!==Yt&&(0===ki||!yt||et.z<=yt.z)?(ct=et,et=et.nextZ,Yt--):(ct=yt,yt=yt.nextZ,ki--),bt?bt.nextZ=ct:Oe=ct,ct.prevZ=bt,bt=ct;et=yt}bt.nextZ=null,Gi*=2}while(Ot>1)}(we)}(o,m,_,D);for(var P,N,G=o;o.prev!==o.next;)if(P=o.prev,N=o.next,D?em(o,m,_,D):Xs(o))t.push(P.i/a|0),t.push(o.i/a|0),t.push(N.i/a|0),nd(o),o=N.next,G=N.next;else if((o=N)===G){S?1===S?ju(o=Od(ac(o),t,a),t,a,m,_,D,2):2===S&&ny(o,t,a,m,_,D):ju(ac(o),t,a,m,_,D,1);break}}}function Xs(o){var t=o.prev,a=o,m=o.next;if(Pr(t,a,m)>=0)return!1;for(var _=t.x,D=a.x,S=m.x,P=t.y,N=a.y,G=m.y,J=_<D?_<S?_:S:D<S?D:S,te=P<N?P<G?P:G:N<G?N:G,de=_>D?_>S?_:S:D>S?D:S,ge=P>N?P>G?P:G:N>G?N:G,we=m.next;we!==t;){if(we.x>=J&&we.x<=de&&we.y>=te&&we.y<=ge&&Rd(_,P,D,N,S,G,we.x,we.y)&&Pr(we.prev,we,we.next)>=0)return!1;we=we.next}return!0}function em(o,t,a,m){var _=o.prev,D=o,S=o.next;if(Pr(_,D,S)>=0)return!1;for(var P=_.x,N=D.x,G=S.x,J=_.y,te=D.y,de=S.y,ge=P<N?P<G?P:G:N<G?N:G,we=J<te?J<de?J:de:te<de?te:de,Oe=P>N?P>G?P:G:N>G?N:G,Xe=J>te?J>de?J:de:te>de?te:de,et=tm(ge,we,t,a,m),yt=tm(Oe,Xe,t,a,m),ct=o.prevZ,bt=o.nextZ;ct&&ct.z>=et&&bt&&bt.z<=yt;){if(ct.x>=ge&&ct.x<=Oe&&ct.y>=we&&ct.y<=Xe&&ct!==_&&ct!==S&&Rd(P,J,N,te,G,de,ct.x,ct.y)&&Pr(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,bt.x>=ge&&bt.x<=Oe&&bt.y>=we&&bt.y<=Xe&&bt!==_&&bt!==S&&Rd(P,J,N,te,G,de,bt.x,bt.y)&&Pr(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;ct&&ct.z>=et;){if(ct.x>=ge&&ct.x<=Oe&&ct.y>=we&&ct.y<=Xe&&ct!==_&&ct!==S&&Rd(P,J,N,te,G,de,ct.x,ct.y)&&Pr(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;bt&&bt.z<=yt;){if(bt.x>=ge&&bt.x<=Oe&&bt.y>=we&&bt.y<=Xe&&bt!==_&&bt!==S&&Rd(P,J,N,te,G,de,bt.x,bt.y)&&Pr(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function Od(o,t,a){var m=o;do{var _=m.prev,D=m.next.next;!Ll(_,D)&&sp(_,m,m.next,D)&&Fc(_,D)&&Fc(D,_)&&(t.push(_.i/a|0),t.push(m.i/a|0),t.push(D.i/a|0),nd(m),nd(m.next),m=o=D),m=m.next}while(m!==o);return ac(m)}function ny(o,t,a,m,_,D){var S=o;do{for(var P=S.next.next;P!==S.prev;){if(S.i!==P.i&&ng(S,P)){var N=ap(S,P);return S=ac(S,S.next),N=ac(N,N.next),ju(S,t,a,m,_,D,0),void ju(N,t,a,m,_,D,0)}P=P.next}S=S.next}while(S!==o)}function op(o,t){return o.x-t.x}function eg(o,t){var a=function(_,D){var S,P=D,N=_.x,G=_.y,J=-1/0;do{if(G<=P.y&&G>=P.next.y&&P.next.y!==P.y){var te=P.x+(G-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(te<=N&&te>J&&(J=te,S=P.x<P.next.x?P:P.next,te===N))return S}P=P.next}while(P!==D);if(!S)return null;var de,ge=S,we=S.x,Oe=S.y,Xe=1/0;P=S;do{N>=P.x&&P.x>=we&&N!==P.x&&Rd(G<Oe?N:J,G,we,Oe,G<Oe?J:N,G,P.x,P.y)&&(de=Math.abs(G-P.y)/(N-P.x),Fc(P,_)&&(de<Xe||de===Xe&&(P.x>S.x||P.x===S.x&&tg(S,P)))&&(S=P,Xe=de)),P=P.next}while(P!==ge);return S}(o,t);if(!a)return t;var m=ap(a,o);return ac(m,m.next),ac(a,a.next)}function tg(o,t){return Pr(o.prev,o,t.prev)<0&&Pr(t.next,o,o.next)<0}function tm(o,t,a,m,_){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-a)*_|0)|o<<8))|o<<4))|o<<2))|o<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-m)*_|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ig(o){var t=o,a=o;do{(t.x<a.x||t.x===a.x&&t.y<a.y)&&(a=t),t=t.next}while(t!==o);return a}function Rd(o,t,a,m,_,D,S,P){return(_-S)*(t-P)>=(o-S)*(D-P)&&(o-S)*(m-P)>=(a-S)*(t-P)&&(a-S)*(D-P)>=(_-S)*(m-P)}function ng(o,t){return o.next.i!==t.i&&o.prev.i!==t.i&&!function(a,m){var _=a;do{if(_.i!==a.i&&_.next.i!==a.i&&_.i!==m.i&&_.next.i!==m.i&&sp(_,_.next,a,m))return!0;_=_.next}while(_!==a);return!1}(o,t)&&(Fc(o,t)&&Fc(t,o)&&function(a,m){var _=a,D=!1,S=(a.x+m.x)/2,P=(a.y+m.y)/2;do{_.y>P!=_.next.y>P&&_.next.y!==_.y&&S<(_.next.x-_.x)*(P-_.y)/(_.next.y-_.y)+_.x&&(D=!D),_=_.next}while(_!==a);return D}(o,t)&&(Pr(o.prev,o,t.prev)||Pr(o,t.prev,t))||Ll(o,t)&&Pr(o.prev,o,o.next)>0&&Pr(t.prev,t,t.next)>0)}function Pr(o,t,a){return(t.y-o.y)*(a.x-t.x)-(t.x-o.x)*(a.y-t.y)}function Ll(o,t){return o.x===t.x&&o.y===t.y}function sp(o,t,a,m){var _=Hu(Pr(o,t,a)),D=Hu(Pr(o,t,m)),S=Hu(Pr(a,m,o)),P=Hu(Pr(a,m,t));return _!==D&&S!==P||!(0!==_||!id(o,a,t))||!(0!==D||!id(o,m,t))||!(0!==S||!id(a,o,m))||!(0!==P||!id(a,t,m))}function id(o,t,a){return t.x<=Math.max(o.x,a.x)&&t.x>=Math.min(o.x,a.x)&&t.y<=Math.max(o.y,a.y)&&t.y>=Math.min(o.y,a.y)}function Hu(o){return o>0?1:o<0?-1:0}function Fc(o,t){return Pr(o.prev,o,o.next)<0?Pr(o,t,o.next)>=0&&Pr(o,o.prev,t)>=0:Pr(o,t,o.prev)<0||Pr(o,o.next,t)<0}function ap(o,t){var a=new Fd(o.i,o.x,o.y),m=new Fd(t.i,t.x,t.y),_=o.next,D=t.prev;return o.next=t,t.prev=o,a.next=_,_.prev=a,m.next=a,a.prev=m,D.next=m,m.prev=D,m}function im(o,t,a,m){var _=new Fd(o,t,a);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function nd(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Fd(o,t,a){this.i=o,this.x=t,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $u(o,t,a,m){for(var _=0,D=t,S=a-m;D<a;D+=m)_+=(o[S]-o[D])*(o[D+1]+o[S+1]),S=D;return _}td.exports=Uu,td.exports.default=Uu,Uu.deviation=function(o,t,a,m){var _=t&&t.length,D=Math.abs($u(o,0,_?t[0]*a:o.length,a));if(_)for(var S=0,P=t.length;S<P;S++)D-=Math.abs($u(o,t[S]*a,S<P-1?t[S+1]*a:o.length,a));var N=0;for(S=0;S<m.length;S+=3){var G=m[S]*a,J=m[S+1]*a,te=m[S+2]*a;N+=Math.abs((o[G]-o[te])*(o[J+1]-o[G+1])-(o[G]-o[J])*(o[te+1]-o[G+1]))}return 0===D&&0===N?0:Math.abs((N-D)/D)},Uu.flatten=function(o){for(var t=o[0][0].length,a={vertices:[],holes:[],dimensions:t},m=0,_=0;_<o.length;_++){for(var D=0;D<o[_].length;D++)for(var S=0;S<t;S++)a.vertices.push(o[_][D][S]);_>0&&a.holes.push(m+=o[_-1].length)}return a};var Ld=ae(td.exports);function rg(o,t,a,m,_){_l(o,t,a||0,m||o.length-1,_||og)}function _l(o,t,a,m,_){for(;m>a;){if(m-a>600){var D=m-a+1,S=t-a+1,P=Math.log(D),N=.5*Math.exp(2*P/3),G=.5*Math.sqrt(P*N*(D-N)/D)*(S-D/2<0?-1:1);_l(o,t,Math.max(a,Math.floor(t-S*N/D+G)),Math.min(m,Math.floor(t+(D-S)*N/D+G)),_)}var J=o[t],te=a,de=m;for(lc(o,a,t),_(o[m],J)>0&&lc(o,a,m);te<de;){for(lc(o,te,de),te++,de--;_(o[te],J)<0;)te++;for(;_(o[de],J)>0;)de--}0===_(o[a],J)?lc(o,a,de):lc(o,++de,m),de<=t&&(a=de+1),t<=de&&(m=de-1)}}function lc(o,t,a){var m=o[t];o[t]=o[a],o[a]=m}function og(o,t){return o<t?-1:o>t?1:0}function lp(o,t){const a=o.length;if(a<=1)return[o];const m=[];let _,D;for(let S=0;S<a;S++){const P=Li(o[S]);0!==P&&(o[S].area=Math.abs(P),void 0===D&&(D=P<0),D===P<0?(_&&m.push(_),_=[o[S]]):_.push(o[S]))}if(_&&m.push(_),t>1)for(let S=0;S<m.length;S++)m[S].length<=t||(rg(m[S],t,1,m[S].length-1,cp),m[S]=m[S].slice(0,t));return m}function cp(o,t){return t.area-o.area}function nm(o,t,a){const m=a.patternDependencies;let _=!1;for(const D of t){const S=D.paint.get(`${o}-pattern`);S.isConstant()||(_=!0);const P=S.constantOr(null);P&&(_=!0,m[P.to]=!0,m[P.from]=!0)}return _}function dp(o,t,a,m,_){const D=_.patternDependencies;for(const S of t){const P=S.paint.get(`${o}-pattern`).value;if("constant"!==P.kind){let N=P.evaluate({zoom:m-1},a,{},_.availableImages),G=P.evaluate({zoom:m},a,{},_.availableImages),J=P.evaluate({zoom:m+1},a,{},_.availableImages);N=N&&N.name?N.name:N,G=G&&G.name?G.name:G,J=J&&J.name?J.name:J,D[N]=!0,D[G]=!0,D[J]=!0,a.patterns[S.id]={min:N,mid:G,max:J}}}return a}class rm{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new pi,this.indexArray=new Dr,this.indexArray2=new io,this.programConfigurations=new Xc(t.layers,t.zoom),this.segments=new kr,this.segments2=new kr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.hasPattern=nm("fill",this.layers,a);const _=this.layers[0].layout.get("fill-sort-key"),D=!_.isConstant(),S=[];for(const{feature:P,id:N,index:G,sourceLayerIndex:J}of t){const te=this.layers[0]._featureFilter.needGeometry,de=Oc(P,te);if(!this.layers[0]._featureFilter.filter(new Rr(this.zoom),de,m))continue;const ge=D?_.evaluate(de,{},m,a.availableImages):void 0,we={id:N,properties:P.properties,type:P.type,sourceLayerIndex:J,index:G,geometry:te?de.geometry:Jc(P),patterns:{},sortKey:ge};S.push(we)}D&&S.sort((P,N)=>P.sortKey-N.sortKey);for(const P of S){const{geometry:N,index:G,sourceLayerIndex:J}=P;if(this.hasPattern){const te=dp("fill",this.layers,P,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(P,N,G,m,{});a.featureIndex.insert(t[G].feature,N,G,J,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}addFeatures(t,a,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vu),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,a,m,_,D){for(const S of lp(a,500)){let P=0;for(const ge of S)P+=ge.length;const N=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),G=N.vertexLength,J=[],te=[];for(const ge of S){if(0===ge.length)continue;ge!==S[0]&&te.push(J.length/2);const we=this.segments2.prepareSegment(ge.length,this.layoutVertexArray,this.indexArray2),Oe=we.vertexLength;this.layoutVertexArray.emplaceBack(ge[0].x,ge[0].y),this.indexArray2.emplaceBack(Oe+ge.length-1,Oe),J.push(ge[0].x),J.push(ge[0].y);for(let Xe=1;Xe<ge.length;Xe++)this.layoutVertexArray.emplaceBack(ge[Xe].x,ge[Xe].y),this.indexArray2.emplaceBack(Oe+Xe-1,Oe+Xe),J.push(ge[Xe].x),J.push(ge[Xe].y);we.vertexLength+=ge.length,we.primitiveLength+=ge.length}const de=Ld(J,te);for(let ge=0;ge<de.length;ge+=3)this.indexArray.emplaceBack(G+de[ge],G+de[ge+1],G+de[ge+2]);N.vertexLength+=P,N.primitiveLength+=de.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,_)}}let up,hp;Me("FillBucket",rm,{omit:["layers","patternFeatures"]});var Gu={get paint(){return hp=hp||new go({"fill-antialias":new en(_t.paint_fill["fill-antialias"]),"fill-opacity":new di(_t.paint_fill["fill-opacity"]),"fill-color":new di(_t.paint_fill["fill-color"]),"fill-outline-color":new di(_t.paint_fill["fill-outline-color"]),"fill-translate":new en(_t.paint_fill["fill-translate"]),"fill-translate-anchor":new en(_t.paint_fill["fill-translate-anchor"]),"fill-pattern":new Rl(_t.paint_fill["fill-pattern"])})},get layout(){return up=up||new go({"fill-sort-key":new di(_t.layout_fill["fill-sort-key"])})}};class mp extends Qo{constructor(t){super(t,Gu)}recalculate(t,a){super.recalculate(t,a);const m=this.paint._values["fill-outline-color"];"constant"===m.value.kind&&void 0===m.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new rm(t)}queryRadius(){return Id(this.paint.get("fill-translate"))}queryIntersectsFeature(t,a,m,_,D,S,P){return lu(du(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,P),_)}isTileClipped(){return!0}}const sg=Br([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),pp=Br([{name:"a_centroid",components:2,type:"Int16"}],4),{members:ry}=sg;var cc={},oy=Ke,rd=od;function od(o,t,a,m,_){this.properties={},this.extent=a,this.type=0,this._pbf=o,this._geometry=-1,this._keys=m,this._values=_,o.readFields(om,this,t)}function om(o,t,a){1==o?t.id=a.readVarint():2==o?function(m,_){for(var D=m.readVarint()+m.pos;m.pos<D;){var S=_._keys[m.readVarint()],P=_._values[m.readVarint()];_.properties[S]=P}}(a,t):3==o?t.type=a.readVarint():4==o&&(t._geometry=a.pos)}function sy(o){for(var t,a,m=0,_=0,D=o.length,S=D-1;_<D;S=_++)m+=((a=o[S]).x-(t=o[_]).x)*(t.y+a.y);return m}od.types=["Unknown","Point","LineString","Polygon"],od.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var t,a=o.readVarint()+o.pos,m=1,_=0,D=0,S=0,P=[];o.pos<a;){if(_<=0){var N=o.readVarint();m=7&N,_=N>>3}if(_--,1===m||2===m)D+=o.readSVarint(),S+=o.readSVarint(),1===m&&(t&&P.push(t),t=[]),t.push(new oy(D,S));else{if(7!==m)throw new Error("unknown command "+m);t&&t.push(t[0].clone())}}return t&&P.push(t),P},od.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var t=o.readVarint()+o.pos,a=1,m=0,_=0,D=0,S=1/0,P=-1/0,N=1/0,G=-1/0;o.pos<t;){if(m<=0){var J=o.readVarint();a=7&J,m=J>>3}if(m--,1===a||2===a)(_+=o.readSVarint())<S&&(S=_),_>P&&(P=_),(D+=o.readSVarint())<N&&(N=D),D>G&&(G=D);else if(7!==a)throw new Error("unknown command "+a)}return[S,N,P,G]},od.prototype.toGeoJSON=function(o,t,a){var m,_,D=this.extent*Math.pow(2,a),S=this.extent*o,P=this.extent*t,N=this.loadGeometry(),G=od.types[this.type];function J(ge){for(var we=0;we<ge.length;we++){var Oe=ge[we];ge[we]=[360*(Oe.x+S)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(Oe.y+P)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(m=0;m<N.length;m++)te[m]=N[m][0];J(N=te);break;case 2:for(m=0;m<N.length;m++)J(N[m]);break;case 3:for(N=function(ge){var we=ge.length;if(we<=1)return[ge];for(var Oe,Xe,et=[],yt=0;yt<we;yt++){var ct=sy(ge[yt]);0!==ct&&(void 0===Xe&&(Xe=ct<0),Xe===ct<0?(Oe&&et.push(Oe),Oe=[ge[yt]]):Oe.push(ge[yt]))}return Oe&&et.push(Oe),et}(N),m=0;m<N.length;m++)for(_=0;_<N[m].length;_++)J(N[m][_])}1===N.length?N=N[0]:G="Multi"+G;var de={type:"Feature",geometry:{type:G,coordinates:N},properties:this.properties};return"id"in this&&(de.id=this.id),de};var ay=rd,Zu=ag;function ag(o,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(sm,this,t),this.length=this._features.length}function sm(o,t,a){15===o?t.version=a.readVarint():1===o?t.name=a.readString():5===o?t.extent=a.readVarint():2===o?t._features.push(a.pos):3===o?t._keys.push(a.readString()):4===o&&t._values.push(function(m){for(var _=null,D=m.readVarint()+m.pos;m.pos<D;){var S=m.readVarint()>>3;_=1===S?m.readString():2===S?m.readFloat():3===S?m.readDouble():4===S?m.readVarint64():5===S?m.readVarint():6===S?m.readSVarint():7===S?m.readBoolean():null}return _}(a))}ag.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var t=this._pbf.readVarint()+this._pbf.pos;return new ay(this._pbf,t,this.extent,this._keys,this._values)};var ly=Zu;function cy(o,t,a){if(3===o){var m=new ly(a,a.readVarint()+a.pos);m.length&&(t[m.name]=m)}}cc.VectorTile=function(o,t){this.layers=o.readFields(cy,{},t)},cc.VectorTileFeature=rd,cc.VectorTileLayer=Zu;const dy=cc.VectorTileFeature.types,am=Math.pow(2,13);function Lc(o,t,a,m,_,D,S,P){o.emplaceBack(t,a,2*Math.floor(m*am)+S,_*am*2,D*am*2,Math.round(P))}class Nd{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new rn,this.centroidVertexArray=new Bi,this.indexArray=new Dr,this.programConfigurations=new Xc(t.layers,t.zoom),this.segments=new kr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.features=[],this.hasPattern=nm("fill-extrusion",this.layers,a);for(const{feature:_,id:D,index:S,sourceLayerIndex:P}of t){const N=this.layers[0]._featureFilter.needGeometry,G=Oc(_,N);if(!this.layers[0]._featureFilter.filter(new Rr(this.zoom),G,m))continue;const J={id:D,sourceLayerIndex:P,index:S,geometry:N?G.geometry:Jc(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(dp("fill-extrusion",this.layers,J,this.zoom,a)):this.addFeature(J,J.geometry,S,m,{}),a.featureIndex.insert(_,J.geometry,S,P,this.index,!0)}}addFeatures(t,a,m){for(const _ of this.features){const{geometry:D}=_;this.addFeature(_,D,_.index,a,m)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ry),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,pp.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,a,m,_,D){const S={x:0,y:0,vertexCount:0};for(const P of lp(a,500)){let N=0;for(const we of P)N+=we.length;let G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const we of P){if(0===we.length||((o=we).every(t=>t.x<0)||o.every(t=>t.x>Eo)||o.every(t=>t.y<0)||o.every(t=>t.y>Eo)))continue;let Oe=0;for(let Xe=0;Xe<we.length;Xe++){const et=we[Xe];if(Xe>=1){const yt=we[Xe-1];if(!fp(et,yt)){G.vertexLength+4>kr.MAX_VERTEX_ARRAY_LENGTH&&(G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ct=et.sub(yt)._perp()._unit(),bt=yt.dist(et);Oe+bt>32768&&(Oe=0),Lc(this.layoutVertexArray,et.x,et.y,ct.x,ct.y,0,0,Oe),Lc(this.layoutVertexArray,et.x,et.y,ct.x,ct.y,0,1,Oe),S.x+=2*et.x,S.y+=2*et.y,S.vertexCount+=2,Oe+=bt,Lc(this.layoutVertexArray,yt.x,yt.y,ct.x,ct.y,0,0,Oe),Lc(this.layoutVertexArray,yt.x,yt.y,ct.x,ct.y,0,1,Oe),S.x+=2*yt.x,S.y+=2*yt.y,S.vertexCount+=2;const Ot=G.vertexLength;this.indexArray.emplaceBack(Ot,Ot+2,Ot+1),this.indexArray.emplaceBack(Ot+1,Ot+2,Ot+3),G.vertexLength+=4,G.primitiveLength+=2}}}}if(G.vertexLength+N>kr.MAX_VERTEX_ARRAY_LENGTH&&(G=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),"Polygon"!==dy[t.type])continue;const J=[],te=[],de=G.vertexLength;for(const we of P)if(0!==we.length){we!==P[0]&&te.push(J.length/2);for(let Oe=0;Oe<we.length;Oe++){const Xe=we[Oe];Lc(this.layoutVertexArray,Xe.x,Xe.y,0,0,1,1,0),S.x+=Xe.x,S.y+=Xe.y,S.vertexCount+=1,J.push(Xe.x),J.push(Xe.y)}}const ge=Ld(J,te);for(let we=0;we<ge.length;we+=3)this.indexArray.emplaceBack(de+ge[we],de+ge[we+2],de+ge[we+1]);G.primitiveLength+=ge.length/3,G.vertexLength+=N}var o;for(let P=0;P<S.vertexCount;P++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,_)}}function fp(o,t){return o.x===t.x&&(o.x<0||o.x>Eo)||o.y===t.y&&(o.y<0||o.y>Eo)}let Nc;Me("FillExtrusionBucket",Nd,{omit:["layers","features"]});var dc={get paint(){return Nc=Nc||new go({"fill-extrusion-opacity":new en(_t["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new di(_t["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new en(_t["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new en(_t["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Rl(_t["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new di(_t["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new di(_t["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new en(_t["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class _p extends Qo{constructor(t){super(t,dc)}createBucket(t){return new Nd(t)}queryRadius(){return Id(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(t,a,m,_,D,S,P,N){const G=du(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,P),J=this.paint.get("fill-extrusion-height").evaluate(a,m),te=this.paint.get("fill-extrusion-base").evaluate(a,m),de=function(we,Oe,Xe,et){const yt=[];for(const ct of we){const bt=[ct.x,ct.y,0,1];Bu(bt,bt,Oe),yt.push(new ke(bt[0]/bt[3],bt[1]/bt[3]))}return yt}(G,N),ge=function(we,Oe,Xe,et){const yt=[],ct=[],bt=et[8]*Oe,Ot=et[9]*Oe,Yt=et[10]*Oe,ki=et[11]*Oe,Gi=et[8]*Xe,Ri=et[9]*Xe,Ii=et[10]*Xe,wi=et[11]*Xe;for(const Ui of we){const Si=[],hi=[];for(const sn of Ui){const Ji=sn.x,Ln=sn.y,Sr=et[0]*Ji+et[4]*Ln+et[12],Vr=et[1]*Ji+et[5]*Ln+et[13],Do=et[2]*Ji+et[6]*Ln+et[14],Qs=et[3]*Ji+et[7]*Ln+et[15],Ho=Do+Yt,_o=Qs+ki,$o=Sr+Gi,Ro=Vr+Ri,fs=Do+Ii,Go=Qs+wi,Mo=new ke((Sr+bt)/_o,(Vr+Ot)/_o);Mo.z=Ho/_o,Si.push(Mo);const ro=new ke($o/Go,Ro/Go);ro.z=fs/Go,hi.push(ro)}yt.push(Si),ct.push(hi)}return[yt,ct]}(_,te,J,N);return function(we,Oe,Xe){let et=1/0;lu(Xe,Oe)&&(et=hu(Xe,Oe[0]));for(let yt=0;yt<Oe.length;yt++){const ct=Oe[yt],bt=we[yt];for(let Ot=0;Ot<ct.length-1;Ot++){const Yt=ct[Ot],ki=[Yt,ct[Ot+1],bt[Ot+1],bt[Ot],Yt];Zr(Xe,ki)&&(et=Math.min(et,hu(Xe,ki)))}}return et!==1/0&&et}(ge[0],ge[1],de)}}function zd(o,t){return o.x*t.x+o.y*t.y}function hu(o,t){if(1===o.length){let a=0;const m=t[a++];let _;for(;!_||m.equals(_);)if(_=t[a++],!_)return 1/0;for(;a<t.length;a++){const D=t[a],S=o[0],P=_.sub(m),N=D.sub(m),G=S.sub(m),J=zd(P,P),te=zd(P,N),de=zd(N,N),ge=zd(G,P),we=zd(G,N),Oe=J*de-te*te,Xe=(de*ge-te*we)/Oe,et=(J*we-te*ge)/Oe,yt=m.z*(1-Xe-et)+_.z*Xe+D.z*et;if(isFinite(yt))return yt}return 1/0}{let a=1/0;for(const m of t)a=Math.min(a,m.z);return a}}const uc=Br([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:zc}=uc,lg=Br([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:cg}=lg,dg=cc.VectorTileFeature.types,yp=Math.cos(Math.PI/180*37.5),Wu=Math.pow(2,14)/.5;class Bd{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new Di,this.layoutVertexArray2=new Lr,this.indexArray=new Dr,this.programConfigurations=new Xc(t.layers,t.zoom),this.segments=new kr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.hasPattern=nm("line",this.layers,a);const _=this.layers[0].layout.get("line-sort-key"),D=!_.isConstant(),S=[];for(const{feature:P,id:N,index:G,sourceLayerIndex:J}of t){const te=this.layers[0]._featureFilter.needGeometry,de=Oc(P,te);if(!this.layers[0]._featureFilter.filter(new Rr(this.zoom),de,m))continue;const ge=D?_.evaluate(de,{},m):void 0,we={id:N,properties:P.properties,type:P.type,sourceLayerIndex:J,index:G,geometry:te?de.geometry:Jc(P),patterns:{},sortKey:ge};S.push(we)}D&&S.sort((P,N)=>P.sortKey-N.sortKey);for(const P of S){const{geometry:N,index:G,sourceLayerIndex:J}=P;if(this.hasPattern){const te=dp("line",this.layers,P,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(P,N,G,m,{});a.featureIndex.insert(t[G].feature,N,G,J,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}addFeatures(t,a,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,cg)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,zc),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,a,m,_,D){const S=this.layers[0].layout,P=S.get("line-join").evaluate(t,{}),N=S.get("line-cap"),G=S.get("line-miter-limit"),J=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const te of a)this.addLine(te,t,P,N,G,J);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,_)}addLine(t,a,m,_,D,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let et=0;et<t.length-1;et++)this.totalDistance+=t[et].dist(t[et+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P="Polygon"===dg[a.type];let N=t.length;for(;N>=2&&t[N-1].equals(t[N-2]);)N--;let G=0;for(;G<N-1&&t[G].equals(t[G+1]);)G++;if(N<(P?3:2))return;"bevel"===m&&(D=1.05);const J=this.overscaling<=16?15*Eo/(512*this.overscaling):0,te=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let de,ge,we,Oe,Xe;this.e1=this.e2=-1,P&&(de=t[N-2],Xe=t[G].sub(de)._unit()._perp());for(let et=G;et<N;et++){if(we=et===N-1?P?t[G+1]:void 0:t[et+1],we&&t[et].equals(we))continue;Xe&&(Oe=Xe),de&&(ge=de),de=t[et],Xe=we?we.sub(de)._unit()._perp():Oe,Oe=Oe||Xe;let yt=Oe.add(Xe);0===yt.x&&0===yt.y||yt._unit();const ct=Oe.x*Xe.x+Oe.y*Xe.y,bt=yt.x*Xe.x+yt.y*Xe.y,Ot=0!==bt?1/bt:1/0,Yt=2*Math.sqrt(2-2*bt),ki=bt<yp&&ge&&we,Gi=Oe.x*Xe.y-Oe.y*Xe.x>0;if(ki&&et>G){const wi=de.dist(ge);if(wi>2*J){const Ui=de.sub(de.sub(ge)._mult(J/wi)._round());this.updateDistance(ge,Ui),this.addCurrentVertex(Ui,Oe,0,0,te),ge=Ui}}const Ri=ge&&we;let Ii=Ri?m:P?"butt":_;if(Ri&&"round"===Ii&&(Ot<S?Ii="miter":Ot<=2&&(Ii="fakeround")),"miter"===Ii&&Ot>D&&(Ii="bevel"),"bevel"===Ii&&(Ot>2&&(Ii="flipbevel"),Ot<D&&(Ii="miter")),ge&&this.updateDistance(ge,de),"miter"===Ii)yt._mult(Ot),this.addCurrentVertex(de,yt,0,0,te);else if("flipbevel"===Ii){if(Ot>100)yt=Xe.mult(-1);else{const wi=Ot*Oe.add(Xe).mag()/Oe.sub(Xe).mag();yt._perp()._mult(wi*(Gi?-1:1))}this.addCurrentVertex(de,yt,0,0,te),this.addCurrentVertex(de,yt.mult(-1),0,0,te)}else if("bevel"===Ii||"fakeround"===Ii){const wi=-Math.sqrt(Ot*Ot-1),Ui=Gi?wi:0,Si=Gi?0:wi;if(ge&&this.addCurrentVertex(de,Oe,Ui,Si,te),"fakeround"===Ii){const hi=Math.round(180*Yt/Math.PI/20);for(let sn=1;sn<hi;sn++){let Ji=sn/hi;if(.5!==Ji){const Sr=Ji-.5;Ji+=Ji*Sr*(Ji-1)*((1.0904+ct*(ct*(3.55645-1.43519*ct)-3.2452))*Sr*Sr+(.848013+ct*(.215638*ct-1.06021)))}const Ln=Xe.sub(Oe)._mult(Ji)._add(Oe)._unit()._mult(Gi?-1:1);this.addHalfVertex(de,Ln.x,Ln.y,!1,Gi,0,te)}}we&&this.addCurrentVertex(de,Xe,-Ui,-Si,te)}else if("butt"===Ii)this.addCurrentVertex(de,yt,0,0,te);else if("square"===Ii){const wi=ge?1:-1;this.addCurrentVertex(de,yt,wi,wi,te)}else"round"===Ii&&(ge&&(this.addCurrentVertex(de,Oe,0,0,te),this.addCurrentVertex(de,Oe,1,1,te,!0)),we&&(this.addCurrentVertex(de,Xe,-1,-1,te,!0),this.addCurrentVertex(de,Xe,0,0,te)));if(ki&&et<N-1){const wi=de.dist(we);if(wi>2*J){const Ui=de.add(we.sub(de)._mult(J/wi)._round());this.updateDistance(de,Ui),this.addCurrentVertex(Ui,Xe,0,0,te),de=Ui}}}}addCurrentVertex(t,a,m,_,D,S=!1){const P=a.y*_-a.x,N=-a.y-a.x*_;this.addHalfVertex(t,a.x+a.y*m,a.y-a.x*m,S,!1,m,D),this.addHalfVertex(t,P,N,S,!0,-_,D),this.distance>Wu/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,a,m,_,D,S))}addHalfVertex({x:t,y:a},m,_,D,S,P,N){const G=.5*(this.lineClips?this.scaledDistance*(Wu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(D?1:0),(a<<1)+(S?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+(0===P?0:P<0?-1:1)|(63&G)<<2,G>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const J=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,J),N.primitiveLength++),S?this.e2=J:this.e1=J}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,a){this.distance+=t.dist(a),this.updateScaledDistance()}}let vp,bp;Me("LineBucket",Bd,{omit:["layers","patternFeatures"]});var lm={get paint(){return bp=bp||new go({"line-opacity":new di(_t.paint_line["line-opacity"]),"line-color":new di(_t.paint_line["line-color"]),"line-translate":new en(_t.paint_line["line-translate"]),"line-translate-anchor":new en(_t.paint_line["line-translate-anchor"]),"line-width":new di(_t.paint_line["line-width"]),"line-gap-width":new di(_t.paint_line["line-gap-width"]),"line-offset":new di(_t.paint_line["line-offset"]),"line-blur":new di(_t.paint_line["line-blur"]),"line-dasharray":new Mc(_t.paint_line["line-dasharray"]),"line-pattern":new Rl(_t.paint_line["line-pattern"]),"line-gradient":new qs(_t.paint_line["line-gradient"])})},get layout(){return vp=vp||new go({"line-cap":new en(_t.layout_line["line-cap"]),"line-join":new di(_t.layout_line["line-join"]),"line-miter-limit":new en(_t.layout_line["line-miter-limit"]),"line-round-limit":new en(_t.layout_line["line-round-limit"]),"line-sort-key":new di(_t.layout_line["line-sort-key"])})}};class ug extends di{possiblyEvaluate(t,a){return a=new Rr(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(t,a)}evaluate(t,a,m,_){return a=Fe({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(t,a,m,_)}}let qu;class Da extends Qo{constructor(t){super(t,lm),this.gradientVersion=0,qu||(qu=new ug(lm.paint.properties["line-width"].specification),qu.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const a=this.gradientExpression();this.stepInterpolant=!(void 0===a._styleExpression)&&a._styleExpression.expression instanceof Xi,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,a){super.recalculate(t,a),this.paint._values["line-floorwidth"]=qu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Bd(t)}queryRadius(t){const a=t,m=Yu(ed("line-width",this,a),ed("line-gap-width",this,a)),_=ed("line-offset",this,a);return m/2+Math.abs(_)+Id(this.paint.get("line-translate"))}queryIntersectsFeature(t,a,m,_,D,S,P){const N=du(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,P),G=P/2*Yu(this.paint.get("line-width").evaluate(a,m),this.paint.get("line-gap-width").evaluate(a,m)),J=this.paint.get("line-offset").evaluate(a,m);return J&&(_=function(te,de){const ge=[];for(let we=0;we<te.length;we++){const Oe=te[we],Xe=[];for(let et=0;et<Oe.length;et++){const yt=Oe[et-1],ct=Oe[et],bt=Oe[et+1],Ot=0===et?new ke(0,0):ct.sub(yt)._unit()._perp(),Yt=et===Oe.length-1?new ke(0,0):bt.sub(ct)._unit()._perp(),ki=Ot._add(Yt)._unit(),Gi=ki.x*Yt.x+ki.y*Yt.y;0!==Gi&&ki._mult(1/Gi),Xe.push(ki._mult(de)._add(ct))}ge.push(Xe)}return ge}(_,J*P)),function(te,de,ge){for(let we=0;we<de.length;we++){const Oe=de[we];if(te.length>=3)for(let Xe=0;Xe<Oe.length;Xe++)if(es(te,Oe[Xe]))return!0;if(Qc(te,Oe,ge))return!0}return!1}(N,_,G)}isTileClipped(){return!0}}function Yu(o,t){return t>0?t+2*o:o}const xp=Br([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ku=Br([{name:"a_projected_pos",components:3,type:"Float32"}],4);Br([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Js=Br([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Br([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const hc=Br([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wp=Br([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Cp(o,t,a){return o.sections.forEach(m=>{m.text=function(_,D,S){const P=D.layout.get("text-transform").evaluate(S,{});return"uppercase"===P?_=_.toLocaleUpperCase():"lowercase"===P&&(_=_.toLocaleLowerCase()),ir.applyArabicShaping&&(_=ir.applyArabicShaping(_)),_}(m.text,t,a)}),o}Br([{name:"triangle",components:3,type:"Uint16"}]),Br([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Br([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Br([{type:"Float32",name:"offsetX"}]),Br([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Br([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const mu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Oo=24,Ep=br,cm=function(o,t,a,m,_){var D,S,P=8*_-m-1,N=(1<<P)-1,G=N>>1,J=-7,te=a?_-1:0,de=a?-1:1,ge=o[t+te];for(te+=de,D=ge&(1<<-J)-1,ge>>=-J,J+=P;J>0;D=256*D+o[t+te],te+=de,J-=8);for(S=D&(1<<-J)-1,D>>=-J,J+=m;J>0;S=256*S+o[t+te],te+=de,J-=8);if(0===D)D=1-G;else{if(D===N)return S?NaN:1/0*(ge?-1:1);S+=Math.pow(2,m),D-=G}return(ge?-1:1)*S*Math.pow(2,D-m)},Dp=function(o,t,a,m,_,D){var S,P,N,G=8*D-_-1,J=(1<<G)-1,te=J>>1,de=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,ge=m?0:D-1,we=m?1:-1,Oe=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(P=isNaN(t)?1:0,S=J):(S=Math.floor(Math.log(t)/Math.LN2),t*(N=Math.pow(2,-S))<1&&(S--,N*=2),(t+=S+te>=1?de/N:de*Math.pow(2,1-te))*N>=2&&(S++,N/=2),S+te>=J?(P=0,S=J):S+te>=1?(P=(t*N-1)*Math.pow(2,_),S+=te):(P=t*Math.pow(2,te-1)*Math.pow(2,_),S=0));_>=8;o[a+ge]=255&P,ge+=we,P/=256,_-=8);for(S=S<<_|P,G+=_;G>0;o[a+ge]=255&S,ge+=we,S/=256,G-=8);o[a+ge-we]|=128*Oe};function br(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}br.Varint=0,br.Fixed64=1,br.Bytes=2,br.Fixed32=5;var dm=4294967296,Mp=1/dm,Xu=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function yl(o){return o.type===br.Bytes?o.readVarint()+o.pos:o.pos+1}function Ud(o,t,a){var m=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));a.realloc(m);for(var _=a.pos-1;_>=o;_--)a.buf[_+m]=a.buf[_]}function hg(o,t){for(var a=0;a<o.length;a++)t.writeVarint(o[a])}function mg(o,t){for(var a=0;a<o.length;a++)t.writeSVarint(o[a])}function Sp(o,t){for(var a=0;a<o.length;a++)t.writeFloat(o[a])}function um(o,t){for(var a=0;a<o.length;a++)t.writeDouble(o[a])}function Ju(o,t){for(var a=0;a<o.length;a++)t.writeBoolean(o[a])}function jd(o,t){for(var a=0;a<o.length;a++)t.writeFixed32(o[a])}function Qu(o,t){for(var a=0;a<o.length;a++)t.writeSFixed32(o[a])}function Tp(o,t){for(var a=0;a<o.length;a++)t.writeFixed64(o[a])}function eh(o,t){for(var a=0;a<o.length;a++)t.writeSFixed64(o[a])}function sd(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+16777216*o[t+3]}function ad(o,t,a){o[a]=t,o[a+1]=t>>>8,o[a+2]=t>>>16,o[a+3]=t>>>24}function Ip(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+(o[t+3]<<24)}br.prototype={destroy:function(){this.buf=null},readFields:function(o,t,a){for(a=a||this.length;this.pos<a;){var m=this.readVarint(),_=m>>3,D=this.pos;this.type=7&m,o(_,t,this),this.pos===D&&this.skip(m)}return t},readMessage:function(o,t){return this.readFields(o,t,this.readVarint()+this.pos)},readFixed32:function(){var o=sd(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Ip(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=sd(this.buf,this.pos)+sd(this.buf,this.pos+4)*dm;return this.pos+=8,o},readSFixed64:function(){var o=sd(this.buf,this.pos)+Ip(this.buf,this.pos+4)*dm;return this.pos+=8,o},readFloat:function(){var o=cm(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=cm(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var t,a,m=this.buf;return t=127&(a=m[this.pos++]),a<128?t:(t|=(127&(a=m[this.pos++]))<<7,a<128?t:(t|=(127&(a=m[this.pos++]))<<14,a<128?t:(t|=(127&(a=m[this.pos++]))<<21,a<128?t:function(_,D,S){var P,N,G=S.buf;if(P=(112&(N=G[S.pos++]))>>4,N<128||(P|=(127&(N=G[S.pos++]))<<3,N<128)||(P|=(127&(N=G[S.pos++]))<<10,N<128)||(P|=(127&(N=G[S.pos++]))<<17,N<128)||(P|=(127&(N=G[S.pos++]))<<24,N<128)||(P|=(1&(N=G[S.pos++]))<<31,N<128))return function Vd(o,t,a){return a?4294967296*t+(o>>>0):4294967296*(t>>>0)+(o>>>0)}(_,P,D);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(a=m[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,t=this.pos;return this.pos=o,o-t>=12&&Xu?Xu.decode(this.buf.subarray(t,o)):function(a,m,_){for(var D="",S=m;S<_;){var P,N,G,J=a[S],te=null,de=J>239?4:J>223?3:J>191?2:1;if(S+de>_)break;1===de?J<128&&(te=J):2===de?128==(192&(P=a[S+1]))&&(te=(31&J)<<6|63&P)<=127&&(te=null):3===de?(N=a[S+2],128==(192&(P=a[S+1]))&&128==(192&N)&&((te=(15&J)<<12|(63&P)<<6|63&N)<=2047||te>=55296&&te<=57343)&&(te=null)):4===de&&(N=a[S+2],G=a[S+3],128==(192&(P=a[S+1]))&&128==(192&N)&&128==(192&G)&&((te=(15&J)<<18|(63&P)<<12|(63&N)<<6|63&G)<=65535||te>=1114112)&&(te=null)),null===te?(te=65533,de=1):te>65535&&(te-=65536,D+=String.fromCharCode(te>>>10&1023|55296),te=56320|1023&te),D+=String.fromCharCode(te),S+=de}return D}(this.buf,t,o)},readBytes:function(){var o=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,o);return this.pos=o,t},readPackedVarint:function(o,t){if(this.type!==br.Bytes)return o.push(this.readVarint(t));var a=yl(this);for(o=o||[];this.pos<a;)o.push(this.readVarint(t));return o},readPackedSVarint:function(o){if(this.type!==br.Bytes)return o.push(this.readSVarint());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==br.Bytes)return o.push(this.readBoolean());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==br.Bytes)return o.push(this.readFloat());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==br.Bytes)return o.push(this.readDouble());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==br.Bytes)return o.push(this.readFixed32());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==br.Bytes)return o.push(this.readSFixed32());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==br.Bytes)return o.push(this.readFixed64());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==br.Bytes)return o.push(this.readSFixed64());var t=yl(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed64());return o},skip:function(o){var t=7&o;if(t===br.Varint)for(;this.buf[this.pos++]>127;);else if(t===br.Bytes)this.pos=this.readVarint()+this.pos;else if(t===br.Fixed32)this.pos+=4;else{if(t!==br.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(o,t){this.writeVarint(o<<3|t)},realloc:function(o){for(var t=this.length||16;t<this.pos+o;)t*=2;if(t!==this.length){var a=new Uint8Array(t);a.set(this.buf),this.buf=a,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),ad(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),ad(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),ad(this.buf,-1&o,this.pos),ad(this.buf,Math.floor(o*Mp),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),ad(this.buf,-1&o,this.pos),ad(this.buf,Math.floor(o*Mp),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(t,a){var m,_,D,P;if(t>=0?(m=t%4294967296|0,_=t/4294967296|0):(_=~(-t/4294967296),4294967295^(m=~(-t%4294967296))?m=m+1|0:(m=0,_=_+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),D=m,(P=a).buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,D>>>=7,P.buf[P.pos++]=127&D|128,P.buf[P.pos]=127&(D>>>=7),function(D,S){var P=(7&D)<<4;S.buf[S.pos++]|=P|((D>>>=3)?128:0),D&&(S.buf[S.pos++]=127&D|((D>>>=7)?128:0),D&&(S.buf[S.pos++]=127&D|((D>>>=7)?128:0),D&&(S.buf[S.pos++]=127&D|((D>>>=7)?128:0),D&&(S.buf[S.pos++]=127&D|((D>>>=7)?128:0),D&&(S.buf[S.pos++]=127&D)))))}(_,a)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var t=this.pos;this.pos=function(m,_,D){for(var S,P,N=0;N<_.length;N++){if((S=_.charCodeAt(N))>55295&&S<57344){if(!P){S>56319||N+1===_.length?(m[D++]=239,m[D++]=191,m[D++]=189):P=S;continue}if(S<56320){m[D++]=239,m[D++]=191,m[D++]=189,P=S;continue}S=P-55296<<10|S-56320|65536,P=null}else P&&(m[D++]=239,m[D++]=191,m[D++]=189,P=null);S<128?m[D++]=S:(S<2048?m[D++]=S>>6|192:(S<65536?m[D++]=S>>12|224:(m[D++]=S>>18|240,m[D++]=S>>12&63|128),m[D++]=S>>6&63|128),m[D++]=63&S|128)}return D}(this.buf,o,this.pos);var a=this.pos-t;a>=128&&Ud(t,a,this),this.pos=t-1,this.writeVarint(a),this.pos+=a},writeFloat:function(o){this.realloc(4),Dp(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Dp(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var t=o.length;this.writeVarint(t),this.realloc(t);for(var a=0;a<t;a++)this.buf[this.pos++]=o[a]},writeRawMessage:function(o,t){this.pos++;var a=this.pos;o(t,this);var m=this.pos-a;m>=128&&Ud(a,m,this),this.pos=a-1,this.writeVarint(m),this.pos+=m},writeMessage:function(o,t,a){this.writeTag(o,br.Bytes),this.writeRawMessage(t,a)},writePackedVarint:function(o,t){t.length&&this.writeMessage(o,hg,t)},writePackedSVarint:function(o,t){t.length&&this.writeMessage(o,mg,t)},writePackedBoolean:function(o,t){t.length&&this.writeMessage(o,Ju,t)},writePackedFloat:function(o,t){t.length&&this.writeMessage(o,Sp,t)},writePackedDouble:function(o,t){t.length&&this.writeMessage(o,um,t)},writePackedFixed32:function(o,t){t.length&&this.writeMessage(o,jd,t)},writePackedSFixed32:function(o,t){t.length&&this.writeMessage(o,Qu,t)},writePackedFixed64:function(o,t){t.length&&this.writeMessage(o,Tp,t)},writePackedSFixed64:function(o,t){t.length&&this.writeMessage(o,eh,t)},writeBytesField:function(o,t){this.writeTag(o,br.Bytes),this.writeBytes(t)},writeFixed32Field:function(o,t){this.writeTag(o,br.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(o,t){this.writeTag(o,br.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(o,t){this.writeTag(o,br.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(o,t){this.writeTag(o,br.Fixed64),this.writeSFixed64(t)},writeVarintField:function(o,t){this.writeTag(o,br.Varint),this.writeVarint(t)},writeSVarintField:function(o,t){this.writeTag(o,br.Varint),this.writeSVarint(t)},writeStringField:function(o,t){this.writeTag(o,br.Bytes),this.writeString(t)},writeFloatField:function(o,t){this.writeTag(o,br.Fixed32),this.writeFloat(t)},writeDoubleField:function(o,t){this.writeTag(o,br.Fixed64),this.writeDouble(t)},writeBooleanField:function(o,t){this.writeVarintField(o,!!t)}};var hm=ae(Ep);const mm=3;function Ap(o,t,a){1===o&&a.readMessage(pg,t)}function pg(o,t,a){if(3===o){const{id:m,bitmap:_,width:D,height:S,left:P,top:N,advance:G}=a.readMessage(kp,{});t.push({id:m,bitmap:new sc({width:D+2*mm,height:S+2*mm},_),metrics:{width:D,height:S,left:P,top:N,advance:G}})}}function kp(o,t,a){1===o?t.id=a.readVarint():2===o?t.bitmap=a.readBytes():3===o?t.width=a.readVarint():4===o?t.height=a.readVarint():5===o?t.left=a.readSVarint():6===o?t.top=a.readSVarint():7===o&&(t.advance=a.readVarint())}const Hd=mm;function th(o){let t=0,a=0;for(const S of o)t+=S.w*S.h,a=Math.max(a,S.w);o.sort((S,P)=>P.h-S.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),a),h:1/0}];let _=0,D=0;for(const S of o)for(let P=m.length-1;P>=0;P--){const N=m[P];if(!(S.w>N.w||S.h>N.h)){if(S.x=N.x,S.y=N.y,D=Math.max(D,S.y+S.h),_=Math.max(_,S.x+S.w),S.w===N.w&&S.h===N.h){const G=m.pop();P<m.length&&(m[P]=G)}else S.h===N.h?(N.x+=S.w,N.w-=S.w):S.w===N.w?(N.y+=S.h,N.h-=S.h):(m.push({x:N.x+S.w,y:N.y,w:N.w-S.w,h:S.h}),N.y+=S.h,N.h-=S.h);break}}return{w:_,h:D,fill:t/(_*D)||0}}const ps=1;class pm{constructor(t,{pixelRatio:a,version:m,stretchX:_,stretchY:D,content:S}){this.paddedRect=t,this.pixelRatio=a,this.stretchX=_,this.stretchY=D,this.content=S,this.version=m}get tl(){return[this.paddedRect.x+ps,this.paddedRect.y+ps]}get br(){return[this.paddedRect.x+this.paddedRect.w-ps,this.paddedRect.y+this.paddedRect.h-ps]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ps)/this.pixelRatio,(this.paddedRect.h-2*ps)/this.pixelRatio]}}class ih{constructor(t,a){const m={},_={};this.haveRenderCallbacks=[];const D=[];this.addImages(t,m,D),this.addImages(a,_,D);const{w:S,h:P}=th(D),N=new Mr({width:S||1,height:P||1});for(const G in t){const J=t[G],te=m[G].paddedRect;Mr.copy(J.data,N,{x:0,y:0},{x:te.x+ps,y:te.y+ps},J.data)}for(const G in a){const J=a[G],te=_[G].paddedRect,de=te.x+ps,ge=te.y+ps,we=J.data.width,Oe=J.data.height;Mr.copy(J.data,N,{x:0,y:0},{x:de,y:ge},J.data),Mr.copy(J.data,N,{x:0,y:Oe-1},{x:de,y:ge-1},{width:we,height:1}),Mr.copy(J.data,N,{x:0,y:0},{x:de,y:ge+Oe},{width:we,height:1}),Mr.copy(J.data,N,{x:we-1,y:0},{x:de-1,y:ge},{width:1,height:Oe}),Mr.copy(J.data,N,{x:0,y:0},{x:de+we,y:ge},{width:1,height:Oe})}this.image=N,this.iconPositions=m,this.patternPositions=_}addImages(t,a,m){for(const _ in t){const D=t[_],S={x:0,y:0,w:D.data.width+2*ps,h:D.data.height+2*ps};m.push(S),a[_]=new pm(S,D),D.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(t,a){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in t.updatedImages)this.patchUpdatedImage(this.iconPositions[m],t.getImage(m),a),this.patchUpdatedImage(this.patternPositions[m],t.getImage(m),a)}patchUpdatedImage(t,a,m){if(!t||!a||t.version===a.version)return;t.version=a.version;const[_,D]=t.tl;m.update(a.data,void 0,{x:_,y:D})}}var Nl;Me("ImagePosition",pm),Me("ImageAtlas",ih),g.WritingMode=void 0,(Nl=g.WritingMode||(g.WritingMode={}))[Nl.none=0]="none",Nl[Nl.horizontal=1]="horizontal",Nl[Nl.vertical=2]="vertical",Nl[Nl.horizontalOnly=3]="horizontalOnly";const $d=-17;class vl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,a){const m=new vl;return m.scale=t||1,m.fontStack=a,m}static forImage(t){const a=new vl;return a.imageName=t,a}}class ld{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,a){const m=new ld;for(let _=0;_<t.sections.length;_++){const D=t.sections[_];D.image?m.addImageSection(D):m.addTextSection(D,a)}return m}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let a="";for(let m=0;m<t.length;m++){const _=t.charCodeAt(m+1)||null,D=t.charCodeAt(m-1)||null;a+=_&&qr(_)&&!mu[t[m+1]]||D&&qr(D)&&!mu[t[m-1]]||!mu[t[m]]?t[m]:mu[t[m]]}return a}(this.text)}trim(){let t=0;for(let m=0;m<this.text.length&&nh[this.text.charCodeAt(m)];m++)t++;let a=this.text.length;for(let m=this.text.length-1;m>=0&&m>=t&&nh[this.text.charCodeAt(m)];m--)a--;this.text=this.text.substring(t,a),this.sectionIndex=this.sectionIndex.slice(t,a)}substring(t,a){const m=new ld;return m.text=this.text.substring(t,a),m.sectionIndex=this.sectionIndex.slice(t,a),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,a)=>Math.max(t,this.sections[a].scale),0)}addTextSection(t,a){this.text+=t.text,this.sections.push(vl.forText(t.scale,t.fontStack||a));const m=this.sections.length-1;for(let _=0;_<t.text.length;++_)this.sectionIndex.push(m)}addImageSection(t){const a=t.image?t.image.name:"";if(0===a.length)return void fi("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(vl.forImage(a)),this.sectionIndex.push(this.sections.length-1)):fi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function pu(o,t,a,m,_,D,S,P,N,G,J,te,de,ge,we,Oe){const Xe=ld.fromFeature(o,_);let et;te===g.WritingMode.vertical&&Xe.verticalizePunctuation();const{processBidirectionalText:yt,processStyledBidirectionalText:ct}=ir;if(yt&&1===Xe.sections.length){et=[];const Yt=yt(Xe.toString(),cd(Xe,G,D,t,m,ge,we));for(const ki of Yt){const Gi=new ld;Gi.text=ki,Gi.sections=Xe.sections;for(let Ri=0;Ri<ki.length;Ri++)Gi.sectionIndex.push(0);et.push(Gi)}}else if(ct){et=[];const Yt=ct(Xe.text,Xe.sectionIndex,cd(Xe,G,D,t,m,ge,we));for(const ki of Yt){const Gi=new ld;Gi.text=ki[0],Gi.sectionIndex=ki[1],Gi.sections=Xe.sections,et.push(Gi)}}else et=function(Yt,ki){const Gi=[],Ri=Yt.text;let Ii=0;for(const wi of ki)Gi.push(Yt.substring(Ii,wi)),Ii=wi;return Ii<Ri.length&&Gi.push(Yt.substring(Ii,Ri.length)),Gi}(Xe,cd(Xe,G,D,t,m,ge,we));const bt=[],Ot={positionedLines:bt,text:Xe.toString(),top:J[1],bottom:J[1],left:J[0],right:J[0],writingMode:te,iconsInText:!1,verticalizable:!1};return function(Yt,ki,Gi,Ri,Ii,wi,Ui,Si,hi,sn,Ji,Ln){let Sr=0,Vr=$d,Do=0,Qs=0;const Ho="right"===Si?1:"left"===Si?0:.5;let _o=0;for(const Mo of Ii){Mo.trim();const ro=Mo.getMaxScale(),ts=(ro-1)*Oo,ma={positionedGlyphs:[],lineOffset:0};Yt.positionedLines[_o]=ma;const gs=ma.positionedGlyphs;let _s=0;if(!Mo.length()){Vr+=wi,++_o;continue}for(let So=0;So<Mo.length();So++){const Un=Mo.getSection(So),Bs=Mo.getSectionIndex(So),is=Mo.getCharCode(So);let Fo=0,il=null,bl=null,Vl=null,fc=Oo;const fa=!(hi===g.WritingMode.horizontal||!Ji&&!tr(is)||Ji&&(nh[is]||($o=is,li.Arabic($o)||li["Arabic Supplement"]($o)||li["Arabic Extended-A"]($o)||li["Arabic Presentation Forms-A"]($o)||li["Arabic Presentation Forms-B"]($o))));if(Un.imageName){const ga=Ri[Un.imageName];if(!ga)continue;Vl=Un.imageName,Yt.iconsInText=Yt.iconsInText||!0,bl=ga.paddedRect;const _a=ga.displaySize;Un.scale=Un.scale*Oo/Ln,il={width:_a[0],height:_a[1],left:ps,top:-Hd,advance:fa?_a[1]:_a[0]},Fo=ts+(Oo-_a[1]*Un.scale),fc=il.advance;const Ul=fa?_a[0]*Un.scale-Oo*ro:_a[1]*Un.scale-Oo*ro;Ul>0&&Ul>_s&&(_s=Ul)}else{const ga=Gi[Un.fontStack],_a=ga&&ga[is];if(_a&&_a.rect)bl=_a.rect,il=_a.metrics;else{const Ul=ki[Un.fontStack],_d=Ul&&Ul[is];if(!_d)continue;il=_d.metrics}Fo=(ro-Un.scale)*Oo}fa?(Yt.verticalizable=!0,gs.push({glyph:is,imageName:Vl,x:Sr,y:Vr+Fo,vertical:fa,scale:Un.scale,fontStack:Un.fontStack,sectionIndex:Bs,metrics:il,rect:bl}),Sr+=fc*Un.scale+sn):(gs.push({glyph:is,imageName:Vl,x:Sr,y:Vr+Fo,vertical:fa,scale:Un.scale,fontStack:Un.fontStack,sectionIndex:Bs,metrics:il,rect:bl}),Sr+=il.advance*Un.scale+sn)}0!==gs.length&&(Do=Math.max(Sr-sn,Do),oh(gs,0,gs.length-1,Ho,_s)),Sr=0;const pa=wi*ro+_s;ma.lineOffset=Math.max(_s,ts),Vr+=pa,Qs=Math.max(pa,Qs),++_o}var $o;const Ro=Vr-$d,{horizontalAlign:fs,verticalAlign:Go}=_u(Ui);(function(Mo,ro,ts,ma,gs,_s,pa,So,Un){const Bs=(ro-ts)*gs;let is=0;is=_s!==pa?-So*ma-$d:(-ma*Un+.5)*pa;for(const Fo of Mo)for(const il of Fo.positionedGlyphs)il.x+=Bs,il.y+=is})(Yt.positionedLines,Ho,fs,Go,Do,Qs,wi,Ro,Ii.length),Yt.top+=-Go*Ro,Yt.bottom=Yt.top+Ro,Yt.left+=-fs*Do,Yt.right=Yt.left+Do}(Ot,t,a,m,et,S,P,N,te,G,de,Oe),!function(Yt){for(const ki of Yt)if(0!==ki.positionedGlyphs.length)return!1;return!0}(bt)&&Ot}const nh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Pp={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function fu(o,t,a,m,_,D){if(t.imageName){const S=m[t.imageName];return S?S.displaySize[0]*t.scale*Oo/D+_:0}{const S=a[t.fontStack],P=S&&S[o];return P?P.metrics.advance*t.scale+_:0}}function rh(o,t,a,m){const _=Math.pow(o-t,2);return m?o<t?_/2:2*_:_+Math.abs(a)*a}function Op(o,t,a){let m=0;return 10===o&&(m-=1e4),a&&(m+=150),40!==o&&65288!==o||(m+=50),41!==t&&65289!==t||(m+=50),m}function gu(o,t,a,m,_,D){let S=null,P=rh(t,a,_,D);for(const N of m){const G=rh(t-N.x,a,_,D)+N.badness;G<=P&&(S=N,P=G)}return{index:o,x:t,priorBreak:S,badness:P}}function fm(o){return o?fm(o.priorBreak).concat(o.index):[]}function cd(o,t,a,m,_,D,S){if("point"!==D)return[];if(!o)return[];const P=[],N=function(de,ge,we,Oe,Xe,et){let yt=0;for(let ct=0;ct<de.length();ct++){const bt=de.getSection(ct);yt+=fu(de.getCharCode(ct),bt,Oe,Xe,ge,et)}return yt/Math.max(1,Math.ceil(yt/we))}(o,t,a,m,_,S),G=o.text.indexOf("\u200b")>=0;let J=0;for(let de=0;de<o.length();de++){const ge=o.getSection(de),we=o.getCharCode(de);if(nh[we]||(J+=fu(we,ge,m,_,t,S)),de<o.length()-1){const Oe=!((te=we)<11904||!(li["Bopomofo Extended"](te)||li.Bopomofo(te)||li["CJK Compatibility Forms"](te)||li["CJK Compatibility Ideographs"](te)||li["CJK Compatibility"](te)||li["CJK Radicals Supplement"](te)||li["CJK Strokes"](te)||li["CJK Symbols and Punctuation"](te)||li["CJK Unified Ideographs Extension A"](te)||li["CJK Unified Ideographs"](te)||li["Enclosed CJK Letters and Months"](te)||li["Halfwidth and Fullwidth Forms"](te)||li.Hiragana(te)||li["Ideographic Description Characters"](te)||li["Kangxi Radicals"](te)||li["Katakana Phonetic Extensions"](te)||li.Katakana(te)||li["Vertical Forms"](te)||li["Yi Radicals"](te)||li["Yi Syllables"](te)));(Pp[we]||Oe||ge.imageName)&&P.push(gu(de+1,J,N,P,Op(we,o.getCharCode(de+1),Oe&&G),!1))}}var te;return fm(gu(o.length(),J,N,P,0,!0))}function _u(o){let t=.5,a=.5;switch(o){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:t,verticalAlign:a}}function oh(o,t,a,m,_){if(!m&&!_)return;const D=o[a],S=(o[a].x+D.metrics.advance*D.scale)*m;for(let P=t;P<=a;P++)o[P].x-=S,o[P].y+=_}function Gd(o,t,a){const{horizontalAlign:m,verticalAlign:_}=_u(a),D=t[0]-o.displaySize[0]*m,S=t[1]-o.displaySize[1]*_;return{image:o,top:S,bottom:S+o.displaySize[1],left:D,right:D+o.displaySize[0]}}function sh(o,t,a,m,_,D){const S=o.image;let P;if(S.content){const Xe=S.content,et=S.pixelRatio||1;P=[Xe[0]/et,Xe[1]/et,S.displaySize[0]-Xe[2]/et,S.displaySize[1]-Xe[3]/et]}const N=t.left*D,G=t.right*D;let J,te,de,ge;"width"===a||"both"===a?(ge=_[0]+N-m[3],te=_[0]+G+m[1]):(ge=_[0]+(N+G-S.displaySize[0])/2,te=ge+S.displaySize[0]);const we=t.top*D,Oe=t.bottom*D;return"height"===a||"both"===a?(J=_[1]+we-m[0],de=_[1]+Oe+m[2]):(J=_[1]+(we+Oe-S.displaySize[1])/2,de=J+S.displaySize[1]),{image:S,top:J,right:te,bottom:de,left:ge,collisionPadding:P}}const Bc=255,Ma=128,mc=Bc*Ma;function ah(o,t){const{expression:a}=t;if("constant"===a.kind)return{kind:"constant",layoutSize:a.evaluate(new Rr(o+1))};if("source"===a.kind)return{kind:"source"};{const{zoomStops:m,interpolationType:_}=a;let D=0;for(;D<m.length&&m[D]<=o;)D++;D=Math.max(0,D-1);let S=D;for(;S<m.length&&m[S]<o+1;)S++;S=Math.min(m.length-1,S);const P=m[D],N=m[S];return"composite"===a.kind?{kind:"composite",minZoom:P,maxZoom:N,interpolationType:_}:{kind:"camera",minZoom:P,maxZoom:N,minSize:a.evaluate(new Rr(P)),maxSize:a.evaluate(new Rr(N)),interpolationType:_}}}function dd(o,t,a){let m="never";const _=o.get(t);return _?m=_:o.get(a)&&(m="always"),m}const fg=cc.VectorTileFeature.types,Rp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function zl(o,t,a,m,_,D,S,P,N,G,J,te,de){const ge=P?Math.min(mc,Math.round(P[0])):0,we=P?Math.min(mc,Math.round(P[1])):0;o.emplaceBack(t,a,Math.round(32*m),Math.round(32*_),D,S,(ge<<1)+(N?1:0),we,16*G,16*J,256*te,256*de)}function ud(o,t,a){o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a)}function gg(o){for(const t of o.sections)if(da(t.text))return!0;return!1}class yu{constructor(t){this.layoutVertexArray=new En,this.indexArray=new Dr,this.programConfigurations=t,this.segments=new kr,this.dynamicLayoutVertexArray=new Vn,this.opacityVertexArray=new to,this.hasVisibleVertices=!1,this.placedSymbolArray=new Se}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,a,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,xp.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Ku.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Rp,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Me("SymbolBuffers",yu);class vu{constructor(t,a,m){this.layoutVertexArray=new t,this.layoutAttributes=a,this.indexArray=new m,this.segments=new kr,this.collisionVertexArray=new Gr}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Js.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Me("CollisionBuffers",vu);class el{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(S=>S.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=zu([]),this.placementViewportMatrix=zu([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ah(this.zoom,a["text-size"]),this.iconSizeData=ah(this.zoom,a["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),D=m.get("symbol-z-order");this.canOverlap="never"!==dd(m,"text-overlap","text-allow-overlap")||"never"!==dd(m,"icon-overlap","icon-allow-overlap")||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==D&&!_.isConstant(),this.sortFeaturesByY=("viewport-y"===D||"auto"===D&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===m.get("symbol-placement")&&(this.writingModes=m.get("text-writing-mode").map(S=>g.WritingMode[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=t.sourceID}createArrays(){this.text=new yu(new Xc(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new yu(new Xc(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new mt,this.lineVertexArray=new Dt,this.symbolInstances=new je,this.textAnchorOffsets=new ii}calculateGlyphDependencies(t,a,m,_,D){for(let S=0;S<t.length;S++)if(a[t.charCodeAt(S)]=!0,(m||_)&&D){const P=mu[t.charAt(S)];P&&(a[P.charCodeAt(0)]=!0)}}populate(t,a,m){const _=this.layers[0],D=_.layout,S=D.get("text-font"),P=D.get("text-field"),N=D.get("icon-image"),G=("constant"!==P.value.kind||P.value.value instanceof _n&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&("constant"!==S.value.kind||S.value.value.length>0),J="constant"!==N.value.kind||!!N.value.value||Object.keys(N.parameters).length>0,te=D.get("symbol-sort-key");if(this.features=[],!G&&!J)return;const de=a.iconDependencies,ge=a.glyphDependencies,we=a.availableImages,Oe=new Rr(this.zoom);for(const{feature:Xe,id:et,index:yt,sourceLayerIndex:ct}of t){const bt=_._featureFilter.needGeometry,Ot=Oc(Xe,bt);if(!_._featureFilter.filter(Oe,Ot,m))continue;let Yt,ki;if(bt||(Ot.geometry=Jc(Xe)),G){const Ri=_.getValueAndResolveTokens("text-field",Ot,m,we),Ii=_n.factory(Ri);gg(Ii)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ns()||this.hasRTLText&&ir.isParsed())&&(Yt=Cp(Ii,_,Ot))}if(J){const Ri=_.getValueAndResolveTokens("icon-image",Ot,m,we);ki=Ri instanceof Jn?Ri:Jn.fromString(Ri)}if(!Yt&&!ki)continue;const Gi=this.sortFeaturesByKey?te.evaluate(Ot,{},m):void 0;if(this.features.push({id:et,text:Yt,icon:ki,index:yt,sourceLayerIndex:ct,geometry:Ot.geometry,properties:Xe.properties,type:fg[Xe.type],sortKey:Gi}),ki&&(de[ki.name]=!0),Yt){const Ri=S.evaluate(Ot,{},m).join(","),Ii="viewport"!==D.get("text-rotation-alignment")&&"point"!==D.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(g.WritingMode.vertical)>=0;for(const wi of Yt.sections)if(wi.image)de[wi.image.name]=!0;else{const Ui=Bn(Yt.toString()),Si=wi.fontStack||Ri,hi=ge[Si]=ge[Si]||{};this.calculateGlyphDependencies(wi.text,hi,Ii,this.allowVerticalPlacement,Ui)}}}"line"===D.get("symbol-placement")&&(this.features=function(Xe){const et={},yt={},ct=[];let bt=0;function Ot(Ri){ct.push(Xe[Ri]),bt++}function Yt(Ri,Ii,wi){const Ui=yt[Ri];return delete yt[Ri],yt[Ii]=Ui,ct[Ui].geometry[0].pop(),ct[Ui].geometry[0]=ct[Ui].geometry[0].concat(wi[0]),Ui}function ki(Ri,Ii,wi){const Ui=et[Ii];return delete et[Ii],et[Ri]=Ui,ct[Ui].geometry[0].shift(),ct[Ui].geometry[0]=wi[0].concat(ct[Ui].geometry[0]),Ui}function Gi(Ri,Ii,wi){const Ui=wi?Ii[0][Ii[0].length-1]:Ii[0][0];return`${Ri}:${Ui.x}:${Ui.y}`}for(let Ri=0;Ri<Xe.length;Ri++){const Ii=Xe[Ri],wi=Ii.geometry,Ui=Ii.text?Ii.text.toString():null;if(!Ui){Ot(Ri);continue}const Si=Gi(Ui,wi),hi=Gi(Ui,wi,!0);if(Si in yt&&hi in et&&yt[Si]!==et[hi]){const sn=ki(Si,hi,wi),Ji=Yt(Si,hi,ct[sn].geometry);delete et[Si],delete yt[hi],yt[Gi(Ui,ct[Ji].geometry,!0)]=Ji,ct[sn].geometry=null}else Si in yt?Yt(Si,hi,wi):hi in et?ki(Si,hi,wi):(Ot(Ri),et[Si]=bt-1,yt[hi]=bt-1)}return ct.filter(Ri=>Ri.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Xe,et)=>Xe.sortKey-et.sortKey)}update(t,a,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,a,this.layers,m),this.icon.programConfigurations.updatePaintArrays(t,a,this.layers,m))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,a){const m=this.lineVertexArray.length;if(void 0!==t.segment){let _=t.dist(a[t.segment+1]),D=t.dist(a[t.segment]);const S={};for(let P=t.segment+1;P<a.length;P++)S[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:_},P<a.length-1&&(_+=a[P+1].dist(a[P]));for(let P=t.segment||0;P>=0;P--)S[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:D},P>0&&(D+=a[P-1].dist(a[P]));for(let P=0;P<a.length;P++){const N=S[P];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(t,a,m,_,D,S,P,N,G,J,te,de){const ge=t.indexArray,we=t.layoutVertexArray,Oe=t.segments.prepareSegment(4*a.length,we,ge,this.canOverlap?S.sortKey:void 0),Xe=this.glyphOffsetArray.length,et=Oe.vertexLength,yt=this.allowVerticalPlacement&&P===g.WritingMode.vertical?Math.PI/2:0,ct=S.text&&S.text.sections;for(let bt=0;bt<a.length;bt++){const{tl:Ot,tr:Yt,bl:ki,br:Gi,tex:Ri,pixelOffsetTL:Ii,pixelOffsetBR:wi,minFontScaleX:Ui,minFontScaleY:Si,glyphOffset:hi,isSDF:sn,sectionIndex:Ji}=a[bt],Ln=Oe.vertexLength,Sr=hi[1];zl(we,N.x,N.y,Ot.x,Sr+Ot.y,Ri.x,Ri.y,m,sn,Ii.x,Ii.y,Ui,Si),zl(we,N.x,N.y,Yt.x,Sr+Yt.y,Ri.x+Ri.w,Ri.y,m,sn,wi.x,Ii.y,Ui,Si),zl(we,N.x,N.y,ki.x,Sr+ki.y,Ri.x,Ri.y+Ri.h,m,sn,Ii.x,wi.y,Ui,Si),zl(we,N.x,N.y,Gi.x,Sr+Gi.y,Ri.x+Ri.w,Ri.y+Ri.h,m,sn,wi.x,wi.y,Ui,Si),ud(t.dynamicLayoutVertexArray,N,yt),ge.emplaceBack(Ln,Ln+1,Ln+2),ge.emplaceBack(Ln+1,Ln+2,Ln+3),Oe.vertexLength+=4,Oe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hi[0]),bt!==a.length-1&&Ji===a[bt+1].sectionIndex||t.programConfigurations.populatePaintArrays(we.length,S,S.index,{},de,ct&&ct[Ji])}t.placedSymbolArray.emplaceBack(N.x,N.y,Xe,this.glyphOffsetArray.length-Xe,et,G,J,N.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],P,0,!1,0,te)}_addCollisionDebugVertex(t,a,m,_,D,S){return a.emplaceBack(0,0),t.emplaceBack(m.x,m.y,_,D,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(t,a,m,_,D,S,P){const N=D.segments.prepareSegment(4,D.layoutVertexArray,D.indexArray),G=N.vertexLength,J=D.layoutVertexArray,te=D.collisionVertexArray,de=P.anchorX,ge=P.anchorY;this._addCollisionDebugVertex(J,te,S,de,ge,new ke(t,a)),this._addCollisionDebugVertex(J,te,S,de,ge,new ke(m,a)),this._addCollisionDebugVertex(J,te,S,de,ge,new ke(m,_)),this._addCollisionDebugVertex(J,te,S,de,ge,new ke(t,_)),N.vertexLength+=4;const we=D.indexArray;we.emplaceBack(G,G+1),we.emplaceBack(G+1,G+2),we.emplaceBack(G+2,G+3),we.emplaceBack(G+3,G),N.primitiveLength+=4}addDebugCollisionBoxes(t,a,m,_){for(let D=t;D<a;D++){const S=this.collisionBoxArray.get(D);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,_?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vu(Er,hc.members,io),this.iconCollisionBox=new vu(Er,hc.members,io);for(let t=0;t<this.symbolInstances.length;t++){const a=this.symbolInstances.get(t);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(t,a,m,_,D,S,P,N,G){const J={};for(let te=a;te<m;te++){const de=t.get(te);J.textBox={x1:de.x1,y1:de.y1,x2:de.x2,y2:de.y2,anchorPointX:de.anchorPointX,anchorPointY:de.anchorPointY},J.textFeatureIndex=de.featureIndex;break}for(let te=_;te<D;te++){const de=t.get(te);J.verticalTextBox={x1:de.x1,y1:de.y1,x2:de.x2,y2:de.y2,anchorPointX:de.anchorPointX,anchorPointY:de.anchorPointY},J.verticalTextFeatureIndex=de.featureIndex;break}for(let te=S;te<P;te++){const de=t.get(te);J.iconBox={x1:de.x1,y1:de.y1,x2:de.x2,y2:de.y2,anchorPointX:de.anchorPointX,anchorPointY:de.anchorPointY},J.iconFeatureIndex=de.featureIndex;break}for(let te=N;te<G;te++){const de=t.get(te);J.verticalIconBox={x1:de.x1,y1:de.y1,x2:de.x2,y2:de.y2,anchorPointX:de.anchorPointX,anchorPointY:de.anchorPointY},J.verticalIconFeatureIndex=de.featureIndex;break}return J}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const m=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,a){const m=t.placedSymbolArray.get(a),_=m.vertexStartIndex+4*m.numGlyphs;for(let D=m.vertexStartIndex;D<_;D+=4)t.indexArray.emplaceBack(D,D+1,D+2),t.indexArray.emplaceBack(D+1,D+2,D+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const a=Math.sin(t),m=Math.cos(t),_=[],D=[],S=[];for(let P=0;P<this.symbolInstances.length;++P){S.push(P);const N=this.symbolInstances.get(P);_.push(0|Math.round(a*N.anchorX+m*N.anchorY)),D.push(N.featureIndex)}return S.sort((P,N)=>_[P]-_[N]||D[N]-D[P]),S}addToSortKeyRanges(t,a){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===a?m.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const m=this.symbolInstances.get(a);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,D,S)=>{_>=0&&S.indexOf(_)===D&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let lh,Vc;Me("SymbolBucket",el,{omit:["layers","collisionBoxArray","features","compareText"]}),el.MAX_GLYPHS=65535,el.addDynamicAttributes=ud;var gm={get paint(){return Vc=Vc||new go({"icon-opacity":new di(_t.paint_symbol["icon-opacity"]),"icon-color":new di(_t.paint_symbol["icon-color"]),"icon-halo-color":new di(_t.paint_symbol["icon-halo-color"]),"icon-halo-width":new di(_t.paint_symbol["icon-halo-width"]),"icon-halo-blur":new di(_t.paint_symbol["icon-halo-blur"]),"icon-translate":new en(_t.paint_symbol["icon-translate"]),"icon-translate-anchor":new en(_t.paint_symbol["icon-translate-anchor"]),"text-opacity":new di(_t.paint_symbol["text-opacity"]),"text-color":new di(_t.paint_symbol["text-color"],{runtimeType:an,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new di(_t.paint_symbol["text-halo-color"]),"text-halo-width":new di(_t.paint_symbol["text-halo-width"]),"text-halo-blur":new di(_t.paint_symbol["text-halo-blur"]),"text-translate":new en(_t.paint_symbol["text-translate"]),"text-translate-anchor":new en(_t.paint_symbol["text-translate-anchor"])})},get layout(){return lh=lh||new go({"symbol-placement":new en(_t.layout_symbol["symbol-placement"]),"symbol-spacing":new en(_t.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new en(_t.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new di(_t.layout_symbol["symbol-sort-key"]),"symbol-z-order":new en(_t.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new en(_t.layout_symbol["icon-allow-overlap"]),"icon-overlap":new en(_t.layout_symbol["icon-overlap"]),"icon-ignore-placement":new en(_t.layout_symbol["icon-ignore-placement"]),"icon-optional":new en(_t.layout_symbol["icon-optional"]),"icon-rotation-alignment":new en(_t.layout_symbol["icon-rotation-alignment"]),"icon-size":new di(_t.layout_symbol["icon-size"]),"icon-text-fit":new en(_t.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new en(_t.layout_symbol["icon-text-fit-padding"]),"icon-image":new di(_t.layout_symbol["icon-image"]),"icon-rotate":new di(_t.layout_symbol["icon-rotate"]),"icon-padding":new di(_t.layout_symbol["icon-padding"]),"icon-keep-upright":new en(_t.layout_symbol["icon-keep-upright"]),"icon-offset":new di(_t.layout_symbol["icon-offset"]),"icon-anchor":new di(_t.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new en(_t.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new en(_t.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new en(_t.layout_symbol["text-rotation-alignment"]),"text-field":new di(_t.layout_symbol["text-field"]),"text-font":new di(_t.layout_symbol["text-font"]),"text-size":new di(_t.layout_symbol["text-size"]),"text-max-width":new di(_t.layout_symbol["text-max-width"]),"text-line-height":new en(_t.layout_symbol["text-line-height"]),"text-letter-spacing":new di(_t.layout_symbol["text-letter-spacing"]),"text-justify":new di(_t.layout_symbol["text-justify"]),"text-radial-offset":new di(_t.layout_symbol["text-radial-offset"]),"text-variable-anchor":new en(_t.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new di(_t.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new di(_t.layout_symbol["text-anchor"]),"text-max-angle":new en(_t.layout_symbol["text-max-angle"]),"text-writing-mode":new en(_t.layout_symbol["text-writing-mode"]),"text-rotate":new di(_t.layout_symbol["text-rotate"]),"text-padding":new en(_t.layout_symbol["text-padding"]),"text-keep-upright":new en(_t.layout_symbol["text-keep-upright"]),"text-transform":new di(_t.layout_symbol["text-transform"]),"text-offset":new di(_t.layout_symbol["text-offset"]),"text-allow-overlap":new en(_t.layout_symbol["text-allow-overlap"]),"text-overlap":new en(_t.layout_symbol["text-overlap"]),"text-ignore-placement":new en(_t.layout_symbol["text-ignore-placement"]),"text-optional":new en(_t.layout_symbol["text-optional"])})}};class Fp{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:gi,this.defaultValue=t}evaluate(t){if(t.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(t.formattedSection))return a.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Me("FormatSectionOverride",Fp,{omit:["defaultValue"]});class ch extends Qo{constructor(t){super(t,gm)}recalculate(t,a){if(super.recalculate(t,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const D of m)_.indexOf(D)<0&&_.push(D);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,a,m,_){const D=this.layout.get(t).evaluate(a,{},m,_),S=this._unevaluatedLayout._values[t];return S.isDataDriven()||De(S.value)||!D?D:(P=a.properties,D.replace(/{([^{}]+)}/g,(G,J)=>J in P?String(P[J]):""));var P}createBucket(t){return new el(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of gm.paint.overridableProperties){if(!ch.hasPaintOverride(this.layout,t))continue;const a=this.paint.get(t),m=new Fp(a),_=new q(m,a.property.specification);let D=null;D="constant"===a.value.kind||"source"===a.value.kind?new on("source",_):new wn("composite",_,a.value.zoomStops),this.paint._values[t]=new ua(a.property,D,a.parameters)}}_handleOverridablePaintPropertyUpdate(t,a,m){return!(!this.layout||a.isDataDriven()||m.isDataDriven())&&ch.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,a){const m=t.get("text-field"),_=gm.paint.properties[a];let D=!1;const S=P=>{for(const N of P)if(_.overrides&&_.overrides.hasOverride(N))return void(D=!0)};if("constant"===m.value.kind&&m.value.value instanceof _n)S(m.value.value.sections);else if("source"===m.value.kind){const P=G=>{D||(G instanceof dr&&Ki(G.value)===ve?S(G.value.sections):G instanceof Xr?S(G.sections):G.eachChild(P))},N=m.value;N._styleExpression&&P(N._styleExpression.expression)}return D}}let _m;var ym={get paint(){return _m=_m||new go({"background-color":new en(_t.paint_background["background-color"]),"background-pattern":new Mc(_t.paint_background["background-pattern"]),"background-opacity":new en(_t.paint_background["background-opacity"])})}};class _g extends Qo{constructor(t){super(t,ym)}}let hd;var dh={get paint(){return hd=hd||new go({"raster-opacity":new en(_t.paint_raster["raster-opacity"]),"raster-hue-rotate":new en(_t.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new en(_t.paint_raster["raster-brightness-min"]),"raster-brightness-max":new en(_t.paint_raster["raster-brightness-max"]),"raster-saturation":new en(_t.paint_raster["raster-saturation"]),"raster-contrast":new en(_t.paint_raster["raster-contrast"]),"raster-resampling":new en(_t.paint_raster["raster-resampling"]),"raster-fade-duration":new en(_t.paint_raster["raster-fade-duration"])})}};class vm extends Qo{constructor(t){super(t,dh)}}class bm extends Qo{constructor(t){super(t,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Lp{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const uh=6371008.8;class Sa{constructor(t,a){if(isNaN(t)||isNaN(a))throw new Error(`Invalid LngLat object: (${t}, ${a})`);if(this.lng=+t,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Sa(ni(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const a=Math.PI/180,m=this.lat*a,_=t.lat*a,D=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((t.lng-this.lng)*a);return uh*Math.acos(Math.min(D,1))}static convert(t){if(t instanceof Sa)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Sa(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Sa(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const xm=2*Math.PI*uh;function Np(o){return xm*Math.cos(o*Math.PI/180)}function zp(o){return(180+o)/360}function Bp(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function Vp(o,t){return o/Np(t)}function Ua(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class pc{constructor(t,a,m=0){this.x=+t,this.y=+a,this.z=+m}static fromLngLat(t,a=0){const m=Sa.convert(t);return new pc(zp(m.lng),Bp(m.lat),Vp(a,m.lat))}toLngLat(){return new Sa(360*this.x-180,Ua(this.y))}toAltitude(){return this.z*Np(Ua(this.y))}meterInMercatorCoordinateUnits(){return 1/xm*(t=Ua(this.y),1/Math.cos(t*Math.PI/180));var t}}function Up(o,t,a){var m=2*Math.PI*6378137/256/Math.pow(2,a);return[o*m-2*Math.PI*6378137/2,t*m-2*Math.PI*6378137/2]}class wm{constructor(t,a,m){if(t<0||t>25||m<0||m>=Math.pow(2,t)||a<0||a>=Math.pow(2,t))throw new Error(`x=${a}, y=${m}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=a,this.y=m,this.key=md(0,t,t,a,m)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,a,m){const _=(S=this.y,P=this.z,N=Up(256*(D=this.x),256*(S=Math.pow(2,P)-S-1),P),G=Up(256*(D+1),256*(S+1),P),N[0]+","+N[1]+","+G[0]+","+G[1]);var D,S,P,N,G;const J=function(te,de,ge){let we,Oe="";for(let Xe=te;Xe>0;Xe--)we=1<<Xe-1,Oe+=(de&we?1:0)+(ge&we?2:0);return Oe}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===m?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,J).replace(/{bbox-epsg-3857}/g,_)}isChildOf(t){const a=this.z-t.z;return a>0&&t.x===this.x>>a&&t.y===this.y>>a}getTilePoint(t){const a=Math.pow(2,this.z);return new ke((t.x*a-this.x)*Eo,(t.y*a-this.y)*Eo)}toString(){return`${this.z}/${this.x}/${this.y}`}}class hh{constructor(t,a){this.wrap=t,this.canonical=a,this.key=md(t,a.z,a.z,a.x,a.y)}}class ja{constructor(t,a,m,_,D){if(t<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${m}`);this.overscaledZ=t,this.wrap=a,this.canonical=new wm(m,+_,+D),this.key=md(a,t,m,_,D)}clone(){return new ja(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const a=this.canonical.z-t;return t>this.canonical.z?new ja(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(t,this.wrap,t,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(t,a){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-t;return t>this.canonical.z?md(this.wrap*+a,t,this.canonical.z,this.canonical.x,this.canonical.y):md(this.wrap*+a,t,t,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const a=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>a&&t.canonical.y===this.canonical.y>>a}children(t){if(this.overscaledZ>=t)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new ja(a,this.wrap,a,m,_),new ja(a,this.wrap,a,m+1,_),new ja(a,this.wrap,a,m,_+1),new ja(a,this.wrap,a,m+1,_+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new ja(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new hh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new pc(t.x-this.wrap,t.y))}}function md(o,t,a,m,_){(o*=2)<0&&(o=-1*o-1);const D=1<<a;return(D*D*o+D*_+m).toString(36)+a.toString(36)+t.toString(36)}Me("CanonicalTileID",wm),Me("OverscaledTileID",ja,{omit:["posMatrix"]});class jp{constructor(t,a,m,_=1,D=1,S=1,P=0){if(this.uid=t,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void fi(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=a.height;const N=this.dim=a.height-2;switch(this.data=new Uint32Array(a.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=D,this.blueFactor=S,this.baseShift=P;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let G=0;G<N;G++)this.data[this._idx(-1,G)]=this.data[this._idx(0,G)],this.data[this._idx(N,G)]=this.data[this._idx(N-1,G)],this.data[this._idx(G,-1)]=this.data[this._idx(G,0)],this.data[this._idx(G,N)]=this.data[this._idx(G,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let G=0;G<N;G++)for(let J=0;J<N;J++){const te=this.get(G,J);te>this.max&&(this.max=te),te<this.min&&(this.min=te)}}get(t,a){const m=new Uint8Array(this.data.buffer),_=4*this._idx(t,a);return this.unpack(m[_],m[_+1],m[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,a){if(t<-1||t>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(t+1)}unpack(t,a,m){return t*this.redFactor+a*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Mr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,a,m){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let _=a*this.dim,D=a*this.dim+this.dim,S=m*this.dim,P=m*this.dim+this.dim;switch(a){case-1:_=D-1;break;case 1:D=_+1}switch(m){case-1:S=P-1;break;case 1:P=S+1}const N=-a*this.dim,G=-m*this.dim;for(let J=S;J<P;J++)for(let te=_;te<D;te++)this.data[this._idx(te,J)]=t.data[this._idx(te+N,J+G)]}}Me("DEMData",jp);class Cm{constructor(t){this._stringToNumber={},this._numberToString=[];for(let a=0;a<t.length;a++){const m=t[a];this._stringToNumber[m]=a,this._numberToString[a]=m}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Hp{constructor(t,a,m,_,D){this.type="Feature",this._vectorTileFeature=t,t._z=a,t._x=m,t._y=_,this.properties=t.properties,this.id=D}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const a in this)"_geometry"!==a&&"_vectorTileFeature"!==a&&(t[a]=this[a]);return t}}class $p{constructor(t,a){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Y(Eo,16,0),this.grid3D=new Y(Eo,16,0),this.featureIndexArray=new ui,this.promoteId=a}insert(t,a,m,_,D,S){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,D);const N=S?this.grid3D:this.grid;for(let G=0;G<a.length;G++){const J=a[G],te=[1/0,1/0,-1/0,-1/0];for(let de=0;de<J.length;de++){const ge=J[de];te[0]=Math.min(te[0],ge.x),te[1]=Math.min(te[1],ge.y),te[2]=Math.max(te[2],ge.x),te[3]=Math.max(te[3],ge.y)}te[0]<Eo&&te[1]<Eo&&te[2]>=0&&te[3]>=0&&N.insert(P,te[0],te[1],te[2],te[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new cc.VectorTile(new hm(this.rawTileData)).layers,this.sourceLayerCoder=new Cm(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,a,m,_){this.loadVTLayers();const D=t.params||{},S=Eo/t.tileSize/t.scale,P=Al(D.filter),N=t.queryGeometry,G=t.queryPadding*S,J=Zp(N),te=this.grid.query(J.minX-G,J.minY-G,J.maxX+G,J.maxY+G),de=Zp(t.cameraQueryGeometry),ge=this.grid3D.query(de.minX-G,de.minY-G,de.maxX+G,de.maxY+G,(Xe,et,yt,ct)=>function(bt,Ot,Yt,ki,Gi){for(const Ii of bt)if(Ot<=Ii.x&&Yt<=Ii.y&&ki>=Ii.x&&Gi>=Ii.y)return!0;const Ri=[new ke(Ot,Yt),new ke(Ot,Gi),new ke(ki,Gi),new ke(ki,Yt)];if(bt.length>2)for(const Ii of Ri)if(es(bt,Ii))return!0;for(let Ii=0;Ii<bt.length-1;Ii++)if(Td(bt[Ii],bt[Ii+1],Ri))return!0;return!1}(t.cameraQueryGeometry,Xe-G,et-G,yt+G,ct+G));for(const Xe of ge)te.push(Xe);te.sort(mh);const we={};let Oe;for(let Xe=0;Xe<te.length;Xe++){const et=te[Xe];if(et===Oe)continue;Oe=et;const yt=this.featureIndexArray.get(et);let ct=null;this.loadMatchingFeature(we,yt.bucketIndex,yt.sourceLayerIndex,yt.featureIndex,P,D.layers,D.availableImages,a,m,_,(bt,Ot,Yt)=>(ct||(ct=Jc(bt)),Ot.queryIntersectsFeature(N,bt,Yt,ct,this.z,t.transform,S,t.pixelPosMatrix)))}return we}loadMatchingFeature(t,a,m,_,D,S,P,N,G,J,te){const de=this.bucketLayerIDs[a];if(S&&!function(Xe,et){for(let yt=0;yt<Xe.length;yt++)if(et.indexOf(Xe[yt])>=0)return!0;return!1}(S,de))return;const ge=this.sourceLayerCoder.decode(m),we=this.vtLayers[ge].feature(_);if(D.needGeometry){const Xe=Oc(we,!0);if(!D.filter(new Rr(this.tileID.overscaledZ),Xe,this.tileID.canonical))return}else if(!D.filter(new Rr(this.tileID.overscaledZ),we))return;const Oe=this.getId(we,ge);for(let Xe=0;Xe<de.length;Xe++){const et=de[Xe];if(S&&S.indexOf(et)<0)continue;const yt=N[et];if(!yt)continue;let ct={};Oe&&J&&(ct=J.getState(yt.sourceLayer||"_geojsonTileLayer",Oe));const bt=Fe({},G[et]);bt.paint=Gp(bt.paint,yt.paint,we,ct,P),bt.layout=Gp(bt.layout,yt.layout,we,ct,P);const Ot=!te||te(we,yt,ct);if(!Ot)continue;const Yt=new Hp(we,this.z,this.x,this.y,Oe);Yt.layer=bt;let ki=t[et];void 0===ki&&(ki=t[et]=[]),ki.push({featureIndex:_,feature:Yt,intersectionZ:Ot})}}lookupSymbolFeatures(t,a,m,_,D,S,P,N){const G={};this.loadVTLayers();const J=Al(D);for(const te of t)this.loadMatchingFeature(G,m,_,te,J,S,P,N,a);return G}hasLayer(t){for(const a of this.bucketLayerIDs)for(const m of a)if(t===m)return!0;return!1}getId(t,a){let m=t.id;return this.promoteId&&(m=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[a]],"boolean"==typeof m&&(m=Number(m))),m}}function Gp(o,t,a,m,_){return $e(o,(D,S)=>{const P=t instanceof Dc?t.get(S):null;return P&&P.evaluate?P.evaluate(a,m,_):P})}function Zp(o){let t=1/0,a=1/0,m=-1/0,_=-1/0;for(const D of o)t=Math.min(t,D.x),a=Math.min(a,D.y),m=Math.max(m,D.x),_=Math.max(_,D.y);return{minX:t,minY:a,maxX:m,maxY:_}}function mh(o,t){return t-o}function Bl(o,t,a,m,_){const D=[];for(let S=0;S<o.length;S++){const P=o[S];let N;for(let G=0;G<P.length-1;G++){let J=P[G],te=P[G+1];J.x<t&&te.x<t||(J.x<t?J=new ke(t,J.y+(t-J.x)/(te.x-J.x)*(te.y-J.y))._round():te.x<t&&(te=new ke(t,J.y+(t-J.x)/(te.x-J.x)*(te.y-J.y))._round()),J.y<a&&te.y<a||(J.y<a?J=new ke(J.x+(a-J.y)/(te.y-J.y)*(te.x-J.x),a)._round():te.y<a&&(te=new ke(J.x+(a-J.y)/(te.y-J.y)*(te.x-J.x),a)._round()),J.x>=m&&te.x>=m||(J.x>=m?J=new ke(m,J.y+(m-J.x)/(te.x-J.x)*(te.y-J.y))._round():te.x>=m&&(te=new ke(m,J.y+(m-J.x)/(te.x-J.x)*(te.y-J.y))._round()),J.y>=_&&te.y>=_||(J.y>=_?J=new ke(J.x+(_-J.y)/(te.y-J.y)*(te.x-J.x),_)._round():te.y>=_&&(te=new ke(J.x+(_-J.y)/(te.y-J.y)*(te.x-J.x),_)._round()),N&&J.equals(N[N.length-1])||(N=[J],D.push(N)),N.push(te)))))}}return D}Me("FeatureIndex",$p,{omit:["rawTileData","sourceLayerCoder"]});class tl extends ke{constructor(t,a,m,_){super(t,a),this.angle=m,void 0!==_&&(this.segment=_)}clone(){return new tl(this.x,this.y,this.angle,this.segment)}}function Em(o,t,a,m,_){if(void 0===t.segment||0===a)return!0;let D=t,S=t.segment+1,P=0;for(;P>-a/2;){if(S--,S<0)return!1;P-=o[S].dist(D),D=o[S]}P+=o[S].dist(o[S+1]),S++;const N=[];let G=0;for(;P<a/2;){const J=o[S],te=o[S+1];if(!te)return!1;let de=o[S-1].angleTo(J)-J.angleTo(te);for(de=Math.abs((de+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:P,angleDelta:de}),G+=de;P-N[0].distance>m;)G-=N.shift().angleDelta;if(G>_)return!1;S++,P+=J.dist(te)}return!0}function Dm(o){let t=0;for(let a=0;a<o.length-1;a++)t+=o[a].dist(o[a+1]);return t}function ph(o,t,a){return o?.6*t*a:0}function Wp(o,t){return Math.max(o?o.right-o.left:0,t?t.right-t.left:0)}function yg(o,t,a,m,_,D){const S=ph(a,_,D),P=Wp(a,m)*D;let N=0;const G=Dm(o)/2;for(let J=0;J<o.length-1;J++){const te=o[J],de=o[J+1],ge=te.dist(de);if(N+ge>G){const we=(G-N)/ge,Oe=Xn.number(te.x,de.x,we),Xe=Xn.number(te.y,de.y,we),et=new tl(Oe,Xe,de.angleTo(te),J);return et._round(),!S||Em(o,et,P,S,t)?et:void 0}N+=ge}}function uy(o,t,a,m,_,D,S,P,N){const G=ph(m,D,S),J=Wp(m,_),te=J*S,de=0===o[0].x||o[0].x===N||0===o[0].y||o[0].y===N;return t-te<t/4&&(t=te+t/4),fh(o,de?t/2*P%t:(J/2+2*D)*S*P%t,t,G,a,te,de,!1,N)}function fh(o,t,a,m,_,D,S,P,N){const G=D/2,J=Dm(o);let te=0,de=t-a,ge=[];for(let we=0;we<o.length-1;we++){const Oe=o[we],Xe=o[we+1],et=Oe.dist(Xe),yt=Xe.angleTo(Oe);for(;de+a<te+et;){de+=a;const ct=(de-te)/et,bt=Xn.number(Oe.x,Xe.x,ct),Ot=Xn.number(Oe.y,Xe.y,ct);if(bt>=0&&bt<N&&Ot>=0&&Ot<N&&de-G>=0&&de+G<=J){const Yt=new tl(bt,Ot,yt,we);Yt._round(),m&&!Em(o,Yt,D,m,_)||ge.push(Yt)}}te+=et}return P||ge.length||S||(ge=fh(o,te/2,a,m,_,D,S,!0,N)),ge}Me("Anchor",tl);const Uc=ps;function vg(o,t,a,m){const _=[],D=o.image,S=D.pixelRatio,P=D.paddedRect.w-2*Uc,N=D.paddedRect.h-2*Uc,G=o.right-o.left,J=o.bottom-o.top,te=D.stretchX||[[0,P]],de=D.stretchY||[[0,N]],ge=(wi,Ui)=>wi+Ui[1]-Ui[0],we=te.reduce(ge,0),Oe=de.reduce(ge,0),Xe=P-we,et=N-Oe;let yt=0,ct=we,bt=0,Ot=Oe,Yt=0,ki=Xe,Gi=0,Ri=et;if(D.content&&m){const wi=D.content;yt=gh(te,0,wi[0]),bt=gh(de,0,wi[1]),ct=gh(te,wi[0],wi[2]),Ot=gh(de,wi[1],wi[3]),Yt=wi[0]-yt,Gi=wi[1]-bt,ki=wi[2]-wi[0]-ct,Ri=wi[3]-wi[1]-Ot}const Ii=(wi,Ui,Si,hi)=>{const sn=_h(wi.stretch-yt,ct,G,o.left),Ji=pd(wi.fixed-Yt,ki,wi.stretch,we),Ln=_h(Ui.stretch-bt,Ot,J,o.top),Sr=pd(Ui.fixed-Gi,Ri,Ui.stretch,Oe),Vr=_h(Si.stretch-yt,ct,G,o.left),Do=pd(Si.fixed-Yt,ki,Si.stretch,we),Qs=_h(hi.stretch-bt,Ot,J,o.top),Ho=pd(hi.fixed-Gi,Ri,hi.stretch,Oe),_o=new ke(sn,Ln),$o=new ke(Vr,Ln),Ro=new ke(Vr,Qs),fs=new ke(sn,Qs),Go=new ke(Ji/S,Sr/S),Mo=new ke(Do/S,Ho/S),ro=t*Math.PI/180;if(ro){const gs=Math.sin(ro),_s=Math.cos(ro),pa=[_s,-gs,gs,_s];_o._matMult(pa),$o._matMult(pa),fs._matMult(pa),Ro._matMult(pa)}const ts=wi.stretch+wi.fixed,ma=Ui.stretch+Ui.fixed;return{tl:_o,tr:$o,bl:fs,br:Ro,tex:{x:D.paddedRect.x+Uc+ts,y:D.paddedRect.y+Uc+ma,w:Si.stretch+Si.fixed-ts,h:hi.stretch+hi.fixed-ma},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Go,pixelOffsetBR:Mo,minFontScaleX:ki/S/G,minFontScaleY:Ri/S/J,isSDF:a}};if(m&&(D.stretchX||D.stretchY)){const wi=Mm(te,Xe,we),Ui=Mm(de,et,Oe);for(let Si=0;Si<wi.length-1;Si++){const hi=wi[Si],sn=wi[Si+1];for(let Ji=0;Ji<Ui.length-1;Ji++)_.push(Ii(hi,Ui[Ji],sn,Ui[Ji+1]))}}else _.push(Ii({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:N+1}));return _}function gh(o,t,a){let m=0;for(const _ of o)m+=Math.max(t,Math.min(a,_[1]))-Math.max(t,Math.min(a,_[0]));return m}function Mm(o,t,a){const m=[{fixed:-Uc,stretch:0}];for(const[_,D]of o){const S=m[m.length-1];m.push({fixed:_-S.stretch,stretch:S.stretch}),m.push({fixed:_-S.stretch,stretch:S.stretch+(D-_)})}return m.push({fixed:t+Uc,stretch:a}),m}function _h(o,t,a,m){return o/t*a+m}function pd(o,t,a,m){return o-t*a/m}class yh{constructor(t,a,m,_,D,S,P,N,G,J){if(this.boxStartIndex=t.length,G){let te=S.top,de=S.bottom;const ge=S.collisionPadding;ge&&(te-=ge[1],de+=ge[3]);let we=de-te;we>0&&(we=Math.max(10,we),this.circleDiameter=we)}else{let te=S.top*P-N[0],de=S.bottom*P+N[2],ge=S.left*P-N[3],we=S.right*P+N[1];const Oe=S.collisionPadding;if(Oe&&(ge-=Oe[0]*P,te-=Oe[1]*P,we+=Oe[2]*P,de+=Oe[3]*P),J){const Xe=new ke(ge,te),et=new ke(we,te),yt=new ke(ge,de),ct=new ke(we,de),bt=J*Math.PI/180;Xe._rotate(bt),et._rotate(bt),yt._rotate(bt),ct._rotate(bt),ge=Math.min(Xe.x,et.x,yt.x,ct.x),we=Math.max(Xe.x,et.x,yt.x,ct.x),te=Math.min(Xe.y,et.y,yt.y,ct.y),de=Math.max(Xe.y,et.y,yt.y,ct.y)}t.emplaceBack(a.x,a.y,ge,te,we,de,m,_,D)}this.boxEndIndex=t.length}}class qp{constructor(t=[],a=Yp){if(this.data=t,this.length=this.data.length,this.compare=a,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:a,compare:m}=this,_=a[t];for(;t>0;){const D=t-1>>1,S=a[D];if(m(_,S)>=0)break;a[t]=S,t=D}a[t]=_}_down(t){const{data:a,compare:m}=this,_=this.length>>1,D=a[t];for(;t<_;){let S=1+(t<<1),P=a[S];const N=S+1;if(N<this.length&&m(a[N],P)<0&&(S=N,P=a[N]),m(P,D)>=0)break;a[t]=P,t=S}a[t]=D}}function Yp(o,t){return o<t?-1:o>t?1:0}function vh(o,t=1,a=!1){let m=1/0,_=1/0,D=-1/0,S=-1/0;const P=o[0];for(let ge=0;ge<P.length;ge++){const we=P[ge];(!ge||we.x<m)&&(m=we.x),(!ge||we.y<_)&&(_=we.y),(!ge||we.x>D)&&(D=we.x),(!ge||we.y>S)&&(S=we.y)}const N=Math.min(D-m,S-_);let G=N/2;const J=new qp([],Kp);if(0===N)return new ke(m,_);for(let ge=m;ge<D;ge+=N)for(let we=_;we<S;we+=N)J.push(new jc(ge+G,we+G,G,o));let te=function(ge){let we=0,Oe=0,Xe=0;const et=ge[0];for(let yt=0,ct=et.length,bt=ct-1;yt<ct;bt=yt++){const Ot=et[yt],Yt=et[bt],ki=Ot.x*Yt.y-Yt.x*Ot.y;Oe+=(Ot.x+Yt.x)*ki,Xe+=(Ot.y+Yt.y)*ki,we+=3*ki}return new jc(Oe/we,Xe/we,0,ge)}(o),de=J.length;for(;J.length;){const ge=J.pop();(ge.d>te.d||!te.d)&&(te=ge,a&&console.log("found best %d after %d probes",Math.round(1e4*ge.d)/1e4,de)),ge.max-te.d<=t||(G=ge.h/2,J.push(new jc(ge.p.x-G,ge.p.y-G,G,o)),J.push(new jc(ge.p.x+G,ge.p.y-G,G,o)),J.push(new jc(ge.p.x-G,ge.p.y+G,G,o)),J.push(new jc(ge.p.x+G,ge.p.y+G,G,o)),de+=4)}return a&&(console.log(`num probes: ${de}`),console.log(`best distance: ${te.d}`)),te.p}function Kp(o,t){return t.max-o.max}function jc(o,t,a,m){this.p=new ke(o,t),this.h=a,this.d=function(_,D){let S=!1,P=1/0;for(let N=0;N<D.length;N++){const G=D[N];for(let J=0,te=G.length,de=te-1;J<te;de=J++){const ge=G[J],we=G[de];ge.y>_.y!=we.y>_.y&&_.x<(we.x-ge.x)*(_.y-ge.y)/(we.y-ge.y)+ge.x&&(S=!S),P=Math.min(P,Sd(_,ge,we))}}return(S?1:-1)*Math.sqrt(P)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Ss;g.TextAnchorEnum=void 0,(Ss=g.TextAnchorEnum||(g.TextAnchorEnum={}))[Ss.center=1]="center",Ss[Ss.left=2]="left",Ss[Ss.right=3]="right",Ss[Ss.top=4]="top",Ss[Ss.bottom=5]="bottom",Ss[Ss["top-left"]=6]="top-left",Ss[Ss["top-right"]=7]="top-right",Ss[Ss["bottom-left"]=8]="bottom-left",Ss[Ss["bottom-right"]=9]="bottom-right";const Ta=7,bh=Number.POSITIVE_INFINITY;function Xp(o,t){return t[1]!==bh?function(a,m,_){let D=0,S=0;switch(m=Math.abs(m),_=Math.abs(_),a){case"top-right":case"top-left":case"top":S=_-Ta;break;case"bottom-right":case"bottom-left":case"bottom":S=-_+Ta}switch(a){case"top-right":case"bottom-right":case"right":D=-m;break;case"top-left":case"bottom-left":case"left":D=m}return[D,S]}(o,t[0],t[1]):function(a,m){let _=0,D=0;m<0&&(m=0);const S=m/Math.SQRT2;switch(a){case"top-right":case"top-left":D=S-Ta;break;case"bottom-right":case"bottom-left":D=-S+Ta;break;case"bottom":D=-m+Ta;break;case"top":D=m-Ta}switch(a){case"top-right":case"bottom-right":_=-S;break;case"top-left":case"bottom-left":_=S;break;case"left":_=m;break;case"right":_=-m}return[_,D]}(o,t[0])}function Sm(o,t,a){var m;const _=o.layout,D=null===(m=_.get("text-variable-anchor-offset"))||void 0===m?void 0:m.evaluate(t,{},a);if(D){const P=D.values,N=[];for(let G=0;G<P.length;G+=2){const J=N[G]=P[G],te=P[G+1].map(de=>de*Oo);J.startsWith("top")?te[1]-=Ta:J.startsWith("bottom")&&(te[1]+=Ta),N[G+1]=te}return new Mn(N)}const S=_.get("text-variable-anchor");if(S){let P;P=void 0!==o._unevaluatedLayout.getValue("text-radial-offset")?[_.get("text-radial-offset").evaluate(t,{},a)*Oo,bh]:_.get("text-offset").evaluate(t,{},a).map(G=>G*Oo);const N=[];for(const G of S)N.push(G,Xp(G,P));return new Mn(N)}return null}function xh(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function bg(o,t,a,m,_,D,S,P,N,G,J){let te=D.textMaxSize.evaluate(t,{});void 0===te&&(te=S);const de=o.layers[0].layout,ge=de.get("icon-offset").evaluate(t,{},J),we=Qp(a.horizontal),Oe=S/24,Xe=o.tilePixelRatio*Oe,et=o.tilePixelRatio*te/24,yt=o.tilePixelRatio*P,ct=o.tilePixelRatio*de.get("symbol-spacing"),bt=de.get("text-padding")*o.tilePixelRatio,Ot=function(hi,sn,Ji,Ln=1){const Sr=hi.get("icon-padding").evaluate(sn,{},Ji),Vr=Sr&&Sr.values;return[Vr[0]*Ln,Vr[1]*Ln,Vr[2]*Ln,Vr[3]*Ln]}(de,t,J,o.tilePixelRatio),Yt=de.get("text-max-angle")/180*Math.PI,ki="viewport"!==de.get("text-rotation-alignment")&&"point"!==de.get("symbol-placement"),Gi="map"===de.get("icon-rotation-alignment")&&"point"!==de.get("symbol-placement"),Ri=de.get("symbol-placement"),Ii=ct/2,wi=de.get("icon-text-fit");let Ui;m&&"none"!==wi&&(o.allowVerticalPlacement&&a.vertical&&(Ui=sh(m,a.vertical,wi,de.get("icon-text-fit-padding"),ge,Oe)),we&&(m=sh(m,we,wi,de.get("icon-text-fit-padding"),ge,Oe)));const Si=(hi,sn)=>{sn.x<0||sn.x>=Eo||sn.y<0||sn.y>=Eo||function(Ji,Ln,Sr,Vr,Do,Qs,Ho,_o,$o,Ro,fs,Go,Mo,ro,ts,ma,gs,_s,pa,So,Un,Bs,is,Fo,il){const bl=Ji.addToLineVertexArray(Ln,Sr);let Vl,fc,fa,ga,_a=0,Ul=0,_d=0,bu=0,km=-1,Mh=-1;const gc={};let Pm=no("");if(Ji.allowVerticalPlacement&&Vr.vertical){const ys=_o.layout.get("text-rotate").evaluate(Un,{},Fo)+90;fa=new yh($o,Ln,Ro,fs,Go,Vr.vertical,Mo,ro,ts,ys),Ho&&(ga=new yh($o,Ln,Ro,fs,Go,Ho,gs,_s,ts,ys))}if(Do){const ys=_o.layout.get("icon-rotate").evaluate(Un,{}),ya="none"!==_o.layout.get("icon-text-fit"),yd=vg(Do,ys,is,ya),wl=Ho?vg(Ho,ys,is,ya):void 0;fc=new yh($o,Ln,Ro,fs,Go,Do,gs,_s,!1,ys),_a=4*yd.length;const Hc=Ji.iconSizeData;let jl=null;"source"===Hc.kind?(jl=[Ma*_o.layout.get("icon-size").evaluate(Un,{})],jl[0]>mc&&fi(`${Ji.layerIds[0]}: Value for "icon-size" is >= ${Bc}. Reduce your "icon-size".`)):"composite"===Hc.kind&&(jl=[Ma*Bs.compositeIconSizes[0].evaluate(Un,{},Fo),Ma*Bs.compositeIconSizes[1].evaluate(Un,{},Fo)],(jl[0]>mc||jl[1]>mc)&&fi(`${Ji.layerIds[0]}: Value for "icon-size" is >= ${Bc}. Reduce your "icon-size".`)),Ji.addSymbols(Ji.icon,yd,jl,So,pa,Un,g.WritingMode.none,Ln,bl.lineStartIndex,bl.lineLength,-1,Fo),km=Ji.icon.placedSymbolArray.length-1,wl&&(Ul=4*wl.length,Ji.addSymbols(Ji.icon,wl,jl,So,pa,Un,g.WritingMode.vertical,Ln,bl.lineStartIndex,bl.lineLength,-1,Fo),Mh=Ji.icon.placedSymbolArray.length-1)}const wg=Object.keys(Vr.horizontal);for(const ys of wg){const ya=Vr.horizontal[ys];if(!Vl){Pm=no(ya.text);const wl=_o.layout.get("text-rotate").evaluate(Un,{},Fo);Vl=new yh($o,Ln,Ro,fs,Go,ya,Mo,ro,ts,wl)}const yd=1===ya.positionedLines.length;if(_d+=Jp(Ji,Ln,ya,Qs,_o,ts,Un,ma,bl,Vr.vertical?g.WritingMode.horizontal:g.WritingMode.horizontalOnly,yd?wg:[ys],gc,km,Bs,Fo),yd)break}Vr.vertical&&(bu+=Jp(Ji,Ln,Vr.vertical,Qs,_o,ts,Un,ma,bl,g.WritingMode.vertical,["vertical"],gc,Mh,Bs,Fo));const Cg=Vl?Vl.boxStartIndex:Ji.collisionBoxArray.length,xu=Vl?Vl.boxEndIndex:Ji.collisionBoxArray.length,Eg=fa?fa.boxStartIndex:Ji.collisionBoxArray.length,qd=fa?fa.boxEndIndex:Ji.collisionBoxArray.length,wu=fc?fc.boxStartIndex:Ji.collisionBoxArray.length,Dg=fc?fc.boxEndIndex:Ji.collisionBoxArray.length,nf=ga?ga.boxStartIndex:Ji.collisionBoxArray.length,rf=ga?ga.boxEndIndex:Ji.collisionBoxArray.length;let xl=-1;const Sh=(ys,ya)=>ys&&ys.circleDiameter?Math.max(ys.circleDiameter,ya):ya;xl=Sh(Vl,xl),xl=Sh(fa,xl),xl=Sh(fc,xl),xl=Sh(ga,xl);const Om=xl>-1?1:0;Om&&(xl*=il/Oo),Ji.glyphOffsetArray.length>=el.MAX_GLYPHS&&fi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Un.sortKey&&Ji.addToSortKeyRanges(Ji.symbolInstances.length,Un.sortKey);const Mg=Sm(_o,Un,Fo),[Rm,hy]=function(ys,ya){const yd=ys.length,wl=ya?.values;if(wl?.length>0)for(let Hc=0;Hc<wl.length;Hc+=2){const jl=wl[Hc+1];ys.emplaceBack(g.TextAnchorEnum[wl[Hc]],jl[0],jl[1])}return[yd,ys.length]}(Ji.textAnchorOffsets,Mg);Ji.symbolInstances.emplaceBack(Ln.x,Ln.y,gc.right>=0?gc.right:-1,gc.center>=0?gc.center:-1,gc.left>=0?gc.left:-1,gc.vertical||-1,km,Mh,Pm,Cg,xu,Eg,qd,wu,Dg,nf,rf,Ro,_d,bu,_a,Ul,Om,0,Mo,xl,Rm,hy)}(o,sn,hi,a,m,_,Ui,o.layers[0],o.collisionBoxArray,t.index,t.sourceLayerIndex,o.index,Xe,[bt,bt,bt,bt],ki,N,yt,Ot,Gi,ge,t,D,G,J,S)};if("line"===Ri)for(const hi of Bl(t.geometry,0,0,Eo,Eo)){const sn=uy(hi,ct,Yt,a.vertical||we,m,24,et,o.overscaling,Eo);for(const Ji of sn)we&&xg(o,we.text,Ii,Ji)||Si(hi,Ji)}else if("line-center"===Ri){for(const hi of t.geometry)if(hi.length>1){const sn=yg(hi,Yt,a.vertical||we,m,24,et);sn&&Si(hi,sn)}}else if("Polygon"===t.type)for(const hi of lp(t.geometry,0)){const sn=vh(hi,16);Si(hi[0],new tl(sn.x,sn.y,0))}else if("LineString"===t.type)for(const hi of t.geometry)Si(hi,new tl(hi[0].x,hi[0].y,0));else if("Point"===t.type)for(const hi of t.geometry)for(const sn of hi)Si([sn],new tl(sn.x,sn.y,0))}function Jp(o,t,a,m,_,D,S,P,N,G,J,te,de,ge,we){const Oe=function(yt,ct,bt,Ot,Yt,ki,Gi,Ri){const Ii=Ot.layout.get("text-rotate").evaluate(ki,{})*Math.PI/180,wi=[];for(const Ui of ct.positionedLines)for(const Si of Ui.positionedGlyphs){if(!Si.rect)continue;const hi=Si.rect||{};let sn=Hd+1,Ji=!0,Ln=1,Sr=0;const Vr=(Yt||Ri)&&Si.vertical,Do=Si.metrics.advance*Si.scale/2;if(Ri&&ct.verticalizable&&(Sr=Ui.lineOffset/2-(Si.imageName?-(Oo-Si.metrics.width*Si.scale)/2:(Si.scale-1)*Oo)),Si.imageName){const So=Gi[Si.imageName];Ji=So.sdf,Ln=So.pixelRatio,sn=ps/Ln}const Qs=Yt?[Si.x+Do,Si.y]:[0,0];let Ho=Yt?[0,0]:[Si.x+Do+bt[0],Si.y+bt[1]-Sr],_o=[0,0];Vr&&(_o=Ho,Ho=[0,0]);const $o=Si.metrics.isDoubleResolution?2:1,Ro=(Si.metrics.left-sn)*Si.scale-Do+Ho[0],fs=(-Si.metrics.top-sn)*Si.scale+Ho[1],Go=Ro+hi.w/$o*Si.scale/Ln,Mo=fs+hi.h/$o*Si.scale/Ln,ro=new ke(Ro,fs),ts=new ke(Go,fs),ma=new ke(Ro,Mo),gs=new ke(Go,Mo);if(Vr){const So=new ke(-Do,Do-$d),Un=-Math.PI/2,Bs=Oo/2-Do,is=new ke(5-$d-Bs,-(Si.imageName?Bs:0)),Fo=new ke(..._o);ro._rotateAround(Un,So)._add(is)._add(Fo),ts._rotateAround(Un,So)._add(is)._add(Fo),ma._rotateAround(Un,So)._add(is)._add(Fo),gs._rotateAround(Un,So)._add(is)._add(Fo)}if(Ii){const So=Math.sin(Ii),Un=Math.cos(Ii),Bs=[Un,-So,So,Un];ro._matMult(Bs),ts._matMult(Bs),ma._matMult(Bs),gs._matMult(Bs)}const _s=new ke(0,0),pa=new ke(0,0);wi.push({tl:ro,tr:ts,bl:ma,br:gs,tex:hi,writingMode:ct.writingMode,glyphOffset:Qs,sectionIndex:Si.sectionIndex,isSDF:Ji,pixelOffsetTL:_s,pixelOffsetBR:pa,minFontScaleX:0,minFontScaleY:0})}return wi}(0,a,P,_,D,S,m,o.allowVerticalPlacement),Xe=o.textSizeData;let et=null;"source"===Xe.kind?(et=[Ma*_.layout.get("text-size").evaluate(S,{})],et[0]>mc&&fi(`${o.layerIds[0]}: Value for "text-size" is >= ${Bc}. Reduce your "text-size".`)):"composite"===Xe.kind&&(et=[Ma*ge.compositeTextSizes[0].evaluate(S,{},we),Ma*ge.compositeTextSizes[1].evaluate(S,{},we)],(et[0]>mc||et[1]>mc)&&fi(`${o.layerIds[0]}: Value for "text-size" is >= ${Bc}. Reduce your "text-size".`)),o.addSymbols(o.text,Oe,et,P,D,S,G,t,N.lineStartIndex,N.lineLength,de,we);for(const yt of J)te[yt]=o.text.placedSymbolArray.length-1;return 4*Oe.length}function Qp(o){for(const t in o)return o[t];return null}function xg(o,t,a,m){const _=o.compareText;if(t in _){const D=_[t];for(let S=D.length-1;S>=0;S--)if(m.dist(D[S])<a)return!0}else _[t]=[];return _[t].push(m),!1}const Tm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class ef{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,m]=new Uint8Array(t,0,2);if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(1!==_)throw new Error(`Got v${_} data when expected v1.`);const D=Tm[15&m];if(!D)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(t,2,1),[P]=new Uint32Array(t,4,1);return new ef(P,S,D,t)}constructor(t,a=64,m=Float64Array,_){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=m,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const D=Tm.indexOf(this.ArrayType),S=2*t*this.ArrayType.BYTES_PER_ELEMENT,P=t*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-P%8)%8;if(D<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+P+N,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+S+P+N),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+P+N,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+D]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=t)}add(t,a){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=t,this.coords[this._pos++]=a,m}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return tf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,a,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:D,coords:S,nodeSize:P}=this,N=[0,D.length-1,0],G=[];for(;N.length;){const J=N.pop()||0,te=N.pop()||0,de=N.pop()||0;if(te-de<=P){for(let Xe=de;Xe<=te;Xe++){const et=S[2*Xe],yt=S[2*Xe+1];et>=t&&et<=m&&yt>=a&&yt<=_&&G.push(D[Xe])}continue}const ge=de+te>>1,we=S[2*ge],Oe=S[2*ge+1];we>=t&&we<=m&&Oe>=a&&Oe<=_&&G.push(D[ge]),(0===J?t<=we:a<=Oe)&&(N.push(de),N.push(ge-1),N.push(1-J)),(0===J?m>=we:_>=Oe)&&(N.push(ge+1),N.push(te),N.push(1-J))}return G}within(t,a,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:D,nodeSize:S}=this,P=[0,_.length-1,0],N=[],G=m*m;for(;P.length;){const J=P.pop()||0,te=P.pop()||0,de=P.pop()||0;if(te-de<=S){for(let Xe=de;Xe<=te;Xe++)Im(D[2*Xe],D[2*Xe+1],t,a)<=G&&N.push(_[Xe]);continue}const ge=de+te>>1,we=D[2*ge],Oe=D[2*ge+1];Im(we,Oe,t,a)<=G&&N.push(_[ge]),(0===J?t-m<=we:a-m<=Oe)&&(P.push(de),P.push(ge-1),P.push(1-J)),(0===J?t+m>=we:a+m>=Oe)&&(P.push(ge+1),P.push(te),P.push(1-J))}return N}}function tf(o,t,a,m,_,D){if(_-m<=a)return;const S=m+_>>1;Zd(o,t,S,m,_,D),tf(o,t,a,m,S-1,1-D),tf(o,t,a,S+1,_,1-D)}function Zd(o,t,a,m,_,D){for(;_>m;){if(_-m>600){const G=_-m+1,J=a-m+1,te=Math.log(G),de=.5*Math.exp(2*te/3),ge=.5*Math.sqrt(te*de*(G-de)/G)*(J-G/2<0?-1:1);Zd(o,t,a,Math.max(m,Math.floor(a-J*de/G+ge)),Math.min(_,Math.floor(a+(G-J)*de/G+ge)),D)}const S=t[2*a+D];let P=m,N=_;for(cr(o,t,m,a),t[2*_+D]>S&&cr(o,t,m,_);P<N;){for(cr(o,t,P,N),P++,N--;t[2*P+D]<S;)P++;for(;t[2*N+D]>S;)N--}t[2*m+D]===S?cr(o,t,m,N):(N++,cr(o,t,N,_)),N<=a&&(m=N+1),a<=N&&(_=N-1)}}function cr(o,t,a,m){fd(o,a,m),fd(t,2*a,2*m),fd(t,2*a+1,2*m+1)}function fd(o,t,a){const m=o[t];o[t]=o[a],o[a]=m}function Im(o,t,a,m){const _=o-a,D=t-m;return _*_+D*D}var wh;g.PerformanceMarkers=void 0,(wh=g.PerformanceMarkers||(g.PerformanceMarkers={})).create="create",wh.load="load",wh.fullLoad="fullLoad";let Wd=null,gd=[];const Am=1e3/60,Ch="loadTime",Eh="fullLoadTime",Dh={mark(o){performance.mark(o)},frame(o){const t=o;null!=Wd&&gd.push(t-Wd),Wd=t},clearMetrics(){Wd=null,gd=[],performance.clearMeasures(Ch),performance.clearMeasures(Eh);for(const o in g.PerformanceMarkers)performance.clearMarks(g.PerformanceMarkers[o])},getPerformanceMetrics(){performance.measure(Ch,g.PerformanceMarkers.create,g.PerformanceMarkers.load),performance.measure(Eh,g.PerformanceMarkers.create,g.PerformanceMarkers.fullLoad);const o=performance.getEntriesByName(Ch)[0].duration,t=performance.getEntriesByName(Eh)[0].duration,a=gd.length,m=1/(gd.reduce((D,S)=>D+S,0)/a/1e3),_=gd.filter(D=>D>Am).reduce((D,S)=>D+(S-Am)/Am,0);return{loadTime:o,fullLoadTime:t,fps:m,percentDroppedFrames:_/(a+_)*100,totalFrames:a}}};g.AJAXError=kt,g.ARRAY_TYPE=gl,g.Actor=class{constructor(o,t,a){this.receive=m=>{const _=m.data,D=_.id;if(D&&(!_.targetMapId||this.mapId===_.targetMapId))if("<cancel>"===_.type){delete this.tasks[D];const S=this.cancelCallbacks[D];delete this.cancelCallbacks[D],S&&S()}else Hi()||_.mustQueue?(this.tasks[D]=_,this.taskQueue.push(D),this.invoker.trigger()):this.processTask(D,_)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),_=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),_&&this.processTask(m,_)},this.target=o,this.parent=t,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Lp(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Hi()?o:window}send(o,t,a,m,_=!1){const D=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[D]=a);const S=Kn(this.globalScope)?void 0:[];return this.target.postMessage({id:D,type:o,hasCallback:!!a,targetMapId:m,mustQueue:_,sourceMapId:this.mapId,data:Zt(t,S)},S),{cancel:()=>{a&&delete this.callbacks[D],this.target.postMessage({id:D,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(o,t){if("<response>"===t.type){const a=this.callbacks[o];delete this.callbacks[o],a&&(t.error?a(ji(t.error)):a(null,ji(t.data)))}else{let a=!1;const m=Kn(this.globalScope)?void 0:[],_=t.hasCallback?(P,N)=>{a=!0,delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:P?Zt(P):null,data:Zt(N,m)},m)}:P=>{a=!0};let D=null;const S=ji(t.data);if(this.parent[t.type])D=this.parent[t.type](t.sourceMapId,S,_);else if(this.parent.getWorkerSource){const P=t.type.split(".");D=this.parent.getWorkerSource(t.sourceMapId,P[0],S.source)[P[1]](S,_)}else _(new Error(`Could not find function ${t.type}`));!a&&D&&D.cancel&&(this.cancelCallbacks[o]=D.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},g.AlphaImage=sc,g.CanonicalTileID=wm,g.CollisionBoxArray=j,g.CollisionCircleLayoutArray=class extends y{},g.Color=fn,g.DEMData=jp,g.DataConstantProperty=en,g.DictionaryCoder=Cm,g.EXTENT=Eo,g.ErrorEvent=$t,g.EvaluationParameters=Rr,g.Event=dt,g.Evented=Kt,g.FeatureIndex=$p,g.FillBucket=rm,g.FillExtrusionBucket=Nd,g.GeoJSONFeature=Hp,g.ImageAtlas=ih,g.ImagePosition=pm,g.KDBush=ef,g.LineBucket=Bd,g.LineStripIndexArray=class extends T{},g.LngLat=Sa,g.MercatorCoordinate=pc,g.ONE_EM=Oo,g.OverscaledTileID=ja,g.PerformanceUtils=Dh,g.Point=ke,g.Pos3dArray=class extends ti{},g.PosArray=Bi,g.Properties=go,g.Protobuf=hm,g.QuadTriangleArray=class extends O{},g.RGBAImage=Mr,g.RasterBoundsArray=class extends Fn{},g.RequestPerformance=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return 0===o.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},g.SegmentVector=kr,g.SymbolBucket=el,g.Transitionable=Ds,g.TriangleIndexArray=Dr,g.Uniform1f=Ac,g.Uniform1i=class extends Ic{constructor(o,t){super(o,t),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},g.Uniform2f=class extends Ic{constructor(o,t){super(o,t),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},g.Uniform3f=class extends Ic{constructor(o,t){super(o,t),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},g.Uniform4f=kc,g.UniformColor=ku,g.UniformMatrix4f=class extends Ic{constructor(o,t){super(o,t),this.current=Kc}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let t=1;t<16;t++)if(o[t]!==this.current[t]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},g.UnwrappedTileID=hh,g.ValidationError=tt,g.ZoomHistory=lr,g.__awaiter=Ue,g.addDynamicAttributes=ud,g.arrayBufferToImage=function(o,t){const a=new Image;a.onload=()=>{t(null,a),URL.revokeObjectURL(a.src),a.onload=null,window.requestAnimationFrame(()=>{a.src=Hn})},a.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(o)],{type:"image/png"});a.src=o.byteLength?URL.createObjectURL(m):Hn},g.arrayBufferToImageBitmap=function(o,t){const a=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(a).then(m=>{t(null,m)}).catch(m=>{t(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},g.asyncAll=function(o,t,a){if(!o.length)return a(null,[]);let m=o.length;const _=new Array(o.length);let D=null;o.forEach((S,P)=>{t(S,(N,G)=>{N&&(D=N),_[P]=G,0==--m&&a(D,_)})})},g.bezier=Ut,g.browser=Mt,g.clamp=Ti,g.clipLine=Bl,g.clone=function(o){var t=new gl(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t},g.clone$1=Pt,g.collisionCircleLayout=wp,g.config=at,g.copy=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},g.create=function(){var o=new gl(16);return gl!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},g.createExpression=st,g.createFilter=Al,g.createLayout=Br,g.createStyleLayer=function(o){if("custom"===o.type)return new bm(o);switch(o.type){case"background":return new _g(o);case"circle":return new ty(o);case"fill":return new mp(o);case"fill-extrusion":return new _p(o);case"heatmap":return new uu(o);case"hillshade":return new Pd(o);case"line":return new Da(o);case"raster":return new vm(o);case"symbol":return new ch(o)}},g.deepEqual=function o(t,a){if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(let m=0;m<t.length;m++)if(!o(t[m],a[m]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==a){if("object"!=typeof a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const m in t)if(!o(t[m],a[m]))return!1;return!0}return t===a},g.defaultEasing=ei,g.derefLayers=function(o){o=o.slice();const t=Object.create(null);for(let a=0;a<o.length;a++)t[o[a].id]=o[a];for(let a=0;a<o.length;a++)"ref"in o[a]&&(o[a]=On(o[a],t[o[a].ref]));return o},g.diffStyles=function(o,t){if(!o)return[{command:zi.setStyle,args:[t]}];let a=[];try{if(!Wi(o.version,t.version))return[{command:zi.setStyle,args:[t]}];Wi(o.center,t.center)||a.push({command:zi.setCenter,args:[t.center]}),Wi(o.zoom,t.zoom)||a.push({command:zi.setZoom,args:[t.zoom]}),Wi(o.bearing,t.bearing)||a.push({command:zi.setBearing,args:[t.bearing]}),Wi(o.pitch,t.pitch)||a.push({command:zi.setPitch,args:[t.pitch]}),Wi(o.sprite,t.sprite)||a.push({command:zi.setSprite,args:[t.sprite]}),Wi(o.glyphs,t.glyphs)||a.push({command:zi.setGlyphs,args:[t.glyphs]}),Wi(o.transition,t.transition)||a.push({command:zi.setTransition,args:[t.transition]}),Wi(o.light,t.light)||a.push({command:zi.setLight,args:[t.light]});const m={},_=[];!function(S,P,N,G){let J;for(J in P=P||{},S=S||{})Object.prototype.hasOwnProperty.call(S,J)&&(Object.prototype.hasOwnProperty.call(P,J)||xe(J,N,G));for(J in P)Object.prototype.hasOwnProperty.call(P,J)&&(Object.prototype.hasOwnProperty.call(S,J)?Wi(S[J],P[J])||("geojson"===S[J].type&&"geojson"===P[J].type&&Pe(S,P,J)?N.push({command:zi.setGeoJSONSourceData,args:[J,P[J].data]}):Re(J,P,N,G)):Tt(J,P,N))}(o.sources,t.sources,_,m);const D=[];o.layers&&o.layers.forEach(S=>{m[S.source]?a.push({command:zi.removeLayer,args:[S.id]}):D.push(S)}),a=a.concat(_),function(S,P,N){P=P||[];const G=(S=S||[]).map(be),J=P.map(be),te=S.reduce(qe,{}),de=P.reduce(qe,{}),ge=G.slice(),we=Object.create(null);let Oe,Xe,et,yt,ct,bt,Ot;for(Oe=0,Xe=0;Oe<G.length;Oe++)et=G[Oe],Object.prototype.hasOwnProperty.call(de,et)?Xe++:(N.push({command:zi.removeLayer,args:[et]}),ge.splice(ge.indexOf(et,Xe),1));for(Oe=0,Xe=0;Oe<J.length;Oe++)et=J[J.length-1-Oe],ge[ge.length-1-Oe]!==et&&(Object.prototype.hasOwnProperty.call(te,et)?(N.push({command:zi.removeLayer,args:[et]}),ge.splice(ge.lastIndexOf(et,ge.length-Xe),1)):Xe++,bt=ge[ge.length-Oe],N.push({command:zi.addLayer,args:[de[et],bt]}),ge.splice(ge.length-Oe,0,et),we[et]=!0);for(Oe=0;Oe<J.length;Oe++)if(et=J[Oe],yt=te[et],ct=de[et],!we[et]&&!Wi(yt,ct))if(Wi(yt.source,ct.source)&&Wi(yt["source-layer"],ct["source-layer"])&&Wi(yt.type,ct.type)){for(Ot in Ye(yt.layout,ct.layout,N,et,null,zi.setLayoutProperty),Ye(yt.paint,ct.paint,N,et,null,zi.setPaintProperty),Wi(yt.filter,ct.filter)||N.push({command:zi.setFilter,args:[et,ct.filter]}),Wi(yt.minzoom,ct.minzoom)&&Wi(yt.maxzoom,ct.maxzoom)||N.push({command:zi.setLayerZoomRange,args:[et,ct.minzoom,ct.maxzoom]}),yt)Object.prototype.hasOwnProperty.call(yt,Ot)&&"layout"!==Ot&&"paint"!==Ot&&"filter"!==Ot&&"metadata"!==Ot&&"minzoom"!==Ot&&"maxzoom"!==Ot&&(0===Ot.indexOf("paint.")?Ye(yt[Ot],ct[Ot],N,et,Ot.slice(6),zi.setPaintProperty):Wi(yt[Ot],ct[Ot])||N.push({command:zi.setLayerProperty,args:[et,Ot,ct[Ot]]}));for(Ot in ct)Object.prototype.hasOwnProperty.call(ct,Ot)&&!Object.prototype.hasOwnProperty.call(yt,Ot)&&"layout"!==Ot&&"paint"!==Ot&&"filter"!==Ot&&"metadata"!==Ot&&"minzoom"!==Ot&&"maxzoom"!==Ot&&(0===Ot.indexOf("paint.")?Ye(yt[Ot],ct[Ot],N,et,Ot.slice(6),zi.setPaintProperty):Wi(yt[Ot],ct[Ot])||N.push({command:zi.setLayerProperty,args:[et,Ot,ct[Ot]]}))}else N.push({command:zi.removeLayer,args:[et]}),bt=ge[ge.lastIndexOf(et)+1],N.push({command:zi.addLayer,args:[ct,bt]})}(D,t.layers,a)}catch(m){console.warn("Unable to compute style diff:",m),a=[{command:zi.setStyle,args:[t]}]}return a},g.dot=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]},g.earthRadius=uh,g.emitValidationErrors=he,g.emptyStyle=function(){const o={},t=_t.$version;for(const a in _t.$root){const m=_t.$root[a];if(m.required){let _=null;_="version"===a?t:"array"===m.type?[]:{},null!=_&&(o[a]=_)}}return o},g.equals=function(o,t){var a=o[0],m=o[1],_=o[2],D=o[3],S=o[4],P=o[5],N=o[6],G=o[7],J=o[8],te=o[9],de=o[10],ge=o[11],we=o[12],Oe=o[13],Xe=o[14],et=o[15],yt=t[0],ct=t[1],bt=t[2],Ot=t[3],Yt=t[4],ki=t[5],Gi=t[6],Ri=t[7],Ii=t[8],wi=t[9],Ui=t[10],Si=t[11],hi=t[12],sn=t[13],Ji=t[14],Ln=t[15];return Math.abs(a-yt)<=Po*Math.max(1,Math.abs(a),Math.abs(yt))&&Math.abs(m-ct)<=Po*Math.max(1,Math.abs(m),Math.abs(ct))&&Math.abs(_-bt)<=Po*Math.max(1,Math.abs(_),Math.abs(bt))&&Math.abs(D-Ot)<=Po*Math.max(1,Math.abs(D),Math.abs(Ot))&&Math.abs(S-Yt)<=Po*Math.max(1,Math.abs(S),Math.abs(Yt))&&Math.abs(P-ki)<=Po*Math.max(1,Math.abs(P),Math.abs(ki))&&Math.abs(N-Gi)<=Po*Math.max(1,Math.abs(N),Math.abs(Gi))&&Math.abs(G-Ri)<=Po*Math.max(1,Math.abs(G),Math.abs(Ri))&&Math.abs(J-Ii)<=Po*Math.max(1,Math.abs(J),Math.abs(Ii))&&Math.abs(te-wi)<=Po*Math.max(1,Math.abs(te),Math.abs(wi))&&Math.abs(de-Ui)<=Po*Math.max(1,Math.abs(de),Math.abs(Ui))&&Math.abs(ge-Si)<=Po*Math.max(1,Math.abs(ge),Math.abs(Si))&&Math.abs(we-hi)<=Po*Math.max(1,Math.abs(we),Math.abs(hi))&&Math.abs(Oe-sn)<=Po*Math.max(1,Math.abs(Oe),Math.abs(sn))&&Math.abs(Xe-Ji)<=Po*Math.max(1,Math.abs(Xe),Math.abs(Ji))&&Math.abs(et-Ln)<=Po*Math.max(1,Math.abs(et),Math.abs(Ln))},g.evaluateSizeForFeature=function(o,{uSize:t,uSizeT:a},{lowerSize:m,upperSize:_}){return"source"===o.kind?m/Ma:"composite"===o.kind?Xn.number(m/Ma,_/Ma,a):t},g.evaluateSizeForZoom=function(o,t){let a=0,m=0;if("constant"===o.kind)m=o.layoutSize;else if("source"!==o.kind){const{interpolationType:_,minZoom:D,maxZoom:S}=o,P=_?Ti(Nr.interpolationFactor(_,t,D,S),0,1):0;"camera"===o.kind?m=Xn.number(o.minSize,o.maxSize,P):a=P}return{uSizeT:a,uSize:m}},g.evented=Cc,g.extend=Fe,g.filterObject=Nt,g.findLineIntersection=function(o,t,a,m){const _=t.y-o.y,D=t.x-o.x,S=m.y-a.y,P=m.x-a.x,N=S*D-P*_;if(0===N)return null;const G=(P*(o.y-a.y)-S*(o.x-a.x))/N;return new ke(o.x+G*D,o.y+G*_)},g.fromScaling=function(o,t){return o[0]=t[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},g.getAnchorAlignment=_u,g.getAnchorJustification=xh,g.getArrayBuffer=Jt,g.getDefaultExportFromCjs=ae,g.getImageData=function(o,t,a,m,_){return Ue(this,void 0,void 0,function*(){if(Et())try{return yield Pn(o,t,a,m,_)}catch{}return function(D,S,P,N,G){const J=D.width,te=D.height;xt&&wt||(xt=new OffscreenCanvas(J,te),wt=xt.getContext("2d",{willReadFrequently:!0})),xt.width=J,xt.height=te,wt.drawImage(D,0,0,J,te);const de=wt.getImageData(S,P,N,G);return wt.clearRect(0,0,J,te),de.data}(o,t,a,m,_)})},g.getJSON=function(o,t){return ai(Fe(o,{type:"json"}),t)},g.getOverlapMode=dd,g.getProtocolAction=ht,g.getRTLTextPluginStatus=Ns,g.getReferrer=We,g.getVideo=function(o,t){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(let m=0;m<o.length;m++){const _=window.document.createElement("source");vi(o[m])||(a.crossOrigin="Anonymous"),_.src=o[m],a.appendChild(_)}return{cancel:()=>{}}},g.groupByLayout=function(o,t){const a={};for(let _=0;_<o.length;_++){const D=t&&t[o[_].id]||uo(o[_]);t&&(t[o[_].id]=D);let S=a[D];S||(S=a[D]=[]),S.push(o[_])}const m=[];for(const _ in a)m.push(a[_]);return m},g.identity=zu,g.interpolate=Xn,g.invert=function(o,t){var a=t[0],m=t[1],_=t[2],D=t[3],S=t[4],P=t[5],N=t[6],G=t[7],J=t[8],te=t[9],de=t[10],ge=t[11],we=t[12],Oe=t[13],Xe=t[14],et=t[15],yt=a*P-m*S,ct=a*N-_*S,bt=a*G-D*S,Ot=m*N-_*P,Yt=m*G-D*P,ki=_*G-D*N,Gi=J*Oe-te*we,Ri=J*Xe-de*we,Ii=J*et-ge*we,wi=te*Xe-de*Oe,Ui=te*et-ge*Oe,Si=de*et-ge*Xe,hi=yt*Si-ct*Ui+bt*wi+Ot*Ii-Yt*Ri+ki*Gi;return hi?(o[0]=(P*Si-N*Ui+G*wi)*(hi=1/hi),o[1]=(_*Ui-m*Si-D*wi)*hi,o[2]=(Oe*ki-Xe*Yt+et*Ot)*hi,o[3]=(de*Yt-te*ki-ge*Ot)*hi,o[4]=(N*Ii-S*Si-G*Ri)*hi,o[5]=(a*Si-_*Ii+D*Ri)*hi,o[6]=(Xe*bt-we*ki-et*ct)*hi,o[7]=(J*ki-de*bt+ge*ct)*hi,o[8]=(S*Ui-P*Ii+G*Gi)*hi,o[9]=(m*Ii-a*Ui-D*Gi)*hi,o[10]=(we*Yt-Oe*bt+et*yt)*hi,o[11]=(te*bt-J*Yt-ge*yt)*hi,o[12]=(P*Ri-S*wi-N*Gi)*hi,o[13]=(a*wi-m*Ri+_*Gi)*hi,o[14]=(Oe*ct-we*Ot-Xe*yt)*hi,o[15]=(J*Ot-te*ct+de*yt)*hi,o):null},g.isImageBitmap=yn,g.isOffscreenCanvasDistorted=Et,g.isSafari=Kn,g.isWorker=Hi,g.keysDifference=function(o,t){const a=[];for(const m in o)m in t||a.push(m);return a},g.lazyLoadRTLTextPlugin=function(){ir.isLoading()||ir.isLoaded()||"deferred"!==Ns()||Na()},g.makeRequest=ai,g.mapObject=$e,g.mercatorXfromLng=zp,g.mercatorYfromLat=Bp,g.mercatorZfromAltitude=Vp,g.mul=qf,g.mul$1=function(o,t,a){return o[0]=t[0]*a[0],o[1]=t[1]*a[1],o[2]=t[2]*a[2],o[3]=t[3]*a[3],o},g.multiply=kd,g.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},g.offscreenCanvasSupported=ut,g.operations=zi,g.ortho=function(o,t,a,m,_,D,S){var P=1/(t-a),N=1/(m-_),G=1/(D-S);return o[0]=-2*P,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*N,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*G,o[11]=0,o[12]=(t+a)*P,o[13]=(_+m)*N,o[14]=(S+D)*G,o[15]=1,o},g.parseCacheControl=function(o){const t={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,m,_,D)=>{const S=_||D;return t[m]=!S||S.toLowerCase(),""}),t["max-age"]){const a=parseInt(t["max-age"],10);isNaN(a)?delete t["max-age"]:t["max-age"]=a}return t},g.parseGlyphPbf=function(o){return new hm(o).readFields(Ap,[])},g.pbf=Ep,g.performSymbolLayout=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=Eo/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const t=o.bucket.layers[0],a=t.layout,m=t._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new Rr(o.bucket.zoom+1),o.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new Rr(o.bucket.zoom+1),o.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new Rr(18))};if("composite"===o.bucket.textSizeData.kind){const{minZoom:G,maxZoom:J}=o.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new Rr(G),o.canonical),m["text-size"].possiblyEvaluate(new Rr(J),o.canonical)]}if("composite"===o.bucket.iconSizeData.kind){const{minZoom:G,maxZoom:J}=o.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new Rr(G),o.canonical),m["icon-size"].possiblyEvaluate(new Rr(J),o.canonical)]}const D=a.get("text-line-height")*Oo,S="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement"),P=a.get("text-keep-upright"),N=a.get("text-size");for(const G of o.bucket.features){const J=a.get("text-font").evaluate(G,{},o.canonical).join(","),te=N.evaluate(G,{},o.canonical),de=_.layoutTextSize.evaluate(G,{},o.canonical),ge=_.layoutIconSize.evaluate(G,{},o.canonical),we={horizontal:{},vertical:void 0},Oe=G.text;let Xe,et=[0,0];if(Oe){const bt=Oe.toString(),Ot=a.get("text-letter-spacing").evaluate(G,{},o.canonical)*Oo,Yt=In(bt)?Ot:0,ki=a.get("text-anchor").evaluate(G,{},o.canonical),Gi=Sm(t,G,o.canonical);if(!Gi){const Si=a.get("text-radial-offset").evaluate(G,{},o.canonical);et=Si?Xp(ki,[Si*Oo,bh]):a.get("text-offset").evaluate(G,{},o.canonical).map(hi=>hi*Oo)}let Ri=S?"center":a.get("text-justify").evaluate(G,{},o.canonical);const Ii=a.get("symbol-placement"),wi="point"===Ii?a.get("text-max-width").evaluate(G,{},o.canonical)*Oo:0,Ui=()=>{o.bucket.allowVerticalPlacement&&Bn(bt)&&(we.vertical=pu(Oe,o.glyphMap,o.glyphPositions,o.imagePositions,J,wi,D,ki,"left",Yt,et,g.WritingMode.vertical,!0,Ii,de,te))};if(!S&&Gi){const Si=new Set;if("auto"===Ri)for(let sn=0;sn<Gi.values.length;sn+=2)Si.add(xh(Gi.values[sn]));else Si.add(Ri);let hi=!1;for(const sn of Si)if(!we.horizontal[sn])if(hi)we.horizontal[sn]=we.horizontal[0];else{const Ji=pu(Oe,o.glyphMap,o.glyphPositions,o.imagePositions,J,wi,D,"center",sn,Yt,et,g.WritingMode.horizontal,!1,Ii,de,te);Ji&&(we.horizontal[sn]=Ji,hi=1===Ji.positionedLines.length)}Ui()}else{"auto"===Ri&&(Ri=xh(ki));const Si=pu(Oe,o.glyphMap,o.glyphPositions,o.imagePositions,J,wi,D,ki,Ri,Yt,et,g.WritingMode.horizontal,!1,Ii,de,te);Si&&(we.horizontal[Ri]=Si),Ui(),Bn(bt)&&S&&P&&(we.vertical=pu(Oe,o.glyphMap,o.glyphPositions,o.imagePositions,J,wi,D,ki,Ri,Yt,et,g.WritingMode.vertical,!1,Ii,de,te))}}let yt=!1;if(G.icon&&G.icon.name){const bt=o.imageMap[G.icon.name];bt&&(Xe=Gd(o.imagePositions[G.icon.name],a.get("icon-offset").evaluate(G,{},o.canonical),a.get("icon-anchor").evaluate(G,{},o.canonical)),yt=!!bt.sdf,void 0===o.bucket.sdfIcons?o.bucket.sdfIcons=yt:o.bucket.sdfIcons!==yt&&fi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(bt.pixelRatio!==o.bucket.pixelRatio||0!==a.get("icon-rotate").constantOr(1))&&(o.bucket.iconsNeedLinear=!0))}const ct=Qp(we.horizontal)||we.vertical;o.bucket.iconsInText=!!ct&&ct.iconsInText,(ct||Xe)&&bg(o.bucket,G,we,Xe,o.imageMap,_,de,ge,et,yt,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},g.perspective=function(o,t,a,m,_){var D,S=1/Math.tan(t/2);return o[0]=S/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=S,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,null!=_&&_!==1/0?(o[10]=(_+m)*(D=1/(m-_)),o[14]=2*_*m*D):(o[10]=-1,o[14]=-2*m),o},g.pick=function(o,t){const a={};for(let m=0;m<t.length;m++){const _=t[m];_ in o&&(a[_]=o[_])}return a},g.plugin=ir,g.pointGeometry=Ke,g.polygonIntersectsPolygon=Zr,g.potpack=th,g.readImageUsingVideoFrame=Pn,g.register=Me,g.registerForPluginStateChange=function(o){return o({pluginStatus:un,pluginURL:Ls}),Cc.on("pluginStateChange",o),o},g.renderColorRamp=np,g.rotateX=function(o,t,a){var m=Math.sin(a),_=Math.cos(a),D=t[4],S=t[5],P=t[6],N=t[7],G=t[8],J=t[9],te=t[10],de=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=D*_+G*m,o[5]=S*_+J*m,o[6]=P*_+te*m,o[7]=N*_+de*m,o[8]=G*_-D*m,o[9]=J*_-S*m,o[10]=te*_-P*m,o[11]=de*_-N*m,o},g.rotateZ=function(o,t,a){var m=Math.sin(a),_=Math.cos(a),D=t[0],S=t[1],P=t[2],N=t[3],G=t[4],J=t[5],te=t[6],de=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=D*_+G*m,o[1]=S*_+J*m,o[2]=P*_+te*m,o[3]=N*_+de*m,o[4]=G*_-D*m,o[5]=J*_-S*m,o[6]=te*_-P*m,o[7]=de*_-N*m,o},g.sameOrigin=vi,g.scale=function(o,t,a){var m=a[0],_=a[1],D=a[2];return o[0]=t[0]*m,o[1]=t[1]*m,o[2]=t[2]*m,o[3]=t[3]*m,o[4]=t[4]*_,o[5]=t[5]*_,o[6]=t[6]*_,o[7]=t[7]*_,o[8]=t[8]*D,o[9]=t[9]*D,o[10]=t[10]*D,o[11]=t[11]*D,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},g.setRTLTextPlugin=function(o,t,a=!1){if(un===Jo||un===fo||un===Ws)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ls=Mt.resolveURL(o),un=Jo,dn=t,Qr(),a||Na()},g.sphericalToCartesian=function([o,t,a]){return t+=90,t*=Math.PI/180,a*=Math.PI/180,{x:o*Math.cos(t)*Math.sin(a),y:o*Math.sin(t)*Math.sin(a),z:o*Math.cos(a)}},g.toEvaluationFeature=Oc,g.transformMat4=Bu,g.translate=function(o,t,a){var m,_,D,S,P,N,G,J,te,de,ge,we,Oe=a[0],Xe=a[1],et=a[2];return t===o?(o[12]=t[0]*Oe+t[4]*Xe+t[8]*et+t[12],o[13]=t[1]*Oe+t[5]*Xe+t[9]*et+t[13],o[14]=t[2]*Oe+t[6]*Xe+t[10]*et+t[14],o[15]=t[3]*Oe+t[7]*Xe+t[11]*et+t[15]):(_=t[1],D=t[2],S=t[3],P=t[4],N=t[5],G=t[6],J=t[7],te=t[8],de=t[9],ge=t[10],we=t[11],o[0]=m=t[0],o[1]=_,o[2]=D,o[3]=S,o[4]=P,o[5]=N,o[6]=G,o[7]=J,o[8]=te,o[9]=de,o[10]=ge,o[11]=we,o[12]=m*Oe+P*Xe+te*et+t[12],o[13]=_*Oe+N*Xe+de*et+t[13],o[14]=D*Oe+G*Xe+ge*et+t[14],o[15]=S*Oe+J*Xe+we*et+t[15]),o},g.triggerPluginCompletionEvent=ul,g.unicodeBlockLookup=li,g.uniqueId=function(){return Je++},g.v8Spec=_t,g.validateCustomStyleLayer=function(o){const t=[],a=o.id;return void 0===a&&t.push({message:`layers.${a}: missing required property "id"`}),void 0===o.render&&t.push({message:`layers.${a}: missing required method "render"`}),o.renderingMode&&"2d"!==o.renderingMode&&"3d"!==o.renderingMode&&t.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),t},g.validateLight=Fs,g.validateStyle=Ql,g.vectorTile=cc,g.warnOnce=fi,g.wrap=ni}),l(0,function(g){class Ue{constructor(K){this.keyCache={},K&&this.replace(K)}replace(K){this._layerConfigs={},this._layers={},this.update(K,[])}update(K,se){for(const Ae of K){this._layerConfigs[Ae.id]=Ae;const ze=this._layers[Ae.id]=g.createStyleLayer(Ae);ze._featureFilter=g.createFilter(ze.filter),this.keyCache[Ae.id]&&delete this.keyCache[Ae.id]}for(const Ae of se)delete this.keyCache[Ae],delete this._layerConfigs[Ae],delete this._layers[Ae];this.familiesBySource={};const Ce=g.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const Ae of Ce){const ze=Ae.map(Ie=>this._layers[Ie.id]),Ee=ze[0];if("none"===Ee.visibility)continue;const ie=Ee.source||"";let $=this.familiesBySource[ie];$||($=this.familiesBySource[ie]={});const Z=Ee.sourceLayer||"_geojsonTileLayer";let ce=$[Z];ce||(ce=$[Z]=[]),ce.push(ze)}}}class ae{constructor(K){const se={},Ce=[];for(const ie in K){const $=K[ie],Z=se[ie]={};for(const ce in $){const Ie=$[+ce];if(!Ie||0===Ie.bitmap.width||0===Ie.bitmap.height)continue;const ye={x:0,y:0,w:Ie.bitmap.width+2,h:Ie.bitmap.height+2};Ce.push(ye),Z[ce]={rect:ye,metrics:Ie.metrics}}}const{w:Ae,h:ze}=g.potpack(Ce),Ee=new g.AlphaImage({width:Ae||1,height:ze||1});for(const ie in K){const $=K[ie];for(const Z in $){const ce=$[+Z];if(!ce||0===ce.bitmap.width||0===ce.bitmap.height)continue;const Ie=se[ie][Z].rect;g.AlphaImage.copy(ce.bitmap,Ee,{x:0,y:0},{x:Ie.x+1,y:Ie.y+1},ce.bitmap)}}this.image=Ee,this.positions=se}}g.register("GlyphAtlas",ae);class Ke{constructor(K){this.tileID=new g.OverscaledTileID(K.tileID.overscaledZ,K.tileID.wrap,K.tileID.canonical.z,K.tileID.canonical.x,K.tileID.canonical.y),this.uid=K.uid,this.zoom=K.zoom,this.pixelRatio=K.pixelRatio,this.tileSize=K.tileSize,this.source=K.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=K.showCollisionBoxes,this.collectResourceTiming=!!K.collectResourceTiming,this.returnDependencies=!!K.returnDependencies,this.promoteId=K.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(K,se,Ce,Ae,ze){this.status="parsing",this.data=K,this.collisionBoxArray=new g.CollisionBoxArray;const Ee=new g.DictionaryCoder(Object.keys(K.layers).sort()),ie=new g.FeatureIndex(this.tileID,this.promoteId);ie.bucketLayerIDs=[];const $={},Z={featureIndex:ie,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ce},ce=se.familiesBySource[this.source];for(const Qe in ce){const St=K.layers[Qe];if(!St)continue;1===St.version&&g.warnOnce(`Vector tile source "${this.source}" layer "${Qe}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Qt=Ee.encode(Qe),si=[];for(let oi=0;oi<St.length;oi++){const Oi=St.feature(oi),nn=ie.getId(Oi,Qe);si.push({feature:Oi,id:nn,index:oi,sourceLayerIndex:Qt})}for(const oi of ce[Qe]){const Oi=oi[0];Oi.source!==this.source&&g.warnOnce(`layer.source = ${Oi.source} does not equal this.source = ${this.source}`),Oi.minzoom&&this.zoom<Math.floor(Oi.minzoom)||Oi.maxzoom&&this.zoom>=Oi.maxzoom||"none"!==Oi.visibility&&(ot(oi,this.zoom,Ce),($[Oi.id]=Oi.createBucket({index:ie.bucketLayerIDs.length,layers:oi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Qt,sourceID:this.source})).populate(si,Z,this.tileID.canonical),ie.bucketLayerIDs.push(oi.map(nn=>nn.id)))}}let Ie,ye,Le,pe;const Te=g.mapObject(Z.glyphDependencies,Qe=>Object.keys(Qe).map(Number));this.inFlightDependencies.forEach(Qe=>Qe?.cancel()),this.inFlightDependencies=[];const rt=++this.dependencySentinel;Object.keys(Te).length?this.inFlightDependencies.push(Ae.send("getGlyphs",{uid:this.uid,stacks:Te,source:this.source,tileID:this.tileID,type:"glyphs"},(Qe,St)=>{rt===this.dependencySentinel&&(Ie||(Ie=Qe,ye=St,Ne.call(this)))})):ye={};const Ct=Object.keys(Z.iconDependencies);Ct.length?this.inFlightDependencies.push(Ae.send("getImages",{icons:Ct,source:this.source,tileID:this.tileID,type:"icons"},(Qe,St)=>{rt===this.dependencySentinel&&(Ie||(Ie=Qe,Le=St,Ne.call(this)))})):Le={};const Ve=Object.keys(Z.patternDependencies);function Ne(){if(Ie)return ze(Ie);if(ye&&Le&&pe){const Qe=new ae(ye),St=new g.ImageAtlas(Le,pe);for(const Qt in $){const si=$[Qt];si instanceof g.SymbolBucket?(ot(si.layers,this.zoom,Ce),g.performSymbolLayout({bucket:si,glyphMap:ye,glyphPositions:Qe.positions,imageMap:Le,imagePositions:St.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):si.hasPattern&&(si instanceof g.LineBucket||si instanceof g.FillBucket||si instanceof g.FillExtrusionBucket)&&(ot(si.layers,this.zoom,Ce),si.addFeatures(Z,this.tileID.canonical,St.patternPositions))}this.status="done",ze(null,{buckets:Object.values($).filter(Qt=>!Qt.isEmpty()),featureIndex:ie,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Qe.image,imageAtlas:St,glyphMap:this.returnDependencies?ye:null,iconMap:this.returnDependencies?Le:null,glyphPositions:this.returnDependencies?Qe.positions:null})}}Ve.length?this.inFlightDependencies.push(Ae.send("getImages",{icons:Ve,source:this.source,tileID:this.tileID,type:"patterns"},(Qe,St)=>{rt===this.dependencySentinel&&(Ie||(Ie=Qe,pe=St,Ne.call(this)))})):pe={},Ne.call(this)}}function ot(ve,K,se){const Ce=new g.EvaluationParameters(K);for(const Ae of ve)Ae.recalculate(Ce,se)}function ke(ve,K){const se=g.getArrayBuffer(ve.request,(Ce,Ae,ze,Ee)=>{if(Ce)K(Ce);else if(Ae)try{const ie=new g.vectorTile.VectorTile(new g.Protobuf(Ae));K(null,{vectorTile:ie,rawData:Ae,cacheControl:ze,expires:Ee})}catch(ie){const $=new Uint8Array(Ae);let Z=`Unable to parse the tile at ${ve.request.url}, `;Z+=31===$[0]&&139===$[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ie.messge}`,K(new Error(Z))}});return()=>{se.cancel(),K()}}class He{constructor(K,se,Ce,Ae){this.actor=K,this.layerIndex=se,this.availableImages=Ce,this.loadVectorData=Ae||ke,this.fetching={},this.loading={},this.loaded={}}loadTile(K,se){const Ce=K.uid;this.loading||(this.loading={});const Ae=!!(K&&K.request&&K.request.collectResourceTiming)&&new g.RequestPerformance(K.request),ze=this.loading[Ce]=new Ke(K);ze.abort=this.loadVectorData(K,(Ee,ie)=>{if(delete this.loading[Ce],Ee||!ie)return ze.status="done",this.loaded[Ce]=ze,se(Ee);const $=ie.rawData,Z={};ie.expires&&(Z.expires=ie.expires),ie.cacheControl&&(Z.cacheControl=ie.cacheControl);const ce={};if(Ae){const Ie=Ae.finish();Ie&&(ce.resourceTiming=JSON.parse(JSON.stringify(Ie)))}ze.vectorTile=ie.vectorTile,ze.parse(ie.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ie,ye)=>{if(delete this.fetching[Ce],Ie||!ye)return se(Ie);se(null,g.extend({rawTileData:$.slice(0)},ye,Z,ce))}),this.loaded=this.loaded||{},this.loaded[Ce]=ze,this.fetching[Ce]={rawTileData:$,cacheControl:Z,resourceTiming:ce}})}reloadTile(K,se){const Ce=this.loaded,Ae=K.uid;if(Ce&&Ce[Ae]){const ze=Ce[Ae];ze.showCollisionBoxes=K.showCollisionBoxes,"parsing"===ze.status?ze.parse(ze.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ee,ie)=>{if(Ee||!ie)return se(Ee,ie);let $;if(this.fetching[Ae]){const{rawTileData:Z,cacheControl:ce,resourceTiming:Ie}=this.fetching[Ae];delete this.fetching[Ae],$=g.extend({rawTileData:Z.slice(0)},ie,ce,Ie)}else $=ie;se(null,$)}):"done"===ze.status&&(ze.vectorTile?ze.parse(ze.vectorTile,this.layerIndex,this.availableImages,this.actor,se):se())}}abortTile(K,se){const Ce=this.loading,Ae=K.uid;Ce&&Ce[Ae]&&Ce[Ae].abort&&(Ce[Ae].abort(),delete Ce[Ae]),se()}removeTile(K,se){const Ce=this.loaded,Ae=K.uid;Ce&&Ce[Ae]&&delete Ce[Ae],se()}}class lt{constructor(){this.loaded={}}loadTile(K,se){return g.__awaiter(this,void 0,void 0,function*(){const{uid:Ce,encoding:Ae,rawImageData:ze,redFactor:Ee,greenFactor:ie,blueFactor:$,baseShift:Z}=K,ce=ze.width+2,Ie=ze.height+2,ye=g.isImageBitmap(ze)?new g.RGBAImage({width:ce,height:Ie},yield g.getImageData(ze,-1,-1,ce,Ie)):ze,Le=new g.DEMData(Ce,ye,Ae,Ee,ie,$,Z);this.loaded=this.loaded||{},this.loaded[Ce]=Le,se(null,Le)})}removeTile(K){const se=this.loaded,Ce=K.uid;se&&se[Ce]&&delete se[Ce]}}function Ze(ve,K){if(0!==ve.length){it(ve[0],K);for(var se=1;se<ve.length;se++)it(ve[se],!K)}}function it(ve,K){for(var se=0,Ce=0,Ae=0,ze=ve.length,Ee=ze-1;Ae<ze;Ee=Ae++){var ie=(ve[Ae][0]-ve[Ee][0])*(ve[Ee][1]+ve[Ae][1]),$=se+ie;Ce+=Math.abs(se)>=Math.abs(ie)?se-$+ie:ie-$+se,se=$}se+Ce>=0!=!!K&&ve.reverse()}var nt=g.getDefaultExportFromCjs(function ve(K,se){var Ce,Ae=K&&K.type;if("FeatureCollection"===Ae)for(Ce=0;Ce<K.features.length;Ce++)ve(K.features[Ce],se);else if("GeometryCollection"===Ae)for(Ce=0;Ce<K.geometries.length;Ce++)ve(K.geometries[Ce],se);else if("Feature"===Ae)ve(K.geometry,se);else if("Polygon"===Ae)Ze(K.coordinates,se);else if("MultiPolygon"===Ae)for(Ce=0;Ce<K.coordinates.length;Ce++)Ze(K.coordinates[Ce],se);return K});const ut=g.vectorTile.VectorTileFeature.prototype.toGeoJSON;var Et={exports:{}},Ut=g.pointGeometry,ei=g.vectorTile.VectorTileFeature,Ti=ni;function ni(ve,K){this.options=K||{},this.features=ve,this.length=ve.length}function Fe(ve,K){this.id="number"==typeof ve.id?ve.id:void 0,this.type=ve.type,this.rawGeometry=1===ve.type?[ve.geometry]:ve.geometry,this.properties=ve.tags,this.extent=K||4096}ni.prototype.feature=function(ve){return new Fe(this.features[ve],this.options.extent)},Fe.prototype.loadGeometry=function(){var ve=this.rawGeometry;this.geometry=[];for(var K=0;K<ve.length;K++){for(var se=ve[K],Ce=[],Ae=0;Ae<se.length;Ae++)Ce.push(new Ut(se[Ae][0],se[Ae][1]));this.geometry.push(Ce)}return this.geometry},Fe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ve=this.geometry,K=1/0,se=-1/0,Ce=1/0,Ae=-1/0,ze=0;ze<ve.length;ze++)for(var Ee=ve[ze],ie=0;ie<Ee.length;ie++){var $=Ee[ie];K=Math.min(K,$.x),se=Math.max(se,$.x),Ce=Math.min(Ce,$.y),Ae=Math.max(Ae,$.y)}return[K,Ce,se,Ae]},Fe.prototype.toGeoJSON=ei.prototype.toGeoJSON;var Je=g.pbf,$e=Ti;function Nt(ve){var K=new Je;return function(se,Ce){for(var Ae in se.layers)Ce.writeMessage(3,Pt,se.layers[Ae])}(ve,K),K.finish()}function Pt(ve,K){var se;K.writeVarintField(15,ve.version||1),K.writeStringField(1,ve.name||""),K.writeVarintField(5,ve.extent||4096);var Ce={keys:[],values:[],keycache:{},valuecache:{}};for(se=0;se<ve.length;se++)Ce.feature=ve.feature(se),K.writeMessage(2,zt,Ce);var Ae=Ce.keys;for(se=0;se<Ae.length;se++)K.writeStringField(3,Ae[se]);var ze=Ce.values;for(se=0;se<ze.length;se++)K.writeMessage(4,Dn,ze[se])}function zt(ve,K){var se=ve.feature;void 0!==se.id&&K.writeVarintField(1,se.id),K.writeMessage(2,fi,ve),K.writeVarintField(3,se.type),K.writeMessage(4,Hi,se)}function fi(ve,K){var se=ve.feature,Ce=ve.keys,Ae=ve.values,ze=ve.keycache,Ee=ve.valuecache;for(var ie in se.properties){var $=se.properties[ie],Z=ze[ie];if(null!==$){void 0===Z&&(Ce.push(ie),ze[ie]=Z=Ce.length-1),K.writeVarint(Z);var ce=typeof $;"string"!==ce&&"boolean"!==ce&&"number"!==ce&&($=JSON.stringify($));var Ie=ce+":"+$,ye=Ee[Ie];void 0===ye&&(Ae.push($),Ee[Ie]=ye=Ae.length-1),K.writeVarint(ye)}}}function _i(ve,K){return(K<<3)+(7&ve)}function Li(ve){return ve<<1^ve>>31}function Hi(ve,K){for(var se=ve.loadGeometry(),Ce=ve.type,Ae=0,ze=0,Ee=se.length,ie=0;ie<Ee;ie++){var $=se[ie],Z=1;1===Ce&&(Z=$.length),K.writeVarint(_i(1,Z));for(var ce=3===Ce?$.length-1:$.length,Ie=0;Ie<ce;Ie++){1===Ie&&1!==Ce&&K.writeVarint(_i(2,ce-1));var ye=$[Ie].x-Ae,Le=$[Ie].y-ze;K.writeVarint(Li(ye)),K.writeVarint(Li(Le)),Ae+=ye,ze+=Le}3===Ce&&K.writeVarint(_i(7,1))}}function Dn(ve,K){var se=typeof ve;"string"===se?K.writeStringField(1,ve):"boolean"===se?K.writeBooleanField(7,ve):"number"===se&&(ve%1!=0?K.writeDoubleField(3,ve):ve<0?K.writeSVarintField(6,ve):K.writeVarintField(5,ve))}Et.exports=Nt,Et.exports.fromVectorTileJs=Nt,Et.exports.fromGeojsonVt=function(ve,K){K=K||{};var se={};for(var Ce in ve)se[Ce]=new $e(ve[Ce].features,K),se[Ce].name=Ce,se[Ce].version=K.version,se[Ce].extent=K.extent;return Nt({layers:se})},Et.exports.GeoJSONWrapper=$e;var Kn=g.getDefaultExportFromCjs(Et.exports);const yn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ve=>ve},Hn=Math.fround||(Pn=new Float32Array(1),ve=>(Pn[0]=+ve,Pn[0]));var Pn;const xt=3,wt=5,gt=6;class Bt{constructor(K){this.options=Object.assign(Object.create(yn),K),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(K){const{log:se,minZoom:Ce,maxZoom:Ae}=this.options;se&&console.time("total time");const ze=`prepare ${K.length} points`;se&&console.time(ze),this.points=K;const Ee=[];for(let $=0;$<K.length;$++){const Z=K[$];if(!Z.geometry)continue;const[ce,Ie]=Z.geometry.coordinates,ye=Hn(kt(ce)),Le=Hn(We(Ie));Ee.push(ye,Le,1/0,$,-1,1),this.options.reduce&&Ee.push(0)}let ie=this.trees[Ae+1]=this._createTree(Ee);se&&console.timeEnd(ze);for(let $=Ae;$>=Ce;$--){const Z=+Date.now();ie=this.trees[$]=this._createTree(this._cluster(ie,$)),se&&console.log("z%d: %d clusters in %dms",$,ie.numItems,+Date.now()-Z)}return se&&console.timeEnd("total time"),this}getClusters(K,se){let Ce=((K[0]+180)%360+360)%360-180;const Ae=Math.max(-90,Math.min(90,K[1]));let ze=180===K[2]?180:((K[2]+180)%360+360)%360-180;const Ee=Math.max(-90,Math.min(90,K[3]));if(K[2]-K[0]>=360)Ce=-180,ze=180;else if(Ce>ze){const Ie=this.getClusters([Ce,Ae,180,Ee],se),ye=this.getClusters([-180,Ae,ze,Ee],se);return Ie.concat(ye)}const ie=this.trees[this._limitZoom(se)],$=ie.range(kt(Ce),We(Ee),kt(ze),We(Ae)),Z=ie.data,ce=[];for(const Ie of $){const ye=this.stride*Ie;ce.push(Z[ye+wt]>1?Mt(Z,ye,this.clusterProps):this.points[Z[ye+xt]])}return ce}getChildren(K){const se=this._getOriginId(K),Ce=this._getOriginZoom(K),Ae="No cluster with the specified id.",ze=this.trees[Ce];if(!ze)throw new Error(Ae);const Ee=ze.data;if(se*this.stride>=Ee.length)throw new Error(Ae);const ie=this.options.radius/(this.options.extent*Math.pow(2,Ce-1)),$=ze.within(Ee[se*this.stride],Ee[se*this.stride+1],ie),Z=[];for(const ce of $){const Ie=ce*this.stride;Ee[Ie+4]===K&&Z.push(Ee[Ie+wt]>1?Mt(Ee,Ie,this.clusterProps):this.points[Ee[Ie+xt]])}if(0===Z.length)throw new Error(Ae);return Z}getLeaves(K,se,Ce){const Ae=[];return this._appendLeaves(Ae,K,se=se||10,Ce=Ce||0,0),Ae}getTile(K,se,Ce){const Ae=this.trees[this._limitZoom(K)],ze=Math.pow(2,K),{extent:Ee,radius:ie}=this.options,$=ie/Ee,Z=(Ce-$)/ze,ce=(Ce+1+$)/ze,Ie={features:[]};return this._addTileFeatures(Ae.range((se-$)/ze,Z,(se+1+$)/ze,ce),Ae.data,se,Ce,ze,Ie),0===se&&this._addTileFeatures(Ae.range(1-$/ze,Z,1,ce),Ae.data,ze,Ce,ze,Ie),se===ze-1&&this._addTileFeatures(Ae.range(0,Z,$/ze,ce),Ae.data,-1,Ce,ze,Ie),Ie.features.length?Ie:null}getClusterExpansionZoom(K){let se=this._getOriginZoom(K)-1;for(;se<=this.options.maxZoom;){const Ce=this.getChildren(K);if(se++,1!==Ce.length)break;K=Ce[0].properties.cluster_id}return se}_appendLeaves(K,se,Ce,Ae,ze){const Ee=this.getChildren(se);for(const ie of Ee){const $=ie.properties;if($&&$.cluster?ze+$.point_count<=Ae?ze+=$.point_count:ze=this._appendLeaves(K,$.cluster_id,Ce,Ae,ze):ze<Ae?ze++:K.push(ie),K.length===Ce)break}return ze}_createTree(K){const se=new g.KDBush(K.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ce=0;Ce<K.length;Ce+=this.stride)se.add(K[Ce],K[Ce+1]);return se.finish(),se.data=K,se}_addTileFeatures(K,se,Ce,Ae,ze,Ee){for(const ie of K){const $=ie*this.stride,Z=se[$+wt]>1;let ce,Ie,ye;if(Z)ce=at(se,$,this.clusterProps),Ie=se[$],ye=se[$+1];else{const Te=this.points[se[$+xt]];ce=Te.properties;const[rt,Ct]=Te.geometry.coordinates;Ie=kt(rt),ye=We(Ct)}const Le={type:1,geometry:[[Math.round(this.options.extent*(Ie*ze-Ce)),Math.round(this.options.extent*(ye*ze-Ae))]],tags:ce};let pe;pe=Z||this.options.generateId?se[$+xt]:this.points[se[$+xt]].id,void 0!==pe&&(Le.id=pe),Ee.features.push(Le)}}_limitZoom(K){return Math.max(this.options.minZoom,Math.min(Math.floor(+K),this.options.maxZoom+1))}_cluster(K,se){const{radius:Ce,extent:Ae,reduce:ze,minPoints:Ee}=this.options,ie=Ce/(Ae*Math.pow(2,se)),$=K.data,Z=[],ce=this.stride;for(let Ie=0;Ie<$.length;Ie+=ce){if($[Ie+2]<=se)continue;$[Ie+2]=se;const ye=$[Ie],Le=$[Ie+1],pe=K.within($[Ie],$[Ie+1],ie),Te=$[Ie+wt];let rt=Te;for(const Ct of pe){const Ve=Ct*ce;$[Ve+2]>se&&(rt+=$[Ve+wt])}if(rt>Te&&rt>=Ee){let Ct,Ve=ye*Te,Ne=Le*Te,Qe=-1;const St=((Ie/ce|0)<<5)+(se+1)+this.points.length;for(const Qt of pe){const si=Qt*ce;if($[si+2]<=se)continue;$[si+2]=se;const oi=$[si+wt];Ve+=$[si]*oi,Ne+=$[si+1]*oi,$[si+4]=St,ze&&(Ct||(Ct=this._map($,Ie,!0),Qe=this.clusterProps.length,this.clusterProps.push(Ct)),ze(Ct,this._map($,si)))}$[Ie+4]=St,Z.push(Ve/rt,Ne/rt,1/0,St,-1,rt),ze&&Z.push(Qe)}else{for(let Ct=0;Ct<ce;Ct++)Z.push($[Ie+Ct]);if(rt>1)for(const Ct of pe){const Ve=Ct*ce;if(!($[Ve+2]<=se)){$[Ve+2]=se;for(let Ne=0;Ne<ce;Ne++)Z.push($[Ve+Ne])}}}}return Z}_getOriginId(K){return K-this.points.length>>5}_getOriginZoom(K){return(K-this.points.length)%32}_map(K,se,Ce){if(K[se+wt]>1){const Ee=this.clusterProps[K[se+gt]];return Ce?Object.assign({},Ee):Ee}const Ae=this.points[K[se+xt]].properties,ze=this.options.map(Ae);return Ce&&ze===Ae?Object.assign({},ze):ze}}function Mt(ve,K,se){return{type:"Feature",id:ve[K+xt],properties:at(ve,K,se),geometry:{type:"Point",coordinates:[(Ce=ve[K],360*(Ce-.5)),ht(ve[K+1])]}};var Ce}function at(ve,K,se){const Ce=ve[K+wt],Ae=Ce>=1e4?`${Math.round(Ce/1e3)}k`:Ce>=1e3?Math.round(Ce/100)/10+"k":Ce,ze=ve[K+gt],Ee=-1===ze?{}:Object.assign({},se[ze]);return Object.assign(Ee,{cluster:!0,cluster_id:ve[K+xt],point_count:Ce,point_count_abbreviated:Ae})}function kt(ve){return ve/360+.5}function We(ve){const K=Math.sin(ve*Math.PI/180),se=.5-.25*Math.log((1+K)/(1-K))/Math.PI;return se<0?0:se>1?1:se}function ht(ve){const K=(180-360*ve)*Math.PI/180;return 360*Math.atan(Math.exp(K))/Math.PI-90}function At(ve,K,se,Ce){for(var Ae,ze=Ce,Ee=se-K>>1,ie=se-K,$=ve[K],Z=ve[K+1],ce=ve[se],Ie=ve[se+1],ye=K+3;ye<se;ye+=3){var Le=ai(ve[ye],ve[ye+1],$,Z,ce,Ie);if(Le>ze)Ae=ye,ze=Le;else if(Le===ze){var pe=Math.abs(ye-Ee);pe<ie&&(Ae=ye,ie=pe)}}ze>Ce&&(Ae-K>3&&At(ve,K,Ae,Ce),ve[Ae+2]=ze,se-Ae>3&&At(ve,Ae,se,Ce))}function ai(ve,K,se,Ce,Ae,ze){var Ee=Ae-se,ie=ze-Ce;if(0!==Ee||0!==ie){var $=((ve-se)*Ee+(K-Ce)*ie)/(Ee*Ee+ie*ie);$>1?(se=Ae,Ce=ze):$>0&&(se+=Ee*$,Ce+=ie*$)}return(Ee=ve-se)*Ee+(ie=K-Ce)*ie}function Jt(ve,K,se,Ce){var Ae={id:void 0===ve?null:ve,type:K,geometry:se,tags:Ce,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ze){var Ee=ze.geometry,ie=ze.type;if("Point"===ie||"MultiPoint"===ie||"LineString"===ie)vi(ze,Ee);else if("Polygon"===ie||"MultiLineString"===ie)for(var $=0;$<Ee.length;$++)vi(ze,Ee[$]);else if("MultiPolygon"===ie)for($=0;$<Ee.length;$++)for(var Z=0;Z<Ee[$].length;Z++)vi(ze,Ee[$][Z])}(Ae),Ae}function vi(ve,K){for(var se=0;se<K.length;se+=3)ve.minX=Math.min(ve.minX,K[se]),ve.minY=Math.min(ve.minY,K[se+1]),ve.maxX=Math.max(ve.maxX,K[se]),ve.maxY=Math.max(ve.maxY,K[se+1])}function yi(ve,K,se,Ce){if(K.geometry){var Ae=K.geometry.coordinates,ze=K.geometry.type,Ee=Math.pow(se.tolerance/((1<<se.maxZoom)*se.extent),2),ie=[],$=K.id;if(se.promoteId?$=K.properties[se.promoteId]:se.generateId&&($=Ce||0),"Point"===ze)Fi(Ae,ie);else if("MultiPoint"===ze)for(var Z=0;Z<Ae.length;Z++)Fi(Ae[Z],ie);else if("LineString"===ze)dt(Ae,ie,Ee,!1);else if("MultiLineString"===ze){if(se.lineMetrics){for(Z=0;Z<Ae.length;Z++)dt(Ae[Z],ie=[],Ee,!1),ve.push(Jt($,"LineString",ie,K.properties));return}$t(Ae,ie,Ee,!1)}else if("Polygon"===ze)$t(Ae,ie,Ee,!0);else{if("MultiPolygon"!==ze){if("GeometryCollection"===ze){for(Z=0;Z<K.geometry.geometries.length;Z++)yi(ve,{id:$,geometry:K.geometry.geometries[Z],properties:K.properties},se,Ce);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Z=0;Z<Ae.length;Z++){var ce=[];$t(Ae[Z],ce,Ee,!0),ie.push(ce)}}ve.push(Jt($,ze,ie,K.properties))}}function Fi(ve,K){K.push(Kt(ve[0])),K.push(_t(ve[1])),K.push(0)}function dt(ve,K,se,Ce){for(var Ae,ze,Ee=0,ie=0;ie<ve.length;ie++){var $=Kt(ve[ie][0]),Z=_t(ve[ie][1]);K.push($),K.push(Z),K.push(0),ie>0&&(Ee+=Ce?(Ae*Z-$*ze)/2:Math.sqrt(Math.pow($-Ae,2)+Math.pow(Z-ze,2))),Ae=$,ze=Z}var ce=K.length-3;K[2]=1,At(K,0,ce,se),K[ce+2]=1,K.size=Math.abs(Ee),K.start=0,K.end=K.size}function $t(ve,K,se,Ce){for(var Ae=0;Ae<ve.length;Ae++){var ze=[];dt(ve[Ae],ze,se,Ce),K.push(ze)}}function Kt(ve){return ve/360+.5}function _t(ve){var K=Math.sin(ve*Math.PI/180),se=.5-.25*Math.log((1+K)/(1-K))/Math.PI;return se<0?0:se>1?1:se}function Yi(ve,K,se,Ce,Ae,ze,Ee,ie){if(Ce/=K,ze>=(se/=K)&&Ee<Ce)return ve;if(Ee<se||ze>=Ce)return null;for(var $=[],Z=0;Z<ve.length;Z++){var ce=ve[Z],Ie=ce.geometry,ye=ce.type,Le=0===Ae?ce.minX:ce.minY,pe=0===Ae?ce.maxX:ce.maxY;if(Le>=se&&pe<Ce)$.push(ce);else if(!(pe<se||Le>=Ce)){var Te=[];if("Point"===ye||"MultiPoint"===ye)On(Ie,Te,se,Ce,Ae);else if("LineString"===ye)Wi(Ie,Te,se,Ce,Ae,!1,ie.lineMetrics);else if("MultiLineString"===ye)Tt(Ie,Te,se,Ce,Ae,!1);else if("Polygon"===ye)Tt(Ie,Te,se,Ce,Ae,!0);else if("MultiPolygon"===ye)for(var rt=0;rt<Ie.length;rt++){var Ct=[];Tt(Ie[rt],Ct,se,Ce,Ae,!0),Ct.length&&Te.push(Ct)}if(Te.length){if(ie.lineMetrics&&"LineString"===ye){for(rt=0;rt<Te.length;rt++)$.push(Jt(ce.id,ye,Te[rt],ce.tags));continue}"LineString"!==ye&&"MultiLineString"!==ye||(1===Te.length?(ye="LineString",Te=Te[0]):ye="MultiLineString"),"Point"!==ye&&"MultiPoint"!==ye||(ye=3===Te.length?"Point":"MultiPoint"),$.push(Jt(ce.id,ye,Te,ce.tags))}}}return $.length?$:null}function On(ve,K,se,Ce,Ae){for(var ze=0;ze<ve.length;ze+=3){var Ee=ve[ze+Ae];Ee>=se&&Ee<=Ce&&(K.push(ve[ze]),K.push(ve[ze+1]),K.push(ve[ze+2]))}}function Wi(ve,K,se,Ce,Ae,ze,Ee){for(var ie,$,Z=zi(ve),ce=0===Ae?Re:Pe,Ie=ve.start,ye=0;ye<ve.length-3;ye+=3){var Le=ve[ye],pe=ve[ye+1],Te=ve[ye+2],rt=ve[ye+3],Ct=ve[ye+4],Ve=0===Ae?Le:pe,Ne=0===Ae?rt:Ct,Qe=!1;Ee&&(ie=Math.sqrt(Math.pow(Le-rt,2)+Math.pow(pe-Ct,2))),Ve<se?Ne>se&&($=ce(Z,Le,pe,rt,Ct,se),Ee&&(Z.start=Ie+ie*$)):Ve>Ce?Ne<Ce&&($=ce(Z,Le,pe,rt,Ct,Ce),Ee&&(Z.start=Ie+ie*$)):xe(Z,Le,pe,Te),Ne<se&&Ve>=se&&($=ce(Z,Le,pe,rt,Ct,se),Qe=!0),Ne>Ce&&Ve<=Ce&&($=ce(Z,Le,pe,rt,Ct,Ce),Qe=!0),!ze&&Qe&&(Ee&&(Z.end=Ie+ie*$),K.push(Z),Z=zi(ve)),Ee&&(Ie+=ie)}var St=ve.length-3;Le=ve[St],pe=ve[St+1],Te=ve[St+2],(Ve=0===Ae?Le:pe)>=se&&Ve<=Ce&&xe(Z,Le,pe,Te),St=Z.length-3,ze&&St>=3&&(Z[St]!==Z[0]||Z[St+1]!==Z[1])&&xe(Z,Z[0],Z[1],Z[2]),Z.length&&K.push(Z)}function zi(ve){var K=[];return K.size=ve.size,K.start=ve.start,K.end=ve.end,K}function Tt(ve,K,se,Ce,Ae,ze){for(var Ee=0;Ee<ve.length;Ee++)Wi(ve[Ee],K,se,Ce,Ae,ze,!1)}function xe(ve,K,se,Ce){ve.push(K),ve.push(se),ve.push(Ce)}function Re(ve,K,se,Ce,Ae,ze){var Ee=(ze-K)/(Ce-K);return ve.push(ze),ve.push(se+(Ae-se)*Ee),ve.push(1),Ee}function Pe(ve,K,se,Ce,Ae,ze){var Ee=(ze-se)/(Ae-se);return ve.push(K+(Ce-K)*Ee),ve.push(ze),ve.push(1),Ee}function Ye(ve,K){for(var se=[],Ce=0;Ce<ve.length;Ce++){var Ae,ze=ve[Ce],Ee=ze.type;if("Point"===Ee||"MultiPoint"===Ee||"LineString"===Ee)Ae=be(ze.geometry,K);else if("MultiLineString"===Ee||"Polygon"===Ee){Ae=[];for(var ie=0;ie<ze.geometry.length;ie++)Ae.push(be(ze.geometry[ie],K))}else if("MultiPolygon"===Ee)for(Ae=[],ie=0;ie<ze.geometry.length;ie++){for(var $=[],Z=0;Z<ze.geometry[ie].length;Z++)$.push(be(ze.geometry[ie][Z],K));Ae.push($)}se.push(Jt(ze.id,Ee,Ae,ze.tags))}return se}function be(ve,K){var se=[];se.size=ve.size,void 0!==ve.start&&(se.start=ve.start,se.end=ve.end);for(var Ce=0;Ce<ve.length;Ce+=3)se.push(ve[Ce]+K,ve[Ce+1],ve[Ce+2]);return se}function qe(ve,K){if(ve.transformed)return ve;var se,Ce,Ae,ze=1<<ve.z,Ee=ve.x,ie=ve.y;for(se=0;se<ve.features.length;se++){var $=ve.features[se],Z=$.geometry,ce=$.type;if($.geometry=[],1===ce)for(Ce=0;Ce<Z.length;Ce+=2)$.geometry.push(tt(Z[Ce],Z[Ce+1],K,ze,Ee,ie));else for(Ce=0;Ce<Z.length;Ce++){var Ie=[];for(Ae=0;Ae<Z[Ce].length;Ae+=2)Ie.push(tt(Z[Ce][Ae],Z[Ce][Ae+1],K,ze,Ee,ie));$.geometry.push(Ie)}}return ve.transformed=!0,ve}function tt(ve,K,se,Ce,Ae,ze){return[Math.round(se*(ve*Ce-Ae)),Math.round(se*(K*Ce-ze))]}function Ht(ve,K,se,Ce,Ae){for(var ze=K===Ae.maxZoom?0:Ae.tolerance/((1<<K)*Ae.extent),Ee={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:se,y:Ce,z:K,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ie=0;ie<ve.length;ie++){Ee.numFeatures++,ri(Ee,ve[ie],ze,Ae);var $=ve[ie].minX,Z=ve[ie].minY,ce=ve[ie].maxX,Ie=ve[ie].maxY;$<Ee.minX&&(Ee.minX=$),Z<Ee.minY&&(Ee.minY=Z),ce>Ee.maxX&&(Ee.maxX=ce),Ie>Ee.maxY&&(Ee.maxY=Ie)}return Ee}function ri(ve,K,se,Ce){var Ae=K.geometry,ze=K.type,Ee=[];if("Point"===ze||"MultiPoint"===ze)for(var ie=0;ie<Ae.length;ie+=3)Ee.push(Ae[ie]),Ee.push(Ae[ie+1]),ve.numPoints++,ve.numSimplified++;else if("LineString"===ze)Ei(Ee,Ae,ve,se,!1,!1);else if("MultiLineString"===ze||"Polygon"===ze)for(ie=0;ie<Ae.length;ie++)Ei(Ee,Ae[ie],ve,se,"Polygon"===ze,0===ie);else if("MultiPolygon"===ze)for(var $=0;$<Ae.length;$++){var Z=Ae[$];for(ie=0;ie<Z.length;ie++)Ei(Ee,Z[ie],ve,se,!0,0===ie)}if(Ee.length){var ce=K.tags||null;if("LineString"===ze&&Ce.lineMetrics){for(var Ie in ce={},K.tags)ce[Ie]=K.tags[Ie];ce.mapbox_clip_start=Ae.start/Ae.size,ce.mapbox_clip_end=Ae.end/Ae.size}var ye={geometry:Ee,type:"Polygon"===ze||"MultiPolygon"===ze?3:"LineString"===ze||"MultiLineString"===ze?2:1,tags:ce};null!==K.id&&(ye.id=K.id),ve.features.push(ye)}}function Ei(ve,K,se,Ce,Ae,ze){var Ee=Ce*Ce;if(Ce>0&&K.size<(Ae?Ee:Ce))se.numPoints+=K.length/3;else{for(var ie=[],$=0;$<K.length;$+=3)(0===Ce||K[$+2]>Ee)&&(se.numSimplified++,ie.push(K[$]),ie.push(K[$+1])),se.numPoints++;Ae&&function(Z,ce){for(var Ie=0,ye=0,Le=Z.length,pe=Le-2;ye<Le;pe=ye,ye+=2)Ie+=(Z[ye]-Z[pe])*(Z[ye+1]+Z[pe+1]);if(Ie>0===ce)for(ye=0,Le=Z.length;ye<Le/2;ye+=2){var Te=Z[ye],rt=Z[ye+1];Z[ye]=Z[Le-2-ye],Z[ye+1]=Z[Le-1-ye],Z[Le-2-ye]=Te,Z[Le-1-ye]=rt}}(ie,ze),ve.push(ie)}}function gi(ve,K){var se=(K=this.options=function(Ae,ze){for(var Ee in ze)Ae[Ee]=ze[Ee];return Ae}(Object.create(this.options),K)).debug;if(se&&console.time("preprocess data"),K.maxZoom<0||K.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(K.promoteId&&K.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ae,ze,Ee,ie,$,Z,Ce=function(Ae,ze){var Ee=[];if("FeatureCollection"===Ae.type)for(var ie=0;ie<Ae.features.length;ie++)yi(Ee,Ae.features[ie],ze,ie);else yi(Ee,"Feature"===Ae.type?Ae:{geometry:Ae},ze);return Ee}(ve,K);this.tiles={},this.tileCoords=[],se&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",K.indexMaxZoom,K.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ie=Ae=Ce,$=Yi(Ae,1,-1-(Ee=(ze=K).buffer/ze.extent),Ee,0,-1,2,ze),Z=Yi(Ae,1,1-Ee,2+Ee,0,-1,2,ze),($||Z)&&(ie=Yi(Ae,1,-Ee,1+Ee,0,-1,2,ze)||[],$&&(ie=Ye($,1).concat(ie)),Z&&(ie=ie.concat(Ye(Z,-1)))),(Ce=ie).length&&this.splitTile(Ce,0,0,0),se&&(Ce.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Gt(ve,K,se){return 32*((1<<ve)*se+K)+ve}function Mi(ve,K){return K?ve.properties[K]:ve.id}function xi(ve,K){if(null==ve)return!0;if("Feature"===ve.type)return null!=Mi(ve,K);if("FeatureCollection"===ve.type){const se=new Set;for(const Ce of ve.features){const Ae=Mi(Ce,K);if(null==Ae||se.has(Ae))return!1;se.add(Ae)}return!0}return!1}function an(ve,K){const se=new Map;if(null!=ve)if("Feature"===ve.type)se.set(Mi(ve,K),ve);else for(const Ce of ve.features)se.set(Mi(Ce,K),Ce);return se}function Vt(ve,K){const se=ve.tileID.canonical;if(!this._geoJSONIndex)return K(null,null);const Ce=this._geoJSONIndex.getTile(se.z,se.x,se.y);if(!Ce)return K(null,null);const Ae=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=g.EXTENT,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(ie){this._feature=ie,this.extent=g.EXTENT,this.type=ie.type,this.properties=ie.tags,"id"in ie&&!isNaN(ie.id)&&(this.id=parseInt(ie.id,10))}loadGeometry(){if(1===this._feature.type){const ie=[];for(const $ of this._feature.geometry)ie.push([new g.Point($[0],$[1])]);return ie}{const ie=[];for(const $ of this._feature.geometry){const Z=[];for(const ce of $)Z.push(new g.Point(ce[0],ce[1]));ie.push(Z)}return ie}}toGeoJSON(ie,$,Z){return ut.call(this,ie,$,Z)}}(this._features[Ee])}}(Ce.features);let ze=Kn(Ae);0===ze.byteOffset&&ze.byteLength===ze.buffer.byteLength||(ze=new Uint8Array(ze)),K(null,{vectorTile:Ae,rawData:ze.buffer})}gi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gi.prototype.splitTile=function(ve,K,se,Ce,Ae,ze,Ee){for(var ie=[ve,K,se,Ce],$=this.options,Z=$.debug;ie.length;){Ce=ie.pop(),se=ie.pop(),K=ie.pop(),ve=ie.pop();var ce=1<<K,Ie=Gt(K,se,Ce),ye=this.tiles[Ie];if(!ye&&(Z>1&&console.time("creation"),ye=this.tiles[Ie]=Ht(ve,K,se,Ce,$),this.tileCoords.push({z:K,x:se,y:Ce}),Z)){Z>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",K,se,Ce,ye.numFeatures,ye.numPoints,ye.numSimplified),console.timeEnd("creation"));var Le="z"+K;this.stats[Le]=(this.stats[Le]||0)+1,this.total++}if(ye.source=ve,Ae){if(K===$.maxZoom||K===Ae)continue;var pe=1<<Ae-K;if(se!==Math.floor(ze/pe)||Ce!==Math.floor(Ee/pe))continue}else if(K===$.indexMaxZoom||ye.numPoints<=$.indexMaxPoints)continue;if(ye.source=null,0!==ve.length){Z>1&&console.time("clipping");var Te,rt,Ct,Ve,Ne,Qe,St=.5*$.buffer/$.extent,Qt=.5-St,si=.5+St,oi=1+St;Te=rt=Ct=Ve=null,Ne=Yi(ve,ce,se-St,se+si,0,ye.minX,ye.maxX,$),Qe=Yi(ve,ce,se+Qt,se+oi,0,ye.minX,ye.maxX,$),ve=null,Ne&&(Te=Yi(Ne,ce,Ce-St,Ce+si,1,ye.minY,ye.maxY,$),rt=Yi(Ne,ce,Ce+Qt,Ce+oi,1,ye.minY,ye.maxY,$),Ne=null),Qe&&(Ct=Yi(Qe,ce,Ce-St,Ce+si,1,ye.minY,ye.maxY,$),Ve=Yi(Qe,ce,Ce+Qt,Ce+oi,1,ye.minY,ye.maxY,$),Qe=null),Z>1&&console.timeEnd("clipping"),ie.push(Te||[],K+1,2*se,2*Ce),ie.push(rt||[],K+1,2*se,2*Ce+1),ie.push(Ct||[],K+1,2*se+1,2*Ce),ie.push(Ve||[],K+1,2*se+1,2*Ce+1)}}},gi.prototype.getTile=function(ve,K,se){var Ce=this.options,Ae=Ce.extent,ze=Ce.debug;if(ve<0||ve>24)return null;var Ee=1<<ve,ie=Gt(ve,K=(K%Ee+Ee)%Ee,se);if(this.tiles[ie])return qe(this.tiles[ie],Ae);ze>1&&console.log("drilling down to z%d-%d-%d",ve,K,se);for(var $,Z=ve,ce=K,Ie=se;!$&&Z>0;)Z--,ce=Math.floor(ce/2),Ie=Math.floor(Ie/2),$=this.tiles[Gt(Z,ce,Ie)];return $&&$.source?(ze>1&&console.log("found parent tile z%d-%d-%d",Z,ce,Ie),ze>1&&console.time("drilling down"),this.splitTile($.source,Z,ce,Ie,ve,K,se),ze>1&&console.timeEnd("drilling down"),this.tiles[ie]?qe(this.tiles[ie],Ae):null):null};class ci extends He{constructor(K,se,Ce,Ae){super(K,se,Ce,Vt),this._dataUpdateable=new Map,this.loadGeoJSON=(ze,Ee)=>{const{promoteId:ie}=ze;if(ze.request)return g.getJSON(ze.request,($,Z,ce,Ie)=>{this._dataUpdateable=xi(Z,ie)?an(Z,ie):void 0,Ee($,Z,ce,Ie)});if("string"==typeof ze.data)try{const $=JSON.parse(ze.data);this._dataUpdateable=xi($,ie)?an($,ie):void 0,Ee(null,$)}catch{Ee(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`))}else ze.dataDiff?this._dataUpdateable?(function($,Z,ce){var Ie,ye,Le,pe;if(Z.removeAll&&$.clear(),Z.remove)for(const Te of Z.remove)$.delete(Te);if(Z.add)for(const Te of Z.add){const rt=Mi(Te,ce);null!=rt&&$.set(rt,Te)}if(Z.update)for(const Te of Z.update){let rt=$.get(Te.id);if(null==rt)continue;const Ct=!Te.removeAllProperties&&((null===(Ie=Te.removeProperties)||void 0===Ie?void 0:Ie.length)>0||(null===(ye=Te.addOrUpdateProperties)||void 0===ye?void 0:ye.length)>0);if((Te.newGeometry||Te.removeAllProperties||Ct)&&(rt=Object.assign({},rt),$.set(Te.id,rt),Ct&&(rt.properties=Object.assign({},rt.properties))),Te.newGeometry&&(rt.geometry=Te.newGeometry),Te.removeAllProperties)rt.properties={};else if((null===(Le=Te.removeProperties)||void 0===Le?void 0:Le.length)>0)for(const Ve of Te.removeProperties)Object.prototype.hasOwnProperty.call(rt.properties,Ve)&&delete rt.properties[Ve];if((null===(pe=Te.addOrUpdateProperties)||void 0===pe?void 0:pe.length)>0)for(const{key:Ve,value:Ne}of Te.addOrUpdateProperties)rt.properties[Ve]=Ne}}(this._dataUpdateable,ze.dataDiff,ie),Ee(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Ee(new Error(`Cannot update existing geojson data in ${ze.source}`)):Ee(new Error(`Input data given to '${ze.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},Ae&&(this.loadGeoJSON=Ae)}loadData(K,se){var Ce;null===(Ce=this._pendingRequest)||void 0===Ce||Ce.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Ae=!!(K&&K.request&&K.request.collectResourceTiming)&&new g.RequestPerformance(K.request);this._pendingCallback=se,this._pendingRequest=this.loadGeoJSON(K,(ze,Ee)=>{if(delete this._pendingCallback,delete this._pendingRequest,ze||!Ee)return se(ze);if("object"!=typeof Ee)return se(new Error(`Input data given to '${K.source}' is not a valid GeoJSON object.`));{nt(Ee,!0);try{if(K.filter){const $=g.createExpression(K.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===$.result)throw new Error($.value.map(ce=>`${ce.key}: ${ce.message}`).join(", "));Ee={type:"FeatureCollection",features:Ee.features.filter(ce=>$.value.evaluate({zoom:0},ce))}}this._geoJSONIndex=K.cluster?new Bt(function({superclusterOptions:$,clusterProperties:Z}){if(!Z||!$)return $;const ce={},Ie={},ye={accumulated:null,zoom:0},Le={properties:null},pe=Object.keys(Z);for(const Te of pe){const[rt,Ct]=Z[Te],Ve=g.createExpression(Ct),Ne=g.createExpression("string"==typeof rt?[rt,["accumulated"],["get",Te]]:rt);ce[Te]=Ve.value,Ie[Te]=Ne.value}return $.map=Te=>{Le.properties=Te;const rt={};for(const Ct of pe)rt[Ct]=ce[Ct].evaluate(ye,Le);return rt},$.reduce=(Te,rt)=>{Le.properties=rt;for(const Ct of pe)ye.accumulated=Te[Ct],Te[Ct]=Ie[Ct].evaluate(ye,Le)},$}(K)).load(Ee.features):new gi($=Ee,K.geojsonVtOptions)}catch($){return se($)}this.loaded={};const ie={};if(Ae){const $=Ae.finish();$&&(ie.resourceTiming={},ie.resourceTiming[K.source]=JSON.parse(JSON.stringify($)))}se(null,ie)}var $})}reloadTile(K,se){const Ce=this.loaded;return Ce&&Ce[K.uid]?super.reloadTile(K,se):this.loadTile(K,se)}removeSource(K,se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),se()}getClusterExpansionZoom(K,se){try{se(null,this._geoJSONIndex.getClusterExpansionZoom(K.clusterId))}catch(Ce){se(Ce)}}getClusterChildren(K,se){try{se(null,this._geoJSONIndex.getChildren(K.clusterId))}catch(Ce){se(Ce)}}getClusterLeaves(K,se){try{se(null,this._geoJSONIndex.getLeaves(K.clusterId,K.limit,K.offset))}catch(Ce){se(Ce)}}}class Ft{constructor(K){this.self=K,this.actor=new g.Actor(K,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:He,geojson:ci},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(se,Ce)=>{if(this.workerSourceTypes[se])throw new Error(`Worker source with name "${se}" already registered.`);this.workerSourceTypes[se]=Ce},this.self.registerRTLTextPlugin=se=>{if(g.plugin.isParsed())throw new Error("RTL text plugin already registered.");g.plugin.applyArabicShaping=se.applyArabicShaping,g.plugin.processBidirectionalText=se.processBidirectionalText,g.plugin.processStyledBidirectionalText=se.processStyledBidirectionalText}}setReferrer(K,se){this.referrer=se}setImages(K,se,Ce){this.availableImages[K]=se;for(const Ae in this.workerSources[K]){const ze=this.workerSources[K][Ae];for(const Ee in ze)ze[Ee].availableImages=se}Ce()}setLayers(K,se,Ce){this.getLayerIndex(K).replace(se),Ce()}updateLayers(K,se,Ce){this.getLayerIndex(K).update(se.layers,se.removedIds),Ce()}loadTile(K,se,Ce){this.getWorkerSource(K,se.type,se.source).loadTile(se,Ce)}loadDEMTile(K,se,Ce){this.getDEMWorkerSource(K,se.source).loadTile(se,Ce)}reloadTile(K,se,Ce){this.getWorkerSource(K,se.type,se.source).reloadTile(se,Ce)}abortTile(K,se,Ce){this.getWorkerSource(K,se.type,se.source).abortTile(se,Ce)}removeTile(K,se,Ce){this.getWorkerSource(K,se.type,se.source).removeTile(se,Ce)}removeDEMTile(K,se){this.getDEMWorkerSource(K,se.source).removeTile(se)}removeSource(K,se,Ce){if(!this.workerSources[K]||!this.workerSources[K][se.type]||!this.workerSources[K][se.type][se.source])return;const Ae=this.workerSources[K][se.type][se.source];delete this.workerSources[K][se.type][se.source],void 0!==Ae.removeSource?Ae.removeSource(se,Ce):Ce()}loadWorkerSource(K,se,Ce){try{this.self.importScripts(se.url),Ce()}catch(Ae){Ce(Ae.toString())}}syncRTLPluginState(K,se,Ce){try{g.plugin.setState(se);const Ae=g.plugin.getPluginURL();if(g.plugin.isLoaded()&&!g.plugin.isParsed()&&null!=Ae){this.self.importScripts(Ae);const ze=g.plugin.isParsed();Ce(ze?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ae}`),ze)}}catch(Ae){Ce(Ae.toString())}}getAvailableImages(K){let se=this.availableImages[K];return se||(se=[]),se}getLayerIndex(K){let se=this.layerIndexes[K];return se||(se=this.layerIndexes[K]=new Ue),se}getWorkerSource(K,se,Ce){return this.workerSources[K]||(this.workerSources[K]={}),this.workerSources[K][se]||(this.workerSources[K][se]={}),this.workerSources[K][se][Ce]||(this.workerSources[K][se][Ce]=new this.workerSourceTypes[se]({send:(ze,Ee,ie)=>{this.actor.send(ze,Ee,ie,K)}},this.getLayerIndex(K),this.getAvailableImages(K))),this.workerSources[K][se][Ce]}getDEMWorkerSource(K,se){return this.demWorkerSources[K]||(this.demWorkerSources[K]={}),this.demWorkerSources[K][se]||(this.demWorkerSources[K][se]=new lt),this.demWorkerSources[K][se]}}return g.isWorker()&&(self.worker=new Ft(self)),Ft}),l(0,function(g){class ae{static testProp(i){if(!ae.docStyle)return i[0];for(let d=0;d<i.length;d++)if(i[d]in ae.docStyle)return i[d];return i[0]}static create(i,d,f){const y=window.document.createElement(i);return void 0!==d&&(y.className=d),f&&f.appendChild(y),y}static createNS(i,d){return window.document.createElementNS(i,d)}static disableDrag(){ae.docStyle&&ae.selectProp&&(ae.userSelect=ae.docStyle[ae.selectProp],ae.docStyle[ae.selectProp]="none")}static enableDrag(){ae.docStyle&&ae.selectProp&&(ae.docStyle[ae.selectProp]=ae.userSelect)}static setTransform(i,d){i.style[ae.transformProp]=d}static addEventListener(i,d,f,y={}){i.addEventListener(d,f,"passive"in y?y:y.capture)}static removeEventListener(i,d,f,y={}){i.removeEventListener(d,f,"passive"in y?y:y.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",ae.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",ae.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",ae.suppressClickInternal,!0)},0)}static mousePos(i,d){const f=i.getBoundingClientRect();return new g.Point(d.clientX-f.left-i.clientLeft,d.clientY-f.top-i.clientTop)}static touchPos(i,d){const f=i.getBoundingClientRect(),y=[];for(let M=0;M<d.length;M++)y.push(new g.Point(d[M].clientX-f.left-i.clientLeft,d[M].clientY-f.top-i.clientTop));return y}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}ae.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,ae.selectProp=ae.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ae.transformProp=ae.testProp(["transform","WebkitTransform"]);const Ke={supported:!1,testSupport:function(C){!He&&ke&&(lt?Ze(C):ot=C)}};let ot,ke,He=!1,lt=!1;function Ze(C){const i=C.createTexture();C.bindTexture(C.TEXTURE_2D,i);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,ke),C.isContextLost())return;Ke.supported=!0}catch{}C.deleteTexture(i),He=!0}var it,nt,C;typeof document<"u"&&(ke=document.createElement("img"),ke.onload=function(){ot&&Ze(ot),ot=null,lt=!0},ke.onerror=function(){He=!0,ot=null},ke.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(C){let i,d,f,y;C.resetRequestQueue=()=>{i=[],d=0,f=0,y={}},C.addThrottleControl=W=>{const Q=f++;return y[Q]=W,Q},C.removeThrottleControl=W=>{delete y[W],R()},C.getImage=(W,Q,E=!0)=>{Ke.supported&&(W.headers||(W.headers={}),W.headers.accept="image/webp,*/*");const I={requestParameters:W,supportImageRefresh:E,callback:Q,cancelled:!1,completed:!1,cancel:()=>{I.completed||I.cancelled||(I.cancelled=!0,I.innerRequest&&(I.innerRequest.cancel(),d--),R())}};return i.push(I),R(),I};const M=W=>{const{requestParameters:Q,supportImageRefresh:E,callback:I}=W;return g.extend(Q,{type:"image"}),(!1!==E||g.isWorker()||g.getProtocolAction(Q.url)||Q.headers&&!Object.keys(Q.headers).reduce((T,k)=>T&&"accept"===k,!0)?g.makeRequest:V)(Q,(T,k,z,j)=>{O(W,I,T,k,z,j)})},O=(W,Q,E,I,T,k)=>{var z,j;E?Q(E):I instanceof HTMLImageElement||g.isImageBitmap(I)?Q(null,I):I&&(z=I,j=(z,j)=>{null!=z?Q(z):null!=j&&Q(null,j,{cacheControl:T,expires:k})},"function"==typeof createImageBitmap?g.arrayBufferToImageBitmap(z,j):g.arrayBufferToImage(z,j)),W.cancelled||(W.completed=!0,d--,R())},R=()=>{const W=(()=>{const Q=Object.keys(y);let E=!1;if(Q.length>0)for(const I of Q)if(E=y[I](),E)break;return E})()?g.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:g.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let Q=d;Q<W&&i.length>0;Q++){const E=i.shift();if(E.cancelled){Q--;continue}const I=M(E);d++,E.innerRequest=I}},V=(W,Q)=>{const E=new Image,I=W.url;let T=!1;const k=W.credentials;return k&&"include"===k?E.crossOrigin="use-credentials":(k&&"same-origin"===k||!g.sameOrigin(I))&&(E.crossOrigin="anonymous"),E.fetchPriority="high",E.onload=()=>{Q(null,E),E.onerror=E.onload=null},E.onerror=()=>{T||Q(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),E.onerror=E.onload=null},E.src=I,{cancel:()=>{T=!0,E.src=""}}}}(it||(it={})),it.resetRequestQueue(),(C=nt||(nt={})).Glyphs="Glyphs",C.Image="Image",C.Source="Source",C.SpriteImage="SpriteImage",C.SpriteJSON="SpriteJSON",C.Style="Style",C.Tile="Tile",C.Unknown="Unknown";class ut{constructor(i){this._transformRequestFn=i}transformRequest(i,d){return this._transformRequestFn&&this._transformRequestFn(i,d)||{url:i}}normalizeSpriteURL(i,d,f){const y=function(M){const O=M.match(Et);if(!O)throw new Error(`Unable to parse URL "${M}"`);return{protocol:O[1],authority:O[2],path:O[3]||"/",params:O[4]?O[4].split("&"):[]}}(i);return y.path+=`${d}${f}`,function(M){const O=M.params.length?`?${M.params.join("&")}`:"";return`${M.protocol}://${M.authority}${M.path}${O}`}(y)}setTransformRequest(i){this._transformRequestFn=i}}const Et=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ut(C){var i=new g.ARRAY_TYPE(3);return i[0]=C[0],i[1]=C[1],i[2]=C[2],i}var ei,Ti=function(C,i,d){return C[0]=i[0]-d[0],C[1]=i[1]-d[1],C[2]=i[2]-d[2],C};ei=new g.ARRAY_TYPE(3),g.ARRAY_TYPE!=Float32Array&&(ei[0]=0,ei[1]=0,ei[2]=0);var ni=function(C){var i=C[0],d=C[1];return i*i+d*d};function Fe(C){const i=[];if("string"==typeof C)i.push({id:"default",url:C});else if(C&&C.length>0){const d=[];for(const{id:f,url:y}of C){const M=`${f}${y}`;-1===d.indexOf(M)&&(d.push(M),i.push({id:f,url:y}))}}return i}function Je(C,i,d,f,y){if(f)return void C(f);if(y!==Object.values(i).length||y!==Object.values(d).length)return;const M={};for(const O in i){M[O]={};const R=g.browser.getImageCanvasContext(d[O]),V=i[O];for(const W in V){const{width:Q,height:E,x:I,y:T,sdf:k,pixelRatio:z,stretchX:j,stretchY:re,content:Se}=V[W];M[O][W]={data:null,pixelRatio:z,sdf:k,stretchX:j,stretchY:re,content:Se,spriteData:{width:Q,height:E,x:I,y:T,context:R}}}}C(null,M)}!function(){var C=new g.ARRAY_TYPE(2);g.ARRAY_TYPE!=Float32Array&&(C[0]=0,C[1]=0)}();class $e{constructor(i,d,f,y){this.context=i,this.format=f,this.texture=i.gl.createTexture(),this.update(d,y)}update(i,d,f){const{width:y,height:M}=i,O=!(this.size&&this.size[0]===y&&this.size[1]===M||f),{context:R}=this,{gl:V}=R;if(this.useMipmap=!(!d||!d.useMipmap),V.bindTexture(V.TEXTURE_2D,this.texture),R.pixelStoreUnpackFlipY.set(!1),R.pixelStoreUnpack.set(1),R.pixelStoreUnpackPremultiplyAlpha.set(this.format===V.RGBA&&(!d||!1!==d.premultiply)),O)this.size=[y,M],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||g.isImageBitmap(i)?V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,V.UNSIGNED_BYTE,i):V.texImage2D(V.TEXTURE_2D,0,this.format,y,M,0,this.format,V.UNSIGNED_BYTE,i.data);else{const{x:W,y:Q}=f||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||g.isImageBitmap(i)?V.texSubImage2D(V.TEXTURE_2D,0,W,Q,V.RGBA,V.UNSIGNED_BYTE,i):V.texSubImage2D(V.TEXTURE_2D,0,W,Q,y,M,V.RGBA,V.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&V.generateMipmap(V.TEXTURE_2D)}bind(i,d,f){const{context:y}=this,{gl:M}=y;M.bindTexture(M.TEXTURE_2D,this.texture),f!==M.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=M.LINEAR),i!==this.filter&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,i),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,f||i),this.filter=i),d!==this.wrap&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,d),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function Nt(C){const{userImage:i}=C;return!!(i&&i.render&&i.render())&&(C.data.replace(new Uint8Array(i.data.buffer)),!0)}class Pt extends g.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new g.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:d,callback:f}of this.requestors)this._notify(d,f);this.requestors=[]}}getImage(i){const d=this.images[i];if(d&&!d.data&&d.spriteData){const f=d.spriteData;d.data=new g.RGBAImage({width:f.width,height:f.height},f.context.getImageData(f.x,f.y,f.width,f.height).data),d.spriteData=null}return d}addImage(i,d){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,d)&&(this.images[i]=d)}_validate(i,d){let f=!0;const y=d.data||d.spriteData;return this._validateStretch(d.stretchX,y&&y.width)||(this.fire(new g.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),f=!1),this._validateStretch(d.stretchY,y&&y.height)||(this.fire(new g.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),f=!1),this._validateContent(d.content,d)||(this.fire(new g.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),f=!1),f}_validateStretch(i,d){if(!i)return!0;let f=0;for(const y of i){if(y[0]<f||y[1]<y[0]||d<y[1])return!1;f=y[1]}return!0}_validateContent(i,d){if(!i)return!0;if(4!==i.length)return!1;const f=d.spriteData,y=f&&f.width||d.data.width,M=f&&f.height||d.data.height;return!(i[0]<0||y<i[0]||i[1]<0||M<i[1]||i[2]<0||y<i[2]||i[3]<0||M<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,d,f=!0){const y=this.getImage(i);if(f&&(y.data.width!==d.data.width||y.data.height!==d.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=y.version+1,this.images[i]=d,this.updatedImages[i]=!0}removeImage(i){const d=this.images[i];delete this.images[i],delete this.patterns[i],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,d){let f=!0;if(!this.isLoaded())for(const y of i)this.images[y]||(f=!1);this.isLoaded()||f?this._notify(i,d):this.requestors.push({ids:i,callback:d})}_notify(i,d){const f={};for(const y of i){let M=this.getImage(y);M||(this.fire(new g.Event("styleimagemissing",{id:y})),M=this.getImage(y)),M?f[y]={data:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:!(!M.userImage||!M.userImage.render)}:g.warnOnce(`Image "${y}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,f)}getPixelSize(){const{width:i,height:d}=this.atlasImage;return{width:i,height:d}}getPattern(i){const d=this.patterns[i],f=this.getImage(i);if(!f)return null;if(d&&d.position.version===f.version)return d.position;if(d)d.position.version=f.version;else{const y={w:f.data.width+2,h:f.data.height+2,x:0,y:0},M=new g.ImagePosition(y,f);this.patterns[i]={bin:y,position:M}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const d=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new $e(i,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const M in this.patterns)i.push(this.patterns[M].bin);const{w:d,h:f}=g.potpack(i),y=this.atlasImage;y.resize({width:d||1,height:f||1});for(const M in this.patterns){const{bin:O}=this.patterns[M],R=O.x+1,V=O.y+1,W=this.getImage(M).data,Q=W.width,E=W.height;g.RGBAImage.copy(W,y,{x:0,y:0},{x:R,y:V},{width:Q,height:E}),g.RGBAImage.copy(W,y,{x:0,y:E-1},{x:R,y:V-1},{width:Q,height:1}),g.RGBAImage.copy(W,y,{x:0,y:0},{x:R,y:V+E},{width:Q,height:1}),g.RGBAImage.copy(W,y,{x:Q-1,y:0},{x:R-1,y:V},{width:1,height:E}),g.RGBAImage.copy(W,y,{x:0,y:0},{x:R+Q,y:V},{width:1,height:E})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const d of i){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const f=this.getImage(d);f||g.warnOnce(`Image with ID: "${d}" was not found`),Nt(f)&&this.updateImage(d,f)}}}const zt=1e20;function fi(C,i,d,f,y,M,O,R,V){for(let W=i;W<i+f;W++)_i(C,d*M+W,M,y,O,R,V);for(let W=d;W<d+y;W++)_i(C,W*M+i,1,f,O,R,V)}function _i(C,i,d,f,y,M,O){M[0]=0,O[0]=-zt,O[1]=zt,y[0]=C[i];for(let R=1,V=0,W=0;R<f;R++){y[R]=C[i+R*d];const Q=R*R;do{const E=M[V];W=(y[R]-y[E]+Q-E*E)/(R-E)/2}while(W<=O[V]&&--V>-1);V++,M[V]=R,O[V]=W,O[V+1]=zt}for(let R=0,V=0;R<f;R++){for(;O[V+1]<R;)V++;const W=M[V],Q=R-W;C[i+R*d]=y[W]+Q*Q}}class Li{constructor(i,d){this.requestManager=i,this.localIdeographFontFamily=d,this.entries={}}setURL(i){this.url=i}getGlyphs(i,d){const f=[];for(const y in i)for(const M of i[y])f.push({stack:y,id:M});g.asyncAll(f,({stack:y,id:M},O)=>{let R=this.entries[y];R||(R=this.entries[y]={glyphs:{},requests:{},ranges:{}});let V=R.glyphs[M];if(void 0!==V)return void O(null,{stack:y,id:M,glyph:V});if(V=this._tinySDF(R,y,M),V)return R.glyphs[M]=V,void O(null,{stack:y,id:M,glyph:V});const W=Math.floor(M/256);if(256*W>65535)return void O(new Error("glyphs > 65535 not supported"));if(R.ranges[W])return void O(null,{stack:y,id:M,glyph:V});if(!this.url)return void O(new Error("glyphsUrl is not set"));let Q=R.requests[W];Q||(Q=R.requests[W]=[],Li.loadGlyphRange(y,W,this.url,this.requestManager,(E,I)=>{if(I){for(const T in I)this._doesCharSupportLocalGlyph(+T)||(R.glyphs[+T]=I[+T]);R.ranges[W]=!0}for(const T of Q)T(E,I);delete R.requests[W]})),Q.push((E,I)=>{E?O(E):I&&O(null,{stack:y,id:M,glyph:I[M]||null})})},(y,M)=>{if(y)d(y);else if(M){const O={};for(const{stack:R,id:V,glyph:W}of M)(O[R]||(O[R]={}))[V]=W&&{id:W.id,bitmap:W.bitmap.clone(),metrics:W.metrics};d(null,O)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(g.unicodeBlockLookup["CJK Unified Ideographs"](i)||g.unicodeBlockLookup["Hangul Syllables"](i)||g.unicodeBlockLookup.Hiragana(i)||g.unicodeBlockLookup.Katakana(i))}_tinySDF(i,d,f){const y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(f))return;let M=i.tinySDF;if(!M){let R="400";/bold/i.test(d)?R="900":/medium/i.test(d)?R="500":/light/i.test(d)&&(R="200"),M=i.tinySDF=new Li.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:y,fontWeight:R})}const O=M.draw(String.fromCharCode(f));return{id:f,bitmap:new g.AlphaImage({width:O.width||60,height:O.height||60},O.data),metrics:{width:O.glyphWidth/2||24,height:O.glyphHeight/2||24,left:O.glyphLeft/2+.5||0,top:O.glyphTop/2-27.5||-8,advance:O.glyphAdvance/2||24,isDoubleResolution:!0}}}}Li.loadGlyphRange=function(C,i,d,f,y){const M=256*i,O=M+255,R=f.transformRequest(d.replace("{fontstack}",C).replace("{range}",`${M}-${O}`),nt.Glyphs);g.getArrayBuffer(R,(V,W)=>{if(V)y(V);else if(W){const Q={};for(const E of g.parseGlyphPbf(W))Q[E.id]=E;y(null,Q)}})},Li.TinySDF=class{constructor({fontSize:C=24,buffer:i=3,radius:d=8,cutoff:f=.25,fontFamily:y="sans-serif",fontWeight:M="normal",fontStyle:O="normal"}={}){this.buffer=i,this.cutoff=f,this.radius=d;const R=this.size=C+4*i,V=this._createCanvas(R),W=this.ctx=V.getContext("2d",{willReadFrequently:!0});W.font=`${O} ${M} ${C}px ${y}`,W.textBaseline="alphabetic",W.textAlign="left",W.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(C){const i=document.createElement("canvas");return i.width=i.height=C,i}draw(C){const{width:i,actualBoundingBoxAscent:d,actualBoundingBoxDescent:f,actualBoundingBoxLeft:y,actualBoundingBoxRight:M}=this.ctx.measureText(C),O=Math.ceil(d),R=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(M-y))),V=Math.min(this.size-this.buffer,O+Math.ceil(f)),W=R+2*this.buffer,Q=V+2*this.buffer,E=Math.max(W*Q,0),I=new Uint8ClampedArray(E),T={data:I,width:W,height:Q,glyphWidth:R,glyphHeight:V,glyphTop:O,glyphLeft:0,glyphAdvance:i};if(0===R||0===V)return T;const{ctx:k,buffer:z,gridInner:j,gridOuter:re}=this;k.clearRect(z,z,R,V),k.fillText(C,z,z+O);const Se=k.getImageData(z,z,R,V);re.fill(zt,0,E),j.fill(0,0,E);for(let ue=0;ue<V;ue++)for(let je=0;je<R;je++){const mt=Se.data[4*(ue*R+je)+3]/255;if(0===mt)continue;const Dt=(ue+z)*W+je+z;if(1===mt)re[Dt]=0,j[Dt]=zt;else{const Rt=.5-mt;re[Dt]=Rt>0?Rt*Rt:0,j[Dt]=Rt<0?Rt*Rt:0}}fi(re,0,0,W,Q,W,this.f,this.v,this.z),fi(j,z,z,R,V,W,this.f,this.v,this.z);for(let ue=0;ue<E;ue++){const je=Math.sqrt(re[ue])-Math.sqrt(j[ue]);I[ue]=Math.round(255-255*(je/this.radius+this.cutoff))}return T}};class Hi{constructor(){this.specification=g.v8Spec.light.position}possiblyEvaluate(i,d){return g.sphericalToCartesian(i.expression.evaluate(d))}interpolate(i,d,f){return{x:g.interpolate.number(i.x,d.x,f),y:g.interpolate.number(i.y,d.y,f),z:g.interpolate.number(i.z,d.z,f)}}}let Dn;class Kn extends g.Evented{constructor(i){super(),Dn=Dn||new g.Properties({anchor:new g.DataConstantProperty(g.v8Spec.light.anchor),position:new Hi,color:new g.DataConstantProperty(g.v8Spec.light.color),intensity:new g.DataConstantProperty(g.v8Spec.light.intensity)}),this._transitionable=new g.Transitionable(Dn),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,d={}){if(!this._validate(g.validateLight,i,d))for(const f in i){const y=i[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),y):this._transitionable.setValue(f,y)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,f){return(!f||!1!==f.validate)&&g.emitValidationErrors(this,i.call(g.validateStyle,g.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:g.v8Spec})))}}class yn{constructor(i,d){this.width=i,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,d){const f=i.join(",")+String(d);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(i,d)),this.dashEntry[f]}getDashRanges(i,d,f){const y=[];let M=i.length%2==1?-i[i.length-1]*f:0,O=i[0]*f,R=!0;y.push({left:M,right:O,isDash:R,zeroLength:0===i[0]});let V=i[0];for(let W=1;W<i.length;W++){R=!R;const Q=i[W];M=V*f,V+=Q,O=V*f,y.push({left:M,right:O,isDash:R,zeroLength:0===Q})}return y}addRoundDash(i,d,f){const y=d/2;for(let M=-f;M<=f;M++){const O=this.width*(this.nextRow+f+M);let R=0,V=i[R];for(let W=0;W<this.width;W++){W/V.right>1&&(V=i[++R]);const Q=Math.abs(W-V.left),E=Math.abs(W-V.right),I=Math.min(Q,E);let T;const k=M/f*(y+1);if(V.isDash){const z=y-Math.abs(k);T=Math.sqrt(I*I+z*z)}else T=y-Math.sqrt(I*I+k*k);this.data[O+W]=Math.max(0,Math.min(255,T+128))}}}addRegularDash(i){for(let R=i.length-1;R>=0;--R){const V=i[R],W=i[R+1];V.zeroLength?i.splice(R,1):W&&W.isDash===V.isDash&&(W.left=V.left,i.splice(R,1))}const d=i[0],f=i[i.length-1];d.isDash===f.isDash&&(d.left=f.left-this.width,f.right=d.right+this.width);const y=this.width*this.nextRow;let M=0,O=i[M];for(let R=0;R<this.width;R++){R/O.right>1&&(O=i[++M]);const V=Math.abs(R-O.left),W=Math.abs(R-O.right),Q=Math.min(V,W);this.data[y+R]=Math.max(0,Math.min(255,(O.isDash?Q:-Q)+128))}}addDash(i,d){const f=d?7:0,y=2*f+1;if(this.nextRow+y>this.height)return g.warnOnce("LineAtlas out of space"),null;let M=0;for(let R=0;R<i.length;R++)M+=i[R];if(0!==M){const R=this.width/M,V=this.getDashRanges(i,this.width,R);d?this.addRoundDash(V,R,f):this.addRegularDash(V)}const O={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:M};return this.nextRow+=y,this.dirty=!0,O}bind(i){const d=i.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Hn{constructor(i,d,f){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=f;const y=this.workerPool.acquire(f);for(let M=0;M<y.length;M++){const O=new Hn.Actor(y[M],d,f);O.name=`Worker ${M}`,this.actors.push(O)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,d,f){g.asyncAll(this.actors,(y,M)=>{y.send(i,d,M)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}}function Pn(C,i,d){const f=function(y,M){if(y)return d(y);if(M){const O=g.pick(g.extend(M,C),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);M.vector_layers&&(O.vectorLayers=M.vector_layers,O.vectorLayerIds=O.vectorLayers.map(R=>R.id)),d(null,O)}};return C.url?g.getJSON(i.transformRequest(C.url,nt.Source),f):g.browser.frame(()=>f(null,C))}Hn.Actor=g.Actor;class xt{constructor(i,d){i&&(d?this.setSouthWest(i).setNorthEast(d):Array.isArray(i)&&(4===i.length?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof g.LngLat?new g.LngLat(i.lng,i.lat):g.LngLat.convert(i),this}setSouthWest(i){return this._sw=i instanceof g.LngLat?new g.LngLat(i.lng,i.lat):g.LngLat.convert(i),this}extend(i){const d=this._sw,f=this._ne;let y,M;if(i instanceof g.LngLat)y=i,M=i;else{if(!(i instanceof xt))return Array.isArray(i)?4===i.length||i.every(Array.isArray)?this.extend(xt.convert(i)):this.extend(g.LngLat.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(g.LngLat.convert(i)):this;if(y=i._sw,M=i._ne,!y||!M)return this}return d||f?(d.lng=Math.min(y.lng,d.lng),d.lat=Math.min(y.lat,d.lat),f.lng=Math.max(M.lng,f.lng),f.lat=Math.max(M.lat,f.lat)):(this._sw=new g.LngLat(y.lng,y.lat),this._ne=new g.LngLat(M.lng,M.lat)),this}getCenter(){return new g.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new g.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new g.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:d,lat:f}=g.LngLat.convert(i);let y=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&y}static convert(i){return i instanceof xt?i:i&&new xt(i)}static fromLngLat(i,d=0){const f=360*d/40075017,y=f/Math.cos(Math.PI/180*i.lat);return new xt(new g.LngLat(i.lng-y,i.lat-f),new g.LngLat(i.lng+y,i.lat+f))}}class wt{constructor(i,d,f){this.bounds=xt.convert(this.validateBounds(i)),this.minzoom=d||0,this.maxzoom=f||24}validateBounds(i){return Array.isArray(i)&&4===i.length?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const d=Math.pow(2,i.z),f=Math.floor(g.mercatorXfromLng(this.bounds.getWest())*d),y=Math.floor(g.mercatorYfromLat(this.bounds.getNorth())*d),M=Math.ceil(g.mercatorXfromLng(this.bounds.getEast())*d),O=Math.ceil(g.mercatorYfromLat(this.bounds.getSouth())*d);return i.x>=f&&i.x<M&&i.y>=y&&i.y<O}}class gt extends g.Evented{constructor(i,d,f,y){if(super(),this.load=()=>{this._loaded=!1,this.fire(new g.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Pn(this._options,this.map._requestManager,(M,O)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),M?this.fire(new g.ErrorEvent(M)):O&&(g.extend(this,O),O.bounds&&(this.tileBounds=new wt(O.bounds,this.minzoom,this.maxzoom)),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>g.extend({},this._options),this.id=i,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,g.extend(this,g.pick(d,["url","scheme","tileSize","promoteId"])),this._options=g.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(i,d){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),y={request:this.map._requestManager.transformRequest(f,nt.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function M(O,R){return delete i.request,i.aborted?d(null):O&&404!==O.status?d(O):(R&&R.resourceTiming&&(i.resourceTiming=R.resourceTiming),this.map._refreshExpiredTiles&&R&&i.setExpiryData(R),i.loadVectorData(R,this.map.painter),d(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}y.request.collectResourceTiming=this._collectResourceTiming,i.actor&&"expired"!==i.state?"loading"===i.state?i.reloadCallback=d:i.request=i.actor.send("reloadTile",y,M.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",y,M.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Bt extends g.Evented{constructor(i,d,f,y){super(),this.id=i,this.dispatcher=f,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=g.extend({type:"raster"},d),g.extend(this,g.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new g.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Pn(this._options,this.map._requestManager,(i,d)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new g.ErrorEvent(i)):d&&(g.extend(this,d),d.bounds&&(this.tileBounds=new wt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}serialize(){return g.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,d){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=it.getImage(this.map._requestManager.transformRequest(f,nt.Tile),(y,M,O)=>{if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(y)i.state="errored",d(y);else if(M){this.map._refreshExpiredTiles&&O&&i.setExpiryData(O);const R=this.map.painter.context,V=R.gl;i.texture=this.map.painter.getTileTexture(M.width),i.texture?i.texture.update(M,{useMipmap:!0}):(i.texture=new $e(R,M,V.RGBA,{useMipmap:!0}),i.texture.bind(V.LINEAR,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),R.extTextureFilterAnisotropic&&V.texParameterf(V.TEXTURE_2D,R.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,R.extTextureFilterAnisotropicMax)),i.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(i,d){i.request&&(i.request.cancel(),delete i.request),d()}unloadTile(i,d){i.texture&&this.map.painter.saveTileTexture(i.texture),d()}hasTransition(){return!1}}class Mt extends Bt{constructor(i,d,f,y){super(i,d,f,y),this.type="raster-dem",this.maxzoom=22,this._options=g.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(i,d){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),y=this.map._requestManager.transformRequest(f,nt.Tile);function M(O,R){O&&(i.state="errored",d(O)),R&&(i.dem=R,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",d(null))}i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.request=it.getImage(y,(O,R,V)=>g.__awaiter(this,void 0,void 0,function*(){if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(O)i.state="errored",d(O);else if(R){this.map._refreshExpiredTiles&&i.setExpiryData(V);const W=g.isImageBitmap(R)&&g.offscreenCanvasSupported()?R:yield function(E){return g.__awaiter(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&g.isOffscreenCanvasDistorted()){const I=E.width+2,T=E.height+2;try{return new g.RGBAImage({width:I,height:T},yield g.readImageUsingVideoFrame(E,-1,-1,I,T))}catch{}}return g.browser.getImageData(E,1)})}(R),Q={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:W,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};i.actor&&"expired"!==i.state||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",Q,M))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(i){const d=i.canonical,f=Math.pow(2,d.z),y=(d.x-1+f)%f,M=0===d.x?i.wrap-1:i.wrap,O=(d.x+1+f)%f,R=d.x+1===f?i.wrap+1:i.wrap,V={};return V[new g.OverscaledTileID(i.overscaledZ,M,d.z,y,d.y).key]={backfilled:!1},V[new g.OverscaledTileID(i.overscaledZ,R,d.z,O,d.y).key]={backfilled:!1},d.y>0&&(V[new g.OverscaledTileID(i.overscaledZ,M,d.z,y,d.y-1).key]={backfilled:!1},V[new g.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},V[new g.OverscaledTileID(i.overscaledZ,R,d.z,O,d.y-1).key]={backfilled:!1}),d.y+1<f&&(V[new g.OverscaledTileID(i.overscaledZ,M,d.z,y,d.y+1).key]={backfilled:!1},V[new g.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},V[new g.OverscaledTileID(i.overscaledZ,R,d.z,O,d.y+1).key]={backfilled:!1}),V}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class at extends g.Evented{constructor(i,d,f,y){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>g.extend({},this._options,{type:this.type,data:this._data}),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent(y),this._data=d.data,this._options=g.extend({},d),this._collectResourceTiming=d.collectResourceTiming,void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const M=g.EXTENT/this.tileSize;this.workerOptions=g.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*M,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*M,extent:g.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:g.EXTENT,radius:(d.clusterRadius||50)*M,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(void 0!==i.clusterRadius&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),void 0!==i.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},d),this}getClusterChildren(i,d){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},d),this}getClusterLeaves(i,d,f,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:d,offset:f},y),this}_updateWorkerData(i){const d=g.extend({},this.workerOptions);i?d.dataDiff=i:"string"==typeof this._data?(d.request=this.map._requestManager.transformRequest(g.browser.resolveURL(this._data),nt.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new g.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(f,y)=>{if(this._pendingLoads--,this._removed||y&&y.abandoned)return void this.fire(new g.Event("dataabort",{dataType:"source"}));let M=null;if(y&&y.resourceTiming&&y.resourceTiming[this.id]&&(M=y.resourceTiming[this.id].slice(0)),f)return void this.fire(new g.ErrorEvent(f));const O={dataType:"source"};this._collectResourceTiming&&M&&M.length>0&&g.extend(O,{resourceTiming:M}),this.fire(new g.Event("data",Object.assign(Object.assign({},O),{sourceDataType:"metadata"}))),this.fire(new g.Event("data",Object.assign(Object.assign({},O),{sourceDataType:"content"})))})}loaded(){return 0===this._pendingLoads}loadTile(i,d){const f=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const y={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(f,y,(M,O)=>(delete i.request,i.unloadVectorData(),i.aborted?d(null):M?d(M):(i.loadVectorData(O,this.map.painter,"reloadTile"===f),d(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var kt=g.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class We extends g.Evented{constructor(i,d,f,y){super(),this.load=(M,O)=>{this._loaded=!1,this.fire(new g.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=it.getImage(this.map._requestManager.transformRequest(this.url,nt.Image),(R,V)=>{this._request=null,this._loaded=!0,R?this.fire(new g.ErrorEvent(R)):V&&(this.image=V,M&&(this.coordinates=M),O&&O(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const M=this.map.painter.context,O=M.gl;this.boundsBuffer||(this.boundsBuffer=M.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=g.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new $e(M,this.image,O.RGBA),this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE));let R=!1;for(const V in this.tiles){const W=this.tiles[V];"loaded"!==W.state&&(W.state="loaded",W.texture=this.texture,R=!0)}R&&this.fire(new g.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=i,this.dispatcher=f,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=d}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(i){this.coordinates=i;const d=i.map(g.MercatorCoordinate.fromLngLat);this.tileID=function(y){let M=1/0,O=1/0,R=-1/0,V=-1/0;for(const I of y)M=Math.min(M,I.x),O=Math.min(O,I.y),R=Math.max(R,I.x),V=Math.max(V,I.y);const W=Math.max(R-M,V-O),Q=Math.max(0,Math.floor(-Math.log(W)/Math.LN2)),E=Math.pow(2,Q);return new g.CanonicalTileID(Q,Math.floor((M+R)/2*E),Math.floor((O+V)/2*E))}(d),this.minzoom=this.maxzoom=this.tileID.z;const f=d.map(y=>this.tileID.getTilePoint(y)._round());return this._boundsArray=new g.RasterBoundsArray,this._boundsArray.emplaceBack(f[0].x,f[0].y,0,0),this._boundsArray.emplaceBack(f[1].x,f[1].y,g.EXTENT,0),this._boundsArray.emplaceBack(f[3].x,f[3].y,0,g.EXTENT),this._boundsArray.emplaceBack(f[2].x,f[2].y,g.EXTENT,g.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new g.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(i,d){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},d(null)):(i.state="errored",d(null))}hasTransition(){return!1}}class ht extends We{constructor(i,d,f,y){super(i,d,f,y),this.load=()=>{this._loaded=!1;const M=this.options;this.urls=[];for(const O of M.urls)this.urls.push(this.map._requestManager.transformRequest(O,nt.Source).url);g.getVideo(this.urls,(O,R)=>{this._loaded=!0,O?this.fire(new g.ErrorEvent(O)):R&&(this.video=R,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const M=this.map.painter.context,O=M.gl;this.boundsBuffer||(this.boundsBuffer=M.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=g.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE),O.texSubImage2D(O.TEXTURE_2D,0,0,0,O.RGBA,O.UNSIGNED_BYTE,this.video)):(this.texture=new $e(M,this.video,O.RGBA),this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE));let R=!1;for(const V in this.tiles){const W=this.tiles[V];"loaded"!==W.state&&(W.state="loaded",W.texture=this.texture,R=!0)}R&&this.fire(new g.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const d=this.video.seekable;i<d.start(0)||i>d.end(0)?this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class At extends We{constructor(i,d,f,y){super(i,d,f,y),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new g.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let M=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,M=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,M=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const O=this.map.painter.context,R=O.gl;this.boundsBuffer||(this.boundsBuffer=O.createVertexBuffer(this._boundsArray,kt.members)),this.boundsSegments||(this.boundsSegments=g.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(M||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new $e(O,this.canvas,R.RGBA,{premultiply:!0});let V=!1;for(const W in this.tiles){const Q=this.tiles[W];"loaded"!==Q.state&&(Q.state="loaded",Q.texture=this.texture,V=!0)}V&&this.fire(new g.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(M=>!Array.isArray(M)||2!==M.length||M.some(O=>"number"!=typeof O))||this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof HTMLCanvasElement||this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new g.ErrorEvent(new g.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const ai={},Jt=C=>{switch(C){case"geojson":return at;case"image":return We;case"raster":return Bt;case"raster-dem":return Mt;case"vector":return gt;case"video":return ht;case"canvas":return At}return ai[C]};function vi(C,i){const d=g.create();return g.translate(d,d,[1,1,0]),g.scale(d,d,[.5*C.width,.5*C.height,1]),g.multiply(d,d,C.calculatePosMatrix(i.toUnwrapped()))}function yi(C,i,d,f,y,M){const O=function(E,I,T){if(E)for(const k of E){const z=I[k];if(z&&z.source===T&&"fill-extrusion"===z.type)return!0}else for(const k in I){const z=I[k];if(z.source===T&&"fill-extrusion"===z.type)return!0}return!1}(y&&y.layers,i,C.id),R=M.maxPitchScaleFactor(),V=C.tilesIn(f,R,O);V.sort(Fi);const W=[];for(const E of V)W.push({wrappedTileID:E.tileID.wrapped().key,queryResults:E.tile.queryRenderedFeatures(i,d,C._state,E.queryGeometry,E.cameraQueryGeometry,E.scale,y,M,R,vi(C.transform,E.tileID))});const Q=function(E){const I={},T={};for(const k of E){const z=k.queryResults,j=k.wrappedTileID,re=T[j]=T[j]||{};for(const Se in z){const ue=z[Se],je=re[Se]=re[Se]||{},mt=I[Se]=I[Se]||[];for(const Dt of ue)je[Dt.featureIndex]||(je[Dt.featureIndex]=!0,mt.push(Dt))}}return I}(W);for(const E in Q)Q[E].forEach(I=>{const T=I.feature,k=C.getFeatureState(T.layer["source-layer"],T.id);T.source=T.layer.source,T.layer["source-layer"]&&(T.sourceLayer=T.layer["source-layer"]),T.state=k});return Q}function Fi(C,i){const d=C.tileID,f=i.tileID;return d.overscaledZ-f.overscaledZ||d.canonical.y-f.canonical.y||d.wrap-f.wrap||d.canonical.x-f.canonical.x}class dt{constructor(i,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=g.uniqueId(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const d=i+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,d,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(y,M){const O={};if(!M)return O;for(const R of y){const V=R.layerIds.map(W=>M.getLayer(W)).filter(Boolean);if(0!==V.length){R.layers=V,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(W=>V.filter(Q=>Q.id===W)[0]));for(const W of V)O[W.id]=R}}return O}(i.buckets,d.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const M=this.buckets[y];if(M instanceof g.SymbolBucket){if(this.hasSymbolBuckets=!0,!f)break;M.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const M=this.buckets[y];if(M instanceof g.SymbolBucket&&M.hasRTLText){this.hasRTLText=!0,g.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const y in this.buckets){const M=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(y).queryRadius(M))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new g.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const f in this.buckets){const y=this.buckets[f];y.uploadPending()&&y.upload(i)}const d=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new $e(i,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new $e(i,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,d,f,y,M,O,R,V,W,Q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:M,scale:O,tileSize:this.tileSize,pixelPosMatrix:Q,transform:V,params:R,queryPadding:this.queryPadding*W},i,d,f):{}}querySourceFeatures(i,d){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const y=f.loadVTLayers(),M=d&&d.sourceLayer?d.sourceLayer:"",O=y._geojsonTileLayer||y[M];if(!O)return;const R=g.createFilter(d&&d.filter),{z:V,x:W,y:Q}=this.tileID.canonical,E={z:V,x:W,y:Q};for(let I=0;I<O.length;I++){const T=O.feature(I);if(R.needGeometry){const j=g.toEvaluationFeature(T,!0);if(!R.filter(new g.EvaluationParameters(this.tileID.overscaledZ),j,this.tileID.canonical))continue}else if(!R.filter(new g.EvaluationParameters(this.tileID.overscaledZ),T))continue;const k=f.getId(T,M),z=new g.GeoJSONFeature(T,V,W,Q,k);z.tile=E,i.push(z)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const d=this.expirationTime;if(i.cacheControl){const f=g.parseCacheControl(i.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const f=Date.now();let y=!1;if(this.expirationTime>f)y=!1;else if(d)if(this.expirationTime<d)y=!0;else{const M=this.expirationTime-d;M?this.expirationTime=f+Math.max(M,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(i,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(i).length)return;const f=this.latestFeatureIndex.loadVTLayers();for(const y in this.buckets){if(!d.style.hasLayer(y))continue;const M=this.buckets[y],O=M.layers[0].sourceLayer||"_geojsonTileLayer",R=f[O],V=i[O];if(!R||!V||0===Object.keys(V).length)continue;M.update(V,R,this.imageAtlas&&this.imageAtlas.patternPositions||{});const W=d&&d.style&&d.style.getLayer(y);W&&(this.queryPadding=Math.max(this.queryPadding,W.queryRadius(M)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<g.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=g.browser.now()+i}setDependencies(i,d){const f={};for(const y of d)f[y]=!0;this.dependencies[i]=f}hasDependency(i,d){for(const f of i){const y=this.dependencies[f];if(y)for(const M of d)if(y[M])return!0}return!1}}class $t{constructor(i,d){this.max=i,this.onRemove=d,this.reset()}reset(){for(const i in this.data)for(const d of this.data[i])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(i,d,f){const y=i.wrapped().key;void 0===this.data[y]&&(this.data[y]=[]);const M={value:d,timeout:void 0};if(void 0!==f&&(M.timeout=setTimeout(()=>{this.remove(i,M)},f)),this.data[y].push(M),this.order.push(y),this.order.length>this.max){const O=this._getAndRemoveByKey(this.order[0]);O&&this.onRemove(O)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const d=this.data[i].shift();return d.timeout&&clearTimeout(d.timeout),0===this.data[i].length&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),d.value}getByKey(i){const d=this.data[i];return d?d[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,d){if(!this.has(i))return this;const f=i.wrapped().key,y=void 0===d?0:this.data[f].indexOf(d),M=this.data[f][y];return this.data[f].splice(y,1),M.timeout&&clearTimeout(M.timeout),0===this.data[f].length&&delete this.data[f],this.onRemove(M.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(i){const d=[];for(const f in this.data)for(const y of this.data[f])i(y.value)||d.push(y);for(const f of d)this.remove(f.value.tileID,f)}}class Kt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,d,f){const y=String(d);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][y]=this.stateChanges[i][y]||{},g.extend(this.stateChanges[i][y],f),null===this.deletedStates[i]){this.deletedStates[i]={};for(const M in this.state[i])M!==y&&(this.deletedStates[i][M]=null)}else if(this.deletedStates[i]&&null===this.deletedStates[i][y]){this.deletedStates[i][y]={};for(const M in this.state[i][y])f[M]||(this.deletedStates[i][y][M]=null)}else for(const M in f)this.deletedStates[i]&&this.deletedStates[i][y]&&null===this.deletedStates[i][y][M]&&delete this.deletedStates[i][y][M]}removeFeatureState(i,d,f){if(null===this.deletedStates[i])return;const y=String(d);if(this.deletedStates[i]=this.deletedStates[i]||{},f&&void 0!==d)null!==this.deletedStates[i][y]&&(this.deletedStates[i][y]=this.deletedStates[i][y]||{},this.deletedStates[i][y][f]=null);else if(void 0!==d)if(this.stateChanges[i]&&this.stateChanges[i][y])for(f in this.deletedStates[i][y]={},this.stateChanges[i][y])this.deletedStates[i][y][f]=null;else this.deletedStates[i][y]=null;else this.deletedStates[i]=null}getState(i,d){const f=String(d),y=g.extend({},(this.state[i]||{})[f],(this.stateChanges[i]||{})[f]);if(null===this.deletedStates[i])return{};if(this.deletedStates[i]){const M=this.deletedStates[i][d];if(null===M)return{};for(const O in M)delete y[O]}return y}initializeTileState(i,d){i.setFeatureState(this.state,d)}coalesceChanges(i,d){const f={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const M={};for(const O in this.stateChanges[y])this.state[y][O]||(this.state[y][O]={}),g.extend(this.state[y][O],this.stateChanges[y][O]),M[O]=this.state[y][O];f[y]=M}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const M={};if(null===this.deletedStates[y])for(const O in this.state[y])M[O]={},this.state[y][O]={};else for(const O in this.deletedStates[y]){if(null===this.deletedStates[y][O])this.state[y][O]={};else for(const R of Object.keys(this.deletedStates[y][O]))delete this.state[y][O][R];M[O]=this.state[y][O]}f[y]=f[y]||{},g.extend(f[y],M)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(f).length)for(const y in i)i[y].setFeatureState(f,d)}}class _t extends g.Evented{constructor(i,d,f){super(),this.id=i,this.dispatcher=f,this.on("data",y=>{"source"===y.dataType&&"metadata"===y.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===y.dataType&&"content"===y.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,M,O,R)=>{const V=new(Jt(M.type))(y,M,O,R);if(V.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${V.id}`);return V})(i,d,f,this),this._tiles={},this._cache=new $t(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Kt,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const d=this._tiles[i];if("loaded"!==d.state&&"errored"!==d.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,d){return this._source.loadTile(i,d)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new g.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const f=this._tiles[d];f.upload(i),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(Yi).map(i=>i.key)}getRenderableIds(i){const d=[];for(const f in this._tiles)this._isIdRenderable(f,i)&&d.push(this._tiles[f]);return i?d.sort((f,y)=>{const M=f.tileID,O=y.tileID,R=new g.Point(M.canonical.x,M.canonical.y)._rotate(this.transform.angle),V=new g.Point(O.canonical.x,O.canonical.y)._rotate(this.transform.angle);return M.overscaledZ-O.overscaledZ||V.y-R.y||V.x-R.x}).map(f=>f.tileID.key):d.map(f=>f.tileID).sort(Yi).map(f=>f.key)}hasRenderableParent(i){const d=this.findLoadedParent(i,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(i,d){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(d||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)"errored"!==this._tiles[i].state&&this._reloadTile(i,"reloading")}}_reloadTile(i,d){const f=this._tiles[i];f&&("loading"!==f.state&&(f.state=d),this._loadTile(f,this._tileLoaded.bind(this,f,i,d)))}_tileLoaded(i,d,f,y){if(y)return i.state="errored",void(404!==y.status?this._source.fire(new g.ErrorEvent(y,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=g.browser.now(),"expired"===f&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(d,i),"raster-dem"===this.getSource().type&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new g.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const d=this.getRenderableIds();for(let y=0;y<d.length;y++){const M=d[y];if(i.neighboringTiles&&i.neighboringTiles[M]){const O=this.getTileByID(M);f(i,O),f(O,i)}}function f(y,M){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let O=M.tileID.canonical.x-y.tileID.canonical.x;const R=M.tileID.canonical.y-y.tileID.canonical.y,V=Math.pow(2,y.tileID.canonical.z),W=M.tileID.key;0===O&&0===R||Math.abs(R)>1||(Math.abs(O)>1&&(1===Math.abs(O+V)?O+=V:1===Math.abs(O-V)&&(O-=V)),M.dem&&y.dem&&(y.dem.backfillBorder(M.dem,O,R),y.neighboringTiles&&y.neighboringTiles[W]&&(y.neighboringTiles[W].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,d,f,y){for(const M in this._tiles){let O=this._tiles[M];if(y[M]||!O.hasData()||O.tileID.overscaledZ<=d||O.tileID.overscaledZ>f)continue;let R=O.tileID;for(;O&&O.tileID.overscaledZ>d+1;){const W=O.tileID.scaledTo(O.tileID.overscaledZ-1);O=this._tiles[W.key],O&&O.hasData()&&(R=W)}let V=R;for(;V.overscaledZ>d;)if(V=V.scaledTo(V.overscaledZ-1),i[V.key]){y[R.key]=R;break}}}findLoadedParent(i,d){if(i.key in this._loadedParentTiles){const f=this._loadedParentTiles[i.key];return f&&f.tileID.overscaledZ>=d?f:null}for(let f=i.overscaledZ-1;f>=d;f--){const y=i.scaledTo(f),M=this._getLoadedTile(y);if(M)return M}}_getLoadedTile(i){const d=this._tiles[i.key];return d&&d.hasData()?d:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const d=Math.ceil(i.width/this._source.tileSize)+1,f=Math.ceil(i.height/this._source.tileSize)+1,y=Math.floor(d*f*(null===this._maxTileCacheZoomLevels?g.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),M="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(M)}handleWrapJump(i){const d=Math.round((i-(void 0===this._prevLng?i:this._prevLng))/360);if(this._prevLng=i,d){const f={};for(const y in this._tiles){const M=this._tiles[y];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+d),f[M.tileID.key]=M}this._tiles=f;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}update(i,d){if(this.transform=i,this.terrain=d,!this._sourceLoaded||this._paused)return;let f;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new g.OverscaledTileID(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y)):(f=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(f=f.filter(Q=>this._source.hasTile(Q)))):f=[];const y=i.coveringZoomLevel(this._source),M=Math.max(y-_t.maxOverzooming,this._source.minzoom),O=Math.max(y+_t.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Q={};for(const E of f)if(E.canonical.z>this._source.minzoom){const I=E.scaledTo(E.canonical.z-1);Q[I.key]=I;const T=E.scaledTo(Math.max(this._source.minzoom,Math.min(E.canonical.z,5)));Q[T.key]=T}f=f.concat(Object.values(Q))}const R=0===f.length&&!this._updated&&this._didEmitContent;this._updated=!0,R&&this.fire(new g.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const V=this._updateRetainedTiles(f,y);if(On(this._source.type)){const Q={},E={},I=Object.keys(V),T=g.browser.now();for(const k of I){const z=V[k],j=this._tiles[k];if(!j||0!==j.fadeEndTime&&j.fadeEndTime<=T)continue;const re=this.findLoadedParent(z,M);re&&(this._addTile(re.tileID),Q[re.tileID.key]=re.tileID),E[k]=z}this._retainLoadedChildren(E,y,O,V);for(const k in Q)V[k]||(this._coveredTiles[k]=!0,V[k]=Q[k]);if(d){const k={},z={};for(const j of f)this._tiles[j.key].hasData()?k[j.key]=j:z[j.key]=j;for(const j in z){const re=z[j].children(this._source.maxzoom);this._tiles[re[0].key]&&this._tiles[re[1].key]&&this._tiles[re[2].key]&&this._tiles[re[3].key]&&(k[re[0].key]=V[re[0].key]=re[0],k[re[1].key]=V[re[1].key]=re[1],k[re[2].key]=V[re[2].key]=re[2],k[re[3].key]=V[re[3].key]=re[3],delete z[j])}for(const j in z){const re=this.findLoadedParent(z[j],this._source.minzoom);if(re){k[re.tileID.key]=V[re.tileID.key]=re.tileID;for(const Se in k)k[Se].isChildOf(re.tileID)&&delete k[Se]}}for(const j in this._tiles)k[j]||(this._coveredTiles[j]=!0)}}for(const Q in V)this._tiles[Q].clearFadeHold();const W=g.keysDifference(this._tiles,V);for(const Q of W){const E=this._tiles[Q];E.hasSymbolBuckets&&!E.holdingForFade()?E.setHoldDuration(this.map._fadeDuration):E.hasSymbolBuckets&&!E.symbolFadeFinished()||this._removeTile(Q)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,d){const f={},y={},M=Math.max(d-_t.maxOverzooming,this._source.minzoom),O=Math.max(d+_t.maxUnderzooming,this._source.minzoom),R={};for(const V of i){const W=this._addTile(V);f[V.key]=V,W.hasData()||d<this._source.maxzoom&&(R[V.key]=V)}this._retainLoadedChildren(R,d,O,f);for(const V of i){let W=this._tiles[V.key];if(W.hasData())continue;if(d+1>this._source.maxzoom){const E=V.children(this._source.maxzoom)[0],I=this.getTile(E);if(I&&I.hasData()){f[E.key]=E;continue}}else{const E=V.children(this._source.maxzoom);if(f[E[0].key]&&f[E[1].key]&&f[E[2].key]&&f[E[3].key])continue}let Q=W.wasRequested();for(let E=V.overscaledZ-1;E>=M;--E){const I=V.scaledTo(E);if(y[I.key])break;if(y[I.key]=!0,W=this.getTile(I),!W&&Q&&(W=this._addTile(I)),W){const T=W.hasData();if((Q||T)&&(f[I.key]=I),Q=W.wasRequested(),T)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const d=[];let f,y=this._tiles[i].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){f=this._loadedParentTiles[y.key];break}d.push(y.key);const M=y.scaledTo(y.overscaledZ-1);if(f=this._getLoadedTile(M),f)break;y=M}for(const M of d)this._loadedParentTiles[M]=f}}_addTile(i){let d=this._tiles[i.key];if(d)return d;d=this._cache.getAndRemove(i),d&&(this._setTileReloadTimer(i.key,d),d.tileID=i,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,d)));const f=d;return d||(d=new dt(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,i.key,d.state))),d.uses++,this._tiles[i.key]=d,f||this._source.fire(new g.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(i,d){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const f=d.getExpiryTimeout();f&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},f))}_removeTile(i){const d=this._tiles[i];d&&(d.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),d.uses>0||(d.hasData()&&"reloading"!==d.state?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,d,f){const y=[],M=this.transform;if(!M)return y;const O=f?M.getCameraQueryGeometry(i):i,R=i.map(k=>M.pointCoordinate(k,this.terrain)),V=O.map(k=>M.pointCoordinate(k,this.terrain)),W=this.getIds();let Q=1/0,E=1/0,I=-1/0,T=-1/0;for(const k of V)Q=Math.min(Q,k.x),E=Math.min(E,k.y),I=Math.max(I,k.x),T=Math.max(T,k.y);for(let k=0;k<W.length;k++){const z=this._tiles[W[k]];if(z.holdingForFade())continue;const j=z.tileID,re=Math.pow(2,M.zoom-z.tileID.overscaledZ),Se=d*z.queryPadding*g.EXTENT/z.tileSize/re,ue=[j.getTilePoint(new g.MercatorCoordinate(Q,E)),j.getTilePoint(new g.MercatorCoordinate(I,T))];if(ue[0].x-Se<g.EXTENT&&ue[0].y-Se<g.EXTENT&&ue[1].x+Se>=0&&ue[1].y+Se>=0){const je=R.map(Dt=>j.getTilePoint(Dt)),mt=V.map(Dt=>j.getTilePoint(Dt));y.push({tile:z,tileID:j,queryGeometry:je,cameraQueryGeometry:mt,scale:re})}}return y}getVisibleCoordinates(i){const d=this.getRenderableIds(i).map(f=>this._tiles[f].tileID);for(const f of d)f.posMatrix=this.transform.calculatePosMatrix(f.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(On(this._source.type)){const i=g.browser.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=i)return!0}return!1}setFeatureState(i,d,f){this._state.updateState(i=i||"_geojsonTileLayer",d,f)}removeFeatureState(i,d,f){this._state.removeFeatureState(i=i||"_geojsonTileLayer",d,f)}getFeatureState(i,d){return this._state.getState(i=i||"_geojsonTileLayer",d)}setDependencies(i,d,f){const y=this._tiles[i];y&&y.setDependencies(d,f)}reloadTilesForDependencies(i,d){for(const f in this._tiles)this._tiles[f].hasDependency(i,d)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(i,d))}}function Yi(C,i){const d=Math.abs(2*C.wrap)-+(C.wrap<0),f=Math.abs(2*i.wrap)-+(i.wrap<0);return C.overscaledZ-i.overscaledZ||f-d||i.canonical.y-C.canonical.y||i.canonical.x-C.canonical.x}function On(C){return"raster"===C||"image"===C||"video"===C}_t.maxOverzooming=10,_t.maxUnderzooming=3;const Wi="mapboxgl_preloaded_worker_pool";class zi{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<zi.workerCount;)this.workers.push(new Worker(g.config.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],0===this.numActive()&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Wi]}numActive(){return Object.keys(this.active).length}}const Tt=Math.floor(g.browser.hardwareConcurrency/2);let xe;function Re(){return xe||(xe=new zi),xe}zi.workerCount=g.isSafari(globalThis)?Math.max(Math.min(Tt,3),1):1;class Pe{constructor(i,d){this.reset(i,d)}reset(i,d){this.points=i||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(1===this.points.length)return this.points[0];i=g.clamp(i,0,1);let d=1,f=this._distances[d];const y=i*this.paddedLength+this.padding;for(;f<y&&d<this._distances.length;)f=this._distances[++d];const M=d-1,O=this._distances[M],R=f-O,V=R>0?(y-O)/R:0;return this.points[M].mult(1-V).add(this.points[d].mult(V))}}function Ye(C,i){let d=!0;return"always"===C||"never"!==C&&"never"!==i||(d=!1),d}class be{constructor(i,d,f){const y=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(i/f),this.yCellCount=Math.ceil(d/f);for(let O=0;O<this.xCellCount*this.yCellCount;O++)y.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=d,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,d,f,y,M){this._forEachCell(d,f,y,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(M)}insertCircle(i,d,f,y){this._forEachCell(d-y,f-y,d+y,f+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(d),this.circles.push(f),this.circles.push(y)}_insertBoxCell(i,d,f,y,M,O){this.boxCells[M].push(O)}_insertCircleCell(i,d,f,y,M,O){this.circleCells[M].push(O)}_query(i,d,f,y,M,O,R){if(f<0||i>this.width||y<0||d>this.height)return[];const V=[];if(i<=0&&d<=0&&this.width<=f&&this.height<=y){if(M)return[{key:null,x1:i,y1:d,x2:f,y2:y}];for(let W=0;W<this.boxKeys.length;W++)V.push({key:this.boxKeys[W],x1:this.bboxes[4*W],y1:this.bboxes[4*W+1],x2:this.bboxes[4*W+2],y2:this.bboxes[4*W+3]});for(let W=0;W<this.circleKeys.length;W++){const Q=this.circles[3*W],E=this.circles[3*W+1],I=this.circles[3*W+2];V.push({key:this.circleKeys[W],x1:Q-I,y1:E-I,x2:Q+I,y2:E+I})}}else this._forEachCell(i,d,f,y,this._queryCell,V,{hitTest:M,overlapMode:O,seenUids:{box:{},circle:{}}},R);return V}query(i,d,f,y){return this._query(i,d,f,y,!1,null)}hitTest(i,d,f,y,M,O){return this._query(i,d,f,y,!0,M,O).length>0}hitTestCircle(i,d,f,y,M){const O=i-f,R=i+f,V=d-f,W=d+f;if(R<0||O>this.width||W<0||V>this.height)return!1;const Q=[];return this._forEachCell(O,V,R,W,this._queryCellCircle,Q,{hitTest:!0,overlapMode:y,circle:{x:i,y:d,radius:f},seenUids:{box:{},circle:{}}},M),Q.length>0}_queryCell(i,d,f,y,M,O,R,V){const{seenUids:W,hitTest:Q,overlapMode:E}=R,I=this.boxCells[M];if(null!==I){const k=this.bboxes;for(const z of I)if(!W.box[z]){W.box[z]=!0;const j=4*z,re=this.boxKeys[z];if(i<=k[j+2]&&d<=k[j+3]&&f>=k[j+0]&&y>=k[j+1]&&(!V||V(re))&&(!Q||!Ye(E,re.overlapMode))&&(O.push({key:re,x1:k[j],y1:k[j+1],x2:k[j+2],y2:k[j+3]}),Q))return!0}}const T=this.circleCells[M];if(null!==T){const k=this.circles;for(const z of T)if(!W.circle[z]){W.circle[z]=!0;const j=3*z,re=this.circleKeys[z];if(this._circleAndRectCollide(k[j],k[j+1],k[j+2],i,d,f,y)&&(!V||V(re))&&(!Q||!Ye(E,re.overlapMode))){const Se=k[j],ue=k[j+1],je=k[j+2];if(O.push({key:re,x1:Se-je,y1:ue-je,x2:Se+je,y2:ue+je}),Q)return!0}}}return!1}_queryCellCircle(i,d,f,y,M,O,R,V){const{circle:W,seenUids:Q,overlapMode:E}=R,I=this.boxCells[M];if(null!==I){const k=this.bboxes;for(const z of I)if(!Q.box[z]){Q.box[z]=!0;const j=4*z,re=this.boxKeys[z];if(this._circleAndRectCollide(W.x,W.y,W.radius,k[j+0],k[j+1],k[j+2],k[j+3])&&(!V||V(re))&&!Ye(E,re.overlapMode))return O.push(!0),!0}}const T=this.circleCells[M];if(null!==T){const k=this.circles;for(const z of T)if(!Q.circle[z]){Q.circle[z]=!0;const j=3*z,re=this.circleKeys[z];if(this._circlesCollide(k[j],k[j+1],k[j+2],W.x,W.y,W.radius)&&(!V||V(re))&&!Ye(E,re.overlapMode))return O.push(!0),!0}}}_forEachCell(i,d,f,y,M,O,R,V){const W=this._convertToXCellCoord(i),Q=this._convertToYCellCoord(d),E=this._convertToXCellCoord(f),I=this._convertToYCellCoord(y);for(let T=W;T<=E;T++)for(let k=Q;k<=I;k++)if(M.call(this,i,d,f,y,this.xCellCount*k+T,O,R,V))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,d,f,y,M,O){const R=y-i,V=M-d,W=f+O;return W*W>R*R+V*V}_circleAndRectCollide(i,d,f,y,M,O,R){const V=(O-y)/2,W=Math.abs(i-(y+V));if(W>V+f)return!1;const Q=(R-M)/2,E=Math.abs(d-(M+Q));if(E>Q+f)return!1;if(W<=V||E<=Q)return!0;const I=W-V,T=E-Q;return I*I+T*T<=f*f}}function qe(C,i,d,f,y){const M=g.create();return i?(g.scale(M,M,[1/y,1/y,1]),d||g.rotateZ(M,M,f.angle)):g.multiply(M,f.labelPlaneMatrix,C),M}function tt(C,i,d,f,y){if(i){const M=g.clone(C);return g.scale(M,M,[y,y,1]),d||g.rotateZ(M,M,-f.angle),M}return f.glCoordMatrix}function Ht(C,i,d){let f;d?(f=[C.x,C.y,d(C.x,C.y),1],g.transformMat4(f,f,i)):(f=[C.x,C.y,0,1],Ce(f,f,i));const y=f[3];return{point:new g.Point(f[0]/y,f[1]/y),signedDistanceFromCamera:y}}function ri(C,i){return.5+C/i*.5}function Ei(C,i){const d=C[0]/C[3],f=C[1]/C[3];return d>=-i[0]&&d<=i[0]&&f>=-i[1]&&f<=i[1]}function gi(C,i,d,f,y,M,O,R,V,W){const Q=f?C.textSizeData:C.iconSizeData,E=g.evaluateSizeForZoom(Q,d.transform.zoom),I=[256/d.width*2+1,256/d.height*2+1],T=f?C.text.dynamicLayoutVertexArray:C.icon.dynamicLayoutVertexArray;T.clear();const k=C.lineVertexArray,z=f?C.text.placedSymbolArray:C.icon.placedSymbolArray,j=d.transform.width/d.transform.height;let re=!1;for(let Se=0;Se<z.length;Se++){const ue=z.get(Se);if(ue.hidden||ue.writingMode===g.WritingMode.vertical&&!re){se(ue.numGlyphs,T);continue}let je;if(re=!1,W?(je=[ue.anchorX,ue.anchorY,W(ue.anchorX,ue.anchorY),1],g.transformMat4(je,je,i)):(je=[ue.anchorX,ue.anchorY,0,1],Ce(je,je,i)),!Ei(je,I)){se(ue.numGlyphs,T);continue}const mt=ri(d.transform.cameraToCenterDistance,je[3]),Dt=g.evaluateSizeForFeature(Q,E,ue),Rt=O?Dt/mt:Dt*mt,ii=new g.Point(ue.anchorX,ue.anchorY),qt=Ht(ii,y,W).point,ui={projections:{},offsets:{}},Bi=xi(ue,Rt,!1,R,i,y,M,C.glyphOffsetArray,k,T,qt,ii,ui,j,V,W);re=Bi.useVertical,(Bi.notEnoughRoom||re||Bi.needsFlipping&&xi(ue,Rt,!0,R,i,y,M,C.glyphOffsetArray,k,T,qt,ii,ui,j,V,W).notEnoughRoom)&&se(ue.numGlyphs,T)}f?C.text.dynamicLayoutVertexBuffer.updateData(T):C.icon.dynamicLayoutVertexBuffer.updateData(T)}function Gt(C,i,d,f,y,M,O,R,V,W,Q,E,I){const T=R.glyphStartIndex+R.numGlyphs,k=R.lineStartIndex,z=R.lineStartIndex+R.lineLength,j=i.getoffsetX(R.glyphStartIndex),re=i.getoffsetX(T-1),Se=ve(C*j,d,f,y,M,O,R.segment,k,z,V,W,Q,E,I);if(!Se)return null;const ue=ve(C*re,d,f,y,M,O,R.segment,k,z,V,W,Q,E,I);return ue?{first:Se,last:ue}:null}function Mi(C,i,d,f){return C===g.WritingMode.horizontal&&Math.abs(d.y-i.y)>Math.abs(d.x-i.x)*f?{useVertical:!0}:(C===g.WritingMode.vertical?i.y<d.y:i.x>d.x)?{needsFlipping:!0}:null}function xi(C,i,d,f,y,M,O,R,V,W,Q,E,I,T,k,z){const j=i/24,re=C.lineOffsetX*j,Se=C.lineOffsetY*j;let ue;if(C.numGlyphs>1){const je=C.glyphStartIndex+C.numGlyphs,mt=C.lineStartIndex,Dt=C.lineStartIndex+C.lineLength,Rt=Gt(j,R,re,Se,d,Q,E,C,V,M,I,k,z);if(!Rt)return{notEnoughRoom:!0};const ii=Ht(Rt.first.point,O,z).point,qt=Ht(Rt.last.point,O,z).point;if(f&&!d){const ui=Mi(C.writingMode,ii,qt,T);if(ui)return ui}ue=[Rt.first];for(let ui=C.glyphStartIndex+1;ui<je-1;ui++)ue.push(ve(j*R.getoffsetX(ui),re,Se,d,Q,E,C.segment,mt,Dt,V,M,I,k,z));ue.push(Rt.last)}else{if(f&&!d){const mt=Ht(E,y,z).point,Dt=C.lineStartIndex+C.segment+1,Rt=new g.Point(V.getx(Dt),V.gety(Dt)),ii=Ht(Rt,y,z),qt=ii.signedDistanceFromCamera>0?ii.point:an(E,Rt,mt,1,y,z),ui=Mi(C.writingMode,mt,qt,T);if(ui)return ui}const je=ve(j*R.getoffsetX(C.glyphStartIndex),re,Se,d,Q,E,C.segment,C.lineStartIndex,C.lineStartIndex+C.lineLength,V,M,I,k,z);if(!je)return{notEnoughRoom:!0};ue=[je]}for(const je of ue)g.addDynamicAttributes(W,je.point,je.angle);return{}}function an(C,i,d,f,y,M){const O=Ht(C.add(C.sub(i)._unit()),y,M).point,R=d.sub(O);return d.add(R._mult(f/R.mag()))}function Vt(C,i){const{projectionCache:d,lineVertexArray:f,labelPlaneMatrix:y,tileAnchorPoint:M,distanceFromAnchor:O,getElevation:R,previousVertex:V,direction:W,absOffsetX:Q}=i;if(d.projections[C])return d.projections[C];const E=new g.Point(f.getx(C),f.gety(C)),I=Ht(E,y,R);if(I.signedDistanceFromCamera>0)return d.projections[C]=I.point,I.point;const T=C-W;return an(0===O?M:new g.Point(f.getx(T),f.gety(T)),E,V,Q-O+1,y,R)}function ci(C,i,d){return C._unit()._perp()._mult(i*d)}function Ft(C,i,d,f,y,M,O,R){const{projectionCache:V,direction:W}=R;if(V.offsets[C])return V.offsets[C];const Q=d.add(i);if(C+W<f||C+W>=y)return V.offsets[C]=Q,Q;const E=Vt(C+W,R),I=ci(E.sub(d),O,W),T=d.add(I),k=E.add(I);return V.offsets[C]=g.findLineIntersection(M,Q,T,k)||Q,V.offsets[C]}function ve(C,i,d,f,y,M,O,R,V,W,Q,E,I,T){const k=f?C-i:C+i;let z=k>0?1:-1,j=0;f&&(z*=-1,j=Math.PI),z<0&&(j+=Math.PI);let re,Se,ue=z>0?R+O:R+O+1,je=y,mt=y,Dt=0,Rt=0;const ii=Math.abs(k),qt=[];let ui;for(;Dt+Rt<=ii;){if(ue+=z,ue<R||ue>=V)return null;Dt+=Rt,mt=je,Se=re;const pi={projectionCache:E,lineVertexArray:W,labelPlaneMatrix:Q,tileAnchorPoint:M,distanceFromAnchor:Dt,getElevation:T,previousVertex:mt,direction:z,absOffsetX:ii};if(je=Vt(ue,pi),0===d)qt.push(mt),ui=je.sub(mt);else{let rn;const Di=je.sub(mt);rn=0===Di.mag()?ci(Vt(ue+z,pi).sub(je),d,z):ci(Di,d,z),Se||(Se=mt.add(rn)),re=Ft(ue,rn,je,R,V,Se,d,pi),qt.push(Se),ui=re.sub(Se)}Rt=ui.mag()}const Bi=ui._mult((ii-Dt)/Rt)._add(Se||mt),hn=j+Math.atan2(je.y-mt.y,je.x-mt.x);return qt.push(Bi),{point:Bi,angle:I?hn:0,path:qt}}const K=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function se(C,i){for(let d=0;d<C;d++){const f=i.length;i.resize(f+4),i.float32.set(K,3*f)}}function Ce(C,i,d){const f=i[0],y=i[1];return C[0]=d[0]*f+d[4]*y+d[12],C[1]=d[1]*f+d[5]*y+d[13],C[3]=d[3]*f+d[7]*y+d[15],C}const Ae=100;class ze{constructor(i,d=new be(i.width+200,i.height+200,25),f=new be(i.width+200,i.height+200,25)){this.transform=i,this.grid=d,this.ignoredGrid=f,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Ae,this.screenBottomBoundary=i.height+Ae,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,d,f,y,M,O){const R=this.projectAndGetPerspectiveRatio(y,i.anchorPointX,i.anchorPointY,O),V=f*R.perspectiveRatio,W=i.x1*V+R.point.x,Q=i.y1*V+R.point.y,E=i.x2*V+R.point.x,I=i.y2*V+R.point.y;return!this.isInsideGrid(W,Q,E,I)||"always"!==d&&this.grid.hitTest(W,Q,E,I,d,M)||R.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[W,Q,E,I],offscreen:this.isOffscreen(W,Q,E,I)}}placeCollisionCircles(i,d,f,y,M,O,R,V,W,Q,E,I,T,k){const z=[],j=new g.Point(d.anchorX,d.anchorY),re=Ht(j,O,k),Se=ri(this.transform.cameraToCenterDistance,re.signedDistanceFromCamera),ue=(Q?M/Se:M*Se)/g.ONE_EM,je=Ht(j,R,k).point,mt=Gt(ue,y,d.lineOffsetX*ue,d.lineOffsetY*ue,!1,je,j,d,f,R,{projections:{},offsets:{}},!1,k);let Dt=!1,Rt=!1,ii=!0;if(mt){const qt=.5*I*Se+T,ui=new g.Point(-100,-100),Bi=new g.Point(this.screenRightBoundary,this.screenBottomBoundary),hn=new Pe,pi=mt.first,rn=mt.last;let Di=[];for(let En=pi.path.length-1;En>=1;En--)Di.push(pi.path[En]);for(let En=1;En<rn.path.length;En++)Di.push(rn.path[En]);const Lr=2.5*qt;if(V){const En=Di.map(Vn=>Ht(Vn,V,k));Di=En.some(Vn=>Vn.signedDistanceFromCamera<=0)?[]:En.map(Vn=>Vn.point)}let Cn=[];if(Di.length>0){const En=Di[0].clone(),Vn=Di[0].clone();for(let to=1;to<Di.length;to++)En.x=Math.min(En.x,Di[to].x),En.y=Math.min(En.y,Di[to].y),Vn.x=Math.max(Vn.x,Di[to].x),Vn.y=Math.max(Vn.y,Di[to].y);Cn=En.x>=ui.x&&Vn.x<=Bi.x&&En.y>=ui.y&&Vn.y<=Bi.y?[Di]:Vn.x<ui.x||En.x>Bi.x||Vn.y<ui.y||En.y>Bi.y?[]:g.clipLine([Di],ui.x,ui.y,Bi.x,Bi.y)}for(const En of Cn){hn.reset(En,.25*qt);let Vn=0;Vn=hn.length<=.5*qt?1:Math.ceil(hn.paddedLength/Lr)+1;for(let to=0;to<Vn;to++){const Er=to/Math.max(Vn-1,1),Gr=hn.lerp(Er),Dr=Gr.x+Ae,io=Gr.y+Ae;z.push(Dr,io,qt,0);const ms=Dr-qt,Ys=io-qt,kr=Dr+qt,Ba=io+qt;if(ii=ii&&this.isOffscreen(ms,Ys,kr,Ba),Rt=Rt||this.isInsideGrid(ms,Ys,kr,Ba),"always"!==i&&this.grid.hitTestCircle(Dr,io,qt,i,E)&&(Dt=!0,!W))return{circles:[],offscreen:!1,collisionDetected:Dt}}}}return{circles:!W&&Dt||!Rt||Se<this.perspectiveRatioCutoff?[]:z,offscreen:ii,collisionDetected:Dt}}queryRenderedSymbols(i){if(0===i.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const d=[];let f=1/0,y=1/0,M=-1/0,O=-1/0;for(const Q of i){const E=new g.Point(Q.x+Ae,Q.y+Ae);f=Math.min(f,E.x),y=Math.min(y,E.y),M=Math.max(M,E.x),O=Math.max(O,E.y),d.push(E)}const R=this.grid.query(f,y,M,O).concat(this.ignoredGrid.query(f,y,M,O)),V={},W={};for(const Q of R){const E=Q.key;if(void 0===V[E.bucketInstanceId]&&(V[E.bucketInstanceId]={}),V[E.bucketInstanceId][E.featureIndex])continue;const I=[new g.Point(Q.x1,Q.y1),new g.Point(Q.x2,Q.y1),new g.Point(Q.x2,Q.y2),new g.Point(Q.x1,Q.y2)];g.polygonIntersectsPolygon(d,I)&&(V[E.bucketInstanceId][E.featureIndex]=!0,void 0===W[E.bucketInstanceId]&&(W[E.bucketInstanceId]=[]),W[E.bucketInstanceId].push(E.featureIndex))}return W}insertCollisionBox(i,d,f,y,M,O){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:M,collisionGroupID:O,overlapMode:d},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,d,f,y,M,O){const R=f?this.ignoredGrid:this.grid,V={bucketInstanceId:y,featureIndex:M,collisionGroupID:O,overlapMode:d};for(let W=0;W<i.length;W+=4)R.insertCircle(V,i[W],i[W+1],i[W+2])}projectAndGetPerspectiveRatio(i,d,f,y){let M;return y?(M=[d,f,y(d,f),1],g.transformMat4(M,M,i)):(M=[d,f,0,1],Ce(M,M,i)),{point:new g.Point((M[0]/M[3]+1)/2*this.transform.width+Ae,(-M[1]/M[3]+1)/2*this.transform.height+Ae),perspectiveRatio:.5+this.transform.cameraToCenterDistance/M[3]*.5}}isOffscreen(i,d,f,y){return f<Ae||i>=this.screenRightBoundary||y<Ae||d>this.screenBottomBoundary}isInsideGrid(i,d,f,y){return f>=0&&i<this.gridRightBoundary&&y>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const i=g.identity([]);return g.translate(i,i,[-100,-100,0]),i}}function Ee(C,i,d){return i*(g.EXTENT/(C.tileSize*Math.pow(2,d-C.tileID.overscaledZ)))}class ie{constructor(i,d,f,y){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?d:-d))):y&&f?1:0,this.placed=f}isHidden(){return 0===this.opacity&&!this.placed}}class ${constructor(i,d,f,y,M){this.text=new ie(i?i.text:null,d,f,M),this.icon=new ie(i?i.icon:null,d,y,M)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Z{constructor(i,d,f){this.text=i,this.icon=d,this.skipFade=f}}class ce{constructor(){this.invProjMatrix=g.create(),this.viewportMatrix=g.create(),this.circles=[]}}class Ie{constructor(i,d,f,y,M){this.bucketInstanceId=i,this.featureIndex=d,this.sourceLayerIndex=f,this.bucketIndex=y,this.tileID=M}}class ye{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const d=++this.maxGroupID;this.collisionGroups[i]={ID:d,predicate:f=>f.collisionGroupID===d}}return this.collisionGroups[i]}}function Le(C,i,d,f,y){const{horizontalAlign:M,verticalAlign:O}=g.getAnchorAlignment(C);return new g.Point(-(M-.5)*i+f[0]*y,-(O-.5)*d+f[1]*y)}function pe(C,i,d,f,y,M){const{x1:O,x2:R,y1:V,y2:W,anchorPointX:Q,anchorPointY:E}=C,I=new g.Point(i,d);return f&&I._rotate(y?M:-M),{x1:O+I.x,y1:V+I.y,x2:R+I.x,y2:W+I.y,anchorPointX:Q,anchorPointY:E}}class Te{constructor(i,d,f,y,M){this.transform=i.clone(),this.terrain=d,this.collisionIndex=new ze(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new ye(y),this.collisionCircleArrays={},this.prevPlacement=M,M&&(M.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,d,f,y){const M=f.getBucket(d),O=f.latestFeatureIndex;if(!M||!O||d.id!==M.layerIds[0])return;const R=f.collisionBoxArray,V=M.layers[0].layout,W=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),Q=f.tileSize/g.EXTENT,E=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),I="map"===V.get("text-pitch-alignment"),T="map"===V.get("text-rotation-alignment"),k=Ee(f,1,this.transform.zoom),z=qe(E,I,T,this.transform,k);let j=null;if(I){const Se=tt(E,I,T,this.transform,k);j=g.multiply([],this.transform.labelPlaneMatrix,Se)}this.retainedQueryData[M.bucketInstanceId]=new Ie(M.bucketInstanceId,O,M.sourceLayerIndex,M.index,f.tileID);const re={bucket:M,layout:V,posMatrix:E,textLabelPlaneMatrix:z,labelToScreenMatrix:j,scale:W,textPixelRatio:Q,holdingForFade:f.holdingForFade(),collisionBoxArray:R,partiallyEvaluatedTextSize:g.evaluateSizeForZoom(M.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(M.sourceID)};if(y)for(const Se of M.sortKeyRanges){const{sortKey:ue,symbolInstanceStart:je,symbolInstanceEnd:mt}=Se;i.push({sortKey:ue,symbolInstanceStart:je,symbolInstanceEnd:mt,parameters:re})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:re})}attemptAnchorPlacement(i,d,f,y,M,O,R,V,W,Q,E,I,T,k,z,j){const re=g.TextAnchorEnum[i.textAnchor],Se=[i.textOffset0,i.textOffset1],ue=Le(re,f,y,Se,M),je=this.collisionIndex.placeCollisionBox(pe(d,ue.x,ue.y,O,R,this.transform.angle),E,V,W,Q.predicate,j);if((!z||0!==this.collisionIndex.placeCollisionBox(pe(z,ue.x,ue.y,O,R,this.transform.angle),E,V,W,Q.predicate,j).box.length)&&je.box.length>0){let mt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[I.crossTileID]&&this.prevPlacement.placements[I.crossTileID]&&this.prevPlacement.placements[I.crossTileID].text&&(mt=this.prevPlacement.variableOffsets[I.crossTileID].anchor),0===I.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[I.crossTileID]={textOffset:Se,width:f,height:y,anchor:re,textBoxScale:M,prevAnchor:mt},this.markUsedJustification(T,re,I,k),T.allowVerticalPlacement&&(this.markUsedOrientation(T,k,I),this.placedOrientations[I.crossTileID]=k),{shift:ue,placedGlyphBoxes:je}}}placeLayerBucketPart(i,d,f){const{bucket:y,layout:M,posMatrix:O,textLabelPlaneMatrix:R,labelToScreenMatrix:V,textPixelRatio:W,holdingForFade:Q,collisionBoxArray:E,partiallyEvaluatedTextSize:I,collisionGroup:T}=i.parameters,k=M.get("text-optional"),z=M.get("icon-optional"),j=g.getOverlapMode(M,"text-overlap","text-allow-overlap"),re="always"===j,Se=g.getOverlapMode(M,"icon-overlap","icon-allow-overlap"),ue="always"===Se,je="map"===M.get("text-rotation-alignment"),mt="map"===M.get("text-pitch-alignment"),Dt="none"!==M.get("icon-text-fit"),Rt="viewport-y"===M.get("symbol-z-order"),ii=re&&(ue||!y.hasIconData()||z),qt=ue&&(re||!y.hasTextData()||k);!y.collisionArrays&&E&&y.deserializeCollisionBoxes(E);const ui=this.retainedQueryData[y.bucketInstanceId].tileID,Bi=this.terrain?(pi,rn)=>this.terrain.getElevation(ui,pi,rn):null,hn=(pi,rn)=>{var Di,Lr;if(d[pi.crossTileID])return;if(Q)return void(this.placements[pi.crossTileID]=new Z(!1,!1,!1));let Cn=!1,En=!1,Vn=!0,to=null,Er={box:null,offscreen:null},Gr={box:null,offscreen:null},Dr=null,io=null,ms=null,Ys=0,kr=0,Ba=0;rn.textFeatureIndex?Ys=rn.textFeatureIndex:pi.useRuntimeCollisionCircles&&(Ys=pi.featureIndex),rn.verticalTextFeatureIndex&&(kr=rn.verticalTextFeatureIndex);const ml=rn.textBox;if(ml){const Ao=no=>{let ko=g.WritingMode.horizontal;if(y.allowVerticalPlacement&&!no&&this.prevPlacement){const zs=this.prevPlacement.placedOrientations[pi.crossTileID];zs&&(this.placedOrientations[pi.crossTileID]=zs,ko=zs,this.markUsedOrientation(y,ko,pi))}return ko},wo=(no,ko)=>{if(y.allowVerticalPlacement&&pi.numVerticalGlyphVertices>0&&rn.verticalTextBox){for(const zs of y.writingModes)if(zs===g.WritingMode.vertical?(Er=ko(),Gr=Er):Er=no(),Er&&Er.box&&Er.box.length)break}else Er=no()},Ms=pi.textAnchorOffsetStartIndex,Yc=pi.textAnchorOffsetEndIndex;if(Yc===Ms){const no=(ko,zs)=>{const Co=this.collisionIndex.placeCollisionBox(ko,j,W,O,T.predicate,Bi);return Co&&Co.box&&Co.box.length&&(this.markUsedOrientation(y,zs,pi),this.placedOrientations[pi.crossTileID]=zs),Co};wo(()=>no(ml,g.WritingMode.horizontal),()=>{const ko=rn.verticalTextBox;return y.allowVerticalPlacement&&pi.numVerticalGlyphVertices>0&&ko?no(ko,g.WritingMode.vertical):{box:null,offscreen:null}}),Ao(Er&&Er.box&&Er.box.length)}else{let no=g.TextAnchorEnum[null===(Lr=null===(Di=this.prevPlacement)||void 0===Di?void 0:Di.variableOffsets[pi.crossTileID])||void 0===Lr?void 0:Lr.anchor];const ko=(Co,su,Ic)=>{const Ac=Co.x2-Co.x1,kc=Co.y2-Co.y1,ku=pi.textBoxScale,Kc=Dt&&"never"===Se?su:null;let Ja={box:[],offscreen:!1},pl="never"===j?1:2,Pc="never";no&&pl++;for(let Va=0;Va<pl;Va++){for(let Ks=Ms;Ks<Yc;Ks++){const fl=y.textAnchorOffsets.get(Ks);if(no&&fl.textAnchor!==no)continue;const ha=this.attemptAnchorPlacement(fl,Co,Ac,kc,ku,je,mt,W,O,T,Pc,pi,y,Ic,Kc,Bi);if(ha&&(Ja=ha.placedGlyphBoxes,Ja&&Ja.box&&Ja.box.length))return Cn=!0,to=ha.shift,Ja}no?no=null:Pc=j}return Ja};wo(()=>ko(ml,rn.iconBox,g.WritingMode.horizontal),()=>{const Co=rn.verticalTextBox;return y.allowVerticalPlacement&&!(Er&&Er.box&&Er.box.length)&&pi.numVerticalGlyphVertices>0&&Co?ko(Co,rn.verticalIconBox,g.WritingMode.vertical):{box:null,offscreen:null}}),Er&&(Cn=Er.box,Vn=Er.offscreen);const zs=Ao(Er&&Er.box);if(!Cn&&this.prevPlacement){const Co=this.prevPlacement.variableOffsets[pi.crossTileID];Co&&(this.variableOffsets[pi.crossTileID]=Co,this.markUsedJustification(y,Co.anchor,pi,zs))}}}if(Dr=Er,Cn=Dr&&Dr.box&&Dr.box.length>0,Vn=Dr&&Dr.offscreen,pi.useRuntimeCollisionCircles){const Ao=y.text.placedSymbolArray.get(pi.centerJustifiedTextSymbolIndex),wo=g.evaluateSizeForFeature(y.textSizeData,I,Ao),Ms=M.get("text-padding");io=this.collisionIndex.placeCollisionCircles(j,Ao,y.lineVertexArray,y.glyphOffsetArray,wo,O,R,V,f,mt,T.predicate,pi.collisionCircleDiameter,Ms,Bi),io.circles.length&&io.collisionDetected&&!f&&g.warnOnce("Collisions detected, but collision boxes are not shown"),Cn=re||io.circles.length>0&&!io.collisionDetected,Vn=Vn&&io.offscreen}if(rn.iconFeatureIndex&&(Ba=rn.iconFeatureIndex),rn.iconBox){const Ao=wo=>{const Ms=Dt&&to?pe(wo,to.x,to.y,je,mt,this.transform.angle):wo;return this.collisionIndex.placeCollisionBox(Ms,Se,W,O,T.predicate,Bi)};Gr&&Gr.box&&Gr.box.length&&rn.verticalIconBox?(ms=Ao(rn.verticalIconBox),En=ms.box.length>0):(ms=Ao(rn.iconBox),En=ms.box.length>0),Vn=Vn&&ms.offscreen}const Ka=k||0===pi.numHorizontalGlyphVertices&&0===pi.numVerticalGlyphVertices,Xa=z||0===pi.numIconVertices;if(Ka||Xa?Xa?Ka||(En=En&&Cn):Cn=En&&Cn:En=Cn=En&&Cn,Cn&&Dr&&Dr.box&&this.collisionIndex.insertCollisionBox(Dr.box,j,M.get("text-ignore-placement"),y.bucketInstanceId,Gr&&Gr.box&&kr?kr:Ys,T.ID),En&&ms&&this.collisionIndex.insertCollisionBox(ms.box,Se,M.get("icon-ignore-placement"),y.bucketInstanceId,Ba,T.ID),io&&(Cn&&this.collisionIndex.insertCollisionCircles(io.circles,j,M.get("text-ignore-placement"),y.bucketInstanceId,Ys,T.ID),f)){const Ao=y.bucketInstanceId;let wo=this.collisionCircleArrays[Ao];void 0===wo&&(wo=this.collisionCircleArrays[Ao]=new ce);for(let Ms=0;Ms<io.circles.length;Ms+=4)wo.circles.push(io.circles[Ms+0]),wo.circles.push(io.circles[Ms+1]),wo.circles.push(io.circles[Ms+2]),wo.circles.push(io.collisionDetected?1:0)}if(0===pi.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===y.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[pi.crossTileID]=new Z(Cn||ii,En||qt,Vn||y.justReloaded),d[pi.crossTileID]=!0};if(Rt){if(0!==i.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const pi=y.getSortedSymbolIndexes(this.transform.angle);for(let rn=pi.length-1;rn>=0;--rn){const Di=pi[rn];hn(y.symbolInstances.get(Di),y.collisionArrays[Di])}}else for(let pi=i.symbolInstanceStart;pi<i.symbolInstanceEnd;pi++)hn(y.symbolInstances.get(pi),y.collisionArrays[pi]);if(f&&y.bucketInstanceId in this.collisionCircleArrays){const pi=this.collisionCircleArrays[y.bucketInstanceId];g.invert(pi.invProjMatrix,O),pi.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1}markUsedJustification(i,d,f,y){let M;M=y===g.WritingMode.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[g.getAnchorJustification(d)];const O=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const R of O)R>=0&&(i.text.placedSymbolArray.get(R).crossTileID=M>=0&&R!==M?0:f.crossTileID)}markUsedOrientation(i,d,f){const y=d===g.WritingMode.horizontal||d===g.WritingMode.horizontalOnly?d:0,M=d===g.WritingMode.vertical?d:0,O=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const R of O)i.text.placedSymbolArray.get(R).placedOrientation=y;f.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=M)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let f=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const y=d?d.symbolFadeChange(i):1,M=d?d.opacities:{},O=d?d.variableOffsets:{},R=d?d.placedOrientations:{};for(const V in this.placements){const W=this.placements[V],Q=M[V];Q?(this.opacities[V]=new $(Q,y,W.text,W.icon),f=f||W.text!==Q.text.placed||W.icon!==Q.icon.placed):(this.opacities[V]=new $(null,y,W.text,W.icon,W.skipFade),f=f||W.text||W.icon)}for(const V in M){const W=M[V];if(!this.opacities[V]){const Q=new $(W,y,!1,!1);Q.isHidden()||(this.opacities[V]=Q,f=f||W.text.placed||W.icon.placed)}}for(const V in O)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=O[V]);for(const V in R)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=R[V]);if(d&&void 0===d.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=i:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:i)}updateLayerOpacities(i,d){const f={};for(const y of d){const M=y.getBucket(i);M&&y.latestFeatureIndex&&i.id===M.layerIds[0]&&this.updateBucketOpacities(M,f,y.collisionBoxArray)}}updateBucketOpacities(i,d,f){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const y=i.layers[0],M=y.layout,O=new $(null,0,!1,!1,!0),R=M.get("text-allow-overlap"),V=M.get("icon-allow-overlap"),W=y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Q="map"===M.get("text-rotation-alignment"),E="map"===M.get("text-pitch-alignment"),I="none"!==M.get("icon-text-fit"),T=new $(null,0,R&&(V||!i.hasIconData()||M.get("icon-optional")),V&&(R||!i.hasTextData()||M.get("text-optional")),!0);!i.collisionArrays&&f&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(f);const k=(z,j,re)=>{for(let Se=0;Se<j/4;Se++)z.opacityVertexArray.emplaceBack(re);z.hasVisibleVertices=z.hasVisibleVertices||re!==Oi};for(let z=0;z<i.symbolInstances.length;z++){const j=i.symbolInstances.get(z),{numHorizontalGlyphVertices:re,numVerticalGlyphVertices:Se,crossTileID:ue}=j;let je=this.opacities[ue];d[ue]?je=O:je||(je=T,this.opacities[ue]=je),d[ue]=!0;const mt=j.numIconVertices>0,Dt=this.placedOrientations[j.crossTileID],Rt=Dt===g.WritingMode.vertical,ii=Dt===g.WritingMode.horizontal||Dt===g.WritingMode.horizontalOnly;if(re>0||Se>0){const qt=oi(je.text);k(i.text,re,Rt?Oi:qt),k(i.text,Se,ii?Oi:qt);const ui=je.text.isHidden();[j.rightJustifiedTextSymbolIndex,j.centerJustifiedTextSymbolIndex,j.leftJustifiedTextSymbolIndex].forEach(pi=>{pi>=0&&(i.text.placedSymbolArray.get(pi).hidden=ui||Rt?1:0)}),j.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(j.verticalPlacedTextSymbolIndex).hidden=ui||ii?1:0);const Bi=this.variableOffsets[j.crossTileID];Bi&&this.markUsedJustification(i,Bi.anchor,j,Dt);const hn=this.placedOrientations[j.crossTileID];hn&&(this.markUsedJustification(i,"left",j,hn),this.markUsedOrientation(i,hn,j))}if(mt){const qt=oi(je.icon),ui=!(I&&j.verticalPlacedIconSymbolIndex&&Rt);j.placedIconSymbolIndex>=0&&(k(i.icon,j.numIconVertices,ui?qt:Oi),i.icon.placedSymbolArray.get(j.placedIconSymbolIndex).hidden=je.icon.isHidden()),j.verticalPlacedIconSymbolIndex>=0&&(k(i.icon,j.numVerticalIconVertices,ui?Oi:qt),i.icon.placedSymbolArray.get(j.verticalPlacedIconSymbolIndex).hidden=je.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const qt=i.collisionArrays[z];if(qt){let ui=new g.Point(0,0);if(qt.textBox||qt.verticalTextBox){let hn=!0;if(W){const pi=this.variableOffsets[ue];pi?(ui=Le(pi.anchor,pi.width,pi.height,pi.textOffset,pi.textBoxScale),Q&&ui._rotate(E?this.transform.angle:-this.transform.angle)):hn=!1}qt.textBox&&rt(i.textCollisionBox.collisionVertexArray,je.text.placed,!hn||Rt,ui.x,ui.y),qt.verticalTextBox&&rt(i.textCollisionBox.collisionVertexArray,je.text.placed,!hn||ii,ui.x,ui.y)}const Bi=!(ii||!qt.verticalIconBox);qt.iconBox&&rt(i.iconCollisionBox.collisionVertexArray,je.icon.placed,Bi,I?ui.x:0,I?ui.y:0),qt.verticalIconBox&&rt(i.iconCollisionBox.collisionVertexArray,je.icon.placed,!Bi,I?ui.x:0,I?ui.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const z=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=z.invProjMatrix,i.placementViewportMatrix=z.viewportMatrix,i.collisionCircleArray=z.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return 0===this.fadeDuration?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,d){const f=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*f>i}setStale(){this.stale=!0}}function rt(C,i,d,f,y){C.emplaceBack(i?1:0,d?1:0,f||0,y||0),C.emplaceBack(i?1:0,d?1:0,f||0,y||0),C.emplaceBack(i?1:0,d?1:0,f||0,y||0),C.emplaceBack(i?1:0,d?1:0,f||0,y||0)}const Ct=Math.pow(2,25),Ve=Math.pow(2,24),Ne=Math.pow(2,17),Qe=Math.pow(2,16),St=Math.pow(2,9),Qt=Math.pow(2,8),si=Math.pow(2,1);function oi(C){if(0===C.opacity&&!C.placed)return 0;if(1===C.opacity&&C.placed)return 4294967295;const i=C.placed?1:0,d=Math.floor(127*C.opacity);return d*Ct+i*Ve+d*Ne+i*Qe+d*St+i*Qt+d*si+i}const Oi=0;class nn{constructor(i){this._sortAcrossTiles="viewport-y"!==i.layout.get("symbol-z-order")&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,d,f,y,M){const O=this._bucketParts;for(;this._currentTileIndex<i.length;)if(d.getBucketParts(O,y,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,M())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort((R,V)=>R.sortKey-V.sortKey));this._currentPartIndex<O.length;)if(d.placeLayerBucketPart(O[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,M())return!0;return!1}}class gr{constructor(i,d,f,y,M,O,R,V){this.placement=new Te(i,d,O,R,V),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=M,this._done=!1}isDone(){return this._done}continuePlacement(i,d,f){const y=g.browser.now(),M=()=>!this._forceFullPlacement&&g.browser.now()-y>2;for(;this._currentPlacementIndex>=0;){const O=d[i[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if("symbol"===O.type&&(!O.minzoom||O.minzoom<=R)&&(!O.maxzoom||O.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new nn(O)),this._inProgressLayer.continuePlacement(f[O.source],this.placement,this._showCollisionBoxes,O,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const xr=512/g.EXTENT/2;class so{constructor(i,d,f){this.tileID=i,this.bucketInstanceId=f,this._symbolsByKey={};const y=new Map;for(let M=0;M<d.length;M++){const O=d.get(M),R=O.key,V=y.get(R);V?V.push(O):y.set(R,[O])}for(const[M,O]of y){const R={positions:O.map(V=>({x:Math.floor(V.anchorX*xr),y:Math.floor(V.anchorY*xr)})),crossTileIDs:O.map(V=>V.crossTileID)};if(R.positions.length>128){const V=new g.KDBush(R.positions.length,16,Uint16Array);for(const{x:W,y:Q}of R.positions)V.add(W,Q);V.finish(),delete R.positions,R.index=V}this._symbolsByKey[M]=R}}getScaledCoordinates(i,d){const{x:f,y,z:M}=this.tileID.canonical,{x:O,y:R,z:V}=d.canonical,W=xr/Math.pow(2,V-M),Q=(R*g.EXTENT+i.anchorY)*W,E=y*g.EXTENT*xr;return{x:Math.floor((O*g.EXTENT+i.anchorX)*W-f*g.EXTENT*xr),y:Math.floor(Q-E)}}findMatches(i,d,f){const y=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let M=0;M<i.length;M++){const O=i.get(M);if(O.crossTileID)continue;const R=this._symbolsByKey[O.key];if(!R)continue;const V=this.getScaledCoordinates(O,d);if(R.index){const W=R.index.range(V.x-y,V.y-y,V.x+y,V.y+y).sort();for(const Q of W){const E=R.crossTileIDs[Q];if(!f[E]){f[E]=!0,O.crossTileID=E;break}}}else if(R.positions)for(let W=0;W<R.positions.length;W++){const Q=R.positions[W],E=R.crossTileIDs[W];if(Math.abs(Q.x-V.x)<=y&&Math.abs(Q.y-V.y)<=y&&!f[E]){f[E]=!0,O.crossTileID=E;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class _r{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class fn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const d=Math.round((i-this.lng)/360);if(0!==d)for(const f in this.indexes){const y=this.indexes[f],M={};for(const O in y){const R=y[O];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+d),M[R.tileID.key]=R}this.indexes[f]=M}this.lng=i}addBucket(i,d,f){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let M=0;M<d.symbolInstances.length;M++)d.symbolInstances.get(M).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const y=this.usedCrossTileIDs[i.overscaledZ];for(const M in this.indexes){const O=this.indexes[M];if(Number(M)>i.overscaledZ)for(const R in O){const V=O[R];V.tileID.isChildOf(i)&&V.findMatches(d.symbolInstances,i,y)}else{const R=O[i.scaledTo(Number(M)).key];R&&R.findMatches(d.symbolInstances,i,y)}}for(let M=0;M<d.symbolInstances.length;M++){const O=d.symbolInstances.get(M);O.crossTileID||(O.crossTileID=f.generate(),y[O.crossTileID]=!0)}return void 0===this.indexes[i.overscaledZ]&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new so(i,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(i,d){for(const f of d.getCrossTileIDsLists())for(const y of f)delete this.usedCrossTileIDs[i][y]}removeStaleBuckets(i){let d=!1;for(const f in this.indexes){const y=this.indexes[f];for(const M in y)i[y[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,y[M]),delete y[M],d=!0)}return d}}class Ur{constructor(){this.layerIndexes={},this.crossTileIDs=new _r,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,d,f){let y=this.layerIndexes[i.id];void 0===y&&(y=this.layerIndexes[i.id]=new fn);let M=!1;const O={};y.handleWrapJump(f);for(const R of d){const V=R.getBucket(i);V&&i.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(R.tileID,V,this.crossTileIDs)&&(M=!0),O[V.bucketInstanceId]=!0)}return y.removeStaleBuckets(O)&&(M=!0),M}pruneUnusedLayers(i){const d={};i.forEach(f=>{d[f]=!0});for(const f in this.layerIndexes)d[f]||delete this.layerIndexes[f]}}const Rn=(C,i)=>g.emitValidationErrors(C,i&&i.filter(d=>"source.canvas"!==d.identifier)),_n=g.pick(g.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),hr=g.pick(g.operations,["setCenter","setZoom","setBearing","setPitch"]),Ts=g.emptyStyle();class Mn extends g.Evented{constructor(i,d={}){super(),this.map=i,this.dispatcher=new Hn(Re(),this,i._getMapId()),this.imageManager=new Pt,this.imageManager.setEventedParent(this),this.glyphManager=new Li(i._requestManager,d.localIdeographFontFamily),this.lineAtlas=new yn(256,512),this.crossTileSymbolIndex=new Ur,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new g.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",g.getReferrer());const f=this;this._rtlTextPluginCallback=Mn.registerForPluginStateChange(y=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:y.pluginStatus,pluginURL:y.pluginURL},(M,O)=>{if(g.triggerPluginCompletionEvent(M),O&&O.every(R=>R))for(const R in f.sourceCaches){const V=f.sourceCaches[R].getSource().type;"vector"!==V&&"geojson"!==V||f.sourceCaches[R].reload()}})}),this.on("data",y=>{if("source"!==y.dataType||"metadata"!==y.sourceDataType)return;const M=this.sourceCaches[y.sourceId];if(!M)return;const O=M.getSource();if(O&&O.vectorLayerIds)for(const R in this._layers){const V=this._layers[R];V.source===O.id&&this._validateLayer(V)}})}loadURL(i,d={},f){this.fire(new g.Event("dataloading",{dataType:"style"})),d.validate="boolean"!=typeof d.validate||d.validate;const y=this.map._requestManager.transformRequest(i,nt.Style);this._request=g.getJSON(y,(M,O)=>{this._request=null,M?this.fire(new g.ErrorEvent(M)):O&&this._load(O,d,f)})}loadJSON(i,d={},f){this.fire(new g.Event("dataloading",{dataType:"style"})),this._request=g.browser.frame(()=>{this._request=null,d.validate=!1!==d.validate,this._load(i,d,f)})}loadEmpty(){this.fire(new g.Event("dataloading",{dataType:"style"})),this._load(Ts,{validate:!1})}_load(i,d,f){var y;const M=d.transformStyle?d.transformStyle(f,i):i;if(!d.validate||!Rn(this,g.validateStyle(M))){this._loaded=!0,this.stylesheet=M;for(const O in M.sources)this.addSource(O,M.sources[O],{validate:!1});M.sprite?this._loadSprite(M.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(M.glyphs),this._createLayers(),this.light=new Kn(this.stylesheet.light),this.map.setTerrain(null!==(y=this.stylesheet.terrain)&&void 0!==y?y:null),this.fire(new g.Event("data",{dataType:"style"})),this.fire(new g.Event("style.load"))}}_createLayers(){const i=g.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",i),this._order=i.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of i){const f=g.createStyleLayer(d);f.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=f}}_loadSprite(i,d=!1,f=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(y,M,O,R){const V=Fe(y),W=V.length,Q=O>1?"@2x":"",E={},I={},T={};for(const{id:k,url:z}of V){const j=M.transformRequest(M.normalizeSpriteURL(z,Q,".json"),nt.SpriteJSON),re=`${k}_${j.url}`;E[re]=g.getJSON(j,(je,mt)=>{delete E[re],I[k]=mt,Je(R,I,T,je,W)});const Se=M.transformRequest(M.normalizeSpriteURL(z,Q,".png"),nt.SpriteImage),ue=`${k}_${Se.url}`;E[ue]=it.getImage(Se,(je,mt)=>{delete E[ue],T[k]=mt,Je(R,I,T,je,W)})}return{cancel(){for(const k of Object.values(E))k.cancel()}}}(i,this.map._requestManager,this.map.getPixelRatio(),(y,M)=>{if(this._spriteRequest=null,y)this.fire(new g.ErrorEvent(y));else if(M)for(const O in M){this._spritesImagesIds[O]=[];const R=this._spritesImagesIds[O]?this._spritesImagesIds[O].filter(V=>!(V in M)):[];for(const V of R)this.imageManager.removeImage(V),this._changedImages[V]=!0;for(const V in M[O]){const W="default"===O?V:`${O}:${V}`;this._spritesImagesIds[O].push(W),W in this.imageManager.images?this.imageManager.updateImage(W,M[O][V],!1):this.imageManager.addImage(W,M[O][V]),d&&(this._changedImages[W]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.Event("data",{dataType:"style"})),f&&f(y)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.Event("data",{dataType:"style"}))}_validateLayer(i){const d=this.sourceCaches[i.source];if(!d)return;const f=i.sourceLayer;if(!f)return;const y=d.getSource();("geojson"===y.type||y.vectorLayerIds&&-1===y.vectorLayerIds.indexOf(f))&&this.fire(new g.ErrorEvent(new Error(`Source layer "${f}" does not exist on source "${y.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i){const d=this._serializedAllLayers();if(!i||0===i.length)return Object.values(d);const f=[];for(const y of i)d[y]&&f.push(d[y]);return f}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const d=Object.keys(this._layers);for(const f of d){const y=this._layers[f];"custom"!==y.type&&(i[f]=y.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const d=this._changed;if(this._changed){const y=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);(y.length||M.length)&&this._updateWorkerLayers(y,M);for(const O in this._updatedSources){const R=this._updatedSources[O];if("reload"===R)this._reloadSource(O);else{if("clear"!==R)throw new Error(`Invalid action ${R}`);this._clearSource(O)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const O in this._updatedPaintProps)this._layers[O].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const f={};for(const y in this.sourceCaches){const M=this.sourceCaches[y];f[y]=M.used,M.used=!1}for(const y of this._order){const M=this._layers[y];M.recalculate(i,this._availableImages),!M.isHidden(i.zoom)&&M.source&&(this.sourceCaches[M.source].used=!0)}for(const y in f){const M=this.sourceCaches[y];f[y]!==M.used&&M.fire(new g.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(i),this.z=i.zoom,d&&this.fire(new g.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(i),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,d={}){this._checkLoaded();const f=this.serialize();if(i=d.transformStyle?d.transformStyle(f,i):i,Rn(this,g.validateStyle(i)))return!1;(i=g.clone$1(i)).layers=g.derefLayers(i.layers);const y=g.diffStyles(f,i).filter(O=>!(O.command in hr));if(0===y.length)return!1;const M=y.filter(O=>!(O.command in _n));if(M.length>0)throw new Error(`Unimplemented: ${M.map(O=>O.command).join(", ")}.`);for(const O of y)"setTransition"!==O.command&&this[O.command].apply(this,O.args);return this.stylesheet=i,this._serializedLayers=null,!0}addImage(i,d){if(this.getImage(i))return this.fire(new g.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,d),this._afterImageUpdated(i)}updateImage(i,d){this.imageManager.updateImage(i,d)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new g.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,d,f={}){if(this._checkLoaded(),void 0!==this.sourceCaches[i])throw new Error(`Source "${i}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(g.validateStyle.source,`sources.${i}`,d,null,f))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const y=this.sourceCaches[i]=new _t(i,d,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:i})),y.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===i)return this.fire(new g.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${f}" is using it.`)));const d=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],d.fire(new g.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,d){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error(`There is no source with this ID=${i}`);const f=this.sourceCaches[i].getSource();if("geojson"!==f.type)throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(d),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,d,f={}){this._checkLoaded();const y=i.id;if(this.getLayer(y))return void this.fire(new g.ErrorEvent(new Error(`Layer "${y}" already exists on this map.`)));let M;if("custom"===i.type){if(Rn(this,g.validateCustomStyleLayer(i)))return;M=g.createStyleLayer(i)}else{if("source"in i&&"object"==typeof i.source&&(this.addSource(y,i.source),i=g.clone$1(i),i=g.extend(i,{source:y})),this._validate(g.validateStyle.layer,`layers.${y}`,i,{arrayIndex:-1},f))return;M=g.createStyleLayer(i),this._validateLayer(M),M.setEventedParent(this,{layer:{id:y}})}const O=d?this._order.indexOf(d):this._order.length;if(d&&-1===O)this.fire(new g.ErrorEvent(new Error(`Cannot add layer "${y}" before non-existing layer "${d}".`)));else{if(this._order.splice(O,0,y),this._layerOrderChanged=!0,this._layers[y]=M,this._removedLayers[y]&&M.source&&"custom"!==M.type){const R=this._removedLayers[y];delete this._removedLayers[y],R.type!==M.type?this._updatedSources[M.source]="clear":(this._updatedSources[M.source]="reload",this.sourceCaches[M.source].pause())}this._updateLayer(M),M.onAdd&&M.onAdd(this.map)}}moveLayer(i,d){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new g.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===d)return;const f=this._order.indexOf(i);this._order.splice(f,1);const y=d?this._order.indexOf(d):this._order.length;d&&-1===y?this.fire(new g.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${d}".`))):(this._order.splice(y,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const d=this._layers[i];if(!d)return void this.fire(new g.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));d.setEventedParent(null);const f=this._order.indexOf(i);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=d,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],d.onRemove&&d.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,d,f){this._checkLoaded();const y=this.getLayer(i);y?y.minzoom===d&&y.maxzoom===f||(null!=d&&(y.minzoom=d),null!=f&&(y.maxzoom=f),this._updateLayer(y)):this.fire(new g.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,d,f={}){this._checkLoaded();const y=this.getLayer(i);if(y){if(!g.deepEqual(y.filter,d))return null==d?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(g.validateStyle.filter,`layers.${y.id}.filter`,d,null,f)||(y.filter=g.clone$1(d),this._updateLayer(y)))}else this.fire(new g.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return g.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,d,f,y={}){this._checkLoaded();const M=this.getLayer(i);M?g.deepEqual(M.getLayoutProperty(d),f)||(M.setLayoutProperty(d,f,y),this._updateLayer(M)):this.fire(new g.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,d){const f=this.getLayer(i);if(f)return f.getLayoutProperty(d);this.fire(new g.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,d,f,y={}){this._checkLoaded();const M=this.getLayer(i);M?g.deepEqual(M.getPaintProperty(d),f)||(M.setPaintProperty(d,f,y)&&this._updateLayer(M),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new g.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,d){return this.getLayer(i).getPaintProperty(d)}setFeatureState(i,d){this._checkLoaded();const f=i.source,y=i.sourceLayer,M=this.sourceCaches[f];if(void 0===M)return void this.fire(new g.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const O=M.getSource().type;"geojson"===O&&y?this.fire(new g.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==O||y?(void 0===i.id&&this.fire(new g.ErrorEvent(new Error("The feature id parameter must be provided."))),M.setFeatureState(y,i.id,d)):this.fire(new g.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,d){this._checkLoaded();const f=i.source,y=this.sourceCaches[f];if(void 0===y)return void this.fire(new g.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const M=y.getSource().type,O="vector"===M?i.sourceLayer:void 0;"vector"!==M||O?d&&"string"!=typeof i.id&&"number"!=typeof i.id?this.fire(new g.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(O,i.id,d):this.fire(new g.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const d=i.source,f=i.sourceLayer,y=this.sourceCaches[d];if(void 0!==y)return"vector"!==y.getSource().type||f?(void 0===i.id&&this.fire(new g.ErrorEvent(new Error("The feature id parameter must be provided."))),y.getFeatureState(f,i.id)):void this.fire(new g.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new g.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return g.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=g.mapObject(this.sourceCaches,y=>y.serialize()),d=this._serializeByIds(this._order),f=this.stylesheet;return g.filterObject({version:f.version,name:f.name,metadata:f.metadata,light:f.light,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,sources:i,layers:d},y=>void 0!==y)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&"raster"!==this.sourceCaches[i.source].getSource().type&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const d=O=>"fill-extrusion"===this._layers[O].type,f={},y=[];for(let O=this._order.length-1;O>=0;O--){const R=this._order[O];if(d(R)){f[R]=O;for(const V of i){const W=V[R];if(W)for(const Q of W)y.push(Q)}}}y.sort((O,R)=>R.intersectionZ-O.intersectionZ);const M=[];for(let O=this._order.length-1;O>=0;O--){const R=this._order[O];if(d(R))for(let V=y.length-1;V>=0;V--){const W=y[V].feature;if(f[W.layer.id]<O)break;M.push(W),y.pop()}else for(const V of i){const W=V[R];if(W)for(const Q of W)M.push(Q.feature)}}return M}queryRenderedFeatures(i,d,f){d&&d.filter&&this._validate(g.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);const y={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new g.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const R of d.layers){const V=this._layers[R];if(!V)return this.fire(new g.ErrorEvent(new Error(`The layer '${R}' does not exist in the map's style and cannot be queried for features.`))),[];y[V.source]=!0}}const M=[];d.availableImages=this._availableImages;const O=this._serializedAllLayers();for(const R in this.sourceCaches)d.layers&&!y[R]||M.push(yi(this.sourceCaches[R],this._layers,O,i,d,f));return this.placement&&M.push(function(R,V,W,Q,E,I,T){const k={},z=I.queryRenderedSymbols(Q),j=[];for(const re of Object.keys(z).map(Number))j.push(T[re]);j.sort(Fi);for(const re of j){const Se=re.featureIndex.lookupSymbolFeatures(z[re.bucketInstanceId],V,re.bucketIndex,re.sourceLayerIndex,E.filter,E.layers,E.availableImages,R);for(const ue in Se){const je=k[ue]=k[ue]||[],mt=Se[ue];mt.sort((Dt,Rt)=>{const ii=re.featureSortOrder;if(ii){const qt=ii.indexOf(Dt.featureIndex);return ii.indexOf(Rt.featureIndex)-qt}return Rt.featureIndex-Dt.featureIndex});for(const Dt of mt)je.push(Dt)}}for(const re in k)k[re].forEach(Se=>{const ue=Se.feature,je=W[R[re].source].getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=je});return k}(this._layers,O,this.sourceCaches,i,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(M)}querySourceFeatures(i,d){d&&d.filter&&this._validate(g.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);const f=this.sourceCaches[i];return f?function(y,M){const O=y.getRenderableIds().map(W=>y.getTileByID(W)),R=[],V={};for(let W=0;W<O.length;W++){const Q=O[W],E=Q.tileID.canonical.key;V[E]||(V[E]=!0,Q.querySourceFeatures(R,M))}return R}(f,d):[]}addSourceType(i,d,f){return Jt(i)?f(new Error(`A source type called "${i}" already exists.`)):(ai[i]=d,d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:d.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(i,d={}){this._checkLoaded();const f=this.light.getLight();let y=!1;for(const O in i)if(!g.deepEqual(i[O],f[O])){y=!0;break}if(!y)return;const M={now:g.browser.now(),transition:g.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,d),this.light.updateTransitions(M)}_validate(i,d,f,y,M={}){return(!M||!1!==M.validate)&&Rn(this,i.call(g.validateStyle,g.extend({key:d,style:this.serialize(),value:f,styleSpec:g.v8Spec},y)))}_remove(i=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),g.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const f=this.sourceCaches[d];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const d in this.sourceCaches)this.sourceCaches[d].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,d,f,y,M=!1){let O=!1,R=!1;const V={};for(const W of this._order){const Q=this._layers[W];if("symbol"!==Q.type)continue;if(!V[Q.source]){const I=this.sourceCaches[Q.source];V[Q.source]=I.getRenderableIds(!0).map(T=>I.getTileByID(T)).sort((T,k)=>k.tileID.overscaledZ-T.tileID.overscaledZ||(T.tileID.isLessThan(k.tileID)?-1:1))}const E=this.crossTileSymbolIndex.addLayer(Q,V[Q.source],i.center.lng);O=O||E}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((M=M||this._layerOrderChanged||0===f)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(g.browser.now(),i.zoom))&&(this.pauseablePlacement=new gr(i,this.map.terrain,this._order,M,d,f,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(g.browser.now()),R=!0),O&&this.pauseablePlacement.placement.setStale()),R||O)for(const W of this._order){const Q=this._layers[W];"symbol"===Q.type&&this.placement.updateLayerOpacities(Q,V[Q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(g.browser.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,d,f){this.imageManager.getImages(d.icons,f),this._updateTilesForChangedImages();const y=this.sourceCaches[d.source];y&&y.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(i,d,f){this.glyphManager.getGlyphs(d.stacks,f);const y=this.sourceCaches[d.source];y&&y.setDependencies(d.tileID.key,d.type,[""])}getResource(i,d,f){return g.makeRequest(d,f)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,d={}){this._checkLoaded(),i&&this._validate(g.validateStyle.glyphs,"glyphs",i,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,d,f={},y){this._checkLoaded();const M=[{id:i,url:d}],O=[...Fe(this.stylesheet.sprite),...M];this._validate(g.validateStyle.sprite,"sprite",O,null,f)||(this.stylesheet.sprite=O,this._loadSprite(M,!0,y))}removeSprite(i){this._checkLoaded();const d=Fe(this.stylesheet.sprite);if(d.find(f=>f.id===i)){if(this._spritesImagesIds[i])for(const f of this._spritesImagesIds[i])this.imageManager.removeImage(f),this._changedImages[f]=!0;d.splice(d.findIndex(f=>f.id===i),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.Event("data",{dataType:"style"}))}else this.fire(new g.ErrorEvent(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return Fe(this.stylesheet.sprite)}setSprite(i,d={},f){this._checkLoaded(),i&&this._validate(g.validateStyle.sprite,"sprite",i,null,d)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,f):(this._unloadSprite(),f&&f(null)))}}Mn.registerForPluginStateChange=g.registerForPluginStateChange;var Jn=g.createLayout([{name:"a_pos",type:"Int16",components:2}]),Tr="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const ao={prelude:Ki("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:Ki("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Ki("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Ki("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Ki("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ki("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:Ki("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Ki("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ki("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ki("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Ki("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Ki("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Ki("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Ki("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Ki("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Ki("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Ki("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ki("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Ki("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Ki("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Ki("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Ki("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Ki("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Ki("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Ki("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Ki("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Ki("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Tr),terrainDepth:Ki("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Tr),terrainCoords:Ki("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Tr)};function Ki(C,i){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=i.match(/attribute ([\w]+) ([\w]+)/g),y=C.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),M=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),O=M?M.concat(y):y,R={};return{fragmentSource:C=C.replace(d,(V,W,Q,E,I)=>(R[I]=!0,"define"===W?`\n#ifndef HAS_UNIFORM_u_${I}\nvarying ${Q} ${E} ${I};\n#else\nuniform ${Q} ${E} u_${I};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${I}\n    ${Q} ${E} ${I} = u_${I};\n#endif\n`)),vertexSource:i=i.replace(d,(V,W,Q,E,I)=>{const T="float"===E?"vec2":"vec4",k=I.match(/color/)?"color":T;return R[I]?"define"===W?`\n#ifndef HAS_UNIFORM_u_${I}\nuniform lowp float u_${I}_t;\nattribute ${Q} ${T} a_${I};\nvarying ${Q} ${E} ${I};\n#else\nuniform ${Q} ${E} u_${I};\n#endif\n`:"vec4"===k?`\n#ifndef HAS_UNIFORM_u_${I}\n    ${I} = a_${I};\n#else\n    ${Q} ${E} ${I} = u_${I};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${I}\n    ${I} = unpack_mix_${k}(a_${I}, u_${I}_t);\n#else\n    ${Q} ${E} ${I} = u_${I};\n#endif\n`:"define"===W?`\n#ifndef HAS_UNIFORM_u_${I}\nuniform lowp float u_${I}_t;\nattribute ${Q} ${T} a_${I};\n#else\nuniform ${Q} ${E} u_${I};\n#endif\n`:"vec4"===k?`\n#ifndef HAS_UNIFORM_u_${I}\n    ${Q} ${E} ${I} = a_${I};\n#else\n    ${Q} ${E} ${I} = u_${I};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${I}\n    ${Q} ${E} ${I} = unpack_mix_${k}(a_${I}, u_${I}_t);\n#else\n    ${Q} ${E} ${I} = u_${I};\n#endif\n`}),staticAttributes:f,staticUniforms:O}}class Lo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,d,f,y,M,O,R,V,W){this.context=i;let Q=this.boundPaintVertexBuffers.length!==y.length;for(let E=0;!Q&&E<y.length;E++)this.boundPaintVertexBuffers[E]!==y[E]&&(Q=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==f||Q||this.boundIndexBuffer!==M||this.boundVertexOffset!==O||this.boundDynamicVertexBuffer!==R||this.boundDynamicVertexBuffer2!==V||this.boundDynamicVertexBuffer3!==W?this.freshBind(d,f,y,M,O,R,V,W):(i.bindVertexArray.set(this.vao),R&&R.bind(),M&&M.dynamicDraw&&M.bind(),V&&V.bind(),W&&W.bind())}freshBind(i,d,f,y,M,O,R,V){const W=i.numAttributes,Q=this.context,E=Q.gl;this.vao&&this.destroy(),this.vao=Q.createVertexArray(),Q.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=y,this.boundVertexOffset=M,this.boundDynamicVertexBuffer=O,this.boundDynamicVertexBuffer2=R,this.boundDynamicVertexBuffer3=V,d.enableAttributes(E,i);for(const I of f)I.enableAttributes(E,i);O&&O.enableAttributes(E,i),R&&R.enableAttributes(E,i),V&&V.enableAttributes(E,i),d.bind(),d.setVertexAttribPointers(E,i,M);for(const I of f)I.bind(),I.setVertexAttribPointers(E,i,M);O&&(O.bind(),O.setVertexAttribPointers(E,i,M)),y&&y.bind(),R&&(R.bind(),R.setVertexAttribPointers(E,i,M)),V&&(V.bind(),V.setVertexAttribPointers(E,i,M)),Q.currentNumAttributes=W}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function dr(C){const i=[];for(let d=0;d<C.length;d++){if(null===C[d])continue;const f=C[d].split(" ");i.push(f.pop())}return i}class vn{constructor(i,d,f,y,M,O){const R=i.gl;this.program=R.createProgram();const V=dr(d.staticAttributes),W=f?f.getBinderAttributes():[],Q=V.concat(W),E=ao.prelude.staticUniforms?dr(ao.prelude.staticUniforms):[],I=d.staticUniforms?dr(d.staticUniforms):[],T=f?f.getBinderUniforms():[],k=E.concat(I).concat(T),z=[];for(const Dt of k)z.indexOf(Dt)<0&&z.push(Dt);const j=f?f.defines():[];M&&j.push("#define OVERDRAW_INSPECTOR;"),O&&j.push("#define TERRAIN3D;");const re=j.concat(ao.prelude.fragmentSource,d.fragmentSource).join("\n"),Se=j.concat(ao.prelude.vertexSource,d.vertexSource).join("\n"),ue=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);if(R.shaderSource(ue,re),R.compileShader(ue),!R.getShaderParameter(ue,R.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${R.getShaderInfoLog(ue)}`);R.attachShader(this.program,ue);const je=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);if(R.shaderSource(je,Se),R.compileShader(je),!R.getShaderParameter(je,R.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${R.getShaderInfoLog(je)}`);R.attachShader(this.program,je),this.attributes={};const mt={};this.numAttributes=Q.length;for(let Dt=0;Dt<this.numAttributes;Dt++)Q[Dt]&&(R.bindAttribLocation(this.program,Dt,Q[Dt]),this.attributes[Q[Dt]]=Dt);if(R.linkProgram(this.program),!R.getProgramParameter(this.program,R.LINK_STATUS))throw new Error(`Program failed to link: ${R.getProgramInfoLog(this.program)}`);R.deleteShader(je),R.deleteShader(ue);for(let Dt=0;Dt<z.length;Dt++){const Rt=z[Dt];if(Rt&&!mt[Rt]){const ii=R.getUniformLocation(this.program,Rt);ii&&(mt[Rt]=ii)}}var Dt,Rt;this.fixedUniforms=y(i,mt),this.terrainUniforms={u_depth:new g.Uniform1i(Dt=i,(Rt=mt).u_depth),u_terrain:new g.Uniform1i(Dt,Rt.u_terrain),u_terrain_dim:new g.Uniform1f(Dt,Rt.u_terrain_dim),u_terrain_matrix:new g.UniformMatrix4f(Dt,Rt.u_terrain_matrix),u_terrain_unpack:new g.Uniform4f(Dt,Rt.u_terrain_unpack),u_terrain_exaggeration:new g.Uniform1f(Dt,Rt.u_terrain_exaggeration)},this.binderUniforms=f?f.getUniforms(i,mt):[]}draw(i,d,f,y,M,O,R,V,W,Q,E,I,T,k,z,j,re,Se){const ue=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(f),i.setStencilMode(y),i.setColorMode(M),i.setCullFace(O),V){i.activeTexture.set(ue.TEXTURE2),ue.bindTexture(ue.TEXTURE_2D,V.depthTexture),i.activeTexture.set(ue.TEXTURE3),ue.bindTexture(ue.TEXTURE_2D,V.texture);for(const mt in this.terrainUniforms)this.terrainUniforms[mt].set(V[mt])}for(const mt in this.fixedUniforms)this.fixedUniforms[mt].set(R[mt]);z&&z.setUniforms(i,this.binderUniforms,T,{zoom:k});let je=0;switch(d){case ue.LINES:je=2;break;case ue.TRIANGLES:je=3;break;case ue.LINE_STRIP:je=1}for(const mt of I.get()){const Dt=mt.vaos||(mt.vaos={});(Dt[W]||(Dt[W]=new Lo)).bind(i,this,Q,z?z.getPaintVertexBuffers():[],E,mt.vertexOffset,j,re,Se),ue.drawElements(d,mt.primitiveLength*je,ue.UNSIGNED_SHORT,mt.primitiveOffset*je*2)}}}function To(C,i,d){const f=1/Ee(d,1,i.transform.tileZoom),y=Math.pow(2,d.tileID.overscaledZ),M=d.tileSize*Math.pow(2,i.transform.tileZoom)/y,O=M*(d.tileID.canonical.x+d.tileID.wrap*y),R=M*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[f,C.fromScale,C.toScale],u_fade:C.t,u_pixel_coord_upper:[O>>16,R>>16],u_pixel_coord_lower:[65535&O,65535&R]}}const lo=(C,i,d,f)=>{const y=i.style.light,M=y.properties.get("position"),O=[M.x,M.y,M.z],R=(W=new g.ARRAY_TYPE(9),g.ARRAY_TYPE!=Float32Array&&(W[1]=0,W[2]=0,W[3]=0,W[5]=0,W[6]=0,W[7]=0),W[0]=1,W[4]=1,W[8]=1,W);var W;"viewport"===y.properties.get("anchor")&&function(W,Q){var E=Math.sin(Q),I=Math.cos(Q);W[0]=I,W[1]=E,W[2]=0,W[3]=-E,W[4]=I,W[5]=0,W[6]=0,W[7]=0,W[8]=1}(R,-i.transform.angle),function(W,Q,E){var I=Q[0],T=Q[1],k=Q[2];W[0]=I*E[0]+T*E[3]+k*E[6],W[1]=I*E[1]+T*E[4]+k*E[7],W[2]=I*E[2]+T*E[5]+k*E[8]}(O,O,R);const V=y.properties.get("color");return{u_matrix:C,u_lightpos:O,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[V.r,V.g,V.b],u_vertical_gradient:+d,u_opacity:f}},El=(C,i,d,f,y,M,O)=>g.extend(lo(C,i,d,f),To(M,i,O),{u_height_factor:-Math.pow(2,y.overscaledZ)/O.tileSize/8}),ta=C=>({u_matrix:C}),Dl=(C,i,d,f)=>g.extend(ta(C),To(d,i,f)),Ml=(C,i)=>({u_matrix:C,u_world:i}),ia=(C,i,d,f,y)=>g.extend(Dl(C,i,d,f),{u_world:y}),na=(C,i,d,f)=>{const y=C.transform;let M,O;if("map"===f.paint.get("circle-pitch-alignment")){const R=Ee(d,1,y.zoom);M=!0,O=[R,R]}else M=!1,O=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+("map"===f.paint.get("circle-pitch-scale")),u_matrix:C.translatePosMatrix(i.posMatrix,d,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+M,u_device_pixel_ratio:C.pixelRatio,u_extrude_scale:O}},Hs=(C,i,d)=>{const f=Ee(d,1,i.zoom),y=Math.pow(2,i.zoom-d.tileID.overscaledZ),M=d.tileID.overscaleFactor();return{u_matrix:C,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[i.pixelsToGLUnits[0]/(f*y),i.pixelsToGLUnits[1]/(f*y)],u_overscale_factor:M}},jr=(C,i,d=1)=>({u_matrix:C,u_color:i,u_overlay:0,u_overlay_scale:d}),$s=C=>({u_matrix:C}),Oa=(C,i,d,f)=>({u_matrix:C,u_extrude_scale:Ee(i,1,d),u_intensity:f});function Za(C,i){const d=Math.pow(2,i.canonical.z),f=i.canonical.y;return[new g.MercatorCoordinate(0,f/d).toLngLat().lat,new g.MercatorCoordinate(0,(f+1)/d).toLngLat().lat]}const Gs=(C,i,d,f)=>{const y=C.transform;return{u_matrix:Fa(C,i,d,f),u_ratio:1/Ee(i,1,y.zoom),u_device_pixel_ratio:C.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},Sl=(C,i,d,f,y)=>g.extend(Gs(C,i,d,y),{u_image:0,u_image_height:f}),Tl=(C,i,d,f,y)=>{const M=C.transform,O=Ra(i,M);return{u_matrix:Fa(C,i,d,y),u_texsize:i.imageAtlasTexture.size,u_ratio:1/Ee(i,1,M.zoom),u_device_pixel_ratio:C.pixelRatio,u_image:0,u_scale:[O,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]]}},Zs=(C,i,d,f,y,M)=>{const O=C.lineAtlas,R=Ra(i,C.transform),V="round"===d.layout.get("line-cap"),W=O.getDash(f.from,V),Q=O.getDash(f.to,V),E=W.width*y.fromScale,I=Q.width*y.toScale;return g.extend(Gs(C,i,d,M),{u_patternscale_a:[R/E,-W.height/2],u_patternscale_b:[R/I,-Q.height/2],u_sdfgamma:O.width/(256*Math.min(E,I)*C.pixelRatio)/2,u_image:0,u_tex_y_a:W.y,u_tex_y_b:Q.y,u_mix:y.t})};function Ra(C,i){return 1/Ee(C,1,i.tileZoom)}function Fa(C,i,d,f){return C.translatePosMatrix(f?f.posMatrix:i.tileID.posMatrix,i,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Sn=(C,i,d,f,y)=>{return{u_matrix:C,u_tl_parent:i,u_scale_parent:d,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:y.paint.get("raster-brightness-min"),u_brightness_high:y.paint.get("raster-brightness-max"),u_saturation_factor:(O=y.paint.get("raster-saturation"),O>0?1-1/(1.001-O):-O),u_contrast_factor:(M=y.paint.get("raster-contrast"),M>0?1/(1-M):1+M),u_spin_weights:nr(y.paint.get("raster-hue-rotate"))};var M,O};function nr(C){C*=Math.PI/180;const i=Math.sin(C),d=Math.cos(C);return[(2*d+1)/3,(-Math.sqrt(3)*i-d+1)/3,(Math.sqrt(3)*i-d+1)/3]}const yr=(C,i,d,f,y,M,O,R,V,W)=>{const Q=y.transform;return{u_is_size_zoom_constant:+("constant"===C||"source"===C),u_is_size_feature_constant:+("constant"===C||"camera"===C),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:Q.width/Q.height,u_fade_change:y.options.fadeDuration?y.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:O,u_coord_matrix:R,u_is_text:+V,u_pitch_with_map:+f,u_texsize:W,u_texture:0}},os=(C,i,d,f,y,M,O,R,V,W,Q)=>{const E=y.transform;return g.extend(yr(C,i,d,f,y,M,O,R,V,W),{u_gamma_scale:f?Math.cos(E._pitch)*E.cameraToCenterDistance:1,u_device_pixel_ratio:y.pixelRatio,u_is_halo:+Q})},Io=(C,i,d,f,y,M,O,R,V,W)=>g.extend(os(C,i,d,f,y,M,O,R,!0,V,!0),{u_texsize_icon:W,u_texture_icon:1}),ss=(C,i,d)=>({u_matrix:C,u_opacity:i,u_color:d}),as=(C,i,d,f,y,M)=>g.extend(function(O,R,V,W){const Q=V.imageManager.getPattern(O.from.toString()),E=V.imageManager.getPattern(O.to.toString()),{width:I,height:T}=V.imageManager.getPixelSize(),k=Math.pow(2,W.tileID.overscaledZ),z=W.tileSize*Math.pow(2,V.transform.tileZoom)/k,j=z*(W.tileID.canonical.x+W.tileID.wrap*k),re=z*W.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Q.tl,u_pattern_br_a:Q.br,u_pattern_tl_b:E.tl,u_pattern_br_b:E.br,u_texsize:[I,T],u_mix:R.t,u_pattern_size_a:Q.displaySize,u_pattern_size_b:E.displaySize,u_scale_a:R.fromScale,u_scale_b:R.toScale,u_tile_units_to_pixels:1/Ee(W,1,V.transform.tileZoom),u_pixel_coord_upper:[j>>16,re>>16],u_pixel_coord_lower:[65535&j,65535&re]}}(f,M,d,y),{u_matrix:C,u_opacity:i}),Wr={fillExtrusion:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_lightpos:new g.Uniform3f(C,i.u_lightpos),u_lightintensity:new g.Uniform1f(C,i.u_lightintensity),u_lightcolor:new g.Uniform3f(C,i.u_lightcolor),u_vertical_gradient:new g.Uniform1f(C,i.u_vertical_gradient),u_opacity:new g.Uniform1f(C,i.u_opacity)}),fillExtrusionPattern:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_lightpos:new g.Uniform3f(C,i.u_lightpos),u_lightintensity:new g.Uniform1f(C,i.u_lightintensity),u_lightcolor:new g.Uniform3f(C,i.u_lightcolor),u_vertical_gradient:new g.Uniform1f(C,i.u_vertical_gradient),u_height_factor:new g.Uniform1f(C,i.u_height_factor),u_image:new g.Uniform1i(C,i.u_image),u_texsize:new g.Uniform2f(C,i.u_texsize),u_pixel_coord_upper:new g.Uniform2f(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new g.Uniform2f(C,i.u_pixel_coord_lower),u_scale:new g.Uniform3f(C,i.u_scale),u_fade:new g.Uniform1f(C,i.u_fade),u_opacity:new g.Uniform1f(C,i.u_opacity)}),fill:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix)}),fillPattern:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_image:new g.Uniform1i(C,i.u_image),u_texsize:new g.Uniform2f(C,i.u_texsize),u_pixel_coord_upper:new g.Uniform2f(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new g.Uniform2f(C,i.u_pixel_coord_lower),u_scale:new g.Uniform3f(C,i.u_scale),u_fade:new g.Uniform1f(C,i.u_fade)}),fillOutline:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_world:new g.Uniform2f(C,i.u_world)}),fillOutlinePattern:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_world:new g.Uniform2f(C,i.u_world),u_image:new g.Uniform1i(C,i.u_image),u_texsize:new g.Uniform2f(C,i.u_texsize),u_pixel_coord_upper:new g.Uniform2f(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new g.Uniform2f(C,i.u_pixel_coord_lower),u_scale:new g.Uniform3f(C,i.u_scale),u_fade:new g.Uniform1f(C,i.u_fade)}),circle:(C,i)=>({u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_scale_with_map:new g.Uniform1i(C,i.u_scale_with_map),u_pitch_with_map:new g.Uniform1i(C,i.u_pitch_with_map),u_extrude_scale:new g.Uniform2f(C,i.u_extrude_scale),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_matrix:new g.UniformMatrix4f(C,i.u_matrix)}),collisionBox:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_pixels_to_tile_units:new g.Uniform1f(C,i.u_pixels_to_tile_units),u_extrude_scale:new g.Uniform2f(C,i.u_extrude_scale),u_overscale_factor:new g.Uniform1f(C,i.u_overscale_factor)}),collisionCircle:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_inv_matrix:new g.UniformMatrix4f(C,i.u_inv_matrix),u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_viewport_size:new g.Uniform2f(C,i.u_viewport_size)}),debug:(C,i)=>({u_color:new g.UniformColor(C,i.u_color),u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_overlay:new g.Uniform1i(C,i.u_overlay),u_overlay_scale:new g.Uniform1f(C,i.u_overlay_scale)}),clippingMask:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix)}),heatmap:(C,i)=>({u_extrude_scale:new g.Uniform1f(C,i.u_extrude_scale),u_intensity:new g.Uniform1f(C,i.u_intensity),u_matrix:new g.UniformMatrix4f(C,i.u_matrix)}),heatmapTexture:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_world:new g.Uniform2f(C,i.u_world),u_image:new g.Uniform1i(C,i.u_image),u_color_ramp:new g.Uniform1i(C,i.u_color_ramp),u_opacity:new g.Uniform1f(C,i.u_opacity)}),hillshade:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_image:new g.Uniform1i(C,i.u_image),u_latrange:new g.Uniform2f(C,i.u_latrange),u_light:new g.Uniform2f(C,i.u_light),u_shadow:new g.UniformColor(C,i.u_shadow),u_highlight:new g.UniformColor(C,i.u_highlight),u_accent:new g.UniformColor(C,i.u_accent)}),hillshadePrepare:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_image:new g.Uniform1i(C,i.u_image),u_dimension:new g.Uniform2f(C,i.u_dimension),u_zoom:new g.Uniform1f(C,i.u_zoom),u_unpack:new g.Uniform4f(C,i.u_unpack)}),line:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_ratio:new g.Uniform1f(C,i.u_ratio),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_units_to_pixels:new g.Uniform2f(C,i.u_units_to_pixels)}),lineGradient:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_ratio:new g.Uniform1f(C,i.u_ratio),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_units_to_pixels:new g.Uniform2f(C,i.u_units_to_pixels),u_image:new g.Uniform1i(C,i.u_image),u_image_height:new g.Uniform1f(C,i.u_image_height)}),linePattern:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_texsize:new g.Uniform2f(C,i.u_texsize),u_ratio:new g.Uniform1f(C,i.u_ratio),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_image:new g.Uniform1i(C,i.u_image),u_units_to_pixels:new g.Uniform2f(C,i.u_units_to_pixels),u_scale:new g.Uniform3f(C,i.u_scale),u_fade:new g.Uniform1f(C,i.u_fade)}),lineSDF:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_ratio:new g.Uniform1f(C,i.u_ratio),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_units_to_pixels:new g.Uniform2f(C,i.u_units_to_pixels),u_patternscale_a:new g.Uniform2f(C,i.u_patternscale_a),u_patternscale_b:new g.Uniform2f(C,i.u_patternscale_b),u_sdfgamma:new g.Uniform1f(C,i.u_sdfgamma),u_image:new g.Uniform1i(C,i.u_image),u_tex_y_a:new g.Uniform1f(C,i.u_tex_y_a),u_tex_y_b:new g.Uniform1f(C,i.u_tex_y_b),u_mix:new g.Uniform1f(C,i.u_mix)}),raster:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_tl_parent:new g.Uniform2f(C,i.u_tl_parent),u_scale_parent:new g.Uniform1f(C,i.u_scale_parent),u_buffer_scale:new g.Uniform1f(C,i.u_buffer_scale),u_fade_t:new g.Uniform1f(C,i.u_fade_t),u_opacity:new g.Uniform1f(C,i.u_opacity),u_image0:new g.Uniform1i(C,i.u_image0),u_image1:new g.Uniform1i(C,i.u_image1),u_brightness_low:new g.Uniform1f(C,i.u_brightness_low),u_brightness_high:new g.Uniform1f(C,i.u_brightness_high),u_saturation_factor:new g.Uniform1f(C,i.u_saturation_factor),u_contrast_factor:new g.Uniform1f(C,i.u_contrast_factor),u_spin_weights:new g.Uniform3f(C,i.u_spin_weights)}),symbolIcon:(C,i)=>({u_is_size_zoom_constant:new g.Uniform1i(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new g.Uniform1i(C,i.u_is_size_feature_constant),u_size_t:new g.Uniform1f(C,i.u_size_t),u_size:new g.Uniform1f(C,i.u_size),u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_pitch:new g.Uniform1f(C,i.u_pitch),u_rotate_symbol:new g.Uniform1i(C,i.u_rotate_symbol),u_aspect_ratio:new g.Uniform1f(C,i.u_aspect_ratio),u_fade_change:new g.Uniform1f(C,i.u_fade_change),u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_label_plane_matrix:new g.UniformMatrix4f(C,i.u_label_plane_matrix),u_coord_matrix:new g.UniformMatrix4f(C,i.u_coord_matrix),u_is_text:new g.Uniform1i(C,i.u_is_text),u_pitch_with_map:new g.Uniform1i(C,i.u_pitch_with_map),u_texsize:new g.Uniform2f(C,i.u_texsize),u_texture:new g.Uniform1i(C,i.u_texture)}),symbolSDF:(C,i)=>({u_is_size_zoom_constant:new g.Uniform1i(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new g.Uniform1i(C,i.u_is_size_feature_constant),u_size_t:new g.Uniform1f(C,i.u_size_t),u_size:new g.Uniform1f(C,i.u_size),u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_pitch:new g.Uniform1f(C,i.u_pitch),u_rotate_symbol:new g.Uniform1i(C,i.u_rotate_symbol),u_aspect_ratio:new g.Uniform1f(C,i.u_aspect_ratio),u_fade_change:new g.Uniform1f(C,i.u_fade_change),u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_label_plane_matrix:new g.UniformMatrix4f(C,i.u_label_plane_matrix),u_coord_matrix:new g.UniformMatrix4f(C,i.u_coord_matrix),u_is_text:new g.Uniform1i(C,i.u_is_text),u_pitch_with_map:new g.Uniform1i(C,i.u_pitch_with_map),u_texsize:new g.Uniform2f(C,i.u_texsize),u_texture:new g.Uniform1i(C,i.u_texture),u_gamma_scale:new g.Uniform1f(C,i.u_gamma_scale),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_is_halo:new g.Uniform1i(C,i.u_is_halo)}),symbolTextAndIcon:(C,i)=>({u_is_size_zoom_constant:new g.Uniform1i(C,i.u_is_size_zoom_constant),u_is_size_feature_constant:new g.Uniform1i(C,i.u_is_size_feature_constant),u_size_t:new g.Uniform1f(C,i.u_size_t),u_size:new g.Uniform1f(C,i.u_size),u_camera_to_center_distance:new g.Uniform1f(C,i.u_camera_to_center_distance),u_pitch:new g.Uniform1f(C,i.u_pitch),u_rotate_symbol:new g.Uniform1i(C,i.u_rotate_symbol),u_aspect_ratio:new g.Uniform1f(C,i.u_aspect_ratio),u_fade_change:new g.Uniform1f(C,i.u_fade_change),u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_label_plane_matrix:new g.UniformMatrix4f(C,i.u_label_plane_matrix),u_coord_matrix:new g.UniformMatrix4f(C,i.u_coord_matrix),u_is_text:new g.Uniform1i(C,i.u_is_text),u_pitch_with_map:new g.Uniform1i(C,i.u_pitch_with_map),u_texsize:new g.Uniform2f(C,i.u_texsize),u_texsize_icon:new g.Uniform2f(C,i.u_texsize_icon),u_texture:new g.Uniform1i(C,i.u_texture),u_texture_icon:new g.Uniform1i(C,i.u_texture_icon),u_gamma_scale:new g.Uniform1f(C,i.u_gamma_scale),u_device_pixel_ratio:new g.Uniform1f(C,i.u_device_pixel_ratio),u_is_halo:new g.Uniform1i(C,i.u_is_halo)}),background:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_opacity:new g.Uniform1f(C,i.u_opacity),u_color:new g.UniformColor(C,i.u_color)}),backgroundPattern:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_opacity:new g.Uniform1f(C,i.u_opacity),u_image:new g.Uniform1i(C,i.u_image),u_pattern_tl_a:new g.Uniform2f(C,i.u_pattern_tl_a),u_pattern_br_a:new g.Uniform2f(C,i.u_pattern_br_a),u_pattern_tl_b:new g.Uniform2f(C,i.u_pattern_tl_b),u_pattern_br_b:new g.Uniform2f(C,i.u_pattern_br_b),u_texsize:new g.Uniform2f(C,i.u_texsize),u_mix:new g.Uniform1f(C,i.u_mix),u_pattern_size_a:new g.Uniform2f(C,i.u_pattern_size_a),u_pattern_size_b:new g.Uniform2f(C,i.u_pattern_size_b),u_scale_a:new g.Uniform1f(C,i.u_scale_a),u_scale_b:new g.Uniform1f(C,i.u_scale_b),u_pixel_coord_upper:new g.Uniform2f(C,i.u_pixel_coord_upper),u_pixel_coord_lower:new g.Uniform2f(C,i.u_pixel_coord_lower),u_tile_units_to_pixels:new g.Uniform1f(C,i.u_tile_units_to_pixels)}),terrain:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_texture:new g.Uniform1i(C,i.u_texture),u_ele_delta:new g.Uniform1f(C,i.u_ele_delta)}),terrainDepth:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_ele_delta:new g.Uniform1f(C,i.u_ele_delta)}),terrainCoords:(C,i)=>({u_matrix:new g.UniformMatrix4f(C,i.u_matrix),u_texture:new g.Uniform1i(C,i.u_texture),u_terrain_coords_id:new g.Uniform1f(C,i.u_terrain_coords_id),u_ele_delta:new g.Uniform1f(C,i.u_ele_delta)})};class Wa{constructor(i,d,f){this.context=i;const y=i.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Is={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Qn{constructor(i,d,f,y){this.length=d.length,this.attributes=f,this.itemSize=d.bytesPerElement,this.dynamicDraw=y,this.context=i;const M=i.gl;this.buffer=M.createBuffer(),i.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,d){for(let f=0;f<this.attributes.length;f++){const y=d.attributes[this.attributes[f].name];void 0!==y&&i.enableVertexAttribArray(y)}}setVertexAttribPointers(i,d,f){for(let y=0;y<this.attributes.length;y++){const M=this.attributes[y],O=d.attributes[M.name];void 0!==O&&i.vertexAttribPointer(O,M.components,i[Is[M.type]],!1,this.itemSize,M.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ai=new WeakMap;function ln(C){if(Ai.has(C))return Ai.get(C);{const i=C.getParameter(C.VERSION).startsWith("WebGL 2.0");return Ai.set(C,i),i}}class Xi{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class wr extends Xi{getDefault(){return g.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Wo extends Xi{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Xn extends Xi{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Nr extends Xi{getDefault(){return[!0,!0,!0,!0]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class vr extends Xi{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class No extends Xi{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class zo extends Xi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const d=this.current;(i.func!==d.func||i.ref!==d.ref||i.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class mn extends Xi{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class As extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=i,this.dirty=!1}}class Kr extends Xi{getDefault(){return[0,1]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class qo extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=i,this.dirty=!1}}class rr extends Xi{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class bo extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.BLEND):d.disable(d.BLEND),this.current=i,this.dirty=!1}}class ra extends Xi{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class Bo extends Xi{getDefault(){return g.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Yo extends Xi{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class Il extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=i,this.dirty=!1}}class va extends Xi{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class ls extends Xi{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class La extends Xi{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class bs extends Xi{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class An extends Xi{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class qa extends Xi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class Xr extends Xi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ko extends Xi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class mr extends Xi{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class xs extends Xi{getDefault(){return null}set(i){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class cs extends Xi{getDefault(){return null}set(i){var d;if(i===this.current&&!this.dirty)return;const f=this.gl;ln(f)?f.bindVertexArray(i):null===(d=f.getExtension("OES_vertex_array_object"))||void 0===d||d.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class ba extends Xi{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class Hr extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class oa extends Xi{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class co extends Xi{constructor(i,d){super(i),this.context=i,this.parent=d}getDefault(){return null}}class Cr extends co{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class ws extends co{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class sa extends co{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Cs{constructor(i,d,f,y,M){this.context=i,this.width=d,this.height=f;const O=i.gl,R=this.framebuffer=O.createFramebuffer();if(this.colorAttachment=new Cr(i,R),y)this.depthAttachment=M?new sa(i,R):new ws(i,R);else if(M)throw new Error("Stencil cannot be setted without depth");if(O.checkFramebufferStatus(O.FRAMEBUFFER)!==O.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,d=this.colorAttachment.get();if(d&&i.deleteTexture(d),this.depthAttachment){const f=this.depthAttachment.get();f&&i.deleteRenderbuffer(f)}i.deleteFramebuffer(this.framebuffer)}}class $i{constructor(i,d,f){this.blendFunction=i,this.blendColor=d,this.mask=f}}$i.Replace=[1,0],$i.disabled=new $i($i.Replace,g.Color.transparent,[!1,!1,!1,!1]),$i.unblended=new $i($i.Replace,g.Color.transparent,[!0,!0,!0,!0]),$i.alphaBlended=new $i([1,771],g.Color.transparent,[!0,!0,!0,!0]);class cn{constructor(i){var d,f;if(this.gl=i,this.clearColor=new wr(this),this.clearDepth=new Wo(this),this.clearStencil=new Xn(this),this.colorMask=new Nr(this),this.depthMask=new vr(this),this.stencilMask=new No(this),this.stencilFunc=new zo(this),this.stencilOp=new mn(this),this.stencilTest=new As(this),this.depthRange=new Kr(this),this.depthTest=new qo(this),this.depthFunc=new rr(this),this.blend=new bo(this),this.blendFunc=new ra(this),this.blendColor=new Bo(this),this.blendEquation=new Yo(this),this.cullFace=new Il(this),this.cullFaceSide=new va(this),this.frontFace=new ls(this),this.program=new La(this),this.activeTexture=new bs(this),this.viewport=new An(this),this.bindFramebuffer=new qa(this),this.bindRenderbuffer=new Xr(this),this.bindTexture=new Ko(this),this.bindVertexBuffer=new mr(this),this.bindElementBuffer=new xs(this),this.bindVertexArray=new cs(this),this.pixelStoreUnpack=new ba(this),this.pixelStoreUnpackPremultiplyAlpha=new Hr(this),this.pixelStoreUnpackFlipY=new oa(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),ln(i)){this.HALF_FLOAT=i.HALF_FLOAT;const y=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(d=i.RGBA16F)&&void 0!==d?d:y?.RGBA16F_EXT,this.RGB16F=null!==(f=i.RGB16F)&&void 0!==f?f:y?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const y=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=y?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,d){return new Wa(this,i,d)}createVertexBuffer(i,d,f){return new Qn(this,i,d,f)}createRenderbuffer(i,d,f){const y=this.gl,M=y.createRenderbuffer();return this.bindRenderbuffer.set(M),y.renderbufferStorage(y.RENDERBUFFER,i,d,f),this.bindRenderbuffer.set(null),M}createFramebuffer(i,d,f,y){return new Cs(this,i,d,f,y)}clear({color:i,depth:d,stencil:f}){const y=this.gl;let M=0;i&&(M|=y.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),void 0!==d&&(M|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),void 0!==f&&(M|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),y.clear(M)}setCullFace(i){!1===i.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){g.deepEqual(i.blendFunction,$i.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return ln(this.gl)?this.gl.createVertexArray():null===(i=this.gl.getExtension("OES_vertex_array_object"))||void 0===i?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var d;return ln(this.gl)?this.gl.deleteVertexArray(i):null===(d=this.gl.getExtension("OES_vertex_array_object"))||void 0===d?void 0:d.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class kn{constructor(i,d,f){this.func=i,this.mask=d,this.range=f}}kn.ReadOnly=!1,kn.ReadWrite=!0,kn.disabled=new kn(519,kn.ReadOnly,[0,1]);class er{constructor(i,d,f,y,M,O){this.test=i,this.ref=d,this.mask=f,this.fail=y,this.depthFail=M,this.pass=O}}er.disabled=new er({func:519,mask:0},0,0,7680,7680,7680);class pr{constructor(i,d,f){this.enable=i,this.mode=d,this.frontFace=f}}let xa;function ne(C,i,d,f,y,M,O){const R=C.context,V=R.gl,W=C.useProgram("collisionBox"),Q=[];let E=0,I=0;for(let ue=0;ue<f.length;ue++){const je=f[ue],mt=i.getTile(je),Dt=mt.getBucket(d);if(!Dt)continue;let Rt=je.posMatrix;0===y[0]&&0===y[1]||(Rt=C.translatePosMatrix(je.posMatrix,mt,y,M));const ii=O?Dt.textCollisionBox:Dt.iconCollisionBox,qt=Dt.collisionCircleArray;if(qt.length>0){const ui=g.create(),Bi=Rt;g.mul(ui,Dt.placementInvProjMatrix,C.transform.glCoordMatrix),g.mul(ui,ui,Dt.placementViewportMatrix),Q.push({circleArray:qt,circleOffset:I,transform:Bi,invTransform:ui,coord:je}),E+=qt.length/4,I=E}ii&&W.draw(R,V.LINES,kn.disabled,er.disabled,C.colorModeForRenderPass(),pr.disabled,Hs(Rt,C.transform,mt),C.style.map.terrain&&C.style.map.terrain.getTerrainData(je),d.id,ii.layoutVertexBuffer,ii.indexBuffer,ii.segments,null,C.transform.zoom,null,null,ii.collisionVertexBuffer)}if(!O||!Q.length)return;const T=C.useProgram("collisionCircle"),k=new g.CollisionCircleLayoutArray;k.resize(4*E),k._trim();let z=0;for(const ue of Q)for(let je=0;je<ue.circleArray.length/4;je++){const mt=4*je,Dt=ue.circleArray[mt+0],Rt=ue.circleArray[mt+1],ii=ue.circleArray[mt+2],qt=ue.circleArray[mt+3];k.emplace(z++,Dt,Rt,ii,qt,0),k.emplace(z++,Dt,Rt,ii,qt,1),k.emplace(z++,Dt,Rt,ii,qt,2),k.emplace(z++,Dt,Rt,ii,qt,3)}(!xa||xa.length<2*E)&&(xa=function(ue){const je=2*ue,mt=new g.QuadTriangleArray;mt.resize(je),mt._trim();for(let Dt=0;Dt<je;Dt++){const Rt=6*Dt;mt.uint16[Rt+0]=4*Dt+0,mt.uint16[Rt+1]=4*Dt+1,mt.uint16[Rt+2]=4*Dt+2,mt.uint16[Rt+3]=4*Dt+2,mt.uint16[Rt+4]=4*Dt+3,mt.uint16[Rt+5]=4*Dt+0}return mt}(E));const j=R.createIndexBuffer(xa,!0),re=R.createVertexBuffer(k,g.collisionCircleLayout.members,!0);for(const ue of Q){const je={u_matrix:ue.transform,u_inv_matrix:ue.invTransform,u_camera_to_center_distance:(Se=C.transform).cameraToCenterDistance,u_viewport_size:[Se.width,Se.height]};T.draw(R,V.TRIANGLES,kn.disabled,er.disabled,C.colorModeForRenderPass(),pr.disabled,je,C.style.map.terrain&&C.style.map.terrain.getTerrainData(ue.coord),d.id,re,j,g.SegmentVector.simpleSegment(0,2*ue.circleOffset,ue.circleArray.length,ue.circleArray.length/2),null,C.transform.zoom,null,null,null)}var Se;re.destroy(),j.destroy()}pr.disabled=new pr(!1,1029,2305),pr.backCCW=new pr(!0,1029,2305);const le=g.identity(new Float32Array(16));function q(C,i,d,f,y,M){const{horizontalAlign:O,verticalAlign:R}=g.getAnchorAlignment(C);return new g.Point((-(O-.5)*i/y+f[0])*M,(-(R-.5)*d/y+f[1])*M)}function De(C,i,d,f,y,M,O,R,V,W,Q){const E=C.text.placedSymbolArray,I=C.text.dynamicLayoutVertexArray,T=C.icon.dynamicLayoutVertexArray,k={};I.clear();for(let z=0;z<E.length;z++){const j=E.get(z),re=j.hidden||!j.crossTileID||C.allowVerticalPlacement&&!j.placedOrientation?null:f[j.crossTileID];if(re){const Se=new g.Point(j.anchorX,j.anchorY),ue=Ht(Se,d?O:M,Q),je=ri(y.cameraToCenterDistance,ue.signedDistanceFromCamera);let mt=g.evaluateSizeForFeature(C.textSizeData,V,j)*je/g.ONE_EM;d&&(mt*=C.tilePixelRatio/R);const{width:Dt,height:Rt,anchor:ii,textOffset:qt,textBoxScale:ui}=re,Bi=q(ii,Dt,Rt,qt,ui,mt),hn=d?Ht(Se.add(Bi),M,Q).point:ue.point.add(i?Bi.rotate(-y.angle):Bi),pi=C.allowVerticalPlacement&&j.placedOrientation===g.WritingMode.vertical?Math.PI/2:0;for(let rn=0;rn<j.numGlyphs;rn++)g.addDynamicAttributes(I,hn,pi);W&&j.associatedIconIndex>=0&&(k[j.associatedIconIndex]={shiftedAnchor:hn,angle:pi})}else se(j.numGlyphs,I)}if(W){T.clear();const z=C.icon.placedSymbolArray;for(let j=0;j<z.length;j++){const re=z.get(j);if(re.hidden)se(re.numGlyphs,T);else{const Se=k[j];if(Se)for(let ue=0;ue<re.numGlyphs;ue++)g.addDynamicAttributes(T,Se.shiftedAnchor,Se.angle);else se(re.numGlyphs,T)}}C.icon.dynamicLayoutVertexBuffer.updateData(T)}C.text.dynamicLayoutVertexBuffer.updateData(I)}function st(C,i,d){return d.iconsInText&&i?"symbolTextAndIcon":C?"symbolSDF":"symbolIcon"}function on(C,i,d,f,y,M,O,R,V,W,Q,E){const I=C.context,T=I.gl,k=C.transform,z="map"===R,j="map"===V,re="viewport"!==R&&"point"!==d.layout.get("symbol-placement"),Se=z&&!j&&!re,ue=!d.layout.get("symbol-sort-key").isConstant();let je=!1;const mt=C.depthModeForSublayer(0,kn.ReadOnly),Dt=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Rt=[];for(const ii of f){const qt=i.getTile(ii),ui=qt.getBucket(d);if(!ui)continue;const Bi=y?ui.text:ui.icon;if(!Bi||!Bi.segments.get().length||!Bi.hasVisibleVertices)continue;const hn=Bi.programConfigurations.get(d.id),pi=y||ui.sdfIcons,rn=y?ui.textSizeData:ui.iconSizeData,Di=j||0!==k.pitch,Lr=C.useProgram(st(pi,y,ui),hn),Cn=g.evaluateSizeForZoom(rn,k.zoom),En=C.style.map.terrain&&C.style.map.terrain.getTerrainData(ii);let Vn,to,Er,Gr,Dr=[0,0],io=null;if(y)to=qt.glyphAtlasTexture,Er=T.LINEAR,Vn=qt.glyphAtlasTexture.size,ui.iconsInText&&(Dr=qt.imageAtlasTexture.size,io=qt.imageAtlasTexture,Gr=Di||C.options.rotating||C.options.zooming||"composite"===rn.kind||"camera"===rn.kind?T.LINEAR:T.NEAREST);else{const no=1!==d.layout.get("icon-size").constantOr(0)||ui.iconsNeedLinear;to=qt.imageAtlasTexture,Er=pi||C.options.rotating||C.options.zooming||no||Di?T.LINEAR:T.NEAREST,Vn=qt.imageAtlasTexture.size}const ms=Ee(qt,1,C.transform.zoom),Ys=qe(ii.posMatrix,j,z,C.transform,ms),kr=tt(ii.posMatrix,j,z,C.transform,ms),Ba=Dt&&ui.hasTextData(),ml="none"!==d.layout.get("icon-text-fit")&&Ba&&ui.hasIconData();if(re){const no=C.style.map.terrain?(zs,Co)=>C.style.map.terrain.getElevation(ii,zs,Co):null,ko="map"===d.layout.get("text-rotation-alignment");gi(ui,ii.posMatrix,C,y,Ys,kr,j,W,ko,no)}const Ka=C.translatePosMatrix(ii.posMatrix,qt,M,O),Xa=re||y&&Dt||ml?le:Ys,Ao=C.translatePosMatrix(kr,qt,M,O,!0),wo=pi&&0!==d.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1);let Ms;Ms=pi?ui.iconsInText?Io(rn.kind,Cn,Se,j,C,Ka,Xa,Ao,Vn,Dr):os(rn.kind,Cn,Se,j,C,Ka,Xa,Ao,y,Vn,!0):yr(rn.kind,Cn,Se,j,C,Ka,Xa,Ao,y,Vn);const Yc={program:Lr,buffers:Bi,uniformValues:Ms,atlasTexture:to,atlasTextureIcon:io,atlasInterpolation:Er,atlasInterpolationIcon:Gr,isSDF:pi,hasHalo:wo};if(ue&&ui.canOverlap){je=!0;const no=Bi.segments.get();for(const ko of no)Rt.push({segments:new g.SegmentVector([ko]),sortKey:ko.sortKey,state:Yc,terrainData:En})}else Rt.push({segments:Bi.segments,sortKey:0,state:Yc,terrainData:En})}je&&Rt.sort((ii,qt)=>ii.sortKey-qt.sortKey);for(const ii of Rt){const qt=ii.state;if(I.activeTexture.set(T.TEXTURE0),qt.atlasTexture.bind(qt.atlasInterpolation,T.CLAMP_TO_EDGE),qt.atlasTextureIcon&&(I.activeTexture.set(T.TEXTURE1),qt.atlasTextureIcon&&qt.atlasTextureIcon.bind(qt.atlasInterpolationIcon,T.CLAMP_TO_EDGE)),qt.isSDF){const ui=qt.uniformValues;qt.hasHalo&&(ui.u_is_halo=1,wn(qt.buffers,ii.segments,d,C,qt.program,mt,Q,E,ui,ii.terrainData)),ui.u_is_halo=0}wn(qt.buffers,ii.segments,d,C,qt.program,mt,Q,E,qt.uniformValues,ii.terrainData)}}function wn(C,i,d,f,y,M,O,R,V,W){const Q=f.context;y.draw(Q,Q.gl.TRIANGLES,M,O,R,pr.disabled,V,W,d.id,C.layoutVertexBuffer,C.indexBuffer,i,d.paint,f.transform.zoom,C.programConfigurations.get(d.id),C.dynamicLayoutVertexBuffer,C.opacityVertexBuffer)}function Xo(C,i,d,f,y){if(!d||!f||!f.imageAtlas)return;const M=f.imageAtlas.patternPositions;let O=M[d.to.toString()],R=M[d.from.toString()];if(!O||!R){const V=y.getPaintProperty(i);O=M[V],R=M[V]}O&&R&&C.setConstantPatternPositions(O,R)}function ds(C,i,d,f,y,M,O){const R=C.context.gl,V="fill-pattern",W=d.paint.get(V),Q=W&&W.constantOr(1),E=d.getCrossfadeParameters();let I,T,k,z,j;O?(T=Q&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",I=R.LINES):(T=Q?"fillPattern":"fill",I=R.TRIANGLES);const re=W.constantOr(null);for(const Se of f){const ue=i.getTile(Se);if(Q&&!ue.patternsLoaded())continue;const je=ue.getBucket(d);if(!je)continue;const mt=je.programConfigurations.get(d.id),Dt=C.useProgram(T,mt),Rt=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Se);Q&&(C.context.activeTexture.set(R.TEXTURE0),ue.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),mt.updatePaintBuffers(E)),Xo(mt,V,re,ue,d);const ii=Rt?Se:null,qt=C.translatePosMatrix(ii?ii.posMatrix:Se.posMatrix,ue,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(O){z=je.indexBuffer2,j=je.segments2;const ui=[R.drawingBufferWidth,R.drawingBufferHeight];k="fillOutlinePattern"===T&&Q?ia(qt,C,E,ue,ui):Ml(qt,ui)}else z=je.indexBuffer,j=je.segments,k=Q?Dl(qt,C,E,ue):ta(qt);Dt.draw(C.context,I,y,C.stencilModeForClipping(Se),M,pr.disabled,k,Rt,d.id,je.layoutVertexBuffer,z,j,d.paint,C.transform.zoom,mt)}}function la(C,i,d,f,y,M,O){const R=C.context,V=R.gl,W="fill-extrusion-pattern",Q=d.paint.get(W),E=Q.constantOr(1),I=d.getCrossfadeParameters(),T=d.paint.get("fill-extrusion-opacity"),k=Q.constantOr(null);for(const z of f){const j=i.getTile(z),re=j.getBucket(d);if(!re)continue;const Se=C.style.map.terrain&&C.style.map.terrain.getTerrainData(z),ue=re.programConfigurations.get(d.id),je=C.useProgram(E?"fillExtrusionPattern":"fillExtrusion",ue);E&&(C.context.activeTexture.set(V.TEXTURE0),j.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),ue.updatePaintBuffers(I)),Xo(ue,W,k,j,d);const mt=C.translatePosMatrix(z.posMatrix,j,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Dt=d.paint.get("fill-extrusion-vertical-gradient"),Rt=E?El(mt,C,Dt,T,z,I,j):lo(mt,C,Dt,T);je.draw(R,R.gl.TRIANGLES,y,M,O,pr.backCCW,Rt,Se,d.id,re.layoutVertexBuffer,re.indexBuffer,re.segments,d.paint,C.transform.zoom,ue,C.style.map.terrain&&re.centroidVertexBuffer)}}function Xl(C,i,d,f,y,M,O){const R=C.context,V=R.gl,W=d.fbo;if(!W)return;const Q=C.useProgram("hillshade"),E=C.style.map.terrain&&C.style.map.terrain.getTerrainData(i);R.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,W.colorAttachment.get()),Q.draw(R,V.TRIANGLES,y,M,O,pr.disabled,((I,T,k,z)=>{const j=k.paint.get("hillshade-shadow-color"),re=k.paint.get("hillshade-highlight-color"),Se=k.paint.get("hillshade-accent-color");let ue=k.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===k.paint.get("hillshade-illumination-anchor")&&(ue-=I.transform.angle);const je=!I.options.moving;return{u_matrix:z?z.posMatrix:I.transform.calculatePosMatrix(T.tileID.toUnwrapped(),je),u_image:0,u_latrange:Za(0,T.tileID),u_light:[k.paint.get("hillshade-exaggeration"),ue],u_shadow:j,u_highlight:re,u_accent:Se}})(C,d,f,E?i:null),E,f.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments)}function Cd(C,i,d,f,y,M){const O=C.context,R=O.gl,V=i.dem;if(V&&V.data){const W=V.dim,Q=V.stride,E=V.getPixels();if(O.activeTexture.set(R.TEXTURE1),O.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||C.getTileTexture(Q),i.demTexture){const T=i.demTexture;T.update(E,{premultiply:!1}),T.bind(R.NEAREST,R.CLAMP_TO_EDGE)}else i.demTexture=new $e(O,E,R.RGBA,{premultiply:!1}),i.demTexture.bind(R.NEAREST,R.CLAMP_TO_EDGE);O.activeTexture.set(R.TEXTURE0);let I=i.fbo;if(!I){const T=new $e(O,{width:W,height:W,data:null},R.RGBA);T.bind(R.LINEAR,R.CLAMP_TO_EDGE),I=i.fbo=O.createFramebuffer(W,W,!0,!1),I.colorAttachment.set(T.texture)}O.bindFramebuffer.set(I.framebuffer),O.viewport.set([0,0,W,W]),C.useProgram("hillshadePrepare").draw(O,R.TRIANGLES,f,y,M,pr.disabled,((T,k)=>{const z=k.stride,j=g.create();return g.ortho(j,0,g.EXTENT,-g.EXTENT,0,0,1),g.translate(j,j,[0,-g.EXTENT,0]),{u_matrix:j,u_image:1,u_dimension:[z,z],u_zoom:T.overscaledZ,u_unpack:k.getUnpackVector()}})(i.tileID,V),null,d.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Al(C,i,d,f,y,M){const O=f.paint.get("raster-fade-duration");if(!M&&O>0){const R=g.browser.now(),V=(R-C.timeAdded)/O,W=i?(R-i.timeAdded)/O:-1,Q=d.getSource(),E=y.coveringZoomLevel({tileSize:Q.tileSize,roundZoom:Q.roundZoom}),I=!i||Math.abs(i.tileID.overscaledZ-E)>Math.abs(C.tileID.overscaledZ-E),T=I&&C.refreshedUponExpiration?1:g.clamp(I?V:1-W,0,1);return C.refreshedUponExpiration&&V>=1&&(C.refreshedUponExpiration=!1),i?{opacity:1,mix:1-T}:{opacity:T,mix:0}}return{opacity:1,mix:0}}const Ed=new g.Color(1,0,0,1),ru=new g.Color(0,1,0,1),Wc=new g.Color(0,0,1,1),al=new g.Color(1,0,1,1),ca=new g.Color(0,1,1,1);function fr(C,i,d,f){ur(C,0,i+d/2,C.transform.width,d,f)}function Vo(C,i,d,f){ur(C,i-d/2,0,d,C.transform.height,f)}function ur(C,i,d,f,y,M){const O=C.context,R=O.gl;R.enable(R.SCISSOR_TEST),R.scissor(i*C.pixelRatio,d*C.pixelRatio,f*C.pixelRatio,y*C.pixelRatio),O.clear({color:M}),R.disable(R.SCISSOR_TEST)}function uo(C,i,d){const f=C.context,y=f.gl,M=d.posMatrix,O=C.useProgram("debug"),R=kn.disabled,V=er.disabled,W=C.colorModeForRenderPass(),Q="$debug",E=C.style.map.terrain&&C.style.map.terrain.getTerrainData(d);f.activeTexture.set(y.TEXTURE0);const I=i.getTileByID(d.key).latestRawTileData,T=Math.floor((I&&I.byteLength||0)/1024),k=i.getTile(d).tileSize,z=512/Math.min(k,512)*(d.overscaledZ/C.transform.zoom)*.5;let j=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(j+=` => ${d.overscaledZ}`),function(re,Se){re.initDebugOverlayCanvas();const ue=re.debugOverlayCanvas,je=re.context.gl,mt=re.debugOverlayCanvas.getContext("2d");mt.clearRect(0,0,ue.width,ue.height),mt.shadowColor="white",mt.shadowBlur=2,mt.lineWidth=1.5,mt.strokeStyle="white",mt.textBaseline="top",mt.font="bold 36px Open Sans, sans-serif",mt.fillText(Se,5,5),mt.strokeText(Se,5,5),re.debugOverlayTexture.update(ue),re.debugOverlayTexture.bind(je.LINEAR,je.CLAMP_TO_EDGE)}(C,`${j} ${T}kB`),O.draw(f,y.TRIANGLES,R,V,$i.alphaBlended,pr.disabled,jr(M,g.Color.transparent,z),null,Q,C.debugBuffer,C.quadTriangleIndexBuffer,C.debugSegments),O.draw(f,y.LINE_STRIP,R,V,W,pr.disabled,jr(M,g.Color.red),E,Q,C.debugBuffer,C.tileBorderIndexBuffer,C.debugSegments)}function xo(C,i,d){const f=C.context,y=f.gl,M=C.colorModeForRenderPass(),O=new kn(y.LEQUAL,kn.ReadWrite,C.depthRangeFor3D),R=C.useProgram("terrain"),V=i.getTerrainMesh();f.bindFramebuffer.set(null),f.viewport.set([0,0,C.width,C.height]);for(const W of d){const Q=C.renderToTexture.getTexture(W),E=i.getTerrainData(W.tileID);f.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,Q.texture);const I={u_matrix:C.transform.calculatePosMatrix(W.tileID.toUnwrapped()),u_texture:0,u_ele_delta:i.getMeshFrameDelta(C.transform.zoom)};R.draw(f,y.TRIANGLES,O,er.disabled,M,pr.backCCW,I,E,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}}class zn{constructor(i,d){this.context=new cn(i),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:g.create(),renderTime:0},this.setup(),this.numSublayers=_t.maxUnderzooming+_t.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ur}resize(i,d,f){if(this.width=Math.floor(i*f),this.height=Math.floor(d*f),this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style._order)this.style._layers[y].resize()}setup(){const i=this.context,d=new g.PosArray;d.emplaceBack(0,0),d.emplaceBack(g.EXTENT,0),d.emplaceBack(0,g.EXTENT),d.emplaceBack(g.EXTENT,g.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(d,Jn.members),this.tileExtentSegments=g.SegmentVector.simpleSegment(0,0,4,2);const f=new g.PosArray;f.emplaceBack(0,0),f.emplaceBack(g.EXTENT,0),f.emplaceBack(0,g.EXTENT),f.emplaceBack(g.EXTENT,g.EXTENT),this.debugBuffer=i.createVertexBuffer(f,Jn.members),this.debugSegments=g.SegmentVector.simpleSegment(0,0,4,5);const y=new g.RasterBoundsArray;y.emplaceBack(0,0,0,0),y.emplaceBack(g.EXTENT,0,g.EXTENT,0),y.emplaceBack(0,g.EXTENT,0,g.EXTENT),y.emplaceBack(g.EXTENT,g.EXTENT,g.EXTENT,g.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(y,kt.members),this.rasterBoundsSegments=g.SegmentVector.simpleSegment(0,0,4,2);const M=new g.PosArray;M.emplaceBack(0,0),M.emplaceBack(1,0),M.emplaceBack(0,1),M.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(M,Jn.members),this.viewportSegments=g.SegmentVector.simpleSegment(0,0,4,2);const O=new g.LineStripIndexArray;O.emplaceBack(0),O.emplaceBack(1),O.emplaceBack(3),O.emplaceBack(2),O.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(O);const R=new g.TriangleIndexArray;R.emplaceBack(0,1,2),R.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(R);const V=this.context.gl;this.stencilClearMode=new er({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO)}clearStencil(){const i=this.context,d=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=g.create();g.ortho(f,0,this.width,this.height,0,0,1),g.scale(f,f,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,d.TRIANGLES,kn.disabled,this.stencilClearMode,$i.disabled,pr.disabled,$s(f),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,d){if(this.currentStencilSource===i.source||!i.isTileClipped()||!d||!d.length)return;this.currentStencilSource=i.source;const f=this.context,y=f.gl;this.nextStencilID+d.length>256&&this.clearStencil(),f.setColorMode($i.disabled),f.setDepthMode(kn.disabled);const M=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const O of d){const R=this._tileClippingMaskIDs[O.key]=this.nextStencilID++,V=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O);M.draw(f,y.TRIANGLES,kn.disabled,new er({func:y.ALWAYS,mask:0},R,255,y.KEEP,y.KEEP,y.REPLACE),$i.disabled,pr.disabled,$s(O.posMatrix),V,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,d=this.context.gl;return new er({func:d.NOTEQUAL,mask:255},i,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(i){const d=this.context.gl;return new er({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(i){const d=this.context.gl,f=i.sort((O,R)=>R.overscaledZ-O.overscaledZ),y=f[f.length-1].overscaledZ,M=f[0].overscaledZ-y+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();const O={};for(let R=0;R<M;R++)O[R+y]=new er({func:d.GEQUAL,mask:255},R+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=M,[O,f]}return[{[y]:er.disabled},f]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new $i([i.CONSTANT_COLOR,i.ONE],new g.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?$i.unblended:$i.alphaBlended}depthModeForSublayer(i,d,f){if(!this.opaquePassEnabledForLayer())return kn.disabled;const y=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new kn(f||this.context.gl.LEQUAL,d,[y,y])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,d){this.style=i,this.options=d,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(g.browser.now()),this.imageManager.beginFrame();const f=this.style._order,y=this.style.sourceCaches,M={},O={},R={};for(const V in y){const W=y[V];W.used&&W.prepare(this.context),M[V]=W.getVisibleCoordinates(),O[V]=M[V].slice().reverse(),R[V]=W.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<f.length;V++)if(this.style._layers[f[V]].is3D()){this.opaquePassCutoff=V;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const V=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!g.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||V.length)&&(g.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(W,Q){const E=W.context,I=E.gl,T=$i.unblended,k=new kn(I.LEQUAL,kn.ReadWrite,[0,1]),z=Q.getTerrainMesh(),j=Q.sourceCache.getRenderableTiles(),re=W.useProgram("terrainDepth");E.bindFramebuffer.set(Q.getFramebuffer("depth").framebuffer),E.viewport.set([0,0,W.width/devicePixelRatio,W.height/devicePixelRatio]),E.clear({color:g.Color.transparent,depth:1});for(const Se of j){const ue=Q.getTerrainData(Se.tileID),je={u_matrix:W.transform.calculatePosMatrix(Se.tileID.toUnwrapped()),u_ele_delta:Q.getMeshFrameDelta(W.transform.zoom)};re.draw(E,I.TRIANGLES,k,er.disabled,T,pr.backCCW,je,ue,"terrain",z.vertexBuffer,z.indexBuffer,z.segments)}E.bindFramebuffer.set(null),E.viewport.set([0,0,W.width,W.height])}(this,this.style.map.terrain),function(W,Q){const E=W.context,I=E.gl,T=$i.unblended,k=new kn(I.LEQUAL,kn.ReadWrite,[0,1]),z=Q.getTerrainMesh(),j=Q.getCoordsTexture(),re=Q.sourceCache.getRenderableTiles(),Se=W.useProgram("terrainCoords");E.bindFramebuffer.set(Q.getFramebuffer("coords").framebuffer),E.viewport.set([0,0,W.width/devicePixelRatio,W.height/devicePixelRatio]),E.clear({color:g.Color.transparent,depth:1}),Q.coordsIndex=[];for(const ue of re){const je=Q.getTerrainData(ue.tileID);E.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,j.texture);const mt={u_matrix:W.transform.calculatePosMatrix(ue.tileID.toUnwrapped()),u_terrain_coords_id:(255-Q.coordsIndex.length)/255,u_texture:0,u_ele_delta:Q.getMeshFrameDelta(W.transform.zoom)};Se.draw(E,I.TRIANGLES,k,er.disabled,T,pr.backCCW,mt,je,"terrain",z.vertexBuffer,z.indexBuffer,z.segments),Q.coordsIndex.push(ue.tileID.key)}E.bindFramebuffer.set(null),E.viewport.set([0,0,W.width,W.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const V of f){const W=this.style._layers[V];if(!W.hasOffscreenPass()||W.isHidden(this.transform.zoom))continue;const Q=O[W.source];("custom"===W.type||Q.length)&&this.renderLayer(this,y[W.source],W,Q)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?g.Color.black:g.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const V=this.style._layers[f[this.currentLayer]],W=y[V.source],Q=M[V.source];this._renderTileClippingMasks(V,Q),this.renderLayer(this,W,V,Q)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const V=this.style._layers[f[this.currentLayer]],W=y[V.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(V))continue;const Q=("symbol"===V.type?R:O)[V.source];this._renderTileClippingMasks(V,M[V.source]),this.renderLayer(this,W,V,Q)}if(this.options.showTileBoundaries){const V=function(W,Q){let E=null;const I=Object.values(W._layers).flatMap(j=>j.source&&!j.isHidden(Q)?[W.sourceCaches[j.source]]:[]),T=I.filter(j=>"vector"===j.getSource().type),k=I.filter(j=>"vector"!==j.getSource().type),z=j=>{(!E||E.getSource().maxzoom<j.getSource().maxzoom)&&(E=j)};return T.forEach(j=>z(j)),E||k.forEach(j=>z(j)),E}(this.style,this.transform.zoom);V&&function(W,Q,E){for(let I=0;I<E.length;I++)uo(W,Q,E[I])}(this,V,V.getVisibleCoordinates())}this.options.showPadding&&function(V){const W=V.transform.padding;fr(V,V.transform.height-(W.top||0),3,Ed),fr(V,W.bottom||0,3,ru),Vo(V,W.left||0,3,Wc),Vo(V,V.transform.width-(W.right||0),3,al);const Q=V.transform.centerPoint;var E,I,T,k;ur(E=V,(I=Q.x)-1,(T=V.transform.height-Q.y)-10,2,20,k=ca),ur(E,I-10,T-1,20,2,k)}(this),this.context.setDefault()}renderLayer(i,d,f,y){if(!f.isHidden(this.transform.zoom)&&("background"===f.type||"custom"===f.type||(y||[]).length))switch(this.id=f.id,f.type){case"symbol":!function(M,O,R,V,W){if("translucent"!==M.renderPass)return;const Q=er.disabled,E=M.colorModeForRenderPass();(R._unevaluatedLayout.hasValue("text-variable-anchor")||R._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(I,T,k,z,j,re,Se){const ue=T.transform,je="map"===j,mt="map"===re;for(const Dt of I){const Rt=z.getTile(Dt),ii=Rt.getBucket(k);if(!ii||!ii.text||!ii.text.segments.get().length)continue;const qt=g.evaluateSizeForZoom(ii.textSizeData,ue.zoom),ui=Ee(Rt,1,T.transform.zoom),Bi=qe(Dt.posMatrix,mt,je,T.transform,ui),hn="none"!==k.layout.get("icon-text-fit")&&ii.hasIconData();if(qt){const pi=Math.pow(2,ue.zoom-Rt.tileID.overscaledZ);De(ii,je,mt,Se,ue,Bi,Dt.posMatrix,pi,qt,hn,T.style.map.terrain?(rn,Di)=>T.style.map.terrain.getElevation(Dt,rn,Di):null)}}}(V,M,R,O,R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),W),0!==R.paint.get("icon-opacity").constantOr(1)&&on(M,O,R,V,!1,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),R.layout.get("icon-rotation-alignment"),R.layout.get("icon-pitch-alignment"),R.layout.get("icon-keep-upright"),Q,E),0!==R.paint.get("text-opacity").constantOr(1)&&on(M,O,R,V,!0,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.layout.get("text-keep-upright"),Q,E),O.map.showCollisionBoxes&&(ne(M,O,R,V,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),!0),ne(M,O,R,V,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),!1))}(i,d,f,y,this.style.placement.variableOffsets);break;case"circle":!function(M,O,R,V){if("translucent"!==M.renderPass)return;const W=R.paint.get("circle-opacity"),Q=R.paint.get("circle-stroke-width"),E=R.paint.get("circle-stroke-opacity"),I=!R.layout.get("circle-sort-key").isConstant();if(0===W.constantOr(1)&&(0===Q.constantOr(1)||0===E.constantOr(1)))return;const T=M.context,k=T.gl,z=M.depthModeForSublayer(0,kn.ReadOnly),j=er.disabled,re=M.colorModeForRenderPass(),Se=[];for(let ue=0;ue<V.length;ue++){const je=V[ue],mt=O.getTile(je),Dt=mt.getBucket(R);if(!Dt)continue;const Rt=Dt.programConfigurations.get(R.id),ii=M.useProgram("circle",Rt),qt=Dt.layoutVertexBuffer,ui=Dt.indexBuffer,Bi=M.style.map.terrain&&M.style.map.terrain.getTerrainData(je),hn={programConfiguration:Rt,program:ii,layoutVertexBuffer:qt,indexBuffer:ui,uniformValues:na(M,je,mt,R),terrainData:Bi};if(I){const pi=Dt.segments.get();for(const rn of pi)Se.push({segments:new g.SegmentVector([rn]),sortKey:rn.sortKey,state:hn})}else Se.push({segments:Dt.segments,sortKey:0,state:hn})}I&&Se.sort((ue,je)=>ue.sortKey-je.sortKey);for(const ue of Se){const{programConfiguration:je,program:mt,layoutVertexBuffer:Dt,indexBuffer:Rt,uniformValues:ii,terrainData:qt}=ue.state;mt.draw(T,k.TRIANGLES,z,j,re,pr.disabled,ii,qt,R.id,Dt,Rt,ue.segments,R.paint,M.transform.zoom,je)}}(i,d,f,y);break;case"heatmap":!function(M,O,R,V){if(0!==R.paint.get("heatmap-opacity"))if("offscreen"===M.renderPass){const W=M.context,Q=W.gl,E=er.disabled,I=new $i([Q.ONE,Q.ONE],g.Color.transparent,[!0,!0,!0,!0]);(function(T,k,z){const j=T.gl;T.activeTexture.set(j.TEXTURE1),T.viewport.set([0,0,k.width/4,k.height/4]);let re=z.heatmapFbo;if(re)j.bindTexture(j.TEXTURE_2D,re.colorAttachment.get()),T.bindFramebuffer.set(re.framebuffer);else{const Se=j.createTexture();j.bindTexture(j.TEXTURE_2D,Se),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,j.LINEAR),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,j.LINEAR),re=z.heatmapFbo=T.createFramebuffer(k.width/4,k.height/4,!1,!1),function(ue,je,mt,Dt){var Rt,ii;const qt=ue.gl,ui=null!==(Rt=ue.HALF_FLOAT)&&void 0!==Rt?Rt:qt.UNSIGNED_BYTE,Bi=null!==(ii=ue.RGBA16F)&&void 0!==ii?ii:qt.RGBA;qt.texImage2D(qt.TEXTURE_2D,0,Bi,je.width/4,je.height/4,0,qt.RGBA,ui,null),Dt.colorAttachment.set(mt)}(T,k,Se,re)}})(W,M,R),W.clear({color:g.Color.transparent});for(let T=0;T<V.length;T++){const k=V[T];if(O.hasRenderableParent(k))continue;const z=O.getTile(k),j=z.getBucket(R);if(!j)continue;const re=j.programConfigurations.get(R.id),Se=M.useProgram("heatmap",re),{zoom:ue}=M.transform;Se.draw(W,Q.TRIANGLES,kn.disabled,E,I,pr.disabled,Oa(k.posMatrix,z,ue,R.paint.get("heatmap-intensity")),null,R.id,j.layoutVertexBuffer,j.indexBuffer,j.segments,R.paint,M.transform.zoom,re)}W.viewport.set([0,0,M.width,M.height])}else"translucent"===M.renderPass&&(M.context.setColorMode(M.colorModeForRenderPass()),function(W,Q){const E=W.context,I=E.gl,T=Q.heatmapFbo;if(!T)return;E.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,T.colorAttachment.get()),E.activeTexture.set(I.TEXTURE1);let k=Q.colorRampTexture;k||(k=Q.colorRampTexture=new $e(E,Q.colorRamp,I.RGBA)),k.bind(I.LINEAR,I.CLAMP_TO_EDGE),W.useProgram("heatmapTexture").draw(E,I.TRIANGLES,kn.disabled,er.disabled,W.colorModeForRenderPass(),pr.disabled,((z,j,re,Se)=>{const ue=g.create();g.ortho(ue,0,z.width,z.height,0,0,1);const je=z.context.gl;return{u_matrix:ue,u_world:[je.drawingBufferWidth,je.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:j.paint.get("heatmap-opacity")}})(W,Q),null,Q.id,W.viewportBuffer,W.quadTriangleIndexBuffer,W.viewportSegments,Q.paint,W.transform.zoom)}(M,R))}(i,d,f,y);break;case"line":!function(M,O,R,V){if("translucent"!==M.renderPass)return;const W=R.paint.get("line-opacity"),Q=R.paint.get("line-width");if(0===W.constantOr(1)||0===Q.constantOr(1))return;const E=M.depthModeForSublayer(0,kn.ReadOnly),I=M.colorModeForRenderPass(),T=R.paint.get("line-dasharray"),k=R.paint.get("line-pattern"),z=k.constantOr(1),j=R.paint.get("line-gradient"),re=R.getCrossfadeParameters(),Se=z?"linePattern":T?"lineSDF":j?"lineGradient":"line",ue=M.context,je=ue.gl;let mt=!0;for(const Dt of V){const Rt=O.getTile(Dt);if(z&&!Rt.patternsLoaded())continue;const ii=Rt.getBucket(R);if(!ii)continue;const qt=ii.programConfigurations.get(R.id),ui=M.context.program.get(),Bi=M.useProgram(Se,qt),hn=mt||Bi.program!==ui,pi=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Dt),rn=k.constantOr(null);if(rn&&Rt.imageAtlas){const Cn=Rt.imageAtlas,En=Cn.patternPositions[rn.to.toString()],Vn=Cn.patternPositions[rn.from.toString()];En&&Vn&&qt.setConstantPatternPositions(En,Vn)}const Di=pi?Dt:null,Lr=z?Tl(M,Rt,R,re,Di):T?Zs(M,Rt,R,T,re,Di):j?Sl(M,Rt,R,ii.lineClipsArray.length,Di):Gs(M,Rt,R,Di);if(z)ue.activeTexture.set(je.TEXTURE0),Rt.imageAtlasTexture.bind(je.LINEAR,je.CLAMP_TO_EDGE),qt.updatePaintBuffers(re);else if(T&&(hn||M.lineAtlas.dirty))ue.activeTexture.set(je.TEXTURE0),M.lineAtlas.bind(ue);else if(j){const Cn=ii.gradients[R.id];let En=Cn.texture;if(R.gradientVersion!==Cn.version){let Vn=256;if(R.stepInterpolant){const to=O.getSource().maxzoom,Er=Dt.canonical.z===to?Math.ceil(1<<M.transform.maxZoom-Dt.canonical.z):1;Vn=g.clamp(g.nextPowerOfTwo(ii.maxLineLength/g.EXTENT*1024*Er),256,ue.maxTextureSize)}Cn.gradient=g.renderColorRamp({expression:R.gradientExpression(),evaluationKey:"lineProgress",resolution:Vn,image:Cn.gradient||void 0,clips:ii.lineClipsArray}),Cn.texture?Cn.texture.update(Cn.gradient):Cn.texture=new $e(ue,Cn.gradient,je.RGBA),Cn.version=R.gradientVersion,En=Cn.texture}ue.activeTexture.set(je.TEXTURE0),En.bind(R.stepInterpolant?je.NEAREST:je.LINEAR,je.CLAMP_TO_EDGE)}Bi.draw(ue,je.TRIANGLES,E,M.stencilModeForClipping(Dt),I,pr.disabled,Lr,pi,R.id,ii.layoutVertexBuffer,ii.indexBuffer,ii.segments,R.paint,M.transform.zoom,qt,ii.layoutVertexBuffer2),mt=!1}}(i,d,f,y);break;case"fill":!function(M,O,R,V){const W=R.paint.get("fill-color"),Q=R.paint.get("fill-opacity");if(0===Q.constantOr(1))return;const E=M.colorModeForRenderPass(),I=R.paint.get("fill-pattern"),T=M.opaquePassEnabledForLayer()&&!I.constantOr(1)&&1===W.constantOr(g.Color.transparent).a&&1===Q.constantOr(0)?"opaque":"translucent";if(M.renderPass===T){const k=M.depthModeForSublayer(1,"opaque"===M.renderPass?kn.ReadWrite:kn.ReadOnly);ds(M,O,R,V,k,E,!1)}if("translucent"===M.renderPass&&R.paint.get("fill-antialias")){const k=M.depthModeForSublayer(R.getPaintProperty("fill-outline-color")?2:0,kn.ReadOnly);ds(M,O,R,V,k,E,!0)}}(i,d,f,y);break;case"fill-extrusion":!function(M,O,R,V){const W=R.paint.get("fill-extrusion-opacity");if(0!==W&&"translucent"===M.renderPass){const Q=new kn(M.context.gl.LEQUAL,kn.ReadWrite,M.depthRangeFor3D);if(1!==W||R.paint.get("fill-extrusion-pattern").constantOr(1))la(M,O,R,V,Q,er.disabled,$i.disabled),la(M,O,R,V,Q,M.stencilModeFor3D(),M.colorModeForRenderPass());else{const E=M.colorModeForRenderPass();la(M,O,R,V,Q,er.disabled,E)}}}(i,d,f,y);break;case"hillshade":!function(M,O,R,V){if("offscreen"!==M.renderPass&&"translucent"!==M.renderPass)return;const W=M.context,Q=M.depthModeForSublayer(0,kn.ReadOnly),E=M.colorModeForRenderPass(),[I,T]="translucent"===M.renderPass?M.stencilConfigForOverlap(V):[{},V];for(const k of T){const z=O.getTile(k);void 0!==z.needsHillshadePrepare&&z.needsHillshadePrepare&&"offscreen"===M.renderPass?Cd(M,z,R,Q,er.disabled,E):"translucent"===M.renderPass&&Xl(M,k,z,R,Q,I[k.overscaledZ],E)}W.viewport.set([0,0,M.width,M.height])}(i,d,f,y);break;case"raster":!function(M,O,R,V){if("translucent"!==M.renderPass||0===R.paint.get("raster-opacity")||!V.length)return;const W=M.context,Q=W.gl,E=O.getSource(),I=M.useProgram("raster"),T=M.colorModeForRenderPass(),[k,z]=E instanceof We?[{},V]:M.stencilConfigForOverlap(V),j=z[z.length-1].overscaledZ,re=!M.options.moving;for(const Se of z){const ue=M.depthModeForSublayer(Se.overscaledZ-j,1===R.paint.get("raster-opacity")?kn.ReadWrite:kn.ReadOnly,Q.LESS),je=O.getTile(Se);je.registerFadeDuration(R.paint.get("raster-fade-duration"));const mt=O.findLoadedParent(Se,0),Dt=Al(je,mt,O,R,M.transform,M.style.map.terrain);let Rt,ii;const qt="nearest"===R.paint.get("raster-resampling")?Q.NEAREST:Q.LINEAR;W.activeTexture.set(Q.TEXTURE0),je.texture.bind(qt,Q.CLAMP_TO_EDGE,Q.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(Q.TEXTURE1),mt?(mt.texture.bind(qt,Q.CLAMP_TO_EDGE,Q.LINEAR_MIPMAP_NEAREST),Rt=Math.pow(2,mt.tileID.overscaledZ-je.tileID.overscaledZ),ii=[je.tileID.canonical.x*Rt%1,je.tileID.canonical.y*Rt%1]):je.texture.bind(qt,Q.CLAMP_TO_EDGE,Q.LINEAR_MIPMAP_NEAREST);const ui=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Se),Bi=ui?Se:null,hn=Bi?Bi.posMatrix:M.transform.calculatePosMatrix(Se.toUnwrapped(),re),pi=Sn(hn,ii||[0,0],Rt||1,Dt,R);E instanceof We?I.draw(W,Q.TRIANGLES,ue,er.disabled,T,pr.disabled,pi,ui,R.id,E.boundsBuffer,M.quadTriangleIndexBuffer,E.boundsSegments):I.draw(W,Q.TRIANGLES,ue,k[Se.overscaledZ],T,pr.disabled,pi,ui,R.id,M.rasterBoundsBuffer,M.quadTriangleIndexBuffer,M.rasterBoundsSegments)}}(i,d,f,y);break;case"background":!function(M,O,R,V){const W=R.paint.get("background-color"),Q=R.paint.get("background-opacity");if(0===Q)return;const E=M.context,I=E.gl,T=M.transform,k=T.tileSize,z=R.paint.get("background-pattern");if(M.isPatternMissing(z))return;const j=!z&&1===W.a&&1===Q&&M.opaquePassEnabledForLayer()?"opaque":"translucent";if(M.renderPass!==j)return;const re=er.disabled,Se=M.depthModeForSublayer(0,"opaque"===j?kn.ReadWrite:kn.ReadOnly),ue=M.colorModeForRenderPass(),je=M.useProgram(z?"backgroundPattern":"background"),mt=V||T.coveringTiles({tileSize:k,terrain:M.style.map.terrain});z&&(E.activeTexture.set(I.TEXTURE0),M.imageManager.bind(M.context));const Dt=R.getCrossfadeParameters();for(const Rt of mt){const ii=V?Rt.posMatrix:M.transform.calculatePosMatrix(Rt.toUnwrapped()),qt=z?as(ii,Q,M,z,{tileID:Rt,tileSize:k},Dt):ss(ii,Q,W),ui=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Rt);je.draw(E,I.TRIANGLES,Se,re,ue,pr.disabled,qt,ui,R.id,M.tileExtentBuffer,M.quadTriangleIndexBuffer,M.tileExtentSegments)}}(i,0,f,y);break;case"custom":!function(M,O,R){const V=M.context,W=R.implementation;if("offscreen"===M.renderPass){const Q=W.prerender;Q&&(M.setCustomLayerDefaults(),V.setColorMode(M.colorModeForRenderPass()),Q.call(W,V.gl,M.transform.customLayerMatrix()),V.setDirty(),M.setBaseState())}else if("translucent"===M.renderPass){M.setCustomLayerDefaults(),V.setColorMode(M.colorModeForRenderPass()),V.setStencilMode(er.disabled);const Q="3d"===W.renderingMode?new kn(M.context.gl.LEQUAL,kn.ReadWrite,M.depthRangeFor3D):M.depthModeForSublayer(0,kn.ReadOnly);V.setDepthMode(Q),W.render(V.gl,M.transform.customLayerMatrix()),V.setDirty(),M.setBaseState(),V.bindFramebuffer.set(null)}}(i,0,f)}}translatePosMatrix(i,d,f,y,M){if(!f[0]&&!f[1])return i;const O=M?"map"===y?this.transform.angle:0:"viewport"===y?-this.transform.angle:0;if(O){const W=Math.sin(O),Q=Math.cos(O);f=[f[0]*Q-f[1]*W,f[0]*W+f[1]*Q]}const R=[M?f[0]:Ee(d,f[0],this.transform.zoom),M?f[1]:Ee(d,f[1],this.transform.zoom),0],V=new Float32Array(16);return g.translate(V,i,R),V}saveTileTexture(i){const d=this._tileTextures[i.size[0]];d?d.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const d=this._tileTextures[i];return d&&d.length>0?d.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const d=this.imageManager.getPattern(i.from.toString()),f=this.imageManager.getPattern(i.to.toString());return!d||!f}useProgram(i,d){this.cache=this.cache||{};const f=i+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[f]||(this.cache[f]=new vn(this.context,ao[i],d,Wr[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new $e(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:d}=this.context.gl;return this.width!==i||this.height!==d}}class ar{constructor(i,d){this.points=i,this.planes=d}static fromInvProjectionMatrix(i,d,f){const y=Math.pow(2,f),M=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(R=>{const V=1/(R=g.transformMat4([],R,i))[3]/d*y;return g.mul$1(R,R,[V,V,1/R[3],V])}),O=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(R=>{const V=function(I,T){var k=T[0],z=T[1],j=T[2],re=k*k+z*z+j*j;return re>0&&(re=1/Math.sqrt(re)),I[0]=T[0]*re,I[1]=T[1]*re,I[2]=T[2]*re,I}([],(I=[],T=Ti([],M[R[0]],M[R[1]]),k=Ti([],M[R[2]],M[R[1]]),z=T[0],Se=k[0],I[0]=(j=T[1])*(je=k[2])-(re=T[2])*(ue=k[1]),I[1]=re*Se-z*je,I[2]=z*ue-j*Se,I)),W=-((Q=V)[0]*(E=M[R[1]])[0]+Q[1]*E[1]+Q[2]*E[2]);var I,T,k,z,j,re,Se,ue,je,Q,E;return V.concat(W)});return new ar(M,O)}}class Uo{constructor(i,d){var f,y,M;this.min=i,this.max=d,this.center=function(f,y,M){return f[0]=.5*y[0],f[1]=.5*y[1],f[2]=.5*y[2],f}([],((f=[])[0]=(y=this.min)[0]+(M=this.max)[0],f[1]=y[1]+M[1],f[2]=y[2]+M[2],f))}quadrant(i){const d=[i%2==0,i<2],f=Ut(this.min),y=Ut(this.max);for(let M=0;M<d.length;M++)f[M]=d[M]?this.min[M]:this.center[M],y[M]=d[M]?this.center[M]:this.max[M];return y[2]=this.max[2],new Uo(f,y)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let f=!0;for(let y=0;y<i.planes.length;y++){const M=i.planes[y];let O=0;for(let R=0;R<d.length;R++)g.dot(M,d[R])>=0&&O++;if(0===O)return 0;O!==d.length&&(f=!1)}if(f)return 2;for(let y=0;y<3;y++){let M=Number.MAX_VALUE,O=-Number.MAX_VALUE;for(let R=0;R<i.points.length;R++){const V=i.points[R][y]-this.min[y];M=Math.min(M,V),O=Math.max(O,V)}if(O<0||M>this.max[y]-this.min[y])return 0}return 1}}class ll{constructor(i=0,d=0,f=0,y=0){if(isNaN(i)||i<0||isNaN(d)||d<0||isNaN(f)||f<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=d,this.left=f,this.right=y}interpolate(i,d,f){return null!=d.top&&null!=i.top&&(this.top=g.interpolate.number(i.top,d.top,f)),null!=d.bottom&&null!=i.bottom&&(this.bottom=g.interpolate.number(i.bottom,d.bottom,f)),null!=d.left&&null!=i.left&&(this.left=g.interpolate.number(i.left,d.left,f)),null!=d.right&&null!=i.right&&(this.right=g.interpolate.number(i.right,d.right,f)),this}getCenter(i,d){const f=g.clamp((this.left+i-this.right)/2,0,i),y=g.clamp((this.top+d-this.bottom)/2,0,d);return new g.Point(f,y)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new ll(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class wa{constructor(i,d,f,y,M){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===M||!!M,this._minZoom=i||0,this._maxZoom=d||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new g.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ll,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const i=new wa(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this._minEleveationForCurrentTile=i._minEleveationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){void 0===i?i=!0:null===i&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new g.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const d=-g.wrap(i,-180,180)*Math.PI/180;var f;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(f=new g.ARRAY_TYPE(4),g.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f),function(f,y,M){var O=y[0],R=y[1],V=y[2],W=y[3],Q=Math.sin(M),E=Math.cos(M);f[0]=O*E+V*Q,f[1]=R*E+W*Q,f[2]=O*-Q+V*E,f[3]=R*-Q+W*E}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const d=g.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const d=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,d,f){this._unmodified=!1,this._edgeInsets.interpolate(i,d,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const d=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(i){const d=[new g.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const f=this.pointCoordinate(new g.Point(0,0)),y=this.pointCoordinate(new g.Point(this.width,0)),M=this.pointCoordinate(new g.Point(this.width,this.height)),O=this.pointCoordinate(new g.Point(0,this.height)),R=Math.floor(Math.min(f.x,y.x,M.x,O.x)),V=Math.floor(Math.max(f.x,y.x,M.x,O.x)),W=1;for(let Q=R-W;Q<=V+W;Q++)0!==Q&&d.push(new g.UnwrappedTileID(Q,i))}return d}coveringTiles(i){var d,f;let y=this.coveringZoomLevel(i);const M=y;if(void 0!==i.minzoom&&y<i.minzoom)return[];void 0!==i.maxzoom&&y>i.maxzoom&&(y=i.maxzoom);const O=this.pointCoordinate(this.getCameraPoint()),R=g.MercatorCoordinate.fromLngLat(this.center),V=Math.pow(2,y),W=[V*O.x,V*O.y,0],Q=[V*R.x,V*R.y,0],E=ar.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,y);let I=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(I=y);const T=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,k=ue=>({aabb:new Uo([ue*V,0,0],[(ue+1)*V,V,0]),zoom:0,x:0,y:0,wrap:ue,fullyVisible:!1}),z=[],j=[],re=y,Se=i.reparseOverscaled?M:y;if(this._renderWorldCopies)for(let ue=1;ue<=3;ue++)z.push(k(-ue)),z.push(k(ue));for(z.push(k(0));z.length>0;){const ue=z.pop(),je=ue.x,mt=ue.y;let Dt=ue.fullyVisible;if(!Dt){const Bi=ue.aabb.intersects(E);if(0===Bi)continue;Dt=2===Bi}const Rt=i.terrain?W:Q,ii=ue.aabb.distanceX(Rt),qt=ue.aabb.distanceY(Rt),ui=Math.max(Math.abs(ii),Math.abs(qt));if(ue.zoom===re||ui>T+(1<<re-ue.zoom)-2&&ue.zoom>=I){const Bi=re-ue.zoom,hn=W[0]-.5-(je<<Bi),pi=W[1]-.5-(mt<<Bi);j.push({tileID:new g.OverscaledTileID(ue.zoom===re?Se:ue.zoom,ue.wrap,ue.zoom,je,mt),distanceSq:ni([Q[0]-.5-je,Q[1]-.5-mt]),tileDistanceToCamera:Math.sqrt(hn*hn+pi*pi)})}else for(let Bi=0;Bi<4;Bi++){const hn=(je<<1)+Bi%2,pi=(mt<<1)+(Bi>>1),rn=ue.zoom+1;let Di=ue.aabb.quadrant(Bi);if(i.terrain){const Lr=new g.OverscaledTileID(rn,ue.wrap,rn,hn,pi),Cn=i.terrain.getMinMaxElevation(Lr),En=null!==(d=Cn.minElevation)&&void 0!==d?d:this.elevation,Vn=null!==(f=Cn.maxElevation)&&void 0!==f?f:this.elevation;Di=new Uo([Di.min[0],Di.min[1],En],[Di.max[0],Di.max[1],Vn])}z.push({aabb:Di,zoom:rn,x:hn,y:pi,wrap:ue.wrap,fullyVisible:Dt})}}return j.sort((ue,je)=>ue.distanceSq-je.distanceSq).map(ue=>ue.tileID)}resize(i,d){this.width=i,this.height=d,this.pixelsToGLUnits=[2/i,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const d=g.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new g.Point(g.mercatorXfromLng(i.lng)*this.worldSize,g.mercatorYfromLat(d)*this.worldSize)}unproject(i){return new g.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const d=this.pointLocation(this.centerPoint,i),f=i.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-f))return;const y=this.getCameraPosition(),M=g.MercatorCoordinate.fromLngLat(y.lngLat,y.altitude),O=g.MercatorCoordinate.fromLngLat(d,f),R=M.x-O.x,V=M.y-O.y,W=M.z-O.z,Q=Math.sqrt(R*R+V*V+W*W),E=this.scaleZoom(this.cameraToCenterDistance/Q/this.tileSize);this._elevation=f,this._center=d,this.zoom=E}setLocationAtPoint(i,d){const f=this.pointCoordinate(d),y=this.pointCoordinate(this.centerPoint),M=this.locationCoordinate(i),O=new g.MercatorCoordinate(M.x-(f.x-y.x),M.y-(f.y-y.y));this.center=this.coordinateLocation(O),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,d){return d?this.coordinatePoint(this.locationCoordinate(i),d.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,d){return this.coordinateLocation(this.pointCoordinate(i,d))}locationCoordinate(i){return g.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,d){if(d){const I=d.pointCoordinate(i);if(null!=I)return I}const f=[i.x,i.y,0,1],y=[i.x,i.y,1,1];g.transformMat4(f,f,this.pixelMatrixInverse),g.transformMat4(y,y,this.pixelMatrixInverse);const M=f[3],O=y[3],R=f[1]/M,V=y[1]/O,W=f[2]/M,Q=y[2]/O,E=W===Q?0:(0-W)/(Q-W);return new g.MercatorCoordinate(g.interpolate.number(f[0]/M,y[0]/O,E)/this.worldSize,g.interpolate.number(R,V,E)/this.worldSize)}coordinatePoint(i,d=0,f=this.pixelMatrix){const y=[i.x*this.worldSize,i.y*this.worldSize,d,1];return g.transformMat4(y,y,f),new g.Point(y[0]/y[3],y[1]/y[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return(new xt).extend(this.pointLocation(new g.Point(0,i))).extend(this.pointLocation(new g.Point(this.width,i))).extend(this.pointLocation(new g.Point(this.width,this.height))).extend(this.pointLocation(new g.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new xt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,d=!1){const f=i.key,y=d?this._alignedPosMatrixCache:this._posMatrixCache;if(y[f])return y[f];const M=i.canonical,O=this.worldSize/this.zoomScale(M.z),R=M.x+Math.pow(2,M.z)*i.wrap,V=g.identity(new Float64Array(16));return g.translate(V,V,[R*O,M.y*O,0]),g.scale(V,V,[O/g.EXTENT,O/g.EXTENT,1]),g.multiply(V,d?this.alignedProjMatrix:this.projMatrix,V),y[f]=new Float32Array(V),y[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,d,f,y,M=-90,O=90,R=-180,V=180;const W=this.size,Q=this._unmodified;if(this.latRange){const T=this.latRange;M=g.mercatorYfromLat(T[1])*this.worldSize,O=g.mercatorYfromLat(T[0])*this.worldSize,i=O-M<W.y?W.y/(O-M):0}if(this.lngRange){const T=this.lngRange;R=g.wrap(g.mercatorXfromLng(T[0])*this.worldSize,0,this.worldSize),V=g.wrap(g.mercatorXfromLng(T[1])*this.worldSize,0,this.worldSize),V<R&&(V+=this.worldSize),d=V-R<W.x?W.x/(V-R):0}const E=this.point,I=Math.max(d||0,i||0);if(I)return this.center=this.unproject(new g.Point(d?(V+R)/2:E.x,i?(O+M)/2:E.y)),this.zoom+=this.scaleZoom(I),this._unmodified=Q,void(this._constraining=!1);if(this.latRange){const T=E.y,k=W.y/2;T-k<M&&(y=M+k),T+k>O&&(y=O-k)}if(this.lngRange){const T=(R+V)/2,k=g.wrap(E.x,T-this.worldSize/2,T+this.worldSize/2),z=W.x/2;k-z<R&&(f=R+z),k+z>V&&(f=V-z)}void 0===f&&void 0===y||(this.center=this.unproject(new g.Point(void 0!==f?f:E.x,void 0!==y?y:E.y)).wrap()),this._unmodified=Q,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,d=this.point.x,f=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=g.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let y=g.identity(new Float64Array(16));g.scale(y,y,[this.width/2,-this.height/2,1]),g.translate(y,y,[1,-1,0]),this.labelPlaneMatrix=y,y=g.identity(new Float64Array(16)),g.scale(y,y,[1,-1,1]),g.translate(y,y,[-1,-1,0]),g.scale(y,y,[2/this.width,2/this.height,1]),this.glCoordMatrix=y;const M=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),O=Math.min(this.elevation,this._minEleveationForCurrentTile),R=M-O*this._pixelPerMeter/Math.cos(this._pitch),V=O<0?R:M,W=Math.PI/2+this._pitch,Q=this._fov*(.5+i.y/this.height),E=Math.sin(Q)*V/Math.sin(g.clamp(Math.PI-W-Q,.01,Math.PI-.01)),I=this.getHorizon(),T=2*Math.atan(I/this.cameraToCenterDistance)*(.5+i.y/(2*I)),k=Math.sin(T)*V/Math.sin(g.clamp(Math.PI-W-T,.01,Math.PI-.01)),z=Math.min(E,k),j=1.01*(Math.cos(Math.PI/2-this._pitch)*z+V),re=this.height/50;y=new Float64Array(16),g.perspective(y,this._fov,this.width/this.height,re,j),y[8]=2*-i.x/this.width,y[9]=2*i.y/this.height,g.scale(y,y,[1,-1,1]),g.translate(y,y,[0,0,-this.cameraToCenterDistance]),g.rotateX(y,y,this._pitch),g.rotateZ(y,y,this.angle),g.translate(y,y,[-d,-f,0]),this.mercatorMatrix=g.scale([],y,[this.worldSize,this.worldSize,this.worldSize]),g.scale(y,y,[1,1,this._pixelPerMeter]),this.pixelMatrix=g.multiply(new Float64Array(16),this.labelPlaneMatrix,y),g.translate(y,y,[0,0,-this.elevation]),this.projMatrix=y,this.invProjMatrix=g.invert([],y),this.pixelMatrix3D=g.multiply(new Float64Array(16),this.labelPlaneMatrix,y);const Se=this.width%2/2,ue=this.height%2/2,je=Math.cos(this.angle),mt=Math.sin(this.angle),Dt=d-Math.round(d)+je*Se+mt*ue,Rt=f-Math.round(f)+je*ue+mt*Se,ii=new Float64Array(y);if(g.translate(ii,ii,[Dt>.5?Dt-1:Dt,Rt>.5?Rt-1:Rt,0]),this.alignedProjMatrix=ii,y=g.invert(new Float64Array(16),this.pixelMatrix),!y)throw new Error("failed to invert matrix");this.pixelMatrixInverse=y,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new g.Point(0,0)),d=[i.x*this.worldSize,i.y*this.worldSize,0,1];return g.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new g.Point(0,i))}getCameraQueryGeometry(i){const d=this.getCameraPoint();if(1===i.length)return[i[0],d];{let f=d.x,y=d.y,M=d.x,O=d.y;for(const R of i)f=Math.min(f,R.x),y=Math.min(y,R.y),M=Math.max(M,R.x),O=Math.max(O,R.y);return[new g.Point(f,y),new g.Point(M,y),new g.Point(M,O),new g.Point(f,O),new g.Point(f,y)]}}}function Ir(C,i){let d,f=!1,y=null,M=null;const O=()=>{y=null,f&&(C.apply(M,d),y=setTimeout(O,i),f=!1)};return(...R)=>(f=!0,M=this,d=R,y||O(),y)}class Jr{constructor(i){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let f;return d.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(f=y)}),(f&&f[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:f,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=Ir(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const d=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,y=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,y),O=Math.round(d.lng*M)/M,R=Math.round(d.lat*M)/M,V=this._map.getBearing(),W=this._map.getPitch();let Q="";if(Q+=i?`/${O}/${R}/${f}`:`${f}/${R}/${O}`,(V||W)&&(Q+="/"+Math.round(10*V)/10),W&&(Q+=`/${Math.round(W)}`),this._hashName){const E=this._hashName;let I=!1;const T=window.location.hash.slice(1).split("&").map(k=>{const z=k.split("=")[0];return z===E?(I=!0,`${z}=${Q}`):k}).filter(k=>k);return I||T.push(`${E}=${Q}`),`#${T.join("&")}`}return`#${Q}`}}const Ar={linearity:.3,easing:g.bezier(0,0,.3,1)},Ya=g.extend({deceleration:2500,maxSpeed:1400},Ar),ks=g.extend({deceleration:20,maxSpeed:1400},Ar),zr=g.extend({deceleration:1e3,maxSpeed:360},Ar),cl=g.extend({deceleration:1e3,maxSpeed:90},Ar);class Ca{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:g.browser.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,d=g.browser.now();for(;i.length>0&&d-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new g.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:M}of this._inertiaBuffer)d.zoom+=M.zoomDelta||0,d.bearing+=M.bearingDelta||0,d.pitch+=M.pitchDelta||0,M.panDelta&&d.pan._add(M.panDelta),M.around&&(d.around=M.around),M.pinchAround&&(d.pinchAround=M.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(d.pan.mag()){const M=mo(d.pan.mag(),f,g.extend({},Ya,i||{}));y.offset=d.pan.mult(M.amount/d.pan.mag()),y.center=this._map.transform.center,ho(y,M)}if(d.zoom){const M=mo(d.zoom,f,ks);y.zoom=this._map.transform.zoom+M.amount,ho(y,M)}if(d.bearing){const M=mo(d.bearing,f,zr);y.bearing=this._map.transform.bearing+g.clamp(M.amount,-179,179),ho(y,M)}if(d.pitch){const M=mo(d.pitch,f,cl);y.pitch=this._map.transform.pitch+M.amount,ho(y,M)}if(y.zoom||y.bearing){const M=void 0===d.pinchAround?d.around:d.pinchAround;y.around=M?this._map.unproject(M):this._map.getCenter()}return this.clear(),g.extend(y,{noMoveStart:!0})}}function ho(C,i){(!C.duration||C.duration<i.duration)&&(C.duration=i.duration,C.easing=i.easing)}function mo(C,i,d){const{maxSpeed:f,linearity:y,deceleration:M}=d,O=g.clamp(C*y/(i/1e3),-f,f),R=Math.abs(O)/(M*y);return{easing:d.easing,duration:1e3*R,amount:O*(R/2)}}class us extends g.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,f,y={}){const M=ae.mousePos(d.getCanvasContainer(),f),O=d.unproject(M);super(i,g.extend({point:M,lngLat:O,originalEvent:f},y)),this._defaultPrevented=!1,this.target=d}}class Ea extends g.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,f){const y="touchend"===i?f.changedTouches:f.touches,M=ae.touchPos(d.getCanvasContainer(),y),O=M.map(V=>d.unproject(V)),R=M.reduce((V,W,Q,E)=>V.add(W.div(E.length)),new g.Point(0,0));super(i,{points:M,point:R,lngLats:O,lngLat:d.unproject(R),originalEvent:f}),this._defaultPrevented=!1}}class dl extends g.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,f){super(i,{originalEvent:f}),this._defaultPrevented=!1}}class po{constructor(i,d){this._map=i,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new dl(i.type,this._map,i))}mousedown(i,d){return this._mousedownPos=d,this._firePreventable(new us(i.type,this._map,i))}mouseup(i){this._map.fire(new us(i.type,this._map,i))}click(i,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new us(i.type,this._map,i))}dblclick(i){return this._firePreventable(new us(i.type,this._map,i))}mouseover(i){this._map.fire(new us(i.type,this._map,i))}mouseout(i){this._map.fire(new us(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Ea(i.type,this._map,i))}touchmove(i){this._map.fire(new Ea(i.type,this._map,i))}touchend(i){this._map.fire(new Ea(i.type,this._map,i))}touchcancel(i){this._map.fire(new Ea(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class kl{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new us(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new us("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new us(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Pl{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(g.Point.convert(i),this._map.terrain)}}class Jl{constructor(i,d){this._map=i,this._tr=new Pl(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,d){this.isEnabled()&&i.shiftKey&&0===i.button&&(ae.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(i,d){if(!this._active)return;const f=d;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const y=this._startPos;this._lastPos=f,this._box||(this._box=ae.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const M=Math.min(y.x,f.x),O=Math.max(y.x,f.x),R=Math.min(y.y,f.y),V=Math.max(y.y,f.y);ae.setTransform(this._box,`translate(${M}px,${R}px)`),this._box.style.width=O-M+"px",this._box.style.height=V-R+"px"}mouseupWindow(i,d){if(!this._active||0!==i.button)return;const f=this._startPos,y=d;if(this.reset(),ae.suppressClick(),f.x!==y.x||f.y!==y.y)return this._map.fire(new g.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:M=>M.fitScreenCoordinates(f,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&27===i.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(ae.remove(this._box),this._box=null),ae.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,d){return this._map.fire(new g.Event(i,{originalEvent:d}))}}function Ol(C,i){if(C.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${C.length}, points ${i.length}`);const d={};for(let f=0;f<C.length;f++)d[C[f].identifier]=i[f];return d}class Ps{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,d,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=i.timeStamp),f.length===this.numTouches&&(this.centroid=function(y){const M=new g.Point(0,0);for(const O of y)M._add(O);return M.div(y.length)}(d),this.touches=Ol(f,d)))}touchmove(i,d,f){if(this.aborted||!this.centroid)return;const y=Ol(f,d);for(const M in this.touches){const O=y[M];(!O||O.dist(this.touches[M])>30)&&(this.aborted=!0)}}touchend(i,d,f){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),0===f.length){const y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class Os{constructor(i){this.singleTap=new Ps(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,d,f){this.singleTap.touchstart(i,d,f)}touchmove(i,d,f){this.singleTap.touchmove(i,d,f)}touchend(i,d,f){const y=this.singleTap.touchend(i,d,f);if(y){const M=i.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(y)<30;if(M&&O||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class wc{constructor(i){this._tr=new Pl(i),this._zoomIn=new Os({numTouches:1,numTaps:2}),this._zoomOut=new Os({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,d,f){this._zoomIn.touchstart(i,d,f),this._zoomOut.touchstart(i,d,f)}touchmove(i,d,f){this._zoomIn.touchmove(i,d,f),this._zoomOut.touchmove(i,d,f)}touchend(i,d,f){const y=this._zoomIn.touchend(i,d,f),M=this._zoomOut.touchend(i,d,f),O=this._tr;return y?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:O.zoom+1,around:O.unproject(y)},{originalEvent:i})}):M?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:O.zoom-1,around:O.unproject(M)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rs{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const d=this._moveFunction(...i);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(i,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,d){if(!this.isEnabled())return;const f=this._lastPoint;if(!f)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const y=d.length?d[0]:d;return!this._moved&&y.dist(f)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(f,y))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&ae.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ql={0:1,2:2};class Fs{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const d=ae.mouseButton(i);this._eventButton=d}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(d,f){const y=Ql[f];return void 0===d.buttons||(d.buttons&y)!==y}(i,this._eventButton)}isValidEndEvent(i){return ae.mouseButton(i)===this._eventButton}}class ec{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return 1===i.targetTouches.length}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const B=C=>{C.mousedown=C.dragStart,C.mousemoveWindow=C.dragMove,C.mouseup=C.dragEnd,C.contextmenu=function(i){i.preventDefault()}},he=({enable:C,clickTolerance:i,bearingDegreesPerPixelMoved:d=.8})=>{const f=new Fs({checkCorrectEvent:y=>0===ae.mouseButton(y)&&y.ctrlKey||2===ae.mouseButton(y)});return new Rs({clickTolerance:i,move:(y,M)=>({bearingDelta:(M.x-y.x)*d}),moveStateManager:f,enable:C,assignEvents:B})},Y=({enable:C,clickTolerance:i,pitchDegreesPerPixelMoved:d=-.5})=>{const f=new Fs({checkCorrectEvent:y=>0===ae.mouseButton(y)&&y.ctrlKey||2===ae.mouseButton(y)});return new Rs({clickTolerance:i,move:(y,M)=>({pitchDelta:(M.y-y.y)*d}),moveStateManager:f,enable:C,assignEvents:B})};class oe{constructor(i,d){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new g.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,d,f){return this._calculateTransform(i,d,f)}touchmove(i,d,f){if(this._map._cooperativeGestures&&(2===this._minTouches&&f.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,f.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(f.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,d,f)}touchend(i,d,f){this._calculateTransform(i,d,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,d,f){f.length>0&&(this._active=!0);const y=Ol(f,d),M=new g.Point(0,0),O=new g.Point(0,0);let R=0;for(const W in y){const Q=y[W],E=this._touches[W];E&&(M._add(Q),O._add(Q.sub(E)),R++,y[W]=Q)}if(this._touches=y,R<this._minTouches||!O.mag())return;const V=O.div(R);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:M.div(R),panDelta:V}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Me{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,d,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([d[0],d[1]]))}touchmove(i,d,f){if(!this._firstTwoTouches)return;i.preventDefault();const[y,M]=this._firstTwoTouches,O=Lt(f,d,y),R=Lt(f,d,M);if(!O||!R)return;const V=this._aroundCenter?null:O.add(R).div(2);return this._move([O,R],V,i)}touchend(i,d,f){if(!this._firstTwoTouches)return;const[y,M]=this._firstTwoTouches,O=Lt(f,d,y),R=Lt(f,d,M);O&&R||(this._active&&ae.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Lt(C,i,d){for(let f=0;f<C.length;f++)if(C[f].identifier===d)return i[f]}function Zt(C,i){return Math.log(C/i)/Math.LN2}class ji extends Me{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,d){const f=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Zt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Zt(this._distance,f),pinchAround:d}}}function lr(C,i){return 180*C.angleWith(i)/Math.PI}class li extends Me{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,d){const f=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:lr(this._vector,f),pinchAround:d}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const d=25/(Math.PI*this._minDiameter)*360,f=lr(i,this._startVector);return Math.abs(f)<d}}function Bn(C){return Math.abs(C.y)>Math.abs(C.x)}class In extends Me{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,d,f){super.touchstart(i,d,f),this._currentTouchCount=f.length}_start(i){this._lastPoints=i,Bn(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,d,f){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const y=i[0].sub(this._lastPoints[0]),M=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,M,f.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(y.y+M.y)/2*-.5}):void 0}gestureBeginsVertically(i,d,f){if(void 0!==this._valid)return this._valid;const y=i.mag()>=2,M=d.mag()>=2;if(!y&&!M)return;if(!y||!M)return void 0===this._firstMove&&(this._firstMove=f),f-this._firstMove<100&&void 0;const O=i.y>0==d.y>0;return Bn(i)&&Bn(d)&&O}}const $r={panStep:100,bearingStep:15,pitchStep:10};class tr{constructor(i){this._tr=new Pl(i);const d=$r;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let d=0,f=0,y=0,M=0,O=0;switch(i.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:i.shiftKey?f=-1:(i.preventDefault(),M=-1);break;case 39:i.shiftKey?f=1:(i.preventDefault(),M=1);break;case 38:i.shiftKey?y=1:(i.preventDefault(),O=-1);break;case 40:i.shiftKey?y=-1:(i.preventDefault(),O=1);break;default:return}return this._rotationDisabled&&(f=0,y=0),{cameraAnimation:R=>{const V=this._tr;R.easeTo({duration:300,easeId:"keyboardHandler",easing:qr,zoom:d?Math.round(V.zoom)+d*(i.shiftKey?2:1):V.zoom,bearing:V.bearing+f*this._bearingStep,pitch:V.pitch+y*this._pitchStep,offset:[-M*this._panStep,-O*this._panStep],center:V.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function qr(C){return C*(2-C)}const Es=4.000244140625;class jo{constructor(i,d){this._onTimeout=f=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)},this._map=i,this._tr=new Pl(i),this._el=i.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!i[this._map._metaKey])return;i.preventDefault()}let d=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const f=g.browser.now(),y=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,0!==d&&d%Es==0?this._type="wheel":0!==d&&Math.abs(d)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(y*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),i.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=i,this._delta-=d,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=ae.mousePos(this._el,i),f=this._tr;this._around=g.LngLat.convert(this._aroundCenter?f.center:f.unproject(d)),this._aroundPoint=f.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(0!==this._delta){const R="wheel"===this._type&&Math.abs(this._delta)>Es?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*R)));this._delta<0&&0!==V&&(V=1/V);const W="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(W*V))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d="number"==typeof this._targetZoom?this._targetZoom:i.zoom,f=this._startZoom,y=this._easing;let M,O=!1;if("wheel"===this._type&&f&&y){const R=Math.min((g.browser.now()-this._lastWheelEventTime)/200,1),V=y(R);M=g.interpolate.number(f,d,V),R<1?this._frameId||(this._frameId=!0):O=!0}else M=d,O=!0;return this._active=!0,O&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!O,zoomDelta:M-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let d=g.defaultEasing;if(this._prevEase){const f=this._prevEase,y=(g.browser.now()-f.start)/f.duration,M=f.easing(y+.01)-f.easing(y),O=.27/Math.sqrt(M*M+1e-4)*.01,R=Math.sqrt(.0729-O*O);d=g.bezier(O,R,.25,1)}return this._prevEase={start:g.browser.now(),duration:i,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class da{constructor(i,d){this._clickZoom=i,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Jo{constructor(i){this._tr=new Pl(i),this.reset()}reset(){this._active=!1}dblclick(i,d){return i.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fo{constructor(){this._tap=new Os({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,d,f){if(!this._swipePoint)if(this._tapTime){const y=d[0],M=i.timeStamp-this._tapTime<500,O=this._tapPoint.dist(y)<30;M&&O?f.length>0&&(this._swipePoint=y,this._swipeTouch=f[0].identifier):this.reset()}else this._tap.touchstart(i,d,f)}touchmove(i,d,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const y=d[0],M=y.y-this._swipePoint.y;return this._swipePoint=y,i.preventDefault(),this._active=!0,{zoomDelta:M/128}}}else this._tap.touchmove(i,d,f)}touchend(i,d,f){if(this._tapTime)this._swipePoint&&0===f.length&&this.reset();else{const y=this._tap.touchend(i,d,f);y&&(this._tapTime=i.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ws{constructor(i,d,f){this._el=i,this._mousePan=d,this._touchPan=f}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dn{constructor(i,d,f){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=d,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class un{constructor(i,d,f,y){this._el=i,this._touchZoom=d,this._touchRotate=f,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ls=C=>C.zoom||C.drag||C.pitch||C.rotate;class ul extends g.Event{}function Qr(C){return C.panDelta&&C.panDelta.mag()||C.zoomDelta||C.bearingDelta||C.pitchDelta}class Cc{constructor(i,d){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,M)=>{if("blur"===y.type)return void this.stop(!0);this._updatingCamera=!0;const O="renderFrame"===y.type?void 0:y,R={needsRenderFrame:!1},V={},W={},Q=y.touches,E=Q?this._getMapTouches(Q):void 0,I=E?ae.touchPos(this._el,E):ae.mousePos(this._el,y);for(const{handlerName:z,handler:j,allowed:re}of this._handlers){if(!j.isEnabled())continue;let Se;this._blockedByActive(W,re,z)?j.reset():j[M||y.type]&&(Se=j[M||y.type](y,I,E),this.mergeHandlerResult(R,V,Se,z,O),Se&&Se.needsRenderFrame&&this._triggerRenderFrame()),(Se||j.isActive())&&(W[z]=j)}const T={};for(const z in this._previousActiveHandlers)W[z]||(T[z]=O);this._previousActiveHandlers=W,(Object.keys(T).length||Qr(R))&&(this._changes.push([R,V,T]),this._triggerRenderFrame()),(Object.keys(W).length||Qr(R))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:k}=R;k&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],k(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ca(i),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[y,M,O]of this._listeners)ae.addEventListener(y,M,y===document?this.handleWindowEvent:this.handleEvent,O)}destroy(){for(const[i,d,f]of this._listeners)ae.removeEventListener(i,d,i===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(i){const d=this._map,f=d.getCanvasContainer();this._add("mapEvent",new po(d,i));const y=d.boxZoom=new Jl(d,i);this._add("boxZoom",y),i.interactive&&i.boxZoom&&y.enable();const M=new wc(d),O=new Jo(d);d.doubleClickZoom=new da(O,M),this._add("tapZoom",M),this._add("clickZoom",O),i.interactive&&i.doubleClickZoom&&d.doubleClickZoom.enable();const R=new fo;this._add("tapDragZoom",R);const V=d.touchPitch=new In(d);this._add("touchPitch",V),i.interactive&&i.touchPitch&&d.touchPitch.enable(i.touchPitch);const W=he(i),Q=Y(i);d.dragRotate=new dn(i,W,Q),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",Q,["mouseRotate"]),i.interactive&&i.dragRotate&&d.dragRotate.enable();const E=(({enable:re,clickTolerance:Se})=>{const ue=new Fs({checkCorrectEvent:je=>0===ae.mouseButton(je)&&!je.ctrlKey});return new Rs({clickTolerance:Se,move:(je,mt)=>({around:mt,panDelta:mt.sub(je)}),activateOnStart:!0,moveStateManager:ue,enable:re,assignEvents:B})})(i),I=new oe(i,d);d.dragPan=new Ws(f,E,I),this._add("mousePan",E),this._add("touchPan",I,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&d.dragPan.enable(i.dragPan);const T=new li,k=new ji;d.touchZoomRotate=new un(f,k,T,R),this._add("touchRotate",T,["touchPan","touchZoom"]),this._add("touchZoom",k,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&d.touchZoomRotate.enable(i.touchZoomRotate);const z=d.scrollZoom=new jo(d,()=>this._triggerRenderFrame());this._add("scrollZoom",z,["mousePan"]),i.interactive&&i.scrollZoom&&d.scrollZoom.enable(i.scrollZoom);const j=d.keyboard=new tr(d);this._add("keyboard",j),i.interactive&&i.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new kl(d))}_add(i,d,f){this._handlers.push({handlerName:i,handler:d,allowed:f}),this._handlersById[i]=d}stop(i){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ls(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,d,f){for(const y in i)if(y!==f&&(!d||d.indexOf(y)<0))return!0;return!1}_getMapTouches(i){const d=[];for(const f of i)this._el.contains(f.target)&&d.push(f);return d}mergeHandlerResult(i,d,f,y,M){if(!f)return;g.extend(i,f);const O={handlerName:y,originalEvent:f.originalEvent||M};void 0!==f.zoomDelta&&(d.zoom=O),void 0!==f.panDelta&&(d.drag=O),void 0!==f.pitchDelta&&(d.pitch=O),void 0!==f.bearingDelta&&(d.rotate=O)}_applyChanges(){const i={},d={},f={};for(const[y,M,O]of this._changes)y.panDelta&&(i.panDelta=(i.panDelta||new g.Point(0,0))._add(y.panDelta)),y.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+y.pitchDelta),void 0!==y.around&&(i.around=y.around),void 0!==y.pinchAround&&(i.pinchAround=y.pinchAround),y.noInertia&&(i.noInertia=y.noInertia),g.extend(d,M),g.extend(f,O);this._updateMapTransform(i,d,f),this._changes=[]}_updateMapTransform(i,d,f){const y=this._map,M=y._getTransformForUpdate(),O=y.terrain;if(!(Qr(i)||O&&this._terrainMovement))return this._fireEvents(d,f,!0);let{panDelta:R,zoomDelta:V,bearingDelta:W,pitchDelta:Q,around:E,pinchAround:I}=i;void 0!==I&&(E=I),y._stop(!0),E=E||y.transform.centerPoint;const T=M.pointLocation(R?E.sub(R):E);W&&(M.bearing+=W),Q&&(M.pitch+=Q),V&&(M.zoom+=V),O?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?M.center=M.pointLocation(M.centerPoint.sub(R)):M.setLocationAtPoint(T,E):(this._terrainMovement=!0,this._map._elevationFreeze=!0,M.setLocationAtPoint(T,E),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,M.recalculateZoom(y.terrain)})):M.setLocationAtPoint(T,E),y._applyUpdatedTransform(M),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(d,f,!0)}_fireEvents(i,d,f){const y=Ls(this._eventsInProgress),M=Ls(i),O={};for(const Q in i){const{originalEvent:E}=i[Q];this._eventsInProgress[Q]||(O[`${Q}start`]=E),this._eventsInProgress[Q]=i[Q]}!y&&M&&this._fireEvent("movestart",M.originalEvent);for(const Q in O)this._fireEvent(Q,O[Q]);M&&this._fireEvent("move",M.originalEvent);for(const Q in i){const{originalEvent:E}=i[Q];this._fireEvent(Q,E)}const R={};let V;for(const Q in this._eventsInProgress){const{handlerName:E,originalEvent:I}=this._eventsInProgress[Q];this._handlersById[E].isActive()||(delete this._eventsInProgress[Q],V=d[E]||I,R[`${Q}end`]=V)}for(const Q in R)this._fireEvent(Q,R[Q]);const W=Ls(this._eventsInProgress);if(f&&(y||M)&&!W){this._updatingCamera=!0;const Q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),E=I=>0!==I&&-this._bearingSnap<I&&I<this._bearingSnap;!Q||!Q.essential&&g.browser.prefersReducedMotion?(this._map.fire(new g.Event("moveend",{originalEvent:V})),E(this._map.getBearing())&&this._map.resetNorth()):(E(Q.bearing||this._map.getBearing())&&(Q.bearing=0),Q.freezeElevation=!0,this._map.easeTo(Q,{originalEvent:V})),this._updatingCamera=!1}}_fireEvent(i,d){this._map.fire(new g.Event(i,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new ul("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Ns extends g.Evented{constructor(i,d){super(),this._renderFrameCallback=()=>{const f=Math.min((g.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new g.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,d){return this.jumpTo({center:i},d)}panBy(i,d,f){return i=g.Point.convert(i).mult(-1),this.panTo(this.transform.center,g.extend({offset:i},d),f)}panTo(i,d,f){return this.easeTo(g.extend({center:i},d),f)}getZoom(){return this.transform.zoom}setZoom(i,d){return this.jumpTo({zoom:i},d),this}zoomTo(i,d,f){return this.easeTo(g.extend({zoom:i},d),f)}zoomIn(i,d){return this.zoomTo(this.getZoom()+1,i,d),this}zoomOut(i,d){return this.zoomTo(this.getZoom()-1,i,d),this}getBearing(){return this.transform.bearing}setBearing(i,d){return this.jumpTo({bearing:i},d),this}getPadding(){return this.transform.padding}setPadding(i,d){return this.jumpTo({padding:i},d),this}rotateTo(i,d,f){return this.easeTo(g.extend({bearing:i},d),f)}resetNorth(i,d){return this.rotateTo(0,g.extend({duration:1e3},i),d),this}resetNorthPitch(i,d){return this.easeTo(g.extend({bearing:0,pitch:0,duration:1e3},i),d),this}snapToNorth(i,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,d):this}getPitch(){return this.transform.pitch}setPitch(i,d){return this.jumpTo({pitch:i},d),this}cameraForBounds(i,d){i=xt.convert(i);const f=d&&d.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),f,d)}_cameraForBoxAndBearing(i,d,f,y){const M={top:0,bottom:0,right:0,left:0};if("number"==typeof(y=g.extend({padding:M,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding){const mt=y.padding;y.padding={top:mt,bottom:mt,right:mt,left:mt}}y.padding=g.extend(M,y.padding);const O=this.transform,R=O.padding,V=O.project(g.LngLat.convert(i)),W=O.project(g.LngLat.convert(d)),Q=V.rotate(-f*Math.PI/180),E=W.rotate(-f*Math.PI/180),I=new g.Point(Math.max(Q.x,E.x),Math.max(Q.y,E.y)),T=new g.Point(Math.min(Q.x,E.x),Math.min(Q.y,E.y)),k=I.sub(T),z=(O.width-(R.left+R.right+y.padding.left+y.padding.right))/k.x,j=(O.height-(R.top+R.bottom+y.padding.top+y.padding.bottom))/k.y;if(j<0||z<0)return void g.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const re=Math.min(O.scaleZoom(O.scale*Math.min(z,j)),y.maxZoom),Se=g.Point.convert(y.offset),ue=new g.Point((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(f*Math.PI/180),je=Se.add(ue).mult(O.scale/O.zoomScale(re));return{center:O.unproject(V.add(W).div(2).sub(je)),zoom:re,bearing:f}}fitBounds(i,d,f){return this._fitInternal(this.cameraForBounds(i,d),d,f)}fitScreenCoordinates(i,d,f,y,M){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(g.Point.convert(i)),this.transform.pointLocation(g.Point.convert(d)),f,y),y,M)}_fitInternal(i,d,f){return i?(delete(d=g.extend(i,d)).padding,d.linear?this.easeTo(d,f):this.flyTo(d,f)):this}jumpTo(i,d){this.stop();const f=this._getTransformForUpdate();let y=!1,M=!1,O=!1;return"zoom"in i&&f.zoom!==+i.zoom&&(y=!0,f.zoom=+i.zoom),void 0!==i.center&&(f.center=g.LngLat.convert(i.center)),"bearing"in i&&f.bearing!==+i.bearing&&(M=!0,f.bearing=+i.bearing),"pitch"in i&&f.pitch!==+i.pitch&&(O=!0,f.pitch=+i.pitch),null==i.padding||f.isPaddingEqual(i.padding)||(f.padding=i.padding),this._applyUpdatedTransform(f),this.fire(new g.Event("movestart",d)).fire(new g.Event("move",d)),y&&this.fire(new g.Event("zoomstart",d)).fire(new g.Event("zoom",d)).fire(new g.Event("zoomend",d)),M&&this.fire(new g.Event("rotatestart",d)).fire(new g.Event("rotate",d)).fire(new g.Event("rotateend",d)),O&&this.fire(new g.Event("pitchstart",d)).fire(new g.Event("pitch",d)).fire(new g.Event("pitchend",d)),this.fire(new g.Event("moveend",d))}calculateCameraOptionsFromTo(i,d,f,y=0){const M=g.MercatorCoordinate.fromLngLat(i,d),O=g.MercatorCoordinate.fromLngLat(f,y),R=O.x-M.x,V=O.y-M.y,W=O.z-M.z,Q=Math.hypot(R,V,W);if(0===Q)throw new Error("Can't calculate camera options with same From and To");const E=Math.hypot(R,V),I=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Q/this.transform.tileSize),T=180*Math.atan2(R,-V)/Math.PI;let k=180*Math.acos(E/Q)/Math.PI;return k=W<0?90-k:90+k,{center:O.toLngLat(),zoom:I,pitch:k,bearing:T}}easeTo(i,d){this._stop(!1,i.easeId),(!1===(i=g.extend({offset:[0,0],duration:500,easing:g.defaultEasing},i)).animate||!i.essential&&g.browser.prefersReducedMotion)&&(i.duration=0);const f=this._getTransformForUpdate(),y=this.getZoom(),M=this.getBearing(),O=this.getPitch(),R=this.getPadding(),V="zoom"in i?+i.zoom:y,W="bearing"in i?this._normalizeBearing(i.bearing,M):M,Q="pitch"in i?+i.pitch:O,E="padding"in i?i.padding:f.padding,I=g.Point.convert(i.offset);let T=f.centerPoint.add(I);const k=f.pointLocation(T),z=g.LngLat.convert(i.center||k);this._normalizeCenter(z);const j=f.project(k),re=f.project(z).sub(j),Se=f.zoomScale(V-y);let ue,je;i.around&&(ue=g.LngLat.convert(i.around),je=f.locationPoint(ue));const mt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||V!==y,this._rotating=this._rotating||M!==W,this._pitching=this._pitching||Q!==O,this._padding=!f.isPaddingEqual(E),this._easeId=i.easeId,this._prepareEase(d,i.noMoveStart,mt),this.terrain&&this._prepareElevation(z),this._ease(Dt=>{if(this._zooming&&(f.zoom=g.interpolate.number(y,V,Dt)),this._rotating&&(f.bearing=g.interpolate.number(M,W,Dt)),this._pitching&&(f.pitch=g.interpolate.number(O,Q,Dt)),this._padding&&(f.interpolatePadding(R,E,Dt),T=f.centerPoint.add(I)),this.terrain&&!i.freezeElevation&&this._updateElevation(Dt),ue)f.setLocationAtPoint(ue,je);else{const Rt=f.zoomScale(f.zoom-y),ii=V>y?Math.min(2,Se):Math.max(.5,Se),qt=Math.pow(ii,1-Dt),ui=f.unproject(j.add(re.mult(Dt*qt)).mult(Rt));f.setLocationAtPoint(f.renderWorldCopies?ui.wrap():ui,T)}this._applyUpdatedTransform(f),this._fireMoveEvents(d)},Dt=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Dt)},i),this}_prepareEase(i,d,f={}){this._moving=!0,d||f.moving||this.fire(new g.Event("movestart",i)),this._zooming&&!f.zooming&&this.fire(new g.Event("zoomstart",i)),this._rotating&&!f.rotating&&this.fire(new g.Event("rotatestart",i)),this._pitching&&!f.pitching&&this.fire(new g.Event("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&d!==this._elevationTarget){const f=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(f-(d-(f*i+this._elevationStart))/(1-i)),this._elevationTarget=d}this.transform.elevation=g.interpolate.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(i){if(!this.transformCameraUpdate)return;const d=i.clone(),{center:f,zoom:y,pitch:M,bearing:O,elevation:R}=this.transformCameraUpdate(d);f&&(d.center=f),void 0!==y&&(d.zoom=y),void 0!==M&&(d.pitch=M),void 0!==O&&(d.bearing=O),void 0!==R&&(d.elevation=R),this.transform.apply(d)}_fireMoveEvents(i){this.fire(new g.Event("move",i)),this._zooming&&this.fire(new g.Event("zoom",i)),this._rotating&&this.fire(new g.Event("rotate",i)),this._pitching&&this.fire(new g.Event("pitch",i))}_afterEase(i,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const f=this._zooming,y=this._rotating,M=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new g.Event("zoomend",i)),y&&this.fire(new g.Event("rotateend",i)),M&&this.fire(new g.Event("pitchend",i)),this.fire(new g.Event("moveend",i))}flyTo(i,d){if(!i.essential&&g.browser.prefersReducedMotion){const Di=g.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Di,d)}this.stop(),i=g.extend({offset:[0,0],speed:1.2,curve:1.42,easing:g.defaultEasing},i);const f=this._getTransformForUpdate(),y=this.getZoom(),M=this.getBearing(),O=this.getPitch(),R=this.getPadding(),V="zoom"in i?g.clamp(+i.zoom,f.minZoom,f.maxZoom):y,W="bearing"in i?this._normalizeBearing(i.bearing,M):M,Q="pitch"in i?+i.pitch:O,E="padding"in i?i.padding:f.padding,I=f.zoomScale(V-y),T=g.Point.convert(i.offset);let k=f.centerPoint.add(T);const z=f.pointLocation(k),j=g.LngLat.convert(i.center||z);this._normalizeCenter(j);const re=f.project(z),Se=f.project(j).sub(re);let ue=i.curve;const je=Math.max(f.width,f.height),mt=je/I,Dt=Se.mag();if("minZoom"in i){const Di=g.clamp(Math.min(i.minZoom,y,V),f.minZoom,f.maxZoom),Lr=je/f.zoomScale(Di-y);ue=Math.sqrt(Lr/Dt*2)}const Rt=ue*ue;function ii(Di){const Lr=(mt*mt-je*je+(Di?-1:1)*Rt*Rt*Dt*Dt)/(2*(Di?mt:je)*Rt*Dt);return Math.log(Math.sqrt(Lr*Lr+1)-Lr)}function qt(Di){return(Math.exp(Di)-Math.exp(-Di))/2}function ui(Di){return(Math.exp(Di)+Math.exp(-Di))/2}const Bi=ii(!1);let hn=function(Di){return ui(Bi)/ui(Bi+ue*Di)},pi=function(Di){return je*((ui(Bi)*(qt(Lr=Bi+ue*Di)/ui(Lr))-qt(Bi))/Rt)/Dt;var Lr},rn=(ii(!0)-Bi)/ue;if(Math.abs(Dt)<1e-6||!isFinite(rn)){if(Math.abs(je-mt)<1e-6)return this.easeTo(i,d);const Di=mt<je?-1:1;rn=Math.abs(Math.log(mt/je))/ue,pi=function(){return 0},hn=function(Lr){return Math.exp(Di*ue*Lr)}}return i.duration="duration"in i?+i.duration:1e3*rn/("screenSpeed"in i?+i.screenSpeed/ue:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=M!==W,this._pitching=Q!==O,this._padding=!f.isPaddingEqual(E),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(j),this._ease(Di=>{const Lr=Di*rn,Cn=1/hn(Lr);f.zoom=1===Di?V:y+f.scaleZoom(Cn),this._rotating&&(f.bearing=g.interpolate.number(M,W,Di)),this._pitching&&(f.pitch=g.interpolate.number(O,Q,Di)),this._padding&&(f.interpolatePadding(R,E,Di),k=f.centerPoint.add(T)),this.terrain&&!i.freezeElevation&&this._updateElevation(Di);const En=1===Di?j:f.unproject(re.add(Se.mult(pi(Lr))).mult(Cn));f.setLocationAtPoint(f.renderWorldCopies?En.wrap():En,k),this._applyUpdatedTransform(f),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,d)}if(!i){const f=this.handlers;f&&f.stop(!1)}return this}_ease(i,d,f){!1===f.animate||0===f.duration?(i(1),d()):(this._easeStart=g.browser.now(),this._easeOptions=f,this._onEaseFrame=i,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,d){i=g.wrap(i,-180,180);const f=Math.abs(i-d);return Math.abs(i-360-d)<f&&(i-=360),Math.abs(i+360-d)<f&&(i+=360),i}_normalizeCenter(i){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const f=i.lng-d.center.lng;i.lng+=f>180?-360:f<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(g.LngLat.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}class Na{constructor(i={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||"metadata"!==d.sourceDataType&&"visibility"!==d.sourceDataType&&"style"!==d.dataType&&"terrain"!==d.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=ae.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=ae.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ae.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){ae.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,d){const f=this._map._getUIString(`AttributionControl.${d}`);i.title=f,i.setAttribute("aria-label",f)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(y=>"string"!=typeof y?"":y)):"string"==typeof this.options.customAttribution&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}const d=this._map.style.sourceCaches;for(const y in d){const M=d[y];if(M.used||M.usedForTerrain){const O=M.getSource();O.attribution&&i.indexOf(O.attribution)<0&&i.push(O.attribution)}}i=i.filter(y=>String(y).trim()),i.sort((y,M)=>y.length-M.length),i=i.filter((y,M)=>{for(let O=M+1;O<i.length;O++)if(i[O].indexOf(y)>=0)return!1;return!0});const f=i.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,i.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ir{constructor(i={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const f=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=ae.create("div","maplibregl-ctrl");const d=ae.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ae.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Rr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const d=++this._id;return this._queue.push({callback:i,id:d,cancelled:!1}),d}remove(i){const d=this._currentlyRunning,f=d?this._queue.concat(d):this._queue;for(const y of f)if(y.id===i)return void(y.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const f of d)if(!f.cancelled&&(f.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Ec={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var tc=g.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Ds extends g.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,d){this.sourceCache.update(i,d),this._renderableTilesKeys=[];const f={};for(const y of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))f[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.posMatrix=new Float64Array(16),g.ortho(y.posMatrix,0,g.EXTENT,0,g.EXTENT,0,1),this._tiles[y.key]=new dt(y,this.tileSize));for(const y in this._tiles)f[y]||delete this._tiles[y]}freeRtt(i){for(const d in this._tiles){const f=this._tiles[d];(!i||f.tileID.equals(i)||f.tileID.isChildOf(i)||i.isChildOf(f.tileID))&&(f.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const d={};for(const f of this._renderableTilesKeys){const y=this._tiles[f].tileID;if(y.canonical.equals(i.canonical)){const M=i.clone();M.posMatrix=new Float64Array(16),g.ortho(M.posMatrix,0,g.EXTENT,0,g.EXTENT,0,1),d[f]=M}else if(y.canonical.isChildOf(i.canonical)){const M=i.clone();M.posMatrix=new Float64Array(16);const O=y.canonical.z-i.canonical.z,R=y.canonical.x-(y.canonical.x>>O<<O),V=y.canonical.y-(y.canonical.y>>O<<O),W=g.EXTENT>>O;g.ortho(M.posMatrix,0,W,0,W,0,1),g.translate(M.posMatrix,M.posMatrix,[-R*W,-V*W,0]),d[f]=M}else if(i.canonical.isChildOf(y.canonical)){const M=i.clone();M.posMatrix=new Float64Array(16);const O=i.canonical.z-y.canonical.z,R=i.canonical.x-(i.canonical.x>>O<<O),V=i.canonical.y-(i.canonical.y>>O<<O),W=g.EXTENT>>O;g.ortho(M.posMatrix,0,g.EXTENT,0,g.EXTENT,0,1),g.translate(M.posMatrix,M.posMatrix,[R*W,V*W,0]),g.scale(M.posMatrix,M.posMatrix,[1/2**O,1/2**O,0]),d[f]=M}}return d}getSourceTile(i,d){const f=this.sourceCache._source;let y=i.overscaledZ-this.deltaZoom;if(y>f.maxzoom&&(y=f.maxzoom),y<f.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(y).key);let M=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!M||!M.dem)&&d)for(;y>=f.minzoom&&(!M||!M.dem);)M=this.sourceCache.getTileByID(i.scaledTo(y--).key);return M}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=i)}}class Dd{constructor(i,d,f){this.painter=i,this.sourceCache=new Ds(d),this.options=f,this.exaggeration="number"==typeof f.exaggeration?f.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,d,f,y=g.EXTENT){var M;if(!(d>=0&&d<y&&f>=0&&f<y))return 0;const O=this.getTerrainData(i),R=null===(M=O.tile)||void 0===M?void 0:M.dem;if(!R)return 0;const V=((k=[])[0]=(j=O.u_terrain_matrix)[0]*(re=(z=[d/y*g.EXTENT,f/y*g.EXTENT])[0])+j[4]*(Se=z[1])+j[12],k[1]=j[1]*re+j[5]*Se+j[13],k),W=[V[0]*R.dim,V[1]*R.dim],Q=Math.floor(W[0]),E=Math.floor(W[1]),I=W[0]-Q,T=W[1]-E;var k,z,j,re,Se;return R.get(Q,E)*(1-I)*(1-T)+R.get(Q+1,E)*I*(1-T)+R.get(Q,E+1)*(1-I)*T+R.get(Q+1,E+1)*I*T}getElevationForLngLatZoom(i,d){const{tileID:f,mercatorX:y,mercatorY:M}=this._getOverscaledTileIDFromLngLatZoom(i,d);return this.getElevation(f,y%g.EXTENT,M%g.EXTENT,g.EXTENT)}getElevation(i,d,f,y=g.EXTENT){return this.getDEMElevation(i,d,f,y)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const y=this.painter.context,M=new g.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new $e(y,M,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new $e(y,new g.RGBAImage({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=g.identity([])}const d=this.sourceCache.getSourceTile(i,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const y=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new $e(y,d.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),d.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const f=d&&d+d.tileID.key+i.key;if(f&&!this._demMatrixCache[f]){const y=this.sourceCache.sourceCache._source.maxzoom;let M=i.canonical.z-d.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=y?M=i.canonical.z-y:g.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const O=i.canonical.x-(i.canonical.x>>M<<M),R=i.canonical.y-(i.canonical.y>>M<<M),V=g.fromScaling(new Float64Array(16),[1/(g.EXTENT<<M),1/(g.EXTENT<<M),0]);g.translate(V,V,[O*g.EXTENT,R*g.EXTENT,0]),this._demMatrixCache[i.key]={matrix:V,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(i){const d=this.painter,f=d.width/devicePixelRatio,y=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new $e(d.context,{width:f,height:y,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new $e(d.context,{width:f,height:y,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(f,y,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,f,y))),this._fbo.colorAttachment.set("coords"===i?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let M=0,O=0;M<this._coordsTextureSize;M++)for(let R=0;R<this._coordsTextureSize;R++,O+=4)d[O+0]=255&R,d[O+1]=255&M,d[O+2]=R>>8<<4|M>>8,d[O+3]=0;const f=new g.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),y=new $e(i,f,i.gl.RGBA,{premultiply:!1});return y.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(i){const d=new Uint8Array(4),f=this.painter.context,y=f.gl;f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,d),f.bindFramebuffer.set(null);const M=d[0]+(d[2]>>4<<8),O=d[1]+((15&d[2])<<8),R=this.coordsIndex[255-d[3]],V=R&&this.sourceCache.getTileByID(R);if(!V)return null;const W=this._coordsTextureSize,Q=(1<<V.tileID.canonical.z)*W;return new g.MercatorCoordinate((V.tileID.canonical.x*W+M)/Q,(V.tileID.canonical.y*W+O)/Q,this.getElevation(V.tileID,M,O,W))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,d=new g.Pos3dArray,f=new g.TriangleIndexArray,y=this.meshSize,M=g.EXTENT/y,O=y*y;for(let E=0;E<=y;E++)for(let I=0;I<=y;I++)d.emplaceBack(I*M,E*M,0);for(let E=0;E<O;E+=y+1)for(let I=0;I<y;I++)f.emplaceBack(I+E,y+I+E+1,y+I+E+2),f.emplaceBack(I+E,y+I+E+2,I+E+1);const R=d.length,V=R+2*(y+1);for(const E of[0,1])for(let I=0;I<=y;I++)for(const T of[0,1])d.emplaceBack(I*M,E*g.EXTENT,T);for(let E=0;E<2*y;E+=2)f.emplaceBack(V+E,V+E+1,V+E+3),f.emplaceBack(V+E,V+E+3,V+E+2),f.emplaceBack(R+E,R+E+3,R+E+1),f.emplaceBack(R+E,R+E+2,R+E+3);const W=d.length,Q=W+2*(y+1);for(const E of[0,1])for(let I=0;I<=y;I++)for(const T of[0,1])d.emplaceBack(E*g.EXTENT,I*M,T);for(let E=0;E<2*y;E+=2)f.emplaceBack(W+E,W+E+1,W+E+3),f.emplaceBack(W+E,W+E+3,W+E+2),f.emplaceBack(Q+E,Q+E+3,Q+E+1),f.emplaceBack(Q+E,Q+E+2,Q+E+3);return this._mesh={indexBuffer:i.createIndexBuffer(f),vertexBuffer:i.createVertexBuffer(d,tc.members),segments:g.SegmentVector.simpleSegment(0,0,d.length,f.length)},this._mesh}getMeshFrameDelta(i){return 2*Math.PI*g.earthRadius/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,d){var f;const{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(i,d);return null!==(f=this.getMinMaxElevation(y).minElevation)&&void 0!==f?f:0}getMinMaxElevation(i){const d=this.getTerrainData(i).tile,f={minElevation:null,maxElevation:null};return d&&d.dem&&(f.minElevation=d.dem.min*this.exaggeration,f.maxElevation=d.dem.max*this.exaggeration),f}_getOverscaledTileIDFromLngLatZoom(i,d){const f=g.MercatorCoordinate.fromLngLat(i.wrap()),y=(1<<d)*g.EXTENT,M=f.x*y,O=f.y*y,R=Math.floor(M/g.EXTENT),V=Math.floor(O/g.EXTENT);return{tileID:new g.OverscaledTileID(d,0,d,R,V),mercatorX:M,mercatorY:O}}}class qc{constructor(i,d,f){this._context=i,this._size=d,this._tileSize=f,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),f=new $e(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return f.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(f.texture),{id:i,fbo:d,texture:f,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>i.id!==d),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(i=>!i.inUse)}}const hs={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ua{constructor(i,d){this.painter=i,this.terrain=d,this.pool=new qc(i.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(f=>!i._layers[f].isHidden(d)),this._coordsDescendingInv={};for(const f in i.sourceCaches){this._coordsDescendingInv[f]={};const y=i.sourceCaches[f].getVisibleCoordinates();for(const M of y){const O=this.terrain.sourceCache.getTerrainCoords(M);for(const R in O)this._coordsDescendingInv[f][R]||(this._coordsDescendingInv[f][R]=[]),this._coordsDescendingInv[f][R].push(O[R])}}this._coordsDescendingInvStr={};for(const f of i._order){const y=i._layers[f],M=y.source;if(hs[y.type]&&!this._coordsDescendingInvStr[M]){this._coordsDescendingInvStr[M]={};for(const O in this._coordsDescendingInv[M])this._coordsDescendingInvStr[M][O]=this._coordsDescendingInv[M][O].map(R=>R.key).sort().join()}}for(const f of this._renderableTiles)for(const y in this._coordsDescendingInvStr){const M=this._coordsDescendingInvStr[y][f.tileID.key];M&&M!==f.rttCoords[y]&&(f.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const d=i.type,f=this.painter,y=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(hs[d]&&(this._prevType&&hs[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(i.id),!y))return!0;if(hs[this._prevType]||hs[d]&&y){this._prevType=d;const M=this._stacks.length-1,O=this._stacks[M]||[];for(const R of this._renderableTiles){if(this.pool.isFull()&&(xo(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(R),R.rtt[M]){const W=this.pool.getObjectForId(R.rtt[M].id);if(W.stamp===R.rtt[M].stamp){this.pool.useObject(W);continue}}const V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),R.rtt[M]={id:V.id,stamp:V.stamp},f.context.bindFramebuffer.set(V.fbo.framebuffer),f.context.clear({color:g.Color.transparent,stencil:0}),f.currentStencilSource=void 0;for(let W=0;W<O.length;W++){const Q=f.style._layers[O[W]],E=Q.source?this._coordsDescendingInv[Q.source][R.tileID.key]:[R.tileID];f.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),f._renderTileClippingMasks(Q,E),f.renderLayer(f,f.style.sourceCaches[Q.source],Q,E),Q.source&&(R.rttCoords[Q.source]=this._coordsDescendingInvStr[Q.source][R.tileID.key])}}return xo(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),hs[d]}return!1}}const en={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:g.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},di=C=>{C.touchstart=C.dragStart,C.touchmoveWindow=C.dragMove,C.touchend=C.dragEnd},Rl={showCompass:!0,showZoom:!0,visualizePitch:!1};class Mc{constructor(i,d,f=!1){this.mousedown=O=>{this.startMouse(g.extend({},O,{ctrlKey:!0,preventDefault:()=>O.preventDefault()}),ae.mousePos(this.element,O)),ae.addEventListener(window,"mousemove",this.mousemove),ae.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=O=>{this.moveMouse(O,ae.mousePos(this.element,O))},this.mouseup=O=>{this.mouseRotate.dragEnd(O),this.mousePitch&&this.mousePitch.dragEnd(O),this.offTemp()},this.touchstart=O=>{1!==O.targetTouches.length?this.reset():(this._startPos=this._lastPos=ae.touchPos(this.element,O.targetTouches)[0],this.startTouch(O,this._startPos),ae.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.addEventListener(window,"touchend",this.touchend))},this.touchmove=O=>{1!==O.targetTouches.length?this.reset():(this._lastPos=ae.touchPos(this.element,O.targetTouches)[0],this.moveTouch(O,this._lastPos))},this.touchend=O=>{0===O.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const y=i.dragRotate._mouseRotate.getClickTolerance(),M=i.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=he({clickTolerance:y,enable:!0}),this.touchRotate=(({enable:O,clickTolerance:R,bearingDegreesPerPixelMoved:V=.8})=>{const W=new ec;return new Rs({clickTolerance:R,move:(Q,E)=>({bearingDelta:(E.x-Q.x)*V}),moveStateManager:W,enable:O,assignEvents:di})})({clickTolerance:y,enable:!0}),this.map=i,f&&(this.mousePitch=Y({clickTolerance:M,enable:!0}),this.touchPitch=(({enable:O,clickTolerance:R,pitchDegreesPerPixelMoved:V=-.5})=>{const W=new ec;return new Rs({clickTolerance:R,move:(Q,E)=>({pitchDelta:(E.y-Q.y)*V}),moveStateManager:W,enable:O,assignEvents:di})})({clickTolerance:M,enable:!0})),ae.addEventListener(d,"mousedown",this.mousedown),ae.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),ae.addEventListener(d,"touchcancel",this.reset)}startMouse(i,d){this.mouseRotate.dragStart(i,d),this.mousePitch&&this.mousePitch.dragStart(i,d),ae.disableDrag()}startTouch(i,d){this.touchRotate.dragStart(i,d),this.touchPitch&&this.touchPitch.dragStart(i,d),ae.disableDrag()}moveMouse(i,d){const f=this.map,{bearingDelta:y}=this.mouseRotate.dragMove(i,d)||{};if(y&&f.setBearing(f.getBearing()+y),this.mousePitch){const{pitchDelta:M}=this.mousePitch.dragMove(i,d)||{};M&&f.setPitch(f.getPitch()+M)}}moveTouch(i,d){const f=this.map,{bearingDelta:y}=this.touchRotate.dragMove(i,d)||{};if(y&&f.setBearing(f.getBearing()+y),this.touchPitch){const{pitchDelta:M}=this.touchPitch.dragMove(i,d)||{};M&&f.setPitch(f.getPitch()+M)}}off(){const i=this.element;ae.removeEventListener(i,"mousedown",this.mousedown),ae.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),ae.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.removeEventListener(window,"touchend",this.touchend),ae.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){ae.enableDrag(),ae.removeEventListener(window,"mousemove",this.mousemove),ae.removeEventListener(window,"mouseup",this.mouseup),ae.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.removeEventListener(window,"touchend",this.touchend)}}let qs;function go(C,i,d){if(C=new g.LngLat(C.lng,C.lat),i){const f=new g.LngLat(C.lng-360,C.lat),y=new g.LngLat(C.lng+360,C.lat),M=d.locationPoint(C).distSqr(i);d.locationPoint(f).distSqr(i)<M?C=f:d.locationPoint(y).distSqr(i)<M&&(C=y)}for(;Math.abs(C.lng-d.center.lng)>180;){const f=d.locationPoint(C);if(f.x>=0&&f.y>=0&&f.x<=d.width&&f.y<=d.height)break;C.lng>d.center.lng?C.lng-=360:C.lng+=360}return C}const Sc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Qo(C,i,d){const f=C.classList;for(const y in Sc)f.remove(`maplibregl-${d}-anchor-${y}`);f.add(`maplibregl-${d}-anchor-${i}`)}class za extends g.Evented{constructor(i){if(super(),this._onKeyPress=d=>{const f=d.code,y=d.charCode||d.keyCode;"Space"!==f&&"Enter"!==f&&32!==y&&13!==y||this.togglePopup()},this._onMapClick=d=>{const f=d.originalEvent.target,y=this._element;this._popup&&(f===y||y.contains(f))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const f=this._map.loaded()&&!this._map.isMoving();("terrain"===d?.type||"render"===d?.type&&!f)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=go(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let y="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?y=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let M="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?M="rotateX(0deg)":"map"===this._pitchAlignment&&(M=`rotateX(${this._map.getPitch()}deg)`),d&&"moveend"!==d.type||(this._pos=this._pos.round()),ae.setTransform(this._element,`${Sc[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${M} ${y}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const O=this._map.unproject(this._pos),R=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=O.distanceTo(this._lngLat)>20*R?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new g.Event("dragstart"))),this.fire(new g.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new g.Event("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=g.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ae.create("div"),this._element.setAttribute("aria-label","Map marker");const d=ae.createNS("http://www.w3.org/2000/svg","svg"),f=41,y=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${f}px`),d.setAttributeNS(null,"width",`${y}px`),d.setAttributeNS(null,"viewBox",`0 0 ${y} ${f}`);const M=ae.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"stroke","none"),M.setAttributeNS(null,"stroke-width","1"),M.setAttributeNS(null,"fill","none"),M.setAttributeNS(null,"fill-rule","evenodd");const O=ae.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"fill-rule","nonzero");const R=ae.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"transform","translate(3.0, 29.0)"),R.setAttributeNS(null,"fill","#000000");const V=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const re of V){const Se=ae.createNS("http://www.w3.org/2000/svg","ellipse");Se.setAttributeNS(null,"opacity","0.04"),Se.setAttributeNS(null,"cx","10.5"),Se.setAttributeNS(null,"cy","5.80029008"),Se.setAttributeNS(null,"rx",re.rx),Se.setAttributeNS(null,"ry",re.ry),R.appendChild(Se)}const W=ae.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"fill",this._color);const Q=ae.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),W.appendChild(Q);const E=ae.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"opacity","0.25"),E.setAttributeNS(null,"fill","#000000");const I=ae.createNS("http://www.w3.org/2000/svg","path");I.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),E.appendChild(I);const T=ae.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"transform","translate(6.0, 7.0)"),T.setAttributeNS(null,"fill","#FFFFFF");const k=ae.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(8.0, 8.0)");const z=ae.createNS("http://www.w3.org/2000/svg","circle");z.setAttributeNS(null,"fill","#000000"),z.setAttributeNS(null,"opacity","0.25"),z.setAttributeNS(null,"cx","5.5"),z.setAttributeNS(null,"cy","5.5"),z.setAttributeNS(null,"r","5.4999962");const j=ae.createNS("http://www.w3.org/2000/svg","circle");j.setAttributeNS(null,"fill","#FFFFFF"),j.setAttributeNS(null,"cx","5.5"),j.setAttributeNS(null,"cy","5.5"),j.setAttributeNS(null,"r","5.4999962"),k.appendChild(z),k.appendChild(j),O.appendChild(R),O.appendChild(W),O.appendChild(E),O.appendChild(T),O.appendChild(k),d.appendChild(O),d.setAttributeNS(null,"height",f*this._scale+"px"),d.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(d),this._offset=g.Point.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),Qo(this._element,this._anchor,"marker"),i&&i.className)for(const d of i.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ae.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=g.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const y=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(24.6+y)],"bottom-right":[-y,-1*(24.6+y)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(i){return this._offset=g.Point.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&"auto"!==i?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const ic={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Fr=0,Br=!1;const ou={maxWidth:100,unit:"metric"};function hl(C,i,d){const f=d&&d.maxWidth||100,y=C._container.clientHeight/2,M=C.unproject([0,y]),O=C.unproject([f,y]),R=M.distanceTo(O);if(d&&"imperial"===d.unit){const V=3.2808*R;V>5280?ti(i,f,V/5280,C._getUIString("ScaleControl.Miles")):ti(i,f,V,C._getUIString("ScaleControl.Feet"))}else d&&"nautical"===d.unit?ti(i,f,R/1852,C._getUIString("ScaleControl.NauticalMiles")):R>=1e3?ti(i,f,R/1e3,C._getUIString("ScaleControl.Kilometers")):ti(i,f,R,C._getUIString("ScaleControl.Meters"))}function ti(C,i,d,f){const y=function(M){const O=Math.pow(10,`${Math.floor(M)}`.length-1);let R=M/O;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(V){const W=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*W)/W}(R),O*R}(d);C.style.width=i*(y/d)+"px",C.innerHTML=`${y}&nbsp;${f}`}const Fn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function rc(C){if(C){if("number"==typeof C){const i=Math.round(Math.abs(C)/Math.SQRT2);return{center:new g.Point(0,0),top:new g.Point(0,C),"top-left":new g.Point(i,i),"top-right":new g.Point(-i,i),bottom:new g.Point(0,-C),"bottom-left":new g.Point(i,-i),"bottom-right":new g.Point(-i,-i),left:new g.Point(C,0),right:new g.Point(-C,0)}}if(C instanceof g.Point||Array.isArray(C)){const i=g.Point.convert(C);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:g.Point.convert(C.center||[0,0]),top:g.Point.convert(C.top||[0,0]),"top-left":g.Point.convert(C["top-left"]||[0,0]),"top-right":g.Point.convert(C["top-right"]||[0,0]),bottom:g.Point.convert(C.bottom||[0,0]),"bottom-left":g.Point.convert(C["bottom-left"]||[0,0]),"bottom-right":g.Point.convert(C["bottom-right"]||[0,0]),left:g.Point.convert(C.left||[0,0]),right:g.Point.convert(C.right||[0,0])}}return rc(new g.Point(0,0))}const eo={extend:(C,...i)=>g.extend(C,...i),run(C){C()},logToElement(C,i=!1,d="log"){const f=window.document.getElementById(d);f&&(i&&(f.innerHTML=""),f.innerHTML+=`<br>${C}`)}};class $n{static get version(){return"3.5.1"}static get workerCount(){return zi.workerCount}static set workerCount(i){zi.workerCount=i}static get maxParallelImageRequests(){return g.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(i){g.config.MAX_PARALLEL_IMAGE_REQUESTS=i}static get workerUrl(){return g.config.WORKER_URL}static set workerUrl(i){g.config.WORKER_URL=i}static addProtocol(i,d){g.config.REGISTERED_PROTOCOLS[i]=d}static removeProtocol(i){delete g.config.REGISTERED_PROTOCOLS[i]}}return $n.Map=class extends Ns{constructor(C){if(g.PerformanceUtils.mark(g.PerformanceMarkers.create),null!=(C=g.extend({},en,C)).minZoom&&null!=C.maxZoom&&C.minZoom>C.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=C.minPitch&&null!=C.maxPitch&&C.minPitch>C.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=C.minPitch&&C.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=C.maxPitch&&C.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new wa(C.minZoom,C.maxZoom,C.minPitch,C.maxPitch,C.renderWorldCopies),{bearingSnap:C.bearingSnap}),this._cooperativeGesturesOnWheel=i=>{this._onCooperativeGesture(i,i[this._metaKey],1)},this._contextLost=i=>{i.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new g.Event("webglcontextlost",{originalEvent:i}))},this._contextRestored=i=>{this._setupPainter(),this.resize(),this._update(),this.fire(new g.Event("webglcontextrestored",{originalEvent:i}))},this._onMapScroll=i=>{if(i.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=C.interactive,this._cooperativeGestures=C.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=C.maxTileCacheSize,this._maxTileCacheZoomLevels=C.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=C.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=C.preserveDrawingBuffer,this._antialias=C.antialias,this._trackResize=C.trackResize,this._bearingSnap=C.bearingSnap,this._refreshExpiredTiles=C.refreshExpiredTiles,this._fadeDuration=C.fadeDuration,this._crossSourceCollisions=C.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=C.collectResourceTiming,this._renderTaskQueue=new Rr,this._controls=[],this._mapId=g.uniqueId(),this._locale=g.extend({},Ec,C.locale),this._clickTolerance=C.clickTolerance,this._overridePixelRatio=C.pixelRatio,this._maxCanvasSize=C.maxCanvasSize,this.transformCameraUpdate=C.transformCameraUpdate,this._imageQueueHandle=it.addThrottleControl(()=>this.isMoving()),this._requestManager=new ut(C.transformRequest),"string"==typeof C.container){if(this._container=document.getElementById(C.container),!this._container)throw new Error(`Container '${C.container}' not found.`)}else{if(!(C.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=C.container}if(C.maxBounds&&this.setMaxBounds(C.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let i=!1;const d=Ir(f=>{this._trackResize&&!this._removed&&this.resize(f)._update()},50);this._resizeObserver=new ResizeObserver(f=>{i?d(f):i=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Cc(this,C),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=C.hash&&new Jr("string"==typeof C.hash&&C.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch}),C.bounds&&(this.resize(),this.fitBounds(C.bounds,g.extend({},C.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=C.localIdeographFontFamily,this._validateStyle=C.validateStyle,C.style&&this.setStyle(C.style,{localIdeographFontFamily:C.localIdeographFontFamily}),C.attributionControl&&this.addControl(new Na({customAttribution:C.customAttribution})),C.maplibreLogo&&this.addControl(new ir,C.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update("style"===i.dataType),this.fire(new g.Event(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new g.Event(`${i.dataType}dataloading`,i))}),this.on("dataabort",i=>{this.fire(new g.Event("sourcedataabort",i))})}_getMapId(){return this._mapId}addControl(C,i){if(void 0===i&&(i=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new g.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=C.onAdd(this);this._controls.push(C);const f=this._controlPositions[i];return-1!==i.indexOf("bottom")?f.insertBefore(d,f.firstChild):f.appendChild(d),this}removeControl(C){if(!C||!C.onRemove)return this.fire(new g.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(C);return i>-1&&this._controls.splice(i,1),C.onRemove(this),this}hasControl(C){return this._controls.indexOf(C)>-1}calculateCameraOptionsFromTo(C,i,d,f){return null==f&&this.terrain&&(f=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(C,i,d,f)}resize(C){var i;const d=this._containerDimensions(),f=d[0],y=d[1],M=this._getClampedPixelRatio(f,y);if(this._resizeCanvas(f,y,M),this.painter.resize(f,y,M),this.painter.overLimit()){const R=this.painter.context.gl;this._maxCanvasSize=[R.drawingBufferWidth,R.drawingBufferHeight];const V=this._getClampedPixelRatio(f,y);this._resizeCanvas(f,y,V),this.painter.resize(f,y,V)}this.transform.resize(f,y),null===(i=this._requestedCameraState)||void 0===i||i.resize(f,y);const O=!this._moving;return O&&(this.stop(),this.fire(new g.Event("movestart",C)).fire(new g.Event("move",C))),this.fire(new g.Event("resize",C)),O&&this.fire(new g.Event("moveend",C)),this}_getClampedPixelRatio(C,i){const{0:d,1:f}=this._maxCanvasSize,y=this.getPixelRatio(),M=C*y,O=i*y;return Math.min(M>d?d/M:1,O>f?f/O:1)*y}getPixelRatio(){var C;return null!==(C=this._overridePixelRatio)&&void 0!==C?C:devicePixelRatio}setPixelRatio(C){this._overridePixelRatio=C,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(C){return this.transform.setMaxBounds(xt.convert(C)),this._update()}setMinZoom(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.minZoom=C,this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(C){if((C=C??22)>=this.transform.minZoom)return this.transform.maxZoom=C,this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.minPitch=C,this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(C){if((C=C??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(C>=this.transform.minPitch)return this.transform.maxPitch=C,this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(C){return this.transform.renderWorldCopies=C,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(C){return this._cooperativeGestures=C,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(C){return this.transform.locationPoint(g.LngLat.convert(C),this.style&&this.terrain)}unproject(C){return this.transform.pointLocation(g.Point.convert(C),this.terrain)}isMoving(){var C;return this._moving||(null===(C=this.handlers)||void 0===C?void 0:C.isMoving())}isZooming(){var C;return this._zooming||(null===(C=this.handlers)||void 0===C?void 0:C.isZooming())}isRotating(){var C;return this._rotating||(null===(C=this.handlers)||void 0===C?void 0:C.isRotating())}_createDelegatedListener(C,i,d){if("mouseenter"===C||"mouseover"===C){let f=!1;return{layer:i,listener:d,delegates:{mousemove:M=>{const O=this.getLayer(i)?this.queryRenderedFeatures(M.point,{layers:[i]}):[];O.length?f||(f=!0,d.call(this,new us(C,this,M.originalEvent,{features:O}))):f=!1},mouseout:()=>{f=!1}}}}if("mouseleave"===C||"mouseout"===C){let f=!1;return{layer:i,listener:d,delegates:{mousemove:O=>{(this.getLayer(i)?this.queryRenderedFeatures(O.point,{layers:[i]}):[]).length?f=!0:f&&(f=!1,d.call(this,new us(C,this,O.originalEvent)))},mouseout:O=>{f&&(f=!1,d.call(this,new us(C,this,O.originalEvent)))}}}}{const f=y=>{const M=this.getLayer(i)?this.queryRenderedFeatures(y.point,{layers:[i]}):[];M.length&&(y.features=M,d.call(this,y),delete y.features)};return{layer:i,listener:d,delegates:{[C]:f}}}}on(C,i,d){if(void 0===d)return super.on(C,i);const f=this._createDelegatedListener(C,i,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(f);for(const y in f.delegates)this.on(y,f.delegates[y]);return this}once(C,i,d){if(void 0===d)return super.once(C,i);const f=this._createDelegatedListener(C,i,d);for(const y in f.delegates)this.once(y,f.delegates[y]);return this}off(C,i,d){return void 0===d?super.off(C,i):(this._delegatedListeners&&this._delegatedListeners[C]&&(f=>{const y=this._delegatedListeners[C];for(let M=0;M<y.length;M++){const O=y[M];if(O.layer===i&&O.listener===d){for(const R in O.delegates)this.off(R,O.delegates[R]);return y.splice(M,1),this}}})(),this)}queryRenderedFeatures(C,i){if(!this.style)return[];let d;const f=C instanceof g.Point||Array.isArray(C),y=f?C:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(f?{}:C)||{},y instanceof g.Point||"number"==typeof y[0])d=[g.Point.convert(y)];else{const M=g.Point.convert(y[0]),O=g.Point.convert(y[1]);d=[M,new g.Point(O.x,M.y),O,new g.Point(M.x,O.y),M]}return this.style.queryRenderedFeatures(d,i,this.transform)}querySourceFeatures(C,i){return this.style.querySourceFeatures(C,i)}setStyle(C,i){return!1!==(i=g.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(C,i))}setTransformRequest(C){return this._requestManager.setTransformRequest(C),this}_getUIString(C){const i=this._locale[C];if(null==i)throw new Error(`Missing UI string '${C}'`);return i}_updateStyle(C,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(C,i));const d=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!C)),C?(this.style=new Mn(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof C?this.style.loadURL(C,i,d):this.style.loadJSON(C,i,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Mn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(C,i){if("string"==typeof C){const d=this._requestManager.transformRequest(C,nt.Style);g.getJSON(d,(f,y)=>{f?this.fire(new g.ErrorEvent(f)):y&&this._updateDiff(y,i)})}else"object"==typeof C&&this._updateDiff(C,i)}_updateDiff(C,i){try{this.style.setState(C,i)&&this._update(!0)}catch(d){g.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(C,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():g.warnOnce("There is no style added to the map.")}addSource(C,i){return this._lazyInitEmptyStyle(),this.style.addSource(C,i),this._update(!0)}isSourceLoaded(C){const i=this.style&&this.style.sourceCaches[C];if(void 0!==i)return i.loaded();this.fire(new g.ErrorEvent(new Error(`There is no source with ID '${C}'`)))}setTerrain(C){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),C){const i=this.style.sourceCaches[C.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${C.source}`);for(const d in this.style._layers){const f=this.style._layers[d];"hillshade"===f.type&&f.source===C.source&&g.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Dd(this.painter,i,C),this.painter.renderToTexture=new ua(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{"style"===d.dataType?this.terrain.sourceCache.freeRtt():"source"===d.dataType&&d.tile&&(d.sourceId!==C.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new g.Event("terrain",{terrain:C})),this}getTerrain(){var C,i;return null!==(i=null===(C=this.terrain)||void 0===C?void 0:C.options)&&void 0!==i?i:null}areTilesLoaded(){const C=this.style&&this.style.sourceCaches;for(const i in C){const d=C[i]._tiles;for(const f in d){const y=d[f];if("loaded"!==y.state&&"errored"!==y.state)return!1}}return!0}addSourceType(C,i,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(C,i,d)}removeSource(C){return this.style.removeSource(C),this._update(!0)}getSource(C){return this.style.getSource(C)}addImage(C,i,d={}){const{pixelRatio:f=1,sdf:y=!1,stretchX:M,stretchY:O,content:R}=d;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||g.isImageBitmap(i))){if(void 0===i.width||void 0===i.height)return this.fire(new g.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:V,height:W,data:Q}=i,E=i;return this.style.addImage(C,{data:new g.RGBAImage({width:V,height:W},new Uint8Array(Q)),pixelRatio:f,stretchX:M,stretchY:O,content:R,sdf:y,version:0,userImage:E}),E.onAdd&&E.onAdd(this,C),this}}{const{width:V,height:W,data:Q}=g.browser.getImageData(i);this.style.addImage(C,{data:new g.RGBAImage({width:V,height:W},Q),pixelRatio:f,stretchX:M,stretchY:O,content:R,sdf:y,version:0})}}updateImage(C,i){const d=this.style.getImage(C);if(!d)return this.fire(new g.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=i instanceof HTMLImageElement||g.isImageBitmap(i)?g.browser.getImageData(i):i,{width:y,height:M,data:O}=f;if(void 0===y||void 0===M)return this.fire(new g.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==d.data.width||M!==d.data.height)return this.fire(new g.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const R=!(i instanceof HTMLImageElement||g.isImageBitmap(i));return d.data.replace(O,R),this.style.updateImage(C,d),this}getImage(C){return this.style.getImage(C)}hasImage(C){return C?!!this.style.getImage(C):(this.fire(new g.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(C){this.style.removeImage(C)}loadImage(C,i){it.getImage(this._requestManager.transformRequest(C,nt.Image),i)}listImages(){return this.style.listImages()}addLayer(C,i){return this._lazyInitEmptyStyle(),this.style.addLayer(C,i),this._update(!0)}moveLayer(C,i){return this.style.moveLayer(C,i),this._update(!0)}removeLayer(C){return this.style.removeLayer(C),this._update(!0)}getLayer(C){return this.style.getLayer(C)}setLayerZoomRange(C,i,d){return this.style.setLayerZoomRange(C,i,d),this._update(!0)}setFilter(C,i,d={}){return this.style.setFilter(C,i,d),this._update(!0)}getFilter(C){return this.style.getFilter(C)}setPaintProperty(C,i,d,f={}){return this.style.setPaintProperty(C,i,d,f),this._update(!0)}getPaintProperty(C,i){return this.style.getPaintProperty(C,i)}setLayoutProperty(C,i,d,f={}){return this.style.setLayoutProperty(C,i,d,f),this._update(!0)}getLayoutProperty(C,i){return this.style.getLayoutProperty(C,i)}setGlyphs(C,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(C,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(C,i,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(C,i,d,f=>{f||this._update(!0)}),this}removeSprite(C){return this._lazyInitEmptyStyle(),this.style.removeSprite(C),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(C,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(C,i,d=>{d||this._update(!0)}),this}setLight(C,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(C,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(C,i){return this.style.setFeatureState(C,i),this._update()}removeFeatureState(C,i){return this.style.removeFeatureState(C,i),this._update()}getFeatureState(C){return this.style.getFeatureState(C)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let C=0,i=0;return this._container&&(C=this._container.clientWidth||400,i=this._container.clientHeight||300),[C,i]}_setupContainer(){const C=this._container;C.classList.add("maplibregl-map");const i=this._canvasContainer=ae.create("div","maplibregl-canvas-container",C);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=ae.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),f=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],f);const y=this._controlContainer=ae.create("div","maplibregl-control-container",C),M=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(O=>{M[O]=ae.create("div",`maplibregl-ctrl-${O} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=ae.create("div","maplibregl-cooperative-gesture-screen",this._container);let C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${C}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){ae.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(C,i,d){this._canvas.width=Math.floor(d*C),this._canvas.height=Math.floor(d*i),this._canvas.style.width=`${C}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const C={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",f=>{i={requestedAttributes:C},f&&(i.statusMessage=f.statusMessage,i.type=f.type)},{once:!0});const d=this._canvas.getContext("webgl2",C)||this._canvas.getContext("webgl",C);if(!d){const f="Failed to initialize WebGL";throw i?(i.message=f,new Error(JSON.stringify(i))):new Error(f)}this.painter=new zn(d,this.transform),Ke.testSupport(d)}_onCooperativeGesture(C,i,d){return!i&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(C){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(C){return this._update(),this._renderTaskQueue.add(C)}_cancelRenderFrame(C){this._renderTaskQueue.remove(C)}_render(C){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const y=this.transform.zoom,M=g.browser.now();this.style.zoomHistory.update(y,M);const O=new g.EvaluationParameters(y,{now:M,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),R=O.crossFadingFactor();1===R&&R===this._crossFadingFactor||(d=!0,this._crossFadingFactor=R),this.style.update(O)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new g.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,g.PerformanceUtils.mark(g.PerformanceMarkers.load),this.fire(new g.Event("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new g.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0,g.PerformanceUtils.mark(g.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var C;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),it.removeThrottleControl(this._imageQueueHandle),null===(C=this._resizeObserver)||void 0===C||C.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),ae.remove(this._canvasContainer),ae.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),g.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new g.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=g.browser.frame(C=>{g.PerformanceUtils.frame(C),this._frame=null,this._render(C)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())}get showPadding(){return!!this._showPadding}set showPadding(C){this._showPadding!==C&&(this._showPadding=C,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())}get repaint(){return!!this._repaint}set repaint(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(C){this._vertices=C,this._update()}get version(){return"3.5.1"}getCameraTargetElevation(){return this.transform.elevation}},$n.NavigationControl=class{constructor(C){this._updateZoomButtons=()=>{const i=this._map.getZoom(),d=i===this._map.getMaxZoom(),f=i===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,d)=>{const f=this._map._getUIString(`NavigationControl.${d}`);i.title=f,i.setAttribute("aria-label",f)},this.options=g.extend({},Rl,C),this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),ae.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),ae.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=ae.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(C){return this._map=C,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ae.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(C,i){const d=ae.create("button",C,this._container);return d.type="button",d.addEventListener("click",i),d}},$n.GeolocateControl=class extends g.Evented{constructor(C){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new g.Event("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(i),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new g.Event("geolocate",i)),this._finish()}},this._updateCamera=i=>{const d=new g.LngLat(i.coords.longitude,i.coords.latitude),f=i.coords.accuracy,y=this._map.getBearing(),M=g.extend({bearing:y},this.options.fitBoundsOptions),O=xt.fromLngLat(d,f);this._map.fitBounds(O,M,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const d=new g.LngLat(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(1===i.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===i.code&&Br)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new g.Event("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=i=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=ae.create("button","maplibregl-ctrl-geolocate",this._container),ae.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===i){g.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ae.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new za({element:this._dotElement}),this._circleElement=ae.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new za({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||"ACTIVE_LOCK"!==this._watchState||d.originalEvent&&"resize"===d.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new g.Event("trackuserlocationend")))})}},this.options=g.extend({},ic,C)}onAdd(C){return this._map=C,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(i,d=!1){void 0===qs||d?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(f=>{qs="denied"!==f.state,i(qs)}).catch(()=>{qs=!!window.navigator.geolocation,i(qs)}):(qs=!!window.navigator.geolocation,i(qs)):i(qs)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ae.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fr=0,Br=!1}_isOutOfMapMaxBounds(C){const i=this._map.getMaxBounds(),d=C.coords;return i&&(d.longitude<i.getWest()||d.longitude>i.getEast()||d.latitude<i.getSouth()||d.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const C=this._map.getBounds(),i=C.getSouthEast(),d=C.getNorthEast(),f=i.distanceTo(d),y=Math.ceil(this._accuracy/(f/this._map._container.clientHeight)*2);this._circleElement.style.width=`${y}px`,this._circleElement.style.height=`${y}px`}trigger(){if(!this._setup)return g.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new g.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fr--,Br=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new g.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new g.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let C;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Fr++,Fr>1?(C={maximumAge:6e5,timeout:0},Br=!0):(C=this.options.positionOptions,Br=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,C)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},$n.AttributionControl=Na,$n.LogoControl=ir,$n.ScaleControl=class{constructor(C){this._onMove=()=>{hl(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,hl(this._map,this._container,this.options)},this.options=g.extend({},ou,C)}getDefaultPosition(){return"bottom-left"}onAdd(C){return this._map=C,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-scale",C.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ae.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},$n.FullscreenControl=class extends g.Evented{constructor(C={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,C&&C.container&&(C.container instanceof HTMLElement?this._container=C.container:g.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(C){return this._map=C,this._container||(this._container=this._map.getContainer()),this._controlContainer=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){ae.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const C=this._fullscreenButton=ae.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);ae.create("span","maplibregl-ctrl-icon",C).setAttribute("aria-hidden","true"),C.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const C=this._getTitle();this._fullscreenButton.setAttribute("aria-label",C),this._fullscreenButton.title=C}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new g.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new g.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},$n.TerrainControl=class{constructor(C){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=C}onAdd(C){return this._map=C,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=ae.create("button","maplibregl-ctrl-terrain",this._container),ae.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){ae.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},$n.Popup=class extends g.Evented{constructor(C){super(),this.remove=()=>(this._content&&ae.remove(this._content),this._container&&(ae.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new g.Event("close")),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=ae.create("div","maplibregl-popup",this._map.getContainer()),this._tip=ae.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const O of this.options.className.split(" "))this._container.classList.add(O);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=go(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!i)return;const d=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);let f=this.options.anchor;const y=rc(this.options.offset);if(!f){const O=this._container.offsetWidth,R=this._container.offsetHeight;let V;V=d.y+y.bottom.y<R?["top"]:d.y>this._map.transform.height-R?["bottom"]:[],d.x<O/2?V.push("left"):d.x>this._map.transform.width-O/2&&V.push("right"),f=0===V.length?"bottom":V.join("-")}const M=d.add(y[f]).round();ae.setTransform(this._container,`${Sc[f]} translate(${M.x}px,${M.y}px)`),Qo(this._container,f,"popup")},this._onClose=()=>{this.remove()},this.options=g.extend(Object.create(Fn),C)}addTo(C){return this._map&&this.remove(),this._map=C,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new g.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(C){return this._lngLat=g.LngLat.convert(C),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(C){return this.setDOMContent(document.createTextNode(C))}setHTML(C){const i=document.createDocumentFragment(),d=document.createElement("body");let f;for(d.innerHTML=C;f=d.firstChild,f;)i.appendChild(f);return this.setDOMContent(i)}getMaxWidth(){var C;return null===(C=this._container)||void 0===C?void 0:C.style.maxWidth}setMaxWidth(C){return this.options.maxWidth=C,this._update(),this}setDOMContent(C){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ae.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(C),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(C){this._container&&this._container.classList.add(C)}removeClassName(C){this._container&&this._container.classList.remove(C)}setOffset(C){return this.options.offset=C,this._update(),this}toggleClassName(C){if(this._container)return this._container.classList.toggle(C)}_createCloseButton(){this.options.closeButton&&(this._closeButton=ae.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const C=this._container.querySelector(nc);C&&C.focus()}},$n.Marker=za,$n.Style=Mn,$n.LngLat=g.LngLat,$n.LngLatBounds=xt,$n.Point=g.Point,$n.MercatorCoordinate=g.MercatorCoordinate,$n.Evented=g.Evented,$n.AJAXError=g.AJAXError,$n.config=g.config,$n.CanvasSource=At,$n.GeoJSONSource=at,$n.ImageSource=We,$n.RasterDEMTileSource=Mt,$n.RasterTileSource=Bt,$n.VectorTileSource=gt,$n.VideoSource=ht,$n.setRTLTextPlugin=g.setRTLTextPlugin,$n.getRTLTextPluginStatus=g.getRTLTextPluginStatus,$n.prewarm=function(){Re().acquire(Wi)},$n.clearPrewarmedResources=function(){const C=xe;C&&(C.isPreloaded()&&1===C.numActive()?(C.release(Wi),xe=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},eo.extend($n,{isSafari:g.isSafari,getPerformanceMetrics:g.PerformanceUtils.getPerformanceMetrics}),$n}),x}()},6825:(bi,vt,H)=>{"use strict";H.d(vt,{IO:()=>ut,LC:()=>l,SB:()=>ke,X$:()=>g,ZE:()=>ei,ZN:()=>Ut,_j:()=>x,eR:()=>lt,jt:()=>Ue,k1:()=>Ti,l3:()=>me,oB:()=>ot,pV:()=>it,vP:()=>Ke});class x{}class l{}const me="*";function g(ni,Fe){return{type:7,name:ni,definitions:Fe,options:{}}}function Ue(ni,Fe=null){return{type:4,styles:Fe,timings:ni}}function Ke(ni,Fe=null){return{type:2,steps:ni,options:Fe}}function ot(ni){return{type:6,styles:ni,offset:null}}function ke(ni,Fe,Je){return{type:0,name:ni,styles:Fe,options:Je}}function lt(ni,Fe,Je=null){return{type:1,expr:ni,animation:Fe,options:Je}}function it(ni=null){return{type:9,options:ni}}function ut(ni,Fe,Je=null){return{type:11,selector:ni,animation:Fe,options:Je}}class Ut{constructor(Fe=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Fe+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Fe=>Fe()),this._onDoneFns=[])}onStart(Fe){this._originalOnStartFns.push(Fe),this._onStartFns.push(Fe)}onDone(Fe){this._originalOnDoneFns.push(Fe),this._onDoneFns.push(Fe)}onDestroy(Fe){this._onDestroyFns.push(Fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Fe=>Fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Fe=>Fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Fe){this._position=this.totalTime?Fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Fe){const Je="start"==Fe?this._onStartFns:this._onDoneFns;Je.forEach($e=>$e()),Je.length=0}}class ei{constructor(Fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Fe;let Je=0,$e=0,Nt=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(zt=>{zt.onDone(()=>{++Je==Pt&&this._onFinish()}),zt.onDestroy(()=>{++$e==Pt&&this._onDestroy()}),zt.onStart(()=>{++Nt==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((zt,fi)=>Math.max(zt,fi.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Fe=>Fe()),this._onDoneFns=[])}init(){this.players.forEach(Fe=>Fe.init())}onStart(Fe){this._onStartFns.push(Fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Fe=>Fe()),this._onStartFns=[])}onDone(Fe){this._onDoneFns.push(Fe)}onDestroy(Fe){this._onDestroyFns.push(Fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Fe=>Fe.play())}pause(){this.players.forEach(Fe=>Fe.pause())}restart(){this.players.forEach(Fe=>Fe.restart())}finish(){this._onFinish(),this.players.forEach(Fe=>Fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Fe=>Fe.destroy()),this._onDestroyFns.forEach(Fe=>Fe()),this._onDestroyFns=[])}reset(){this.players.forEach(Fe=>Fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Fe){const Je=Fe*this.totalTime;this.players.forEach($e=>{const Nt=$e.totalTime?Math.min(1,Je/$e.totalTime):1;$e.setPosition(Nt)})}getPosition(){const Fe=this.players.reduce((Je,$e)=>null===Je||$e.totalTime>Je.totalTime?$e:Je,null);return null!=Fe?Fe.getPosition():0}beforeDestroy(){this.players.forEach(Fe=>{Fe.beforeDestroy&&Fe.beforeDestroy()})}triggerCallback(Fe){const Je="start"==Fe?this._onStartFns:this._onDoneFns;Je.forEach($e=>$e()),Je.length=0}}const Ti="!"},7849:(bi,vt,H)=>{"use strict";H.d(vt,{rt:()=>Ie,s1:()=>ht,$s:()=>Mt,Em:()=>At,tE:()=>ze,qV:()=>Re,qm:()=>ce,ic:()=>Jt,Kd:()=>K,Zf:()=>yn,X6:()=>ri,yG:()=>Ei,iD:()=>Hn});var x=H(6814),l=H(5879),me=H(2831),g=H(8645),Ue=H(7394),ae=H(5619),Ke=H(2096),ot=H(6028),ke=H(9397),He=H(3620),lt=H(2181),Ze=H(7398),it=H(8180);function nt(ye){return(0,lt.h)((Le,pe)=>ye<=pe)}var ut=H(3997),Et=H(9773),Ut=H(2495),ei=H(7131),Ti=H(2572),ni=H(5211),Fe=H(5592),Je=H(7921);const Nt=new Set;let Pt,zt=(()=>{class ye{constructor(pe,Te){this._platform=pe,this._nonce=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_i}matchMedia(pe){return(this._platform.WEBKIT||this._platform.BLINK)&&function fi(ye,Le){if(!Nt.has(ye))try{Pt||(Pt=document.createElement("style"),Le&&(Pt.nonce=Le),Pt.setAttribute("type","text/css"),document.head.appendChild(Pt)),Pt.sheet&&(Pt.sheet.insertRule(`@media ${ye} {body{ }}`,0),Nt.add(ye))}catch(pe){console.error(pe)}}(pe,this._nonce),this._matchMedia(pe)}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(me.t4),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function _i(ye){return{matches:"all"===ye||""===ye,media:ye,addListener:()=>{},removeListener:()=>{}}}let Li=(()=>{class ye{constructor(pe,Te){this._mediaMatcher=pe,this._zone=Te,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(pe){return Hi((0,Ut.Eq)(pe)).some(rt=>this._registerQuery(rt).mql.matches)}observe(pe){const rt=Hi((0,Ut.Eq)(pe)).map(Ve=>this._registerQuery(Ve).observable);let Ct=(0,Ti.a)(rt);return Ct=(0,ni.z)(Ct.pipe((0,it.q)(1)),Ct.pipe(nt(1),(0,He.b)(0))),Ct.pipe((0,Ze.U)(Ve=>{const Ne={matches:!1,breakpoints:{}};return Ve.forEach(({matches:Qe,query:St})=>{Ne.matches=Ne.matches||Qe,Ne.breakpoints[St]=Qe}),Ne}))}_registerQuery(pe){if(this._queries.has(pe))return this._queries.get(pe);const Te=this._mediaMatcher.matchMedia(pe),Ct={observable:new Fe.y(Ve=>{const Ne=Qe=>this._zone.run(()=>Ve.next(Qe));return Te.addListener(Ne),()=>{Te.removeListener(Ne)}}).pipe((0,Je.O)(Te),(0,Ze.U)(({matches:Ve})=>({query:pe,matches:Ve})),(0,Et.R)(this._destroySubject)),mql:Te};return this._queries.set(pe,Ct),Ct}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(zt),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function Hi(ye){return ye.map(Le=>Le.split(",")).reduce((Le,pe)=>Le.concat(pe)).map(Le=>Le.trim())}const Kn=" ";function yn(ye,Le,pe){const Te=Pn(ye,Le);Te.some(rt=>rt.trim()==pe.trim())||(Te.push(pe.trim()),ye.setAttribute(Le,Te.join(Kn)))}function Hn(ye,Le,pe){const rt=Pn(ye,Le).filter(Ct=>Ct!=pe.trim());rt.length?ye.setAttribute(Le,rt.join(Kn)):ye.removeAttribute(Le)}function Pn(ye,Le){return(ye.getAttribute(Le)||"").match(/\S+/g)||[]}const wt="cdk-describedby-message",gt="cdk-describedby-host";let Bt=0,Mt=(()=>{class ye{constructor(pe,Te){this._platform=Te,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Bt++,this._document=pe,this._id=(0,l.f3M)(l.AFp)+"-"+Bt++}describe(pe,Te,rt){if(!this._canBeDescribed(pe,Te))return;const Ct=at(Te,rt);"string"!=typeof Te?(kt(Te,this._id),this._messageRegistry.set(Ct,{messageElement:Te,referenceCount:0})):this._messageRegistry.has(Ct)||this._createMessageElement(Te,rt),this._isElementDescribedByMessage(pe,Ct)||this._addMessageReference(pe,Ct)}removeDescription(pe,Te,rt){if(!Te||!this._isElementNode(pe))return;const Ct=at(Te,rt);if(this._isElementDescribedByMessage(pe,Ct)&&this._removeMessageReference(pe,Ct),"string"==typeof Te){const Ve=this._messageRegistry.get(Ct);Ve&&0===Ve.referenceCount&&this._deleteMessageElement(Ct)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const pe=this._document.querySelectorAll(`[${gt}="${this._id}"]`);for(let Te=0;Te<pe.length;Te++)this._removeCdkDescribedByReferenceIds(pe[Te]),pe[Te].removeAttribute(gt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(pe,Te){const rt=this._document.createElement("div");kt(rt,this._id),rt.textContent=pe,Te&&rt.setAttribute("role",Te),this._createMessagesContainer(),this._messagesContainer.appendChild(rt),this._messageRegistry.set(at(pe,Te),{messageElement:rt,referenceCount:0})}_deleteMessageElement(pe){this._messageRegistry.get(pe)?.messageElement?.remove(),this._messageRegistry.delete(pe)}_createMessagesContainer(){if(this._messagesContainer)return;const pe="cdk-describedby-message-container",Te=this._document.querySelectorAll(`.${pe}[platform="server"]`);for(let Ct=0;Ct<Te.length;Ct++)Te[Ct].remove();const rt=this._document.createElement("div");rt.style.visibility="hidden",rt.classList.add(pe),rt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&rt.setAttribute("platform","server"),this._document.body.appendChild(rt),this._messagesContainer=rt}_removeCdkDescribedByReferenceIds(pe){const Te=Pn(pe,"aria-describedby").filter(rt=>0!=rt.indexOf(wt));pe.setAttribute("aria-describedby",Te.join(" "))}_addMessageReference(pe,Te){const rt=this._messageRegistry.get(Te);yn(pe,"aria-describedby",rt.messageElement.id),pe.setAttribute(gt,this._id),rt.referenceCount++}_removeMessageReference(pe,Te){const rt=this._messageRegistry.get(Te);rt.referenceCount--,Hn(pe,"aria-describedby",rt.messageElement.id),pe.removeAttribute(gt)}_isElementDescribedByMessage(pe,Te){const rt=Pn(pe,"aria-describedby"),Ct=this._messageRegistry.get(Te),Ve=Ct&&Ct.messageElement.id;return!!Ve&&-1!=rt.indexOf(Ve)}_canBeDescribed(pe,Te){if(!this._isElementNode(pe))return!1;if(Te&&"object"==typeof Te)return!0;const rt=null==Te?"":`${Te}`.trim(),Ct=pe.getAttribute("aria-label");return!(!rt||Ct&&Ct.trim()===rt)}_isElementNode(pe){return pe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(x.K0),l.LFG(me.t4))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function at(ye,Le){return"string"==typeof ye?`${Le||""}/${ye}`:ye}function kt(ye,Le){ye.id||(ye.id=`${wt}-${Le}-${Bt++}`)}class We{constructor(Le){this._items=Le,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new g.x,this._typeaheadSubscription=Ue.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=pe=>pe.disabled,this._pressedLetters=[],this.tabOut=new g.x,this.change=new g.x,Le instanceof l.n_E&&(this._itemChangesSubscription=Le.changes.subscribe(pe=>{if(this._activeItem){const rt=pe.toArray().indexOf(this._activeItem);rt>-1&&rt!==this._activeItemIndex&&(this._activeItemIndex=rt)}}))}skipPredicate(Le){return this._skipPredicateFn=Le,this}withWrap(Le=!0){return this._wrap=Le,this}withVerticalOrientation(Le=!0){return this._vertical=Le,this}withHorizontalOrientation(Le){return this._horizontal=Le,this}withAllowedModifierKeys(Le){return this._allowedModifierKeys=Le,this}withTypeAhead(Le=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ke.b)(pe=>this._pressedLetters.push(pe)),(0,He.b)(Le),(0,lt.h)(()=>this._pressedLetters.length>0),(0,Ze.U)(()=>this._pressedLetters.join(""))).subscribe(pe=>{const Te=this._getItemsArray();for(let rt=1;rt<Te.length+1;rt++){const Ct=(this._activeItemIndex+rt)%Te.length,Ve=Te[Ct];if(!this._skipPredicateFn(Ve)&&0===Ve.getLabel().toUpperCase().trim().indexOf(pe)){this.setActiveItem(Ct);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Le=!0){return this._homeAndEnd=Le,this}withPageUpDown(Le=!0,pe=10){return this._pageUpAndDown={enabled:Le,delta:pe},this}setActiveItem(Le){const pe=this._activeItem;this.updateActiveItem(Le),this._activeItem!==pe&&this.change.next(this._activeItemIndex)}onKeydown(Le){const pe=Le.keyCode,rt=["altKey","ctrlKey","metaKey","shiftKey"].every(Ct=>!Le[Ct]||this._allowedModifierKeys.indexOf(Ct)>-1);switch(pe){case ot.Mf:return void this.tabOut.next();case ot.JH:if(this._vertical&&rt){this.setNextItemActive();break}return;case ot.LH:if(this._vertical&&rt){this.setPreviousItemActive();break}return;case ot.SV:if(this._horizontal&&rt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ot.oh:if(this._horizontal&&rt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ot.Sd:if(this._homeAndEnd&&rt){this.setFirstItemActive();break}return;case ot.uR:if(this._homeAndEnd&&rt){this.setLastItemActive();break}return;case ot.Ku:if(this._pageUpAndDown.enabled&&rt){const Ct=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ct>0?Ct:0,1);break}return;case ot.VM:if(this._pageUpAndDown.enabled&&rt){const Ct=this._activeItemIndex+this._pageUpAndDown.delta,Ve=this._getItemsArray().length;this._setActiveItemByIndex(Ct<Ve?Ct:Ve-1,-1);break}return;default:return void((rt||(0,ot.Vb)(Le,"shiftKey"))&&(Le.key&&1===Le.key.length?this._letterKeyStream.next(Le.key.toLocaleUpperCase()):(pe>=ot.A&&pe<=ot.Z||pe>=ot.xE&&pe<=ot.aO)&&this._letterKeyStream.next(String.fromCharCode(pe))))}this._pressedLetters=[],Le.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Le){const pe=this._getItemsArray(),Te="number"==typeof Le?Le:pe.indexOf(Le);this._activeItem=pe[Te]??null,this._activeItemIndex=Te}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Le){this._wrap?this._setActiveInWrapMode(Le):this._setActiveInDefaultMode(Le)}_setActiveInWrapMode(Le){const pe=this._getItemsArray();for(let Te=1;Te<=pe.length;Te++){const rt=(this._activeItemIndex+Le*Te+pe.length)%pe.length;if(!this._skipPredicateFn(pe[rt]))return void this.setActiveItem(rt)}}_setActiveInDefaultMode(Le){this._setActiveItemByIndex(this._activeItemIndex+Le,Le)}_setActiveItemByIndex(Le,pe){const Te=this._getItemsArray();if(Te[Le]){for(;this._skipPredicateFn(Te[Le]);)if(!Te[Le+=pe])return;this.setActiveItem(Le)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class ht extends We{setActiveItem(Le){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Le),this.activeItem&&this.activeItem.setActiveStyles()}}class At extends We{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Le){return this._origin=Le,this}setActiveItem(Le){super.setActiveItem(Le),this.activeItem&&this.activeItem.focus(this._origin)}}let Jt=(()=>{class ye{constructor(pe){this._platform=pe}isDisabled(pe){return pe.hasAttribute("disabled")}isVisible(pe){return function yi(ye){return!!(ye.offsetWidth||ye.offsetHeight||"function"==typeof ye.getClientRects&&ye.getClientRects().length)}(pe)&&"visible"===getComputedStyle(pe).visibility}isTabbable(pe){if(!this._platform.isBrowser)return!1;const Te=function vi(ye){try{return ye.frameElement}catch{return null}}(function Tt(ye){return ye.ownerDocument&&ye.ownerDocument.defaultView||window}(pe));if(Te&&(-1===On(Te)||!this.isVisible(Te)))return!1;let rt=pe.nodeName.toLowerCase(),Ct=On(pe);return pe.hasAttribute("contenteditable")?-1!==Ct:!("iframe"===rt||"object"===rt||this._platform.WEBKIT&&this._platform.IOS&&!function Wi(ye){let Le=ye.nodeName.toLowerCase(),pe="input"===Le&&ye.type;return"text"===pe||"password"===pe||"select"===Le||"textarea"===Le}(pe))&&("audio"===rt?!!pe.hasAttribute("controls")&&-1!==Ct:"video"===rt?-1!==Ct&&(null!==Ct||this._platform.FIREFOX||pe.hasAttribute("controls")):pe.tabIndex>=0)}isFocusable(pe,Te){return function zi(ye){return!function dt(ye){return function Kt(ye){return"input"==ye.nodeName.toLowerCase()}(ye)&&"hidden"==ye.type}(ye)&&(function Fi(ye){let Le=ye.nodeName.toLowerCase();return"input"===Le||"select"===Le||"button"===Le||"textarea"===Le}(ye)||function $t(ye){return function _t(ye){return"a"==ye.nodeName.toLowerCase()}(ye)&&ye.hasAttribute("href")}(ye)||ye.hasAttribute("contenteditable")||Yi(ye))}(pe)&&!this.isDisabled(pe)&&(Te?.ignoreVisibility||this.isVisible(pe))}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(me.t4))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function Yi(ye){if(!ye.hasAttribute("tabindex")||void 0===ye.tabIndex)return!1;let Le=ye.getAttribute("tabindex");return!(!Le||isNaN(parseInt(Le,10)))}function On(ye){if(!Yi(ye))return null;const Le=parseInt(ye.getAttribute("tabindex")||"",10);return isNaN(Le)?-1:Le}class xe{get enabled(){return this._enabled}set enabled(Le){this._enabled=Le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}constructor(Le,pe,Te,rt,Ct=!1){this._element=Le,this._checker=pe,this._ngZone=Te,this._document=rt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ct||this.attachAnchors()}destroy(){const Le=this._startAnchor,pe=this._endAnchor;Le&&(Le.removeEventListener("focus",this.startAnchorListener),Le.remove()),pe&&(pe.removeEventListener("focus",this.endAnchorListener),pe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Le){return new Promise(pe=>{this._executeOnStable(()=>pe(this.focusInitialElement(Le)))})}focusFirstTabbableElementWhenReady(Le){return new Promise(pe=>{this._executeOnStable(()=>pe(this.focusFirstTabbableElement(Le)))})}focusLastTabbableElementWhenReady(Le){return new Promise(pe=>{this._executeOnStable(()=>pe(this.focusLastTabbableElement(Le)))})}_getRegionBoundary(Le){const pe=this._element.querySelectorAll(`[cdk-focus-region-${Le}], [cdkFocusRegion${Le}], [cdk-focus-${Le}]`);return"start"==Le?pe.length?pe[0]:this._getFirstTabbableElement(this._element):pe.length?pe[pe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Le){const pe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(pe){if(!this._checker.isFocusable(pe)){const Te=this._getFirstTabbableElement(pe);return Te?.focus(Le),!!Te}return pe.focus(Le),!0}return this.focusFirstTabbableElement(Le)}focusFirstTabbableElement(Le){const pe=this._getRegionBoundary("start");return pe&&pe.focus(Le),!!pe}focusLastTabbableElement(Le){const pe=this._getRegionBoundary("end");return pe&&pe.focus(Le),!!pe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const pe=Le.children;for(let Te=0;Te<pe.length;Te++){const rt=pe[Te].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(pe[Te]):null;if(rt)return rt}return null}_getLastTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const pe=Le.children;for(let Te=pe.length-1;Te>=0;Te--){const rt=pe[Te].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(pe[Te]):null;if(rt)return rt}return null}_createAnchor(){const Le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Le),Le.classList.add("cdk-visually-hidden"),Le.classList.add("cdk-focus-trap-anchor"),Le.setAttribute("aria-hidden","true"),Le}_toggleAnchorTabIndex(Le,pe){Le?pe.setAttribute("tabindex","0"):pe.removeAttribute("tabindex")}toggleAnchors(Le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}_executeOnStable(Le){this._ngZone.isStable?Le():this._ngZone.onStable.pipe((0,it.q)(1)).subscribe(Le)}}let Re=(()=>{class ye{constructor(pe,Te,rt){this._checker=pe,this._ngZone=Te,this._document=rt}create(pe,Te=!1){return new xe(pe,this._checker,this._ngZone,this._document,Te)}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(Jt),l.LFG(l.R0b),l.LFG(x.K0))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();function ri(ye){return 0===ye.buttons||0===ye.offsetX&&0===ye.offsetY}function Ei(ye){const Le=ye.touches&&ye.touches[0]||ye.changedTouches&&ye.changedTouches[0];return!(!Le||-1!==Le.identifier||null!=Le.radiusX&&1!==Le.radiusX||null!=Le.radiusY&&1!==Le.radiusY)}const gi=new l.OlP("cdk-input-modality-detector-options"),Gt={ignoreKeys:[ot.zL,ot.jx,ot.b2,ot.MW,ot.JU]},xi=(0,me.i$)({passive:!0,capture:!0});let an=(()=>{class ye{get mostRecentModality(){return this._modality.value}constructor(pe,Te,rt,Ct){this._platform=pe,this._mostRecentTarget=null,this._modality=new ae.X(null),this._lastTouchMs=0,this._onKeydown=Ve=>{this._options?.ignoreKeys?.some(Ne=>Ne===Ve.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,me.sA)(Ve))},this._onMousedown=Ve=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ri(Ve)?"keyboard":"mouse"),this._mostRecentTarget=(0,me.sA)(Ve))},this._onTouchstart=Ve=>{Ei(Ve)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,me.sA)(Ve))},this._options={...Gt,...Ct},this.modalityDetected=this._modality.pipe(nt(1)),this.modalityChanged=this.modalityDetected.pipe((0,ut.x)()),pe.isBrowser&&Te.runOutsideAngular(()=>{rt.addEventListener("keydown",this._onKeydown,xi),rt.addEventListener("mousedown",this._onMousedown,xi),rt.addEventListener("touchstart",this._onTouchstart,xi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xi),document.removeEventListener("mousedown",this._onMousedown,xi),document.removeEventListener("touchstart",this._onTouchstart,xi))}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(me.t4),l.LFG(l.R0b),l.LFG(x.K0),l.LFG(gi,8))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();const Vt=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ci(){return null}}),Ft=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ve=0,K=(()=>{class ye{constructor(pe,Te,rt,Ct){this._ngZone=Te,this._defaultOptions=Ct,this._document=rt,this._liveElement=pe||this._createLiveElement()}announce(pe,...Te){const rt=this._defaultOptions;let Ct,Ve;return 1===Te.length&&"number"==typeof Te[0]?Ve=Te[0]:[Ct,Ve]=Te,this.clear(),clearTimeout(this._previousTimeout),Ct||(Ct=rt&&rt.politeness?rt.politeness:"polite"),null==Ve&&rt&&(Ve=rt.duration),this._liveElement.setAttribute("aria-live",Ct),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ne=>this._currentResolve=Ne)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=pe,"number"==typeof Ve&&(this._previousTimeout=setTimeout(()=>this.clear(),Ve)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const pe="cdk-live-announcer-element",Te=this._document.getElementsByClassName(pe),rt=this._document.createElement("div");for(let Ct=0;Ct<Te.length;Ct++)Te[Ct].remove();return rt.classList.add(pe),rt.classList.add("cdk-visually-hidden"),rt.setAttribute("aria-atomic","true"),rt.setAttribute("aria-live","polite"),rt.id="cdk-live-announcer-"+ve++,this._document.body.appendChild(rt),rt}_exposeAnnouncerToModals(pe){const Te=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let rt=0;rt<Te.length;rt++){const Ct=Te[rt],Ve=Ct.getAttribute("aria-owns");Ve?-1===Ve.indexOf(pe)&&Ct.setAttribute("aria-owns",Ve+" "+pe):Ct.setAttribute("aria-owns",pe)}}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(Vt,8),l.LFG(l.R0b),l.LFG(x.K0),l.LFG(Ft,8))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();const Ce=new l.OlP("cdk-focus-monitor-default-options"),Ae=(0,me.i$)({passive:!0,capture:!0});let ze=(()=>{class ye{constructor(pe,Te,rt,Ct,Ve){this._ngZone=pe,this._platform=Te,this._inputModalityDetector=rt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new g.x,this._rootNodeFocusAndBlurListener=Ne=>{for(let St=(0,me.sA)(Ne);St;St=St.parentElement)"focus"===Ne.type?this._onFocus(Ne,St):this._onBlur(Ne,St)},this._document=Ct,this._detectionMode=Ve?.detectionMode||0}monitor(pe,Te=!1){const rt=(0,Ut.fI)(pe);if(!this._platform.isBrowser||1!==rt.nodeType)return(0,Ke.of)();const Ct=(0,me.kV)(rt)||this._getDocument(),Ve=this._elementInfo.get(rt);if(Ve)return Te&&(Ve.checkChildren=!0),Ve.subject;const Ne={checkChildren:Te,subject:new g.x,rootNode:Ct};return this._elementInfo.set(rt,Ne),this._registerGlobalListeners(Ne),Ne.subject}stopMonitoring(pe){const Te=(0,Ut.fI)(pe),rt=this._elementInfo.get(Te);rt&&(rt.subject.complete(),this._setClasses(Te),this._elementInfo.delete(Te),this._removeGlobalListeners(rt))}focusVia(pe,Te,rt){const Ct=(0,Ut.fI)(pe);Ct===this._getDocument().activeElement?this._getClosestElementsInfo(Ct).forEach(([Ne,Qe])=>this._originChanged(Ne,Te,Qe)):(this._setOrigin(Te),"function"==typeof Ct.focus&&Ct.focus(rt))}ngOnDestroy(){this._elementInfo.forEach((pe,Te)=>this.stopMonitoring(Te))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(pe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(pe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:pe&&this._isLastInteractionFromInputLabel(pe)?"mouse":"program"}_shouldBeAttributedToTouch(pe){return 1===this._detectionMode||!!pe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(pe,Te){pe.classList.toggle("cdk-focused",!!Te),pe.classList.toggle("cdk-touch-focused","touch"===Te),pe.classList.toggle("cdk-keyboard-focused","keyboard"===Te),pe.classList.toggle("cdk-mouse-focused","mouse"===Te),pe.classList.toggle("cdk-program-focused","program"===Te)}_setOrigin(pe,Te=!1){this._ngZone.runOutsideAngular(()=>{this._origin=pe,this._originFromTouchInteraction="touch"===pe&&Te,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(pe,Te){const rt=this._elementInfo.get(Te),Ct=(0,me.sA)(pe);!rt||!rt.checkChildren&&Te!==Ct||this._originChanged(Te,this._getFocusOrigin(Ct),rt)}_onBlur(pe,Te){const rt=this._elementInfo.get(Te);!rt||rt.checkChildren&&pe.relatedTarget instanceof Node&&Te.contains(pe.relatedTarget)||(this._setClasses(Te),this._emitOrigin(rt,null))}_emitOrigin(pe,Te){pe.subject.observers.length&&this._ngZone.run(()=>pe.subject.next(Te))}_registerGlobalListeners(pe){if(!this._platform.isBrowser)return;const Te=pe.rootNode,rt=this._rootNodeFocusListenerCount.get(Te)||0;rt||this._ngZone.runOutsideAngular(()=>{Te.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ae),Te.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ae)}),this._rootNodeFocusListenerCount.set(Te,rt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Et.R)(this._stopInputModalityDetector)).subscribe(Ct=>{this._setOrigin(Ct,!0)}))}_removeGlobalListeners(pe){const Te=pe.rootNode;if(this._rootNodeFocusListenerCount.has(Te)){const rt=this._rootNodeFocusListenerCount.get(Te);rt>1?this._rootNodeFocusListenerCount.set(Te,rt-1):(Te.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ae),Te.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ae),this._rootNodeFocusListenerCount.delete(Te))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(pe,Te,rt){this._setClasses(pe,Te),this._emitOrigin(rt,Te),this._lastFocusOrigin=Te}_getClosestElementsInfo(pe){const Te=[];return this._elementInfo.forEach((rt,Ct)=>{(Ct===pe||rt.checkChildren&&Ct.contains(pe))&&Te.push([Ct,rt])}),Te}_isLastInteractionFromInputLabel(pe){const{_mostRecentTarget:Te,mostRecentModality:rt}=this._inputModalityDetector;if("mouse"!==rt||!Te||Te===pe||"INPUT"!==pe.nodeName&&"TEXTAREA"!==pe.nodeName||pe.disabled)return!1;const Ct=pe.labels;if(Ct)for(let Ve=0;Ve<Ct.length;Ve++)if(Ct[Ve].contains(Te))return!0;return!1}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(l.R0b),l.LFG(me.t4),l.LFG(an),l.LFG(x.K0,8),l.LFG(Ce,8))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();const ie="cdk-high-contrast-black-on-white",$="cdk-high-contrast-white-on-black",Z="cdk-high-contrast-active";let ce=(()=>{class ye{constructor(pe,Te){this._platform=pe,this._document=Te,this._breakpointSubscription=(0,l.f3M)(Li).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const pe=this._document.createElement("div");pe.style.backgroundColor="rgb(1,2,3)",pe.style.position="absolute",this._document.body.appendChild(pe);const Te=this._document.defaultView||window,rt=Te&&Te.getComputedStyle?Te.getComputedStyle(pe):null,Ct=(rt&&rt.backgroundColor||"").replace(/ /g,"");switch(pe.remove(),Ct){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const pe=this._document.body.classList;pe.remove(Z,ie,$),this._hasCheckedHighContrastMode=!0;const Te=this.getHighContrastMode();1===Te?pe.add(Z,ie):2===Te&&pe.add(Z,$)}}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(me.t4),l.LFG(x.K0))};static#t=this.\u0275prov=l.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),Ie=(()=>{class ye{constructor(pe){pe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Te){return new(Te||ye)(l.LFG(ce))};static#t=this.\u0275mod=l.oAB({type:ye});static#i=this.\u0275inj=l.cJS({imports:[ei.Q8]})}return ye})()},9388:(bi,vt,H)=>{"use strict";H.d(vt,{Is:()=>Ke,vT:()=>ke});var x=H(5879),l=H(6814);const me=new x.OlP("cdk-dir-doc",{providedIn:"root",factory:function g(){return(0,x.f3M)(l.K0)}}),Ue=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ke=(()=>{class He{constructor(Ze){this.value="ltr",this.change=new x.vpe,Ze&&(this.value=function ae(He){const lt=He?.toLowerCase()||"";return"auto"===lt&&typeof navigator<"u"&&navigator?.language?Ue.test(navigator.language)?"rtl":"ltr":"rtl"===lt?"rtl":"ltr"}((Ze.body?Ze.body.dir:null)||(Ze.documentElement?Ze.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(it){return new(it||He)(x.LFG(me,8))};static#t=this.\u0275prov=x.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),ke=(()=>{class He{static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275mod=x.oAB({type:He});static#i=this.\u0275inj=x.cJS({})}return He})()},2495:(bi,vt,H)=>{"use strict";H.d(vt,{Eq:()=>Ue,HM:()=>ae,Ig:()=>l,fI:()=>Ke,su:()=>me});var x=H(5879);function l(ke){return null!=ke&&"false"!=`${ke}`}function me(ke,He=0){return function g(ke){return!isNaN(parseFloat(ke))&&!isNaN(Number(ke))}(ke)?Number(ke):He}function Ue(ke){return Array.isArray(ke)?ke:[ke]}function ae(ke){return null==ke?"":"string"==typeof ke?ke:`${ke}px`}function Ke(ke){return ke instanceof x.SBq?ke.nativeElement:ke}},8337:(bi,vt,H)=>{"use strict";H.d(vt,{A8:()=>He,Ov:()=>ot});var x=H(8645),l=H(5879);class ot{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(it=!1,nt,ut=!0,Et){this._multiple=it,this._emitChanges=ut,this.compareWith=Et,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x.x,nt&&nt.length&&(it?nt.forEach(Ut=>this._markSelected(Ut)):this._markSelected(nt[0]),this._selectedToEmit.length=0)}select(...it){this._verifyValueAssignment(it),it.forEach(ut=>this._markSelected(ut));const nt=this._hasQueuedChanges();return this._emitChangeEvent(),nt}deselect(...it){this._verifyValueAssignment(it),it.forEach(ut=>this._unmarkSelected(ut));const nt=this._hasQueuedChanges();return this._emitChangeEvent(),nt}setSelection(...it){this._verifyValueAssignment(it);const nt=this.selected,ut=new Set(it);it.forEach(Ut=>this._markSelected(Ut)),nt.filter(Ut=>!ut.has(Ut)).forEach(Ut=>this._unmarkSelected(Ut));const Et=this._hasQueuedChanges();return this._emitChangeEvent(),Et}toggle(it){return this.isSelected(it)?this.deselect(it):this.select(it)}clear(it=!0){this._unmarkAll();const nt=this._hasQueuedChanges();return it&&this._emitChangeEvent(),nt}isSelected(it){return this._selection.has(this._getConcreteValue(it))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(it){this._multiple&&this.selected&&this._selected.sort(it)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(it){it=this._getConcreteValue(it),this.isSelected(it)||(this._multiple||this._unmarkAll(),this.isSelected(it)||this._selection.add(it),this._emitChanges&&this._selectedToEmit.push(it))}_unmarkSelected(it){it=this._getConcreteValue(it),this.isSelected(it)&&(this._selection.delete(it),this._emitChanges&&this._deselectedToEmit.push(it))}_unmarkAll(){this.isEmpty()||this._selection.forEach(it=>this._unmarkSelected(it))}_verifyValueAssignment(it){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(it){if(this.compareWith){for(let nt of this._selection)if(this.compareWith(it,nt))return nt;return it}return it}}let He=(()=>{class Ze{constructor(){this._listeners=[]}notify(nt,ut){for(let Et of this._listeners)Et(nt,ut)}listen(nt){return this._listeners.push(nt),()=>{this._listeners=this._listeners.filter(ut=>nt!==ut)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275prov=l.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})()},6028:(bi,vt,H)=>{"use strict";H.d(vt,{A:()=>Bt,JH:()=>ni,JU:()=>ae,K5:()=>Ue,Ku:()=>it,LH:()=>ei,L_:()=>Ze,MW:()=>qe,Mf:()=>me,SV:()=>Ti,Sd:()=>Et,VM:()=>nt,Vb:()=>Lo,Z:()=>be,aO:()=>Hn,b2:()=>Ki,hY:()=>lt,jx:()=>Ke,oh:()=>Ut,uR:()=>ut,xE:()=>Pt,zL:()=>ot});const me=9,Ue=13,ae=16,Ke=17,ot=18,lt=27,Ze=32,it=33,nt=34,ut=35,Et=36,Ut=37,ei=38,Ti=39,ni=40,Pt=48,Hn=57,Bt=65,be=90,qe=91,Ki=224;function Lo(dr,...vn){return vn.length?vn.some(To=>dr[To]):dr.altKey||dr.shiftKey||dr.ctrlKey||dr.metaKey}},7131:(bi,vt,H)=>{"use strict";H.d(vt,{Q8:()=>ke,wD:()=>ot});var x=H(2495),l=H(5879),me=H(5592),g=H(8645),Ue=H(3620);let ae=(()=>{class He{create(Ze){return typeof MutationObserver>"u"?null:new MutationObserver(Ze)}static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Ke=(()=>{class He{constructor(Ze){this._mutationObserverFactory=Ze,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Ze,it)=>this._cleanupObserver(it))}observe(Ze){const it=(0,x.fI)(Ze);return new me.y(nt=>{const Et=this._observeElement(it).subscribe(nt);return()=>{Et.unsubscribe(),this._unobserveElement(it)}})}_observeElement(Ze){if(this._observedElements.has(Ze))this._observedElements.get(Ze).count++;else{const it=new g.x,nt=this._mutationObserverFactory.create(ut=>it.next(ut));nt&&nt.observe(Ze,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ze,{observer:nt,stream:it,count:1})}return this._observedElements.get(Ze).stream}_unobserveElement(Ze){this._observedElements.has(Ze)&&(this._observedElements.get(Ze).count--,this._observedElements.get(Ze).count||this._cleanupObserver(Ze))}_cleanupObserver(Ze){if(this._observedElements.has(Ze)){const{observer:it,stream:nt}=this._observedElements.get(Ze);it&&it.disconnect(),nt.complete(),this._observedElements.delete(Ze)}}static#e=this.\u0275fac=function(it){return new(it||He)(l.LFG(ae))};static#t=this.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),ot=(()=>{class He{get disabled(){return this._disabled}set disabled(Ze){this._disabled=(0,x.Ig)(Ze),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ze){this._debounce=(0,x.su)(Ze),this._subscribe()}constructor(Ze,it,nt){this._contentObserver=Ze,this._elementRef=it,this._ngZone=nt,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ze=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Ze.pipe((0,Ue.b)(this.debounce)):Ze).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(it){return new(it||He)(l.Y36(Ke),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:He,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return He})(),ke=(()=>{class He{static#e=this.\u0275fac=function(it){return new(it||He)};static#t=this.\u0275mod=l.oAB({type:He});static#i=this.\u0275inj=l.cJS({providers:[ae]})}return He})()},3651:(bi,vt,H)=>{"use strict";H.d(vt,{pI:()=>_t,xu:()=>Kt,aV:()=>Fi,U8:()=>Wi});var x=H(799),l=H(6814),me=H(5879),g=H(2495),Ue=H(2831),ae=H(2181),Ke=H(8180),ot=H(9773),ke=H(9360),He=H(8251),Ze=H(9388),it=H(8484),nt=H(8645),ut=H(7394),Et=H(3019),Ut=H(6028);const ei=(0,Ue.Mq)();class Ti{constructor(xe,Re){this._viewportRuler=xe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Re}attach(){}enable(){if(this._canBeEnabled()){const xe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=xe.style.left||"",this._previousHTMLStyles.top=xe.style.top||"",xe.style.left=(0,g.HM)(-this._previousScrollPosition.left),xe.style.top=(0,g.HM)(-this._previousScrollPosition.top),xe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const xe=this._document.documentElement,Pe=xe.style,Ye=this._document.body.style,be=Pe.scrollBehavior||"",qe=Ye.scrollBehavior||"";this._isEnabled=!1,Pe.left=this._previousHTMLStyles.left,Pe.top=this._previousHTMLStyles.top,xe.classList.remove("cdk-global-scrollblock"),ei&&(Pe.scrollBehavior=Ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ei&&(Pe.scrollBehavior=be,Ye.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Re=this._document.body,Pe=this._viewportRuler.getViewportSize();return Re.scrollHeight>Pe.height||Re.scrollWidth>Pe.width}}class Fe{constructor(xe,Re,Pe,Ye){this._scrollDispatcher=xe,this._ngZone=Re,this._viewportRuler=Pe,this._config=Ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(xe){this._overlayRef=xe}enable(){if(this._scrollSubscription)return;const xe=this._scrollDispatcher.scrolled(0).pipe((0,ae.h)(Re=>!Re||!this._overlayRef.overlayElement.contains(Re.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=xe.subscribe(()=>{const Re=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Re-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=xe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Je{enable(){}disable(){}attach(){}}function $e(Tt,xe){return xe.some(Re=>Tt.bottom<Re.top||Tt.top>Re.bottom||Tt.right<Re.left||Tt.left>Re.right)}function Nt(Tt,xe){return xe.some(Re=>Tt.top<Re.top||Tt.bottom>Re.bottom||Tt.left<Re.left||Tt.right>Re.right)}class Pt{constructor(xe,Re,Pe,Ye){this._scrollDispatcher=xe,this._viewportRuler=Re,this._ngZone=Pe,this._config=Ye,this._scrollSubscription=null}attach(xe){this._overlayRef=xe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Re=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Pe,height:Ye}=this._viewportRuler.getViewportSize();$e(Re,[{width:Pe,height:Ye,bottom:Ye,right:Pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zt=(()=>{class Tt{constructor(Re,Pe,Ye,be){this._scrollDispatcher=Re,this._viewportRuler=Pe,this._ngZone=Ye,this.noop=()=>new Je,this.close=qe=>new Fe(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new Ti(this._viewportRuler,this._document),this.reposition=qe=>new Pt(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=be}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(x.mF),me.LFG(x.rL),me.LFG(me.R0b),me.LFG(l.K0))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();class fi{constructor(xe){if(this.scrollStrategy=new Je,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,xe){const Re=Object.keys(xe);for(const Pe of Re)void 0!==xe[Pe]&&(this[Pe]=xe[Pe])}}}class Hi{constructor(xe,Re){this.connectionPair=xe,this.scrollableViewProperties=Re}}let yn=(()=>{class Tt{constructor(Re){this._attachedOverlays=[],this._document=Re}ngOnDestroy(){this.detach()}add(Re){this.remove(Re),this._attachedOverlays.push(Re)}remove(Re){const Pe=this._attachedOverlays.indexOf(Re);Pe>-1&&this._attachedOverlays.splice(Pe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(l.K0))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),Hn=(()=>{class Tt extends yn{constructor(Re,Pe){super(Re),this._ngZone=Pe,this._keydownListener=Ye=>{const be=this._attachedOverlays;for(let qe=be.length-1;qe>-1;qe--)if(be[qe]._keydownEvents.observers.length>0){const tt=be[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>tt.next(Ye)):tt.next(Ye);break}}}add(Re){super.add(Re),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(l.K0),me.LFG(me.R0b,8))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),Pn=(()=>{class Tt extends yn{constructor(Re,Pe,Ye){super(Re),this._platform=Pe,this._ngZone=Ye,this._cursorStyleIsSet=!1,this._pointerDownListener=be=>{this._pointerDownEventTarget=(0,Ue.sA)(be)},this._clickListener=be=>{const qe=(0,Ue.sA)(be),tt="click"===be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const Ht=this._attachedOverlays.slice();for(let ri=Ht.length-1;ri>-1;ri--){const Ei=Ht[ri];if(Ei._outsidePointerEvents.observers.length<1||!Ei.hasAttached())continue;if(Ei.overlayElement.contains(qe)||Ei.overlayElement.contains(tt))break;const gi=Ei._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>gi.next(be)):gi.next(be)}}}add(Re){if(super.add(Re),!this._isAttached){const Pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Pe)):this._addEventListeners(Pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Pe.style.cursor,Pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Re=this._document.body;Re.removeEventListener("pointerdown",this._pointerDownListener,!0),Re.removeEventListener("click",this._clickListener,!0),Re.removeEventListener("auxclick",this._clickListener,!0),Re.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Re.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Re){Re.addEventListener("pointerdown",this._pointerDownListener,!0),Re.addEventListener("click",this._clickListener,!0),Re.addEventListener("auxclick",this._clickListener,!0),Re.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(l.K0),me.LFG(Ue.t4),me.LFG(me.R0b,8))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),xt=(()=>{class Tt{constructor(Re,Pe){this._platform=Pe,this._document=Re}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Re="cdk-overlay-container";if(this._platform.isBrowser||(0,Ue.Oy)()){const Ye=this._document.querySelectorAll(`.${Re}[platform="server"], .${Re}[platform="test"]`);for(let be=0;be<Ye.length;be++)Ye[be].remove()}const Pe=this._document.createElement("div");Pe.classList.add(Re),(0,Ue.Oy)()?Pe.setAttribute("platform","test"):this._platform.isBrowser||Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._containerElement=Pe}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(l.K0),me.LFG(Ue.t4))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();class wt{constructor(xe,Re,Pe,Ye,be,qe,tt,Ht,ri,Ei=!1){this._portalOutlet=xe,this._host=Re,this._pane=Pe,this._config=Ye,this._ngZone=be,this._keyboardDispatcher=qe,this._document=tt,this._location=Ht,this._outsideClickDispatcher=ri,this._animationsDisabled=Ei,this._backdropElement=null,this._backdropClick=new nt.x,this._attachments=new nt.x,this._detachments=new nt.x,this._locationChanges=ut.w0.EMPTY,this._backdropClickHandler=gi=>this._backdropClick.next(gi),this._backdropTransitionendHandler=gi=>{this._disposeBackdrop(gi.target)},this._keydownEvents=new nt.x,this._outsidePointerEvents=new nt.x,Ye.scrollStrategy&&(this._scrollStrategy=Ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(xe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Re=this._portalOutlet.attach(xe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ke.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Re?.onDestroy&&Re.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Re}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const xe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),xe}dispose(){const xe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,xe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(xe){xe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=xe,this.hasAttached()&&(xe.attach(this),this.updatePosition()))}updateSize(xe){this._config={...this._config,...xe},this._updateElementSize()}setDirection(xe){this._config={...this._config,direction:xe},this._updateElementDirection()}addPanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!0)}removePanelClass(xe){this._pane&&this._toggleClasses(this._pane,xe,!1)}getDirection(){const xe=this._config.direction;return xe?"string"==typeof xe?xe:xe.value:"ltr"}updateScrollStrategy(xe){xe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=xe,this.hasAttached()&&(xe.attach(this),xe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const xe=this._pane.style;xe.width=(0,g.HM)(this._config.width),xe.height=(0,g.HM)(this._config.height),xe.minWidth=(0,g.HM)(this._config.minWidth),xe.minHeight=(0,g.HM)(this._config.minHeight),xe.maxWidth=(0,g.HM)(this._config.maxWidth),xe.maxHeight=(0,g.HM)(this._config.maxHeight)}_togglePointerEvents(xe){this._pane.style.pointerEvents=xe?"":"none"}_attachBackdrop(){const xe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(xe)})}):this._backdropElement.classList.add(xe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const xe=this._backdropElement;if(xe){if(this._animationsDisabled)return void this._disposeBackdrop(xe);xe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{xe.addEventListener("transitionend",this._backdropTransitionendHandler)}),xe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(xe)},500))}}_toggleClasses(xe,Re,Pe){const Ye=(0,g.Eq)(Re||[]).filter(be=>!!be);Ye.length&&(Pe?xe.classList.add(...Ye):xe.classList.remove(...Ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const xe=this._ngZone.onStable.pipe((0,ot.R)((0,Et.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),xe.unsubscribe())})})}_disposeScrollStrategy(){const xe=this._scrollStrategy;xe&&(xe.disable(),xe.detach&&xe.detach())}_disposeBackdrop(xe){xe&&(xe.removeEventListener("click",this._backdropClickHandler),xe.removeEventListener("transitionend",this._backdropTransitionendHandler),xe.remove(),this._backdropElement===xe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gt="cdk-overlay-connected-position-bounding-box",Bt=/([A-Za-z%]+)$/;class Mt{get positions(){return this._preferredPositions}constructor(xe,Re,Pe,Ye,be){this._viewportRuler=Re,this._document=Pe,this._platform=Ye,this._overlayContainer=be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nt.x,this._resizeSubscription=ut.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(xe)}attach(xe){this._validatePositions(),xe.hostElement.classList.add(gt),this._overlayRef=xe,this._boundingBox=xe.hostElement,this._pane=xe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const xe=this._originRect,Re=this._overlayRect,Pe=this._viewportRect,Ye=this._containerRect,be=[];let qe;for(let tt of this._preferredPositions){let Ht=this._getOriginPoint(xe,Ye,tt),ri=this._getOverlayPoint(Ht,Re,tt),Ei=this._getOverlayFit(ri,Re,Pe,tt);if(Ei.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(tt,Ht);this._canFitWithFlexibleDimensions(Ei,ri,Pe)?be.push({position:tt,origin:Ht,overlayRect:Re,boundingBoxRect:this._calculateBoundingBoxRect(Ht,tt)}):(!qe||qe.overlayFit.visibleArea<Ei.visibleArea)&&(qe={overlayFit:Ei,overlayPoint:ri,originPoint:Ht,position:tt,overlayRect:Re})}if(be.length){let tt=null,Ht=-1;for(const ri of be){const Ei=ri.boundingBoxRect.width*ri.boundingBoxRect.height*(ri.position.weight||1);Ei>Ht&&(Ht=Ei,tt=ri)}return this._isPushed=!1,void this._applyPosition(tt.position,tt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&at(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const xe=this._lastPosition;if(xe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Re=this._getOriginPoint(this._originRect,this._containerRect,xe);this._applyPosition(xe,Re)}else this.apply()}withScrollableContainers(xe){return this._scrollables=xe,this}withPositions(xe){return this._preferredPositions=xe,-1===xe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(xe){return this._viewportMargin=xe,this}withFlexibleDimensions(xe=!0){return this._hasFlexibleDimensions=xe,this}withGrowAfterOpen(xe=!0){return this._growAfterOpen=xe,this}withPush(xe=!0){return this._canPush=xe,this}withLockedPosition(xe=!0){return this._positionLocked=xe,this}setOrigin(xe){return this._origin=xe,this}withDefaultOffsetX(xe){return this._offsetX=xe,this}withDefaultOffsetY(xe){return this._offsetY=xe,this}withTransformOriginOn(xe){return this._transformOriginSelector=xe,this}_getOriginPoint(xe,Re,Pe){let Ye,be;if("center"==Pe.originX)Ye=xe.left+xe.width/2;else{const qe=this._isRtl()?xe.right:xe.left,tt=this._isRtl()?xe.left:xe.right;Ye="start"==Pe.originX?qe:tt}return Re.left<0&&(Ye-=Re.left),be="center"==Pe.originY?xe.top+xe.height/2:"top"==Pe.originY?xe.top:xe.bottom,Re.top<0&&(be-=Re.top),{x:Ye,y:be}}_getOverlayPoint(xe,Re,Pe){let Ye,be;return Ye="center"==Pe.overlayX?-Re.width/2:"start"===Pe.overlayX?this._isRtl()?-Re.width:0:this._isRtl()?0:-Re.width,be="center"==Pe.overlayY?-Re.height/2:"top"==Pe.overlayY?0:-Re.height,{x:xe.x+Ye,y:xe.y+be}}_getOverlayFit(xe,Re,Pe,Ye){const be=We(Re);let{x:qe,y:tt}=xe,Ht=this._getOffset(Ye,"x"),ri=this._getOffset(Ye,"y");Ht&&(qe+=Ht),ri&&(tt+=ri);let Gt=0-tt,Mi=tt+be.height-Pe.height,xi=this._subtractOverflows(be.width,0-qe,qe+be.width-Pe.width),an=this._subtractOverflows(be.height,Gt,Mi),Vt=xi*an;return{visibleArea:Vt,isCompletelyWithinViewport:be.width*be.height===Vt,fitsInViewportVertically:an===be.height,fitsInViewportHorizontally:xi==be.width}}_canFitWithFlexibleDimensions(xe,Re,Pe){if(this._hasFlexibleDimensions){const Ye=Pe.bottom-Re.y,be=Pe.right-Re.x,qe=kt(this._overlayRef.getConfig().minHeight),tt=kt(this._overlayRef.getConfig().minWidth);return(xe.fitsInViewportVertically||null!=qe&&qe<=Ye)&&(xe.fitsInViewportHorizontally||null!=tt&&tt<=be)}return!1}_pushOverlayOnScreen(xe,Re,Pe){if(this._previousPushAmount&&this._positionLocked)return{x:xe.x+this._previousPushAmount.x,y:xe.y+this._previousPushAmount.y};const Ye=We(Re),be=this._viewportRect,qe=Math.max(xe.x+Ye.width-be.width,0),tt=Math.max(xe.y+Ye.height-be.height,0),Ht=Math.max(be.top-Pe.top-xe.y,0),ri=Math.max(be.left-Pe.left-xe.x,0);let Ei=0,gi=0;return Ei=Ye.width<=be.width?ri||-qe:xe.x<this._viewportMargin?be.left-Pe.left-xe.x:0,gi=Ye.height<=be.height?Ht||-tt:xe.y<this._viewportMargin?be.top-Pe.top-xe.y:0,this._previousPushAmount={x:Ei,y:gi},{x:xe.x+Ei,y:xe.y+gi}}_applyPosition(xe,Re){if(this._setTransformOrigin(xe),this._setOverlayElementStyles(Re,xe),this._setBoundingBoxStyles(Re,xe),xe.panelClass&&this._addPanelClasses(xe.panelClass),this._lastPosition=xe,this._positionChanges.observers.length){const Pe=this._getScrollVisibility(),Ye=new Hi(xe,Pe);this._positionChanges.next(Ye)}this._isInitialRender=!1}_setTransformOrigin(xe){if(!this._transformOriginSelector)return;const Re=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Pe,Ye=xe.overlayY;Pe="center"===xe.overlayX?"center":this._isRtl()?"start"===xe.overlayX?"right":"left":"start"===xe.overlayX?"left":"right";for(let be=0;be<Re.length;be++)Re[be].style.transformOrigin=`${Pe} ${Ye}`}_calculateBoundingBoxRect(xe,Re){const Pe=this._viewportRect,Ye=this._isRtl();let be,qe,tt,Ei,gi,Gt;if("top"===Re.overlayY)qe=xe.y,be=Pe.height-qe+this._viewportMargin;else if("bottom"===Re.overlayY)tt=Pe.height-xe.y+2*this._viewportMargin,be=Pe.height-tt+this._viewportMargin;else{const Mi=Math.min(Pe.bottom-xe.y+Pe.top,xe.y),xi=this._lastBoundingBoxSize.height;be=2*Mi,qe=xe.y-Mi,be>xi&&!this._isInitialRender&&!this._growAfterOpen&&(qe=xe.y-xi/2)}if("end"===Re.overlayX&&!Ye||"start"===Re.overlayX&&Ye)Gt=Pe.width-xe.x+this._viewportMargin,Ei=xe.x-this._viewportMargin;else if("start"===Re.overlayX&&!Ye||"end"===Re.overlayX&&Ye)gi=xe.x,Ei=Pe.right-xe.x;else{const Mi=Math.min(Pe.right-xe.x+Pe.left,xe.x),xi=this._lastBoundingBoxSize.width;Ei=2*Mi,gi=xe.x-Mi,Ei>xi&&!this._isInitialRender&&!this._growAfterOpen&&(gi=xe.x-xi/2)}return{top:qe,left:gi,bottom:tt,right:Gt,width:Ei,height:be}}_setBoundingBoxStyles(xe,Re){const Pe=this._calculateBoundingBoxRect(xe,Re);!this._isInitialRender&&!this._growAfterOpen&&(Pe.height=Math.min(Pe.height,this._lastBoundingBoxSize.height),Pe.width=Math.min(Pe.width,this._lastBoundingBoxSize.width));const Ye={};if(this._hasExactPosition())Ye.top=Ye.left="0",Ye.bottom=Ye.right=Ye.maxHeight=Ye.maxWidth="",Ye.width=Ye.height="100%";else{const be=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;Ye.height=(0,g.HM)(Pe.height),Ye.top=(0,g.HM)(Pe.top),Ye.bottom=(0,g.HM)(Pe.bottom),Ye.width=(0,g.HM)(Pe.width),Ye.left=(0,g.HM)(Pe.left),Ye.right=(0,g.HM)(Pe.right),Ye.alignItems="center"===Re.overlayX?"center":"end"===Re.overlayX?"flex-end":"flex-start",Ye.justifyContent="center"===Re.overlayY?"center":"bottom"===Re.overlayY?"flex-end":"flex-start",be&&(Ye.maxHeight=(0,g.HM)(be)),qe&&(Ye.maxWidth=(0,g.HM)(qe))}this._lastBoundingBoxSize=Pe,at(this._boundingBox.style,Ye)}_resetBoundingBoxStyles(){at(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){at(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(xe,Re){const Pe={},Ye=this._hasExactPosition(),be=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(Ye){const Ei=this._viewportRuler.getViewportScrollPosition();at(Pe,this._getExactOverlayY(Re,xe,Ei)),at(Pe,this._getExactOverlayX(Re,xe,Ei))}else Pe.position="static";let tt="",Ht=this._getOffset(Re,"x"),ri=this._getOffset(Re,"y");Ht&&(tt+=`translateX(${Ht}px) `),ri&&(tt+=`translateY(${ri}px)`),Pe.transform=tt.trim(),qe.maxHeight&&(Ye?Pe.maxHeight=(0,g.HM)(qe.maxHeight):be&&(Pe.maxHeight="")),qe.maxWidth&&(Ye?Pe.maxWidth=(0,g.HM)(qe.maxWidth):be&&(Pe.maxWidth="")),at(this._pane.style,Pe)}_getExactOverlayY(xe,Re,Pe){let Ye={top:"",bottom:""},be=this._getOverlayPoint(Re,this._overlayRect,xe);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Pe)),"bottom"===xe.overlayY?Ye.bottom=this._document.documentElement.clientHeight-(be.y+this._overlayRect.height)+"px":Ye.top=(0,g.HM)(be.y),Ye}_getExactOverlayX(xe,Re,Pe){let qe,Ye={left:"",right:""},be=this._getOverlayPoint(Re,this._overlayRect,xe);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Pe)),qe=this._isRtl()?"end"===xe.overlayX?"left":"right":"end"===xe.overlayX?"right":"left","right"===qe?Ye.right=this._document.documentElement.clientWidth-(be.x+this._overlayRect.width)+"px":Ye.left=(0,g.HM)(be.x),Ye}_getScrollVisibility(){const xe=this._getOriginRect(),Re=this._pane.getBoundingClientRect(),Pe=this._scrollables.map(Ye=>Ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Nt(xe,Pe),isOriginOutsideView:$e(xe,Pe),isOverlayClipped:Nt(Re,Pe),isOverlayOutsideView:$e(Re,Pe)}}_subtractOverflows(xe,...Re){return Re.reduce((Pe,Ye)=>Pe-Math.max(Ye,0),xe)}_getNarrowedViewportRect(){const xe=this._document.documentElement.clientWidth,Re=this._document.documentElement.clientHeight,Pe=this._viewportRuler.getViewportScrollPosition();return{top:Pe.top+this._viewportMargin,left:Pe.left+this._viewportMargin,right:Pe.left+xe-this._viewportMargin,bottom:Pe.top+Re-this._viewportMargin,width:xe-2*this._viewportMargin,height:Re-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(xe,Re){return"x"===Re?null==xe.offsetX?this._offsetX:xe.offsetX:null==xe.offsetY?this._offsetY:xe.offsetY}_validatePositions(){}_addPanelClasses(xe){this._pane&&(0,g.Eq)(xe).forEach(Re=>{""!==Re&&-1===this._appliedPanelClasses.indexOf(Re)&&(this._appliedPanelClasses.push(Re),this._pane.classList.add(Re))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(xe=>{this._pane.classList.remove(xe)}),this._appliedPanelClasses=[])}_getOriginRect(){const xe=this._origin;if(xe instanceof me.SBq)return xe.nativeElement.getBoundingClientRect();if(xe instanceof Element)return xe.getBoundingClientRect();const Re=xe.width||0,Pe=xe.height||0;return{top:xe.y,bottom:xe.y+Pe,left:xe.x,right:xe.x+Re,height:Pe,width:Re}}}function at(Tt,xe){for(let Re in xe)xe.hasOwnProperty(Re)&&(Tt[Re]=xe[Re]);return Tt}function kt(Tt){if("number"!=typeof Tt&&null!=Tt){const[xe,Re]=Tt.split(Bt);return Re&&"px"!==Re?null:parseFloat(xe)}return Tt||null}function We(Tt){return{top:Math.floor(Tt.top),right:Math.floor(Tt.right),bottom:Math.floor(Tt.bottom),left:Math.floor(Tt.left),width:Math.floor(Tt.width),height:Math.floor(Tt.height)}}const ai="cdk-global-overlay-wrapper";class Jt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(xe){const Re=xe.getConfig();this._overlayRef=xe,this._width&&!Re.width&&xe.updateSize({width:this._width}),this._height&&!Re.height&&xe.updateSize({height:this._height}),xe.hostElement.classList.add(ai),this._isDisposed=!1}top(xe=""){return this._bottomOffset="",this._topOffset=xe,this._alignItems="flex-start",this}left(xe=""){return this._xOffset=xe,this._xPosition="left",this}bottom(xe=""){return this._topOffset="",this._bottomOffset=xe,this._alignItems="flex-end",this}right(xe=""){return this._xOffset=xe,this._xPosition="right",this}start(xe=""){return this._xOffset=xe,this._xPosition="start",this}end(xe=""){return this._xOffset=xe,this._xPosition="end",this}width(xe=""){return this._overlayRef?this._overlayRef.updateSize({width:xe}):this._width=xe,this}height(xe=""){return this._overlayRef?this._overlayRef.updateSize({height:xe}):this._height=xe,this}centerHorizontally(xe=""){return this.left(xe),this._xPosition="center",this}centerVertically(xe=""){return this.top(xe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const xe=this._overlayRef.overlayElement.style,Re=this._overlayRef.hostElement.style,Pe=this._overlayRef.getConfig(),{width:Ye,height:be,maxWidth:qe,maxHeight:tt}=Pe,Ht=!("100%"!==Ye&&"100vw"!==Ye||qe&&"100%"!==qe&&"100vw"!==qe),ri=!("100%"!==be&&"100vh"!==be||tt&&"100%"!==tt&&"100vh"!==tt),Ei=this._xPosition,gi=this._xOffset,Gt="rtl"===this._overlayRef.getConfig().direction;let Mi="",xi="",an="";Ht?an="flex-start":"center"===Ei?(an="center",Gt?xi=gi:Mi=gi):Gt?"left"===Ei||"end"===Ei?(an="flex-end",Mi=gi):("right"===Ei||"start"===Ei)&&(an="flex-start",xi=gi):"left"===Ei||"start"===Ei?(an="flex-start",Mi=gi):("right"===Ei||"end"===Ei)&&(an="flex-end",xi=gi),xe.position=this._cssPosition,xe.marginLeft=Ht?"0":Mi,xe.marginTop=ri?"0":this._topOffset,xe.marginBottom=this._bottomOffset,xe.marginRight=Ht?"0":xi,Re.justifyContent=an,Re.alignItems=ri?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const xe=this._overlayRef.overlayElement.style,Re=this._overlayRef.hostElement,Pe=Re.style;Re.classList.remove(ai),Pe.justifyContent=Pe.alignItems=xe.marginTop=xe.marginBottom=xe.marginLeft=xe.marginRight=xe.position="",this._overlayRef=null,this._isDisposed=!0}}let vi=(()=>{class Tt{constructor(Re,Pe,Ye,be){this._viewportRuler=Re,this._document=Pe,this._platform=Ye,this._overlayContainer=be}global(){return new Jt}flexibleConnectedTo(Re){return new Mt(Re,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(x.rL),me.LFG(l.K0),me.LFG(Ue.t4),me.LFG(xt))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),yi=0,Fi=(()=>{class Tt{constructor(Re,Pe,Ye,be,qe,tt,Ht,ri,Ei,gi,Gt,Mi){this.scrollStrategies=Re,this._overlayContainer=Pe,this._componentFactoryResolver=Ye,this._positionBuilder=be,this._keyboardDispatcher=qe,this._injector=tt,this._ngZone=Ht,this._document=ri,this._directionality=Ei,this._location=gi,this._outsideClickDispatcher=Gt,this._animationsModuleType=Mi}create(Re){const Pe=this._createHostElement(),Ye=this._createPaneElement(Pe),be=this._createPortalOutlet(Ye),qe=new fi(Re);return qe.direction=qe.direction||this._directionality.value,new wt(be,Pe,Ye,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Re){const Pe=this._document.createElement("div");return Pe.id="cdk-overlay-"+yi++,Pe.classList.add("cdk-overlay-pane"),Re.appendChild(Pe),Pe}_createHostElement(){const Re=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Re),Re}_createPortalOutlet(Re){return this._appRef||(this._appRef=this._injector.get(me.z2F)),new it.u0(Re,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.LFG(zt),me.LFG(xt),me.LFG(me._Vd),me.LFG(vi),me.LFG(Hn),me.LFG(me.zs3),me.LFG(me.R0b),me.LFG(l.K0),me.LFG(Ze.Is),me.LFG(l.Ye),me.LFG(Pn),me.LFG(me.QbO,8))};static#t=this.\u0275prov=me.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();const dt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$t=new me.OlP("cdk-connected-overlay-scroll-strategy");let Kt=(()=>{class Tt{constructor(Re){this.elementRef=Re}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.Y36(me.SBq))};static#t=this.\u0275dir=me.lG2({type:Tt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Tt})(),_t=(()=>{class Tt{get offsetX(){return this._offsetX}set offsetX(Re){this._offsetX=Re,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Re){this._offsetY=Re,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Re){this._hasBackdrop=(0,g.Ig)(Re)}get lockPosition(){return this._lockPosition}set lockPosition(Re){this._lockPosition=(0,g.Ig)(Re)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Re){this._flexibleDimensions=(0,g.Ig)(Re)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Re){this._growAfterOpen=(0,g.Ig)(Re)}get push(){return this._push}set push(Re){this._push=(0,g.Ig)(Re)}constructor(Re,Pe,Ye,be,qe){this._overlay=Re,this._dir=qe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ut.w0.EMPTY,this._attachSubscription=ut.w0.EMPTY,this._detachSubscription=ut.w0.EMPTY,this._positionSubscription=ut.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new me.vpe,this.positionChange=new me.vpe,this.attach=new me.vpe,this.detach=new me.vpe,this.overlayKeydown=new me.vpe,this.overlayOutsideClick=new me.vpe,this._templatePortal=new it.UE(Pe,Ye),this._scrollStrategyFactory=be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Re){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Re.origin&&this.open&&this._position.apply()),Re.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=dt);const Re=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Re.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Re.detachments().subscribe(()=>this.detach.emit()),Re.keydownEvents().subscribe(Pe=>{this.overlayKeydown.next(Pe),Pe.keyCode===Ut.hY&&!this.disableClose&&!(0,Ut.Vb)(Pe)&&(Pe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Pe=>{this.overlayOutsideClick.next(Pe)})}_buildConfig(){const Re=this._position=this.positionStrategy||this._createPositionStrategy(),Pe=new fi({direction:this._dir,positionStrategy:Re,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Pe.width=this.width),(this.height||0===this.height)&&(Pe.height=this.height),(this.minWidth||0===this.minWidth)&&(Pe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Pe.minHeight=this.minHeight),this.backdropClass&&(Pe.backdropClass=this.backdropClass),this.panelClass&&(Pe.panelClass=this.panelClass),Pe}_updatePositionStrategy(Re){const Pe=this.positions.map(Ye=>({originX:Ye.originX,originY:Ye.originY,overlayX:Ye.overlayX,overlayY:Ye.overlayY,offsetX:Ye.offsetX||this.offsetX,offsetY:Ye.offsetY||this.offsetY,panelClass:Ye.panelClass||void 0}));return Re.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Pe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Re=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Re),Re}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Kt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Re=>{this.backdropClick.emit(Re)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function lt(Tt,xe=!1){return(0,ke.e)((Re,Pe)=>{let Ye=0;Re.subscribe((0,He.x)(Pe,be=>{const qe=Tt(be,Ye++);(qe||xe)&&Pe.next(be),!qe&&Pe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Re=>{this.positionChange.emit(Re),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)(me.Y36(Fi),me.Y36(me.Rgc),me.Y36(me.s_b),me.Y36($t),me.Y36(Ze.Is,8))};static#t=this.\u0275dir=me.lG2({type:Tt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[me.TTD]})}return Tt})();const On={provide:$t,deps:[Fi],useFactory:function Yi(Tt){return()=>Tt.scrollStrategies.reposition()}};let Wi=(()=>{class Tt{static#e=this.\u0275fac=function(Pe){return new(Pe||Tt)};static#t=this.\u0275mod=me.oAB({type:Tt});static#i=this.\u0275inj=me.cJS({providers:[Fi,On],imports:[Ze.vT,it.eL,x.Cl,x.Cl]})}return Tt})()},2831:(bi,vt,H)=>{"use strict";H.d(vt,{Mq:()=>nt,Oy:()=>Fe,_i:()=>ut,ht:()=>Ti,i$:()=>lt,kV:()=>ei,qK:()=>ot,sA:()=>ni,t4:()=>g});var x=H(5879),l=H(6814);let me;try{me=typeof Intl<"u"&&Intl.v8BreakIterator}catch{me=!1}let ae,g=(()=>{class Je{constructor(Nt){this._platformId=Nt,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!me)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Pt){return new(Pt||Je)(x.LFG(x.Lbi))};static#t=this.\u0275prov=x.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"})}return Je})();const Ke=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ot(){if(ae)return ae;if("object"!=typeof document||!document)return ae=new Set(Ke),ae;let Je=document.createElement("input");return ae=new Set(Ke.filter($e=>(Je.setAttribute("type",$e),Je.type===$e))),ae}let ke,Ze,it,Et;function lt(Je){return function He(){if(null==ke&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ke=!0}))}finally{ke=ke||!1}return ke}()?Je:!!Je.capture}function nt(){if(null==it){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return it=!1,it;if("scrollBehavior"in document.documentElement.style)it=!0;else{const Je=Element.prototype.scrollTo;it=!!Je&&!/\{\s*\[native code\]\s*\}/.test(Je.toString())}}return it}function ut(){if("object"!=typeof document||!document)return 0;if(null==Ze){const Je=document.createElement("div"),$e=Je.style;Je.dir="rtl",$e.width="1px",$e.overflow="auto",$e.visibility="hidden",$e.pointerEvents="none",$e.position="absolute";const Nt=document.createElement("div"),Pt=Nt.style;Pt.width="2px",Pt.height="1px",Je.appendChild(Nt),document.body.appendChild(Je),Ze=0,0===Je.scrollLeft&&(Je.scrollLeft=1,Ze=0===Je.scrollLeft?1:2),Je.remove()}return Ze}function ei(Je){if(function Ut(){if(null==Et){const Je=typeof document<"u"?document.head:null;Et=!(!Je||!Je.createShadowRoot&&!Je.attachShadow)}return Et}()){const $e=Je.getRootNode?Je.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&$e instanceof ShadowRoot)return $e}return null}function Ti(){let Je=typeof document<"u"&&document?document.activeElement:null;for(;Je&&Je.shadowRoot;){const $e=Je.shadowRoot.activeElement;if($e===Je)break;Je=$e}return Je}function ni(Je){return Je.composedPath?Je.composedPath()[0]:Je.target}function Fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(bi,vt,H)=>{"use strict";H.d(vt,{C5:()=>ke,UE:()=>He,bH:()=>Ut,eL:()=>ni,ig:()=>Et,u0:()=>nt});var x=H(5879);class ot{attach($e){return this._attachedHost=$e,$e.attach(this)}detach(){let $e=this._attachedHost;null!=$e&&(this._attachedHost=null,$e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost($e){this._attachedHost=$e}}class ke extends ot{constructor($e,Nt,Pt,zt,fi){super(),this.component=$e,this.viewContainerRef=Nt,this.injector=Pt,this.componentFactoryResolver=zt,this.projectableNodes=fi}}class He extends ot{constructor($e,Nt,Pt,zt){super(),this.templateRef=$e,this.viewContainerRef=Nt,this.context=Pt,this.injector=zt}get origin(){return this.templateRef.elementRef}attach($e,Nt=this.context){return this.context=Nt,super.attach($e)}detach(){return this.context=void 0,super.detach()}}class lt extends ot{constructor($e){super(),this.element=$e instanceof x.SBq?$e.nativeElement:$e}}class Ze{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach($e){return $e instanceof ke?(this._attachedPortal=$e,this.attachComponentPortal($e)):$e instanceof He?(this._attachedPortal=$e,this.attachTemplatePortal($e)):this.attachDomPortal&&$e instanceof lt?(this._attachedPortal=$e,this.attachDomPortal($e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn($e){this._disposeFn=$e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nt extends Ze{constructor($e,Nt,Pt,zt,fi){super(),this.outletElement=$e,this._componentFactoryResolver=Nt,this._appRef=Pt,this._defaultInjector=zt,this.attachDomPortal=_i=>{const Li=_i.element,Hi=this._document.createComment("dom-portal");Li.parentNode.insertBefore(Hi,Li),this.outletElement.appendChild(Li),this._attachedPortal=_i,super.setDisposeFn(()=>{Hi.parentNode&&Hi.parentNode.replaceChild(Li,Hi)})},this._document=fi}attachComponentPortal($e){const Pt=($e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($e.component);let zt;return $e.viewContainerRef?(zt=$e.viewContainerRef.createComponent(Pt,$e.viewContainerRef.length,$e.injector||$e.viewContainerRef.injector,$e.projectableNodes||void 0),this.setDisposeFn(()=>zt.destroy())):(zt=Pt.create($e.injector||this._defaultInjector||x.zs3.NULL),this._appRef.attachView(zt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(zt.hostView),zt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(zt)),this._attachedPortal=$e,zt}attachTemplatePortal($e){let Nt=$e.viewContainerRef,Pt=Nt.createEmbeddedView($e.templateRef,$e.context,{injector:$e.injector});return Pt.rootNodes.forEach(zt=>this.outletElement.appendChild(zt)),Pt.detectChanges(),this.setDisposeFn(()=>{let zt=Nt.indexOf(Pt);-1!==zt&&Nt.remove(zt)}),this._attachedPortal=$e,Pt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode($e){return $e.hostView.rootNodes[0]}}let Et=(()=>{class Je extends He{constructor(Nt,Pt){super(Nt,Pt)}static#e=this.\u0275fac=function(Pt){return new(Pt||Je)(x.Y36(x.Rgc),x.Y36(x.s_b))};static#t=this.\u0275dir=x.lG2({type:Je,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[x.qOj]})}return Je})(),Ut=(()=>{class Je extends Et{static#e=this.\u0275fac=function(){let Nt;return function(zt){return(Nt||(Nt=x.n5z(Je)))(zt||Je)}}();static#t=this.\u0275dir=x.lG2({type:Je,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[x._Bn([{provide:Et,useExisting:Je}]),x.qOj]})}return Je})(),ni=(()=>{class Je{static#e=this.\u0275fac=function(Pt){return new(Pt||Je)};static#t=this.\u0275mod=x.oAB({type:Je});static#i=this.\u0275inj=x.cJS({})}return Je})()},799:(bi,vt,H)=>{"use strict";H.d(vt,{PQ:()=>vi,ZD:()=>xe,mF:()=>Jt,Cl:()=>Re,rL:()=>Fi});var x=H(2495),l=H(5879),me=H(8645),g=H(2096),Ue=H(5592),ae=H(2438),Ke=H(1954),ot=H(7394);const ke={schedule(Pe){let Ye=requestAnimationFrame,be=cancelAnimationFrame;const{delegate:qe}=ke;qe&&(Ye=qe.requestAnimationFrame,be=qe.cancelAnimationFrame);const tt=Ye(Ht=>{be=void 0,Pe(Ht)});return new ot.w0(()=>be?.(tt))},requestAnimationFrame(...Pe){const{delegate:Ye}=ke;return(Ye?.requestAnimationFrame||requestAnimationFrame)(...Pe)},cancelAnimationFrame(...Pe){const{delegate:Ye}=ke;return(Ye?.cancelAnimationFrame||cancelAnimationFrame)(...Pe)},delegate:void 0};var lt=H(2631);new class Ze extends lt.v{flush(Ye){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let tt;Ye=Ye||qe.shift();do{if(tt=Ye.execute(Ye.state,Ye.delay))break}while((Ye=qe[0])&&Ye.id===be&&qe.shift());if(this._active=!1,tt){for(;(Ye=qe[0])&&Ye.id===be&&qe.shift();)Ye.unsubscribe();throw tt}}}(class He extends Ke.o{constructor(Ye,be){super(Ye,be),this.scheduler=Ye,this.work=be}requestAsyncId(Ye,be,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Ye,be,qe):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=ke.requestAnimationFrame(()=>Ye.flush(void 0))))}recycleAsyncId(Ye,be,qe=0){var tt;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Ye,be,qe);const{actions:Ht}=Ye;null!=be&&(null===(tt=Ht[Ht.length-1])||void 0===tt?void 0:tt.id)!==be&&(ke.cancelAnimationFrame(be),Ye._scheduled=void 0)}});let Et,ut=1;const Ut={};function ei(Pe){return Pe in Ut&&(delete Ut[Pe],!0)}const Ti={setImmediate(Pe){const Ye=ut++;return Ut[Ye]=!0,Et||(Et=Promise.resolve()),Et.then(()=>ei(Ye)&&Pe()),Ye},clearImmediate(Pe){ei(Pe)}},{setImmediate:Fe,clearImmediate:Je}=Ti,$e={setImmediate(...Pe){const{delegate:Ye}=$e;return(Ye?.setImmediate||Fe)(...Pe)},clearImmediate(Pe){const{delegate:Ye}=$e;return(Ye?.clearImmediate||Je)(Pe)},delegate:void 0};new class Pt extends lt.v{flush(Ye){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:qe}=this;let tt;Ye=Ye||qe.shift();do{if(tt=Ye.execute(Ye.state,Ye.delay))break}while((Ye=qe[0])&&Ye.id===be&&qe.shift());if(this._active=!1,tt){for(;(Ye=qe[0])&&Ye.id===be&&qe.shift();)Ye.unsubscribe();throw tt}}}(class Nt extends Ke.o{constructor(Ye,be){super(Ye,be),this.scheduler=Ye,this.work=be}requestAsyncId(Ye,be,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Ye,be,qe):(Ye.actions.push(this),Ye._scheduled||(Ye._scheduled=$e.setImmediate(Ye.flush.bind(Ye,void 0))))}recycleAsyncId(Ye,be,qe=0){var tt;if(null!=qe?qe>0:this.delay>0)return super.recycleAsyncId(Ye,be,qe);const{actions:Ht}=Ye;null!=be&&(null===(tt=Ht[Ht.length-1])||void 0===tt?void 0:tt.id)!==be&&($e.clearImmediate(be),Ye._scheduled===be&&(Ye._scheduled=void 0))}});var _i=H(6321),Li=H(9360),Hi=H(4829),Dn=H(8251),yn=H(4825);function Hn(Pe,Ye=_i.z){return function Kn(Pe){return(0,Li.e)((Ye,be)=>{let qe=!1,tt=null,Ht=null,ri=!1;const Ei=()=>{if(Ht?.unsubscribe(),Ht=null,qe){qe=!1;const Gt=tt;tt=null,be.next(Gt)}ri&&be.complete()},gi=()=>{Ht=null,ri&&be.complete()};Ye.subscribe((0,Dn.x)(be,Gt=>{qe=!0,tt=Gt,Ht||(0,Hi.Xf)(Pe(Gt)).subscribe(Ht=(0,Dn.x)(be,Ei,gi))},()=>{ri=!0,(!qe||!Ht||Ht.closed)&&be.complete()}))})}(()=>(0,yn.H)(Pe,Ye))}var Pn=H(2181),xt=H(9773),wt=H(2831),gt=H(6814),Bt=H(9388);let Jt=(()=>{class Pe{constructor(be,qe,tt){this._ngZone=be,this._platform=qe,this._scrolled=new me.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=tt}register(be){this.scrollContainers.has(be)||this.scrollContainers.set(be,be.elementScrolled().subscribe(()=>this._scrolled.next(be)))}deregister(be){const qe=this.scrollContainers.get(be);qe&&(qe.unsubscribe(),this.scrollContainers.delete(be))}scrolled(be=20){return this._platform.isBrowser?new Ue.y(qe=>{this._globalSubscription||this._addGlobalListener();const tt=be>0?this._scrolled.pipe(Hn(be)).subscribe(qe):this._scrolled.subscribe(qe);return this._scrolledCount++,()=>{tt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,g.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((be,qe)=>this.deregister(qe)),this._scrolled.complete()}ancestorScrolled(be,qe){const tt=this.getAncestorScrollContainers(be);return this.scrolled(qe).pipe((0,Pn.h)(Ht=>!Ht||tt.indexOf(Ht)>-1))}getAncestorScrollContainers(be){const qe=[];return this.scrollContainers.forEach((tt,Ht)=>{this._scrollableContainsElement(Ht,be)&&qe.push(Ht)}),qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(be,qe){let tt=(0,x.fI)(qe),Ht=be.getElementRef().nativeElement;do{if(tt==Ht)return!0}while(tt=tt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const be=this._getWindow();return(0,ae.R)(be.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(qe){return new(qe||Pe)(l.LFG(l.R0b),l.LFG(wt.t4),l.LFG(gt.K0,8))};static#t=this.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),vi=(()=>{class Pe{constructor(be,qe,tt,Ht){this.elementRef=be,this.scrollDispatcher=qe,this.ngZone=tt,this.dir=Ht,this._destroyed=new me.x,this._elementScrolled=new Ue.y(ri=>this.ngZone.runOutsideAngular(()=>(0,ae.R)(this.elementRef.nativeElement,"scroll").pipe((0,xt.R)(this._destroyed)).subscribe(ri)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(be){const qe=this.elementRef.nativeElement,tt=this.dir&&"rtl"==this.dir.value;null==be.left&&(be.left=tt?be.end:be.start),null==be.right&&(be.right=tt?be.start:be.end),null!=be.bottom&&(be.top=qe.scrollHeight-qe.clientHeight-be.bottom),tt&&0!=(0,wt._i)()?(null!=be.left&&(be.right=qe.scrollWidth-qe.clientWidth-be.left),2==(0,wt._i)()?be.left=be.right:1==(0,wt._i)()&&(be.left=be.right?-be.right:be.right)):null!=be.right&&(be.left=qe.scrollWidth-qe.clientWidth-be.right),this._applyScrollToOptions(be)}_applyScrollToOptions(be){const qe=this.elementRef.nativeElement;(0,wt.Mq)()?qe.scrollTo(be):(null!=be.top&&(qe.scrollTop=be.top),null!=be.left&&(qe.scrollLeft=be.left))}measureScrollOffset(be){const qe="left",Ht=this.elementRef.nativeElement;if("top"==be)return Ht.scrollTop;if("bottom"==be)return Ht.scrollHeight-Ht.clientHeight-Ht.scrollTop;const ri=this.dir&&"rtl"==this.dir.value;return"start"==be?be=ri?"right":qe:"end"==be&&(be=ri?qe:"right"),ri&&2==(0,wt._i)()?be==qe?Ht.scrollWidth-Ht.clientWidth-Ht.scrollLeft:Ht.scrollLeft:ri&&1==(0,wt._i)()?be==qe?Ht.scrollLeft+Ht.scrollWidth-Ht.clientWidth:-Ht.scrollLeft:be==qe?Ht.scrollLeft:Ht.scrollWidth-Ht.clientWidth-Ht.scrollLeft}static#e=this.\u0275fac=function(qe){return new(qe||Pe)(l.Y36(l.SBq),l.Y36(Jt),l.Y36(l.R0b),l.Y36(Bt.Is,8))};static#t=this.\u0275dir=l.lG2({type:Pe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Pe})(),Fi=(()=>{class Pe{constructor(be,qe,tt){this._platform=be,this._change=new me.x,this._changeListener=Ht=>{this._change.next(Ht)},this._document=tt,qe.runOutsideAngular(()=>{if(be.isBrowser){const Ht=this._getWindow();Ht.addEventListener("resize",this._changeListener),Ht.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const be=this._getWindow();be.removeEventListener("resize",this._changeListener),be.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const be={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),be}getViewportRect(){const be=this.getViewportScrollPosition(),{width:qe,height:tt}=this.getViewportSize();return{top:be.top,left:be.left,bottom:be.top+tt,right:be.left+qe,height:tt,width:qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const be=this._document,qe=this._getWindow(),tt=be.documentElement,Ht=tt.getBoundingClientRect();return{top:-Ht.top||be.body.scrollTop||qe.scrollY||tt.scrollTop||0,left:-Ht.left||be.body.scrollLeft||qe.scrollX||tt.scrollLeft||0}}change(be=20){return be>0?this._change.pipe(Hn(be)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const be=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:be.innerWidth,height:be.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(qe){return new(qe||Pe)(l.LFG(wt.t4),l.LFG(l.R0b),l.LFG(gt.K0,8))};static#t=this.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),xe=(()=>{class Pe{static#e=this.\u0275fac=function(qe){return new(qe||Pe)};static#t=this.\u0275mod=l.oAB({type:Pe});static#i=this.\u0275inj=l.cJS({})}return Pe})(),Re=(()=>{class Pe{static#e=this.\u0275fac=function(qe){return new(qe||Pe)};static#t=this.\u0275mod=l.oAB({type:Pe});static#i=this.\u0275inj=l.cJS({imports:[Bt.vT,xe,Bt.vT,xe]})}return Pe})()},6814:(bi,vt,H)=>{"use strict";H.d(vt,{Do:()=>Et,ED:()=>El,EM:()=>Bo,HT:()=>g,JF:()=>ls,K0:()=>ae,Mx:()=>fn,NF:()=>Kr,O5:()=>Ki,Ov:()=>Sl,PC:()=>ia,PM:()=>qo,RF:()=>To,S$:()=>it,V_:()=>ot,Ye:()=>Ut,b0:()=>ut,bD:()=>No,ez:()=>vr,mk:()=>_n,n9:()=>lo,q:()=>me,sg:()=>Jn,tP:()=>na,w_:()=>Ue});var x=H(5879);let l=null;function me(){return l}function g(B){l||(l=B)}class Ue{}const ae=new x.OlP("DocumentToken");let Ke=(()=>{class B{historyGo(Y){throw new Error("Not implemented")}static#e=this.\u0275fac=function(oe){return new(oe||B)};static#t=this.\u0275prov=x.Yz7({token:B,factory:function(){return(0,x.f3M)(ke)},providedIn:"platform"})}return B})();const ot=new x.OlP("Location Initialized");let ke=(()=>{class B extends Ke{constructor(){super(),this._doc=(0,x.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return me().getBaseHref(this._doc)}onPopState(Y){const oe=me().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",Y,!1),()=>oe.removeEventListener("popstate",Y)}onHashChange(Y){const oe=me().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",Y,!1),()=>oe.removeEventListener("hashchange",Y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Y){this._location.pathname=Y}pushState(Y,oe,Me){this._history.pushState(Y,oe,Me)}replaceState(Y,oe,Me){this._history.replaceState(Y,oe,Me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}static#e=this.\u0275fac=function(oe){return new(oe||B)};static#t=this.\u0275prov=x.Yz7({token:B,factory:function(){return new B},providedIn:"platform"})}return B})();function He(B,he){if(0==B.length)return he;if(0==he.length)return B;let Y=0;return B.endsWith("/")&&Y++,he.startsWith("/")&&Y++,2==Y?B+he.substring(1):1==Y?B+he:B+"/"+he}function lt(B){const he=B.match(/#|\?|$/),Y=he&&he.index||B.length;return B.slice(0,Y-("/"===B[Y-1]?1:0))+B.slice(Y)}function Ze(B){return B&&"?"!==B[0]?"?"+B:B}let it=(()=>{class B{historyGo(Y){throw new Error("Not implemented")}static#e=this.\u0275fac=function(oe){return new(oe||B)};static#t=this.\u0275prov=x.Yz7({token:B,factory:function(){return(0,x.f3M)(ut)},providedIn:"root"})}return B})();const nt=new x.OlP("appBaseHref");let ut=(()=>{class B extends it{constructor(Y,oe){super(),this._platformLocation=Y,this._removeListenerFns=[],this._baseHref=oe??this._platformLocation.getBaseHrefFromDOM()??(0,x.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return He(this._baseHref,Y)}path(Y=!1){const oe=this._platformLocation.pathname+Ze(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&Y?`${oe}${Me}`:oe}pushState(Y,oe,Me,Lt){const Zt=this.prepareExternalUrl(Me+Ze(Lt));this._platformLocation.pushState(Y,oe,Zt)}replaceState(Y,oe,Me,Lt){const Zt=this.prepareExternalUrl(Me+Ze(Lt));this._platformLocation.replaceState(Y,oe,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.LFG(Ke),x.LFG(nt,8))};static#t=this.\u0275prov=x.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})(),Et=(()=>{class B extends it{constructor(Y,oe){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(Y){const oe=He(this._baseHref,Y);return oe.length>0?"#"+oe:oe}pushState(Y,oe,Me,Lt){let Zt=this.prepareExternalUrl(Me+Ze(Lt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.pushState(Y,oe,Zt)}replaceState(Y,oe,Me,Lt){let Zt=this.prepareExternalUrl(Me+Ze(Lt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.replaceState(Y,oe,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Y=0){this._platformLocation.historyGo?.(Y)}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.LFG(Ke),x.LFG(nt,8))};static#t=this.\u0275prov=x.Yz7({token:B,factory:B.\u0275fac})}return B})(),Ut=(()=>{class B{constructor(Y){this._subject=new x.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Y;const oe=this._locationStrategy.getBaseHref();this._basePath=function Fe(B){if(new RegExp("^(https?:)?//").test(B)){const[,Y]=B.split(/\/\/[^\/]+/);return Y}return B}(lt(ni(oe))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Y=!1){return this.normalize(this._locationStrategy.path(Y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Y,oe=""){return this.path()==this.normalize(Y+Ze(oe))}normalize(Y){return B.stripTrailingSlash(function Ti(B,he){if(!B||!he.startsWith(B))return he;const Y=he.substring(B.length);return""===Y||["/",";","?","#"].includes(Y[0])?Y:he}(this._basePath,ni(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._locationStrategy.prepareExternalUrl(Y)}go(Y,oe="",Me=null){this._locationStrategy.pushState(Me,"",Y,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Ze(oe)),Me)}replaceState(Y,oe="",Me=null){this._locationStrategy.replaceState(Me,"",Y,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+Ze(oe)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Y=0){this._locationStrategy.historyGo?.(Y)}onUrlChange(Y){return this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{const oe=this._urlChangeListeners.indexOf(Y);this._urlChangeListeners.splice(oe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Y="",oe){this._urlChangeListeners.forEach(Me=>Me(Y,oe))}subscribe(Y,oe,Me){return this._subject.subscribe({next:Y,error:oe,complete:Me})}static#e=this.normalizeQueryParams=Ze;static#t=this.joinWithSlash=He;static#i=this.stripTrailingSlash=lt;static#n=this.\u0275fac=function(oe){return new(oe||B)(x.LFG(it))};static#r=this.\u0275prov=x.Yz7({token:B,factory:function(){return function ei(){return new Ut((0,x.LFG)(it))}()},providedIn:"root"})}return B})();function ni(B){return B.replace(/\/index.html$/,"")}function fn(B,he){he=encodeURIComponent(he);for(const Y of B.split(";")){const oe=Y.indexOf("="),[Me,Lt]=-1==oe?[Y,""]:[Y.slice(0,oe),Y.slice(oe+1)];if(Me.trim()===he)return decodeURIComponent(Lt)}return null}const Ur=/\s+/,Rn=[];let _n=(()=>{class B{constructor(Y,oe,Me,Lt){this._iterableDiffers=Y,this._keyValueDiffers=oe,this._ngEl=Me,this._renderer=Lt,this.initialClasses=Rn,this.stateMap=new Map}set klass(Y){this.initialClasses=null!=Y?Y.trim().split(Ur):Rn}set ngClass(Y){this.rawClass="string"==typeof Y?Y.trim().split(Ur):Y}ngDoCheck(){for(const oe of this.initialClasses)this._updateState(oe,!0);const Y=this.rawClass;if(Array.isArray(Y)||Y instanceof Set)for(const oe of Y)this._updateState(oe,!0);else if(null!=Y)for(const oe of Object.keys(Y))this._updateState(oe,!!Y[oe]);this._applyStateDiff()}_updateState(Y,oe){const Me=this.stateMap.get(Y);void 0!==Me?(Me.enabled!==oe&&(Me.changed=!0,Me.enabled=oe),Me.touched=!0):this.stateMap.set(Y,{enabled:oe,changed:!0,touched:!0})}_applyStateDiff(){for(const Y of this.stateMap){const oe=Y[0],Me=Y[1];Me.changed?(this._toggleClass(oe,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(oe,!1),this.stateMap.delete(oe)),Me.touched=!1}}_toggleClass(Y,oe){(Y=Y.trim()).length>0&&Y.split(Ur).forEach(Me=>{oe?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.ZZ4),x.Y36(x.aQg),x.Y36(x.SBq),x.Y36(x.Qsj))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return B})();class Mn{constructor(he,Y,oe,Me){this.$implicit=he,this.ngForOf=Y,this.index=oe,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jn=(()=>{class B{set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}constructor(Y,oe,Me){this._viewContainer=Y,this._template=oe,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const oe=this._viewContainer;Y.forEachOperation((Me,Lt,Zt)=>{if(null==Me.previousIndex)oe.createEmbeddedView(this._template,new Mn(Me.item,this._ngForOf,-1,-1),null===Zt?void 0:Zt);else if(null==Zt)oe.remove(null===Lt?void 0:Lt);else if(null!==Lt){const ji=oe.get(Lt);oe.move(ji,Zt),Tr(ji,Me)}});for(let Me=0,Lt=oe.length;Me<Lt;Me++){const ji=oe.get(Me).context;ji.index=Me,ji.count=Lt,ji.ngForOf=this._ngForOf}Y.forEachIdentityChange(Me=>{Tr(oe.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(Y,oe){return!0}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(x.ZZ4))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return B})();function Tr(B,he){B.context.$implicit=he.item}let Ki=(()=>{class B{constructor(Y,oe){this._viewContainer=Y,this._context=new Lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){dr("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){dr("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,oe){return!0}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.s_b),x.Y36(x.Rgc))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return B})();class Lo{constructor(){this.$implicit=null,this.ngIf=null}}function dr(B,he){if(he&&!he.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,x.AaK)(he)}'.`)}class vn{constructor(he,Y){this._viewContainerRef=he,this._templateRef=Y,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(he){he&&!this._created?this.create():!he&&this._created&&this.destroy()}}let To=(()=>{class B{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Y){this._ngSwitch=Y,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Y){this._defaultViews.push(Y)}_matchCase(Y){const oe=Y==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(Y){if(this._defaultViews.length>0&&Y!==this._defaultUsed){this._defaultUsed=Y;for(const oe of this._defaultViews)oe.enforceState(Y)}}static#e=this.\u0275fac=function(oe){return new(oe||B)};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return B})(),lo=(()=>{class B{constructor(Y,oe,Me){this.ngSwitch=Me,Me._addCase(),this._view=new vn(Y,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(To,9))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return B})(),El=(()=>{class B{constructor(Y,oe,Me){Me._addDefault(new vn(Y,oe))}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(To,9))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return B})(),ia=(()=>{class B{constructor(Y,oe,Me){this._ngEl=Y,this._differs=oe,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(Y){this._ngStyle=Y,!this._differ&&Y&&(this._differ=this._differs.find(Y).create())}ngDoCheck(){if(this._differ){const Y=this._differ.diff(this._ngStyle);Y&&this._applyChanges(Y)}}_setStyle(Y,oe){const[Me,Lt]=Y.split("."),Zt=-1===Me.indexOf("-")?void 0:x.JOm.DashCase;null!=oe?this._renderer.setStyle(this._ngEl.nativeElement,Me,Lt?`${oe}${Lt}`:oe,Zt):this._renderer.removeStyle(this._ngEl.nativeElement,Me,Zt)}_applyChanges(Y){Y.forEachRemovedItem(oe=>this._setStyle(oe.key,null)),Y.forEachAddedItem(oe=>this._setStyle(oe.key,oe.currentValue)),Y.forEachChangedItem(oe=>this._setStyle(oe.key,oe.currentValue))}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.SBq),x.Y36(x.aQg),x.Y36(x.Qsj))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return B})(),na=(()=>{class B{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Y){if(Y.ngTemplateOutlet||Y.ngTemplateOutletInjector){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Me,ngTemplateOutletContext:Lt,ngTemplateOutletInjector:Zt}=this;this._viewRef=oe.createEmbeddedView(Me,Lt,Zt?{injector:Zt}:void 0)}else this._viewRef=null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.s_b))};static#t=this.\u0275dir=x.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[x.TTD]})}return B})();class $s{createSubscription(he,Y){return(0,x.rg0)(()=>he.subscribe({next:Y,error:oe=>{throw oe}}))}dispose(he){(0,x.rg0)(()=>he.unsubscribe())}}class Oa{createSubscription(he,Y){return he.then(Y,oe=>{throw oe})}dispose(he){}}const Za=new Oa,Gs=new $s;let Sl=(()=>{class B{constructor(Y){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Y}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Y){return this._obj?Y!==this._obj?(this._dispose(),this.transform(Y)):this._latestValue:(Y&&this._subscribe(Y),this._latestValue)}_subscribe(Y){this._obj=Y,this._strategy=this._selectStrategy(Y),this._subscription=this._strategy.createSubscription(Y,oe=>this._updateLatestValue(Y,oe))}_selectStrategy(Y){if((0,x.QGY)(Y))return Za;if((0,x.F4k)(Y))return Gs;throw function jr(B,he){return new x.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Y,oe){Y===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}static#e=this.\u0275fac=function(oe){return new(oe||B)(x.Y36(x.sBO,16))};static#t=this.\u0275pipe=x.Yjl({name:"async",type:B,pure:!1,standalone:!0})}return B})(),vr=(()=>{class B{static#e=this.\u0275fac=function(oe){return new(oe||B)};static#t=this.\u0275mod=x.oAB({type:B});static#i=this.\u0275inj=x.cJS({})}return B})();const No="browser",zo="server";function Kr(B){return B===No}function qo(B){return B===zo}let Bo=(()=>{class B{static#e=this.\u0275prov=(0,x.Yz7)({token:B,providedIn:"root",factory:()=>new Yo((0,x.LFG)(ae),window)})}return B})();class Yo{constructor(he,Y){this.document=he,this.window=Y,this.offset=()=>[0,0]}setOffset(he){this.offset=Array.isArray(he)?()=>he:he}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(he){this.supportsScrolling()&&this.window.scrollTo(he[0],he[1])}scrollToAnchor(he){if(!this.supportsScrolling())return;const Y=function Il(B,he){const Y=B.getElementById(he)||B.getElementsByName(he)[0];if(Y)return Y;if("function"==typeof B.createTreeWalker&&B.body&&"function"==typeof B.body.attachShadow){const oe=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Me=oe.currentNode;for(;Me;){const Lt=Me.shadowRoot;if(Lt){const Zt=Lt.getElementById(he)||Lt.querySelector(`[name="${he}"]`);if(Zt)return Zt}Me=oe.nextNode()}}return null}(this.document,he);Y&&(this.scrollToElement(Y),Y.focus())}setHistoryScrollRestoration(he){this.supportsScrolling()&&(this.window.history.scrollRestoration=he)}scrollToElement(he){const Y=he.getBoundingClientRect(),oe=Y.left+this.window.pageXOffset,Me=Y.top+this.window.pageYOffset,Lt=this.offset();this.window.scrollTo(oe-Lt[0],Me-Lt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ls{}},9862:(bi,vt,H)=>{"use strict";H.d(vt,{JF:()=>Z,eN:()=>xt});var x=H(5879),l=H(2096),me=H(7715),g=H(5592),Ue=H(6328),ae=H(2181),Ke=H(7398),ot=H(4716),ke=H(4664),He=H(6814);class lt{}class Ze{}class it{constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?"string"==typeof Ne?this.lazyInit=()=>{this.headers=new Map,Ne.split("\n").forEach(Qe=>{const St=Qe.indexOf(":");if(St>0){const Qt=Qe.slice(0,St),si=Qt.toLowerCase(),oi=Qe.slice(St+1).trim();this.maybeSetNormalizedName(Qt,si),this.headers.has(si)?this.headers.get(si).push(oi):this.headers.set(si,[oi])}})}:typeof Headers<"u"&&Ne instanceof Headers?(this.headers=new Map,Ne.forEach((Qe,St)=>{this.setHeaderEntries(St,Qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ne).forEach(([Qe,St])=>{this.setHeaderEntries(Qe,St)})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const Qe=this.headers.get(Ne.toLowerCase());return Qe&&Qe.length>0?Qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,Qe){return this.clone({name:Ne,value:Qe,op:"a"})}set(Ne,Qe){return this.clone({name:Ne,value:Qe,op:"s"})}delete(Ne,Qe){return this.clone({name:Ne,value:Qe,op:"d"})}maybeSetNormalizedName(Ne,Qe){this.normalizedNames.has(Qe)||this.normalizedNames.set(Qe,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof it?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(Qe=>{this.headers.set(Qe,Ne.headers.get(Qe)),this.normalizedNames.set(Qe,Ne.normalizedNames.get(Qe))})}clone(Ne){const Qe=new it;return Qe.lazyInit=this.lazyInit&&this.lazyInit instanceof it?this.lazyInit:this,Qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),Qe}applyUpdate(Ne){const Qe=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let St=Ne.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(Ne.name,Qe);const Qt=("a"===Ne.op?this.headers.get(Qe):void 0)||[];Qt.push(...St),this.headers.set(Qe,Qt);break;case"d":const si=Ne.value;if(si){let oi=this.headers.get(Qe);if(!oi)return;oi=oi.filter(Oi=>-1===si.indexOf(Oi)),0===oi.length?(this.headers.delete(Qe),this.normalizedNames.delete(Qe)):this.headers.set(Qe,oi)}else this.headers.delete(Qe),this.normalizedNames.delete(Qe)}}setHeaderEntries(Ne,Qe){const St=(Array.isArray(Qe)?Qe:[Qe]).map(si=>si.toString()),Qt=Ne.toLowerCase();this.headers.set(Qt,St),this.maybeSetNormalizedName(Ne,Qt)}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(Qe=>Ne(this.normalizedNames.get(Qe),this.headers.get(Qe)))}}class ut{encodeKey(Ne){return Ti(Ne)}encodeValue(Ne){return Ti(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const Ut=/%(\d[a-f0-9])/gi,ei={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ti(Ve){return encodeURIComponent(Ve).replace(Ut,(Ne,Qe)=>ei[Qe]??Ne)}function ni(Ve){return`${Ve}`}class Fe{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new ut,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Et(Ve,Ne){const Qe=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(Qt=>{const si=Qt.indexOf("="),[oi,Oi]=-1==si?[Ne.decodeKey(Qt),""]:[Ne.decodeKey(Qt.slice(0,si)),Ne.decodeValue(Qt.slice(si+1))],nn=Qe.get(oi)||[];nn.push(Oi),Qe.set(oi,nn)}),Qe}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(Qe=>{const St=Ne.fromObject[Qe],Qt=Array.isArray(St)?St.map(ni):[ni(St)];this.map.set(Qe,Qt)})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const Qe=this.map.get(Ne);return Qe?Qe[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,Qe){return this.clone({param:Ne,value:Qe,op:"a"})}appendAll(Ne){const Qe=[];return Object.keys(Ne).forEach(St=>{const Qt=Ne[St];Array.isArray(Qt)?Qt.forEach(si=>{Qe.push({param:St,value:si,op:"a"})}):Qe.push({param:St,value:Qt,op:"a"})}),this.clone(Qe)}set(Ne,Qe){return this.clone({param:Ne,value:Qe,op:"s"})}delete(Ne,Qe){return this.clone({param:Ne,value:Qe,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const Qe=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(St=>Qe+"="+this.encoder.encodeValue(St)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const Qe=new Fe({encoder:this.encoder});return Qe.cloneFrom=this.cloneFrom||this,Qe.updates=(this.updates||[]).concat(Ne),Qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const Qe=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];Qe.push(ni(Ne.value)),this.map.set(Ne.param,Qe);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let St=this.map.get(Ne.param)||[];const Qt=St.indexOf(ni(Ne.value));-1!==Qt&&St.splice(Qt,1),St.length>0?this.map.set(Ne.param,St):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class $e{constructor(){this.map=new Map}set(Ne,Qe){return this.map.set(Ne,Qe),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function Pt(Ve){return typeof ArrayBuffer<"u"&&Ve instanceof ArrayBuffer}function zt(Ve){return typeof Blob<"u"&&Ve instanceof Blob}function fi(Ve){return typeof FormData<"u"&&Ve instanceof FormData}class Li{constructor(Ne,Qe,St,Qt){let si;if(this.url=Qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function Nt(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qt?(this.body=void 0!==St?St:null,si=Qt):si=St,si&&(this.reportProgress=!!si.reportProgress,this.withCredentials=!!si.withCredentials,si.responseType&&(this.responseType=si.responseType),si.headers&&(this.headers=si.headers),si.context&&(this.context=si.context),si.params&&(this.params=si.params)),this.headers||(this.headers=new it),this.context||(this.context=new $e),this.params){const oi=this.params.toString();if(0===oi.length)this.urlWithParams=Qe;else{const Oi=Qe.indexOf("?");this.urlWithParams=Qe+(-1===Oi?"?":Oi<Qe.length-1?"&":"")+oi}}else this.params=new Fe,this.urlWithParams=Qe}serializeBody(){return null===this.body?null:Pt(this.body)||zt(this.body)||fi(this.body)||function _i(Ve){return typeof URLSearchParams<"u"&&Ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fi(this.body)?null:zt(this.body)?this.body.type||null:Pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){const Qe=Ne.method||this.method,St=Ne.url||this.url,Qt=Ne.responseType||this.responseType,si=void 0!==Ne.body?Ne.body:this.body,oi=void 0!==Ne.withCredentials?Ne.withCredentials:this.withCredentials,Oi=void 0!==Ne.reportProgress?Ne.reportProgress:this.reportProgress;let nn=Ne.headers||this.headers,gr=Ne.params||this.params;const xr=Ne.context??this.context;return void 0!==Ne.setHeaders&&(nn=Object.keys(Ne.setHeaders).reduce((so,_r)=>so.set(_r,Ne.setHeaders[_r]),nn)),Ne.setParams&&(gr=Object.keys(Ne.setParams).reduce((so,_r)=>so.set(_r,Ne.setParams[_r]),gr)),new Li(Qe,St,si,{params:gr,headers:nn,context:xr,reportProgress:Oi,responseType:Qt,withCredentials:oi})}}var Hi=function(Ve){return Ve[Ve.Sent=0]="Sent",Ve[Ve.UploadProgress=1]="UploadProgress",Ve[Ve.ResponseHeader=2]="ResponseHeader",Ve[Ve.DownloadProgress=3]="DownloadProgress",Ve[Ve.Response=4]="Response",Ve[Ve.User=5]="User",Ve}(Hi||{});class Dn{constructor(Ne,Qe=200,St="OK"){this.headers=Ne.headers||new it,this.status=void 0!==Ne.status?Ne.status:Qe,this.statusText=Ne.statusText||St,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}class Kn extends Dn{constructor(Ne={}){super(Ne),this.type=Hi.ResponseHeader}clone(Ne={}){return new Kn({headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class yn extends Dn{constructor(Ne={}){super(Ne),this.type=Hi.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new yn({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class Hn extends Dn{constructor(Ne){super(Ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ne.url||"(unknown url)"}`:`Http failure response for ${Ne.url||"(unknown url)"}: ${Ne.status} ${Ne.statusText}`,this.error=Ne.error||null}}function Pn(Ve,Ne){return{body:Ne,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials}}let xt=(()=>{class Ve{constructor(Qe){this.handler=Qe}request(Qe,St,Qt={}){let si;if(Qe instanceof Li)si=Qe;else{let nn,gr;nn=Qt.headers instanceof it?Qt.headers:new it(Qt.headers),Qt.params&&(gr=Qt.params instanceof Fe?Qt.params:new Fe({fromObject:Qt.params})),si=new Li(Qe,St,void 0!==Qt.body?Qt.body:null,{headers:nn,context:Qt.context,params:gr,reportProgress:Qt.reportProgress,responseType:Qt.responseType||"json",withCredentials:Qt.withCredentials})}const oi=(0,l.of)(si).pipe((0,Ue.b)(nn=>this.handler.handle(nn)));if(Qe instanceof Li||"events"===Qt.observe)return oi;const Oi=oi.pipe((0,ae.h)(nn=>nn instanceof yn));switch(Qt.observe||"body"){case"body":switch(si.responseType){case"arraybuffer":return Oi.pipe((0,Ke.U)(nn=>{if(null!==nn.body&&!(nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return nn.body}));case"blob":return Oi.pipe((0,Ke.U)(nn=>{if(null!==nn.body&&!(nn.body instanceof Blob))throw new Error("Response is not a Blob.");return nn.body}));case"text":return Oi.pipe((0,Ke.U)(nn=>{if(null!==nn.body&&"string"!=typeof nn.body)throw new Error("Response is not a string.");return nn.body}));default:return Oi.pipe((0,Ke.U)(nn=>nn.body))}case"response":return Oi;default:throw new Error(`Unreachable: unhandled observe type ${Qt.observe}}`)}}delete(Qe,St={}){return this.request("DELETE",Qe,St)}get(Qe,St={}){return this.request("GET",Qe,St)}head(Qe,St={}){return this.request("HEAD",Qe,St)}jsonp(Qe,St){return this.request("JSONP",Qe,{params:(new Fe).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Qe,St={}){return this.request("OPTIONS",Qe,St)}patch(Qe,St,Qt={}){return this.request("PATCH",Qe,Pn(Qt,St))}post(Qe,St,Qt={}){return this.request("POST",Qe,Pn(Qt,St))}put(Qe,St,Qt={}){return this.request("PUT",Qe,Pn(Qt,St))}static#e=this.\u0275fac=function(St){return new(St||Ve)(x.LFG(lt))};static#t=this.\u0275prov=x.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();function ht(Ve,Ne){return Ne(Ve)}function At(Ve,Ne){return(Qe,St)=>Ne.intercept(Qe,{handle:Qt=>Ve(Qt,St)})}const Jt=new x.OlP(""),vi=new x.OlP(""),yi=new x.OlP("");function Fi(){let Ve=null;return(Ne,Qe)=>{null===Ve&&(Ve=((0,x.f3M)(Jt,{optional:!0})??[]).reduceRight(At,ht));const St=(0,x.f3M)(x.HDt),Qt=St.add();return Ve(Ne,Qe).pipe((0,ot.x)(()=>St.remove(Qt)))}}let dt=(()=>{class Ve extends lt{constructor(Qe,St){super(),this.backend=Qe,this.injector=St,this.chain=null,this.pendingTasks=(0,x.f3M)(x.HDt)}handle(Qe){if(null===this.chain){const Qt=Array.from(new Set([...this.injector.get(vi),...this.injector.get(yi,[])]));this.chain=Qt.reduceRight((si,oi)=>function ai(Ve,Ne,Qe){return(St,Qt)=>Qe.runInContext(()=>Ne(St,si=>Ve(si,Qt)))}(si,oi,this.injector),ht)}const St=this.pendingTasks.add();return this.chain(Qe,Qt=>this.backend.handle(Qt)).pipe((0,ot.x)(()=>this.pendingTasks.remove(St)))}static#e=this.\u0275fac=function(St){return new(St||Ve)(x.LFG(Ze),x.LFG(x.lqb))};static#t=this.\u0275prov=x.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();const Ye=/^\)\]\}',?\n/;let qe=(()=>{class Ve{constructor(Qe){this.xhrFactory=Qe}handle(Qe){if("JSONP"===Qe.method)throw new x.vHH(-2800,!1);const St=this.xhrFactory;return(St.\u0275loadImpl?(0,me.D)(St.\u0275loadImpl()):(0,l.of)(null)).pipe((0,ke.w)(()=>new g.y(si=>{const oi=St.build();if(oi.open(Qe.method,Qe.urlWithParams),Qe.withCredentials&&(oi.withCredentials=!0),Qe.headers.forEach((Rn,_n)=>oi.setRequestHeader(Rn,_n.join(","))),Qe.headers.has("Accept")||oi.setRequestHeader("Accept","application/json, text/plain, */*"),!Qe.headers.has("Content-Type")){const Rn=Qe.detectContentTypeHeader();null!==Rn&&oi.setRequestHeader("Content-Type",Rn)}if(Qe.responseType){const Rn=Qe.responseType.toLowerCase();oi.responseType="json"!==Rn?Rn:"text"}const Oi=Qe.serializeBody();let nn=null;const gr=()=>{if(null!==nn)return nn;const Rn=oi.statusText||"OK",_n=new it(oi.getAllResponseHeaders()),hr=function be(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(oi)||Qe.url;return nn=new Kn({headers:_n,status:oi.status,statusText:Rn,url:hr}),nn},xr=()=>{let{headers:Rn,status:_n,statusText:hr,url:Ts}=gr(),Mn=null;204!==_n&&(Mn=typeof oi.response>"u"?oi.responseText:oi.response),0===_n&&(_n=Mn?200:0);let Jn=_n>=200&&_n<300;if("json"===Qe.responseType&&"string"==typeof Mn){const Tr=Mn;Mn=Mn.replace(Ye,"");try{Mn=""!==Mn?JSON.parse(Mn):null}catch(ao){Mn=Tr,Jn&&(Jn=!1,Mn={error:ao,text:Mn})}}Jn?(si.next(new yn({body:Mn,headers:Rn,status:_n,statusText:hr,url:Ts||void 0})),si.complete()):si.error(new Hn({error:Mn,headers:Rn,status:_n,statusText:hr,url:Ts||void 0}))},so=Rn=>{const{url:_n}=gr(),hr=new Hn({error:Rn,status:oi.status||0,statusText:oi.statusText||"Unknown Error",url:_n||void 0});si.error(hr)};let _r=!1;const fn=Rn=>{_r||(si.next(gr()),_r=!0);let _n={type:Hi.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(_n.total=Rn.total),"text"===Qe.responseType&&oi.responseText&&(_n.partialText=oi.responseText),si.next(_n)},Ur=Rn=>{let _n={type:Hi.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(_n.total=Rn.total),si.next(_n)};return oi.addEventListener("load",xr),oi.addEventListener("error",so),oi.addEventListener("timeout",so),oi.addEventListener("abort",so),Qe.reportProgress&&(oi.addEventListener("progress",fn),null!==Oi&&oi.upload&&oi.upload.addEventListener("progress",Ur)),oi.send(Oi),si.next({type:Hi.Sent}),()=>{oi.removeEventListener("error",so),oi.removeEventListener("abort",so),oi.removeEventListener("load",xr),oi.removeEventListener("timeout",so),Qe.reportProgress&&(oi.removeEventListener("progress",fn),null!==Oi&&oi.upload&&oi.upload.removeEventListener("progress",Ur)),oi.readyState!==oi.DONE&&oi.abort()}})))}static#e=this.\u0275fac=function(St){return new(St||Ve)(x.LFG(He.JF))};static#t=this.\u0275prov=x.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();const tt=new x.OlP("XSRF_ENABLED"),ri=new x.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gi=new x.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gt{}let Mi=(()=>{class Ve{constructor(Qe,St,Qt){this.doc=Qe,this.platform=St,this.cookieName=Qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Qe=this.doc.cookie||"";return Qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,He.Mx)(Qe,this.cookieName),this.lastCookieString=Qe),this.lastToken}static#e=this.\u0275fac=function(St){return new(St||Ve)(x.LFG(He.K0),x.LFG(x.Lbi),x.LFG(ri))};static#t=this.\u0275prov=x.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();function xi(Ve,Ne){const Qe=Ve.url.toLowerCase();if(!(0,x.f3M)(tt)||"GET"===Ve.method||"HEAD"===Ve.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return Ne(Ve);const St=(0,x.f3M)(Gt).getToken(),Qt=(0,x.f3M)(gi);return null!=St&&!Ve.headers.has(Qt)&&(Ve=Ve.clone({headers:Ve.headers.set(Qt,St)})),Ne(Ve)}var Vt=function(Ve){return Ve[Ve.Interceptors=0]="Interceptors",Ve[Ve.LegacyInterceptors=1]="LegacyInterceptors",Ve[Ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ve[Ve.NoXsrfProtection=3]="NoXsrfProtection",Ve[Ve.JsonpSupport=4]="JsonpSupport",Ve[Ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ve[Ve.Fetch=6]="Fetch",Ve}(Vt||{});function Ft(...Ve){const Ne=[xt,qe,dt,{provide:lt,useExisting:dt},{provide:Ze,useExisting:qe},{provide:vi,useValue:xi,multi:!0},{provide:tt,useValue:!0},{provide:Gt,useClass:Mi}];for(const Qe of Ve)Ne.push(...Qe.\u0275providers);return(0,x.MR2)(Ne)}const K=new x.OlP("LEGACY_INTERCEPTOR_FN");function se(){return function ci(Ve,Ne){return{\u0275kind:Ve,\u0275providers:Ne}}(Vt.LegacyInterceptors,[{provide:K,useFactory:Fi},{provide:vi,useExisting:K,multi:!0}])}let Z=(()=>{class Ve{static#e=this.\u0275fac=function(St){return new(St||Ve)};static#t=this.\u0275mod=x.oAB({type:Ve});static#i=this.\u0275inj=x.cJS({providers:[Ft(se())]})}return Ve})()},5879:(bi,vt,H)=>{"use strict";H.d(vt,{$8M:()=>Nu,$WT:()=>os,$Z:()=>Py,AFp:()=>Gi,ALo:()=>zf,AaK:()=>Ze,Akn:()=>vc,BQk:()=>Ef,CHM:()=>nc,CRH:()=>c,DdM:()=>B_,EJc:()=>oD,EiD:()=>Kp,EpF:()=>wv,F$t:()=>tw,F4k:()=>Cv,FYo:()=>nf,FiY:()=>id,G48:()=>VD,Gf:()=>b0,GfV:()=>Om,GkF:()=>h_,Gpc:()=>ut,Gre:()=>Qv,HDt:()=>_E,Hsn:()=>iw,Ikx:()=>M_,JOm:()=>zc,JVY:()=>wm,JZr:()=>ni,Jf7:()=>Cy,KtG:()=>rc,L6k:()=>hh,LAX:()=>md,LFG:()=>ye,Lbi:()=>wi,Lck:()=>$b,MAs:()=>vv,MMx:()=>Wb,MR2:()=>gd,NdJ:()=>p_,O4$:()=>Lr,Ojb:()=>hi,OlP:()=>cr,Oqu:()=>w_,P3R:()=>Tm,PXZ:()=>PD,Q6J:()=>c_,QGY:()=>m_,QbO:()=>Si,Qsj:()=>rf,R0b:()=>ea,RDi:()=>_g,Rgc:()=>Xm,SBq:()=>wu,Sil:()=>lD,Suo:()=>pC,TTD:()=>Bn,TgZ:()=>xf,Tol:()=>Lv,Udp:()=>v_,VKq:()=>r0,VuI:()=>pM,W1O:()=>X,WFA:()=>f_,WLB:()=>o0,XFs:()=>Tt,Xpm:()=>$s,Xq5:()=>tv,Xts:()=>fd,Y36:()=>Ah,YKP:()=>Hb,YNc:()=>gv,Yjl:()=>Fa,Yz7:()=>Jt,Z0I:()=>dt,ZZ4:()=>MC,_Bn:()=>jb,_UZ:()=>u_,_Vd:()=>xu,_c5:()=>iM,_uU:()=>Hv,aQg:()=>SC,c2e:()=>gE,cJS:()=>yi,cg1:()=>T_,d8E:()=>S_,dDg:()=>TD,dqk:()=>qe,eBb:()=>ja,eFA:()=>SE,eJc:()=>Pi,ekj:()=>b_,eoX:()=>CE,f3M:()=>pe,g9A:()=>Ii,h0i:()=>Iu,hGG:()=>nM,hij:()=>Tf,iGM:()=>v0,ifc:()=>si,ip1:()=>fE,jDz:()=>Yb,kEZ:()=>s0,kL8:()=>cb,kcU:()=>En,lG2:()=>Ra,lcZ:()=>d0,lqb:()=>ge,lri:()=>xE,mCW:()=>mh,n5z:()=>ed,n_E:()=>Vf,oAB:()=>Sl,oJD:()=>bh,oxw:()=>ew,pB0:()=>jp,q3G:()=>Ta,qFp:()=>gM,qLn:()=>Yd,qOj:()=>pf,qZA:()=>wf,qzn:()=>pc,rFY:()=>Rf,rWj:()=>wE,rg0:()=>Me,s9C:()=>Mv,sBO:()=>UD,s_b:()=>Hf,soG:()=>w0,tb:()=>bC,tp0:()=>Fc,uIk:()=>n_,vHH:()=>Fe,vpe:()=>yc,wAp:()=>jh,xp6:()=>Ay,ynx:()=>Cf,z2F:()=>Gf,z3N:()=>Ua,zSh:()=>N,zs3:()=>_c});var x=H(8645),l=H(7394),me=H(5592),g=H(3019),Ue=H(5619),ae=H(2096),Ke=H(3020),ot=H(4664),ke=H(3997);function He(e){for(let n in e)if(e[n]===He)return n;throw Error("Could not find renamed property on target object.")}function lt(e,n){for(const s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=n[s])}function Ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function it(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const nt=He({__forward_ref__:He});function ut(e){return e.__forward_ref__=ut,e.toString=function(){return Ze(this())},e}function Et(e){return Ut(e)?e():e}function Ut(e){return"function"==typeof e&&e.hasOwnProperty(nt)&&e.__forward_ref__===ut}function ei(e){return e&&!!e.\u0275providers}const ni="https://g.co/ng/security#xss";class Fe extends Error{constructor(n,s){super(function Je(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,s)),this.code=n}}function $e(e){return"string"==typeof e?e:null==e?"":String(e)}function _i(e,n){throw new Fe(-201,!1)}function kt(e,n){null==e&&function We(e,n,s,u){throw new Error(`ASSERTION ERROR: ${e}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,e,null,"!=")}function Jt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fi(e){return $t(e,Yi)||$t(e,Wi)}function dt(e){return null!==Fi(e)}function $t(e,n){return e.hasOwnProperty(n)?e[n]:null}function _t(e){return e&&(e.hasOwnProperty(On)||e.hasOwnProperty(zi))?e[On]:null}const Yi=He({\u0275prov:He}),On=He({\u0275inj:He}),Wi=He({ngInjectableDef:He}),zi=He({ngInjectorDef:He});var Tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Tt||{});let xe;function Pe(e){const n=xe;return xe=e,n}function Ye(e,n,s){const u=Fi(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Tt.Optional?null:void 0!==n?n:void _i(Ze(e))}const qe=globalThis,K={},se="__NG_DI_FLAG__",Ce="ngTempTokenPath",ze=/\n/gm,ie="__source";let $;function ce(e){const n=$;return $=e,n}function Ie(e,n=Tt.Default){if(void 0===$)throw new Fe(-203,!1);return null===$?Ye(e,void 0,n):$.get(e,n&Tt.Optional?null:void 0,n)}function ye(e,n=Tt.Default){return(function Re(){return xe}()||Ie)(Et(e),n)}function pe(e,n=Tt.Default){return ye(e,Te(n))}function Te(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rt(e){const n=[];for(let s=0;s<e.length;s++){const u=Et(e[s]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let p,w=Tt.Default;for(let A=0;A<u.length;A++){const F=u[A],U=Ve(F);"number"==typeof U?-1===U?p=F.token:w|=U:p=F}n.push(ye(p,w))}else n.push(ye(u))}return n}function Ct(e,n){return e[se]=n,e.prototype[se]=n,e}function Ve(e){return e[se]}function St(e){return{toString:e}.toString()}var Qt=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qt||{}),si=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(si||{});const oi={},Oi=[],nn=He({\u0275cmp:He}),gr=He({\u0275dir:He}),xr=He({\u0275pipe:He}),so=He({\u0275mod:He}),_r=He({\u0275fac:He}),fn=He({__NG_ELEMENT_ID__:He}),Ur=He({__NG_ENV_ID__:He});function Rn(e,n,s){let u=e.length;for(;;){const p=e.indexOf(n,s);if(-1===p)return p;if(0===p||e.charCodeAt(p-1)<=32){const w=n.length;if(p+w===u||e.charCodeAt(p+w)<=32)return p}s=p+1}}function _n(e,n,s){let u=0;for(;u<s.length;){const p=s[u];if("number"==typeof p){if(0!==p)break;u++;const w=s[u++],A=s[u++],F=s[u++];e.setAttribute(n,A,F,w)}else{const w=p,A=s[++u];Ts(w)?e.setProperty(n,w,A):e.setAttribute(n,w,A),u++}}return u}function hr(e){return 3===e||4===e||6===e}function Ts(e){return 64===e.charCodeAt(0)}function Mn(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const p=n[u];"number"==typeof p?s=p:0===s||Jn(e,s,p,null,-1===s||2===s?n[++u]:null)}}return e}function Jn(e,n,s,u,p){let w=0,A=e.length;if(-1===n)A=-1;else for(;w<e.length;){const F=e[w++];if("number"==typeof F){if(F===n){A=-1;break}if(F>n){A=w-1;break}}}for(;w<e.length;){const F=e[w];if("number"==typeof F)break;if(F===s){if(null===u)return void(null!==p&&(e[w+1]=p));if(u===e[w+1])return void(e[w+2]=p)}w++,null!==u&&w++,null!==p&&w++}-1!==A&&(e.splice(A,0,n),w=A+1),e.splice(w++,0,s),null!==u&&e.splice(w++,0,u),null!==p&&e.splice(w++,0,p)}const Tr="ng-template";function ao(e,n,s){let u=0,p=!0;for(;u<e.length;){let w=e[u++];if("string"==typeof w&&p){const A=e[u++];if(s&&"class"===w&&-1!==Rn(A.toLowerCase(),n,0))return!0}else{if(1===w){for(;u<e.length&&"string"==typeof(w=e[u++]);)if(w.toLowerCase()===n)return!0;return!1}"number"==typeof w&&(p=!1)}}return!1}function Ki(e){return 4===e.type&&e.value!==Tr}function Lo(e,n,s){return n===(4!==e.type||s?e.value:Tr)}function dr(e,n,s){let u=4;const p=e.attrs||[],w=function ta(e){for(let n=0;n<e.length;n++)if(hr(e[n]))return n;return e.length}(p);let A=!1;for(let F=0;F<n.length;F++){const U=n[F];if("number"!=typeof U){if(!A)if(4&u){if(u=2|1&u,""!==U&&!Lo(e,U,s)||""===U&&1===n.length){if(vn(u))return!1;A=!0}}else{const ee=8&u?U:n[++F];if(8&u&&null!==e.attrs){if(!ao(e.attrs,ee,s)){if(vn(u))return!1;A=!0}continue}const Be=To(8&u?"class":U,p,Ki(e),s);if(-1===Be){if(vn(u))return!1;A=!0;continue}if(""!==ee){let ft;ft=Be>w?"":p[Be+1].toLowerCase();const It=8&u?ft:null;if(It&&-1!==Rn(It,ee,0)||2&u&&ee!==ft){if(vn(u))return!1;A=!0}}}}else{if(!A&&!vn(u)&&!vn(U))return!1;if(A&&vn(U))continue;A=!1,u=U|1&u}}return vn(u)||A}function vn(e){return 0==(1&e)}function To(e,n,s,u){if(null===n)return-1;let p=0;if(u||!s){let w=!1;for(;p<n.length;){const A=n[p];if(A===e)return p;if(3===A||6===A)w=!0;else{if(1===A||2===A){let F=n[++p];for(;"string"==typeof F;)F=n[++p];continue}if(4===A)break;if(0===A){p+=4;continue}}p+=w?1:2}return-1}return function Dl(e,n){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const u=e[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,e)}function lo(e,n,s=!1){for(let u=0;u<n.length;u++)if(dr(e,n[u],s))return!0;return!1}function Ml(e,n){e:for(let s=0;s<n.length;s++){const u=n[s];if(e.length===u.length){for(let p=0;p<e.length;p++)if(e[p]!==u[p])continue e;return!0}}return!1}function ia(e,n){return e?":not("+n.trim()+")":n}function na(e){let n=e[0],s=1,u=2,p="",w=!1;for(;s<e.length;){let A=e[s];if("string"==typeof A)if(2&u){const F=e[++s];p+="["+A+(F.length>0?'="'+F+'"':"")+"]"}else 8&u?p+="."+A:4&u&&(p+=" "+A);else""!==p&&!vn(A)&&(n+=ia(w,p),p=""),u=A,w=w||!vn(u);s++}return""!==p&&(n+=ia(w,p)),n}function $s(e){return St(()=>{const n=ss(e),s={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||si.Emulated,styles:e.styles||Oi,_:null,schemas:e.schemas||null,tView:null,id:""};as(s);const u=e.dependencies;return s.directiveDefs=Wr(u,!1),s.pipeDefs=Wr(u,!0),s.id=function Is(e){let n=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const p of s)n=Math.imul(31,n)+p.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function Za(e){return Sn(e)||nr(e)}function Gs(e){return null!==e}function Sl(e){return St(()=>({type:e.type,bootstrap:e.bootstrap||Oi,declarations:e.declarations||Oi,imports:e.imports||Oi,exports:e.exports||Oi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zs(e,n){if(null==e)return oi;const s={};for(const u in e)if(e.hasOwnProperty(u)){let p=e[u],w=p;Array.isArray(p)&&(w=p[1],p=p[0]),s[p]=u,n&&(n[p]=w)}return s}function Ra(e){return St(()=>{const n=ss(e);return as(n),n})}function Fa(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Sn(e){return e[nn]||null}function nr(e){return e[gr]||null}function yr(e){return e[xr]||null}function os(e){const n=Sn(e)||nr(e)||yr(e);return null!==n&&n.standalone}function Io(e,n){const s=e[so]||null;if(!s&&!0===n)throw new Error(`Type ${Ze(e)} does not have '\u0275mod' property.`);return s}function ss(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||oi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Oi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zs(e.inputs,n),outputs:Zs(e.outputs)}}function as(e){e.features?.forEach(n=>n(e))}function Wr(e,n){if(!e)return null;const s=n?yr:Za;return()=>("function"==typeof e?e():e).map(u=>s(u)).filter(Gs)}const Qn=0,Ai=1,ln=2,Xi=3,wr=4,Wo=5,Xn=6,Nr=7,vr=8,No=9,zo=10,mn=11,As=12,Kr=13,qo=14,rr=15,bo=16,ra=17,Bo=18,Yo=19,Il=20,va=21,ls=22,La=23,bs=24,An=25,Xr=1,Ko=2,mr=7,cs=9,Hr=11;function co(e){return Array.isArray(e)&&"object"==typeof e[Xr]}function Cr(e){return Array.isArray(e)&&!0===e[Xr]}function ws(e){return 0!=(4&e.flags)}function sa(e){return e.componentOffset>-1}function Cs(e){return 1==(1&e.flags)}function $i(e){return!!e.template}function cn(e){return 0!=(512&e[ln])}function ca(e,n){return e.hasOwnProperty(_r)?e[_r]:null}let uo=null,xo=!1;function zn(e){const n=uo;return uo=e,n}const ar={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ll(e){if(!ho(e)||e.dirty){if(!e.producerMustRecompute(e)&&!ks(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Jr(e){e.dirty=!0,function wa(e){if(void 0===e.liveConsumerNode)return;const n=xo;xo=!0;try{for(const s of e.liveConsumerNode)s.dirty||Jr(s)}finally{xo=n}}(e),e.consumerMarkedDirty?.(e)}function Ar(e){return e&&(e.nextProducerIndex=0),zn(e)}function Ya(e,n){if(zn(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ho(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)Ca(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ks(e){mo(e);for(let n=0;n<e.producerNode.length;n++){const s=e.producerNode[n],u=e.producerLastReadVersion[n];if(u!==s.version||(ll(s),u!==s.version))return!0}return!1}function zr(e){if(mo(e),ho(e))for(let n=0;n<e.producerNode.length;n++)Ca(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ca(e,n){if(function us(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),mo(e),1===e.liveConsumerNode.length)for(let u=0;u<e.producerNode.length;u++)Ca(e.producerNode[u],e.producerIndexOfThis[u]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const u=e.liveConsumerIndexOfThis[n],p=e.liveConsumerNode[n];mo(p),p.producerIndexOfThis[u]=n}}function ho(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function mo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ol=null;function Me(e){const n=zn(null);try{return e()}finally{zn(n)}}const Zt=()=>{},ji=(()=>({...ar,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Zt}))();class li{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Bn(){return In}function In(e){return e.type.prototype.ngOnChanges&&(e.setInput=tr),$r}function $r(){const e=Es(this),n=e?.current;if(n){const s=e.previous;if(s===oi)e.previous=n;else for(let u in n)s[u]=n[u];e.current=null,this.ngOnChanges(n)}}function tr(e,n,s,u){const p=this.declaredInputs[s],w=Es(e)||function jo(e,n){return e[qr]=n}(e,{previous:oi,current:null}),A=w.current||(w.current={}),F=w.previous,U=F[p];A[p]=new li(U&&U.currentValue,n,F===oi),e[u]=n}Bn.ngInherit=!0;const qr="__ngSimpleChanges__";function Es(e){return e[qr]||null}const fo=function(e,n,s){},Ws="svg";function un(e){for(;Array.isArray(e);)e=e[Qn];return e}function ul(e,n){return un(n[e])}function Qr(e,n){return un(n[e.index])}function Ns(e,n){return e.data[n]}function Na(e,n){return e[n]}function ir(e,n){const s=n[e];return co(s)?s:s[Qn]}function Ds(e,n){return null==n?null:e[n]}function Dd(e){e[ra]=0}function qc(e){1024&e[ln]||(e[ln]|=1024,ua(e,1))}function hs(e){1024&e[ln]&&(e[ln]&=-1025,ua(e,-1))}function ua(e,n){let s=e[Xi];if(null===s)return;s[Wo]+=n;let u=s;for(s=s[Xi];null!==s&&(1===n&&1===u[Wo]||-1===n&&0===u[Wo]);)s[Wo]+=n,u=s,s=s[Xi]}const di={lFrame:Rt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qo(){return di.bindingsEnabled}function za(){return null!==di.skipHydrationRootTNode}function ti(){return di.lFrame.lView}function Fn(){return di.lFrame.tView}function nc(e){return di.lFrame.contextLView=e,e[vr]}function rc(e){return di.lFrame.contextLView=null,e}function eo(){let e=Tc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Tc(){return di.lFrame.currentTNode}function C(e,n){const s=di.lFrame;s.currentTNode=e,s.isParent=n}function i(){return di.lFrame.isParent}function d(){di.lFrame.isParent=!1}function O(){const e=di.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function W(){return di.lFrame.bindingIndex++}function Q(e){const n=di.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,s}function T(e,n){const s=di.lFrame;s.bindingIndex=s.bindingRootIndex=e,z(n)}function z(e){di.lFrame.currentDirectiveIndex=e}function j(e){const n=di.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function re(){return di.lFrame.currentQueryIndex}function Se(e){di.lFrame.currentQueryIndex=e}function ue(e){const n=e[Ai];return 2===n.type?n.declTNode:1===n.type?e[Xn]:null}function je(e,n,s){if(s&Tt.SkipSelf){let p=n,w=e;for(;!(p=p.parent,null!==p||s&Tt.Host||(p=ue(w),null===p||(w=w[qo],10&p.type))););if(null===p)return!1;n=p,e=w}const u=di.lFrame=Dt();return u.currentTNode=n,u.lView=e,!0}function mt(e){const n=Dt(),s=e[Ai];di.lFrame=n,n.currentTNode=s.firstChild,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Dt(){const e=di.lFrame,n=null===e?null:e.child;return null===n?Rt(e):n}function Rt(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ii(){const e=di.lFrame;return di.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const qt=ii;function ui(){const e=ii();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pi(){return di.lFrame.selectedIndex}function rn(e){di.lFrame.selectedIndex=e}function Di(){const e=di.lFrame;return Ns(e.tView,e.selectedIndex)}function Lr(){di.lFrame.currentNamespace=Ws}function En(){!function Vn(){di.lFrame.currentNamespace=null}()}let Er=!0;function Gr(){return Er}function Dr(e){Er=e}function ms(e,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const w=e.data[s].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:F,ngAfterViewInit:U,ngAfterViewChecked:ee,ngOnDestroy:_e}=w;A&&(e.contentHooks??=[]).push(-s,A),F&&((e.contentHooks??=[]).push(s,F),(e.contentCheckHooks??=[]).push(s,F)),U&&(e.viewHooks??=[]).push(-s,U),ee&&((e.viewHooks??=[]).push(s,ee),(e.viewCheckHooks??=[]).push(s,ee)),null!=_e&&(e.destroyHooks??=[]).push(s,_e)}}function Ys(e,n,s){ml(e,n,3,s)}function kr(e,n,s,u){(3&e[ln])===s&&ml(e,n,s,u)}function Ba(e,n){let s=e[ln];(3&s)===n&&(s&=8191,s+=1,e[ln]=s)}function ml(e,n,s,u){const w=u??-1,A=n.length-1;let F=0;for(let U=void 0!==u?65535&e[ra]:0;U<A;U++)if("number"==typeof n[U+1]){if(F=n[U],null!=u&&F>=u)break}else n[U]<0&&(e[ra]+=65536),(F<w||-1==w)&&(Xa(e,s,n,U),e[ra]=(4294901760&e[ra])+U+2),U++}function Ka(e,n){fo(4,e,n);const s=zn(null);try{n.call(e)}finally{zn(s),fo(5,e,n)}}function Xa(e,n,s,u){const p=s[u]<0,w=s[u+1],F=e[p?-s[u]:s[u]];p?e[ln]>>13<e[ra]>>16&&(3&e[ln])===n&&(e[ln]+=8192,Ka(F,w)):Ka(F,w)}const Ao=-1;class wo{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Ac(e){return e!==Ao}function kc(e){return 32767&e}function Kc(e,n){let s=function ku(e){return e>>16}(e),u=n;for(;s>0;)u=u[qo],s--;return u}let Ja=!0;function pl(e){const n=Ja;return Ja=e,n}const Va=255,Ks=5;let fl=0;const ha={};function Pu(e,n){const s=Eo(e,n);if(-1!==s)return s;const u=n[Ai];u.firstCreatePass&&(e.injectorIndex=n.length,Ou(u.data,e),Ou(n,null),Ou(u.blueprint,null));const p=Md(e,n),w=e.injectorIndex;if(Ac(p)){const A=kc(p),F=Kc(p,n),U=F[Ai].data;for(let ee=0;ee<8;ee++)n[w+ee]=F[A+ee]|U[A+ee]}return n[w+8]=p,w}function Ou(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Eo(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Md(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,u=null,p=n;for(;null!==p;){if(u=Jh(p),null===u)return Ao;if(s++,p=p[qo],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Ao}function Ru(e,n,s){!function Xc(e,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(fn)&&(u=s[fn]),null==u&&(u=s[fn]=fl++);const p=u&Va;n.data[e+(p>>Ks)]|=1<<p}(e,n,s)}function Oc(e,n,s){if(s&Tt.Optional||void 0!==e)return e;_i()}function au(e,n,s,u){if(s&Tt.Optional&&void 0===u&&(u=null),!(s&(Tt.Self|Tt.Host))){const p=e[No],w=Pe(void 0);try{return p?p.get(n,u,s&Tt.Optional):Ye(n,u,s&Tt.Optional)}finally{Pe(w)}}return Oc(u,0,s)}function Fu(e,n,s,u=Tt.Default,p){if(null!==e){if(2048&n[ln]&&!(u&Tt.Self)){const A=function du(e,n,s,u,p){let w=e,A=n;for(;null!==w&&null!==A&&2048&A[ln]&&!(512&A[ln]);){const F=Zr(w,A,s,u|Tt.Self,ha);if(F!==ha)return F;let U=w.parent;if(!U){const ee=A[Il];if(ee){const _e=ee.get(s,ha,u);if(_e!==ha)return _e}U=Jh(A),A=A[qo]}w=U}return p}(e,n,s,u,ha);if(A!==ha)return A}const w=Zr(e,n,s,u,ha);if(w!==ha)return w}return au(n,s,u,p)}function Zr(e,n,s,u,p){const w=function cu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(fn)?e[fn]:void 0;return"number"==typeof n?n>=0?n&Va:Td:n}(s);if("function"==typeof w){if(!je(n,e,u))return u&Tt.Host?Oc(p,0,u):au(n,s,u,p);try{let A;if(A=w(u),null!=A||u&Tt.Optional)return A;_i()}finally{qt()}}else if("number"==typeof w){let A=null,F=Eo(e,n),U=Ao,ee=u&Tt.Host?n[rr][Xn]:null;for((-1===F||u&Tt.SkipSelf)&&(U=-1===F?Md(e,n):n[F+8],U!==Ao&&Rc(u,!1)?(A=n[Ai],F=kc(U),n=Kc(U,n)):F=-1);-1!==F;){const _e=n[Ai];if(Xh(w,F,_e.data)){const Be=Wf(F,n,s,A,u,ee);if(Be!==ha)return Be}U=n[F+8],U!==Ao&&Rc(u,n[Ai].data[F+8]===ee)&&Xh(w,F,n)?(A=_e,F=kc(U),n=Kc(U,n)):F=-1}}return p}function Wf(e,n,s,u,p,w){const A=n[Ai],F=A.data[e+8],_e=lu(F,A,s,null==u?sa(F)&&Ja:u!=A&&0!=(3&F.type),p&Tt.Host&&w===F);return null!==_e?Qc(n,A,_e,F):ha}function lu(e,n,s,u,p){const w=e.providerIndexes,A=n.data,F=1048575&w,U=e.directiveStart,_e=w>>20,ft=p?F+_e:e.directiveEnd;for(let It=u?F:F+_e;It<ft;It++){const Xt=A[It];if(It<U&&s===Xt||It>=U&&Xt.type===s)return It}if(p){const It=A[U];if(It&&$i(It)&&It.type===s)return U}return null}function Qc(e,n,s,u){let p=e[s];const w=n.data;if(function Ms(e){return e instanceof wo}(p)){const A=p;A.resolving&&function Pt(e,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${e}${s}`)}(function Nt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$e(e)}(w[s]));const F=pl(A.canSeeViewProviders);A.resolving=!0;const ee=A.injectImpl?Pe(A.injectImpl):null;je(e,u,Tt.Default);try{p=e[s]=A.factory(void 0,w,e,u),n.firstCreatePass&&s>=u.directiveStart&&function io(e,n,s){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:w}=n.type.prototype;if(u){const A=In(n);(s.preOrderHooks??=[]).push(e,A),(s.preOrderCheckHooks??=[]).push(e,A)}p&&(s.preOrderHooks??=[]).push(0-e,p),w&&((s.preOrderHooks??=[]).push(e,w),(s.preOrderCheckHooks??=[]).push(e,w))}(s,w[s],n)}finally{null!==ee&&Pe(ee),pl(F),A.resolving=!1,qt()}}return p}function Xh(e,n,s){return!!(s[n+(e>>Ks)]&1<<e)}function Rc(e,n){return!(e&Tt.Self||e&Tt.Host&&n)}class es{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Fu(this._tNode,this._lView,n,Te(u),s)}}function Td(){return new es(eo(),ti())}function ed(e){return St(()=>{const n=e.prototype.constructor,s=n[_r]||Id(n),u=Object.prototype;let p=Object.getPrototypeOf(e.prototype).constructor;for(;p&&p!==u;){const w=p[_r]||Id(p);if(w&&w!==s)return w;p=Object.getPrototypeOf(p)}return w=>new w})}function Id(e){return Ut(e)?()=>{const n=Id(Et(e));return n&&n()}:ca(e)}function Jh(e){const n=e[Ai],s=n.type;return 2===s?n.declTNode:1===s?e[Xn]:null}function Nu(e){return function Jc(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const s=e.attrs;if(s){const u=s.length;let p=0;for(;p<u;){const w=s[p];if(hr(w))break;if(0===w)p+=2;else if("number"==typeof w)for(p++;p<u&&"string"==typeof s[p];)p++;else{if(w===n)return s[p+1];p+=2}}}return null}(eo(),e)}const Po="__parameters__";function Fl(e,n,s){return St(()=>{const u=function kd(e){return function(...s){if(e){const u=e(...s);for(const p in u)this[p]=u[p]}}}(n);function p(...w){if(this instanceof p)return u.apply(this,w),this;const A=new p(...w);return F.annotation=A,F;function F(U,ee,_e){const Be=U.hasOwnProperty(Po)?U[Po]:Object.defineProperty(U,Po,{value:[]})[Po];for(;Be.length<=_e;)Be.push(null);return(Be[_e]=Be[_e]||[]).push(A),U}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=e,p.annotationCls=p,p})}function Pd(e,n){e.forEach(s=>Array.isArray(s)?Pd(s,n):n(s))}function rp(e,n,s){n>=e.length?e.push(s):e.splice(n,0,s)}function Vu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function td(e,n){const s=[];for(let u=0;u<e;u++)s.push(n);return s}function Xs(e,n,s){let u=Od(e,n);return u>=0?e[1|u]=s:(u=~u,function ac(e,n,s,u){let p=e.length;if(p==n)e.push(s,u);else if(1===p)e.push(u,e[0]),e[0]=s;else{for(p--,e.push(e[p-1],e[p]);p>n;)e[p]=e[p-2],p--;e[n]=s,e[n+1]=u}}(e,u,n,s)),u}function em(e,n){const s=Od(e,n);if(s>=0)return e[1|s]}function Od(e,n){return function op(e,n,s){let u=0,p=e.length>>s;for(;p!==u;){const w=u+(p-u>>1),A=e[w<<s];if(n===A)return w<<s;A>n?p=w:u=w+1}return~(p<<s)}(e,n,1)}const id=Ct(Fl("Optional"),8),Fc=Ct(Fl("SkipSelf"),4);function hu(e){return 128==(128&e.flags)}var zc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zc||{});const lg=/^>|^->|<!--|-->|--!>|<!-$/g,cg=/(<|>)/g,dg="\u200b$1\u200b";const Wu=new Map;let Bd=0;const Ku="__ngContext__";function Js(e,n){co(n)?(e[Ku]=n[Yo],function bp(e){Wu.set(e[Yo],e)}(n)):e[Ku]=n}let Xu;function yl(e,n){return Xu(e,n)}function Ud(e){const n=e[Xi];return Cr(n)?n[Xi]:n}function Sp(e){return Ju(e[As])}function um(e){return Ju(e[wr])}function Ju(e){for(;null!==e&&!Cr(e);)e=e[wr];return e}function jd(e,n,s,u,p){if(null!=u){let w,A=!1;Cr(u)?w=u:co(u)&&(A=!0,u=u[Qn]);const F=un(u);0===e&&null!==s?null==p?ld(n,s,F):vl(n,s,F,p||null,!0):1===e&&null!==s?vl(n,s,F,p||null,!0):2===e?function Ma(e,n,s){const u=fu(e,n);u&&function nh(e,n,s,u){e.removeChild(n,s,u)}(e,u,n,s)}(n,F,A):3===e&&n.destroyNode(F),null!=w&&function zl(e,n,s,u,p){const w=s[mr];w!==un(s)&&jd(n,e,u,w,p);for(let F=Hr;F<s.length;F++){const U=s[F];dd(U[Ai],U,e,n,u,w)}}(n,e,w,s,p)}}function eh(e,n){return e.createComment(function yp(e){return e.replace(lg,n=>n.replace(cg,dg))}(n))}function sd(e,n,s){return e.createElement(n,s)}function kp(e,n){const s=e[cs],u=s.indexOf(n);hs(n),s.splice(u,1)}function Hd(e,n){if(e.length<=Hr)return;const s=Hr+n,u=e[s];if(u){const p=u[bo];null!==p&&p!==e&&kp(p,u),n>0&&(e[s-1][wr]=u[wr]);const w=Vu(e,Hr+n);!function ad(e,n){dd(e,n,n[mn],2,null,null),n[Qn]=null,n[Xn]=null}(u[Ai],u);const A=w[Bo];null!==A&&A.detachView(w[Ai]),u[Xi]=null,u[wr]=null,u[ln]&=-129}return u}function th(e,n){if(!(256&n[ln])){const s=n[mn];n[La]&&zr(n[La]),n[bs]&&zr(n[bs]),s.destroyNode&&dd(e,n,s,3,null,null),function mm(e){let n=e[As];if(!n)return ps(e[Ai],e);for(;n;){let s=null;if(co(n))s=n[As];else{const u=n[Hr];u&&(s=u)}if(!s){for(;n&&!n[wr]&&n!==e;)co(n)&&ps(n[Ai],n),n=n[Xi];null===n&&(n=e),co(n)&&ps(n[Ai],n),s=n&&n[wr]}n=s}}(n)}}function ps(e,n){if(!(256&n[ln])){n[ln]&=-129,n[ln]|=256,function ih(e,n){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let u=0;u<s.length;u+=2){const p=n[s[u]];if(!(p instanceof wo)){const w=s[u+1];if(Array.isArray(w))for(let A=0;A<w.length;A+=2){const F=p[w[A]],U=w[A+1];fo(4,F,U);try{U.call(F)}finally{fo(5,F,U)}}else{fo(4,p,w);try{w.call(p)}finally{fo(5,p,w)}}}}}(e,n),function pm(e,n){const s=e.cleanup,u=n[Nr];if(null!==s)for(let w=0;w<s.length-1;w+=2)if("string"==typeof s[w]){const A=s[w+3];A>=0?u[A]():u[-A].unsubscribe(),w+=2}else s[w].call(u[s[w+1]]);null!==u&&(n[Nr]=null);const p=n[va];if(null!==p){n[va]=null;for(let w=0;w<p.length;w++)(0,p[w])()}}(e,n),1===n[Ai].type&&n[mn].destroy();const s=n[bo];if(null!==s&&Cr(n[Xi])){s!==n[Xi]&&kp(s,n);const u=n[Bo];null!==u&&u.detachView(e)}!function ug(e){Wu.delete(e[Yo])}(n)}}function Nl(e,n,s){return function $d(e,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[Qn];{const{componentOffset:p}=u;if(p>-1){const{encapsulation:w}=e.data[u.directiveStart+p];if(w===si.None||w===si.Emulated)return null}return Qr(u,s)}}(e,n.parent,s)}function vl(e,n,s,u,p){e.insertBefore(n,s,u,p)}function ld(e,n,s){e.appendChild(n,s)}function pu(e,n,s,u,p){null!==u?vl(e,n,s,u,p):ld(e,n,s)}function fu(e,n){return e.parentNode(n)}function Op(e,n,s){return fm(e,n,s)}let cd,el,ym,dh,fm=function gu(e,n,s){return 40&e.type?Qr(e,s):null};function oh(e,n,s,u){const p=Nl(e,u,n),w=n[mn],F=Op(u.parent||n[Xn],u,n);if(null!=p)if(Array.isArray(s))for(let U=0;U<s.length;U++)pu(w,p,s[U],F,!1);else pu(w,p,s,F,!1);void 0!==cd&&cd(w,u,n,s,p)}function Gd(e,n){if(null!==n){const s=n.type;if(3&s)return Qr(n,e);if(4&s)return Bc(-1,e[n.index]);if(8&s){const u=n.child;if(null!==u)return Gd(e,u);{const p=e[n.index];return Cr(p)?Bc(-1,p):un(p)}}if(32&s)return yl(n,e)()||un(e[n.index]);{const u=sh(e,n);return null!==u?Array.isArray(u)?u[0]:Gd(Ud(e[rr]),u):Gd(e,n.next)}}return null}function sh(e,n){return null!==n?e[rr][Xn].projection[n.projection]:null}function Bc(e,n){const s=Hr+e+1;if(s<n.length){const u=n[s],p=u[Ai].firstChild;if(null!==p)return Gd(u,p)}return n[mr]}function ah(e,n,s,u,p,w,A){for(;null!=s;){const F=u[s.index],U=s.type;if(A&&0===n&&(F&&Js(un(F),u),s.flags|=2),32!=(32&s.flags))if(8&U)ah(e,n,s.child,u,p,w,!1),jd(n,e,p,F,w);else if(32&U){const ee=yl(s,u);let _e;for(;_e=ee();)jd(n,e,p,_e,w);jd(n,e,p,F,w)}else 16&U?Rp(e,n,u,s,p,w):jd(n,e,p,F,w);s=A?s.projectionNext:s.next}}function dd(e,n,s,u,p,w){ah(s,u,e.firstChild,n,p,w,!1)}function Rp(e,n,s,u,p,w){const A=s[rr],U=A[Xn].projection[u.projection];if(Array.isArray(U))for(let ee=0;ee<U.length;ee++)jd(n,e,p,U[ee],w);else{let ee=U;const _e=A[Xi];hu(u)&&(ee.flags|=128),ah(e,n,ee,_e,p,w,!0)}}function yu(e,n,s){""===s?e.removeAttribute(n,"class"):e.setAttribute(n,"class",s)}function vu(e,n,s){const{mergedAttrs:u,classes:p,styles:w}=s;null!==u&&_n(e,n,u),null!==p&&yu(e,n,p),null!==w&&function gg(e,n,s){e.setAttribute(n,"style",s)}(e,n,w)}function Vc(e){return function lh(){if(void 0===el&&(el=null,qe.trustedTypes))try{el=qe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return el}()?.createHTML(e)||e}function _g(e){ym=e}function hd(){if(void 0!==ym)return ym;if(typeof document<"u")return document;throw new Fe(210,!1)}function vm(){if(void 0===dh&&(dh=null,qe.trustedTypes))try{dh=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dh}function bm(e){return vm()?.createHTML(e)||e}function uh(e){return vm()?.createScriptURL(e)||e}class Sa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ni})`}}class xm extends Sa{getTypeName(){return"HTML"}}class Np extends Sa{getTypeName(){return"Style"}}class zp extends Sa{getTypeName(){return"Script"}}class Bp extends Sa{getTypeName(){return"URL"}}class Vp extends Sa{getTypeName(){return"ResourceURL"}}function Ua(e){return e instanceof Sa?e.changingThisBreaksApplicationSecurity:e}function pc(e,n){const s=function Up(e){return e instanceof Sa&&e.getTypeName()||null}(e);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${ni})`)}return s===n}function wm(e){return new xm(e)}function hh(e){return new Np(e)}function ja(e){return new zp(e)}function md(e){return new Bp(e)}function jp(e){return new Vp(e)}class Hp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Vc(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class $p{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=Vc(n),s}}const Zp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mh(e){return(e=String(e)).match(Zp)?e:"unsafe:"+e}function Bl(e){const n={};for(const s of e.split(","))n[s]=!0;return n}function tl(...e){const n={};for(const s of e)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const Em=Bl("area,br,col,hr,img,wbr"),Dm=Bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ph=Bl("rp,rt"),fh=tl(Em,tl(Dm,Bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tl(ph,Bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tl(ph,Dm)),Uc=Bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mm=tl(Uc,Bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_h=Bl("script,style,template");class pd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!fh.hasOwnProperty(s))return this.sanitizedSomething=!0,!_h.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let p=0;p<u.length;p++){const w=u.item(p),A=w.name,F=A.toLowerCase();if(!Mm.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let U=w.value;Uc[F]&&(U=mh(U)),this.buf.push(" ",A,'="',Yp(U),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();fh.hasOwnProperty(s)&&!Em.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Yp(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qp=/([^\#-~ |!])/g;function Yp(e){return e.replace(/&/g,"&amp;").replace(yh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qp,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vh;function Kp(e,n){let s=null;try{vh=vh||function Cm(e){const n=new $p(e);return function Gp(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch{return!1}}()?new Hp(n):n}(e);let u=n?String(n):"";s=vh.getInertBodyElement(u);let p=5,w=u;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,u=w,w=s.innerHTML,s=vh.getInertBodyElement(u)}while(u!==w);return Vc((new pd).sanitizeChildren(jc(s)||s))}finally{if(s){const u=jc(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function jc(e){return"content"in e&&function Ss(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ta=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ta||{});function bh(e){const n=Zd();return n?bm(n.sanitize(Ta.HTML,e)||""):pc(e,"HTML")?bm(Ua(e)):Kp(hd(),$e(e))}function Sm(e){const n=Zd();return n?n.sanitize(Ta.URL,e)||"":pc(e,"URL")?Ua(e):mh($e(e))}function xh(e){const n=Zd();if(n)return uh(n.sanitize(Ta.RESOURCE_URL,e)||"");if(pc(e,"ResourceURL"))return uh(Ua(e));throw new Fe(904,!1)}function Tm(e,n,s){return function xg(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?xh:Sm}(n,s)(e)}function Zd(){const e=ti();return e&&e[zo].sanitizer}class cr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Jt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fd=new cr("ENVIRONMENT_INITIALIZER"),Im=new cr("INJECTOR",-1),wh=new cr("INJECTOR_DEF_TYPES");class Wd{get(n,s=K){if(s===K){const u=new Error(`NullInjectorError: No provider for ${Ze(n)}!`);throw u.name="NullInjectorError",u}return s}}function gd(e){return{\u0275providers:e}}function Am(...e){return{\u0275providers:Ch(0,e),\u0275fromNgModule:!0}}function Ch(e,...n){const s=[],u=new Set;let p;const w=A=>{s.push(A)};return Pd(n,A=>{const F=A;Dh(F,w,[],u)&&(p||=[],p.push(F))}),void 0!==p&&Eh(p,w),s}function Eh(e,n){for(let s=0;s<e.length;s++){const{ngModule:u,providers:p}=e[s];t(p,w=>{n(w,u)})}}function Dh(e,n,s,u){if(!(e=Et(e)))return!1;let p=null,w=_t(e);const A=!w&&Sn(e);if(w||A){if(A&&!A.standalone)return!1;p=e}else{const U=e.ngModule;if(w=_t(U),!w)return!1;p=U}const F=u.has(p);if(A){if(F)return!1;if(u.add(p),A.dependencies){const U="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const ee of U)Dh(ee,n,s,u)}}else{if(!w)return!1;{if(null!=w.imports&&!F){let ee;u.add(p);try{Pd(w.imports,_e=>{Dh(_e,n,s,u)&&(ee||=[],ee.push(_e))})}finally{}void 0!==ee&&Eh(ee,n)}if(!F){const ee=ca(p)||(()=>new p);n({provide:p,useFactory:ee,deps:Oi},p),n({provide:wh,useValue:p,multi:!0},p),n({provide:fd,useValue:()=>ye(p),multi:!0},p)}const U=w.providers;if(null!=U&&!F){const ee=e;t(U,_e=>{n(_e,ee)})}}}return p!==e&&void 0!==e.providers}function t(e,n){for(let s of e)ei(s)&&(s=s.\u0275providers),Array.isArray(s)?t(s,n):n(s)}const a=He({provide:String,useValue:He});function m(e){return null!==e&&"object"==typeof e&&a in e}function S(e){return"function"==typeof e}const N=new cr("Set Injector scope."),G={},J={};let te;function de(){return void 0===te&&(te=new Wd),te}class ge{}class we extends ge{get destroyed(){return this._destroyed}constructor(n,s,u,p){super(),this.parent=s,this.source=u,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ki(n,A=>this.processProvider(A)),this.records.set(Im,ct(void 0,this)),p.has("environment")&&this.records.set(ge,ct(void 0,this));const w=this.records.get(N);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(wh.multi,Oi,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=ce(this),u=Pe(void 0);try{return n()}finally{ce(s),Pe(u)}}get(n,s=K,u=Tt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ur))return n[Ur](this);u=Te(u);const w=ce(this),A=Pe(void 0);try{if(!(u&Tt.SkipSelf)){let U=this.records.get(n);if(void 0===U){const ee=function Yt(e){return"function"==typeof e||"object"==typeof e&&e instanceof cr}(n)&&Fi(n);U=ee&&this.injectableDefInScope(ee)?ct(Oe(n),G):null,this.records.set(n,U)}if(null!=U)return this.hydrate(n,U)}return(u&Tt.Self?de():this.parent).get(n,s=u&Tt.Optional&&s===K?null:s)}catch(F){if("NullInjectorError"===F.name){if((F[Ce]=F[Ce]||[]).unshift(Ze(n)),w)throw F;return function Ne(e,n,s,u){const p=e[Ce];throw n[ie]&&p.unshift(n[ie]),e.message=function Qe(e,n,s,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let p=Ze(n);if(Array.isArray(n))p=n.map(Ze).join(" -> ");else if("object"==typeof n){let w=[];for(let A in n)if(n.hasOwnProperty(A)){let F=n[A];w.push(A+":"+("string"==typeof F?JSON.stringify(F):Ze(F)))}p=`{${w.join(", ")}}`}return`${s}${u?"("+u+")":""}[${p}]: ${e.replace(ze,"\n  ")}`}("\n"+e.message,p,s,u),e.ngTokenPath=p,e[Ce]=null,e}(F,n,"R3InjectorError",this.source)}throw F}finally{Pe(A),ce(w)}}resolveInjectorInitializers(){const n=ce(this),s=Pe(void 0);try{const p=this.get(fd.multi,Oi,Tt.Self);for(const w of p)w()}finally{ce(n),Pe(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(Ze(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(n){let s=S(n=Et(n))?n:Et(n&&n.provide);const u=function et(e){return m(e)?ct(void 0,e.useValue):ct(yt(e),G)}(n);if(S(n)||!0!==n.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=ct(void 0,G,!0),p.factory=()=>rt(p.multi),this.records.set(s,p)),s=n,p.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===G&&(s.value=J,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ot(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Et(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Oe(e){const n=Fi(e),s=null!==n?n.factory:ca(e);if(null!==s)return s;if(e instanceof cr)throw new Fe(204,!1);if(e instanceof Function)return function Xe(e){const n=e.length;if(n>0)throw td(n,"?"),new Fe(204,!1);const s=function Kt(e){return e&&(e[Yi]||e[Wi])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new Fe(204,!1)}function yt(e,n,s){let u;if(S(e)){const p=Et(e);return ca(p)||Oe(p)}if(m(e))u=()=>Et(e.useValue);else if(function D(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...rt(e.deps||[]));else if(function _(e){return!(!e||!e.useExisting)}(e))u=()=>ye(Et(e.useExisting));else{const p=Et(e&&(e.useClass||e.provide));if(!function bt(e){return!!e.deps}(e))return ca(p)||Oe(p);u=()=>new p(...rt(e.deps))}return u}function ct(e,n,s=!1){return{factory:e,value:n,multi:s?[]:void 0}}function ki(e,n){for(const s of e)Array.isArray(s)?ki(s,n):s&&ei(s)?ki(s.\u0275providers,n):n(s)}const Gi=new cr("AppId",{providedIn:"root",factory:()=>Ri}),Ri="ng",Ii=new cr("Platform Initializer"),wi=new cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Si=new cr("AnimationModuleType"),hi=new cr("CSP nonce",{providedIn:"root",factory:()=>hd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let So=(e,n,s)=>null;function is(e,n,s=!1){return So(e,n,s)}class km{}class Mh{}class Cg{resolveComponentFactory(n){throw function gc(e){const n=Error(`No component factory found for ${Ze(e)}.`);return n.ngComponent=e,n}(n)}}let xu=(()=>{class e{static#e=this.NULL=new Cg}return e})();function Eg(){return qd(eo(),ti())}function qd(e,n){return new wu(Qr(e,n))}let wu=(()=>{class e{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Eg}return e})();function Dg(e){return e instanceof wu?e.nativeElement:e}class nf{}let rf=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function xl(){const e=ti(),s=ir(eo().index,e);return(co(s)?s:e)[mn]}()}return e})(),Sh=(()=>{class e{static#e=this.\u0275prov=Jt({token:e,providedIn:"root",factory:()=>null})}return e})();class Om{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Mg=new Om("16.2.10"),Rm={};function fy(e,n=null,s=null,u){const p=gy(e,n,s,u);return p.resolveInjectorInitializers(),p}function gy(e,n=null,s=null,u,p=new Set){const w=[s||Oi,Am(e)];return u=u||("object"==typeof e?void 0:Ze(e)),new we(w,n||de(),u||null,p)}let _c=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=K;static#t=this.NULL=new Wd;static create(s,u){if(Array.isArray(s))return fy({name:""},u,s,"");{const p=s.name??"";return fy({name:p},s.parent,s.providers,p)}}static#i=this.\u0275prov=Jt({token:e,providedIn:"any",factory:()=>ye(Im)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function Tg(e){return e.ngOriginalError}class Yd{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Tg(n);for(;s&&Tg(s);)s=Tg(s);return s||null}}function Ag(e){return n=>{setTimeout(e,void 0,n)}}const yc=class I0 extends x.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let p=n,w=s||(()=>null),A=u;if(n&&"object"==typeof n){const U=n;p=U.next?.bind(U),w=U.error?.bind(U),A=U.complete?.bind(U)}this.__isAsync&&(w=Ag(w),p&&(p=Ag(p)),A&&(A=Ag(A)));const F=super.subscribe({next:p,error:w,complete:A});return n instanceof l.w0&&n.add(F),F}};function yy(...e){}class ea{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!u&&s,p.shouldCoalesceRunChangeDetection=u,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function A0(){const e="function"==typeof qe.requestAnimationFrame;let n=qe[e?"requestAnimationFrame":"setTimeout"],s=qe[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const p=s[Zone.__symbol__("OriginalDelegate")];p&&(s=p)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function O0(e){const n=()=>{!function P0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Pg(e),e.isCheckStableRunning=!0,kg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Pg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,p,w,A,F)=>{if(function F0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(F))return s.invokeTask(p,w,A,F);try{return vy(e),s.invokeTask(p,w,A,F)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||e.shouldCoalesceRunChangeDetection)&&n(),by(e)}},onInvoke:(s,u,p,w,A,F,U)=>{try{return vy(e),s.invoke(p,w,A,F,U)}finally{e.shouldCoalesceRunChangeDetection&&n(),by(e)}},onHasTask:(s,u,p,w)=>{s.hasTask(p,w),u===p&&("microTask"==w.change?(e._hasPendingMicrotasks=w.microTask,Pg(e),kg(e)):"macroTask"==w.change&&(e.hasPendingMacrotasks=w.macroTask))},onHandleError:(s,u,p,w)=>(s.handleError(p,w),e.runOutsideAngular(()=>e.onError.emit(w)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new Fe(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,p){const w=this._inner,A=w.scheduleEventTask("NgZoneEvent: "+p,n,k0,yy,yy);try{return w.runTask(A,s,u)}finally{w.cancelTask(A)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const k0={};function kg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function vy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function by(e){e._nesting--,kg(e)}class R0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,p){return n.apply(s,u)}}const xy=new cr("",{providedIn:"root",factory:wy});function wy(){const e=pe(ea);let n=!0;const s=new me.y(p=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{p.next(n),p.complete()})}),u=new me.y(p=>{let w;e.runOutsideAngular(()=>{w=e.onStable.subscribe(()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,p.next(!0))})})});const A=e.onUnstable.subscribe(()=>{ea.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{p.next(!1)}))});return()=>{w.unsubscribe(),A.unsubscribe()}});return(0,g.T)(s,u.pipe((0,Ke.B)()))}function Cy(e){return e.ownerDocument.defaultView}function vd(e){return e instanceof Function?e():e}let Lm=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Kd(e){for(;e;){e[ln]|=64;const n=Ud(e);if(cn(e)&&!n)return e;e=n}return null}const Ey=new cr("",{providedIn:"root",factory:()=>!1});let Cu=null;function xd(e,n){return e[n]??Iy()}function af(e,n){const s=Iy();s.producerNode?.length&&(e[n]=Cu,s.lView=e,Cu=Ng())}const Lg={...ar,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Kd(e.lView)},lView:null};function Ng(){return Object.create(Lg)}function Iy(){return Cu??=Ng(),Cu}const jn={};function Ay(e){ky(Fn(),ti(),pi()+e,!1)}function ky(e,n,s,u){if(!u)if(3==(3&n[ln])){const w=e.preOrderCheckHooks;null!==w&&Ys(n,w,s)}else{const w=e.preOrderHooks;null!==w&&kr(n,w,0,s)}rn(s)}function Ah(e,n=Tt.Default){const s=ti();return null===s?ye(e,n):Fu(eo(),s,Et(e),n)}function Py(){throw new Error("invalid")}function lf(e,n,s,u,p,w,A,F,U,ee,_e){const Be=n.blueprint.slice();return Be[Qn]=p,Be[ln]=140|u,(null!==ee||e&&2048&e[ln])&&(Be[ln]|=2048),Dd(Be),Be[Xi]=Be[qo]=e,Be[vr]=s,Be[zo]=A||e&&e[zo],Be[mn]=F||e&&e[mn],Be[No]=U||e&&e[No]||null,Be[Xn]=w,Be[Yo]=function vp(){return Bd++}(),Be[ls]=_e,Be[Il]=ee,Be[rr]=2==n.type?e[rr]:Be,Be}function kh(e,n,s,u,p){let w=e.data[n];if(null===w)w=function zg(e,n,s,u,p){const w=Tc(),A=i(),U=e.data[n]=function Ny(e,n,s,u,p,w){let A=n?n.injectorIndex:-1,F=0;return za()&&(F|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:A,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:F,providerIndexes:0,value:p,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?w:w&&w.parent,s,n,u,p);return null===e.firstChild&&(e.firstChild=U),null!==w&&(A?null==w.child&&null!==U.parent&&(w.child=U):null===w.next&&(w.next=U,U.prev=w)),U}(e,n,s,u,p),function E(){return di.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=s,w.value=u,w.attrs=p;const A=function $n(){const e=di.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();w.injectorIndex=null===A?-1:A.injectorIndex}return C(w,!0),w}function Nm(e,n,s,u){if(0===s)return-1;const p=n.length;for(let w=0;w<s;w++)n.push(u),e.blueprint.push(u),e.data.push(null);return p}function Oy(e,n,s,u,p){const w=xd(n,La),A=pi(),F=2&u;try{rn(-1),F&&n.length>An&&ky(e,n,An,!1),fo(F?2:0,p);const ee=F?w:null,_e=Ar(ee);try{null!==ee&&(ee.dirty=!1),s(u,p)}finally{Ya(ee,_e)}}finally{F&&null===n[La]&&af(n,La),rn(A),fo(F?3:1,p)}}function Bg(e,n,s){if(ws(n)){const u=zn(null);try{const w=n.directiveEnd;for(let A=n.directiveStart;A<w;A++){const F=e.data[A];F.contentQueries&&F.contentQueries(1,s[A],A)}}finally{zn(u)}}}function Vg(e,n,s){Qo()&&(function W0(e,n,s,u){const p=s.directiveStart,w=s.directiveEnd;sa(s)&&function ex(e,n,s){const u=Qr(n,e),p=Ry(s);let A=16;s.signals?A=4096:s.onPush&&(A=64);const F=cf(e,lf(e,p,null,A,u,n,null,e[zo].rendererFactory.createRenderer(u,s),null,null,null));e[n.index]=F}(n,s,e.data[p+s.componentOffset]),e.firstCreatePass||Pu(s,n),Js(u,n);const A=s.initialInputs;for(let F=p;F<w;F++){const U=e.data[F],ee=Qc(n,e,F,s);Js(ee,n),null!==A&&tx(0,F-p,ee,U,0,A),$i(U)&&(ir(s.index,n)[vr]=Qc(n,e,F,s))}}(e,n,s,Qr(s,n)),64==(64&s.flags)&&q0(e,n,s))}function Ug(e,n,s=Qr){const u=n.localNames;if(null!==u){let p=n.index+1;for(let w=0;w<u.length;w+=2){const A=u[w+1],F=-1===A?s(n,e):e[A];e[p++]=F}}}function Ry(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=jg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function jg(e,n,s,u,p,w,A,F,U,ee,_e){const Be=An+u,ft=Be+p,It=function U0(e,n){const s=[];for(let u=0;u<n;u++)s.push(u<e?null:jn);return s}(Be,ft),Xt="function"==typeof ee?ee():ee;return It[Ai]={type:e,blueprint:It,template:s,queries:null,viewQuery:F,declTNode:n,data:It.slice().fill(null,Be),bindingStartIndex:Be,expandoStartIndex:ft,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:U,consts:Xt,incompleteFirstPass:!1,ssrId:_e}}let Hg=e=>null;function zy(e,n,s,u){for(let p in e)if(e.hasOwnProperty(p)){s=null===s?{}:s;const w=e[p];null===u?By(s,n,p,w):u.hasOwnProperty(p)&&By(s,n,u[p],w)}return s}function By(e,n,s,u){e.hasOwnProperty(s)?e[s].push(n,u):e[s]=[n,u]}function Ha(e,n,s,u,p,w,A,F){const U=Qr(n,s);let _e,ee=n.inputs;!F&&null!=ee&&(_e=ee[u])?(Kg(e,s,_e,u,p),sa(n)&&function RC(e,n){const s=ir(n,e);16&s[ln]||(s[ln]|=64)}(s,n.index)):3&n.type&&(u=function Xd(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),p=null!=A?A(p,n.value||"",u):p,w.setProperty(U,u,p))}function $g(e,n,s,u){if(Qo()){const p=null===u?null:{"":-1},w=function K0(e,n){const s=e.directiveRegistry;let u=null,p=null;if(s)for(let w=0;w<s.length;w++){const A=s[w];if(lo(n,A.selectors,!1))if(u||(u=[]),$i(A))if(null!==A.findHostDirectiveDefs){const F=[];p=p||new Map,A.findHostDirectiveDefs(A,F,p),u.unshift(...F,A),Zg(e,n,F.length)}else u.unshift(A),Zg(e,n,0);else p=p||new Map,A.findHostDirectiveDefs?.(A,u,p),u.push(A)}return null===u?null:[u,p]}(e,s);let A,F;null===w?A=F=null:[A,F]=w,null!==A&&Gg(e,n,s,A,p,F),p&&function X0(e,n,s){if(n){const u=e.localNames=[];for(let p=0;p<n.length;p+=2){const w=s[n[p+1]];if(null==w)throw new Fe(-301,!1);u.push(n[p],w)}}}(s,u,p)}s.mergedAttrs=Mn(s.mergedAttrs,s.attrs)}function Gg(e,n,s,u,p,w){for(let ee=0;ee<u.length;ee++)Ru(Pu(s,n),e,u[ee].type);!function Q0(e,n,s){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+s,e.providerIndexes=n}(s,e.data.length,u.length);for(let ee=0;ee<u.length;ee++){const _e=u[ee];_e.providersResolver&&_e.providersResolver(_e)}let A=!1,F=!1,U=Nm(e,n,u.length,null);for(let ee=0;ee<u.length;ee++){const _e=u[ee];s.mergedAttrs=Mn(s.mergedAttrs,_e.hostAttrs),Uy(e,s,n,U,_e),J0(U,_e,p),null!==_e.contentQueries&&(s.flags|=4),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=64);const Be=_e.type.prototype;!A&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),A=!0),!F&&(Be.ngOnChanges||Be.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),F=!0),U++}!function G0(e,n,s){const p=n.directiveEnd,w=e.data,A=n.attrs,F=[];let U=null,ee=null;for(let _e=n.directiveStart;_e<p;_e++){const Be=w[_e],ft=s?s.get(Be):null,Xt=ft?ft.outputs:null;U=zy(Be.inputs,_e,U,ft?ft.inputs:null),ee=zy(Be.outputs,_e,ee,Xt);const Ci=null===U||null===A||Ki(n)?null:LC(U,_e,A);F.push(Ci)}null!==U&&(U.hasOwnProperty("class")&&(n.flags|=8),U.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=F,n.inputs=U,n.outputs=ee}(e,s,w)}function q0(e,n,s){const u=s.directiveStart,p=s.directiveEnd,w=s.index,A=function k(){return di.lFrame.currentDirectiveIndex}();try{rn(w);for(let F=u;F<p;F++){const U=e.data[F],ee=n[F];z(F),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Y0(U,ee)}}finally{rn(-1),z(A)}}function Y0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Zg(e,n,s){n.componentOffset=s,(e.components??=[]).push(n.index)}function J0(e,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=e;$i(n)&&(s[""]=e)}}function Uy(e,n,s,u,p){e.data[u]=p;const w=p.factory||(p.factory=ca(p.type)),A=new wo(w,$i(p),Ah);e.blueprint[u]=A,s[u]=A,function Vy(e,n,s,u,p){const w=p.hostBindings;if(w){let A=e.hostBindingOpCodes;null===A&&(A=e.hostBindingOpCodes=[]);const F=~n.index;(function Z0(e){let n=e.length;for(;n>0;){const s=e[--n];if("number"==typeof s&&s<0)return s}return 0})(A)!=F&&A.push(F),A.push(s,u,w)}}(e,n,u,Nm(e,s,p.hostVars,jn),p)}function wd(e,n,s,u,p,w){const A=Qr(e,n);!function jy(e,n,s,u,p,w,A){if(null==w)e.removeAttribute(n,p,s);else{const F=null==A?$e(w):A(w,u||"",p);e.setAttribute(n,p,F,s)}}(n[mn],A,w,e.value,s,u,p)}function tx(e,n,s,u,p,w){const A=w[n];if(null!==A)for(let F=0;F<A.length;)Jd(u,s,A[F++],A[F++],A[F++])}function Jd(e,n,s,u,p){const w=zn(null);try{const A=e.inputTransforms;null!==A&&A.hasOwnProperty(u)&&(p=A[u].call(n,p)),null!==e.setInput?e.setInput(n,p,s,u):n[u]=p}finally{zn(w)}}function LC(e,n,s){let u=null,p=0;for(;p<s.length;){const w=s[p];if(0!==w)if(5!==w){if("number"==typeof w)break;if(e.hasOwnProperty(w)){null===u&&(u=[]);const A=e[w];for(let F=0;F<A.length;F+=2)if(A[F]===n){u.push(w,A[F+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return u}function Hy(e,n,s,u){return[e,!0,!1,n,null,0,u,s,null,null,null]}function $y(e,n){const s=e.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const w=s[u+1];if(-1!==w){const A=e.data[w];Se(s[u]),A.contentQueries(2,n[w],w)}}}function cf(e,n){return e[As]?e[Kr][wr]=n:e[As]=n,e[Kr]=n,n}function Wg(e,n,s){Se(0);const u=zn(null);try{n(e,s)}finally{zn(u)}}function Gy(e){return e[Nr]||(e[Nr]=[])}function Cl(e){return e.cleanup||(e.cleanup=[])}function qg(e,n,s){return(null===e||$i(e))&&(s=function Ls(e){for(;Array.isArray(e);){if("object"==typeof e[Xr])return e;e=e[Qn]}return null}(s[n.index])),s[mn]}function Yg(e,n){const s=e[No],u=s?s.get(Yd,null):null;u&&u.handleError(n)}function Kg(e,n,s,u,p){for(let w=0;w<s.length;){const A=s[w++],F=s[w++];Jd(e.data[A],n[A],u,F,p)}}function ix(e,n){const s=ir(n,e),u=s[Ai];!function nx(e,n){for(let s=n.length;s<e.blueprint.length;s++)n.push(e.blueprint[s])}(u,s);const p=s[Qn];null!==p&&null===s[ls]&&(s[ls]=is(p,s[No])),Xg(u,s,s[vr])}function Xg(e,n,s){mt(n);try{const u=e.viewQuery;null!==u&&Wg(1,u,s);const p=e.template;null!==p&&Oy(e,n,p,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&$y(e,n),e.staticViewQueries&&Wg(2,e.viewQuery,s);const w=e.components;null!==w&&function rx(e,n){for(let s=0;s<n.length;s++)ix(e,n[s])}(n,w)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[ln]&=-5,ui()}}let Zy=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,u,p){const w=typeof Zone>"u"?null:Zone.current,A=function Lt(e,n,s){const u=Object.create(ji);s&&(u.consumerAllowSignalWrites=!0),u.fn=e,u.schedule=n;const p=A=>{u.cleanupFn=A};return u.ref={notify:()=>Jr(u),run:()=>{if(u.dirty=!1,u.hasRun&&!ks(u))return;u.hasRun=!0;const A=Ar(u);try{u.cleanupFn(),u.cleanupFn=Zt,u.fn(p)}finally{Ya(u,A)}},cleanup:()=>u.cleanupFn()},u.ref}(s,ee=>{this.all.has(ee)&&this.queue.set(ee,w)},p);let F;this.all.add(A),A.notify();const U=()=>{A.cleanup(),F?.(),this.all.delete(A),this.queue.delete(A)};return F=u?.onDestroy(U),{destroy:U}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Jt({token:e,providedIn:"root",factory:()=>new e})}return e})();function df(e,n,s){let u=s?e.styles:null,p=s?e.classes:null,w=0;if(null!==n)for(let A=0;A<n.length;A++){const F=n[A];"number"==typeof F?w=F:1==w?p=it(p,F):2==w&&(u=it(u,F+": "+n[++A]+";"))}s?e.styles=u:e.stylesWithoutHost=u,s?e.classes=p:e.classesWithoutHost=p}function zm(e,n,s,u,p=!1){for(;null!==s;){const w=n[s.index];null!==w&&u.push(un(w)),Cr(w)&&Wy(w,u);const A=s.type;if(8&A)zm(e,n,s.child,u);else if(32&A){const F=yl(s,n);let U;for(;U=F();)u.push(U)}else if(16&A){const F=sh(n,s);if(Array.isArray(F))u.push(...F);else{const U=Ud(n[rr]);zm(U[Ai],U,F,u,!0)}}s=p?s.projectionNext:s.next}return u}function Wy(e,n){for(let s=Hr;s<e.length;s++){const u=e[s],p=u[Ai].firstChild;null!==p&&zm(u[Ai],u,p,n)}e[mr]!==e[Qn]&&n.push(e[mr])}function uf(e,n,s,u=!0){const p=n[zo],w=p.rendererFactory,A=p.afterRenderEventManager;w.begin?.(),A?.begin();try{qy(e,n,e.template,s)}catch(U){throw u&&Yg(n,U),U}finally{w.end?.(),p.effectManager?.flush(),A?.end()}}function qy(e,n,s,u){const p=n[ln];if(256!=(256&p)){n[zo].effectManager?.flush(),mt(n);try{Dd(n),function V(e){return di.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&Oy(e,n,s,2,u);const A=3==(3&p);if(A){const ee=e.preOrderCheckHooks;null!==ee&&Ys(n,ee,null)}else{const ee=e.preOrderHooks;null!==ee&&kr(n,ee,0,null),Ba(n,0)}if(function ax(e){for(let n=Sp(e);null!==n;n=um(n)){if(!n[Ko])continue;const s=n[cs];for(let u=0;u<s.length;u++){qc(s[u])}}}(n),hf(n,2),null!==e.contentQueries&&$y(e,n),A){const ee=e.contentCheckHooks;null!==ee&&Ys(n,ee)}else{const ee=e.contentHooks;null!==ee&&kr(n,ee,1),Ba(n,1)}!function V0(e,n){const s=e.hostBindingOpCodes;if(null===s)return;const u=xd(n,bs);try{for(let p=0;p<s.length;p++){const w=s[p];if(w<0)rn(~w);else{const A=w,F=s[++p],U=s[++p];T(F,A),u.dirty=!1;const ee=Ar(u);try{U(2,n[A])}finally{Ya(u,ee)}}}}finally{null===n[bs]&&af(n,bs),rn(-1)}}(e,n);const F=e.components;null!==F&&Qg(n,F,0);const U=e.viewQuery;if(null!==U&&Wg(2,U,u),A){const ee=e.viewCheckHooks;null!==ee&&Ys(n,ee)}else{const ee=e.viewHooks;null!==ee&&kr(n,ee,2),Ba(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ln]&=-73,hs(n)}finally{ui()}}}function hf(e,n){for(let s=Sp(e);null!==s;s=um(s))for(let u=Hr;u<s.length;u++)Jg(s[u],n)}function mf(e,n,s){Jg(ir(n,e),s)}function Jg(e,n){if(!function Ec(e){return 128==(128&e[ln])}(e))return;const s=e[Ai],u=e[ln];if(80&u&&0===n||1024&u||2===n)qy(s,e,s.template,e[vr]);else if(e[Wo]>0){hf(e,1);const p=s.components;null!==p&&Qg(e,p,1)}}function Qg(e,n,s){for(let u=0;u<n.length;u++)mf(e,n[u],s)}class Eu{get rootNodes(){const n=this._lView,s=n[Ai];return zm(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vr]}set context(n){this._lView[vr]=n}get destroyed(){return 256==(256&this._lView[ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Xi];if(Cr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(Hd(n,u),Vu(s,u))}this._attachedToViewContainer=!1}th(this._lView[Ai],this._lView)}onDestroy(n){!function Dc(e,n){if(256==(256&e[ln]))throw new Fe(911,!1);null===e[va]&&(e[va]=[]),e[va].push(n)}(this._lView,n)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ln]&=-129}reattach(){this._lView[ln]|=128}detectChanges(){uf(this._lView[Ai],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hm(e,n){dd(e,n,n[mn],2,null,null)}(this._lView[Ai],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=n}}class Yy extends Eu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;uf(n[Ai],n,n[vr],!1)}checkNoChanges(){}get context(){return null}}class e_ extends xu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Sn(n);return new Bm(s,this.ngModule)}}function Ky(e){const n=[];for(let s in e)e.hasOwnProperty(s)&&n.push({propName:e[s],templateName:s});return n}class cx{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Te(u);const p=this.injector.get(n,Rm,u);return p!==Rm||s===Rm?p:this.parentInjector.get(n,s,u)}}class Bm extends Mh{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Ky(n.inputs);if(null!==s)for(const p of u)s.hasOwnProperty(p.propName)&&(p.transform=s[p.propName]);return u}get outputs(){return Ky(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Hs(e){return e.map(na).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,p){let w=(p=p||this.ngModule)instanceof ge?p:p?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const A=w?new cx(n,w):n,F=A.get(nf,null);if(null===F)throw new Fe(407,!1);const Be={rendererFactory:F,sanitizer:A.get(Sh,null),effectManager:A.get(Zy,null),afterRenderEventManager:A.get(Lm,null)},ft=F.createRenderer(null,this.componentDef),It=this.componentDef.selectors[0][0]||"div",Xt=u?function j0(e,n,s,u){const w=u.get(Ey,!1)||s===si.ShadowDom,A=e.selectRootElement(n,w);return function H0(e){Hg(e)}(A),A}(ft,u,this.componentDef.encapsulation,A):sd(ft,It,function lx(e){const n=e.toLowerCase();return"svg"===n?Ws:"math"===n?"math":null}(It)),pn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let mi=null;null!==Xt&&(mi=is(Xt,A,!0));const Nn=jg(0,null,null,1,0,null,null,null,null,null,null),sr=lf(null,Nn,null,pn,null,null,Be,ft,A,null,mi);let oo,Kl;mt(sr);try{const Au=this.componentDef;let Zf,IC=null;Au.findHostDirectiveDefs?(Zf=[],IC=new Map,Au.findHostDirectiveDefs(Au,Zf,IC),Zf.push(Au)):Zf=[Au];const _M=function ux(e,n){const s=e[Ai],u=An;return e[u]=n,kh(s,u,2,"#host",null)}(sr,Xt),yM=function Xy(e,n,s,u,p,w,A){const F=p[Ai];!function hx(e,n,s,u){for(const p of e)n.mergedAttrs=Mn(n.mergedAttrs,p.hostAttrs);null!==n.mergedAttrs&&(df(n,n.mergedAttrs,!0),null!==s&&vu(u,s,n))}(u,e,n,A);let U=null;null!==n&&(U=is(n,p[No]));const ee=w.rendererFactory.createRenderer(n,s);let _e=16;s.signals?_e=4096:s.onPush&&(_e=64);const Be=lf(p,Ry(s),null,_e,p[e.index],e,w,ee,null,null,U);return F.firstCreatePass&&Zg(F,e,u.length-1),cf(p,Be),p[e.index]=Be}(_M,Xt,Au,Zf,sr,Be,ft);Kl=Ns(Nn,An),Xt&&function px(e,n,s,u){if(u)_n(e,s,["ng-version",Mg.full]);else{const{attrs:p,classes:w}=function jr(e){const n=[],s=[];let u=1,p=2;for(;u<e.length;){let w=e[u];if("string"==typeof w)2===p?""!==w&&n.push(w,e[++u]):8===p&&s.push(w);else{if(!vn(p))break;p=w}u++}return{attrs:n,classes:s}}(n.selectors[0]);p&&_n(e,s,p),w&&w.length>0&&yu(e,s,w.join(" "))}}(ft,Au,Xt,u),void 0!==s&&function Jy(e,n,s){const u=e.projection=[];for(let p=0;p<n.length;p++){const w=s[p];u.push(null!=w?Array.from(w):null)}}(Kl,this.ngContentSelectors,s),oo=function mx(e,n,s,u,p,w){const A=eo(),F=p[Ai],U=Qr(A,p);Gg(F,p,A,s,null,u);for(let _e=0;_e<s.length;_e++)Js(Qc(p,F,A.directiveStart+_e,A),p);q0(F,p,A),U&&Js(U,p);const ee=Qc(p,F,A.directiveStart+A.componentOffset,A);if(e[vr]=p[vr]=ee,null!==w)for(const _e of w)_e(ee,n);return Bg(F,A,e),ee}(yM,Au,Zf,IC,sr,[fx]),Xg(Nn,sr,null)}finally{ui()}return new dx(this.componentType,oo,qd(Kl,sr),sr,Kl)}}class dx extends km{constructor(n,s,u,p,w){super(),this.location=u,this._rootLView=p,this._tNode=w,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Yy(p),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let p;if(null!==u&&(p=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const w=this._rootLView;Kg(w[Ai],w,p,n,s),this.previousInputValues.set(n,s),Kd(ir(this._tNode.index,w))}}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function fx(){const e=eo();ms(ti()[Ai],e)}function pf(e){let n=function Qy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const u=[e];for(;n;){let p;if($i(e))p=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Fe(903,!1);p=n.\u0275dir}if(p){if(s){u.push(p);const A=e;A.inputs=ff(e.inputs),A.inputTransforms=ff(e.inputTransforms),A.declaredInputs=ff(e.declaredInputs),A.outputs=ff(e.outputs);const F=p.hostBindings;F&&vx(e,F);const U=p.viewQuery,ee=p.contentQueries;if(U&&_x(e,U),ee&&yx(e,ee),lt(e.inputs,p.inputs),lt(e.declaredInputs,p.declaredInputs),lt(e.outputs,p.outputs),null!==p.inputTransforms&&(null===A.inputTransforms&&(A.inputTransforms={}),lt(A.inputTransforms,p.inputTransforms)),$i(p)&&p.data.animation){const _e=e.data;_e.animation=(_e.animation||[]).concat(p.data.animation)}}const w=p.features;if(w)for(let A=0;A<w.length;A++){const F=w[A];F&&F.ngInherit&&F(e),F===pf&&(s=!1)}}n=Object.getPrototypeOf(n)}!function gx(e){let n=0,s=null;for(let u=e.length-1;u>=0;u--){const p=e[u];p.hostVars=n+=p.hostVars,p.hostAttrs=Mn(p.hostAttrs,s=Mn(s,p.hostAttrs))}}(u)}function ff(e){return e===oi?{}:e===Oi?[]:e}function _x(e,n){const s=e.viewQuery;e.viewQuery=s?(u,p)=>{n(u,p),s(u,p)}:n}function yx(e,n){const s=e.contentQueries;e.contentQueries=s?(u,p,w)=>{n(u,p,w),s(u,p,w)}:n}function vx(e,n){const s=e.hostBindings;e.hostBindings=s?(u,p)=>{n(u,p),s(u,p)}:n}function tv(e){const n=e.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const p=n[u];Array.isArray(p)&&p[2]&&(s[u]=p[2])}e.inputTransforms=s}function gf(e){return!!i_(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function i_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gc(e,n,s){return e[n]=s}function Aa(e,n,s){return!Object.is(e[n],s)&&(e[n]=s,!0)}function Du(e,n,s,u){const p=Aa(e,n,s);return Aa(e,n+1,u)||p}function n_(e,n,s,u){const p=ti();return Aa(p,W(),n)&&(Fn(),wd(Di(),p,e,n,s,u)),n_}function Oh(e,n,s,u){return Aa(e,W(),s)?n+$e(s)+u:jn}function gv(e,n,s,u,p,w,A,F){const U=ti(),ee=Fn(),_e=e+An,Be=ee.firstCreatePass?function Hx(e,n,s,u,p,w,A,F,U){const ee=n.consts,_e=kh(n,e,4,A||null,Ds(ee,F));$g(n,s,_e,Ds(ee,U)),ms(n,_e);const Be=_e.tView=jg(2,_e,u,p,w,n.directiveRegistry,n.pipeRegistry,null,n.schemas,ee,null);return null!==n.queries&&(n.queries.template(n,_e),Be.queries=n.queries.embeddedTView(_e)),_e}(_e,ee,U,n,s,u,p,w,A):ee.data[_e];C(Be,!1);const ft=_v(ee,U,Be,e);Gr()&&oh(ee,U,ft,Be),Js(ft,U),cf(U,U[_e]=Hy(ft,U,ft,Be)),Cs(Be)&&Vg(ee,U,Be),null!=A&&Ug(U,Be,F)}let _v=function yv(e,n,s,u){return Dr(!0),n[mn].createComment("")};function vv(e){return Na(function f(){return di.lFrame.contextLView}(),An+e)}function c_(e,n,s){const u=ti();return Aa(u,W(),n)&&Ha(Fn(),Di(),u,e,n,u[mn],s,!1),c_}function d_(e,n,s,u,p){const A=p?"class":"style";Kg(e,s,n.inputs[A],A,u)}function xf(e,n,s,u){const p=ti(),w=Fn(),A=An+e,F=p[mn],U=w.firstCreatePass?function Wx(e,n,s,u,p,w){const A=n.consts,U=kh(n,e,2,u,Ds(A,p));return $g(n,s,U,Ds(A,w)),null!==U.attrs&&df(U,U.attrs,!1),null!==U.mergedAttrs&&df(U,U.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,U),U}(A,w,p,n,s,u):w.data[A],ee=bv(w,p,U,F,n,e);p[A]=ee;const _e=Cs(U);return C(U,!0),vu(F,ee,U),32!=(32&U.flags)&&Gr()&&oh(w,p,ee,U),0===function qs(){return di.lFrame.elementDepthCount}()&&Js(ee,p),function go(){di.lFrame.elementDepthCount++}(),_e&&(Vg(w,p,U),Bg(w,U,p)),null!==u&&Ug(p,U),xf}function wf(){let e=eo();i()?d():(e=e.parent,C(e,!1));const n=e;(function ic(e){return di.skipHydrationRootTNode===e})(n)&&function hl(){di.skipHydrationRootTNode=null}(),function Sc(){di.lFrame.elementDepthCount--}();const s=Fn();return s.firstCreatePass&&(ms(s,e),ws(e)&&s.queries.elementEnd(e)),null!=n.classesWithoutHost&&function zs(e){return 0!=(8&e.flags)}(n)&&d_(s,n,ti(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Co(e){return 0!=(16&e.flags)}(n)&&d_(s,n,ti(),n.stylesWithoutHost,!1),wf}function u_(e,n,s,u){return xf(e,n,s,u),wf(),u_}let bv=(e,n,s,u,p,w)=>(Dr(!0),sd(u,p,function to(){return di.lFrame.currentNamespace}()));function Cf(e,n,s){const u=ti(),p=Fn(),w=e+An,A=p.firstCreatePass?function Kx(e,n,s,u,p){const w=n.consts,A=Ds(w,u),F=kh(n,e,8,"ng-container",A);return null!==A&&df(F,A,!0),$g(n,s,F,Ds(w,p)),null!==n.queries&&n.queries.elementStart(n,F),F}(w,p,u,n,s):p.data[w];C(A,!0);const F=xv(p,u,A,e);return u[w]=F,Gr()&&oh(p,u,F,A),Js(F,u),Cs(A)&&(Vg(p,u,A),Bg(p,A,u)),null!=s&&Ug(u,A),Cf}function Ef(){let e=eo();const n=Fn();return i()?d():(e=e.parent,C(e,!1)),n.firstCreatePass&&(ms(n,e),ws(e)&&n.queries.elementEnd(e)),Ef}function h_(e,n,s){return Cf(e,n,s),Ef(),h_}let xv=(e,n,s,u)=>(Dr(!0),eh(n[mn],""));function wv(){return ti()}function m_(e){return!!e&&"function"==typeof e.then}function Cv(e){return!!e&&"function"==typeof e.subscribe}function p_(e,n,s,u){const p=ti(),w=Fn(),A=eo();return Ev(w,p,p[mn],A,e,n,u),p_}function f_(e,n){const s=eo(),u=ti(),p=Fn();return Ev(p,u,qg(j(p.data),s,u),s,e,n),f_}function Ev(e,n,s,u,p,w,A){const F=Cs(u),ee=e.firstCreatePass&&Cl(e),_e=n[vr],Be=Gy(n);let ft=!0;if(3&u.type||A){const Ci=Qr(u,n),Zi=A?A(Ci):Ci,pn=Be.length,mi=A?sr=>A(un(sr[u.index])):u.index;let Nn=null;if(!A&&F&&(Nn=function Qx(e,n,s,u){const p=e.cleanup;if(null!=p)for(let w=0;w<p.length-1;w+=2){const A=p[w];if(A===s&&p[w+1]===u){const F=n[Nr],U=p[w+2];return F.length>U?F[U]:null}"string"==typeof A&&(w+=2)}return null}(e,n,p,u.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=w,Nn.__ngLastListenerFn__=w,ft=!1;else{w=Df(u,n,_e,w,!1);const sr=s.listen(Zi,p,w);Be.push(w,sr),ee&&ee.push(p,mi,pn,pn+1)}}else w=Df(u,n,_e,w,!1);const It=u.outputs;let Xt;if(ft&&null!==It&&(Xt=It[p])){const Ci=Xt.length;if(Ci)for(let Zi=0;Zi<Ci;Zi+=2){const oo=n[Xt[Zi]][Xt[Zi+1]].subscribe(w),Kl=Be.length;Be.push(w,oo),ee&&ee.push(p,u.index,Kl,-(Kl+1))}}}function Dv(e,n,s,u){try{return fo(6,n,s),!1!==s(u)}catch(p){return Yg(e,p),!1}finally{fo(7,n,s)}}function Df(e,n,s,u,p){return function w(A){if(A===Function)return u;Kd(e.componentOffset>-1?ir(e.index,n):n);let U=Dv(n,s,u,A),ee=w.__ngNextListenerFn__;for(;ee;)U=Dv(n,s,ee,A)&&U,ee=ee.__ngNextListenerFn__;return p&&!1===U&&A.preventDefault(),U}}function ew(e=1){return function Bi(e){return(di.lFrame.contextLView=function hn(e,n){for(;e>0;)n=n[qo],e--;return n}(e,di.lFrame.contextLView))[vr]}(e)}function HC(e,n){let s=null;const u=function El(e){const n=e.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(e);for(let p=0;p<n.length;p++){const w=n[p];if("*"!==w){if(null===u?lo(e,w,!0):Ml(u,w))return p}else s=p}return s}function tw(e){const n=ti()[rr][Xn];if(!n.projection){const u=n.projection=td(e?e.length:1,null),p=u.slice();let w=n.child;for(;null!==w;){const A=e?HC(w,e):0;null!==A&&(p[A]?p[A].projectionNext=w:u[A]=w,p[A]=w),w=w.next}}}function iw(e,n=0,s){const u=ti(),p=Fn(),w=kh(p,An+e,16,null,s||null);null===w.projection&&(w.projection=n),d(),(!u[ls]||za())&&32!=(32&w.flags)&&function fg(e,n,s){Rp(n[mn],0,n,s,Nl(e,s,n),Op(s.parent||n[Xn],s,n))}(p,u,w)}function Mv(e,n,s){return Sv(e,"",n,"",s),Mv}function Sv(e,n,s,u,p){const w=ti(),A=Oh(w,n,s,u);return A!==jn&&Ha(Fn(),Di(),w,e,A,w[mn],p,!1),Sv}function Mf(e,n){return e<<17|n<<2}function tu(e){return e>>17&32767}function g_(e){return 2|e}function Mu(e){return(131068&e)>>2}function __(e,n){return-131069&e|n<<2}function y_(e){return 1|e}function Iv(e,n,s,u,p){const w=e[s+1],A=null===n;let F=u?tu(w):Mu(w),U=!1;for(;0!==F&&(!1===U||A);){const _e=e[F+1];fw(e[F],n)&&(U=!0,e[F+1]=u?y_(_e):g_(_e)),F=u?tu(_e):Mu(_e)}U&&(e[s+1]=u?g_(w):y_(w))}function fw(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Od(e,n)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Av(e){return e.substring(Vs.key,Vs.keyEnd)}function gw(e){return e.substring(Vs.value,Vs.valueEnd)}function kv(e,n){const s=Vs.textEnd;return s===n?-1:(n=Vs.keyEnd=function vw(e,n,s){for(;n<s&&e.charCodeAt(n)>32;)n++;return n}(e,Vs.key=n,s),Uh(e,n,s))}function Pv(e,n){const s=Vs.textEnd;let u=Vs.key=Uh(e,n,s);return s===u?-1:(u=Vs.keyEnd=function bw(e,n,s){let u;for(;n<s&&(45===(u=e.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(e,u,s),u=Rv(e,u,s),u=Vs.value=Uh(e,u,s),u=Vs.valueEnd=function xw(e,n,s){let u=-1,p=-1,w=-1,A=n,F=A;for(;A<s;){const U=e.charCodeAt(A++);if(59===U)return F;34===U||39===U?F=A=Fv(e,U,A,s):n===A-4&&85===w&&82===p&&76===u&&40===U?F=A=Fv(e,41,A,s):U>32&&(F=A),w=p,p=u,u=-33&U}return F}(e,u,s),Rv(e,u,s))}function Ov(e){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=e.length}function Uh(e,n,s){for(;n<s&&e.charCodeAt(n)<=32;)n++;return n}function Rv(e,n,s,u){return(n=Uh(e,n,s))<s&&n++,n}function Fv(e,n,s,u){let p=-1,w=s;for(;w<u;){const A=e.charCodeAt(w++);if(A==n&&92!==p)return w;p=92==A&&92===p?0:A}throw new Error}function v_(e,n,s){return bc(e,n,s,!1),v_}function b_(e,n){return bc(e,n,null,!0),b_}function vc(e){xc(Bv,ww,e,!1)}function ww(e,n){for(let s=function yw(e){return Ov(e),Pv(e,Uh(e,0,Vs.textEnd))}(n);s>=0;s=Pv(n,s))Bv(e,Av(n),gw(n))}function Lv(e){xc(Tw,Zc,e,!0)}function Zc(e,n){for(let s=function _w(e){return Ov(e),kv(e,Uh(e,0,Vs.textEnd))}(n);s>=0;s=kv(n,s))Xs(e,Av(n),!0)}function bc(e,n,s,u){const p=ti(),w=Fn(),A=Q(2);w.firstUpdatePass&&zv(w,e,A,u),n!==jn&&Aa(p,A,n)&&Vv(w,w.data[pi()],p,p[mn],e,p[A+1]=function Aw(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ze(Ua(e)))),e}(n,s),u,A)}function xc(e,n,s,u){const p=Fn(),w=Q(2);p.firstUpdatePass&&zv(p,null,w,u);const A=ti();if(s!==jn&&Aa(A,w,s)){const F=p.data[pi()];if(jv(F,u)&&!Nv(p,w)){let U=u?F.classesWithoutHost:F.stylesWithoutHost;null!==U&&(s=it(U,s||"")),d_(p,F,A,s,u)}else!function Iw(e,n,s,u,p,w,A,F){p===jn&&(p=Oi);let U=0,ee=0,_e=0<p.length?p[0]:null,Be=0<w.length?w[0]:null;for(;null!==_e||null!==Be;){const ft=U<p.length?p[U+1]:void 0,It=ee<w.length?w[ee+1]:void 0;let Ci,Xt=null;_e===Be?(U+=2,ee+=2,ft!==It&&(Xt=Be,Ci=It)):null===Be||null!==_e&&_e<Be?(U+=2,Xt=_e):(ee+=2,Xt=Be,Ci=It),null!==Xt&&Vv(e,n,s,u,Xt,Ci,A,F),_e=U<p.length?p[U]:null,Be=ee<w.length?w[ee]:null}}(p,F,A,A[mn],A[w+1],A[w+1]=function Sw(e,n,s){if(null==s||""===s)return Oi;const u=[],p=Ua(s);if(Array.isArray(p))for(let w=0;w<p.length;w++)e(u,p[w],!0);else if("object"==typeof p)for(const w in p)p.hasOwnProperty(w)&&e(u,w,p[w]);else"string"==typeof p&&n(u,p);return u}(e,n,s),u,w)}}function Nv(e,n){return n>=e.expandoStartIndex}function zv(e,n,s,u){const p=e.data;if(null===p[s+1]){const w=p[pi()],A=Nv(e,s);jv(w,u)&&null===n&&!A&&(n=!1),n=function Cw(e,n,s,u){const p=j(e);let w=u?n.residualClasses:n.residualStyles;if(null===p)0===(u?n.classBindings:n.styleBindings)&&(s=Hm(s=x_(null,e,n,s,u),n.attrs,u),w=null);else{const A=n.directiveStylingLast;if(-1===A||e[A]!==p)if(s=x_(p,e,n,s,u),null===w){let U=function Ew(e,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Mu(u))return e[tu(u)]}(e,n,u);void 0!==U&&Array.isArray(U)&&(U=x_(null,e,n,U[1],u),U=Hm(U,n.attrs,u),function Dw(e,n,s,u){e[tu(s?n.classBindings:n.styleBindings)]=u}(e,n,u,U))}else w=function Mw(e,n,s){let u;const p=n.directiveEnd;for(let w=1+n.directiveStylingLast;w<p;w++)u=Hm(u,e[w].hostAttrs,s);return Hm(u,n.attrs,s)}(e,n,u)}return void 0!==w&&(u?n.residualClasses=w:n.residualStyles=w),s}(p,w,n,u),function mw(e,n,s,u,p,w){let A=w?n.classBindings:n.styleBindings,F=tu(A),U=Mu(A);e[u]=s;let _e,ee=!1;if(Array.isArray(s)?(_e=s[1],(null===_e||Od(s,_e)>0)&&(ee=!0)):_e=s,p)if(0!==U){const ft=tu(e[F+1]);e[u+1]=Mf(ft,F),0!==ft&&(e[ft+1]=__(e[ft+1],u)),e[F+1]=function Tv(e,n){return 131071&e|n<<17}(e[F+1],u)}else e[u+1]=Mf(F,0),0!==F&&(e[F+1]=__(e[F+1],u)),F=u;else e[u+1]=Mf(U,0),0===F?F=u:e[U+1]=__(e[U+1],u),U=u;ee&&(e[u+1]=g_(e[u+1])),Iv(e,_e,u,!0),Iv(e,_e,u,!1),function pw(e,n,s,u,p){const w=p?e.residualClasses:e.residualStyles;null!=w&&"string"==typeof n&&Od(w,n)>=0&&(s[u+1]=y_(s[u+1]))}(n,_e,e,u,w),A=Mf(F,U),w?n.classBindings=A:n.styleBindings=A}(p,w,n,s,A,u)}}function x_(e,n,s,u,p){let w=null;const A=s.directiveEnd;let F=s.directiveStylingLast;for(-1===F?F=s.directiveStart:F++;F<A&&(w=n[F],u=Hm(u,w.hostAttrs,p),w!==e);)F++;return null!==e&&(s.directiveStylingLast=F),u}function Hm(e,n,s){const u=s?1:2;let p=-1;if(null!==n)for(let w=0;w<n.length;w++){const A=n[w];"number"==typeof A?p=A:p===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xs(e,A,!!s||n[++w]))}return void 0===e?null:e}function Bv(e,n,s){Xs(e,n,Ua(s))}function Tw(e,n,s){const u=String(n);""!==u&&!u.includes(" ")&&Xs(e,u,s)}function Vv(e,n,s,u,p,w,A,F){if(!(3&n.type))return;const U=e.data,ee=U[F+1],_e=function hw(e){return 1==(1&e)}(ee)?Uv(U,n,s,p,Mu(ee),A):void 0;Sf(_e)||(Sf(w)||function uw(e){return 2==(2&e)}(ee)&&(w=Uv(U,null,s,p,F,A)),function ud(e,n,s,u,p){if(n)p?e.addClass(s,u):e.removeClass(s,u);else{let w=-1===u.indexOf("-")?void 0:zc.DashCase;null==p?e.removeStyle(s,u,w):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),w|=zc.Important),e.setStyle(s,u,p,w))}}(u,A,ul(pi(),s),p,w))}function Uv(e,n,s,u,p,w){const A=null===n;let F;for(;p>0;){const U=e[p],ee=Array.isArray(U),_e=ee?U[1]:U,Be=null===_e;let ft=s[p+1];ft===jn&&(ft=Be?Oi:void 0);let It=Be?em(ft,u):_e===u?ft:void 0;if(ee&&!Sf(It)&&(It=em(U,u)),Sf(It)&&(F=It,A))return F;const Xt=e[p+1];p=A?tu(Xt):Mu(Xt)}if(null!==n){let U=w?n.residualClasses:n.residualStyles;null!=U&&(F=em(U,u))}return F}function Sf(e){return void 0!==e}function jv(e,n){return 0!=(e.flags&(n?8:16))}function Hv(e,n=""){const s=ti(),u=Fn(),p=e+An,w=u.firstCreatePass?kh(u,p,1,n,null):u.data[p],A=$v(u,s,w,n,e);s[p]=A,Gr()&&oh(u,s,A,w),C(w,!1)}let $v=(e,n,s,u,p)=>(Dr(!0),function Qu(e,n){return e.createText(n)}(n[mn],u));function w_(e){return Tf("",e,""),w_}function Tf(e,n,s){const u=ti(),p=Oh(u,e,n,s);return p!==jn&&function $l(e,n,s){const u=ul(n,e);!function Tp(e,n,s){e.setValue(n,s)}(e[mn],u,s)}(u,pi(),p),Tf}function Qv(e,n,s){xc(Xs,Zc,Oh(ti(),e,n,s),!0)}function M_(e,n,s){const u=ti();return Aa(u,W(),n)&&Ha(Fn(),Di(),u,e,n,u[mn],s,!0),M_}function S_(e,n,s){const u=ti();if(Aa(u,W(),n)){const w=Fn(),A=Di();Ha(w,A,u,e,n,qg(j(w.data),A,u),s,!0)}return S_}const Su=void 0;var Ww=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zw(e){const s=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let $m={};function T_(e){const n=function If(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=db(n);if(s)return s;const u=n.split("-")[0];if(s=db(u),s)return s;if("en"===u)return Ww;throw new Fe(701,!1)}function cb(e){return T_(e)[jh.PluralCase]}function db(e){return e in $m||($m[e]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[e]),$m[e]}var jh=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(jh||{});const Hh="en-US";let I_=Hh;function O_(e,n,s,u,p){if(e=Et(e),Array.isArray(e))for(let w=0;w<e.length;w++)O_(e[w],n,s,u,p);else{const w=Fn(),A=ti(),F=eo();let U=S(e)?e:Et(e.provide);const ee=yt(e),_e=1048575&F.providerIndexes,Be=F.directiveStart,ft=F.providerIndexes>>20;if(S(e)||!e.multi){const It=new wo(ee,p,Ah),Xt=F_(U,n,p?_e:_e+ft,Be);-1===Xt?(Ru(Pu(F,A),w,U),R_(w,e,n.length),n.push(U),F.directiveStart++,F.directiveEnd++,p&&(F.providerIndexes+=1048576),s.push(It),A.push(It)):(s[Xt]=It,A[Xt]=It)}else{const It=F_(U,n,_e+ft,Be),Xt=F_(U,n,_e,_e+ft),Zi=Xt>=0&&s[Xt];if(p&&!Zi||!p&&!(It>=0&&s[It])){Ru(Pu(F,A),w,U);const pn=function z1(e,n,s,u,p){const w=new wo(e,s,Ah);return w.multi=[],w.index=n,w.componentProviders=0,Ub(w,p,u&&!s),w}(p?N1:L1,s.length,p,u,ee);!p&&Zi&&(s[Xt].providerFactory=pn),R_(w,e,n.length,0),n.push(U),F.directiveStart++,F.directiveEnd++,p&&(F.providerIndexes+=1048576),s.push(pn),A.push(pn)}else R_(w,e,It>-1?It:Xt,Ub(s[p?Xt:It],ee,!p&&u));!p&&u&&Zi&&s[Xt].componentProviders++}}}function R_(e,n,s,u){const p=S(n),w=function P(e){return!!e.useClass}(n);if(p||w){const U=(w?Et(n.useClass):n).prototype.ngOnDestroy;if(U){const ee=e.destroyHooks||(e.destroyHooks=[]);if(!p&&n.multi){const _e=ee.indexOf(s);-1===_e?ee.push(s,[u,U]):ee[_e+1].push(u,U)}else ee.push(s,U)}}}function Ub(e,n,s){return s&&e.componentProviders++,e.multi.push(n)-1}function F_(e,n,s,u){for(let p=s;p<u;p++)if(n[p]===e)return p;return-1}function L1(e,n,s,u){return L_(this.multi,[])}function N1(e,n,s,u){const p=this.multi;let w;if(this.providerFactory){const A=this.providerFactory.componentProviders,F=Qc(s,s[Ai],this.providerFactory.index,u);w=F.slice(0,A),L_(p,w);for(let U=A;U<F.length;U++)w.push(F[U])}else w=[],L_(p,w);return w}function L_(e,n){for(let s=0;s<e.length;s++)n.push((0,e[s])());return n}function jb(e,n=[]){return s=>{s.providersResolver=(u,p)=>function F1(e,n,s){const u=Fn();if(u.firstCreatePass){const p=$i(e);O_(s,u.data,u.blueprint,p,!0),O_(n,u.data,u.blueprint,p,!1)}}(u,p?p(e):e,n)}}class Iu{}class Hb{}function $b(e,n){return new N_(e,n??null,[])}class N_ extends Iu{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e_(this);const p=Io(n);this._bootstrapComponents=vd(p.bootstrap),this._r3Injector=gy(n,s,[{provide:Iu,useValue:this},{provide:xu,useValue:this.componentFactoryResolver},...u],Ze(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Of extends Hb{constructor(n){super(),this.moduleType=n}create(n){return new N_(this.moduleType,n,[])}}class Zb extends Iu{constructor(n){super(),this.componentFactoryResolver=new e_(this),this.instance=null;const s=new we([...n.providers,{provide:Iu,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],n.parent||de(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Wb(e,n,s=null){return new Zb({providers:e,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let qb=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=Ch(0,s.type),p=u.length>0?Wb([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,p)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Jt({token:e,providedIn:"environment",factory:()=>new e(ye(ge))})}return e})();function Yb(e){e.getStandaloneInjector=n=>n.get(qb).getOrCreateStandaloneInjector(e)}function B_(e,n,s){const u=O()+e,p=ti();return p[u]===jn?Gc(p,u,s?n.call(s):n()):function Vm(e,n){return e[n]}(p,u)}function r0(e,n,s,u){return V_(ti(),O(),e,n,s,u)}function o0(e,n,s,u,p){return function Ff(e,n,s,u,p,w,A){const F=n+s;return Du(e,F,p,w)?Gc(e,F+2,A?u.call(A,p,w):u(p,w)):Gh(e,F+2)}(ti(),O(),e,n,s,u,p)}function s0(e,n,s,u,p,w){return function Lf(e,n,s,u,p,w,A,F){const U=n+s;return function _f(e,n,s,u,p){const w=Du(e,n,s,u);return Aa(e,n+2,p)||w}(e,U,p,w,A)?Gc(e,U+3,F?u.call(F,p,w,A):u(p,w,A)):Gh(e,U+3)}(ti(),O(),e,n,s,u,p,w)}function Rf(e,n,s,u){return function Nf(e,n,s,u,p,w){let A=n+s,F=!1;for(let U=0;U<p.length;U++)Aa(e,A++,p[U])&&(F=!0);return F?Gc(e,A,u.apply(w,p)):Gh(e,A)}(ti(),O(),e,n,s,u)}function Gh(e,n){const s=e[n];return s===jn?void 0:s}function V_(e,n,s,u,p,w){const A=n+s;return Aa(e,A,p)?Gc(e,A+1,w?u.call(w,p):u(p)):Gh(e,A+1)}function zf(e,n){const s=Fn();let u;const p=e+An;s.firstCreatePass?(u=function j_(e,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(e===u.name)return u}}(n,s.pipeRegistry),s.data[p]=u,u.onDestroy&&(s.destroyHooks??=[]).push(p,u.onDestroy)):u=s.data[p];const w=u.factory||(u.factory=ca(u.type)),F=Pe(Ah);try{const U=pl(!1),ee=w();return pl(U),function Zx(e,n,s,u){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),n[s]=u}(s,ti(),p,ee),ee}finally{Pe(F)}}function d0(e,n,s){const u=e+An,p=ti(),w=Na(p,u);return function Km(e,n){return e[Ai].data[n].pure}(p,u)?V_(p,O(),n,w.transform,s,w):w.transform(s)}function u0(){return this._results[Symbol.iterator]()}class Vf{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new yc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Vf.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=u0)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const p=function Qa(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jf(e,n,s){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let p=e[u],w=n[u];if(s&&(p=s(p),w=s(w)),w!==p)return!1}return!0}(u._results,p,s))&&(u._results=p,u.length=p.length,u.last=p[this.length-1],u.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function J1(e,n,s,u=!0){const p=n[Ai];if(function Ap(e,n,s,u){const p=Hr+u,w=s.length;u>0&&(s[p-1][wr]=n),u<w-Hr?(n[wr]=s[p],rp(s,Hr+u,n)):(s.push(n),n[wr]=null),n[Xi]=s;const A=n[bo];null!==A&&s!==A&&function pg(e,n){const s=e[cs];n[rr]!==n[Xi][Xi][rr]&&(e[Ko]=!0),null===s?e[cs]=[n]:s.push(n)}(A,n);const F=n[Bo];null!==F&&F.insertView(e),n[ln]|=128}(p,n,e,s),u){const w=Bc(s,e),A=n[mn],F=fu(A,e[mr]);null!==F&&function Ip(e,n,s,u,p,w){u[Qn]=p,u[Xn]=n,dd(e,u,s,1,p,w)}(p,e[Xn],A,n,F,w)}}let Xm=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tC}return e})();const Q1=Xm,eC=class extends Q1{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const p=function X1(e,n,s,u){const p=n.tView,F=lf(e,p,s,4096&e[ln]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);F[bo]=e[n.index];const ee=e[Bo];return null!==ee&&(F[Bo]=ee.createEmbeddedView(p)),Xg(p,F,s),F}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Eu(p)}};function tC(){return Uf(eo(),ti())}function Uf(e,n){return 4&e.type?new eC(n,e,qd(e,n)):null}let Hf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=oC}return e})();function oC(){return W_(eo(),ti())}const sC=Hf,f0=class extends sC{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){const n=Md(this._hostTNode,this._hostLView);if(Ac(n)){const s=Kc(n,this._hostLView),u=kc(n);return new es(s[Ai].data[u+8],s)}return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=g0(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Hr}createEmbeddedView(n,s,u){let p,w;"number"==typeof u?p=u:null!=u&&(p=u.index,w=u.injector);const F=n.createEmbeddedViewImpl(s||{},w,null);return this.insertImpl(F,p,false),F}createComponent(n,s,u,p,w){const A=n&&!function uu(e){return"function"==typeof e}(n);let F;if(A)F=s;else{const Ci=s||{};F=Ci.index,u=Ci.injector,p=Ci.projectableNodes,w=Ci.environmentInjector||Ci.ngModuleRef}const U=A?n:new Bm(Sn(n)),ee=u||this.parentInjector;if(!w&&null==U.ngModule){const Zi=(A?ee:this.parentInjector).get(ge,null);Zi&&(w=Zi)}Sn(U.componentType??{});const It=U.create(ee,p,null,w);return this.insertImpl(It.hostView,F,false),It}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const p=n._lView;if(function tc(e){return Cr(e[Xi])}(p)){const U=this.indexOf(n);if(-1!==U)this.detach(U);else{const ee=p[Xi],_e=new f0(ee,ee[Xn],ee[Xi]);_e.detach(_e.indexOf(n))}}const A=this._adjustIndex(s),F=this._lContainer;return J1(F,p,A,!u),n.attachToViewContainerRef(),rp(Z_(F),A,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=g0(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=Hd(this._lContainer,s);u&&(Vu(Z_(this._lContainer),s),th(u[Ai],u))}detach(n){const s=this._adjustIndex(n,-1),u=Hd(this._lContainer,s);return u&&null!=Vu(Z_(this._lContainer),s)?new Eu(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function g0(e){return e[8]}function Z_(e){return e[8]||(e[8]=[])}function W_(e,n){let s;const u=n[e.index];return Cr(u)?s=u:(s=Hy(u,n,null,e),n[e.index]=s,cf(n,s)),_0(s,n,e,u),new f0(s,e,n)}let _0=function lC(e,n,s,u){if(e[mr])return;let p;p=8&s.type?un(u):function aC(e,n){const s=e[mn],u=s.createComment(""),p=Qr(n,e);return vl(s,fu(s,p),u,function rh(e,n){return e.nextSibling(n)}(s,p),!1),u}(n,s),e[mr]=p};class q_{constructor(n){this.queryList=n,this.matches=null}clone(){return new q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,p=[];for(let w=0;w<u;w++){const A=s.getByIndex(w);p.push(this.queries[A.indexInDeclarationView].clone())}return new Y_(p)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==L(n,s).matches&&this.queries[s].setDirty()}}class xn{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Jm{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const p=null!==s?s.length:0,w=this.getByIndex(u).embeddedTView(n,p);w&&(w.indexInDeclarationView=u,null!==s?s.push(w):s=[w])}return null!==s?new Jm(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class K_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new K_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const w=u[p];this.matchTNodeWithReadOption(n,s,cE(s,w)),this.matchTNodeWithReadOption(n,s,lu(s,n,w,!1,!1))}else u===Xm?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,lu(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===wu||p===Hf||p===Xm&&4&s.type)this.addMatch(s.index,-2);else{const w=lu(s,n,p,!1,!1);null!==w&&this.addMatch(s.index,w)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function cE(e,n){const s=e.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function hC(e,n,s,u){return-1===s?function uC(e,n){return 11&e.type?qd(e,n):4&e.type?Uf(e,n):null}(n,e):-2===s?function mC(e,n,s){return s===wu?qd(n,e):s===Xm?Uf(n,e):s===Hf?W_(n,e):void 0}(e,n,u):Qc(e,e[Ai],s,n)}function y0(e,n,s,u){const p=n[Bo].queries[u];if(null===p.matches){const w=e.data,A=s.matches,F=[];for(let U=0;U<A.length;U+=2){const ee=A[U];F.push(ee<0?null:hC(n,w[ee],A[U+1],s.metadata.read))}p.matches=F}return p.matches}function X_(e,n,s,u){const p=e.queries.getByIndex(s),w=p.matches;if(null!==w){const A=y0(e,n,p,s);for(let F=0;F<w.length;F+=2){const U=w[F];if(U>0)u.push(A[F/2]);else{const ee=w[F+1],_e=n[-U];for(let Be=Hr;Be<_e.length;Be++){const ft=_e[Be];ft[bo]===ft[Xi]&&X_(ft[Ai],ft,ee,u)}if(null!==_e[cs]){const Be=_e[cs];for(let ft=0;ft<Be.length;ft++){const It=Be[ft];X_(It[Ai],It,ee,u)}}}}}return u}function v0(e){const n=ti(),s=Fn(),u=re();Se(u+1);const p=L(s,u);if(e.dirty&&function Rr(e){return 4==(4&e[ln])}(n)===(2==(2&p.metadata.flags))){if(null===p.matches)e.reset([]);else{const w=p.crossesNgTemplate?X_(s,n,u,[]):y0(s,n,p,u);e.reset(w,Dg),e.notifyOnChanges()}return!0}return!1}function b0(e,n,s){const u=Fn();u.firstCreatePass&&(h(u,new xn(e,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),r(u,ti(),n)}function pC(e,n,s,u){const p=Fn();if(p.firstCreatePass){const w=eo();h(p,new xn(n,s,u),w.index),function b(e,n){const s=e.contentQueries||(e.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,n)}(p,e),2==(2&s)&&(p.staticContentQueries=!0)}r(p,ti(),s)}function c(){return function v(e,n){return e[Bo].queries[n].queryList}(ti(),re())}function r(e,n,s){const u=new Vf(4==(4&s));(function $0(e,n,s,u){const p=Gy(n);p.push(s),e.firstCreatePass&&Cl(e).push(u,p.length-1)})(e,n,u,u.destroy),null===n[Bo]&&(n[Bo]=new Y_),n[Bo].queries.push(new q_(u))}function h(e,n,s){null===e.queries&&(e.queries=new Jm),e.queries.track(new K_(n,s))}function L(e,n){return e.queries.getByIndex(n)}function X(e,n){return Uf(e,n)}function Pi(e){return!!Io(e)}const fE=new cr("Application Initializer");let fC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=pe(fE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const p of this.appInits){const w=p();if(m_(w))s.push(w);else if(Cv(w)){const A=new Promise((F,U)=>{w.subscribe({complete:F,error:U})});s.push(A)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(p=>{this.reject(p)}),0===s.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gE=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const w0=new cr("LocaleId",{providedIn:"root",factory:()=>pe(w0,Tt.Optional|Tt.SkipSelf)||function rD(){return typeof $localize<"u"&&$localize.locale||Hh}()}),oD=new cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let _E=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ue.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class aD{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let lD=(()=>{class e{compileModuleSync(s){return new Of(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),w=vd(Io(s).declarations).reduce((A,F)=>{const U=Sn(F);return U&&A.push(new Bm(U)),A},[]);return new aD(u,w)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xE=new cr(""),wE=new cr("");let yC,TD=(()=>{class e{constructor(s,u,p){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yC||(function ID(e){yC=e}(p),p.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,p){let w=-1;u&&u>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==w),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:w,updateCb:p})}whenStable(s,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,p){return[]}static#e=this.\u0275fac=function(u){return new(u||e)(ye(ea),ye(CE),ye(wE))};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac})}return e})(),CE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return yC?.findTestabilityInTree(this,s,u)??null}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Kh=null;const EE=new cr("AllowMultipleToken"),vC=new cr("PlatformDestroyListeners"),bC=new cr("appBootstrapListener");class PD{constructor(n,s){this.name=n,this.token=s}}function SE(e,n,s=[]){const u=`Platform: ${n}`,p=new cr(u);return(w=[])=>{let A=xC();if(!A||A.injector.get(EE,!1)){const F=[...s,...w,{provide:p,useValue:!0}];e?e(F):function OD(e){if(Kh&&!Kh.get(EE,!1))throw new Fe(400,!1);(function DE(){!function Os(e){Ol=e}(()=>{throw new Fe(600,!1)})})(),Kh=e;const n=e.get(IE);(function ME(e){e.get(Ii,null)?.forEach(s=>s())})(e)}(function TE(e=[],n){return _c.create({name:n,providers:[{provide:N,useValue:"platform"},{provide:vC,useValue:new Set([()=>Kh=null])},...e]})}(F,u))}return function FD(e){const n=xC();if(!n)throw new Fe(401,!1);return n}()}}function xC(){return Kh?.get(IE)??null}let IE=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const p=function LD(e="zone.js",n){return"noop"===e?new R0:"zone.js"===e?new ea(n):e}(u?.ngZone,function AE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return p.run(()=>{const w=function Gb(e,n,s){return new N_(e,n,s)}(s.moduleType,this.injector,function FE(e){return[{provide:ea,useFactory:e},{provide:fd,multi:!0,useFactory:()=>{const n=pe(zD,{optional:!0});return()=>n.initialize()}},{provide:RE,useFactory:ND},{provide:xy,useFactory:wy}]}(()=>p)),A=w.injector.get(Yd,null);return p.runOutsideAngular(()=>{const F=p.onError.subscribe({next:U=>{A.handleError(U)}});w.onDestroy(()=>{E0(this._modules,w),F.unsubscribe()})}),function kE(e,n,s){try{const u=s();return m_(u)?u.catch(p=>{throw n.runOutsideAngular(()=>e.handleError(p)),p}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(A,p,()=>{const F=w.injector.get(fC);return F.runInitializers(),F.donePromise.then(()=>(function ub(e){kt(e,"Expected localeId to be defined"),"string"==typeof e&&(I_=e.toLowerCase().replace(/_/g,"-"))}(w.injector.get(w0,Hh)||Hh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,u=[]){const p=PE({},u);return function AD(e,n,s){const u=new Of(s);return Promise.resolve(u)}(0,0,s).then(w=>this.bootstrapModuleFactory(w,p))}_moduleDoBootstrap(s){const u=s.injector.get(Gf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new Fe(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(vC,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||e)(ye(_c))};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function PE(e,n){return Array.isArray(n)?n.reduce(PE,e):{...e,...n}}let Gf=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(RE),this.zoneIsStable=pe(xy),this.componentTypes=[],this.components=[],this.isStable=pe(_E).hasPendingTasks.pipe((0,ot.w)(s=>s?(0,ae.of)(!1):this.zoneIsStable),(0,ke.x)(),(0,Ke.B)()),this._injector=pe(ge)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const p=s instanceof Mh;if(!this._injector.get(fC).done)throw!p&&os(s),new Fe(405,!1);let A;A=p?s:this._injector.get(xu).resolveComponentFactory(s),this.componentTypes.push(A.componentType);const F=function kD(e){return e.isBoundToModule}(A)?void 0:this._injector.get(Iu),ee=A.create(_c.NULL,[],u||A.selector,F),_e=ee.location.nativeElement,Be=ee.injector.get(xE,null);return Be?.registerApplication(_e),ee.onDestroy(()=>{this.detachView(ee.hostView),E0(this.components,ee),Be?.unregisterApplication(_e)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;E0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(bC,[]);u.push(...this._bootstrapListeners),u.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>E0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Fe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E0(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}const RE=new cr("",{providedIn:"root",factory:()=>pe(Yd).handleError.bind(void 0)});function ND(){const e=pe(ea),n=pe(Yd);return s=>e.runOutsideAngular(()=>n.handleError(s))}let zD=(()=>{class e{constructor(){this.zone=pe(ea),this.applicationRef=pe(Gf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=Jt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VD(){}let UD=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=jD}return e})();function jD(e){return function HD(e,n,s){if(sa(e)&&!s){const u=ir(e.index,n);return new Eu(u,u)}return 47&e.type?new Eu(n[rr],n):null}(eo(),ti(),16==(16&e))}class BE{constructor(){}supports(n){return gf(n)}create(n){return new YD(n)}}const qD=(e,n)=>n;class YD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qD}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,p=0,w=null;for(;s||u;){const A=!u||s&&s.currentIndex<UE(u,p,w)?s:u,F=UE(A,p,w),U=A.currentIndex;if(A===u)p--,u=u._nextRemoved;else if(s=s._next,null==A.previousIndex)p++;else{w||(w=[]);const ee=F-p,_e=U-p;if(ee!=_e){for(let ft=0;ft<ee;ft++){const It=ft<w.length?w[ft]:w[ft]=0,Xt=It+ft;_e<=Xt&&Xt<ee&&(w[ft]=It+1)}w[A.previousIndex]=_e-ee}}F!==U&&n(A,F,U)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!gf(n))throw new Fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let p,w,A,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let F=0;F<this.length;F++)w=n[F],A=this._trackByFn(F,w),null!==s&&Object.is(s.trackById,A)?(u&&(s=this._verifyReinsertion(s,w,A,F)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,A,F),u=!0),s=s._next}else p=0,function Sx(e,n){if(Array.isArray(e))for(let s=0;s<e.length;s++)n(e[s]);else{const s=e[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,F=>{A=this._trackByFn(p,F),null!==s&&Object.is(s.trackById,A)?(u&&(s=this._verifyReinsertion(s,F,A,p)),Object.is(s.item,F)||this._addIdentityChange(s,F)):(s=this._mismatch(s,F,A,p),u=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,p){let w;return null===n?w=this._itTail:(w=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,w,p)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,w,p)):n=this._addAfter(new KD(s,u),w,p),n}_verifyReinsertion(n,s,u,p){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==w?n=this._reinsertAfter(w,n._prev,p):n.currentIndex!=p&&(n.currentIndex=p,this._addToMoves(n,p)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const p=n._prevRemoved,w=n._nextRemoved;return null===p?this._removalsHead=w:p._nextRemoved=w,null===w?this._removalsTail=p:w._prevRemoved=p,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const p=null===s?this._itHead:s._next;return n._next=p,n._prev=s,null===p?this._itTail=n:p._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new VE),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class KD{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class VE{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new XD,this.map.set(s,u)),u.add(n)}get(n,s){const p=this.map.get(n);return p?p.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(e,n,s){const u=e.previousIndex;if(null===u)return u;let p=0;return s&&u<s.length&&(p=s[u]),u+n+p}class jE{constructor(){}supports(n){return n instanceof Map||i_(n)}create(){return new JD}}class JD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||i_(n)))throw new Fe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const w=this._getOrCreateRecordForKey(p,u);s=this._insertBeforeOrAppend(s,w)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const p=this._records.get(n);this._maybeAddToChanges(p,s);const w=p._prev,A=p._next;return w&&(w._next=A),A&&(A._prev=w),p._next=null,p._prev=null,p}const u=new QD(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class QD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HE(){return new MC([new BE])}let MC=(()=>{class e{static#e=this.\u0275prov=Jt({token:e,providedIn:"root",factory:HE});constructor(s){this.factories=s}static create(s,u){if(null!=u){const p=u.factories.slice();s=s.concat(p)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||HE()),deps:[[e,new Fc,new id]]}}find(s){const u=this.factories.find(p=>p.supports(s));if(null!=u)return u;throw new Fe(901,!1)}}return e})();function $E(){return new SC([new jE])}let SC=(()=>{class e{static#e=this.\u0275prov=Jt({token:e,providedIn:"root",factory:$E});constructor(s){this.factories=s}static create(s,u){if(u){const p=u.factories.slice();s=s.concat(p)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||$E()),deps:[[e,new Fc,new id]]}}find(s){const u=this.factories.find(p=>p.supports(s));if(u)return u;throw new Fe(901,!1)}}return e})();const iM=SE(null,"core",[]);let nM=(()=>{class e{constructor(s){}static#e=this.\u0275fac=function(u){return new(u||e)(ye(Gf))};static#t=this.\u0275mod=Sl({type:e});static#i=this.\u0275inj=yi({})}return e})();function pM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function gM(e){const n=Sn(e);if(!n)return null;const s=new Bm(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(bi,vt,H)=>{"use strict";H.d(vt,{Cf:()=>Ut,F:()=>Tr,Fj:()=>nt,JJ:()=>Kt,JU:()=>ot,On:()=>jr,Zs:()=>bs,a5:()=>yi,kI:()=>ni,sg:()=>ss,u5:()=>pr});var x=H(5879),l=H(6814),me=H(7715),g=H(9315),Ue=H(7398);let ae=(()=>{class ne{constructor(q,De){this._renderer=q,this._elementRef=De,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(q,De){this._renderer.setProperty(this._elementRef.nativeElement,q,De)}registerOnTouched(q){this.onTouched=q}registerOnChange(q){this.onChange=q}setDisabledState(q){this.setProperty("disabled",q)}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(x.Qsj),x.Y36(x.SBq))};static#t=this.\u0275dir=x.lG2({type:ne})}return ne})(),Ke=(()=>{class ne extends ae{static#e=this.\u0275fac=function(){let q;return function(st){return(q||(q=x.n5z(ne)))(st||ne)}}();static#t=this.\u0275dir=x.lG2({type:ne,features:[x.qOj]})}return ne})();const ot=new x.OlP("NgValueAccessor"),lt={provide:ot,useExisting:(0,x.Gpc)(()=>nt),multi:!0},it=new x.OlP("CompositionEventMode");let nt=(()=>{class ne extends ae{constructor(q,De,st){super(q,De),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ze(){const ne=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(q){this.setProperty("value",q??"")}_handleInput(q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(q)}_compositionStart(){this._composing=!0}_compositionEnd(q){this._composing=!1,this._compositionMode&&this.onChange(q)}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(x.Qsj),x.Y36(x.SBq),x.Y36(it,8))};static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(De,st){1&De&&x.NdJ("input",function(wn){return st._handleInput(wn.target.value)})("blur",function(){return st.onTouched()})("compositionstart",function(){return st._compositionStart()})("compositionend",function(wn){return st._compositionEnd(wn.target.value)})},features:[x._Bn([lt]),x.qOj]})}return ne})();function ut(ne){return null==ne||("string"==typeof ne||Array.isArray(ne))&&0===ne.length}function Et(ne){return null!=ne&&"number"==typeof ne.length}const Ut=new x.OlP("NgValidators"),ei=new x.OlP("NgAsyncValidators"),Ti=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ni{static min(le){return function Fe(ne){return le=>{if(ut(le.value)||ut(ne))return null;const q=parseFloat(le.value);return!isNaN(q)&&q<ne?{min:{min:ne,actual:le.value}}:null}}(le)}static max(le){return function Je(ne){return le=>{if(ut(le.value)||ut(ne))return null;const q=parseFloat(le.value);return!isNaN(q)&&q>ne?{max:{max:ne,actual:le.value}}:null}}(le)}static required(le){return $e(le)}static requiredTrue(le){return Nt(le)}static email(le){return function Pt(ne){return ut(ne.value)||Ti.test(ne.value)?null:{email:!0}}(le)}static minLength(le){return function zt(ne){return le=>ut(le.value)||!Et(le.value)?null:le.value.length<ne?{minlength:{requiredLength:ne,actualLength:le.value.length}}:null}(le)}static maxLength(le){return function fi(ne){return le=>Et(le.value)&&le.value.length>ne?{maxlength:{requiredLength:ne,actualLength:le.value.length}}:null}(le)}static pattern(le){return function _i(ne){if(!ne)return Li;let le,q;return"string"==typeof ne?(q="","^"!==ne.charAt(0)&&(q+="^"),q+=ne,"$"!==ne.charAt(ne.length-1)&&(q+="$"),le=new RegExp(q)):(q=ne.toString(),le=ne),De=>{if(ut(De.value))return null;const st=De.value;return le.test(st)?null:{pattern:{requiredPattern:q,actualValue:st}}}}(le)}static nullValidator(le){return null}static compose(le){return xt(le)}static composeAsync(le){return gt(le)}}function $e(ne){return ut(ne.value)?{required:!0}:null}function Nt(ne){return!0===ne.value?null:{required:!0}}function Li(ne){return null}function Hi(ne){return null!=ne}function Dn(ne){return(0,x.QGY)(ne)?(0,me.D)(ne):ne}function Kn(ne){let le={};return ne.forEach(q=>{le=null!=q?{...le,...q}:le}),0===Object.keys(le).length?null:le}function yn(ne,le){return le.map(q=>q(ne))}function Pn(ne){return ne.map(le=>function Hn(ne){return!ne.validate}(le)?le:q=>le.validate(q))}function xt(ne){if(!ne)return null;const le=ne.filter(Hi);return 0==le.length?null:function(q){return Kn(yn(q,le))}}function wt(ne){return null!=ne?xt(Pn(ne)):null}function gt(ne){if(!ne)return null;const le=ne.filter(Hi);return 0==le.length?null:function(q){const De=yn(q,le).map(Dn);return(0,g.D)(De).pipe((0,Ue.U)(Kn))}}function Bt(ne){return null!=ne?gt(Pn(ne)):null}function Mt(ne,le){return null===ne?[le]:Array.isArray(ne)?[...ne,le]:[ne,le]}function at(ne){return ne._rawValidators}function kt(ne){return ne._rawAsyncValidators}function We(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function ht(ne,le){return Array.isArray(ne)?ne.includes(le):ne===le}function At(ne,le){const q=We(le);return We(ne).forEach(st=>{ht(q,st)||q.push(st)}),q}function ai(ne,le){return We(le).filter(q=>!ht(ne,q))}class Jt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(le){this._rawValidators=le||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(le){this._rawAsyncValidators=le||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(le){this._onDestroyCallbacks.push(le)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(le=>le()),this._onDestroyCallbacks=[]}reset(le=void 0){this.control&&this.control.reset(le)}hasError(le,q){return!!this.control&&this.control.hasError(le,q)}getError(le,q){return this.control?this.control.getError(le,q):null}}class vi extends Jt{get formDirective(){return null}get path(){return null}}class yi extends Jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fi{constructor(le){this._cd=le}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Kt=(()=>{class ne extends Fi{constructor(q){super(q)}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(yi,2))};static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(De,st){2&De&&x.ekj("ng-untouched",st.isUntouched)("ng-touched",st.isTouched)("ng-pristine",st.isPristine)("ng-dirty",st.isDirty)("ng-valid",st.isValid)("ng-invalid",st.isInvalid)("ng-pending",st.isPending)},features:[x.qOj]})}return ne})();const Mi="VALID",xi="INVALID",an="PENDING",Vt="DISABLED";function ci(ne){return(se(ne)?ne.validators:ne)||null}function ve(ne,le){return(se(le)?le.asyncValidators:ne)||null}function se(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}class ze{constructor(le,q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(le),this._assignAsyncValidators(q)}get validator(){return this._composedValidatorFn}set validator(le){this._rawValidators=this._composedValidatorFn=le}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(le){this._rawAsyncValidators=this._composedAsyncValidatorFn=le}get parent(){return this._parent}get valid(){return this.status===Mi}get invalid(){return this.status===xi}get pending(){return this.status==an}get disabled(){return this.status===Vt}get enabled(){return this.status!==Vt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(le){this._assignValidators(le)}setAsyncValidators(le){this._assignAsyncValidators(le)}addValidators(le){this.setValidators(At(le,this._rawValidators))}addAsyncValidators(le){this.setAsyncValidators(At(le,this._rawAsyncValidators))}removeValidators(le){this.setValidators(ai(le,this._rawValidators))}removeAsyncValidators(le){this.setAsyncValidators(ai(le,this._rawAsyncValidators))}hasValidator(le){return ht(this._rawValidators,le)}hasAsyncValidator(le){return ht(this._rawAsyncValidators,le)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(le={}){this.touched=!0,this._parent&&!le.onlySelf&&this._parent.markAsTouched(le)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(le=>le.markAllAsTouched())}markAsUntouched(le={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(q=>{q.markAsUntouched({onlySelf:!0})}),this._parent&&!le.onlySelf&&this._parent._updateTouched(le)}markAsDirty(le={}){this.pristine=!1,this._parent&&!le.onlySelf&&this._parent.markAsDirty(le)}markAsPristine(le={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(q=>{q.markAsPristine({onlySelf:!0})}),this._parent&&!le.onlySelf&&this._parent._updatePristine(le)}markAsPending(le={}){this.status=an,!1!==le.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!le.onlySelf&&this._parent.markAsPending(le)}disable(le={}){const q=this._parentMarkedDirty(le.onlySelf);this.status=Vt,this.errors=null,this._forEachChild(De=>{De.disable({...le,onlySelf:!0})}),this._updateValue(),!1!==le.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...le,skipPristineCheck:q}),this._onDisabledChange.forEach(De=>De(!0))}enable(le={}){const q=this._parentMarkedDirty(le.onlySelf);this.status=Mi,this._forEachChild(De=>{De.enable({...le,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent}),this._updateAncestors({...le,skipPristineCheck:q}),this._onDisabledChange.forEach(De=>De(!1))}_updateAncestors(le){this._parent&&!le.onlySelf&&(this._parent.updateValueAndValidity(le),le.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(le){this._parent=le}getRawValue(){return this.value}updateValueAndValidity(le={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mi||this.status===an)&&this._runAsyncValidator(le.emitEvent)),!1!==le.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.updateValueAndValidity(le)}_updateTreeValidity(le={emitEvent:!0}){this._forEachChild(q=>q._updateTreeValidity(le)),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vt:Mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(le){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator=!0;const q=Dn(this.asyncValidator(this));this._asyncValidationSubscription=q.subscribe(De=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(De,{emitEvent:le})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(le,q={}){this.errors=le,this._updateControlsErrors(!1!==q.emitEvent)}get(le){let q=le;return null==q||(Array.isArray(q)||(q=q.split(".")),0===q.length)?null:q.reduce((De,st)=>De&&De._find(st),this)}getError(le,q){const De=q?this.get(q):this;return De&&De.errors?De.errors[le]:null}hasError(le,q){return!!this.getError(le,q)}get root(){let le=this;for(;le._parent;)le=le._parent;return le}_updateControlsErrors(le){this.status=this._calculateStatus(),le&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(le)}_initObservables(){this.valueChanges=new x.vpe,this.statusChanges=new x.vpe}_calculateStatus(){return this._allControlsDisabled()?Vt:this.errors?xi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(xi)?xi:Mi}_anyControlsHaveStatus(le){return this._anyControls(q=>q.status===le)}_anyControlsDirty(){return this._anyControls(le=>le.dirty)}_anyControlsTouched(){return this._anyControls(le=>le.touched)}_updatePristine(le={}){this.pristine=!this._anyControlsDirty(),this._parent&&!le.onlySelf&&this._parent._updatePristine(le)}_updateTouched(le={}){this.touched=this._anyControlsTouched(),this._parent&&!le.onlySelf&&this._parent._updateTouched(le)}_registerOnCollectionChange(le){this._onCollectionChange=le}_setUpdateStrategy(le){se(le)&&null!=le.updateOn&&(this._updateOn=le.updateOn)}_parentMarkedDirty(le){return!le&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(le){return null}_assignValidators(le){this._rawValidators=Array.isArray(le)?le.slice():le,this._composedValidatorFn=function Ft(ne){return Array.isArray(ne)?wt(ne):ne||null}(this._rawValidators)}_assignAsyncValidators(le){this._rawAsyncValidators=Array.isArray(le)?le.slice():le,this._composedAsyncValidatorFn=function K(ne){return Array.isArray(ne)?Bt(ne):ne||null}(this._rawAsyncValidators)}}class Ee extends ze{constructor(le,q,De){super(ci(q),ve(De,q)),this.controls=le,this._initObservables(),this._setUpdateStrategy(q),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(le,q){return this.controls[le]?this.controls[le]:(this.controls[le]=q,q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange),q)}addControl(le,q,De={}){this.registerControl(le,q),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}removeControl(le,q={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}setControl(le,q,De={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],q&&this.registerControl(le,q),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}contains(le){return this.controls.hasOwnProperty(le)&&this.controls[le].enabled}setValue(le,q={}){(function Ae(ne,le,q){ne._forEachChild((De,st)=>{if(void 0===q[st])throw new x.vHH(1002,"")})})(this,0,le),Object.keys(le).forEach(De=>{(function Ce(ne,le,q){const De=ne.controls;if(!(le?Object.keys(De):De).length)throw new x.vHH(1e3,"");if(!De[q])throw new x.vHH(1001,"")})(this,!0,De),this.controls[De].setValue(le[De],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q)}patchValue(le,q={}){null!=le&&(Object.keys(le).forEach(De=>{const st=this.controls[De];st&&st.patchValue(le[De],{onlySelf:!0,emitEvent:q.emitEvent})}),this.updateValueAndValidity(q))}reset(le={},q={}){this._forEachChild((De,st)=>{De.reset(le?le[st]:null,{onlySelf:!0,emitEvent:q.emitEvent})}),this._updatePristine(q),this._updateTouched(q),this.updateValueAndValidity(q)}getRawValue(){return this._reduceChildren({},(le,q,De)=>(le[De]=q.getRawValue(),le))}_syncPendingControls(){let le=this._reduceChildren(!1,(q,De)=>!!De._syncPendingControls()||q);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){Object.keys(this.controls).forEach(q=>{const De=this.controls[q];De&&le(De,q)})}_setUpControls(){this._forEachChild(le=>{le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(le){for(const[q,De]of Object.entries(this.controls))if(this.contains(q)&&le(De))return!0;return!1}_reduceValue(){return this._reduceChildren({},(q,De,st)=>((De.enabled||this.disabled)&&(q[st]=De.value),q))}_reduceChildren(le,q){let De=le;return this._forEachChild((st,on)=>{De=q(De,st,on)}),De}_allControlsDisabled(){for(const le of Object.keys(this.controls))if(this.controls[le].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(le){return this.controls.hasOwnProperty(le)?this.controls[le]:null}}const Ie=new x.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ye}),ye="always";function pe(ne,le,q=ye){Ve(ne,le),le.valueAccessor.writeValue(ne.value),(ne.disabled||"always"===q)&&le.valueAccessor.setDisabledState?.(ne.disabled),function Qe(ne,le){le.valueAccessor.registerOnChange(q=>{ne._pendingValue=q,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&Qt(ne,le)})}(ne,le),function si(ne,le){const q=(De,st)=>{le.valueAccessor.writeValue(De),st&&le.viewToModelUpdate(De)};ne.registerOnChange(q),le._registerOnDestroy(()=>{ne._unregisterOnChange(q)})}(ne,le),function St(ne,le){le.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&Qt(ne,le),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,le),function Ct(ne,le){if(le.valueAccessor.setDisabledState){const q=De=>{le.valueAccessor.setDisabledState(De)};ne.registerOnDisabledChange(q),le._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(q)})}}(ne,le)}function Te(ne,le,q=!0){const De=()=>{};le.valueAccessor&&(le.valueAccessor.registerOnChange(De),le.valueAccessor.registerOnTouched(De)),Ne(ne,le),ne&&(le._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function rt(ne,le){ne.forEach(q=>{q.registerOnValidatorChange&&q.registerOnValidatorChange(le)})}function Ve(ne,le){const q=at(ne);null!==le.validator?ne.setValidators(Mt(q,le.validator)):"function"==typeof q&&ne.setValidators([q]);const De=kt(ne);null!==le.asyncValidator?ne.setAsyncValidators(Mt(De,le.asyncValidator)):"function"==typeof De&&ne.setAsyncValidators([De]);const st=()=>ne.updateValueAndValidity();rt(le._rawValidators,st),rt(le._rawAsyncValidators,st)}function Ne(ne,le){let q=!1;if(null!==ne){if(null!==le.validator){const st=at(ne);if(Array.isArray(st)&&st.length>0){const on=st.filter(wn=>wn!==le.validator);on.length!==st.length&&(q=!0,ne.setValidators(on))}}if(null!==le.asyncValidator){const st=kt(ne);if(Array.isArray(st)&&st.length>0){const on=st.filter(wn=>wn!==le.asyncValidator);on.length!==st.length&&(q=!0,ne.setAsyncValidators(on))}}}const De=()=>{};return rt(le._rawValidators,De),rt(le._rawAsyncValidators,De),q}function Qt(ne,le){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),le.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function oi(ne,le){Ve(ne,le)}function Rn(ne,le){ne._syncPendingControls(),le.forEach(q=>{const De=q.control;"submit"===De.updateOn&&De._pendingChange&&(q.viewToModelUpdate(De._pendingValue),De._pendingChange=!1)})}const Mn={provide:vi,useExisting:(0,x.Gpc)(()=>Tr)},Jn=(()=>Promise.resolve())();let Tr=(()=>{class ne extends vi{constructor(q,De,st){super(),this.callSetDisabledState=st,this.submitted=!1,this._directives=new Set,this.ngSubmit=new x.vpe,this.form=new Ee({},wt(q),Bt(De))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(q){Jn.then(()=>{const De=this._findContainer(q.path);q.control=De.registerControl(q.name,q.control),pe(q.control,q,this.callSetDisabledState),q.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(q)})}getControl(q){return this.form.get(q.path)}removeControl(q){Jn.then(()=>{const De=this._findContainer(q.path);De&&De.removeControl(q.name),this._directives.delete(q)})}addFormGroup(q){Jn.then(()=>{const De=this._findContainer(q.path),st=new Ee({});oi(st,q),De.registerControl(q.name,st),st.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(q){Jn.then(()=>{const De=this._findContainer(q.path);De&&De.removeControl(q.name)})}getFormGroup(q){return this.form.get(q.path)}updateModel(q,De){Jn.then(()=>{this.form.get(q.path).setValue(De)})}setValue(q){this.control.setValue(q)}onSubmit(q){return this.submitted=!0,Rn(this.form,this._directives),this.ngSubmit.emit(q),"dialog"===q?.target?.method}onReset(){this.resetForm()}resetForm(q=void 0){this.form.reset(q),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(q){return q.pop(),q.length?this.form.get(q):this.form}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(Ut,10),x.Y36(ei,10),x.Y36(Ie,8))};static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(De,st){1&De&&x.NdJ("submit",function(wn){return st.onSubmit(wn)})("reset",function(){return st.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x._Bn([Mn]),x.qOj]})}return ne})();function ao(ne,le){const q=ne.indexOf(le);q>-1&&ne.splice(q,1)}function Ki(ne){return"object"==typeof ne&&null!==ne&&2===Object.keys(ne).length&&"value"in ne&&"disabled"in ne}const Lo=class extends ze{constructor(le=null,q,De){super(ci(q),ve(De,q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(le),this._setUpdateStrategy(q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(q)&&(q.nonNullable||q.initialValueIsDefault)&&(this.defaultValue=Ki(le)?le.value:le)}setValue(le,q={}){this.value=this._pendingValue=le,this._onChange.length&&!1!==q.emitModelToViewChange&&this._onChange.forEach(De=>De(this.value,!1!==q.emitViewToModelChange)),this.updateValueAndValidity(q)}patchValue(le,q={}){this.setValue(le,q)}reset(le=this.defaultValue,q={}){this._applyFormState(le),this.markAsPristine(q),this.markAsUntouched(q),this.setValue(this.value,q),this._pendingChange=!1}_updateValue(){}_anyControls(le){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(le){this._onChange.push(le)}_unregisterOnChange(le){ao(this._onChange,le)}registerOnDisabledChange(le){this._onDisabledChange.push(le)}_unregisterOnDisabledChange(le){ao(this._onDisabledChange,le)}_forEachChild(le){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(le){Ki(le)?(this.value=this._pendingValue=le.value,le.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=le}},na={provide:yi,useExisting:(0,x.Gpc)(()=>jr)},Hs=(()=>Promise.resolve())();let jr=(()=>{class ne extends yi{constructor(q,De,st,on,wn,Xo){super(),this._changeDetectorRef=wn,this.callSetDisabledState=Xo,this.control=new Lo,this._registered=!1,this.name="",this.update=new x.vpe,this._parent=q,this._setValidators(De),this._setAsyncValidators(st),this.valueAccessor=function _n(ne,le){if(!le)return null;let q,De,st;return Array.isArray(le),le.forEach(on=>{on.constructor===nt?q=on:function Ur(ne){return Object.getPrototypeOf(ne.constructor)===Ke}(on)?De=on:st=on}),st||De||q||null}(0,on)}ngOnChanges(q){if(this._checkForErrors(),!this._registered||"name"in q){if(this._registered&&(this._checkName(),this.formDirective)){const De=q.name.previousValue;this.formDirective.removeControl({name:De,path:this._getPath(De)})}this._setUpControl()}"isDisabled"in q&&this._updateDisabled(q),function fn(ne,le){if(!ne.hasOwnProperty("model"))return!1;const q=ne.model;return!!q.isFirstChange()||!Object.is(le,q.currentValue)}(q,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(q){this.viewModel=q,this.update.emit(q)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(q){Hs.then(()=>{this.control.setValue(q,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(q){const De=q.isDisabled.currentValue,st=0!==De&&(0,x.VuI)(De);Hs.then(()=>{st&&!this.control.disabled?this.control.disable():!st&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(q){return this._parent?function Le(ne,le){return[...le.path,ne]}(q,this._parent):[q]}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(vi,9),x.Y36(Ut,10),x.Y36(ei,10),x.Y36(ot,10),x.Y36(x.sBO,8),x.Y36(Ie,8))};static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[x._Bn([na]),x.qOj,x.TTD]})}return ne})(),Tl=(()=>{class ne{static#e=this.\u0275fac=function(De){return new(De||ne)};static#t=this.\u0275mod=x.oAB({type:ne});static#i=this.\u0275inj=x.cJS({})}return ne})();const Io={provide:vi,useExisting:(0,x.Gpc)(()=>ss)};let ss=(()=>{class ne extends vi{constructor(q,De,st){super(),this.callSetDisabledState=st,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x.vpe,this._setValidators(q),this._setAsyncValidators(De)}ngOnChanges(q){this._checkFormPresent(),q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ne(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(q){const De=this.form.get(q.path);return pe(De,q,this.callSetDisabledState),De.updateValueAndValidity({emitEvent:!1}),this.directives.push(q),De}getControl(q){return this.form.get(q.path)}removeControl(q){Te(q.control||null,q,!1),function hr(ne,le){const q=ne.indexOf(le);q>-1&&ne.splice(q,1)}(this.directives,q)}addFormGroup(q){this._setUpFormContainer(q)}removeFormGroup(q){this._cleanUpFormContainer(q)}getFormGroup(q){return this.form.get(q.path)}addFormArray(q){this._setUpFormContainer(q)}removeFormArray(q){this._cleanUpFormContainer(q)}getFormArray(q){return this.form.get(q.path)}updateModel(q,De){this.form.get(q.path).setValue(De)}onSubmit(q){return this.submitted=!0,Rn(this.form,this.directives),this.ngSubmit.emit(q),"dialog"===q?.target?.method}onReset(){this.resetForm()}resetForm(q=void 0){this.form.reset(q),this.submitted=!1}_updateDomValue(){this.directives.forEach(q=>{const De=q.control,st=this.form.get(q.path);De!==st&&(Te(De||null,q),(ne=>ne instanceof Lo)(st)&&(pe(st,q,this.callSetDisabledState),q.control=st))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(q){const De=this.form.get(q.path);oi(De,q),De.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(q){if(this.form){const De=this.form.get(q.path);De&&function Oi(ne,le){return Ne(ne,le)}(De,q)&&De.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ve(this.form,this),this._oldForm&&Ne(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(De){return new(De||ne)(x.Y36(Ut,10),x.Y36(ei,10),x.Y36(Ie,8))};static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function(De,st){1&De&&x.NdJ("submit",function(wn){return st.onSubmit(wn)})("reset",function(){return st.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x._Bn([Io]),x.qOj,x.TTD]})}return ne})(),bo=(()=>{class ne{constructor(){this._validator=Li}ngOnChanges(q){if(this.inputName in q){const De=this.normalizeInput(q[this.inputName].currentValue);this._enabled=this.enabled(De),this._validator=this._enabled?this.createValidator(De):Li,this._onChange&&this._onChange()}}validate(q){return this._validator(q)}registerOnValidatorChange(q){this._onChange=q}enabled(q){return null!=q}static#e=this.\u0275fac=function(De){return new(De||ne)};static#t=this.\u0275dir=x.lG2({type:ne,features:[x.TTD]})}return ne})();const va={provide:Ut,useExisting:(0,x.Gpc)(()=>La),multi:!0},ls={provide:Ut,useExisting:(0,x.Gpc)(()=>bs),multi:!0};let La=(()=>{class ne extends bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=x.VuI,this.createValidator=q=>$e}enabled(q){return q}static#e=this.\u0275fac=function(){let q;return function(st){return(q||(q=x.n5z(ne)))(st||ne)}}();static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(De,st){2&De&&x.uIk("required",st._enabled?"":null)},inputs:{required:"required"},features:[x._Bn([va]),x.qOj]})}return ne})(),bs=(()=>{class ne extends La{constructor(){super(...arguments),this.createValidator=q=>Nt}static#e=this.\u0275fac=function(){let q;return function(st){return(q||(q=x.n5z(ne)))(st||ne)}}();static#t=this.\u0275dir=x.lG2({type:ne,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(De,st){2&De&&x.uIk("required",st._enabled?"":null)},features:[x._Bn([ls]),x.qOj]})}return ne})(),Cr=(()=>{class ne{static#e=this.\u0275fac=function(De){return new(De||ne)};static#t=this.\u0275mod=x.oAB({type:ne});static#i=this.\u0275inj=x.cJS({imports:[Tl]})}return ne})(),pr=(()=>{class ne{static withConfig(q){return{ngModule:ne,providers:[{provide:Ie,useValue:q.callSetDisabledState??ye}]}}static#e=this.\u0275fac=function(De){return new(De||ne)};static#t=this.\u0275mod=x.oAB({type:ne});static#i=this.\u0275inj=x.cJS({imports:[Cr]})}return ne})()},2296:(bi,vt,H)=>{"use strict";H.d(vt,{RK:()=>Pn,cs:()=>Dn,lW:()=>Pt,o6:()=>xt,ot:()=>wt,zs:()=>zt});var x=H(2831),l=H(5879),me=H(7849),g=H(2495),Ue=H(3680);const ae=["mat-button",""],Ke=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ot=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],He=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",lt=["mat-fab",""],nt=["mat-icon-button",""],ut=["*"],Ti=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ni=(0,Ue.pj)((0,Ue.Id)((0,Ue.Kr)(class{constructor(gt){this._elementRef=gt}})));let Fe=(()=>{class gt extends ni{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(Mt){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,Mt)}get disableRipple(){return this._disableRipple}set disableRipple(Mt){this._disableRipple=(0,g.Ig)(Mt),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(Mt){this._disabled=(0,g.Ig)(Mt),this._updateRippleDisabled()}constructor(Mt,at,kt,We){super(Mt),this._platform=at,this._ngZone=kt,this._animationMode=We,this._focusMonitor=(0,l.f3M)(me.tE),this._rippleLoader=(0,l.f3M)(Ue.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const ht=Mt.nativeElement.classList;for(const At of Ti)this._hasHostAttributes(At.selector)&&At.mdcClasses.forEach(ai=>{ht.add(ai)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Mt="program",at){Mt?this._focusMonitor.focusVia(this._elementRef.nativeElement,Mt,at):this._elementRef.nativeElement.focus(at)}_hasHostAttributes(...Mt){return Mt.some(at=>this._elementRef.nativeElement.hasAttribute(at))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(at){l.$Z()};static#t=this.\u0275dir=l.lG2({type:gt,features:[l.qOj]})}return gt})(),Nt=(()=>{class gt extends Fe{constructor(Mt,at,kt,We){super(Mt,at,kt,We),this._haltDisabledEvents=ht=>{this.disabled&&(ht.preventDefault(),ht.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(at){l.$Z()};static#t=this.\u0275dir=l.lG2({type:gt,features:[l.qOj]})}return gt})(),Pt=(()=>{class gt extends Fe{constructor(Mt,at,kt,We){super(Mt,at,kt,We)}static#e=this.\u0275fac=function(at){return new(at||gt)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:gt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(at,kt){2&at&&(l.uIk("disabled",kt.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===kt._animationMode)("mat-unthemed",!kt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ae,ngContentSelectors:ot,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,kt){1&at&&(l.F$t(Ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&at&&l.ekj("mdc-button__ripple",!kt._isFab)("mdc-fab__ripple",kt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return gt})(),zt=(()=>{class gt extends Nt{constructor(Mt,at,kt,We){super(Mt,at,kt,We)}static#e=this.\u0275fac=function(at){return new(at||gt)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:gt,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(at,kt){2&at&&(l.uIk("disabled",kt.disabled||null)("tabindex",kt.disabled?-1:kt.tabIndex)("aria-disabled",kt.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===kt._animationMode)("mat-unthemed",!kt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:ae,ngContentSelectors:ot,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,kt){1&at&&(l.F$t(Ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&at&&l.ekj("mdc-button__ripple",!kt._isFab)("mdc-fab__ripple",kt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',He],encapsulation:2,changeDetection:0})}return gt})();const fi=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:_i});function _i(){return{color:"accent"}}const Li=_i();let Dn=(()=>{class gt extends Fe{get extended(){return this._extended}set extended(Mt){this._extended=(0,g.Ig)(Mt)}constructor(Mt,at,kt,We,ht){super(Mt,at,kt,We),this._options=ht,this._isFab=!0,this._options=this._options||Li,this.color=this.defaultColor=this._options.color||Li.color}static#e=this.\u0275fac=function(at){return new(at||gt)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(fi,8))};static#t=this.\u0275cmp=l.Xpm({type:gt,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(at,kt){2&at&&(l.uIk("disabled",kt.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===kt._animationMode)("mat-unthemed",!kt.color)("mat-mdc-button-base",!0)("mdc-fab--extended",kt.extended)("mat-mdc-extended-fab",kt.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[l.qOj],attrs:lt,ngContentSelectors:ot,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,kt){1&at&&(l.F$t(Ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&at&&l.ekj("mdc-button__ripple",!kt._isFab)("mdc-fab__ripple",kt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return gt})(),Pn=(()=>{class gt extends Fe{constructor(Mt,at,kt,We){super(Mt,at,kt,We),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(at){return new(at||gt)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:gt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(at,kt){2&at&&(l.uIk("disabled",kt.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===kt._animationMode)("mat-unthemed",!kt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:nt,ngContentSelectors:ut,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,kt){1&at&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',He],encapsulation:2,changeDetection:0})}return gt})(),xt=(()=>{class gt extends Nt{constructor(Mt,at,kt,We){super(Mt,at,kt,We)}static#e=this.\u0275fac=function(at){return new(at||gt)(l.Y36(l.SBq),l.Y36(x.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:gt,selectors:[["a","mat-icon-button",""]],hostVars:9,hostBindings:function(at,kt){2&at&&(l.uIk("disabled",kt.disabled||null)("tabindex",kt.disabled?-1:kt.tabIndex)("aria-disabled",kt.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===kt._animationMode)("mat-unthemed",!kt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:nt,ngContentSelectors:ot,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,kt){1&at&&(l.F$t(Ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&at&&l.ekj("mdc-button__ripple",!kt._isFab)("mdc-fab__ripple",kt._isFab)},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',He],encapsulation:2,changeDetection:0})}return gt})(),wt=(()=>{class gt{static#e=this.\u0275fac=function(at){return new(at||gt)};static#t=this.\u0275mod=l.oAB({type:gt});static#i=this.\u0275inj=l.cJS({imports:[Ue.BQ,Ue.si,Ue.BQ]})}return gt})()},3680:(bi,vt,H)=>{"use strict";H.d(vt,{rD:()=>At,K7:()=>Ei,HF:()=>qe,Y2:()=>xe,BQ:()=>Nt,ey:()=>an,Ng:()=>Ft,us:()=>be,wG:()=>Re,Fq:()=>Ee,si:()=>Pe,IR:()=>zi,CB:()=>Vt,jH:()=>ci,pj:()=>Li,Kr:()=>Hi,Id:()=>_i,FD:()=>Kn,dB:()=>yn,sb:()=>Dn});var x=H(5879),l=H(7849),me=H(9388),Ue=H(6814),ae=H(2831),Ke=H(2495),ot=H(5592),ke=H(8645),He=H(6028);const it=["text"];function nt(ie,$){if(1&ie&&x._UZ(0,"mat-pseudo-checkbox",6),2&ie){const Z=x.oxw();x.Q6J("disabled",Z.disabled)("state",Z.selected?"checked":"unchecked")}}function ut(ie,$){if(1&ie&&x._UZ(0,"mat-pseudo-checkbox",7),2&ie){const Z=x.oxw();x.Q6J("disabled",Z.disabled)}}function Et(ie,$){if(1&ie&&(x.TgZ(0,"span",8),x._uU(1),x.qZA()),2&ie){const Z=x.oxw();x.xp6(1),x.hij("(",Z.group.label,")")}}const Ut=[[["mat-icon"]],"*"],ei=["mat-icon","*"],$e=new x.OlP("mat-sanity-checks",{providedIn:"root",factory:function Je(){return!0}});let Nt=(()=>{class ie{constructor(Z,ce,Ie){this._sanityChecks=ce,this._document=Ie,this._hasDoneGlobalChecks=!1,Z._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Z){return!(0,ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Z])}static#e=this.\u0275fac=function(ce){return new(ce||ie)(x.LFG(l.qm),x.LFG($e,8),x.LFG(Ue.K0))};static#t=this.\u0275mod=x.oAB({type:ie});static#i=this.\u0275inj=x.cJS({imports:[me.vT,me.vT]})}return ie})();function _i(ie){return class extends ie{get disabled(){return this._disabled}set disabled($){this._disabled=(0,Ke.Ig)($)}constructor(...$){super(...$),this._disabled=!1}}}function Li(ie,$){return class extends ie{get color(){return this._color}set color(Z){const ce=Z||this.defaultColor;ce!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ce&&this._elementRef.nativeElement.classList.add(`mat-${ce}`),this._color=ce)}constructor(...Z){super(...Z),this.defaultColor=$,this.color=$}}}function Hi(ie){return class extends ie{get disableRipple(){return this._disableRipple}set disableRipple($){this._disableRipple=(0,Ke.Ig)($)}constructor(...$){super(...$),this._disableRipple=!1}}}function Dn(ie,$=0){return class extends ie{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Z){this._tabIndex=null!=Z?(0,Ke.su)(Z):this.defaultTabIndex}constructor(...Z){super(...Z),this._tabIndex=$,this.defaultTabIndex=$}}}function Kn(ie){return class extends ie{updateErrorState(){const $=this.errorState,ye=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ye!==$&&(this.errorState=ye,this.stateChanges.next())}constructor(...$){super(...$),this.errorState=!1}}}function yn(ie){return class extends ie{constructor(...$){super(...$),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ot.y(Z=>{this._isInitialized?this._notifySubscriber(Z):this._pendingSubscribers.push(Z)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber($){$.next(),$.complete()}}}let At=(()=>{class ie{isErrorState(Z,ce){return!!(Z&&Z.invalid&&(Z.touched||ce&&ce.submitted))}static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275prov=x.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();class Fi{constructor($,Z,ce,Ie=!1){this._renderer=$,this.element=Z,this.config=ce,this._animationForciblyDisabledThroughCss=Ie,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dt=(0,ae.i$)({passive:!0,capture:!0});class $t{constructor(){this._events=new Map,this._delegateEventHandler=$=>{const Z=(0,ae.sA)($);Z&&this._events.get($.type)?.forEach((ce,Ie)=>{(Ie===Z||Ie.contains(Z))&&ce.forEach(ye=>ye.handleEvent($))})}}addHandler($,Z,ce,Ie){const ye=this._events.get(Z);if(ye){const Le=ye.get(ce);Le?Le.add(Ie):ye.set(ce,new Set([Ie]))}else this._events.set(Z,new Map([[ce,new Set([Ie])]])),$.runOutsideAngular(()=>{document.addEventListener(Z,this._delegateEventHandler,dt)})}removeHandler($,Z,ce){const Ie=this._events.get($);if(!Ie)return;const ye=Ie.get(Z);ye&&(ye.delete(ce),0===ye.size&&Ie.delete(Z),0===Ie.size&&(this._events.delete($),document.removeEventListener($,this._delegateEventHandler,dt)))}}const Kt={enterDuration:225,exitDuration:150},Yi=(0,ae.i$)({passive:!0,capture:!0}),On=["mousedown","touchstart"],Wi=["mouseup","mouseleave","touchend","touchcancel"];class zi{static#e=this._eventManager=new $t;constructor($,Z,ce,Ie){this._target=$,this._ngZone=Z,this._platform=Ie,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ie.isBrowser&&(this._containerElement=(0,Ke.fI)(ce))}fadeInRipple($,Z,ce={}){const Ie=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ye={...Kt,...ce.animation};ce.centered&&($=Ie.left+Ie.width/2,Z=Ie.top+Ie.height/2);const Le=ce.radius||function Tt(ie,$,Z){const ce=Math.max(Math.abs(ie-Z.left),Math.abs(ie-Z.right)),Ie=Math.max(Math.abs($-Z.top),Math.abs($-Z.bottom));return Math.sqrt(ce*ce+Ie*Ie)}($,Z,Ie),pe=$-Ie.left,Te=Z-Ie.top,rt=ye.enterDuration,Ct=document.createElement("div");Ct.classList.add("mat-ripple-element"),Ct.style.left=pe-Le+"px",Ct.style.top=Te-Le+"px",Ct.style.height=2*Le+"px",Ct.style.width=2*Le+"px",null!=ce.color&&(Ct.style.backgroundColor=ce.color),Ct.style.transitionDuration=`${rt}ms`,this._containerElement.appendChild(Ct);const Ve=window.getComputedStyle(Ct),Qe=Ve.transitionDuration,St="none"===Ve.transitionProperty||"0s"===Qe||"0s, 0s"===Qe||0===Ie.width&&0===Ie.height,Qt=new Fi(this,Ct,ce,St);Ct.style.transform="scale3d(1, 1, 1)",Qt.state=0,ce.persistent||(this._mostRecentTransientRipple=Qt);let si=null;return!St&&(rt||ye.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const oi=()=>this._finishRippleTransition(Qt),Oi=()=>this._destroyRipple(Qt);Ct.addEventListener("transitionend",oi),Ct.addEventListener("transitioncancel",Oi),si={onTransitionEnd:oi,onTransitionCancel:Oi}}),this._activeRipples.set(Qt,si),(St||!rt)&&this._finishRippleTransition(Qt),Qt}fadeOutRipple($){if(2===$.state||3===$.state)return;const Z=$.element,ce={...Kt,...$.config.animation};Z.style.transitionDuration=`${ce.exitDuration}ms`,Z.style.opacity="0",$.state=2,($._animationForciblyDisabledThroughCss||!ce.exitDuration)&&this._finishRippleTransition($)}fadeOutAll(){this._getActiveRipples().forEach($=>$.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach($=>{$.config.persistent||$.fadeOut()})}setupTriggerEvents($){const Z=(0,Ke.fI)($);!this._platform.isBrowser||!Z||Z===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Z,On.forEach(ce=>{zi._eventManager.addHandler(this._ngZone,ce,Z,this)}))}handleEvent($){"mousedown"===$.type?this._onMousedown($):"touchstart"===$.type?this._onTouchStart($):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wi.forEach(Z=>{this._triggerElement.addEventListener(Z,this,Yi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition($){0===$.state?this._startFadeOutTransition($):2===$.state&&this._destroyRipple($)}_startFadeOutTransition($){const Z=$===this._mostRecentTransientRipple,{persistent:ce}=$.config;$.state=1,!ce&&(!Z||!this._isPointerDown)&&$.fadeOut()}_destroyRipple($){const Z=this._activeRipples.get($)??null;this._activeRipples.delete($),this._activeRipples.size||(this._containerRect=null),$===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),$.state=3,null!==Z&&($.element.removeEventListener("transitionend",Z.onTransitionEnd),$.element.removeEventListener("transitioncancel",Z.onTransitionCancel)),$.element.remove()}_onMousedown($){const Z=(0,l.X6)($),ce=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Z&&!ce&&(this._isPointerDown=!0,this.fadeInRipple($.clientX,$.clientY,this._target.rippleConfig))}_onTouchStart($){if(!this._target.rippleDisabled&&!(0,l.yG)($)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Z=$.changedTouches;if(Z)for(let ce=0;ce<Z.length;ce++)this.fadeInRipple(Z[ce].clientX,Z[ce].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach($=>{!$.config.persistent&&(1===$.state||$.config.terminateOnPointerUp&&0===$.state)&&$.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const $=this._triggerElement;$&&(On.forEach(Z=>zi._eventManager.removeHandler(Z,$,this)),this._pointerUpEventsRegistered&&Wi.forEach(Z=>$.removeEventListener(Z,this,Yi)))}}const xe=new x.OlP("mat-ripple-global-options");let Re=(()=>{class ie{get disabled(){return this._disabled}set disabled(Z){Z&&this.fadeOutAllNonPersistent(),this._disabled=Z,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Z){this._trigger=Z,this._setupTriggerEventsIfEnabled()}constructor(Z,ce,Ie,ye,Le){this._elementRef=Z,this._animationMode=Le,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ye||{},this._rippleRenderer=new zi(this,ce,Z,Ie)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Z,ce=0,Ie){return"number"==typeof Z?this._rippleRenderer.fadeInRipple(Z,ce,{...this.rippleConfig,...Ie}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Z})}static#e=this.\u0275fac=function(ce){return new(ce||ie)(x.Y36(x.SBq),x.Y36(x.R0b),x.Y36(ae.t4),x.Y36(xe,8),x.Y36(x.QbO,8))};static#t=this.\u0275dir=x.lG2({type:ie,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ce,Ie){2&ce&&x.ekj("mat-ripple-unbounded",Ie.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ie})(),Pe=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=x.oAB({type:ie});static#i=this.\u0275inj=x.cJS({imports:[Nt,Nt]})}return ie})(),Ye=(()=>{class ie{constructor(Z){this._animationMode=Z,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(ce){return new(ce||ie)(x.Y36(x.QbO,8))};static#t=this.\u0275cmp=x.Xpm({type:ie,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(ce,Ie){2&ce&&x.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Ie.state)("mat-pseudo-checkbox-checked","checked"===Ie.state)("mat-pseudo-checkbox-disabled",Ie.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ie.appearance)("mat-pseudo-checkbox-full","full"===Ie.appearance)("_mat-animation-noopable","NoopAnimations"===Ie._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(ce,Ie){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ie})(),be=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=x.oAB({type:ie});static#i=this.\u0275inj=x.cJS({imports:[Nt]})}return ie})();const qe=new x.OlP("MAT_OPTION_PARENT_COMPONENT"),Ei=new x.OlP("MatOptgroup");let Gt=0;class Mi{constructor($,Z=!1){this.source=$,this.isUserInput=Z}}let xi=(()=>{class ie{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Z){this._disabled=(0,Ke.Ig)(Z)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Z,ce,Ie,ye){this._element=Z,this._changeDetectorRef=ce,this._parent=Ie,this.group=ye,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Gt++,this.onSelectionChange=new x.vpe,this._stateChanges=new ke.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Z=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Z&&this._emitSelectionChangeEvent())}deselect(Z=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Z&&this._emitSelectionChangeEvent())}focus(Z,ce){const Ie=this._getHostElement();"function"==typeof Ie.focus&&Ie.focus(ce)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Z){(Z.keyCode===He.K5||Z.keyCode===He.L_)&&!(0,He.Vb)(Z)&&(this._selectViaInteraction(),Z.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Z=this.viewValue;Z!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Z)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Z=!1){this.onSelectionChange.emit(new Mi(this,Z))}static#e=this.\u0275fac=function(ce){x.$Z()};static#t=this.\u0275dir=x.lG2({type:ie,viewQuery:function(ce,Ie){if(1&ce&&x.Gf(it,7),2&ce){let ye;x.iGM(ye=x.CRH())&&(Ie._text=ye.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return ie})(),an=(()=>{class ie extends xi{constructor(Z,ce,Ie,ye){super(Z,ce,Ie,ye)}static#e=this.\u0275fac=function(ce){return new(ce||ie)(x.Y36(x.SBq),x.Y36(x.sBO),x.Y36(qe,8),x.Y36(Ei,8))};static#t=this.\u0275cmp=x.Xpm({type:ie,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(ce,Ie){1&ce&&x.NdJ("click",function(){return Ie._selectViaInteraction()})("keydown",function(Le){return Ie._handleKeydown(Le)}),2&ce&&(x.Ikx("id",Ie.id),x.uIk("aria-selected",Ie.selected)("aria-disabled",Ie.disabled.toString()),x.ekj("mdc-list-item--selected",Ie.selected)("mat-mdc-option-multiple",Ie.multiple)("mat-mdc-option-active",Ie.active)("mdc-list-item--disabled",Ie.disabled))},exportAs:["matOption"],features:[x.qOj],ngContentSelectors:ei,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(ce,Ie){1&ce&&(x.F$t(Ut),x.YNc(0,nt,1,2,"mat-pseudo-checkbox",0),x.Hsn(1),x.TgZ(2,"span",1,2),x.Hsn(4,1),x.qZA(),x.YNc(5,ut,1,1,"mat-pseudo-checkbox",3),x.YNc(6,Et,2,1,"span",4),x._UZ(7,"div",5)),2&ce&&(x.Q6J("ngIf",Ie.multiple),x.xp6(5),x.Q6J("ngIf",!Ie.multiple&&Ie.selected&&!Ie.hideSingleSelectionIndicator),x.xp6(1),x.Q6J("ngIf",Ie.group&&Ie.group._inert),x.xp6(1),x.Q6J("matRippleTrigger",Ie._getHostElement())("matRippleDisabled",Ie.disabled||Ie.disableRipple))},dependencies:[Re,Ue.O5,Ye],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ie})();function Vt(ie,$,Z){if(Z.length){let ce=$.toArray(),Ie=Z.toArray(),ye=0;for(let Le=0;Le<ie+1;Le++)ce[Le].group&&ce[Le].group===Ie[ye]&&ye++;return ye}return 0}function ci(ie,$,Z,ce){return ie<Z?ie:ie+$>Z+ce?Math.max(0,ie-ce+$):Z}let Ft=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=x.oAB({type:ie});static#i=this.\u0275inj=x.cJS({imports:[Pe,Ue.ez,Nt,be]})}return ie})();const ve={capture:!0},K=["focus","click","mouseenter","touchstart"],se="mat-ripple-loader-uninitialized",Ce="mat-ripple-loader-class-name",Ae="mat-ripple-loader-centered",ze="mat-ripple-loader-disabled";let Ee=(()=>{class ie{constructor(){this._document=(0,x.f3M)(Ue.K0,{optional:!0}),this._animationMode=(0,x.f3M)(x.QbO,{optional:!0}),this._globalRippleOptions=(0,x.f3M)(xe,{optional:!0}),this._platform=(0,x.f3M)(ae.t4),this._ngZone=(0,x.f3M)(x.R0b),this._onInteraction=Z=>{if(!(Z.target instanceof HTMLElement))return;const Ie=Z.target.closest(`[${se}]`);Ie&&this.createRipple(Ie)},this._ngZone.runOutsideAngular(()=>{for(const Z of K)this._document?.addEventListener(Z,this._onInteraction,ve)})}ngOnDestroy(){for(const Z of K)this._document?.removeEventListener(Z,this._onInteraction,ve)}configureRipple(Z,ce){Z.setAttribute(se,""),(ce.className||!Z.hasAttribute(Ce))&&Z.setAttribute(Ce,ce.className||""),ce.centered&&Z.setAttribute(Ae,""),ce.disabled&&Z.setAttribute(ze,"")}getRipple(Z){return Z.matRipple?Z.matRipple:this.createRipple(Z)}setDisabled(Z,ce){const Ie=Z.matRipple;Ie?Ie.disabled=ce:ce?Z.setAttribute(ze,""):Z.removeAttribute(ze)}createRipple(Z){if(!this._document)return;Z.querySelector(".mat-ripple")?.remove();const ce=this._document.createElement("span");ce.classList.add("mat-ripple",Z.getAttribute(Ce)),Z.append(ce);const Ie=new Re(new x.SBq(ce),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ie._isInitialized=!0,Ie.trigger=Z,Ie.centered=Z.hasAttribute(Ae),Ie.disabled=Z.hasAttribute(ze),this.attachRipple(Z,Ie),Ie}attachRipple(Z,ce){Z.removeAttribute(se),Z.matRipple=ce}static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275prov=x.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},4170:(bi,vt,H)=>{"use strict";H.d(vt,{G_:()=>tt,KE:()=>xi,Eo:()=>Pe,lN:()=>an,R9:()=>Kt});var x=H(5879),l=H(9388),me=H(2831),g=H(7394),Ue=H(8645),ae=H(3019),Ke=H(9773),ot=H(5592),ke=H(2181),He=H(940);class Ze{constructor(ci){this._box=ci,this._destroyed=new Ue.x,this._resizeSubject=new Ue.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Ft=>this._resizeSubject.next(Ft)))}observe(ci){return this._elementObservables.has(ci)||this._elementObservables.set(ci,new ot.y(Ft=>{const ve=this._resizeSubject.subscribe(Ft);return this._resizeObserver?.observe(ci,{box:this._box}),()=>{this._resizeObserver?.unobserve(ci),ve.unsubscribe(),this._elementObservables.delete(ci)}}).pipe((0,ke.h)(Ft=>Ft.some(ve=>ve.target===ci)),(0,He.d)({bufferSize:1,refCount:!0}),(0,Ke.R)(this._destroyed))),this._elementObservables.get(ci)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let it=(()=>{class Vt{constructor(){this._observers=new Map,this._ngZone=(0,x.f3M)(x.R0b)}ngOnDestroy(){for(const[,Ft]of this._observers)Ft.destroy();this._observers.clear()}observe(Ft,ve){const K=ve?.box||"content-box";return this._observers.has(K)||this._observers.set(K,new Ze(K)),this._observers.get(K).observe(Ft)}static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275prov=x.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();var nt=H(2495),ut=H(6825),Et=H(6814),Ut=H(7131),ei=H(3680);const Ti=["notch"],ni=["matFormFieldNotchedOutline",""],Fe=["*"],Je=["textField"],$e=["iconPrefixContainer"],Nt=["textPrefixContainer"];function Pt(Vt,ci){1&Vt&&x._UZ(0,"span",19)}function zt(Vt,ci){if(1&Vt&&(x.TgZ(0,"label",17),x.Hsn(1,1),x.YNc(2,Pt,1,0,"span",18),x.qZA()),2&Vt){const Ft=x.oxw(2);x.Q6J("floating",Ft._shouldLabelFloat())("monitorResize",Ft._hasOutline())("id",Ft._labelId),x.uIk("for",Ft._control.id),x.xp6(2),x.Q6J("ngIf",!Ft.hideRequiredMarker&&Ft._control.required)}}function fi(Vt,ci){if(1&Vt&&x.YNc(0,zt,3,5,"label",16),2&Vt){const Ft=x.oxw();x.Q6J("ngIf",Ft._hasFloatingLabel())}}function _i(Vt,ci){1&Vt&&x._UZ(0,"div",20)}function Li(Vt,ci){}function Hi(Vt,ci){if(1&Vt&&x.YNc(0,Li,0,0,"ng-template",22),2&Vt){x.oxw(2);const Ft=x.MAs(1);x.Q6J("ngTemplateOutlet",Ft)}}function Dn(Vt,ci){if(1&Vt&&(x.TgZ(0,"div",21),x.YNc(1,Hi,1,1,"ng-template",9),x.qZA()),2&Vt){const Ft=x.oxw();x.Q6J("matFormFieldNotchedOutlineOpen",Ft._shouldLabelFloat()),x.xp6(1),x.Q6J("ngIf",!Ft._forceDisplayInfixLabel())}}function Kn(Vt,ci){1&Vt&&(x.TgZ(0,"div",23,24),x.Hsn(2,2),x.qZA())}function yn(Vt,ci){1&Vt&&(x.TgZ(0,"div",25,26),x.Hsn(2,3),x.qZA())}function Hn(Vt,ci){}function Pn(Vt,ci){if(1&Vt&&x.YNc(0,Hn,0,0,"ng-template",22),2&Vt){x.oxw();const Ft=x.MAs(1);x.Q6J("ngTemplateOutlet",Ft)}}function xt(Vt,ci){1&Vt&&(x.TgZ(0,"div",27),x.Hsn(1,4),x.qZA())}function wt(Vt,ci){1&Vt&&(x.TgZ(0,"div",28),x.Hsn(1,5),x.qZA())}function gt(Vt,ci){1&Vt&&x._UZ(0,"div",29)}function Bt(Vt,ci){if(1&Vt&&(x.TgZ(0,"div",30),x.Hsn(1,6),x.qZA()),2&Vt){const Ft=x.oxw();x.Q6J("@transitionMessages",Ft._subscriptAnimationState)}}function Mt(Vt,ci){if(1&Vt&&(x.TgZ(0,"mat-hint",34),x._uU(1),x.qZA()),2&Vt){const Ft=x.oxw(2);x.Q6J("id",Ft._hintLabelId),x.xp6(1),x.Oqu(Ft.hintLabel)}}function at(Vt,ci){if(1&Vt&&(x.TgZ(0,"div",31),x.YNc(1,Mt,2,2,"mat-hint",32),x.Hsn(2,7),x._UZ(3,"div",33),x.Hsn(4,8),x.qZA()),2&Vt){const Ft=x.oxw();x.Q6J("@transitionMessages",Ft._subscriptAnimationState),x.xp6(1),x.Q6J("ngIf",Ft.hintLabel)}}const kt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],We=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ht=(()=>{class Vt{static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275dir=x.lG2({type:Vt,selectors:[["mat-label"]]})}return Vt})();const ai=new x.OlP("MatError");let vi=0,yi=(()=>{class Vt{constructor(){this.align="start",this.id="mat-mdc-hint-"+vi++}static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275dir=x.lG2({type:Vt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(ve,K){2&ve&&(x.Ikx("id",K.id),x.uIk("align",null),x.ekj("mat-mdc-form-field-hint-end","end"===K.align))},inputs:{align:"align",id:"id"}})}return Vt})();const Fi=new x.OlP("MatPrefix"),$t=new x.OlP("MatSuffix");let Kt=(()=>{class Vt{constructor(){this._isText=!1}set _isTextSelector(Ft){this._isText=!0}static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275dir=x.lG2({type:Vt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[x._Bn([{provide:$t,useExisting:Vt}])]})}return Vt})();const _t=new x.OlP("FloatingLabelParent");let Yi=(()=>{class Vt{get floating(){return this._floating}set floating(Ft){this._floating=Ft,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Ft){this._monitorResize=Ft,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Ft){this._elementRef=Ft,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,x.f3M)(it),this._ngZone=(0,x.f3M)(x.R0b),this._parent=(0,x.f3M)(_t),this._resizeSubscription=new g.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function On(Vt){if(null!==Vt.offsetParent)return Vt.scrollWidth;const Ft=Vt.cloneNode(!0);Ft.style.setProperty("position","absolute"),Ft.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Ft);const ve=Ft.scrollWidth;return Ft.remove(),ve}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(ve){return new(ve||Vt)(x.Y36(x.SBq))};static#t=this.\u0275dir=x.lG2({type:Vt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(ve,K){2&ve&&x.ekj("mdc-floating-label--float-above",K.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Vt})();const Wi="mdc-line-ripple--active",zi="mdc-line-ripple--deactivating";let Tt=(()=>{class Vt{constructor(Ft,ve){this._elementRef=Ft,this._handleTransitionEnd=K=>{const se=this._elementRef.nativeElement.classList,Ce=se.contains(zi);"opacity"===K.propertyName&&Ce&&se.remove(Wi,zi)},ve.runOutsideAngular(()=>{Ft.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Ft=this._elementRef.nativeElement.classList;Ft.remove(zi),Ft.add(Wi)}deactivate(){this._elementRef.nativeElement.classList.add(zi)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(ve){return new(ve||Vt)(x.Y36(x.SBq),x.Y36(x.R0b))};static#t=this.\u0275dir=x.lG2({type:Vt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Vt})(),xe=(()=>{class Vt{constructor(Ft,ve){this._elementRef=Ft,this._ngZone=ve,this.open=!1}ngAfterViewInit(){const Ft=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Ft?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Ft.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Ft.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Ft){this._notch.nativeElement.style.width=this.open&&Ft?`calc(${Ft}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(ve){return new(ve||Vt)(x.Y36(x.SBq),x.Y36(x.R0b))};static#t=this.\u0275cmp=x.Xpm({type:Vt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(ve,K){if(1&ve&&x.Gf(Ti,5),2&ve){let se;x.iGM(se=x.CRH())&&(K._notch=se.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(ve,K){2&ve&&x.ekj("mdc-notched-outline--notched",K.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ni,ngContentSelectors:Fe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(ve,K){1&ve&&(x.F$t(),x._UZ(0,"div",0),x.TgZ(1,"div",1,2),x.Hsn(3),x.qZA(),x._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Vt})();const Re={transitionMessages:(0,ut.X$)("transitionMessages",[(0,ut.SB)("enter",(0,ut.oB)({opacity:1,transform:"translateY(0%)"})),(0,ut.eR)("void => enter",[(0,ut.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ut.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pe=(()=>{class Vt{static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275dir=x.lG2({type:Vt})}return Vt})();const tt=new x.OlP("MatFormField"),Ht=new x.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ri=0,xi=(()=>{class Vt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ft){this._hideRequiredMarker=(0,nt.Ig)(Ft)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Ft){Ft!==this._floatLabel&&(this._floatLabel=Ft,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Ft){const ve=this._appearance;this._appearance=Ft||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==ve&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Ft){this._subscriptSizing=Ft||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Ft){this._hintLabel=Ft,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Ft){this._explicitFormFieldControl=Ft}constructor(Ft,ve,K,se,Ce,Ae,ze,Ee){this._elementRef=Ft,this._changeDetectorRef=ve,this._ngZone=K,this._dir=se,this._platform=Ce,this._defaults=Ae,this._animationMode=ze,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ri++,this._hintLabelId="mat-mdc-hint-"+ri++,this._subscriptAnimationState="",this._destroyed=new Ue.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Ae&&(Ae.appearance&&(this.appearance=Ae.appearance),this._hideRequiredMarker=!!Ae?.hideRequiredMarker,Ae.color&&(this.color=Ae.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Ft=this._control;Ft.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Ft.controlType}`),Ft.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ft.ngControl&&Ft.ngControl.valueChanges&&Ft.ngControl.valueChanges.pipe((0,Ke.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Ft=>!Ft._isText),this._hasTextPrefix=!!this._prefixChildren.find(Ft=>Ft._isText),this._hasIconSuffix=!!this._suffixChildren.find(Ft=>!Ft._isText),this._hasTextSuffix=!!this._suffixChildren.find(Ft=>Ft._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ke.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Ke.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(Ft){const ve=this._control?this._control.ngControl:null;return ve&&ve[Ft]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Ft=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ft.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ve=this._hintChildren?this._hintChildren.find(se=>"start"===se.align):null,K=this._hintChildren?this._hintChildren.find(se=>"end"===se.align):null;ve?Ft.push(ve.id):this._hintLabel&&Ft.push(this._hintLabelId),K&&Ft.push(K.id)}else this._errorChildren&&Ft.push(...this._errorChildren.map(ve=>ve.id));this._control.setDescribedByIds(Ft)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const Ft=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Ft.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const ve=this._iconPrefixContainer?.nativeElement,K=this._textPrefixContainer?.nativeElement,se=ve?.getBoundingClientRect().width??0,Ce=K?.getBoundingClientRect().width??0;Ft.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${se+Ce}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Ft=this._elementRef.nativeElement;if(Ft.getRootNode){const ve=Ft.getRootNode();return ve&&ve!==Ft}return document.documentElement.contains(Ft)}static#e=this.\u0275fac=function(ve){return new(ve||Vt)(x.Y36(x.SBq),x.Y36(x.sBO),x.Y36(x.R0b),x.Y36(l.Is),x.Y36(me.t4),x.Y36(Ht,8),x.Y36(x.QbO,8),x.Y36(Et.K0))};static#t=this.\u0275cmp=x.Xpm({type:Vt,selectors:[["mat-form-field"]],contentQueries:function(ve,K,se){if(1&ve&&(x.Suo(se,ht,5),x.Suo(se,ht,7),x.Suo(se,Pe,5),x.Suo(se,Fi,5),x.Suo(se,$t,5),x.Suo(se,ai,5),x.Suo(se,yi,5)),2&ve){let Ce;x.iGM(Ce=x.CRH())&&(K._labelChildNonStatic=Ce.first),x.iGM(Ce=x.CRH())&&(K._labelChildStatic=Ce.first),x.iGM(Ce=x.CRH())&&(K._formFieldControl=Ce.first),x.iGM(Ce=x.CRH())&&(K._prefixChildren=Ce),x.iGM(Ce=x.CRH())&&(K._suffixChildren=Ce),x.iGM(Ce=x.CRH())&&(K._errorChildren=Ce),x.iGM(Ce=x.CRH())&&(K._hintChildren=Ce)}},viewQuery:function(ve,K){if(1&ve&&(x.Gf(Je,5),x.Gf($e,5),x.Gf(Nt,5),x.Gf(Yi,5),x.Gf(xe,5),x.Gf(Tt,5)),2&ve){let se;x.iGM(se=x.CRH())&&(K._textField=se.first),x.iGM(se=x.CRH())&&(K._iconPrefixContainer=se.first),x.iGM(se=x.CRH())&&(K._textPrefixContainer=se.first),x.iGM(se=x.CRH())&&(K._floatingLabel=se.first),x.iGM(se=x.CRH())&&(K._notchedOutline=se.first),x.iGM(se=x.CRH())&&(K._lineRipple=se.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(ve,K){2&ve&&x.ekj("mat-mdc-form-field-label-always-float",K._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",K._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",K._hasIconSuffix)("mat-form-field-invalid",K._control.errorState)("mat-form-field-disabled",K._control.disabled)("mat-form-field-autofilled",K._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===K._animationMode)("mat-form-field-appearance-fill","fill"==K.appearance)("mat-form-field-appearance-outline","outline"==K.appearance)("mat-form-field-hide-placeholder",K._hasFloatingLabel()&&!K._shouldLabelFloat())("mat-focused",K._control.focused)("mat-primary","accent"!==K.color&&"warn"!==K.color)("mat-accent","accent"===K.color)("mat-warn","warn"===K.color)("ng-untouched",K._shouldForward("untouched"))("ng-touched",K._shouldForward("touched"))("ng-pristine",K._shouldForward("pristine"))("ng-dirty",K._shouldForward("dirty"))("ng-valid",K._shouldForward("valid"))("ng-invalid",K._shouldForward("invalid"))("ng-pending",K._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[x._Bn([{provide:tt,useExisting:Vt},{provide:_t,useExisting:Vt}])],ngContentSelectors:We,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(ve,K){1&ve&&(x.F$t(kt),x.YNc(0,fi,1,1,"ng-template",null,0,x.W1O),x.TgZ(2,"div",1,2),x.NdJ("click",function(Ce){return K._control.onContainerClick(Ce)}),x.YNc(4,_i,1,0,"div",3),x.TgZ(5,"div",4),x.YNc(6,Dn,2,2,"div",5),x.YNc(7,Kn,3,0,"div",6),x.YNc(8,yn,3,0,"div",7),x.TgZ(9,"div",8),x.YNc(10,Pn,1,1,"ng-template",9),x.Hsn(11),x.qZA(),x.YNc(12,xt,2,0,"div",10),x.YNc(13,wt,2,0,"div",11),x.qZA(),x.YNc(14,gt,1,0,"div",12),x.qZA(),x.TgZ(15,"div",13),x.YNc(16,Bt,2,1,"div",14),x.YNc(17,at,5,2,"div",15),x.qZA()),2&ve&&(x.xp6(2),x.ekj("mdc-text-field--filled",!K._hasOutline())("mdc-text-field--outlined",K._hasOutline())("mdc-text-field--no-label",!K._hasFloatingLabel())("mdc-text-field--disabled",K._control.disabled)("mdc-text-field--invalid",K._control.errorState),x.xp6(2),x.Q6J("ngIf",!K._hasOutline()&&!K._control.disabled),x.xp6(2),x.Q6J("ngIf",K._hasOutline()),x.xp6(1),x.Q6J("ngIf",K._hasIconPrefix),x.xp6(1),x.Q6J("ngIf",K._hasTextPrefix),x.xp6(2),x.Q6J("ngIf",!K._hasOutline()||K._forceDisplayInfixLabel()),x.xp6(2),x.Q6J("ngIf",K._hasTextSuffix),x.xp6(1),x.Q6J("ngIf",K._hasIconSuffix),x.xp6(1),x.Q6J("ngIf",!K._hasOutline()),x.xp6(1),x.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===K.subscriptSizing),x.Q6J("ngSwitch",K._getDisplayedMessages()),x.xp6(1),x.Q6J("ngSwitchCase","error"),x.xp6(1),x.Q6J("ngSwitchCase","hint"))},dependencies:[Et.O5,Et.tP,Et.RF,Et.n9,yi,Yi,xe,Tt],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Re.transitionMessages]},changeDetection:0})}return Vt})(),an=(()=>{class Vt{static#e=this.\u0275fac=function(ve){return new(ve||Vt)};static#t=this.\u0275mod=x.oAB({type:Vt});static#i=this.\u0275inj=x.cJS({imports:[ei.BQ,Et.ez,Ut.Q8,ei.BQ]})}return Vt})()},617:(bi,vt,H)=>{"use strict";H.d(vt,{Hw:()=>Bt,Ps:()=>Mt,jv:()=>zt});var x=H(5879),l=H(3680),me=H(2495),g=H(6814),Ue=H(2096),ae=H(8504),Ke=H(9315),ot=H(7394),ke=H(9397),He=H(7398),lt=H(6306),Ze=H(4716),it=H(3020),nt=H(8180),ut=H(9862),Et=H(6593);const Ut=["*"];let ei;function ni(at){return function Ti(){if(void 0===ei&&(ei=null,typeof window<"u")){const at=window;void 0!==at.trustedTypes&&(ei=at.trustedTypes.createPolicy("angular#components",{createHTML:kt=>kt}))}return ei}()?.createHTML(at)||at}function Fe(at){return Error(`Unable to find icon with the name "${at}"`)}function $e(at){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${at}".`)}function Nt(at){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${at}".`)}class Pt{constructor(kt,We,ht){this.url=kt,this.svgText=We,this.options=ht}}let zt=(()=>{class at{constructor(We,ht,At,ai){this._httpClient=We,this._sanitizer=ht,this._errorHandler=ai,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=At}addSvgIcon(We,ht,At){return this.addSvgIconInNamespace("",We,ht,At)}addSvgIconLiteral(We,ht,At){return this.addSvgIconLiteralInNamespace("",We,ht,At)}addSvgIconInNamespace(We,ht,At,ai){return this._addSvgIconConfig(We,ht,new Pt(At,null,ai))}addSvgIconResolver(We){return this._resolvers.push(We),this}addSvgIconLiteralInNamespace(We,ht,At,ai){const Jt=this._sanitizer.sanitize(x.q3G.HTML,At);if(!Jt)throw Nt(At);const vi=ni(Jt);return this._addSvgIconConfig(We,ht,new Pt("",vi,ai))}addSvgIconSet(We,ht){return this.addSvgIconSetInNamespace("",We,ht)}addSvgIconSetLiteral(We,ht){return this.addSvgIconSetLiteralInNamespace("",We,ht)}addSvgIconSetInNamespace(We,ht,At){return this._addSvgIconSetConfig(We,new Pt(ht,null,At))}addSvgIconSetLiteralInNamespace(We,ht,At){const ai=this._sanitizer.sanitize(x.q3G.HTML,ht);if(!ai)throw Nt(ht);const Jt=ni(ai);return this._addSvgIconSetConfig(We,new Pt("",Jt,At))}registerFontClassAlias(We,ht=We){return this._fontCssClassesByAlias.set(We,ht),this}classNameForFontAlias(We){return this._fontCssClassesByAlias.get(We)||We}setDefaultFontSetClass(...We){return this._defaultFontSetClass=We,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(We){const ht=this._sanitizer.sanitize(x.q3G.RESOURCE_URL,We);if(!ht)throw $e(We);const At=this._cachedIconsByUrl.get(ht);return At?(0,Ue.of)(Li(At)):this._loadSvgIconFromConfig(new Pt(We,null)).pipe((0,ke.b)(ai=>this._cachedIconsByUrl.set(ht,ai)),(0,He.U)(ai=>Li(ai)))}getNamedSvgIcon(We,ht=""){const At=Hi(ht,We);let ai=this._svgIconConfigs.get(At);if(ai)return this._getSvgFromConfig(ai);if(ai=this._getIconConfigFromResolvers(ht,We),ai)return this._svgIconConfigs.set(At,ai),this._getSvgFromConfig(ai);const Jt=this._iconSetConfigs.get(ht);return Jt?this._getSvgFromIconSetConfigs(We,Jt):(0,ae._)(Fe(At))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(We){return We.svgText?(0,Ue.of)(Li(this._svgElementFromConfig(We))):this._loadSvgIconFromConfig(We).pipe((0,He.U)(ht=>Li(ht)))}_getSvgFromIconSetConfigs(We,ht){const At=this._extractIconWithNameFromAnySet(We,ht);if(At)return(0,Ue.of)(At);const ai=ht.filter(Jt=>!Jt.svgText).map(Jt=>this._loadSvgIconSetFromConfig(Jt).pipe((0,lt.K)(vi=>{const Fi=`Loading icon set URL: ${this._sanitizer.sanitize(x.q3G.RESOURCE_URL,Jt.url)} failed: ${vi.message}`;return this._errorHandler.handleError(new Error(Fi)),(0,Ue.of)(null)})));return(0,Ke.D)(ai).pipe((0,He.U)(()=>{const Jt=this._extractIconWithNameFromAnySet(We,ht);if(!Jt)throw Fe(We);return Jt}))}_extractIconWithNameFromAnySet(We,ht){for(let At=ht.length-1;At>=0;At--){const ai=ht[At];if(ai.svgText&&ai.svgText.toString().indexOf(We)>-1){const Jt=this._svgElementFromConfig(ai),vi=this._extractSvgIconFromSet(Jt,We,ai.options);if(vi)return vi}}return null}_loadSvgIconFromConfig(We){return this._fetchIcon(We).pipe((0,ke.b)(ht=>We.svgText=ht),(0,He.U)(()=>this._svgElementFromConfig(We)))}_loadSvgIconSetFromConfig(We){return We.svgText?(0,Ue.of)(null):this._fetchIcon(We).pipe((0,ke.b)(ht=>We.svgText=ht))}_extractSvgIconFromSet(We,ht,At){const ai=We.querySelector(`[id="${ht}"]`);if(!ai)return null;const Jt=ai.cloneNode(!0);if(Jt.removeAttribute("id"),"svg"===Jt.nodeName.toLowerCase())return this._setSvgAttributes(Jt,At);if("symbol"===Jt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Jt),At);const vi=this._svgElementFromString(ni("<svg></svg>"));return vi.appendChild(Jt),this._setSvgAttributes(vi,At)}_svgElementFromString(We){const ht=this._document.createElement("DIV");ht.innerHTML=We;const At=ht.querySelector("svg");if(!At)throw Error("<svg> tag not found");return At}_toSvgElement(We){const ht=this._svgElementFromString(ni("<svg></svg>")),At=We.attributes;for(let ai=0;ai<At.length;ai++){const{name:Jt,value:vi}=At[ai];"id"!==Jt&&ht.setAttribute(Jt,vi)}for(let ai=0;ai<We.childNodes.length;ai++)We.childNodes[ai].nodeType===this._document.ELEMENT_NODE&&ht.appendChild(We.childNodes[ai].cloneNode(!0));return ht}_setSvgAttributes(We,ht){return We.setAttribute("fit",""),We.setAttribute("height","100%"),We.setAttribute("width","100%"),We.setAttribute("preserveAspectRatio","xMidYMid meet"),We.setAttribute("focusable","false"),ht&&ht.viewBox&&We.setAttribute("viewBox",ht.viewBox),We}_fetchIcon(We){const{url:ht,options:At}=We,ai=At?.withCredentials??!1;if(!this._httpClient)throw function Je(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ht)throw Error(`Cannot fetch icon from URL "${ht}".`);const Jt=this._sanitizer.sanitize(x.q3G.RESOURCE_URL,ht);if(!Jt)throw $e(ht);const vi=this._inProgressUrlFetches.get(Jt);if(vi)return vi;const yi=this._httpClient.get(Jt,{responseType:"text",withCredentials:ai}).pipe((0,He.U)(Fi=>ni(Fi)),(0,Ze.x)(()=>this._inProgressUrlFetches.delete(Jt)),(0,it.B)());return this._inProgressUrlFetches.set(Jt,yi),yi}_addSvgIconConfig(We,ht,At){return this._svgIconConfigs.set(Hi(We,ht),At),this}_addSvgIconSetConfig(We,ht){const At=this._iconSetConfigs.get(We);return At?At.push(ht):this._iconSetConfigs.set(We,[ht]),this}_svgElementFromConfig(We){if(!We.svgElement){const ht=this._svgElementFromString(We.svgText);this._setSvgAttributes(ht,We.options),We.svgElement=ht}return We.svgElement}_getIconConfigFromResolvers(We,ht){for(let At=0;At<this._resolvers.length;At++){const ai=this._resolvers[At](ht,We);if(ai)return Dn(ai)?new Pt(ai.url,null,ai.options):new Pt(ai,null)}}static#e=this.\u0275fac=function(ht){return new(ht||at)(x.LFG(ut.eN,8),x.LFG(Et.H7),x.LFG(g.K0,8),x.LFG(x.qLn))};static#t=this.\u0275prov=x.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})();function Li(at){return at.cloneNode(!0)}function Hi(at,kt){return at+":"+kt}function Dn(at){return!(!at.url||!at.options)}const Kn=(0,l.pj)(class{constructor(at){this._elementRef=at}}),yn=new x.OlP("MAT_ICON_DEFAULT_OPTIONS"),Hn=new x.OlP("mat-icon-location",{providedIn:"root",factory:function Pn(){const at=(0,x.f3M)(g.K0),kt=at?at.location:null;return{getPathname:()=>kt?kt.pathname+kt.search:""}}}),xt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wt=xt.map(at=>`[${at}]`).join(", "),gt=/^url\(['"]?#(.*?)['"]?\)$/;let Bt=(()=>{class at extends Kn{get inline(){return this._inline}set inline(We){this._inline=(0,me.Ig)(We)}get svgIcon(){return this._svgIcon}set svgIcon(We){We!==this._svgIcon&&(We?this._updateSvgIcon(We):this._svgIcon&&this._clearSvgElement(),this._svgIcon=We)}get fontSet(){return this._fontSet}set fontSet(We){const ht=this._cleanupFontValue(We);ht!==this._fontSet&&(this._fontSet=ht,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(We){const ht=this._cleanupFontValue(We);ht!==this._fontIcon&&(this._fontIcon=ht,this._updateFontIconClasses())}constructor(We,ht,At,ai,Jt,vi){super(We),this._iconRegistry=ht,this._location=ai,this._errorHandler=Jt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ot.w0.EMPTY,vi&&(vi.color&&(this.color=this.defaultColor=vi.color),vi.fontSet&&(this.fontSet=vi.fontSet)),At||We.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(We){if(!We)return["",""];const ht=We.split(":");switch(ht.length){case 1:return["",ht[0]];case 2:return ht;default:throw Error(`Invalid icon name: "${We}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const We=this._elementsWithExternalReferences;if(We&&We.size){const ht=this._location.getPathname();ht!==this._previousPath&&(this._previousPath=ht,this._prependPathToReferences(ht))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(We){this._clearSvgElement();const ht=this._location.getPathname();this._previousPath=ht,this._cacheChildrenWithExternalReferences(We),this._prependPathToReferences(ht),this._elementRef.nativeElement.appendChild(We)}_clearSvgElement(){const We=this._elementRef.nativeElement;let ht=We.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ht--;){const At=We.childNodes[ht];(1!==At.nodeType||"svg"===At.nodeName.toLowerCase())&&At.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const We=this._elementRef.nativeElement,ht=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(At=>At.length>0);this._previousFontSetClass.forEach(At=>We.classList.remove(At)),ht.forEach(At=>We.classList.add(At)),this._previousFontSetClass=ht,this.fontIcon!==this._previousFontIconClass&&!ht.includes("mat-ligature-font")&&(this._previousFontIconClass&&We.classList.remove(this._previousFontIconClass),this.fontIcon&&We.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(We){return"string"==typeof We?We.trim().split(" ")[0]:We}_prependPathToReferences(We){const ht=this._elementsWithExternalReferences;ht&&ht.forEach((At,ai)=>{At.forEach(Jt=>{ai.setAttribute(Jt.name,`url('${We}#${Jt.value}')`)})})}_cacheChildrenWithExternalReferences(We){const ht=We.querySelectorAll(wt),At=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ai=0;ai<ht.length;ai++)xt.forEach(Jt=>{const vi=ht[ai],yi=vi.getAttribute(Jt),Fi=yi?yi.match(gt):null;if(Fi){let dt=At.get(vi);dt||(dt=[],At.set(vi,dt)),dt.push({name:Jt,value:Fi[1]})}})}_updateSvgIcon(We){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),We){const[ht,At]=this._splitIconName(We);ht&&(this._svgNamespace=ht),At&&(this._svgName=At),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(At,ht).pipe((0,nt.q)(1)).subscribe(ai=>this._setSvgElement(ai),ai=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ht}:${At}! ${ai.message}`))})}}static#e=this.\u0275fac=function(ht){return new(ht||at)(x.Y36(x.SBq),x.Y36(zt),x.$8M("aria-hidden"),x.Y36(Hn),x.Y36(x.qLn),x.Y36(yn,8))};static#t=this.\u0275cmp=x.Xpm({type:at,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(ht,At){2&ht&&(x.uIk("data-mat-icon-type",At._usingFontIcon()?"font":"svg")("data-mat-icon-name",At._svgName||At.fontIcon)("data-mat-icon-namespace",At._svgNamespace||At.fontSet)("fontIcon",At._usingFontIcon()?At.fontIcon:null),x.ekj("mat-icon-inline",At.inline)("mat-icon-no-color","primary"!==At.color&&"accent"!==At.color&&"warn"!==At.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[x.qOj],ngContentSelectors:Ut,decls:1,vars:0,template:function(ht,At){1&ht&&(x.F$t(),x.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return at})(),Mt=(()=>{class at{static#e=this.\u0275fac=function(ht){return new(ht||at)};static#t=this.\u0275mod=x.oAB({type:at});static#i=this.\u0275inj=x.cJS({imports:[l.BQ,l.BQ]})}return at})()},8525:(bi,vt,H)=>{"use strict";H.d(vt,{LD:()=>vi,gD:()=>Jt});var x=H(3651),l=H(6814),me=H(5879),g=H(3680),Ue=H(4170),ae=H(799),Ke=H(7849),ot=H(9388),ke=H(2495),He=H(8337),lt=H(6028),Ze=H(6223),it=H(8645),nt=H(4911),ut=H(3019),Et=H(7921),Ut=H(4664),ei=H(8180),Ti=H(2181),ni=H(7398),Fe=H(3997),Je=H(9773),$e=H(6825);const Nt=["trigger"],Pt=["panel"];function zt(yi,Fi){if(1&yi&&(me.TgZ(0,"span",10),me._uU(1),me.qZA()),2&yi){const dt=me.oxw();me.xp6(1),me.Oqu(dt.placeholder)}}function fi(yi,Fi){if(1&yi&&(me.TgZ(0,"span",14),me._uU(1),me.qZA()),2&yi){const dt=me.oxw(2);me.xp6(1),me.Oqu(dt.triggerValue)}}function _i(yi,Fi){1&yi&&me.Hsn(0,0,["*ngSwitchCase","true"])}function Li(yi,Fi){if(1&yi&&(me.TgZ(0,"span",11),me.YNc(1,fi,2,1,"span",12),me.YNc(2,_i,1,0,"ng-content",13),me.qZA()),2&yi){const dt=me.oxw();me.Q6J("ngSwitch",!!dt.customTrigger),me.xp6(2),me.Q6J("ngSwitchCase",!0)}}function Hi(yi,Fi){if(1&yi){const dt=me.EpF();me.O4$(),me.kcU(),me.TgZ(0,"div",15,16),me.NdJ("@transformPanel.done",function(Kt){me.CHM(dt);const _t=me.oxw();return me.KtG(_t._panelDoneAnimatingStream.next(Kt.toState))})("keydown",function(Kt){me.CHM(dt);const _t=me.oxw();return me.KtG(_t._handleKeydown(Kt))}),me.Hsn(2,1),me.qZA()}if(2&yi){const dt=me.oxw();me.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",dt._getPanelTheme(),""),me.Q6J("ngClass",dt.panelClass)("@transformPanel","showing"),me.uIk("id",dt.id+"-panel")("aria-multiselectable",dt.multiple)("aria-label",dt.ariaLabel||null)("aria-labelledby",dt._getPanelAriaLabelledby())}}const Dn=[[["mat-select-trigger"]],"*"],Kn=["mat-select-trigger","*"],yn={transformPanelWrap:(0,$e.X$)("transformPanelWrap",[(0,$e.eR)("* => void",(0,$e.IO)("@transformPanel",[(0,$e.pV)()],{optional:!0}))]),transformPanel:(0,$e.X$)("transformPanel",[(0,$e.SB)("void",(0,$e.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,$e.eR)("void => showing",(0,$e.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,$e.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,$e.eR)("* => void",(0,$e.jt)("100ms linear",(0,$e.oB)({opacity:0})))])};let wt=0;const gt=new me.OlP("mat-select-scroll-strategy"),Mt=new me.OlP("MAT_SELECT_CONFIG"),at={provide:gt,deps:[x.aV],useFactory:function Bt(yi){return()=>yi.scrollStrategies.reposition()}},kt=new me.OlP("MatSelectTrigger");class We{constructor(Fi,dt){this.source=Fi,this.value=dt}}const ht=(0,g.Kr)((0,g.sb)((0,g.Id)((0,g.FD)(class{constructor(yi,Fi,dt,$t,Kt){this._elementRef=yi,this._defaultErrorStateMatcher=Fi,this._parentForm=dt,this._parentFormGroup=$t,this.ngControl=Kt,this.stateChanges=new it.x}}))));let At=(()=>{class yi extends ht{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(dt){this._placeholder=dt,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ze.kI.required)??!1}set required(dt){this._required=(0,ke.Ig)(dt),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(dt){this._multiple=(0,ke.Ig)(dt)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(dt){this._disableOptionCentering=(0,ke.Ig)(dt)}get compareWith(){return this._compareWith}set compareWith(dt){this._compareWith=dt,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(dt){this._assignValue(dt)&&this._onChange(dt)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(dt){this._typeaheadDebounceInterval=(0,ke.su)(dt)}get id(){return this._id}set id(dt){this._id=dt||this._uid,this.stateChanges.next()}constructor(dt,$t,Kt,_t,Yi,On,Wi,zi,Tt,xe,Re,Pe,Ye,be){super(Yi,_t,Wi,zi,xe),this._viewportRuler=dt,this._changeDetectorRef=$t,this._ngZone=Kt,this._dir=On,this._parentFormField=Tt,this._liveAnnouncer=Ye,this._defaultOptions=be,this._panelOpen=!1,this._compareWith=(qe,tt)=>qe===tt,this._uid="mat-select-"+wt++,this._triggerAriaLabelledBy=null,this._destroy=new it.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+wt++,this._panelDoneAnimatingStream=new it.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,nt.P)(()=>{const qe=this.options;return qe?qe.changes.pipe((0,Et.O)(qe),(0,Ut.w)(()=>(0,ut.T)(...qe.map(tt=>tt.onSelectionChange)))):this._ngZone.onStable.pipe((0,ei.q)(1),(0,Ut.w)(()=>this.optionSelectionChanges))}),this.openedChange=new me.vpe,this._openedStream=this.openedChange.pipe((0,Ti.h)(qe=>qe),(0,ni.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ti.h)(qe=>!qe),(0,ni.U)(()=>{})),this.selectionChange=new me.vpe,this.valueChange=new me.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=be?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=be.typeaheadDebounceInterval),this._scrollStrategyFactory=Pe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Re)||0,this.id=this.id}ngOnInit(){this._selectionModel=new He.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Fe.x)(),(0,Je.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Je.R)(this._destroy)).subscribe(dt=>{dt.added.forEach($t=>$t.select()),dt.removed.forEach($t=>$t.deselect())}),this.options.changes.pipe((0,Et.O)(null),(0,Je.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const dt=this._getTriggerAriaLabelledby(),$t=this.ngControl;if(dt!==this._triggerAriaLabelledBy){const Kt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=dt,dt?Kt.setAttribute("aria-labelledby",dt):Kt.removeAttribute("aria-labelledby")}$t&&(this._previousControl!==$t.control&&(void 0!==this._previousControl&&null!==$t.disabled&&$t.disabled!==this.disabled&&(this.disabled=$t.disabled),this._previousControl=$t.control),this.updateErrorState())}ngOnChanges(dt){(dt.disabled||dt.userAriaDescribedBy)&&this.stateChanges.next(),dt.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const dt=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!dt)return;const $t=`${this.id}-panel`;this._trackedModal&&(0,Ke.iD)(this._trackedModal,"aria-owns",$t),(0,Ke.Zf)(dt,"aria-owns",$t),this._trackedModal=dt}_clearFromModal(){this._trackedModal&&((0,Ke.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(dt){this._assignValue(dt)}registerOnChange(dt){this._onChange=dt}registerOnTouched(dt){this._onTouched=dt}setDisabledState(dt){this.disabled=dt,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const dt=this._selectionModel.selected.map($t=>$t.viewValue);return this._isRtl()&&dt.reverse(),dt.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(dt){this.disabled||(this.panelOpen?this._handleOpenKeydown(dt):this._handleClosedKeydown(dt))}_handleClosedKeydown(dt){const $t=dt.keyCode,Kt=$t===lt.JH||$t===lt.LH||$t===lt.oh||$t===lt.SV,_t=$t===lt.K5||$t===lt.L_,Yi=this._keyManager;if(!Yi.isTyping()&&_t&&!(0,lt.Vb)(dt)||(this.multiple||dt.altKey)&&Kt)dt.preventDefault(),this.open();else if(!this.multiple){const On=this.selected;Yi.onKeydown(dt);const Wi=this.selected;Wi&&On!==Wi&&this._liveAnnouncer.announce(Wi.viewValue,1e4)}}_handleOpenKeydown(dt){const $t=this._keyManager,Kt=dt.keyCode,_t=Kt===lt.JH||Kt===lt.LH,Yi=$t.isTyping();if(_t&&dt.altKey)dt.preventDefault(),this.close();else if(Yi||Kt!==lt.K5&&Kt!==lt.L_||!$t.activeItem||(0,lt.Vb)(dt))if(!Yi&&this._multiple&&Kt===lt.A&&dt.ctrlKey){dt.preventDefault();const On=this.options.some(Wi=>!Wi.disabled&&!Wi.selected);this.options.forEach(Wi=>{Wi.disabled||(On?Wi.select():Wi.deselect())})}else{const On=$t.activeItemIndex;$t.onKeydown(dt),this._multiple&&_t&&dt.shiftKey&&$t.activeItem&&$t.activeItemIndex!==On&&$t.activeItem._selectViaInteraction()}else dt.preventDefault(),$t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ei.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(dt){if(this.options.forEach($t=>$t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&dt)Array.isArray(dt),dt.forEach($t=>this._selectOptionByValue($t)),this._sortValues();else{const $t=this._selectOptionByValue(dt);$t?this._keyManager.updateActiveItem($t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(dt){const $t=this.options.find(Kt=>{if(this._selectionModel.isSelected(Kt))return!1;try{return null!=Kt.value&&this._compareWith(Kt.value,dt)}catch{return!1}});return $t&&this._selectionModel.select($t),$t}_assignValue(dt){return!!(dt!==this._value||this._multiple&&Array.isArray(dt))&&(this.options&&this._setSelectionByValue(dt),this._value=dt,!0)}_skipPredicate(dt){return dt.disabled}_initKeyManager(){this._keyManager=new Ke.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const dt=(0,ut.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Je.R)(dt)).subscribe($t=>{this._onSelect($t.source,$t.isUserInput),$t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ut.T)(...this.options.map($t=>$t._stateChanges)).pipe((0,Je.R)(dt)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(dt,$t){const Kt=this._selectionModel.isSelected(dt);null!=dt.value||this._multiple?(Kt!==dt.selected&&(dt.selected?this._selectionModel.select(dt):this._selectionModel.deselect(dt)),$t&&this._keyManager.setActiveItem(dt),this.multiple&&(this._sortValues(),$t&&this.focus())):(dt.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(dt.value)),Kt!==this._selectionModel.isSelected(dt)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const dt=this.options.toArray();this._selectionModel.sort(($t,Kt)=>this.sortComparator?this.sortComparator($t,Kt,dt):dt.indexOf($t)-dt.indexOf(Kt)),this.stateChanges.next()}}_propagateChanges(dt){let $t=null;$t=this.multiple?this.selected.map(Kt=>Kt.value):this.selected?this.selected.value:dt,this._value=$t,this.valueChange.emit($t),this._onChange($t),this.selectionChange.emit(this._getChangeEvent($t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let dt=-1;for(let $t=0;$t<this.options.length;$t++)if(!this.options.get($t).disabled){dt=$t;break}this._keyManager.setActiveItem(dt)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(dt){this._elementRef.nativeElement.focus(dt)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const dt=this._parentFormField?.getLabelId();return this.ariaLabelledby?(dt?dt+" ":"")+this.ariaLabelledby:dt}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const dt=this._parentFormField?.getLabelId();let $t=(dt?dt+" ":"")+this._valueId;return this.ariaLabelledby&&($t+=" "+this.ariaLabelledby),$t}_panelDoneAnimating(dt){this.openedChange.emit(dt)}setDescribedByIds(dt){dt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",dt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function($t){return new($t||yi)(me.Y36(ae.rL),me.Y36(me.sBO),me.Y36(me.R0b),me.Y36(g.rD),me.Y36(me.SBq),me.Y36(ot.Is,8),me.Y36(Ze.F,8),me.Y36(Ze.sg,8),me.Y36(Ue.G_,8),me.Y36(Ze.a5,10),me.$8M("tabindex"),me.Y36(gt),me.Y36(Ke.Kd),me.Y36(Mt,8))};static#t=this.\u0275dir=me.lG2({type:yi,viewQuery:function($t,Kt){if(1&$t&&(me.Gf(Nt,5),me.Gf(Pt,5),me.Gf(x.pI,5)),2&$t){let _t;me.iGM(_t=me.CRH())&&(Kt.trigger=_t.first),me.iGM(_t=me.CRH())&&(Kt.panel=_t.first),me.iGM(_t=me.CRH())&&(Kt._overlayDir=_t.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[me.qOj,me.TTD]})}return yi})(),Jt=(()=>{class yi extends At{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=dt=>!this.panelOpen&&dt.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Je.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(dt){const $t=this.options.toArray()[dt];if($t){const Kt=this.panel.nativeElement,_t=(0,g.CB)(dt,this.options,this.optionGroups),Yi=$t._getHostElement();Kt.scrollTop=0===dt&&1===_t?0:(0,g.jH)(Yi.offsetTop,Yi.offsetHeight,Kt.scrollTop,Kt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(dt){return new We(this,dt)}_getOverlayWidth(dt){return"auto"===this.panelWidth?(dt instanceof x.xu?dt.elementRef:dt||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(dt){this._hideSingleSelectionIndicator=(0,ke.Ig)(dt),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const dt of this.options)dt._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let dt;return function(Kt){return(dt||(dt=me.n5z(yi)))(Kt||yi)}}();static#t=this.\u0275cmp=me.Xpm({type:yi,selectors:[["mat-select"]],contentQueries:function($t,Kt,_t){if(1&$t&&(me.Suo(_t,kt,5),me.Suo(_t,g.ey,5),me.Suo(_t,g.K7,5)),2&$t){let Yi;me.iGM(Yi=me.CRH())&&(Kt.customTrigger=Yi.first),me.iGM(Yi=me.CRH())&&(Kt.options=Yi),me.iGM(Yi=me.CRH())&&(Kt.optionGroups=Yi)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function($t,Kt){1&$t&&me.NdJ("keydown",function(Yi){return Kt._handleKeydown(Yi)})("focus",function(){return Kt._onFocus()})("blur",function(){return Kt._onBlur()}),2&$t&&(me.uIk("id",Kt.id)("tabindex",Kt.tabIndex)("aria-controls",Kt.panelOpen?Kt.id+"-panel":null)("aria-expanded",Kt.panelOpen)("aria-label",Kt.ariaLabel||null)("aria-required",Kt.required.toString())("aria-disabled",Kt.disabled.toString())("aria-invalid",Kt.errorState)("aria-activedescendant",Kt._getAriaActiveDescendant()),me.ekj("mat-mdc-select-disabled",Kt.disabled)("mat-mdc-select-invalid",Kt.errorState)("mat-mdc-select-required",Kt.required)("mat-mdc-select-empty",Kt.empty)("mat-mdc-select-multiple",Kt.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[me._Bn([{provide:Ue.Eo,useExisting:yi},{provide:g.HF,useExisting:yi}]),me.qOj],ngContentSelectors:Kn,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function($t,Kt){if(1&$t&&(me.F$t(Dn),me.TgZ(0,"div",0,1),me.NdJ("click",function(){return Kt.toggle()}),me.TgZ(3,"div",2),me.YNc(4,zt,2,1,"span",3),me.YNc(5,Li,3,2,"span",4),me.qZA(),me.TgZ(6,"div",5)(7,"div",6),me.O4$(),me.TgZ(8,"svg",7),me._UZ(9,"path",8),me.qZA()()()(),me.YNc(10,Hi,3,9,"ng-template",9),me.NdJ("backdropClick",function(){return Kt.close()})("attach",function(){return Kt._onAttached()})("detach",function(){return Kt.close()})),2&$t){const _t=me.MAs(1);me.xp6(3),me.Q6J("ngSwitch",Kt.empty),me.uIk("id",Kt._valueId),me.xp6(1),me.Q6J("ngSwitchCase",!0),me.xp6(1),me.Q6J("ngSwitchCase",!1),me.xp6(5),me.Q6J("cdkConnectedOverlayPanelClass",Kt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Kt._scrollStrategy)("cdkConnectedOverlayOrigin",Kt._preferredOverlayOrigin||_t)("cdkConnectedOverlayOpen",Kt.panelOpen)("cdkConnectedOverlayPositions",Kt._positions)("cdkConnectedOverlayWidth",Kt._overlayWidth)}},dependencies:[l.mk,l.RF,l.n9,l.ED,x.pI,x.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[yn.transformPanel]},changeDetection:0})}return yi})(),vi=(()=>{class yi{static#e=this.\u0275fac=function($t){return new($t||yi)};static#t=this.\u0275mod=me.oAB({type:yi});static#i=this.\u0275inj=me.cJS({providers:[at],imports:[l.ez,x.U8,g.Ng,g.BQ,ae.ZD,Ue.lN,g.Ng,g.BQ]})}return yi})()},1274:(bi,vt,H)=>{"use strict";H.d(vt,{Ye:()=>ke,g0:()=>lt});var x=H(5879),l=H(3680),me=H(2831),g=H(6814);const Ue=["*",[["mat-toolbar-row"]]],ae=["*","mat-toolbar-row"],Ke=(0,l.pj)(class{constructor(Ze){this._elementRef=Ze}});let ot=(()=>{class Ze{static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275dir=x.lG2({type:Ze,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return Ze})(),ke=(()=>{class Ze extends Ke{constructor(nt,ut,Et){super(nt),this._platform=ut,this._document=Et}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(x.Y36(x.SBq),x.Y36(me.t4),x.Y36(g.K0))};static#t=this.\u0275cmp=x.Xpm({type:Ze,selectors:[["mat-toolbar"]],contentQueries:function(ut,Et,Ut){if(1&ut&&x.Suo(Ut,ot,5),2&ut){let ei;x.iGM(ei=x.CRH())&&(Et._toolbarRows=ei)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(ut,Et){2&ut&&x.ekj("mat-toolbar-multiple-rows",Et._toolbarRows.length>0)("mat-toolbar-single-row",0===Et._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[x.qOj],ngContentSelectors:ae,decls:2,vars:0,template:function(ut,Et){1&ut&&(x.F$t(Ue),x.Hsn(0),x.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return Ze})(),lt=(()=>{class Ze{static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275mod=x.oAB({type:Ze});static#i=this.\u0275inj=x.cJS({imports:[l.BQ,l.BQ]})}return Ze})()},6593:(bi,vt,H)=>{"use strict";H.d(vt,{Dx:()=>On,H7:()=>xi,b2:()=>dt,q6:()=>Jt,se:()=>zt});var x=H(5879),l=H(6814);class me extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends me{static makeCurrent(){(0,l.HT)(new g)}onAndCancel(ie,$,Z){return ie.addEventListener($,Z),()=>{ie.removeEventListener($,Z)}}dispatchEvent(ie,$){ie.dispatchEvent($)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,$){return($=$||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,$){return"window"===$?window:"document"===$?ie:"body"===$?ie.body:null}getBaseHref(ie){const $=function ae(){return Ue=Ue||document.querySelector("base"),Ue?Ue.getAttribute("href"):null}();return null==$?null:function ot(Ee){Ke=Ke||document.createElement("a"),Ke.setAttribute("href",Ee);const ie=Ke.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}($)}resetBaseElement(){Ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,l.Mx)(document.cookie,ie)}}let Ke,Ue=null,He=(()=>{class Ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Z){return new(Z||Ee)};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const lt=new x.OlP("EventManagerPlugins");let Ze=(()=>{class Ee{constructor($,Z){this._zone=Z,this._eventNameToPlugin=new Map,$.forEach(ce=>{ce.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,Z,ce){return this._findPluginFor(Z).addEventListener($,Z,ce)}getZone(){return this._zone}_findPluginFor($){let Z=this._eventNameToPlugin.get($);if(Z)return Z;if(Z=this._plugins.find(Ie=>Ie.supports($)),!Z)throw new x.vHH(5101,!1);return this._eventNameToPlugin.set($,Z),Z}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(lt),x.LFG(x.R0b))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();class it{constructor(ie){this._doc=ie}}const nt="ng-app-id";let ut=(()=>{class Ee{constructor($,Z,ce,Ie={}){this.doc=$,this.appId=Z,this.nonce=ce,this.platformId=Ie,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(Ie),this.resetHostNodes()}addStyles($){for(const Z of $)1===this.changeUsageCount(Z,1)&&this.onStyleAdded(Z)}removeStyles($){for(const Z of $)this.changeUsageCount(Z,-1)<=0&&this.onStyleRemoved(Z)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(Z=>Z.remove()),$.clear());for(const Z of this.getAllStyles())this.onStyleRemoved(Z);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const Z of this.getAllStyles())this.addStyleToHost($,Z)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const Z of this.hostNodes)this.addStyleToHost(Z,$)}onStyleRemoved($){const Z=this.styleRef;Z.get($)?.elements?.forEach(ce=>ce.remove()),Z.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if($?.length){const Z=new Map;return $.forEach(ce=>{null!=ce.textContent&&Z.set(ce.textContent,ce)}),Z}return null}changeUsageCount($,Z){const ce=this.styleRef;if(ce.has($)){const Ie=ce.get($);return Ie.usage+=Z,Ie.usage}return ce.set($,{usage:Z,elements:[]}),Z}getStyleElement($,Z){const ce=this.styleNodesInDOM,Ie=ce?.get(Z);if(Ie?.parentNode===$)return ce.delete(Z),Ie.removeAttribute(nt),Ie;{const ye=this.doc.createElement("style");return this.nonce&&ye.setAttribute("nonce",this.nonce),ye.textContent=Z,this.platformIsServer&&ye.setAttribute(nt,this.appId),ye}}addStyleToHost($,Z){const ce=this.getStyleElement($,Z);$.appendChild(ce);const Ie=this.styleRef,ye=Ie.get(Z)?.elements;ye?ye.push(ce):Ie.set(Z,{elements:[ce],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(l.K0),x.LFG(x.AFp),x.LFG(x.Ojb,8),x.LFG(x.Lbi))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,Je=new x.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(Ee,ie){return ie.map($=>$.replace(Ut,Ee))}let zt=(()=>{class Ee{constructor($,Z,ce,Ie,ye,Le,pe,Te=null){this.eventManager=$,this.sharedStylesHost=Z,this.appId=ce,this.removeStylesOnCompDestroy=Ie,this.doc=ye,this.platformId=Le,this.ngZone=pe,this.nonce=Te,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(Le),this.defaultRenderer=new fi($,ye,pe,this.platformIsServer)}createRenderer($,Z){if(!$||!Z)return this.defaultRenderer;this.platformIsServer&&Z.encapsulation===x.ifc.ShadowDom&&(Z={...Z,encapsulation:x.ifc.Emulated});const ce=this.getOrCreateRenderer($,Z);return ce instanceof yn?ce.applyToHost($):ce instanceof Kn&&ce.applyStyles(),ce}getOrCreateRenderer($,Z){const ce=this.rendererByCompId;let Ie=ce.get(Z.id);if(!Ie){const ye=this.doc,Le=this.ngZone,pe=this.eventManager,Te=this.sharedStylesHost,rt=this.removeStylesOnCompDestroy,Ct=this.platformIsServer;switch(Z.encapsulation){case x.ifc.Emulated:Ie=new yn(pe,Te,Z,this.appId,rt,ye,Le,Ct);break;case x.ifc.ShadowDom:return new Dn(pe,Te,$,Z,ye,Le,this.nonce,Ct);default:Ie=new Kn(pe,Te,Z,rt,ye,Le,Ct)}ce.set(Z.id,Ie)}return Ie}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(Ze),x.LFG(ut),x.LFG(x.AFp),x.LFG(Je),x.LFG(l.K0),x.LFG(x.Lbi),x.LFG(x.R0b),x.LFG(x.Ojb))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();class fi{constructor(ie,$,Z,ce){this.eventManager=ie,this.doc=$,this.ngZone=Z,this.platformIsServer=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,$){return $?this.doc.createElementNS(Et[$]||$,ie):this.doc.createElement(ie)}createComment(ie){return this.doc.createComment(ie)}createText(ie){return this.doc.createTextNode(ie)}appendChild(ie,$){(Hi(ie)?ie.content:ie).appendChild($)}insertBefore(ie,$,Z){ie&&(Hi(ie)?ie.content:ie).insertBefore($,Z)}removeChild(ie,$){ie&&ie.removeChild($)}selectRootElement(ie,$){let Z="string"==typeof ie?this.doc.querySelector(ie):ie;if(!Z)throw new x.vHH(-5104,!1);return $||(Z.textContent=""),Z}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,$,Z,ce){if(ce){$=ce+":"+$;const Ie=Et[ce];Ie?ie.setAttributeNS(Ie,$,Z):ie.setAttribute($,Z)}else ie.setAttribute($,Z)}removeAttribute(ie,$,Z){if(Z){const ce=Et[Z];ce?ie.removeAttributeNS(ce,$):ie.removeAttribute(`${Z}:${$}`)}else ie.removeAttribute($)}addClass(ie,$){ie.classList.add($)}removeClass(ie,$){ie.classList.remove($)}setStyle(ie,$,Z,ce){ce&(x.JOm.DashCase|x.JOm.Important)?ie.style.setProperty($,Z,ce&x.JOm.Important?"important":""):ie.style[$]=Z}removeStyle(ie,$,Z){Z&x.JOm.DashCase?ie.style.removeProperty($):ie.style[$]=""}setProperty(ie,$,Z){ie[$]=Z}setValue(ie,$){ie.nodeValue=$}listen(ie,$,Z){if("string"==typeof ie&&!(ie=(0,l.q)().getGlobalEventTarget(this.doc,ie)))throw new Error(`Unsupported event target ${ie} for event ${$}`);return this.eventManager.addEventListener(ie,$,this.decoratePreventDefault(Z))}decoratePreventDefault(ie){return $=>{if("__ngUnwrap__"===$)return ie;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ie($)):ie($))&&$.preventDefault()}}}function Hi(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class Dn extends fi{constructor(ie,$,Z,ce,Ie,ye,Le,pe){super(ie,Ie,ye,pe),this.sharedStylesHost=$,this.hostEl=Z,this.shadowRoot=Z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Te=Pt(ce.id,ce.styles);for(const rt of Te){const Ct=document.createElement("style");Le&&Ct.setAttribute("nonce",Le),Ct.textContent=rt,this.shadowRoot.appendChild(Ct)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,$){return super.appendChild(this.nodeOrShadowRoot(ie),$)}insertBefore(ie,$,Z){return super.insertBefore(this.nodeOrShadowRoot(ie),$,Z)}removeChild(ie,$){return super.removeChild(this.nodeOrShadowRoot(ie),$)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kn extends fi{constructor(ie,$,Z,ce,Ie,ye,Le,pe){super(ie,Ie,ye,Le),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=ce,this.styles=pe?Pt(pe,Z.styles):Z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yn extends Kn{constructor(ie,$,Z,ce,Ie,ye,Le,pe){const Te=ce+"-"+Z.id;super(ie,$,Z,Ie,ye,Le,pe,Te),this.contentAttr=function $e(Ee){return"_ngcontent-%COMP%".replace(Ut,Ee)}(Te),this.hostAttr=function Nt(Ee){return"_nghost-%COMP%".replace(Ut,Ee)}(Te)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,$){const Z=super.createElement(ie,$);return super.setAttribute(Z,this.contentAttr,""),Z}}let Hn=(()=>{class Ee extends it{constructor($){super($)}supports($){return!0}addEventListener($,Z,ce){return $.addEventListener(Z,ce,!1),()=>this.removeEventListener($,Z,ce)}removeEventListener($,Z,ce){return $.removeEventListener(Z,ce)}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(l.K0))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const Pn=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let gt=(()=>{class Ee extends it{constructor($){super($)}supports($){return null!=Ee.parseEventName($)}addEventListener($,Z,ce){const Ie=Ee.parseEventName(Z),ye=Ee.eventCallback(Ie.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel($,Ie.domEventName,ye))}static parseEventName($){const Z=$.toLowerCase().split("."),ce=Z.shift();if(0===Z.length||"keydown"!==ce&&"keyup"!==ce)return null;const Ie=Ee._normalizeKey(Z.pop());let ye="",Le=Z.indexOf("code");if(Le>-1&&(Z.splice(Le,1),ye="code."),Pn.forEach(Te=>{const rt=Z.indexOf(Te);rt>-1&&(Z.splice(rt,1),ye+=Te+".")}),ye+=Ie,0!=Z.length||0===Ie.length)return null;const pe={};return pe.domEventName=ce,pe.fullKey=ye,pe}static matchEventFullKeyCode($,Z){let ce=xt[$.key]||$.key,Ie="";return Z.indexOf("code.")>-1&&(ce=$.code,Ie="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),Pn.forEach(ye=>{ye!==ce&&(0,wt[ye])($)&&(Ie+=ye+".")}),Ie+=ce,Ie===Z)}static eventCallback($,Z,ce){return Ie=>{Ee.matchEventFullKeyCode(Ie,$)&&ce.runGuarded(()=>Z(Ie))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(l.K0))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const Jt=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:l.bD},{provide:x.g9A,useValue:function We(){g.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function At(){return(0,x.RDi)(document),document},deps:[]}]),vi=new x.OlP(""),yi=[{provide:x.rWj,useClass:class ke{addToWindow(ie){x.dqk.getAngularTestability=(Z,ce=!0)=>{const Ie=ie.findTestabilityInTree(Z,ce);if(null==Ie)throw new x.vHH(5103,!1);return Ie},x.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(Z=>{const ce=x.dqk.getAllAngularTestabilities();let Ie=ce.length,ye=!1;const Le=function(pe){ye=ye||pe,Ie--,0==Ie&&Z(ye)};ce.forEach(pe=>{pe.whenStable(Le)})})}findTestabilityInTree(ie,$,Z){return null==$?null:ie.getTestability($)??(Z?(0,l.q)().isShadowRoot($)?this.findTestabilityInTree(ie,$.host,!0):this.findTestabilityInTree(ie,$.parentElement,!0):null)}},deps:[]},{provide:x.lri,useClass:x.dDg,deps:[x.R0b,x.eoX,x.rWj]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b,x.eoX,x.rWj]}],Fi=[{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function ht(){return new x.qLn},deps:[]},{provide:lt,useClass:Hn,multi:!0,deps:[l.K0,x.R0b,x.Lbi]},{provide:lt,useClass:gt,multi:!0,deps:[l.K0]},zt,ut,Ze,{provide:x.FYo,useExisting:zt},{provide:l.JF,useClass:He,deps:[]},[]];let dt=(()=>{class Ee{constructor($){}static withServerTransition($){return{ngModule:Ee,providers:[{provide:x.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(vi,12))};static#t=this.\u0275mod=x.oAB({type:Ee});static#i=this.\u0275inj=x.cJS({providers:[...Fi,...yi],imports:[l.ez,x.hGG]})}return Ee})(),On=(()=>{class Ee{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(l.K0))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:function(Z){let ce=null;return ce=Z?new Z:function Yi(){return new On((0,x.LFG)(l.K0))}(),ce},providedIn:"root"})}return Ee})();typeof window<"u"&&window;let xi=(()=>{class Ee{static#e=this.\u0275fac=function(Z){return new(Z||Ee)};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:function(Z){let ce=null;return ce=Z?new(Z||Ee):x.LFG(Vt),ce},providedIn:"root"})}return Ee})(),Vt=(()=>{class Ee extends xi{constructor($){super(),this._doc=$}sanitize($,Z){if(null==Z)return null;switch($){case x.q3G.NONE:return Z;case x.q3G.HTML:return(0,x.qzn)(Z,"HTML")?(0,x.z3N)(Z):(0,x.EiD)(this._doc,String(Z)).toString();case x.q3G.STYLE:return(0,x.qzn)(Z,"Style")?(0,x.z3N)(Z):Z;case x.q3G.SCRIPT:if((0,x.qzn)(Z,"Script"))return(0,x.z3N)(Z);throw new x.vHH(5200,!1);case x.q3G.URL:return(0,x.qzn)(Z,"URL")?(0,x.z3N)(Z):(0,x.mCW)(String(Z));case x.q3G.RESOURCE_URL:if((0,x.qzn)(Z,"ResourceURL"))return(0,x.z3N)(Z);throw new x.vHH(5201,!1);default:throw new x.vHH(5202,!1)}}bypassSecurityTrustHtml($){return(0,x.JVY)($)}bypassSecurityTrustStyle($){return(0,x.L6k)($)}bypassSecurityTrustScript($){return(0,x.eBb)($)}bypassSecurityTrustUrl($){return(0,x.LAX)($)}bypassSecurityTrustResourceUrl($){return(0,x.pB0)($)}static#e=this.\u0275fac=function(Z){return new(Z||Ee)(x.LFG(l.K0))};static#t=this.\u0275prov=x.Yz7({token:Ee,factory:function(Z){let ce=null;return ce=Z?new Z:function an(Ee){return new Vt(Ee.get(l.K0))}(x.LFG(x.zs3)),ce},providedIn:"root"})}return Ee})()},8184:(bi,vt,H)=>{"use strict";H.d(vt,{gz:()=>as,F0:()=>un,rH:()=>Qr,Od:()=>Cc,Bz:()=>eo,lC:()=>Wo});var x=H(5879),l=H(5592),me=H(4674),Ue=H(7715),ae=H(2096),Ke=H(5619),ot=H(2572),ke=H(6973),He=H(5211),lt=H(4911),Ze=H(8407),it=H(8504),nt=H(6232),ut=H(7394),Et=H(9360),Ut=H(8251);function ei(){return(0,Et.e)((E,I)=>{let T=null;E._refCount++;const k=(0,Ut.x)(I,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(T=null);const z=E._connection,j=T;T=null,z&&(!j||z===j)&&z.unsubscribe(),I.unsubscribe()});E.subscribe(k),k.closed||(T=E.connect())})}class Ti extends l.y{constructor(I,T){super(),this.source=I,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Et.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new ut.w0;const T=this.getSubject();I.add(this.source.subscribe((0,Ut.x)(T,void 0,()=>{this._teardown(),T.complete()},k=>{this._teardown(),T.error(k)},()=>this._teardown()))),I.closed&&(this._connection=null,I=ut.w0.EMPTY)}return I}refCount(){return ei()(this)}}var ni=H(8645),Fe=H(6814),Je=H(7398),$e=H(4664),Nt=H(8180),Pt=H(7921),zt=H(2181),fi=H(1631),_i=H(1374),Li=H(6328),Hi=H(9397),Dn=H(6306);var Hn=H(3572);function Pn(E){return E<=0?()=>nt.E:(0,Et.e)((I,T)=>{let k=[];I.subscribe((0,Ut.x)(T,z=>{k.push(z),E<k.length&&k.shift()},()=>{for(const z of k)T.next(z);T.complete()},void 0,()=>{k=null}))})}var xt=H(3026),wt=H(2737),Bt=H(975),Mt=H(4716),at=H(9773),kt=H(7537),We=H(6593);const ht="primary",At=Symbol("RouteTitle");class ai{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T[0]:T}return null}getAll(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Jt(E){return new ai(E)}function vi(E,I,T){const k=T.path.split("/");if(k.length>E.length||"full"===T.pathMatch&&(I.hasChildren()||k.length<E.length))return null;const z={};for(let j=0;j<k.length;j++){const re=k[j],Se=E[j];if(re.startsWith(":"))z[re.substring(1)]=Se;else if(re!==Se.path)return null}return{consumed:E.slice(0,k.length),posParams:z}}function Fi(E,I){const T=E?Object.keys(E):void 0,k=I?Object.keys(I):void 0;if(!T||!k||T.length!=k.length)return!1;let z;for(let j=0;j<T.length;j++)if(z=T[j],!dt(E[z],I[z]))return!1;return!0}function dt(E,I){if(Array.isArray(E)&&Array.isArray(I)){if(E.length!==I.length)return!1;const T=[...E].sort(),k=[...I].sort();return T.every((z,j)=>k[j]===z)}return E===I}function $t(E){return E.length>0?E[E.length-1]:null}function Kt(E){return function g(E){return!!E&&(E instanceof l.y||(0,me.m)(E.lift)&&(0,me.m)(E.subscribe))}(E)?E:(0,x.QGY)(E)?(0,Ue.D)(Promise.resolve(E)):(0,ae.of)(E)}const _t={exact:function zi(E,I,T){if(!Ht(E.segments,I.segments)||!Pe(E.segments,I.segments,T)||E.numberOfChildren!==I.numberOfChildren)return!1;for(const k in I.children)if(!E.children[k]||!zi(E.children[k],I.children[k],T))return!1;return!0},subset:xe},Yi={exact:function Wi(E,I){return Fi(E,I)},subset:function Tt(E,I){return Object.keys(I).length<=Object.keys(E).length&&Object.keys(I).every(T=>dt(E[T],I[T]))},ignored:()=>!0};function On(E,I,T){return _t[T.paths](E.root,I.root,T.matrixParams)&&Yi[T.queryParams](E.queryParams,I.queryParams)&&!("exact"===T.fragment&&E.fragment!==I.fragment)}function xe(E,I,T){return Re(E,I,I.segments,T)}function Re(E,I,T,k){if(E.segments.length>T.length){const z=E.segments.slice(0,T.length);return!(!Ht(z,T)||I.hasChildren()||!Pe(z,T,k))}if(E.segments.length===T.length){if(!Ht(E.segments,T)||!Pe(E.segments,T,k))return!1;for(const z in I.children)if(!E.children[z]||!xe(E.children[z],I.children[z],k))return!1;return!0}{const z=T.slice(0,E.segments.length),j=T.slice(E.segments.length);return!!(Ht(E.segments,z)&&Pe(E.segments,z,k)&&E.children[ht])&&Re(E.children[ht],I,j,k)}}function Pe(E,I,T){return I.every((k,z)=>Yi[T](E[z].parameters,k.parameters))}class Ye{constructor(I=new be([],{}),T={},k=null){this.root=I,this.queryParams=T,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class be{constructor(I,T){this.segments=I,this.children=T,this.parent=null,Object.values(T).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mi(this)}}class qe{constructor(I,T){this.path=I,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Jt(this.parameters)),this._parameterMap}toString(){return se(this)}}function Ht(E,I){return E.length===I.length&&E.every((T,k)=>T.path===I[k].path)}let Ei=(()=>{class E{static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:function(){return new gi},providedIn:"root"})}return E})();class gi{parse(I){const T=new Le(I);return new Ye(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(I){const T=`/${xi(I.root,!0)}`,k=function Ae(E){const I=Object.keys(E).map(T=>{const k=E[T];return Array.isArray(k)?k.map(z=>`${Vt(T)}=${Vt(z)}`).join("&"):`${Vt(T)}=${Vt(k)}`}).filter(T=>!!T);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${T}${k}${"string"==typeof I.fragment?`#${function ci(E){return encodeURI(E)}(I.fragment)}`:""}`}}const Gt=new gi;function Mi(E){return E.segments.map(I=>se(I)).join("/")}function xi(E,I){if(!E.hasChildren())return Mi(E);if(I){const T=E.children[ht]?xi(E.children[ht],!1):"",k=[];return Object.entries(E.children).forEach(([z,j])=>{z!==ht&&k.push(`${z}:${xi(j,!1)}`)}),k.length>0?`${T}(${k.join("//")})`:T}{const T=function ri(E,I){let T=[];return Object.entries(E.children).forEach(([k,z])=>{k===ht&&(T=T.concat(I(z,k)))}),Object.entries(E.children).forEach(([k,z])=>{k!==ht&&(T=T.concat(I(z,k)))}),T}(E,(k,z)=>z===ht?[xi(E.children[ht],!1)]:[`${z}:${xi(k,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[ht]?`${Mi(E)}/${T[0]}`:`${Mi(E)}/(${T.join("//")})`}}function an(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(E){return an(E).replace(/%3B/gi,";")}function Ft(E){return an(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(E){return decodeURIComponent(E)}function K(E){return ve(E.replace(/\+/g,"%20"))}function se(E){return`${Ft(E.path)}${function Ce(E){return Object.keys(E).map(I=>`;${Ft(I)}=${Ft(E[I])}`).join("")}(E.parameters)}`}const ze=/^[^\/()?;#]+/;function Ee(E){const I=E.match(ze);return I?I[0]:""}const ie=/^[^\/()?;=#]+/,Z=/^[^=?&#]+/,Ie=/^[^&#]+/;class Le{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(I.length>0||Object.keys(T).length>0)&&(k[ht]=new be(I,T)),k}parseSegment(){const I=Ee(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new x.vHH(4009,!1);return this.capture(I),new qe(ve(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const T=function $(E){const I=E.match(ie);return I?I[0]:""}(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const z=Ee(this.remaining);z&&(k=z,this.capture(k))}I[ve(T)]=ve(k)}parseQueryParam(I){const T=function ce(E){const I=E.match(Z);return I?I[0]:""}(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const re=function ye(E){const I=E.match(Ie);return I?I[0]:""}(this.remaining);re&&(k=re,this.capture(k))}const z=K(T),j=K(k);if(I.hasOwnProperty(z)){let re=I[z];Array.isArray(re)||(re=[re],I[z]=re),re.push(j)}else I[z]=j}parseParens(I){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Ee(this.remaining),z=this.remaining[k.length];if("/"!==z&&")"!==z&&";"!==z)throw new x.vHH(4010,!1);let j;k.indexOf(":")>-1?(j=k.slice(0,k.indexOf(":")),this.capture(j),this.capture(":")):I&&(j=ht);const re=this.parseChildren();T[j]=1===Object.keys(re).length?re[ht]:new be([],re),this.consumeOptional("//")}return T}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new x.vHH(4011,!1)}}function pe(E){return E.segments.length>0?new be([],{[ht]:E}):E}function Te(E){const I={};for(const k of Object.keys(E.children)){const j=Te(E.children[k]);if(k===ht&&0===j.segments.length&&j.hasChildren())for(const[re,Se]of Object.entries(j.children))I[re]=Se;else(j.segments.length>0||j.hasChildren())&&(I[k]=j)}return function rt(E){if(1===E.numberOfChildren&&E.children[ht]){const I=E.children[ht];return new be(E.segments.concat(I.segments),I.children)}return E}(new be(E.segments,I))}function Ct(E){return E instanceof Ye}function Ne(E){let I;const z=pe(function T(j){const re={};for(const ue of j.children){const je=T(ue);re[ue.outlet]=je}const Se=new be(j.url,re);return j===E&&(I=Se),Se}(E.root));return I??z}function Qe(E,I,T,k){let z=E;for(;z.parent;)z=z.parent;if(0===I.length)return si(z,z,z,T,k);const j=function nn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Oi(!0,0,E);let I=0,T=!1;const k=E.reduce((z,j,re)=>{if("object"==typeof j&&null!=j){if(j.outlets){const Se={};return Object.entries(j.outlets).forEach(([ue,je])=>{Se[ue]="string"==typeof je?je.split("/"):je}),[...z,{outlets:Se}]}if(j.segmentPath)return[...z,j.segmentPath]}return"string"!=typeof j?[...z,j]:0===re?(j.split("/").forEach((Se,ue)=>{0==ue&&"."===Se||(0==ue&&""===Se?T=!0:".."===Se?I++:""!=Se&&z.push(Se))}),z):[...z,j]},[]);return new Oi(T,I,k)}(I);if(j.toRoot())return si(z,z,new be([],{}),T,k);const re=function xr(E,I,T){if(E.isAbsolute)return new gr(I,!0,0);if(!T)return new gr(I,!1,NaN);if(null===T.parent)return new gr(T,!0,0);const k=St(E.commands[0])?0:1;return function so(E,I,T){let k=E,z=I,j=T;for(;j>z;){if(j-=z,k=k.parent,!k)throw new x.vHH(4005,!1);z=k.segments.length}return new gr(k,!1,z-j)}(T,T.segments.length-1+k,E.numberOfDoubleDots)}(j,z,E),Se=re.processChildren?Ur(re.segmentGroup,re.index,j.commands):fn(re.segmentGroup,re.index,j.commands);return si(z,re.segmentGroup,Se,T,k)}function St(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Qt(E){return"object"==typeof E&&null!=E&&E.outlets}function si(E,I,T,k,z){let re,j={};k&&Object.entries(k).forEach(([ue,je])=>{j[ue]=Array.isArray(je)?je.map(mt=>`${mt}`):`${je}`}),re=E===I?T:oi(E,I,T);const Se=pe(Te(re));return new Ye(Se,j,z)}function oi(E,I,T){const k={};return Object.entries(E.children).forEach(([z,j])=>{k[z]=j===I?T:oi(j,I,T)}),new be(E.segments,k)}class Oi{constructor(I,T,k){if(this.isAbsolute=I,this.numberOfDoubleDots=T,this.commands=k,I&&k.length>0&&St(k[0]))throw new x.vHH(4003,!1);const z=k.find(Qt);if(z&&z!==$t(k))throw new x.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gr{constructor(I,T,k){this.segmentGroup=I,this.processChildren=T,this.index=k}}function fn(E,I,T){if(E||(E=new be([],{})),0===E.segments.length&&E.hasChildren())return Ur(E,I,T);const k=function Rn(E,I,T){let k=0,z=I;const j={match:!1,pathIndex:0,commandIndex:0};for(;z<E.segments.length;){if(k>=T.length)return j;const re=E.segments[z],Se=T[k];if(Qt(Se))break;const ue=`${Se}`,je=k<T.length-1?T[k+1]:null;if(z>0&&void 0===ue)break;if(ue&&je&&"object"==typeof je&&void 0===je.outlets){if(!Mn(ue,je,re))return j;k+=2}else{if(!Mn(ue,{},re))return j;k++}z++}return{match:!0,pathIndex:z,commandIndex:k}}(E,I,T),z=T.slice(k.commandIndex);if(k.match&&k.pathIndex<E.segments.length){const j=new be(E.segments.slice(0,k.pathIndex),{});return j.children[ht]=new be(E.segments.slice(k.pathIndex),E.children),Ur(j,0,z)}return k.match&&0===z.length?new be(E.segments,{}):k.match&&!E.hasChildren()?_n(E,I,T):k.match?Ur(E,0,z):_n(E,I,T)}function Ur(E,I,T){if(0===T.length)return new be(E.segments,{});{const k=function _r(E){return Qt(E[0])?E[0].outlets:{[ht]:E}}(T),z={};if(Object.keys(k).some(j=>j!==ht)&&E.children[ht]&&1===E.numberOfChildren&&0===E.children[ht].segments.length){const j=Ur(E.children[ht],I,T);return new be(E.segments,j.children)}return Object.entries(k).forEach(([j,re])=>{"string"==typeof re&&(re=[re]),null!==re&&(z[j]=fn(E.children[j],I,re))}),Object.entries(E.children).forEach(([j,re])=>{void 0===k[j]&&(z[j]=re)}),new be(E.segments,z)}}function _n(E,I,T){const k=E.segments.slice(0,I);let z=0;for(;z<T.length;){const j=T[z];if(Qt(j)){const ue=hr(j.outlets);return new be(k,ue)}if(0===z&&St(T[0])){k.push(new qe(E.segments[I].path,Ts(T[0]))),z++;continue}const re=Qt(j)?j.outlets[ht]:`${j}`,Se=z<T.length-1?T[z+1]:null;re&&Se&&St(Se)?(k.push(new qe(re,Ts(Se))),z+=2):(k.push(new qe(re,{})),z++)}return new be(k,{})}function hr(E){const I={};return Object.entries(E).forEach(([T,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(I[T]=_n(new be([],{}),0,k))}),I}function Ts(E){const I={};return Object.entries(E).forEach(([T,k])=>I[T]=`${k}`),I}function Mn(E,I,T){return E==T.path&&Fi(I,T.parameters)}const Jn="imperative";class Tr{constructor(I,T){this.id=I,this.url=T}}class ao extends Tr{constructor(I,T,k="imperative",z=null){super(I,T),this.type=0,this.navigationTrigger=k,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends Tr{constructor(I,T,k){super(I,T),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lo extends Tr{constructor(I,T,k,z){super(I,T),this.reason=k,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dr extends Tr{constructor(I,T,k,z){super(I,T),this.reason=k,this.code=z,this.type=16}}class vn extends Tr{constructor(I,T,k,z){super(I,T),this.error=k,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class To extends Tr{constructor(I,T,k,z){super(I,T),this.urlAfterRedirects=k,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo extends Tr{constructor(I,T,k,z){super(I,T),this.urlAfterRedirects=k,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El extends Tr{constructor(I,T,k,z,j){super(I,T),this.urlAfterRedirects=k,this.state=z,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ta extends Tr{constructor(I,T,k,z){super(I,T),this.urlAfterRedirects=k,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dl extends Tr{constructor(I,T,k,z){super(I,T),this.urlAfterRedirects=k,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ml{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ia{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class na{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(I,T,k){this.routerEvent=I,this.position=T,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Za{}class Gs{constructor(I){this.url=I}}class Tl{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zs,this.attachRef=null}}let Zs=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(T,k){const z=this.getOrCreateContext(T);z.outlet=k,this.contexts.set(T,z)}onChildOutletDestroyed(T){const k=this.getContext(T);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let k=this.getContext(T);return k||(k=new Tl,this.contexts.set(T,k)),k}getContext(T){return this.contexts.get(T)||null}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class Ra{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const T=this.pathFromRoot(I);return T.length>1?T[T.length-2]:null}children(I){const T=Fa(I,this._root);return T?T.children.map(k=>k.value):[]}firstChild(I){const T=Fa(I,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(I){const T=Sn(I,this._root);return T.length<2?[]:T[T.length-2].children.map(z=>z.value).filter(z=>z!==I)}pathFromRoot(I){return Sn(I,this._root).map(T=>T.value)}}function Fa(E,I){if(E===I.value)return I;for(const T of I.children){const k=Fa(E,T);if(k)return k}return null}function Sn(E,I){if(E===I.value)return[I];for(const T of I.children){const k=Sn(E,T);if(k.length)return k.unshift(I),k}return[]}class nr{constructor(I,T){this.value=I,this.children=T}toString(){return`TreeNode(${this.value})`}}function yr(E){const I={};return E&&E.children.forEach(T=>I[T.value.outlet]=T),I}class os extends Ra{constructor(I,T){super(I),this.snapshot=T,Ai(this,I)}toString(){return this.snapshot.toString()}}function Io(E,I){const T=function ss(E,I){const re=new Is([],{},{},"",{},ht,I,null,{});return new Qn("",new nr(re,[]))}(0,I),k=new Ke.X([new qe("",{})]),z=new Ke.X({}),j=new Ke.X({}),re=new Ke.X({}),Se=new Ke.X(""),ue=new as(k,z,re,Se,j,ht,I,T.root);return ue.snapshot=T.root,new os(new nr(ue,[]),T)}class as{constructor(I,T,k,z,j,re,Se,ue){this.urlSubject=I,this.paramsSubject=T,this.queryParamsSubject=k,this.fragmentSubject=z,this.dataSubject=j,this.outlet=re,this.component=Se,this._futureSnapshot=ue,this.title=this.dataSubject?.pipe((0,Je.U)(je=>je[At]))??(0,ae.of)(void 0),this.url=I,this.params=T,this.queryParams=k,this.fragment=z,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(I=>Jt(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(I=>Jt(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wr(E,I="emptyOnly"){const T=E.pathFromRoot;let k=0;if("always"!==I)for(k=T.length-1;k>=1;){const z=T[k],j=T[k-1];if(z.routeConfig&&""===z.routeConfig.path)k--;else{if(j.component)break;k--}}return function Wa(E){return E.reduce((I,T)=>({params:{...I.params,...T.params},data:{...I.data,...T.data},resolve:{...T.data,...I.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(k))}class Is{get title(){return this.data?.[At]}constructor(I,T,k,z,j,re,Se,ue,je){this.url=I,this.params=T,this.queryParams=k,this.fragment=z,this.data=j,this.outlet=re,this.component=Se,this.routeConfig=ue,this._resolve=je}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends Ra{constructor(I,T){super(T),this.url=I,Ai(this,T)}toString(){return ln(this._root)}}function Ai(E,I){I.value._routerState=E,I.children.forEach(T=>Ai(E,T))}function ln(E){const I=E.children.length>0?` { ${E.children.map(ln).join(", ")} } `:"";return`${E.value}${I}`}function Xi(E){if(E.snapshot){const I=E.snapshot,T=E._futureSnapshot;E.snapshot=T,Fi(I.queryParams,T.queryParams)||E.queryParamsSubject.next(T.queryParams),I.fragment!==T.fragment&&E.fragmentSubject.next(T.fragment),Fi(I.params,T.params)||E.paramsSubject.next(T.params),function yi(E,I){if(E.length!==I.length)return!1;for(let T=0;T<E.length;++T)if(!Fi(E[T],I[T]))return!1;return!0}(I.url,T.url)||E.urlSubject.next(T.url),Fi(I.data,T.data)||E.dataSubject.next(T.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function wr(E,I){const T=Fi(E.params,I.params)&&function tt(E,I){return Ht(E,I)&&E.every((T,k)=>Fi(T.parameters,I[k].parameters))}(E.url,I.url);return T&&!(!E.parent!=!I.parent)&&(!E.parent||wr(E.parent,I.parent))}let Wo=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.attachEvents=new x.vpe,this.detachEvents=new x.vpe,this.parentContexts=(0,x.f3M)(Zs),this.location=(0,x.f3M)(x.s_b),this.changeDetector=(0,x.f3M)(x.sBO),this.environmentInjector=(0,x.f3M)(x.lqb),this.inputBinder=(0,x.f3M)(Nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:k,previousValue:z}=T.name;if(k)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,k){this.activated=T,this._activatedRoute=k,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,k){if(this.isActivated)throw new x.vHH(4013,!1);this._activatedRoute=T;const z=this.location,re=T.snapshot.component,Se=this.parentContexts.getOrCreateContext(this.name).children,ue=new Xn(T,Se,z.injector);this.activated=z.createComponent(re,{index:z.length,injector:ue,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275dir=x.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[x.TTD]})}return E})();class Xn{constructor(I,T,k){this.route=I,this.childContexts=T,this.parent=k}get(I,T){return I===as?this.route:I===Zs?this.childContexts:this.parent.get(I,T)}}const Nr=new x.OlP("");let vr=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:k}=T,z=(0,ot.a)([k.queryParams,k.params,k.data]).pipe((0,$e.w)(([j,re,Se],ue)=>(Se={...j,...re,...Se},0===ue?(0,ae.of)(Se):Promise.resolve(Se)))).subscribe(j=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(T);const re=(0,x.qFp)(k.component);if(re)for(const{templateName:Se}of re.inputs)T.activatedComponentRef.setInput(Se,j[Se]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,z)}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac})}return E})();function zo(E,I,T){if(T&&E.shouldReuseRoute(I.value,T.value.snapshot)){const k=T.value;k._futureSnapshot=I.value;const z=function mn(E,I,T){return I.children.map(k=>{for(const z of T.children)if(E.shouldReuseRoute(k.value,z.value.snapshot))return zo(E,k,z);return zo(E,k)})}(E,I,T);return new nr(k,z)}{if(E.shouldAttach(I.value)){const j=E.retrieve(I.value);if(null!==j){const re=j.route;return re.value._futureSnapshot=I.value,re.children=I.children.map(Se=>zo(E,Se)),re}}const k=function As(E){return new as(new Ke.X(E.url),new Ke.X(E.params),new Ke.X(E.queryParams),new Ke.X(E.fragment),new Ke.X(E.data),E.outlet,E.component,E)}(I.value),z=I.children.map(j=>zo(E,j));return new nr(k,z)}}const Kr="ngNavigationCancelingError";function qo(E,I){const{redirectTo:T,navigationBehaviorOptions:k}=Ct(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,z=rr(!1,0,I);return z.url=T,z.navigationBehaviorOptions=k,z}function rr(E,I,T){const k=new Error("NavigationCancelingError: "+(E||""));return k[Kr]=!0,k.cancellationCode=I,T&&(k.url=T),k}function ra(E){return E&&E[Kr]}let Bo=(()=>{class E{static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275cmp=x.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[x.jDz],decls:1,vars:0,template:function(k,z){1&k&&x._UZ(0,"router-outlet")},dependencies:[Wo],encapsulation:2})}return E})();function Ko(E){const I=E.children&&E.children.map(Ko),T=I?{...E,children:I}:{...E};return!T.component&&!T.loadComponent&&(I||T.loadChildren)&&T.outlet&&T.outlet!==ht&&(T.component=Bo),T}function mr(E){return E.outlet||ht}function cs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let I=E.parent;I;I=I.parent){const T=I.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class oa{constructor(I,T,k,z,j){this.routeReuseStrategy=I,this.futureState=T,this.currState=k,this.forwardEvent=z,this.inputBindingEnabled=j}activate(I){const T=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,k,I),Xi(this.futureState.root),this.activateChildRoutes(T,k,I)}deactivateChildRoutes(I,T,k){const z=yr(T);I.children.forEach(j=>{const re=j.value.outlet;this.deactivateRoutes(j,z[re],k),delete z[re]}),Object.values(z).forEach(j=>{this.deactivateRouteAndItsChildren(j,k)})}deactivateRoutes(I,T,k){const z=I.value,j=T?T.value:null;if(z===j)if(z.component){const re=k.getContext(z.outlet);re&&this.deactivateChildRoutes(I,T,re.children)}else this.deactivateChildRoutes(I,T,k);else j&&this.deactivateRouteAndItsChildren(T,k)}deactivateRouteAndItsChildren(I,T){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,T):this.deactivateRouteAndOutlet(I,T)}detachAndStoreRouteSubtree(I,T){const k=T.getContext(I.value.outlet),z=k&&I.value.component?k.children:T,j=yr(I);for(const re of Object.keys(j))this.deactivateRouteAndItsChildren(j[re],z);if(k&&k.outlet){const re=k.outlet.detach(),Se=k.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:re,route:I,contexts:Se})}}deactivateRouteAndOutlet(I,T){const k=T.getContext(I.value.outlet),z=k&&I.value.component?k.children:T,j=yr(I);for(const re of Object.keys(j))this.deactivateRouteAndItsChildren(j[re],z);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(I,T,k){const z=yr(T);I.children.forEach(j=>{this.activateRoutes(j,z[j.value.outlet],k),this.forwardEvent(new $s(j.value.snapshot))}),I.children.length&&this.forwardEvent(new Hs(I.value.snapshot))}activateRoutes(I,T,k){const z=I.value,j=T?T.value:null;if(Xi(z),z===j)if(z.component){const re=k.getOrCreateContext(z.outlet);this.activateChildRoutes(I,T,re.children)}else this.activateChildRoutes(I,T,k);else if(z.component){const re=k.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Se=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),re.children.onOutletReAttached(Se.contexts),re.attachRef=Se.componentRef,re.route=Se.route.value,re.outlet&&re.outlet.attach(Se.componentRef,Se.route.value),Xi(Se.route.value),this.activateChildRoutes(I,null,re.children)}else{const Se=cs(z.snapshot);re.attachRef=null,re.route=z,re.injector=Se,re.outlet&&re.outlet.activateWith(z,re.injector),this.activateChildRoutes(I,null,re.children)}}else this.activateChildRoutes(I,null,k)}}class co{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Cr{constructor(I,T){this.component=I,this.route=T}}function ws(E,I,T){const k=E._root;return $i(k,I?I._root:null,T,[k.value])}function Cs(E,I){const T=Symbol(),k=I.get(E,T);return k===T?"function"!=typeof E||(0,x.Z0I)(E)?I.get(E):E:k}function $i(E,I,T,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const j=yr(I);return E.children.forEach(re=>{(function cn(E,I,T,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const j=E.value,re=I?I.value:null,Se=T?T.getContext(E.value.outlet):null;if(re&&j.routeConfig===re.routeConfig){const ue=function kn(E,I,T){if("function"==typeof T)return T(E,I);switch(T){case"pathParamsChange":return!Ht(E.url,I.url);case"pathParamsOrQueryParamsChange":return!Ht(E.url,I.url)||!Fi(E.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wr(E,I)||!Fi(E.queryParams,I.queryParams);default:return!wr(E,I)}}(re,j,j.routeConfig.runGuardsAndResolvers);ue?z.canActivateChecks.push(new co(k)):(j.data=re.data,j._resolvedData=re._resolvedData),$i(E,I,j.component?Se?Se.children:null:T,k,z),ue&&Se&&Se.outlet&&Se.outlet.isActivated&&z.canDeactivateChecks.push(new Cr(Se.outlet.component,re))}else re&&aa(I,Se,z),z.canActivateChecks.push(new co(k)),$i(E,null,j.component?Se?Se.children:null:T,k,z)})(re,j[re.value.outlet],T,k.concat([re.value]),z),delete j[re.value.outlet]}),Object.entries(j).forEach(([re,Se])=>aa(Se,T.getContext(re),z)),z}function aa(E,I,T){const k=yr(E),z=E.value;Object.entries(k).forEach(([j,re])=>{aa(re,z.component?I?I.children.getContext(j):null:I,T)}),T.canDeactivateChecks.push(new Cr(z.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,z))}function er(E){return"function"==typeof E}function wn(E){return E instanceof ke.K||"EmptyError"===E?.name}const Xo=Symbol("INITIAL_VALUE");function ds(){return(0,$e.w)(E=>(0,ot.a)(E.map(I=>I.pipe((0,Nt.q)(1),(0,Pt.O)(Xo)))).pipe((0,Je.U)(I=>{for(const T of I)if(!0!==T){if(T===Xo)return Xo;if(!1===T||T instanceof Ye)return T}return!0}),(0,zt.h)(I=>I!==Xo),(0,Nt.q)(1)))}function fr(E){return(0,Ze.z)((0,Hi.b)(I=>{if(Ct(I))throw qo(0,I)}),(0,Je.U)(I=>!0===I))}class ur{constructor(I){this.segmentGroup=I||null}}class uo{constructor(I){this.urlTree=I}}function xo(E){return(0,it._)(new ur(E))}function zn(E){return(0,it._)(new uo(E))}class ll{constructor(I,T){this.urlSerializer=I,this.urlTree=T}noMatchError(I){return new x.vHH(4002,!1)}lineralizeSegments(I,T){let k=[],z=T.root;for(;;){if(k=k.concat(z.segments),0===z.numberOfChildren)return(0,ae.of)(k);if(z.numberOfChildren>1||!z.children[ht])return(0,it._)(new x.vHH(4e3,!1));z=z.children[ht]}}applyRedirectCommands(I,T,k){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),I,k)}applyRedirectCreateUrlTree(I,T,k,z){const j=this.createSegmentGroup(I,T.root,k,z);return new Ye(j,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(I,T){const k={};return Object.entries(I).forEach(([z,j])=>{if("string"==typeof j&&j.startsWith(":")){const Se=j.substring(1);k[z]=T[Se]}else k[z]=j}),k}createSegmentGroup(I,T,k,z){const j=this.createSegments(I,T.segments,k,z);let re={};return Object.entries(T.children).forEach(([Se,ue])=>{re[Se]=this.createSegmentGroup(I,ue,k,z)}),new be(j,re)}createSegments(I,T,k,z){return T.map(j=>j.path.startsWith(":")?this.findPosParam(I,j,z):this.findOrReturn(j,k))}findPosParam(I,T,k){const z=k[T.path.substring(1)];if(!z)throw new x.vHH(4001,!1);return z}findOrReturn(I,T){let k=0;for(const z of T){if(z.path===I.path)return T.splice(k),z;k++}return I}}const wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ir(E,I,T,k,z){const j=Jr(E,I,T);return j.matched?(k=function Yo(E,I){return E.providers&&!E._injector&&(E._injector=(0,x.MMx)(E.providers,I,`Route: ${E.path}`)),E._injector??I}(I,k),function Vo(E,I,T,k){const z=I.canMatch;if(!z||0===z.length)return(0,ae.of)(!0);const j=z.map(re=>{const Se=Cs(re,E);return Kt(function De(E){return E&&er(E.canMatch)}(Se)?Se.canMatch(I,T):E.runInContext(()=>Se(I,T)))});return(0,ae.of)(j).pipe(ds(),fr())}(k,I,T).pipe((0,Je.U)(re=>!0===re?j:{...wa}))):(0,ae.of)(j)}function Jr(E,I,T){if(""===I.path)return"full"===I.pathMatch&&(E.hasChildren()||T.length>0)?{...wa}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const z=(I.matcher||vi)(T,E,I);if(!z)return{...wa};const j={};Object.entries(z.posParams??{}).forEach(([Se,ue])=>{j[Se]=ue.path});const re=z.consumed.length>0?{...j,...z.consumed[z.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:z.consumed,remainingSegments:T.slice(z.consumed.length),parameters:re,positionalParamSegments:z.posParams??{}}}function Ar(E,I,T,k){return T.length>0&&function zr(E,I,T){return T.some(k=>Ca(E,I,k)&&mr(k)!==ht)}(E,T,k)?{segmentGroup:new be(I,ks(k,new be(T,E.children))),slicedSegments:[]}:0===T.length&&function cl(E,I,T){return T.some(k=>Ca(E,I,k))}(E,T,k)?{segmentGroup:new be(E.segments,Ya(E,0,T,k,E.children)),slicedSegments:T}:{segmentGroup:new be(E.segments,E.children),slicedSegments:T}}function Ya(E,I,T,k,z){const j={};for(const re of k)if(Ca(E,T,re)&&!z[mr(re)]){const Se=new be([],{});j[mr(re)]=Se}return{...z,...j}}function ks(E,I){const T={};T[ht]=I;for(const k of E)if(""===k.path&&mr(k)!==ht){const z=new be([],{});T[mr(k)]=z}return T}function Ca(E,I,T){return(!(E.hasChildren()||I.length>0)||"full"!==T.pathMatch)&&""===T.path}class Ea{constructor(I,T,k,z,j,re,Se){this.injector=I,this.configLoader=T,this.rootComponentType=k,this.config=z,this.urlTree=j,this.paramsInheritanceStrategy=re,this.urlSerializer=Se,this.allowRedirects=!0,this.applyRedirects=new ll(this.urlSerializer,this.urlTree)}noMatchError(I){return new x.vHH(4002,!1)}recognize(){const I=Ar(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,ht).pipe((0,Dn.K)(T=>{if(T instanceof uo)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof ur?this.noMatchError(T):T}),(0,Je.U)(T=>{const k=new Is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),z=new nr(k,T),j=new Qn("",z),re=function Ve(E,I,T=null,k=null){return Qe(Ne(E),I,T,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return re.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(re),this.inheritParamsAndData(j._root),{state:j,tree:re}}))}match(I){return this.processSegmentGroup(this.injector,this.config,I.root,ht).pipe((0,Dn.K)(k=>{throw k instanceof ur?this.noMatchError(k):k}))}inheritParamsAndData(I){const T=I.value,k=Wr(T,this.paramsInheritanceStrategy);T.params=Object.freeze(k.params),T.data=Object.freeze(k.data),I.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(I,T,k,z){return 0===k.segments.length&&k.hasChildren()?this.processChildren(I,T,k):this.processSegment(I,T,k,k.segments,z,!0)}processChildren(I,T,k){const z=[];for(const j of Object.keys(k.children))"primary"===j?z.unshift(j):z.push(j);return(0,Ue.D)(z).pipe((0,Li.b)(j=>{const re=k.children[j],Se=function xs(E,I){const T=E.filter(k=>mr(k)===I);return T.push(...E.filter(k=>mr(k)!==I)),T}(T,j);return this.processSegmentGroup(I,Se,re,j)}),function yn(E,I){return(0,Et.e)(function Kn(E,I,T,k,z){return(j,re)=>{let Se=T,ue=I,je=0;j.subscribe((0,Ut.x)(re,mt=>{const Dt=je++;ue=Se?E(ue,mt,Dt):(Se=!0,mt),k&&re.next(ue)},z&&(()=>{Se&&re.next(ue),re.complete()})))}}(E,I,arguments.length>=2,!0))}((j,re)=>(j.push(...re),j)),(0,Hn.d)(null),function gt(E,I){const T=arguments.length>=2;return k=>k.pipe(E?(0,zt.h)((z,j)=>E(z,j,k)):wt.y,Pn(1),T?(0,Hn.d)(I):(0,xt.T)(()=>new ke.K))}(),(0,fi.z)(j=>{if(null===j)return xo(k);const re=kl(j);return function dl(E){E.sort((I,T)=>I.value.outlet===ht?-1:T.value.outlet===ht?1:I.value.outlet.localeCompare(T.value.outlet))}(re),(0,ae.of)(re)}))}processSegment(I,T,k,z,j,re){return(0,Ue.D)(T).pipe((0,Li.b)(Se=>this.processSegmentAgainstRoute(Se._injector??I,T,Se,k,z,j,re).pipe((0,Dn.K)(ue=>{if(ue instanceof ur)return(0,ae.of)(null);throw ue}))),(0,_i.P)(Se=>!!Se),(0,Dn.K)(Se=>{if(wn(Se))return function mo(E,I,T){return 0===I.length&&!E.children[T]}(k,z,j)?(0,ae.of)([]):xo(k);throw Se}))}processSegmentAgainstRoute(I,T,k,z,j,re,Se){return function ho(E,I,T,k){return!!(mr(E)===k||k!==ht&&Ca(I,T,E))&&("**"===E.path||Jr(I,E,T).matched)}(k,z,j,re)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(I,z,k,j,re,Se):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,z,T,k,j,re):xo(z):xo(z)}expandSegmentAgainstRouteUsingRedirect(I,T,k,z,j,re){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,k,z,re):this.expandRegularSegmentAgainstRouteUsingRedirect(I,T,k,z,j,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,T,k,z){const j=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?zn(j):this.applyRedirects.lineralizeSegments(k,j).pipe((0,fi.z)(re=>{const Se=new be(re,{});return this.processSegment(I,T,Se,re,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,T,k,z,j,re){const{matched:Se,consumedSegments:ue,remainingSegments:je,positionalParamSegments:mt}=Jr(T,z,j);if(!Se)return xo(T);const Dt=this.applyRedirects.applyRedirectCommands(ue,z.redirectTo,mt);return z.redirectTo.startsWith("/")?zn(Dt):this.applyRedirects.lineralizeSegments(z,Dt).pipe((0,fi.z)(Rt=>this.processSegment(I,k,T,Rt.concat(je),re,!1)))}matchSegmentAgainstRoute(I,T,k,z,j,re){let Se;if("**"===k.path){const ue=z.length>0?$t(z).parameters:{},je=new Is(z,ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jl(k),mr(k),k.component??k._loadedComponent??null,k,Ol(k));Se=(0,ae.of)({snapshot:je,consumedSegments:[],remainingSegments:[]}),T.children={}}else Se=Ir(T,k,z,I).pipe((0,Je.U)(({matched:ue,consumedSegments:je,remainingSegments:mt,parameters:Dt})=>ue?{snapshot:new Is(je,Dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jl(k),mr(k),k.component??k._loadedComponent??null,k,Ol(k)),consumedSegments:je,remainingSegments:mt}:null));return Se.pipe((0,$e.w)(ue=>null===ue?xo(T):this.getChildConfig(I=k._injector??I,k,z).pipe((0,$e.w)(({routes:je})=>{const mt=k._loadedInjector??I,{snapshot:Dt,consumedSegments:Rt,remainingSegments:ii}=ue,{segmentGroup:qt,slicedSegments:ui}=Ar(T,Rt,ii,je);if(0===ui.length&&qt.hasChildren())return this.processChildren(mt,je,qt).pipe((0,Je.U)(hn=>null===hn?null:[new nr(Dt,hn)]));if(0===je.length&&0===ui.length)return(0,ae.of)([new nr(Dt,[])]);const Bi=mr(k)===j;return this.processSegment(mt,je,qt,ui,Bi?ht:j,!0).pipe((0,Je.U)(hn=>[new nr(Dt,hn)]))}))))}getChildConfig(I,T,k){return T.children?(0,ae.of)({routes:T.children,injector:I}):T.loadChildren?void 0!==T._loadedRoutes?(0,ae.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function ca(E,I,T,k){const z=I.canLoad;if(void 0===z||0===z.length)return(0,ae.of)(!0);const j=z.map(re=>{const Se=Cs(re,E);return Kt(function xa(E){return E&&er(E.canLoad)}(Se)?Se.canLoad(I,T):E.runInContext(()=>Se(I,T)))});return(0,ae.of)(j).pipe(ds(),fr())}(I,T,k).pipe((0,fi.z)(z=>z?this.configLoader.loadChildren(I,T).pipe((0,Hi.b)(j=>{T._loadedRoutes=j.routes,T._loadedInjector=j.injector})):function Uo(E){return(0,it._)(rr(!1,3))}())):(0,ae.of)({routes:[],injector:I})}}function po(E){const I=E.value.routeConfig;return I&&""===I.path}function kl(E){const I=[],T=new Set;for(const k of E){if(!po(k)){I.push(k);continue}const z=I.find(j=>k.value.routeConfig===j.value.routeConfig);void 0!==z?(z.children.push(...k.children),T.add(z)):I.push(k)}for(const k of T){const z=kl(k.children);I.push(new nr(k.value,z))}return I.filter(k=>!T.has(k))}function Jl(E){return E.data||{}}function Ol(E){return E.resolve||{}}function ec(E){return"string"==typeof E.title||null===E.title}function B(E){return(0,$e.w)(I=>{const T=E(I);return T?(0,Ue.D)(T).pipe((0,Je.U)(()=>I)):(0,ae.of)(I)})}const he=new x.OlP("ROUTES");let Y=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,x.f3M)(x.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ae.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const k=Kt(T.loadComponent()).pipe((0,Je.U)(Lt),(0,Hi.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=j}),(0,Mt.x)(()=>{this.componentLoaders.delete(T)})),z=new Ti(k,()=>new ni.x).pipe(ei());return this.componentLoaders.set(T,z),z}loadChildren(T,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,ae.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const j=function oe(E,I,T,k){return Kt(E.loadChildren()).pipe((0,Je.U)(Lt),(0,fi.z)(z=>z instanceof x.YKP||Array.isArray(z)?(0,ae.of)(z):(0,Ue.D)(I.compileModuleAsync(z))),(0,Je.U)(z=>{k&&k(E);let j,re,Se=!1;return Array.isArray(z)?(re=z,!0):(j=z.create(T).injector,re=j.get(he,[],{optional:!0,self:!0}).flat()),{routes:re.map(Ko),injector:j}}))}(k,this.compiler,T,this.onLoadEndListener).pipe((0,Mt.x)(()=>{this.childrenLoaders.delete(k)})),re=new Ti(j,()=>new ni.x).pipe(ei());return this.childrenLoaders.set(k,re),re}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Lt(E){return function Me(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Zt=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ni.x,this.transitionAbortSubject=new ni.x,this.configLoader=(0,x.f3M)(Y),this.environmentInjector=(0,x.f3M)(x.lqb),this.urlSerializer=(0,x.f3M)(Ei),this.rootContexts=(0,x.f3M)(Zs),this.inputBindingEnabled=null!==(0,x.f3M)(Nr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new ia(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Ml(z))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:k})}setupNavigations(T,k,z){return this.transitions=new Ke.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:T.urlHandlingStrategy.extract(k),urlAfterRedirects:T.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jn,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,zt.h)(j=>0!==j.id),(0,Je.U)(j=>({...j,extractedUrl:T.urlHandlingStrategy.extract(j.rawUrl)})),(0,$e.w)(j=>{this.currentTransition=j;let re=!1,Se=!1;return(0,ae.of)(j).pipe((0,Hi.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.rawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$e.w)(ue=>{const je=ue.currentBrowserUrl.toString(),mt=!T.navigated||ue.extractedUrl.toString()!==je||je!==ue.currentUrlTree.toString();if(!mt&&"reload"!==(ue.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const Rt="";return this.events.next(new dr(ue.id,this.urlSerializer.serialize(ue.rawUrl),Rt,0)),ue.resolve(null),nt.E}if(T.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return(0,ae.of)(ue).pipe((0,$e.w)(Rt=>{const ii=this.transitions?.getValue();return this.events.next(new ao(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),Rt.source,Rt.restoredState)),ii!==this.transitions?.getValue()?nt.E:Promise.resolve(Rt)}),function Ps(E,I,T,k,z,j){return(0,fi.z)(re=>function us(E,I,T,k,z,j,re="emptyOnly"){return new Ea(E,I,T,k,z,re,j).recognize()}(E,I,T,k,re.extractedUrl,z,j).pipe((0,Je.U)(({state:Se,tree:ue})=>({...re,targetSnapshot:Se,urlAfterRedirects:ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Hi.b)(Rt=>{j.targetSnapshot=Rt.targetSnapshot,j.urlAfterRedirects=Rt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rt.urlAfterRedirects};const ii=new To(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(ii)}));if(mt&&T.urlHandlingStrategy.shouldProcessUrl(ue.currentRawUrl)){const{id:Rt,extractedUrl:ii,source:qt,restoredState:ui,extras:Bi}=ue,hn=new ao(Rt,this.urlSerializer.serialize(ii),qt,ui);this.events.next(hn);const pi=Io(0,this.rootComponentType).snapshot;return this.currentTransition=j={...ue,targetSnapshot:pi,urlAfterRedirects:ii,extras:{...Bi,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(j)}{const Rt="";return this.events.next(new dr(ue.id,this.urlSerializer.serialize(ue.extractedUrl),Rt,1)),ue.resolve(null),nt.E}}),(0,Hi.b)(ue=>{const je=new lo(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot);this.events.next(je)}),(0,Je.U)(ue=>(this.currentTransition=j={...ue,guards:ws(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)},j)),function la(E,I){return(0,fi.z)(T=>{const{targetSnapshot:k,currentSnapshot:z,guards:{canActivateChecks:j,canDeactivateChecks:re}}=T;return 0===re.length&&0===j.length?(0,ae.of)({...T,guardsResult:!0}):function Xl(E,I,T,k){return(0,Ue.D)(E).pipe((0,fi.z)(z=>function al(E,I,T,k,z){const j=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ae.of)(!0);const re=j.map(Se=>{const ue=cs(I)??z,je=Cs(Se,ue);return Kt(function q(E){return E&&er(E.canDeactivate)}(je)?je.canDeactivate(E,I,T,k):ue.runInContext(()=>je(E,I,T,k))).pipe((0,_i.P)())});return(0,ae.of)(re).pipe(ds())}(z.component,z.route,T,I,k)),(0,_i.P)(z=>!0!==z,!0))}(re,k,z,E).pipe((0,fi.z)(Se=>Se&&function pr(E){return"boolean"==typeof E}(Se)?function Cd(E,I,T,k){return(0,Ue.D)(I).pipe((0,Li.b)(z=>(0,He.z)(function Ed(E,I){return null!==E&&I&&I(new na(E)),(0,ae.of)(!0)}(z.route.parent,k),function Al(E,I){return null!==E&&I&&I(new jr(E)),(0,ae.of)(!0)}(z.route,k),function Wc(E,I,T){const k=I[I.length-1],j=I.slice(0,I.length-1).reverse().map(re=>function sa(E){const I=E.routeConfig?E.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:E,guards:I}:null}(re)).filter(re=>null!==re).map(re=>(0,lt.P)(()=>{const Se=re.guards.map(ue=>{const je=cs(re.node)??T,mt=Cs(ue,je);return Kt(function le(E){return E&&er(E.canActivateChild)}(mt)?mt.canActivateChild(k,E):je.runInContext(()=>mt(k,E))).pipe((0,_i.P)())});return(0,ae.of)(Se).pipe(ds())}));return(0,ae.of)(j).pipe(ds())}(E,z.path,T),function ru(E,I,T){const k=I.routeConfig?I.routeConfig.canActivate:null;if(!k||0===k.length)return(0,ae.of)(!0);const z=k.map(j=>(0,lt.P)(()=>{const re=cs(I)??T,Se=Cs(j,re);return Kt(function ne(E){return E&&er(E.canActivate)}(Se)?Se.canActivate(I,E):re.runInContext(()=>Se(I,E))).pipe((0,_i.P)())}));return(0,ae.of)(z).pipe(ds())}(E,z.route,T))),(0,_i.P)(z=>!0!==z,!0))}(k,j,E,I):(0,ae.of)(Se)),(0,Je.U)(Se=>({...T,guardsResult:Se})))})}(this.environmentInjector,ue=>this.events.next(ue)),(0,Hi.b)(ue=>{if(j.guardsResult=ue.guardsResult,Ct(ue.guardsResult))throw qo(0,ue.guardsResult);const je=new El(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.events.next(je)}),(0,zt.h)(ue=>!!ue.guardsResult||(this.cancelNavigationTransition(ue,"",3),!1)),B(ue=>{if(ue.guards.canActivateChecks.length)return(0,ae.of)(ue).pipe((0,Hi.b)(je=>{const mt=new ta(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(mt)}),(0,$e.w)(je=>{let mt=!1;return(0,ae.of)(je).pipe(function Os(E,I){return(0,fi.z)(T=>{const{targetSnapshot:k,guards:{canActivateChecks:z}}=T;if(!z.length)return(0,ae.of)(T);let j=0;return(0,Ue.D)(z).pipe((0,Li.b)(re=>function wc(E,I,T,k){const z=E.routeConfig,j=E._resolve;return void 0!==z?.title&&!ec(z)&&(j[At]=z.title),function Rs(E,I,T,k){const z=function Ql(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===z.length)return(0,ae.of)({});const j={};return(0,Ue.D)(z).pipe((0,fi.z)(re=>function Fs(E,I,T,k){const z=cs(I)??k,j=Cs(E,z);return Kt(j.resolve?j.resolve(I,T):z.runInContext(()=>j(I,T)))}(E[re],I,T,k).pipe((0,_i.P)(),(0,Hi.b)(Se=>{j[re]=Se}))),Pn(1),(0,Bt.h)(j),(0,Dn.K)(re=>wn(re)?nt.E:(0,it._)(re)))}(j,E,I,k).pipe((0,Je.U)(re=>(E._resolvedData=re,E.data=Wr(E,T).resolve,z&&ec(z)&&(E.data[At]=z.title),null)))}(re.route,k,E,I)),(0,Hi.b)(()=>j++),Pn(1),(0,fi.z)(re=>j===z.length?(0,ae.of)(T):nt.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Hi.b)({next:()=>mt=!0,complete:()=>{mt||this.cancelNavigationTransition(je,"",2)}}))}),(0,Hi.b)(je=>{const mt=new Dl(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(mt)}))}),B(ue=>{const je=mt=>{const Dt=[];mt.routeConfig?.loadComponent&&!mt.routeConfig._loadedComponent&&Dt.push(this.configLoader.loadComponent(mt.routeConfig).pipe((0,Hi.b)(Rt=>{mt.component=Rt}),(0,Je.U)(()=>{})));for(const Rt of mt.children)Dt.push(...je(Rt));return Dt};return(0,ot.a)(je(ue.targetSnapshot.root)).pipe((0,Hn.d)(),(0,Nt.q)(1))}),B(()=>this.afterPreactivation()),(0,Je.U)(ue=>{const je=function No(E,I,T){const k=zo(E,I._root,T?T._root:void 0);return new os(k,I)}(T.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return this.currentTransition=j={...ue,targetRouterState:je},j}),(0,Hi.b)(()=>{this.events.next(new Za)}),((E,I,T,k)=>(0,Je.U)(z=>(new oa(I,z.targetRouterState,z.currentRouterState,T,k).activate(E),z)))(this.rootContexts,T.routeReuseStrategy,ue=>this.events.next(ue),this.inputBindingEnabled),(0,Nt.q)(1),(0,Hi.b)({next:ue=>{re=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(ue.id,this.urlSerializer.serialize(ue.extractedUrl),this.urlSerializer.serialize(ue.urlAfterRedirects))),T.titleStrategy?.updateTitle(ue.targetRouterState.snapshot),ue.resolve(!0)},complete:()=>{re=!0}}),(0,at.R)(this.transitionAbortSubject.pipe((0,Hi.b)(ue=>{throw ue}))),(0,Mt.x)(()=>{re||Se||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),(0,Dn.K)(ue=>{if(Se=!0,ra(ue))this.events.next(new Lo(j.id,this.urlSerializer.serialize(j.extractedUrl),ue.message,ue.cancellationCode)),function bo(E){return ra(E)&&Ct(E.url)}(ue)?this.events.next(new Gs(ue.url)):j.resolve(!1);else{this.events.next(new vn(j.id,this.urlSerializer.serialize(j.extractedUrl),ue,j.targetSnapshot??void 0));try{j.resolve(T.errorHandler(ue))}catch(je){j.reject(je)}}return nt.E}))}))}cancelNavigationTransition(T,k,z){const j=new Lo(T.id,this.urlSerializer.serialize(T.extractedUrl),k,z);this.events.next(j),T.resolve(!1)}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function ji(E){return E!==Jn}let lr=(()=>{class E{buildTitle(T){let k,z=T.root;for(;void 0!==z;)k=this.getResolvedTitleForRoute(z)??k,z=z.children.find(j=>j.outlet===ht);return k}getResolvedTitleForRoute(T){return T.data[At]}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:function(){return(0,x.f3M)(li)},providedIn:"root"})}return E})(),li=(()=>{class E extends lr{constructor(T){super(),this.title=T}updateTitle(T){const k=this.buildTitle(T);void 0!==k&&this.title.setTitle(k)}static#e=this.\u0275fac=function(k){return new(k||E)(x.LFG(We.Dx))};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),Bn=(()=>{class E{static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:function(){return(0,x.f3M)($r)},providedIn:"root"})}return E})();class In{shouldDetach(I){return!1}store(I,T){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,T){return I.routeConfig===T.routeConfig}}let $r=(()=>{class E extends In{static#e=this.\u0275fac=function(){let T;return function(z){return(T||(T=x.n5z(E)))(z||E)}}();static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const tr=new x.OlP("",{providedIn:"root",factory:()=>({})});let qr=(()=>{class E{static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:function(){return(0,x.f3M)(Es)},providedIn:"root"})}return E})(),Es=(()=>{class E{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,k){return T}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var jo=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(jo||{});function da(E,I){E.events.pipe((0,zt.h)(T=>T instanceof Ki||T instanceof Lo||T instanceof vn||T instanceof dr),(0,Je.U)(T=>T instanceof Ki||T instanceof dr?jo.COMPLETE:T instanceof Lo&&(0===T.code||1===T.code)?jo.REDIRECTING:jo.FAILED),(0,zt.h)(T=>T!==jo.REDIRECTING),(0,Nt.q)(1)).subscribe(()=>{I()})}function Jo(E){throw E}function fo(E,I,T){return I.parse("/")}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let un=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,x.f3M)(x.c2e),this.isNgZoneEnabled=!1,this._events=new ni.x,this.options=(0,x.f3M)(tr,{optional:!0})||{},this.pendingTasks=(0,x.f3M)(x.HDt),this.errorHandler=this.options.errorHandler||Jo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,x.f3M)(qr),this.routeReuseStrategy=(0,x.f3M)(Bn),this.titleStrategy=(0,x.f3M)(lr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,x.f3M)(he,{optional:!0})?.flat()??[],this.navigationTransitions=(0,x.f3M)(Zt),this.urlSerializer=(0,x.f3M)(Ei),this.location=(0,x.f3M)(Fe.Ye),this.componentInputBindingEnabled=!!(0,x.f3M)(Nr,{optional:!0}),this.eventsSubscription=new ut.w0,this.isNgZoneEnabled=(0,x.f3M)(x.R0b)instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ye,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Io(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:z}=this.navigationTransitions;if(null===z)return void(ul(k)&&this._events.next(k));if(k instanceof ao)ji(z.source)&&(this.browserUrlTree=z.extractedUrl);else if(k instanceof dr)this.rawUrlTree=z.rawUrl;else if(k instanceof To){if("eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(j,z)}this.browserUrlTree=z.urlAfterRedirects}}else if(k instanceof Za)this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects);else if(k instanceof Lo)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(z);else if(k instanceof Gs){const j=this.urlHandlingStrategy.merge(k.url,z.currentRawUrl),re={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ji(z.source)};this.scheduleNavigation(j,Jn,null,re,{resolve:z.resolve,reject:z.reject,promise:z.promise})}k instanceof vn&&this.restoreHistory(z,!0),k instanceof Ki&&(this.navigated=!0),ul(k)&&this._events.next(k)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jn,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const k="popstate"===T.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,k,T.state)},0)}))}navigateToSyncWithBrowser(T,k,z){const j={replaceUrl:!0},re=z?.navigationId?z:null;if(z){const ue={...z};delete ue.navigationId,delete ue.\u0275routerPageId,0!==Object.keys(ue).length&&(j.state=ue)}const Se=this.parseUrl(T);this.scheduleNavigation(Se,k,re,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Ko),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,k={}){const{relativeTo:z,queryParams:j,fragment:re,queryParamsHandling:Se,preserveFragment:ue}=k,je=ue?this.currentUrlTree.fragment:re;let Dt,mt=null;switch(Se){case"merge":mt={...this.currentUrlTree.queryParams,...j};break;case"preserve":mt=this.currentUrlTree.queryParams;break;default:mt=j||null}null!==mt&&(mt=this.removeEmptyProps(mt));try{Dt=Ne(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Dt=this.currentUrlTree.root}return Qe(Dt,T,mt,je??null)}navigateByUrl(T,k={skipLocationChange:!1}){const z=Ct(T)?T:this.parseUrl(T),j=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(j,Jn,null,k)}navigate(T,k={skipLocationChange:!1}){return function Ls(E){for(let I=0;I<E.length;I++)if(null==E[I])throw new x.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,k),k)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let k;try{k=this.urlSerializer.parse(T)}catch(z){k=this.malformedUriErrorHandler(z,this.urlSerializer,T)}return k}isActive(T,k){let z;if(z=!0===k?{...Ws}:!1===k?{...dn}:k,Ct(T))return On(this.currentUrlTree,T,z);const j=this.parseUrl(T);return On(this.currentUrlTree,j,z)}removeEmptyProps(T){return Object.keys(T).reduce((k,z)=>{const j=T[z];return null!=j&&(k[z]=j),k},{})}scheduleNavigation(T,k,z,j,re){if(this.disposed)return Promise.resolve(!1);let Se,ue,je;re?(Se=re.resolve,ue=re.reject,je=re.promise):je=new Promise((Dt,Rt)=>{Se=Dt,ue=Rt});const mt=this.pendingTasks.add();return da(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mt))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:j,resolve:Se,reject:ue,promise:je,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),je.catch(Dt=>Promise.reject(Dt))}setBrowserUrl(T,k){const z=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(z)||k.extras.replaceUrl){const re={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(z,"",re)}else{const j={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(z,"",j)}}restoreHistory(T,k=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,k){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:k}:{navigationId:T}}static#e=this.\u0275fac=function(k){return new(k||E)};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function ul(E){return!(E instanceof Za||E instanceof Gs)}let Qr=(()=>{class E{constructor(T,k,z,j,re,Se){this.router=T,this.route=k,this.tabIndexAttribute=z,this.renderer=j,this.el=re,this.locationStrategy=Se,this.href=null,this.commands=null,this.onChanges=new ni.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ue=re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ue||"area"===ue,this.isAnchorElement?this.subscription=T.events.subscribe(je=>{je instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,k,z,j,re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||k||z||j||re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,x.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,k){const z=this.renderer,j=this.el.nativeElement;null!==k?z.setAttribute(j,T,k):z.removeAttribute(j,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(k){return new(k||E)(x.Y36(un),x.Y36(as),x.$8M("tabindex"),x.Y36(x.Qsj),x.Y36(x.SBq),x.Y36(Fe.S$))};static#t=this.\u0275dir=x.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,z){1&k&&x.NdJ("click",function(re){return z.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&k&&x.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",x.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",x.VuI],replaceUrl:["replaceUrl","replaceUrl",x.VuI],routerLink:"routerLink"},standalone:!0,features:[x.Xq5,x.TTD]})}return E})(),Cc=(()=>{class E{get isActive(){return this._isActive}constructor(T,k,z,j,re){this.router=T,this.element=k,this.renderer=z,this.cdr=j,this.link=re,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new x.vpe,this.routerEventsSubscription=T.events.subscribe(Se=>{Se instanceof Ki&&this.update()})}ngAfterContentInit(){(0,ae.of)(this.links.changes,(0,ae.of)(null)).pipe((0,kt.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const T=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,Ue.D)(T).pipe((0,kt.J)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(T){const k=Array.isArray(T)?T:T.split(" ");this.classes=k.filter(z=>!!z)}ngOnChanges(T){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const T=this.hasActiveLinks();this._isActive!==T&&(this._isActive=T,this.cdr.markForCheck(),this.classes.forEach(k=>{T?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const k=function Ns(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&T.isActive(z.urlTree,k)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.links.some(T)}static#e=this.\u0275fac=function(k){return new(k||E)(x.Y36(un),x.Y36(x.SBq),x.Y36(x.Qsj),x.Y36(x.sBO),x.Y36(Qr,8))};static#t=this.\u0275dir=x.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(k,z,j){if(1&k&&x.Suo(j,Qr,5),2&k){let re;x.iGM(re=x.CRH())&&(z.links=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[x.TTD]})}return E})();class Na{}let Ec=(()=>{class E{constructor(T,k,z,j,re){this.router=T,this.injector=z,this.preloadingStrategy=j,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,zt.h)(T=>T instanceof Ki),(0,Li.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,k){const z=[];for(const j of k){j.providers&&!j._injector&&(j._injector=(0,x.MMx)(j.providers,T,`Route: ${j.path}`));const re=j._injector??T,Se=j._loadedInjector??re;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&z.push(this.preloadConfig(re,j)),(j.children||j._loadedRoutes)&&z.push(this.processRoutes(Se,j.children??j._loadedRoutes))}return(0,Ue.D)(z).pipe((0,kt.J)())}preloadConfig(T,k){return this.preloadingStrategy.preload(k,()=>{let z;z=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(T,k):(0,ae.of)(null);const j=z.pipe((0,fi.z)(re=>null===re?(0,ae.of)(void 0):(k._loadedRoutes=re.routes,k._loadedInjector=re.injector,this.processRoutes(re.injector??T,re.routes))));if(k.loadComponent&&!k._loadedComponent){const re=this.loader.loadComponent(k);return(0,Ue.D)([j,re]).pipe((0,kt.J)())}return j})}static#e=this.\u0275fac=function(k){return new(k||E)(x.LFG(un),x.LFG(x.Sil),x.LFG(x.lqb),x.LFG(Na),x.LFG(Y))};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const tc=new x.OlP("");let Ds=(()=>{class E{constructor(T,k,z,j,re={}){this.urlSerializer=T,this.transitions=k,this.viewportScroller=z,this.zone=j,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ao?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ki?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof dr&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Oa&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Oa(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){x.$Z()};static#t=this.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac})}return E})();function hs(E,I){return{\u0275kind:E,\u0275providers:I}}function Rl(){const E=(0,x.f3M)(x.zs3);return I=>{const T=E.get(x.z2F);if(I!==T.components[0])return;const k=E.get(un),z=E.get(Mc);1===E.get(qs)&&k.initialNavigation(),E.get(za,null,x.XFs.Optional)?.setUpPreloading(),E.get(tc,null,x.XFs.Optional)?.init(),k.resetRootComponentType(T.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Mc=new x.OlP("",{factory:()=>new ni.x}),qs=new x.OlP("",{providedIn:"root",factory:()=>1}),za=new x.OlP("");function ic(E){return hs(0,[{provide:za,useExisting:Ec},{provide:Na,useExisting:E}])}const Fn=new x.OlP("ROUTER_FORROOT_GUARD"),nc=[Fe.Ye,{provide:Ei,useClass:gi},un,Zs,{provide:as,useFactory:function qc(E){return E.routerState.root},deps:[un]},Y,[]];function rc(){return new x.PXZ("Router",un)}let eo=(()=>{class E{constructor(T){}static forRoot(T,k){return{ngModule:E,providers:[nc,[],{provide:he,multi:!0,useValue:T},{provide:Fn,useFactory:i,deps:[[un,new x.FiY,new x.tp0]]},{provide:tr,useValue:k||{}},k?.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:tc,useFactory:()=>{const E=(0,x.f3M)(Fe.EM),I=(0,x.f3M)(x.R0b),T=(0,x.f3M)(tr),k=(0,x.f3M)(Zt),z=(0,x.f3M)(Ei);return T.scrollOffset&&E.setOffset(T.scrollOffset),new Ds(z,k,E,I,T)}},k?.preloadingStrategy?ic(k.preloadingStrategy).\u0275providers:[],{provide:x.PXZ,multi:!0,useFactory:rc},k?.initialNavigation?d(k):[],k?.bindToComponentInputs?hs(8,[vr,{provide:Nr,useExisting:vr}]).\u0275providers:[],[{provide:f,useFactory:Rl},{provide:x.tb,multi:!0,useExisting:f}]]}}static forChild(T){return{ngModule:E,providers:[{provide:he,multi:!0,useValue:T}]}}static#e=this.\u0275fac=function(k){return new(k||E)(x.LFG(Fn,8))};static#t=this.\u0275mod=x.oAB({type:E});static#i=this.\u0275inj=x.cJS({})}return E})();function i(E){return"guarded"}function d(E){return["disabled"===E.initialNavigation?hs(3,[{provide:x.ip1,multi:!0,useFactory:()=>{const I=(0,x.f3M)(un);return()=>{I.setUpLocationChangeListener()}}},{provide:qs,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?hs(2,[{provide:qs,useValue:0},{provide:x.ip1,multi:!0,deps:[x.zs3],useFactory:I=>{const T=I.get(Fe.V_,Promise.resolve());return()=>T.then(()=>new Promise(k=>{const z=I.get(un),j=I.get(Mc);da(z,()=>{k(!0)}),I.get(Zt).afterPreactivation=()=>(k(!0),j.closed?(0,ae.of)(void 0):j),z.initialNavigation()}))}}]).\u0275providers:[]]}const f=new x.OlP("")},7582:(bi,vt,H)=>{"use strict";function Ze(xt,wt,gt,Bt){return new(gt||(gt=Promise))(function(at,kt){function We(ai){try{At(Bt.next(ai))}catch(Jt){kt(Jt)}}function ht(ai){try{At(Bt.throw(ai))}catch(Jt){kt(Jt)}}function At(ai){ai.done?at(ai.value):function Mt(at){return at instanceof gt?at:new gt(function(kt){kt(at)})}(ai.value).then(We,ht)}At((Bt=Bt.apply(xt,wt||[])).next())})}function Fe(xt){return this instanceof Fe?(this.v=xt,this):new Fe(xt)}function Je(xt,wt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt,Bt=gt.apply(xt,wt||[]),at=[];return Mt={},kt("next"),kt("throw"),kt("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt;function kt(vi){Bt[vi]&&(Mt[vi]=function(yi){return new Promise(function(Fi,dt){at.push([vi,yi,Fi,dt])>1||We(vi,yi)})})}function We(vi,yi){try{!function ht(vi){vi.value instanceof Fe?Promise.resolve(vi.value.v).then(At,ai):Jt(at[0][2],vi)}(Bt[vi](yi))}catch(Fi){Jt(at[0][3],Fi)}}function At(vi){We("next",vi)}function ai(vi){We("throw",vi)}function Jt(vi,yi){vi(yi),at.shift(),at.length&&We(at[0][0],at[0][1])}}function Nt(xt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,wt=xt[Symbol.asyncIterator];return wt?wt.call(xt):(xt=function Et(xt){var wt="function"==typeof Symbol&&Symbol.iterator,gt=wt&&xt[wt],Bt=0;if(gt)return gt.call(xt);if(xt&&"number"==typeof xt.length)return{next:function(){return xt&&Bt>=xt.length&&(xt=void 0),{value:xt&&xt[Bt++],done:!xt}}};throw new TypeError(wt?"Object is not iterable.":"Symbol.iterator is not defined.")}(xt),gt={},Bt("next"),Bt("throw"),Bt("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Bt(at){gt[at]=xt[at]&&function(kt){return new Promise(function(We,ht){!function Mt(at,kt,We,ht){Promise.resolve(ht).then(function(At){at({value:At,done:We})},kt)}(We,ht,(kt=xt[at](kt)).done,kt.value)})}}}H.d(vt,{FC:()=>Je,KL:()=>Nt,mG:()=>Ze,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},bi=>{bi(bi.s=4772)}]);