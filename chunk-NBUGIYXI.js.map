{
  "version": 3,
  "sources": ["projects/showcase/src/app/demo/examples/add-image-missing-generated.component.ts"],
  "sourcesContent": ["import { Component } from '@angular/core';\nimport {\n  MapComponent,\n  MapImageData,\n  ImageComponent,\n  LayerComponent,\n} from '@maplibre/ngx-maplibre-gl';\nimport { NgFor } from '@angular/common';\n\n@Component({\n  selector: 'showcase-demo',\n  template: `\n    <mgl-map\n      [style]=\"\n        'https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL'\n      \"\n      (styleImageMissing)=\"generateImage($event)\"\n      [preserveDrawingBuffer]=\"true\"\n    >\n      <mgl-image\n        *ngFor=\"let imageData of imagesData; trackBy: trackByImage\"\n        [id]=\"imageData.id\"\n        [data]=\"imageData\"\n      ></mgl-image>\n      <mgl-layer\n        id=\"points\"\n        type=\"symbol\"\n        [source]=\"{\n          type: 'geojson',\n          data: {\n            type: 'FeatureCollection',\n            features: [\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [0, 0]\n                },\n                properties: {\n                  color: '255,0,0'\n                }\n              },\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [50, 0]\n                },\n                properties: {\n                  color: '255,209,28'\n                }\n              },\n              {\n                type: 'Feature',\n                geometry: {\n                  type: 'Point',\n                  coordinates: [-50, 0]\n                },\n                properties: {\n                  color: '242,127,32'\n                }\n              }\n            ]\n          }\n        }\"\n        [layout]=\"{\n          'icon-image': ['concat', 'square-rgb-', ['get', 'color']]\n        }\"\n      >\n      </mgl-layer>\n    </mgl-map>\n  `,\n  styleUrls: ['./examples.css'],\n  standalone: true,\n  imports: [MapComponent, NgFor, ImageComponent, LayerComponent],\n})\nexport class AddImageMissingGeneratedComponent {\n  imagesData: (MapImageData & { id: string })[] = [];\n\n  generateImage({ id }: { id: string }) {\n    // check if this missing icon is one this function can generate\n    const prefix = 'square-rgb-';\n    if (id.indexOf(prefix) !== 0) {\n      return;\n    }\n\n    // extract the color from the id\n    const rgb = id.replace(prefix, '').split(',').map(Number);\n\n    const width = 64; // The image will be 64 pixels square\n    const bytesPerPixel = 4; // Each pixel is represented by 4 bytes: red, green, blue, and alpha.\n    const data = new Uint8Array(width * width * bytesPerPixel);\n\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < width; y++) {\n        const offset = (y * width + x) * bytesPerPixel;\n        data[offset + 0] = rgb[0]; // red\n        data[offset + 1] = rgb[1]; // green\n        data[offset + 2] = rgb[2]; // blue\n        data[offset + 3] = 255; // alpha\n      }\n    }\n    const imageData = {\n      id,\n      width,\n      height: width,\n      data,\n    };\n    this.imagesData = [...this.imagesData, imageData];\n  }\n\n  trackByImage(_idx: number, image: { id: string }) {\n    return image.id;\n  }\n}\n"],
  "mappings": "ooBAmBMA,EAAA,EAAA,YAAA,CAAA,yBAEEC,EAAA,KAAAC,EAAAC,EAAA,EAAmB,OAAAD,CAAA,GAuD3B,IAAaE,GAAiC,IAAA,CAAxC,IAAOA,EAAP,MAAOA,CAAiC,CAnE9CC,aAAA,CAoEE,KAAAC,WAAgD,CAAA,EAEhDC,cAAc,CAAEJ,GAAAA,CAAE,EAAkB,CAElC,IAAMK,EAAS,cACf,GAAIL,EAAGM,QAAQD,CAAM,IAAM,EACzB,OAIF,IAAME,EAAMP,EAAGQ,QAAQH,EAAQ,EAAE,EAAEI,MAAM,GAAG,EAAEC,IAAIC,MAAM,EAElDC,EAAQ,GACRC,EAAgB,EAChBC,EAAO,IAAIC,WAAWH,EAAQA,EAAQC,CAAa,EAEzD,QAASG,EAAI,EAAGA,EAAIJ,EAAOI,IACzB,QAASC,EAAI,EAAGA,EAAIL,EAAOK,IAAK,CAC9B,IAAMC,GAAUD,EAAIL,EAAQI,GAAKH,EACjCC,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAIX,EAAI,CAAC,EACxBO,EAAKI,EAAS,CAAC,EAAI,GACrB,CAEF,IAAMC,EAAY,CAChBnB,GAAAA,EACAY,MAAAA,EACAQ,OAAQR,EACRE,KAAAA,GAEF,KAAKX,WAAa,CAAC,GAAG,KAAKA,WAAYgB,CAAS,CAClD,CAEAE,aAAaC,EAAcC,EAAqB,CAC9C,OAAOA,EAAMvB,EACf,yCArCWC,EAAiC,sBAAjCA,EAAiCuB,UAAA,CAAA,CAAA,eAAA,CAAA,EAAAC,WAAA,GAAAC,SAAA,CAAAC,CAAA,EAAAC,MAAA,EAAAC,KAAA,GAAAC,OAAA,CAAA,CAAA,EAAA,oBAAA,uBAAA,EAAA,CAAA,EAAA,KAAA,OAAA,EAAA,QAAA,UAAA,cAAA,EAAA,CAAA,KAAA,SAAA,OAAA,SAAA,EAAA,SAAA,QAAA,EAAA,CAAA,EAAA,KAAA,MAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IAhE1CE,EAAA,EAAA,UAAA,CAAA,EAIEC,EAAA,oBAAA,SAAAC,EAAA,CAAA,OAAqBH,EAAA7B,cAAAgC,CAAA,CAAqB,CAAA,EAG1CC,EAAA,EAAAC,EAAA,EAAA,EAAA,YAAA,CAAA,EAKAzC,EAAA,EAAA,YAAA,CAAA,EA8CF0C,EAAA,SAzDEC,EAAA,wFAAA,EAIA1C,EAAA,wBAAA,EAAA,EAGwB2C,EAAA,EAAA3C,EAAA,UAAAmC,EAAA9B,UAAA,EAAe,eAAA8B,EAAAZ,YAAA,EAOrCoB,EAAA,EAAA3C,EAAA,SAAA4C,EAAA,GAAAC,EAAAD,EAAA,GAAAE,EAAAC,EAAA,GAAAC,EAAAC,EAAA,GAAAC,EAAAN,EAAA,EAAAO,EAAAC,EAAA,EAAAC,CAAA,CAAA,EAAAD,EAAA,GAAAE,CAAA,CAAA,EAAAL,EAAA,GAAAC,EAAAN,EAAA,GAAAO,EAAAC,EAAA,GAAAG,CAAA,CAAA,EAAAH,EAAA,GAAAI,CAAA,CAAA,EAAAP,EAAA,GAAAC,EAAAN,EAAA,GAAAO,EAAAP,EAAA,GAAAa,EAAA,GAAA,CAAA,EAAAL,EAAA,GAAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAqCE,SAAAd,EAAA,GAAAe,EAAAf,EAAA,GAAAgB,EAAAR,EAAA,GAAAS,CAAA,CAAA,CAAA,CAAA,kBAUEC,EAAcC,EAAOC,EAAgBC,CAAc,EAAAC,OAAA,CAAA;kDAAA,CAAA,CAAA,EAEzD,IAAO/D,EAAPgE,SAAOhE,CAAiC,GAAA",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "imageData_r1", "id", "AddImageMissingGeneratedComponent", "constructor", "imagesData", "generateImage", "prefix", "indexOf", "rgb", "replace", "split", "map", "Number", "width", "bytesPerPixel", "data", "Uint8Array", "x", "y", "offset", "imageData", "height", "trackByImage", "_idx", "image", "selectors", "standalone", "features", "\u0275\u0275StandaloneFeature", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275listener", "$event", "\u0275\u0275template", "AddImageMissingGeneratedComponent_mgl_image_1_Template", "\u0275\u0275elementEnd", "\u0275\u0275styleMap", "\u0275\u0275advance", "\u0275\u0275pureFunction1", "_c10", "_c9", "\u0275\u0275pureFunction3", "_c8", "\u0275\u0275pureFunction2", "_c3", "_c1", "\u0275\u0275pureFunction0", "_c0", "_c2", "_c4", "_c5", "_c6", "_c7", "_c13", "_c12", "_c11", "MapComponent", "NgFor", "ImageComponent", "LayerComponent", "styles", "_AddImageMissingGeneratedComponent"]
}
