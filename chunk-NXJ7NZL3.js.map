{
  "version": 3,
  "sources": ["projects/showcase/src/app/demo/examples/live-update-feature.component.ts"],
  "sourcesContent": ["import { Component, OnDestroy, afterNextRender } from '@angular/core';\nimport {\n  MapComponent,\n  GeoJSONSourceComponent,\n  LayerComponent,\n} from '@maplibre/ngx-maplibre-gl';\nimport { NgIf } from '@angular/common';\nimport data from './hike.geo.json';\n\n@Component({\n  selector: 'showcase-demo',\n  template: `\n    <mgl-map\n      [style]=\"\n        'https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL'\n      \"\n      [zoom]=\"zoom\"\n      [center]=\"center\"\n      [centerWithPanTo]=\"true\"\n      [pitch]=\"pitch\"\n      movingMethod=\"jumpTo\"\n      [preserveDrawingBuffer]=\"true\"\n    >\n      <mgl-geojson-source *ngIf=\"data\" id=\"trace\" [data]=\"data\">\n      </mgl-geojson-source>\n      <mgl-layer\n        *ngIf=\"data\"\n        id=\"trace\"\n        type=\"line\"\n        source=\"trace\"\n        [paint]=\"{\n          'line-color': 'yellow',\n          'line-opacity': 0.75,\n          'line-width': 5\n        }\"\n      >\n      </mgl-layer>\n    </mgl-map>\n  `,\n  styleUrls: ['./examples.css'],\n  standalone: true,\n  imports: [MapComponent, NgIf, GeoJSONSourceComponent, LayerComponent],\n})\nexport class LiveUpdateFeatureComponent implements OnDestroy {\n  data: GeoJSON.FeatureCollection<GeoJSON.LineString>;\n  center: number[];\n  zoom = [14];\n  pitch: number = 30;\n\n  private timer?: ReturnType<typeof setTimeout>;\n\n  constructor() {\n    this.center = data.features[0].geometry!.coordinates[0];\n    this.data = data as GeoJSON.FeatureCollection<GeoJSON.LineString>;\n    afterNextRender(() => {\n      const coordinates = data.features[0].geometry!.coordinates;\n      data.features[0].geometry!.coordinates = [coordinates[0]];\n      this.center = coordinates[0];\n      let i = 0;\n      this.timer = setInterval(() => {\n        if (i < coordinates.length) {\n          this.center = coordinates[i];\n          data.features[0].geometry!.coordinates.push(coordinates[i]);\n          this.data = { ...this.data };\n          i++;\n        } else {\n          clearInterval(this.timer);\n        }\n      }, 10);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n}\n"],
  "mappings": "6WAuBMA,EAAA,EAAA,qBAAA,CAAA,iBAA4CC,EAAA,OAAAC,EAAAC,IAAA,wBAE5CH,EAAA,EAAA,YAAA,CAAA,OAKEC,EAAA,QAAAG,EAAA,EAAAC,CAAA,CAAA,EAaR,IAAaC,GAA0B,IAAA,CAAjC,IAAOA,EAAP,MAAOA,CAA0B,CAQrCC,aAAA,CALA,KAAAC,KAAO,CAAC,EAAE,EACV,KAAAC,MAAgB,GAKd,KAAKC,OAASP,EAAKQ,SAAS,CAAC,EAAEC,SAAUC,YAAY,CAAC,EACtD,KAAKV,KAAOA,EACZW,EAAgB,IAAK,CACnB,IAAMD,EAAcV,EAAKQ,SAAS,CAAC,EAAEC,SAAUC,YAC/CV,EAAKQ,SAAS,CAAC,EAAEC,SAAUC,YAAc,CAACA,EAAY,CAAC,CAAC,EACxD,KAAKH,OAASG,EAAY,CAAC,EAC3B,IAAIE,EAAI,EACR,KAAKC,MAAQC,YAAY,IAAK,CACxBF,EAAIF,EAAYK,QAClB,KAAKR,OAASG,EAAYE,CAAC,EAC3BZ,EAAKQ,SAAS,CAAC,EAAEC,SAAUC,YAAYM,KAAKN,EAAYE,CAAC,CAAC,EAC1D,KAAKZ,KAAOiB,EAAA,GAAK,KAAKjB,MACtBY,KAEAM,cAAc,KAAKL,KAAK,CAE5B,EAAG,EAAE,CACP,CAAC,CACH,CAEAM,aAAW,CACL,KAAKN,OACPK,cAAc,KAAKL,KAAK,CAE5B,yCAjCWV,EAA0B,sBAA1BA,EAA0BiB,UAAA,CAAA,CAAA,eAAA,CAAA,EAAAC,WAAA,GAAAb,SAAA,CAAAc,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,eAAA,SAAA,EAAA,OAAA,SAAA,kBAAA,QAAA,uBAAA,EAAA,CAAA,KAAA,QAAA,EAAA,OAAA,EAAA,MAAA,EAAA,CAAA,KAAA,QAAA,OAAA,OAAA,SAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,KAAA,QAAA,EAAA,MAAA,EAAA,CAAA,KAAA,QAAA,OAAA,OAAA,SAAA,QAAA,EAAA,OAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,IA/BnCE,EAAA,EAAA,UAAA,CAAA,EAWEC,EAAA,EAAAC,EAAA,EAAA,EAAA,qBAAA,CAAA,EAA0D,EAAAC,EAAA,EAAA,EAAA,YAAA,CAAA,EAc5DC,EAAA,SAxBEC,EAAA,wFAAA,EAGApC,EAAA,OAAA8B,EAAAvB,IAAA,EAAa,SAAAuB,EAAArB,MAAA,EACI,kBAAA,EAAA,EACO,QAAAqB,EAAAtB,KAAA,EACT,wBAAA,EAAA,EAIM6B,EAAA,EAAArC,EAAA,OAAA8B,EAAA5B,IAAA,EAGlBmC,EAAA,EAAArC,EAAA,OAAA8B,EAAA5B,IAAA,kBAeGoC,EAAcC,EAAMC,EAAwBC,CAAc,EAAAC,OAAA,CAAA;kDAAA,CAAA,CAAA,EAEhE,IAAOrC,EAAPsC,SAAOtC,CAA0B,GAAA",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "ctx_r0", "data", "\u0275\u0275pureFunction0", "_c0", "LiveUpdateFeatureComponent", "constructor", "zoom", "pitch", "center", "features", "geometry", "coordinates", "afterNextRender", "i", "timer", "setInterval", "length", "push", "__spreadValues", "clearInterval", "ngOnDestroy", "selectors", "standalone", "\u0275\u0275StandaloneFeature", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275template", "LiveUpdateFeatureComponent_mgl_geojson_source_1_Template", "LiveUpdateFeatureComponent_mgl_layer_2_Template", "\u0275\u0275elementEnd", "\u0275\u0275styleMap", "\u0275\u0275advance", "MapComponent", "NgIf", "GeoJSONSourceComponent", "LayerComponent", "styles", "_LiveUpdateFeatureComponent"]
}
