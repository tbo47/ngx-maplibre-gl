(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[179],{6637:(xi,Et,U)=>{"use strict";U.d(Et,{a:()=>Ve});var C=U(8484),l=U(9212);function me(le,Ze){1&le&&l.Hsn(0)}const g=["*"];let Ve=(()=>{class le{constructor(nt,Ie,it){this.componentFactoryResolver=nt,this.injector=Ie,this.appRef=it}ngAfterViewInit(){this.portalOutlet=new C.u0(document.querySelector("left"===this.position?"#layout-left-custom-items":"#layout-right-custom-items"),this.componentFactoryResolver,this.appRef,this.injector),this.portalOutlet.attach(this.portal)}ngOnDestroy(){this.portalOutlet.detach()}static#e=this.\u0275fac=function(Ie){return new(Ie||le)(l.Y36(l._Vd),l.Y36(l.zs3),l.Y36(l.z2F))};static#t=this.\u0275cmp=l.Xpm({type:le,selectors:[["showcase-layout-toolbar-menu"]],viewQuery:function(Ie,it){if(1&Ie&&l.Gf(C.ig,5),2&Ie){let at;l.iGM(at=l.CRH())&&(it.portal=at.first)}},inputs:{position:"position"},ngContentSelectors:g,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(Ie,it){1&Ie&&(l.F$t(),l.YNc(0,me,1,0,"ng-template",0))},dependencies:[C.bH],encapsulation:2})}return le})()},2627:(xi,Et,U)=>{"use strict";U.d(Et,{$:()=>le});var C=U(9212),l=U(8184),me=U(1274),g=U(617),Ve=U(2296);let le=(()=>{class Ze{static#e=this.\u0275fac=function(it){return new(it||Ze)};static#t=this.\u0275cmp=C.Xpm({type:Ze,selectors:[["ng-component"]],decls:18,vars:0,consts:[["color","primary"],["id","layout-left-custom-items"],["mat-icon-button","","routerLink","/"],["svgIcon","ngx-maplibre-gl"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/demo"],["mat-button","","routerLink","/doc"],["id","layout-right-custom-items"],["mat-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["mat-icon-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["svgIcon","github"]],template:function(it,at){1&it&&(C.TgZ(0,"mat-toolbar",0)(1,"div"),C._UZ(2,"div",1),C.TgZ(3,"a",2),C._UZ(4,"mat-icon",3),C.qZA(),C.TgZ(5,"a",4),C._uU(6," ngx-maplibre-gl "),C.qZA(),C.TgZ(7,"a",5),C._uU(8," Demo "),C.qZA(),C.TgZ(9,"a",6),C._uU(10," Documentation "),C.qZA()(),C.TgZ(11,"div"),C._UZ(12,"div",7),C.TgZ(13,"a",8),C._uU(14," Github "),C.qZA(),C.TgZ(15,"a",9),C._UZ(16,"mat-icon",10),C.qZA()()(),C._UZ(17,"router-outlet"))},dependencies:[l.lC,l.rH,me.Ye,g.Hw,Ve.zs,Ve.o6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px 0 0}div[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.menu-button[_ngcontent-%COMP%]{height:100%}"]})}return Ze})()},877:(xi,Et,U)=>{"use strict";U.d(Et,{x:()=>at});var C=U(8484),l=U(6814),me=U(2296),g=U(617),Ve=U(1274),le=U(8184),Ie=(U(6637),U(2627),U(9212));let at=(()=>{class Je{static#e=this.\u0275fac=function(pt){return new(pt||Je)};static#t=this.\u0275mod=Ie.oAB({type:Je});static#i=this.\u0275inj=Ie.cJS({imports:[l.ez,le.Bz,Ve.g0,g.Ps,me.ot,C.eL]})}return Je})()},8702:(xi,Et,U)=>{"use strict";var C=U(6593),l=U(9212),me=U(8184);let g=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-root"]],decls:1,vars:0,template:function(h,x){1&h&&l._UZ(0,"router-outlet")},dependencies:[me.lC],encapsulation:2})}return u})();var Ve=U(617),le=U(6825);function nt(u){return new l.vHH(3e3,!1)}function kt(u){switch(u.length){case 0:return new le.ZN;case 1:return u[0];default:return new le.ZE(u)}}function hi(u,b,o=new Map,h=new Map){const x=[],L=[];let ee=-1,Se=null;if(b.forEach(et=>{const bt=et.get("offset"),qt=bt==ee,ni=qt&&Se||new Map;et.forEach((Hi,un)=>{let zi=un,tn=Hi;if("offset"!==un)switch(zi=u.normalizePropertyName(zi,x),tn){case le.k1:tn=o.get(un);break;case le.l3:tn=h.get(un);break;default:tn=u.normalizeStyleValue(un,zi,tn,x)}ni.set(zi,tn)}),qt||L.push(ni),Se=ni,ee=bt}),x.length)throw function Fn(u){return new l.vHH(3502,!1)}();return L}function yi(u,b,o,h){switch(b){case"start":u.onStart(()=>h(o&&si(o,"start",u)));break;case"done":u.onDone(()=>h(o&&si(o,"done",u)));break;case"destroy":u.onDestroy(()=>h(o&&si(o,"destroy",u)))}}function si(u,b,o){const L=Qi(u.element,u.triggerName,u.fromState,u.toState,b||u.phaseName,o.totalTime??u.totalTime,!!o.disabled),ee=u._data;return null!=ee&&(L._data=ee),L}function Qi(u,b,o,h,x="",L=0,ee){return{element:u,triggerName:b,fromState:o,toState:h,phaseName:x,totalTime:L,disabled:!!ee}}function lt(u,b,o){let h=u.get(b);return h||u.set(b,h=o),h}function Vt(u){const b=u.indexOf(":");return[u.substring(1,b),u.slice(b+1)]}const li=(()=>typeof document>"u"?null:document.documentElement)();function xt(u){const b=u.parentNode||u.host||null;return b===li?null:b}let Mn=null,rn=!1;function Ce(u,b){for(;b;){if(b===u)return!0;b=xt(b)}return!1}function Ne(u,b,o){if(o)return Array.from(u.querySelectorAll(b));const h=u.querySelector(b);return h?[h]:[]}let $e=(()=>{class u{validateStyleProperty(o){return function Ii(u){Mn||(Mn=function Ut(){return typeof document<"u"?document.body:null}()||{},rn=!!Mn.style&&"WebkitAppearance"in Mn.style);let b=!0;return Mn.style&&!function pn(u){return"ebkit"==u.substring(1,6)}(u)&&(b=u in Mn.style,!b&&rn&&(b="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Mn.style)),b}(o)}matchesElement(o,h){return!1}containsElement(o,h){return Ce(o,h)}getParentElement(o){return xt(o)}query(o,h,x){return Ne(o,h,x)}computeStyle(o,h,x){return x||""}animate(o,h,x,L,ee,Se=[],et){return new le.ZN(x,L)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac})}return u})(),pe=(()=>{class u{static#e=this.NOOP=new $e}return u})();class Me{}const Wt=1e3,St="ng-enter",wi="ng-leave",Ci="ng-trigger",dn=".ng-trigger",Dn="ng-animating",Tt=".ng-animating";function Zi(u){if("number"==typeof u)return u;const b=u.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:de(parseFloat(b[1]),b[2])}function de(u,b){return"s"===b?u*Wt:u}function q(u,b,o){return u.hasOwnProperty("duration")?u:function Q(u,b,o){let x,L=0,ee="";if("string"==typeof u){const Se=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return b.push(nt()),{duration:0,delay:0,easing:""};x=de(parseFloat(Se[1]),Se[2]);const et=Se[3];null!=et&&(L=de(parseFloat(et),Se[4]));const bt=Se[5];bt&&(ee=bt)}else x=u;if(!o){let Se=!1,et=b.length;x<0&&(b.push(function Ie(){return new l.vHH(3100,!1)}()),Se=!0),L<0&&(b.push(function it(){return new l.vHH(3101,!1)}()),Se=!0),Se&&b.splice(et,0,nt())}return{duration:x,delay:L,easing:ee}}(u,b,o)}function ve(u,b={}){return Object.keys(u).forEach(o=>{b[o]=u[o]}),b}function Oe(u){const b=new Map;return Object.keys(u).forEach(o=>{b.set(o,u[o])}),b}function G(u,b=new Map,o){if(o)for(let[h,x]of o)b.set(h,x);for(let[h,x]of u)b.set(h,x);return b}function Y(u,b,o){b.forEach((h,x)=>{const L=ct(x);o&&!o.has(x)&&o.set(x,u.style[L]),u.style[L]=h})}function K(u,b){b.forEach((o,h)=>{const x=ct(h);u.style[x]=""})}function we(u){return Array.isArray(u)?1==u.length?u[0]:(0,le.vP)(u):u}const wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Be(u){let b=[];if("string"==typeof u){let o;for(;o=wt.exec(u);)b.push(o[1]);wt.lastIndex=0}return b}function Ue(u,b,o){const h=u.toString(),x=h.replace(wt,(L,ee)=>{let Se=b[ee];return null==Se&&(o.push(function Je(u){return new l.vHH(3003,!1)}()),Se=""),Se.toString()});return x==h?u:x}function _e(u){const b=[];let o=u.next();for(;!o.done;)b.push(o.value),o=u.next();return b}const Ae=/-+([a-z0-9])/g;function ct(u){return u.replace(Ae,(...b)=>b[1].toUpperCase())}function Yi(u,b,o){switch(b.type){case 7:return u.visitTrigger(b,o);case 0:return u.visitState(b,o);case 1:return u.visitTransition(b,o);case 2:return u.visitSequence(b,o);case 3:return u.visitGroup(b,o);case 4:return u.visitAnimate(b,o);case 5:return u.visitKeyframes(b,o);case 6:return u.visitStyle(b,o);case 8:return u.visitReference(b,o);case 9:return u.visitAnimateChild(b,o);case 10:return u.visitAnimateRef(b,o);case 11:return u.visitQuery(b,o);case 12:return u.visitStagger(b,o);default:throw function ot(u){return new l.vHH(3004,!1)}()}}function wn(u,b){return window.getComputedStyle(u)[b]}const Si=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hr extends Me{normalizePropertyName(b,o){return ct(b)}normalizeStyleValue(b,o,h,x){let L="";const ee=h.toString().trim();if(Si.has(o)&&0!==h&&"0"!==h)if("number"==typeof h)L="px";else{const Se=h.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&x.push(function Ye(u,b){return new l.vHH(3005,!1)}())}return ee+L}}const We="*";function dt(u,b){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(h=>function Gt(u,b,o){if(":"==u[0]){const et=function Kt(u,b){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,h)=>parseFloat(h)>parseFloat(o);case":decrement":return(o,h)=>parseFloat(h)<parseFloat(o);default:return b.push(function Qt(u){return new l.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof et)return void b.push(et);u=et}const h=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return o.push(function _t(u){return new l.vHH(3015,!1)}()),b;const x=h[1],L=h[2],ee=h[3];b.push(hn(x,ee));"<"==L[0]&&!(x==We&&ee==We)&&b.push(hn(ee,x))}(h,o,b)):o.push(u),o}const ui=new Set(["true","1"]),Di=new Set(["false","0"]);function hn(u,b){const o=ui.has(u)||Di.has(u),h=ui.has(b)||Di.has(b);return(x,L)=>{let ee=u==We||u==x,Se=b==We||b==L;return!ee&&o&&"boolean"==typeof x&&(ee=x?ui.has(u):Di.has(u)),!Se&&h&&"boolean"==typeof L&&(Se=L?ui.has(b):Di.has(b)),ee&&Se}}const ar=new RegExp("s*:selfs*,?","g");function Bi(u,b,o,h){return new cn(u).build(b,o,h)}class cn{constructor(b){this._driver=b}build(b,o,h){const x=new Vn(o);return this._resetContextStyleTimingState(x),Yi(this,we(b),x)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,o){let h=o.queryCount=0,x=o.depCount=0;const L=[],ee=[];return"@"==b.name.charAt(0)&&o.errors.push(function pt(){return new l.vHH(3006,!1)}()),b.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(o),0==Se.type){const et=Se,bt=et.name;bt.toString().split(/\s*,\s*/).forEach(qt=>{et.name=qt,L.push(this.visitState(et,o))}),et.name=bt}else if(1==Se.type){const et=this.visitTransition(Se,o);h+=et.queryCount,x+=et.depCount,ee.push(et)}else o.errors.push(function Xt(){return new l.vHH(3007,!1)}())}),{type:7,name:b.name,states:L,transitions:ee,queryCount:h,depCount:x,options:null}}visitState(b,o){const h=this.visitStyle(b.styles,o),x=b.options&&b.options.params||null;if(h.containsDynamicStyles){const L=new Set,ee=x||{};h.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(et=>{Be(et).forEach(bt=>{ee.hasOwnProperty(bt)||L.add(bt)})})}),L.size&&(_e(L.values()),o.errors.push(function Zt(u,b){return new l.vHH(3008,!1)}()))}return{type:0,name:b.name,style:h,options:x?{params:x}:null}}visitTransition(b,o){o.queryCount=0,o.depCount=0;const h=Yi(this,we(b.animation),o);return{type:1,matchers:dt(b.expr,o.errors),animation:h,queryCount:o.queryCount,depCount:o.depCount,options:Kr(b.options)}}visitSequence(b,o){return{type:2,steps:b.steps.map(h=>Yi(this,h,o)),options:Kr(b.options)}}visitGroup(b,o){const h=o.currentTime;let x=0;const L=b.steps.map(ee=>{o.currentTime=h;const Se=Yi(this,ee,o);return x=Math.max(x,o.currentTime),Se});return o.currentTime=x,{type:3,steps:L,options:Kr(b.options)}}visitAnimate(b,o){const h=function Vr(u,b){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return mn(q(u,b).duration,0,"");const o=u;if(o.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=mn(0,0,"");return L.dynamic=!0,L.strValue=o,L}const x=q(o,b);return mn(x.duration,x.delay,x.easing)}(b.timings,o.errors);o.currentAnimateTimings=h;let x,L=b.styles?b.styles:(0,le.oB)({});if(5==L.type)x=this.visitKeyframes(L,o);else{let ee=b.styles,Se=!1;if(!ee){Se=!0;const bt={};h.easing&&(bt.easing=h.easing),ee=(0,le.oB)(bt)}o.currentTime+=h.duration+h.delay;const et=this.visitStyle(ee,o);et.isEmptyStep=Se,x=et}return o.currentAnimateTimings=null,{type:4,timings:h,style:x,options:null}}visitStyle(b,o){const h=this._makeStyleAst(b,o);return this._validateStyleAst(h,o),h}_makeStyleAst(b,o){const h=[],x=Array.isArray(b.styles)?b.styles:[b.styles];for(let Se of x)"string"==typeof Se?Se===le.l3?h.push(Se):o.errors.push(new l.vHH(3002,!1)):h.push(Oe(Se));let L=!1,ee=null;return h.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(ee=Se.get("easing"),Se.delete("easing")),!L))for(let et of Se.values())if(et.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:h,easing:ee,offset:b.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(b,o){const h=o.currentAnimateTimings;let x=o.currentTime,L=o.currentTime;h&&L>0&&(L-=h.duration+h.delay),b.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Se,et)=>{const bt=o.collectedStyles.get(o.currentQuerySelector),qt=bt.get(et);let ni=!0;qt&&(L!=x&&L>=qt.startTime&&x<=qt.endTime&&(o.errors.push(function Pi(u,b,o,h,x){return new l.vHH(3010,!1)}()),ni=!1),L=qt.startTime),ni&&bt.set(et,{startTime:L,endTime:x}),o.options&&function je(u,b,o){const h=b.params||{},x=Be(u);x.length&&x.forEach(L=>{h.hasOwnProperty(L)||o.push(function at(u){return new l.vHH(3001,!1)}())})}(Se,o.options,o.errors)})})}visitKeyframes(b,o){const h={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function jt(){return new l.vHH(3011,!1)}()),h;let L=0;const ee=[];let Se=!1,et=!1,bt=0;const qt=b.steps.map(tr=>{const Sr=this._makeStyleAst(tr,o);let co=null!=Sr.offset?Sr.offset:function Ji(u){if("string"==typeof u)return null;let b=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const h=o;b=parseFloat(h.get("offset")),h.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;b=parseFloat(o.get("offset")),o.delete("offset")}return b}(Sr.styles),Br=0;return null!=co&&(L++,Br=Sr.offset=co),et=et||Br<0||Br>1,Se=Se||Br<bt,bt=Br,ee.push(Br),Sr});et&&o.errors.push(function rt(){return new l.vHH(3012,!1)}()),Se&&o.errors.push(function ht(){return new l.vHH(3200,!1)}());const ni=b.steps.length;let Hi=0;L>0&&L<ni?o.errors.push(function ei(){return new l.vHH(3202,!1)}()):0==L&&(Hi=1/(ni-1));const un=ni-1,zi=o.currentTime,tn=o.currentAnimateTimings,Nn=tn.duration;return qt.forEach((tr,Sr)=>{const co=Hi>0?Sr==un?1:Hi*Sr:ee[Sr],Br=co*Nn;o.currentTime=zi+tn.delay+Br,tn.duration=Br,this._validateStyleAst(tr,o),tr.offset=co,h.styles.push(tr)}),h}visitReference(b,o){return{type:8,animation:Yi(this,we(b.animation),o),options:Kr(b.options)}}visitAnimateChild(b,o){return o.depCount++,{type:9,options:Kr(b.options)}}visitAnimateRef(b,o){return{type:10,animation:this.visitReference(b.animation,o),options:Kr(b.options)}}visitQuery(b,o){const h=o.currentQuerySelector,x=b.options||{};o.queryCount++,o.currentQuery=b;const[L,ee]=function Un(u){const b=!!u.split(/\s*,\s*/).find(o=>":self"==o);return b&&(u=u.replace(ar,"")),u=u.replace(/@\*/g,dn).replace(/@\w+/g,o=>dn+"-"+o.slice(1)).replace(/:animating/g,Tt),[u,b]}(b.selector);o.currentQuerySelector=h.length?h+" "+L:L,lt(o.collectedStyles,o.currentQuerySelector,new Map);const Se=Yi(this,we(b.animation),o);return o.currentQuery=null,o.currentQuerySelector=h,{type:11,selector:L,limit:x.limit||0,optional:!!x.optional,includeSelf:ee,animation:Se,originalSelector:b.selector,options:Kr(b.options)}}visitStagger(b,o){o.currentQuery||o.errors.push(function Nt(){return new l.vHH(3013,!1)}());const h="full"===b.timings?{duration:0,delay:0,easing:"full"}:q(b.timings,o.errors,!0);return{type:12,animation:Yi(this,we(b.animation),o),timings:h,options:null}}}class Vn{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kr(u){return u?(u=ve(u)).params&&(u.params=function bn(u){return u?ve(u):null}(u.params)):u={},u}function mn(u,b,o){return{duration:u,delay:b,easing:o}}function No(u,b,o,h,x,L,ee=null,Se=!1){return{type:1,element:u,keyframes:b,preStyleProps:o,postStyleProps:h,duration:x,delay:L,totalTime:x+L,easing:ee,subTimeline:Se}}class Qo{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,o){let h=this._map.get(b);h||this._map.set(b,h=[]),h.push(...o)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const ha=new RegExp(":enter","g"),Zl=new RegExp(":leave","g");function zo(u,b,o,h,x,L=new Map,ee=new Map,Se,et,bt=[]){return(new Al).buildKeyframes(u,b,o,h,x,L,ee,Se,et,bt)}class Al{buildKeyframes(b,o,h,x,L,ee,Se,et,bt,qt=[]){bt=bt||new Qo;const ni=new $a(b,o,bt,x,L,qt,[]);ni.options=et;const Hi=et.delay?Zi(et.delay):0;ni.currentTimeline.delayNextStep(Hi),ni.currentTimeline.setStyles([ee],null,ni.errors,et),Yi(this,h,ni);const un=ni.timelines.filter(zi=>zi.containsAnimation());if(un.length&&Se.size){let zi;for(let tn=un.length-1;tn>=0;tn--){const Nn=un[tn];if(Nn.element===o){zi=Nn;break}}zi&&!zi.allowOnlyTimelineStyles()&&zi.setStyles([Se],null,ni.errors,et)}return un.length?un.map(zi=>zi.buildKeyframes()):[No(o,[],[],[],0,Hi,"",!1)]}visitTrigger(b,o){}visitState(b,o){}visitTransition(b,o){}visitAnimateChild(b,o){const h=o.subInstructions.get(o.element);if(h){const x=o.createSubContext(b.options),L=o.currentTimeline.currentTime,ee=this._visitSubInstructions(h,x,x.options);L!=ee&&o.transformIntoNewTimeline(ee)}o.previousNode=b}visitAnimateRef(b,o){const h=o.createSubContext(b.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],o,h),this.visitReference(b.animation,h),o.transformIntoNewTimeline(h.currentTimeline.currentTime),o.previousNode=b}_applyAnimationRefDelays(b,o,h){for(const x of b){const L=x?.delay;if(L){const ee="number"==typeof L?L:Zi(Ue(L,x?.params??{},o.errors));h.delayNextStep(ee)}}}_visitSubInstructions(b,o,h){let L=o.currentTimeline.currentTime;const ee=null!=h.duration?Zi(h.duration):null,Se=null!=h.delay?Zi(h.delay):null;return 0!==ee&&b.forEach(et=>{const bt=o.appendInstructionToTimeline(et,ee,Se);L=Math.max(L,bt.duration+bt.delay)}),L}visitReference(b,o){o.updateOptions(b.options,!0),Yi(this,b.animation,o),o.previousNode=b}visitSequence(b,o){const h=o.subContextCount;let x=o;const L=b.options;if(L&&(L.params||L.delay)&&(x=o.createSubContext(L),x.transformIntoNewTimeline(),null!=L.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Ys);const ee=Zi(L.delay);x.delayNextStep(ee)}b.steps.length&&(b.steps.forEach(ee=>Yi(this,ee,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>h&&x.transformIntoNewTimeline()),o.previousNode=b}visitGroup(b,o){const h=[];let x=o.currentTimeline.currentTime;const L=b.options&&b.options.delay?Zi(b.options.delay):0;b.steps.forEach(ee=>{const Se=o.createSubContext(b.options);L&&Se.delayNextStep(L),Yi(this,ee,Se),x=Math.max(x,Se.currentTimeline.currentTime),h.push(Se.currentTimeline)}),h.forEach(ee=>o.currentTimeline.mergeTimelineCollectedStyles(ee)),o.transformIntoNewTimeline(x),o.previousNode=b}_visitTiming(b,o){if(b.dynamic){const h=b.strValue;return q(o.params?Ue(h,o.params,o.errors):h,o.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,o){const h=o.currentAnimateTimings=this._visitTiming(b.timings,o),x=o.currentTimeline;h.delay&&(o.incrementTime(h.delay),x.snapshotCurrentStyles());const L=b.style;5==L.type?this.visitKeyframes(L,o):(o.incrementTime(h.duration),this.visitStyle(L,o),x.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=b}visitStyle(b,o){const h=o.currentTimeline,x=o.currentAnimateTimings;!x&&h.hasCurrentStyleProperties()&&h.forwardFrame();const L=x&&x.easing||b.easing;b.isEmptyStep?h.applyEmptyStep(L):h.setStyles(b.styles,L,o.errors,o.options),o.previousNode=b}visitKeyframes(b,o){const h=o.currentAnimateTimings,x=o.currentTimeline.duration,L=h.duration,Se=o.createSubContext().currentTimeline;Se.easing=h.easing,b.styles.forEach(et=>{Se.forwardTime((et.offset||0)*L),Se.setStyles(et.styles,et.easing,o.errors,o.options),Se.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Se),o.transformIntoNewTimeline(x+L),o.previousNode=b}visitQuery(b,o){const h=o.currentTimeline.currentTime,x=b.options||{},L=x.delay?Zi(x.delay):0;L&&(6===o.previousNode.type||0==h&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ys);let ee=h;const Se=o.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!x.optional,o.errors);o.currentQueryTotal=Se.length;let et=null;Se.forEach((bt,qt)=>{o.currentQueryIndex=qt;const ni=o.createSubContext(b.options,bt);L&&ni.delayNextStep(L),bt===o.element&&(et=ni.currentTimeline),Yi(this,b.animation,ni),ni.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,ni.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(ee),et&&(o.currentTimeline.mergeTimelineCollectedStyles(et),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=b}visitStagger(b,o){const h=o.parentContext,x=o.currentTimeline,L=b.timings,ee=Math.abs(L.duration),Se=ee*(o.currentQueryTotal-1);let et=ee*o.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":et=Se-et;break;case"full":et=h.currentStaggerTime}const qt=o.currentTimeline;et&&qt.delayNextStep(et);const ni=qt.currentTime;Yi(this,b.animation,o),o.previousNode=b,h.currentStaggerTime=x.currentTime-ni+(x.startTime-h.currentTimeline.startTime)}}const Ys={};class $a{constructor(b,o,h,x,L,ee,Se,et){this._driver=b,this.element=o,this.subInstructions=h,this._enterClassName=x,this._leaveClassName=L,this.errors=ee,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ys,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=et||new Da(this._driver,o,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,o){if(!b)return;const h=b;let x=this.options;null!=h.duration&&(x.duration=Zi(h.duration)),null!=h.delay&&(x.delay=Zi(h.delay));const L=h.params;if(L){let ee=x.params;ee||(ee=this.options.params={}),Object.keys(L).forEach(Se=>{(!o||!ee.hasOwnProperty(Se))&&(ee[Se]=Ue(L[Se],ee,this.errors))})}}_copyOptions(){const b={};if(this.options){const o=this.options.params;if(o){const h=b.params={};Object.keys(o).forEach(x=>{h[x]=o[x]})}}return b}createSubContext(b=null,o,h){const x=o||this.element,L=new $a(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,h||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(b),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(b){return this.previousNode=Ys,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,o,h){const x={duration:o??b.duration,delay:this.currentTimeline.currentTime+(h??0)+b.delay,easing:""},L=new Sa(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,x,b.stretchStartingKeyframe);return this.timelines.push(L),x}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,o,h,x,L,ee){let Se=[];if(x&&Se.push(this.element),b.length>0){b=(b=b.replace(ha,"."+this._enterClassName)).replace(Zl,"."+this._leaveClassName);let bt=this._driver.query(this.element,b,1!=h);0!==h&&(bt=h<0?bt.slice(bt.length+h,bt.length):bt.slice(0,h)),Se.push(...bt)}return!L&&0==Se.length&&ee.push(function Dt(u){return new l.vHH(3014,!1)}()),Se}}class Da{constructor(b,o,h,x){this._driver=b,this.element=o,this.startTime=h,this._elementTimelineStylesLookup=x,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+b),o&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,o){return this.applyStylesToKeyframe(),new Da(this._driver,b,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,o){this._localTimelineStyles.set(b,o),this._globalTimelineStyles.set(b,o),this._styleSummary.set(b,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[o,h]of this._globalTimelineStyles)this._backFill.set(o,h||le.l3),this._currentKeyframe.set(o,le.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,o,h,x){o&&this._previousKeyframe.set("easing",o);const L=x&&x.params||{},ee=function Ma(u,b){const o=new Map;let h;return u.forEach(x=>{if("*"===x){h=h||b.keys();for(let L of h)o.set(L,le.l3)}else G(x,o)}),o}(b,this._globalTimelineStyles);for(let[Se,et]of ee){const bt=Ue(et,L,h);this._pendingStyles.set(Se,bt),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??le.l3),this._updateStyle(Se,bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,o)=>{this._currentKeyframe.set(o,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,b)}))}snapshotCurrentStyles(){for(let[b,o]of this._localTimelineStyles)this._pendingStyles.set(b,o),this._updateStyle(b,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let o in this._currentKeyframe)b.push(o);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((o,h)=>{const x=this._styleSummary.get(h);(!x||o.time>x.time)&&this._updateStyle(h,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,o=new Set,h=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((Se,et)=>{const bt=G(Se,new Map,this._backFill);bt.forEach((qt,ni)=>{qt===le.k1?b.add(ni):qt===le.l3&&o.add(ni)}),h||bt.set("offset",et/this.duration),x.push(bt)});const L=b.size?_e(b.values()):[],ee=o.size?_e(o.values()):[];if(h){const Se=x[0],et=new Map(Se);Se.set("offset",0),et.set("offset",1),x=[Se,et]}return No(this.element,x,L,ee,this.duration,this.startTime,this.easing,!1)}}class Sa extends Da{constructor(b,o,h,x,L,ee,Se=!1){super(b,o,ee.delay),this.keyframes=h,this.preStyleProps=x,this.postStyleProps=L,this._stretchStartingKeyframe=Se,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:o,duration:h,easing:x}=this.timings;if(this._stretchStartingKeyframe&&o){const L=[],ee=h+o,Se=o/ee,et=G(b[0]);et.set("offset",0),L.push(et);const bt=G(b[0]);bt.set("offset",fs(Se)),L.push(bt);const qt=b.length-1;for(let ni=1;ni<=qt;ni++){let Hi=G(b[ni]);const un=Hi.get("offset");Hi.set("offset",fs((o+un*h)/ee)),L.push(Hi)}h=ee,o=0,x="",b=L}return No(this.element,b,this.preStyleProps,this.postStyleProps,h,o,x,!0)}}function fs(u,b=3){const o=Math.pow(10,b-1);return Math.round(u*o)/o}function Ga(u,b,o,h,x,L,ee,Se,et,bt,qt,ni,Hi){return{type:0,element:u,triggerName:b,isRemovalTransition:x,fromState:o,fromStyles:L,toState:h,toStyles:ee,timelines:Se,queriedElements:et,preStyleProps:bt,postStyleProps:qt,totalTime:ni,errors:Hi}}const ma={};class io{constructor(b,o,h){this._triggerName=b,this.ast=o,this._stateStyles=h}match(b,o,h,x){return function Fs(u,b,o,h,x){return u.some(L=>L(b,o,h,x))}(this.ast.matchers,b,o,h,x)}buildStyles(b,o,h){let x=this._stateStyles.get("*");return void 0!==b&&(x=this._stateStyles.get(b?.toString())||x),x?x.buildStyles(o,h):new Map}build(b,o,h,x,L,ee,Se,et,bt,qt){const ni=[],Hi=this.ast.options&&this.ast.options.params||ma,zi=this.buildStyles(h,Se&&Se.params||ma,ni),tn=et&&et.params||ma,Nn=this.buildStyles(x,tn,ni),tr=new Set,Sr=new Map,co=new Map,Br="void"===x,ja={params:Vo(tn,Hi),delay:this.ast.options?.delay},ll=qt?[]:zo(b,o,this.ast.animation,L,ee,zi,Nn,ja,bt,ni);let Ps=0;if(ll.forEach(gc=>{Ps=Math.max(gc.duration+gc.delay,Ps)}),ni.length)return Ga(o,this._triggerName,h,x,Br,zi,Nn,[],[],Sr,co,Ps,ni);ll.forEach(gc=>{const jl=gc.element,Np=lt(Sr,jl,new Set);gc.preStyleProps.forEach(ms=>Np.add(ms));const uu=lt(co,jl,new Set);gc.postStyleProps.forEach(ms=>uu.add(ms)),jl!==o&&tr.add(jl)});const Ml=_e(tr.values());return Ga(o,this._triggerName,h,x,Br,zi,Nn,ll,Ml,Sr,co,Ps)}}function Vo(u,b){const o=ve(b);for(const h in u)u.hasOwnProperty(h)&&null!=u[h]&&(o[h]=u[h]);return o}class mo{constructor(b,o,h){this.styles=b,this.defaultParams=o,this.normalizer=h}buildStyles(b,o){const h=new Map,x=ve(this.defaultParams);return Object.keys(b).forEach(L=>{const ee=b[L];null!==ee&&(x[L]=ee)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((ee,Se)=>{ee&&(ee=Ue(ee,x,o));const et=this.normalizer.normalizePropertyName(Se,o);ee=this.normalizer.normalizeStyleValue(Se,et,ee,o),h.set(Se,ee)})}),h}}class Ls{constructor(b,o,h){this.name=b,this.ast=o,this._normalizer=h,this.transitionFactories=[],this.states=new Map,o.states.forEach(x=>{this.states.set(x.name,new mo(x.style,x.options&&x.options.params||{},h))}),Jo(this.states,"true","1"),Jo(this.states,"false","0"),o.transitions.forEach(x=>{this.transitionFactories.push(new io(b,x,this.states))}),this.fallbackTransition=function jn(u,b,o){return new io(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,Se)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,o,h,x){return this.transitionFactories.find(ee=>ee.match(b,o,h,x))||null}matchStyles(b,o,h){return this.fallbackTransition.buildStyles(b,o,h)}}function Jo(u,b,o){u.has(b)?u.has(o)||u.set(o,u.get(b)):u.has(o)&&u.set(b,u.get(o))}const es=new Qo;class xo{constructor(b,o,h){this.bodyNode=b,this._driver=o,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,o){const h=[],L=Bi(this._driver,o,h,[]);if(h.length)throw function Li(u){return new l.vHH(3503,!1)}();this._animations.set(b,L)}_buildPlayer(b,o,h){const x=b.element,L=hi(this._normalizer,b.keyframes,o,h);return this._driver.animate(x,L,b.duration,b.delay,b.easing,[],!0)}create(b,o,h={}){const x=[],L=this._animations.get(b);let ee;const Se=new Map;if(L?(ee=zo(this._driver,o,L,St,wi,new Map,new Map,h,es,x),ee.forEach(qt=>{const ni=lt(Se,qt.element,new Map);qt.postStyleProps.forEach(Hi=>ni.set(Hi,null))})):(x.push(function Bn(){return new l.vHH(3300,!1)}()),ee=[]),x.length)throw function _i(u){return new l.vHH(3504,!1)}();Se.forEach((qt,ni)=>{qt.forEach((Hi,un)=>{qt.set(un,this._driver.computeStyle(ni,un,le.l3))})});const bt=kt(ee.map(qt=>{const ni=Se.get(qt.element);return this._buildPlayer(qt,new Map,ni)}));return this._playersById.set(b,bt),bt.onDestroy(()=>this.destroy(b)),this.players.push(bt),bt}destroy(b){const o=this._getPlayer(b);o.destroy(),this._playersById.delete(b);const h=this.players.indexOf(o);h>=0&&this.players.splice(h,1)}_getPlayer(b){const o=this._playersById.get(b);if(!o)throw function Xe(u){return new l.vHH(3301,!1)}();return o}listen(b,o,h,x){const L=Qi(o,"","","");return yi(this._getPlayer(b),h,L,x),()=>{}}command(b,o,h,x){if("register"==h)return void this.register(b,x[0]);if("create"==h)return void this.create(b,o,x[0]||{});const L=this._getPlayer(b);switch(h){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(b)}}}const Pn="ng-animate-queued",Xr="ng-animate-disabled",Ao=[],$n={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ns={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},po="__ng_removed";class Ks{get params(){return this.options.params}constructor(b,o=""){this.namespaceId=o;const h=b&&b.hasOwnProperty("value");if(this.value=function _c(u){return u??null}(h?b.value:b),h){const L=ve(b);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const o=b.params;if(o){const h=this.options.params;Object.keys(o).forEach(x=>{null==h[x]&&(h[x]=o[x])})}}}const _s="void",Uo=new Ks(_s);class Za{constructor(b,o,h){this.id=b,this.hostElement=o,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,no(o,this._hostClassName)}listen(b,o,h,x){if(!this._triggers.has(o))throw function Ke(u,b){return new l.vHH(3302,!1)}();if(null==h||0==h.length)throw function Ot(u){return new l.vHH(3303,!1)}();if(!function ys(u){return"start"==u||"done"==u}(h))throw function Lt(u,b){return new l.vHH(3400,!1)}();const L=lt(this._elementListeners,b,[]),ee={name:o,phase:h,callback:x};L.push(ee);const Se=lt(this._engine.statesByElement,b,new Map);return Se.has(o)||(no(b,Ci),no(b,Ci+"-"+o),Se.set(o,Uo)),()=>{this._engine.afterFlush(()=>{const et=L.indexOf(ee);et>=0&&L.splice(et,1),this._triggers.has(o)||Se.delete(o)})}}register(b,o){return!this._triggers.has(b)&&(this._triggers.set(b,o),!0)}_getTrigger(b){const o=this._triggers.get(b);if(!o)throw function ai(u){return new l.vHH(3401,!1)}();return o}trigger(b,o,h,x=!0){const L=this._getTrigger(o),ee=new Qs(this.id,o,b);let Se=this._engine.statesByElement.get(b);Se||(no(b,Ci),no(b,Ci+"-"+o),this._engine.statesByElement.set(b,Se=new Map));let et=Se.get(o);const bt=new Ks(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&et&&bt.absorbOptions(et.options),Se.set(o,bt),et||(et=Uo),bt.value!==_s&&et.value===bt.value){if(!function Ia(u,b){const o=Object.keys(u),h=Object.keys(b);if(o.length!=h.length)return!1;for(let x=0;x<o.length;x++){const L=o[x];if(!b.hasOwnProperty(L)||u[L]!==b[L])return!1}return!0}(et.params,bt.params)){const tn=[],Nn=L.matchStyles(et.value,et.params,tn),tr=L.matchStyles(bt.value,bt.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{K(b,Nn),Y(b,tr)})}return}const Hi=lt(this._engine.playersByElement,b,[]);Hi.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==o&&tn.queued&&tn.destroy()});let un=L.matchTransition(et.value,bt.value,b,bt.params),zi=!1;if(!un){if(!x)return;un=L.fallbackTransition,zi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:o,transition:un,fromState:et,toState:bt,player:ee,isFallbackTransition:zi}),zi||(no(b,Pn),ee.onStart(()=>{Js(b,Pn)})),ee.onDone(()=>{let tn=this.players.indexOf(ee);tn>=0&&this.players.splice(tn,1);const Nn=this._engine.playersByElement.get(b);if(Nn){let tr=Nn.indexOf(ee);tr>=0&&Nn.splice(tr,1)}}),this.players.push(ee),Hi.push(ee),ee}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(o=>o.delete(b)),this._elementListeners.forEach((o,h)=>{this._elementListeners.set(h,o.filter(x=>x.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const o=this._engine.playersByElement.get(b);o&&(o.forEach(h=>h.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,o){const h=this._engine.driver.query(b,dn,!0);h.forEach(x=>{if(x[po])return;const L=this._engine.fetchNamespacesByElement(x);L.size?L.forEach(ee=>ee.triggerLeaveAnimation(x,o,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(b,o,h,x){const L=this._engine.statesByElement.get(b),ee=new Map;if(L){const Se=[];if(L.forEach((et,bt)=>{if(ee.set(bt,et.value),this._triggers.has(bt)){const qt=this.trigger(b,bt,_s,x);qt&&Se.push(qt)}}),Se.length)return this._engine.markElementAsRemoved(this.id,b,!0,o,ee),h&&kt(Se).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const o=this._elementListeners.get(b),h=this._engine.statesByElement.get(b);if(o&&h){const x=new Set;o.forEach(L=>{const ee=L.name;if(x.has(ee))return;x.add(ee);const et=this._triggers.get(ee).fallbackTransition,bt=h.get(ee)||Uo,qt=new Ks(_s),ni=new Qs(this.id,ee,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:ee,transition:et,fromState:bt,toState:qt,player:ni,isFallbackTransition:!0})})}}removeNode(b,o){const h=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,o),this.triggerLeaveAnimation(b,o,!0))return;let x=!1;if(h.totalAnimations){const L=h.players.length?h.playersByQueriedElement.get(b):[];if(L&&L.length)x=!0;else{let ee=b;for(;ee=ee.parentNode;)if(h.statesByElement.get(ee)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(b),x)h.markElementAsRemoved(this.id,b,!1,o);else{const L=b[po];(!L||L===$n)&&(h.afterFlush(()=>this.clearElementCache(b)),h.destroyInnerAnimations(b),h._onRemovalComplete(b,o))}}insertNode(b,o){no(b,this._hostClassName)}drainQueuedTransitions(b){const o=[];return this._queue.forEach(h=>{const x=h.player;if(x.destroyed)return;const L=h.element,ee=this._elementListeners.get(L);ee&&ee.forEach(Se=>{if(Se.name==h.triggerName){const et=Qi(L,h.triggerName,h.fromState.value,h.toState.value);et._data=b,yi(h.player,Se.phase,et,Se.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):o.push(h)}),this._queue=[],o.sort((h,x)=>{const L=h.transition.ast.depCount,ee=x.transition.ast.depCount;return 0==L||0==ee?L-ee:this._engine.driver.containsElement(h.element,x.element)?1:-1})}destroy(b){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class Xs{_onRemovalComplete(b,o){this.onRemovalComplete(b,o)}constructor(b,o,h){this.bodyNode=b,this.driver=o,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,L)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(o=>{o.players.forEach(h=>{h.queued&&b.push(h)})}),b}createNamespace(b,o){const h=new Za(b,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(h,o):(this.newHostElements.set(o,h),this.collectEnterElement(o)),this._namespaceLookup[b]=h}_balanceNamespaceList(b,o){const h=this._namespaceList,x=this.namespacesByHostElement;if(h.length-1>=0){let ee=!1,Se=this.driver.getParentElement(o);for(;Se;){const et=x.get(Se);if(et){const bt=h.indexOf(et);h.splice(bt+1,0,b),ee=!0;break}Se=this.driver.getParentElement(Se)}ee||h.unshift(b)}else h.push(b);return x.set(o,b),b}register(b,o){let h=this._namespaceLookup[b];return h||(h=this.createNamespace(b,o)),h}registerTrigger(b,o,h){let x=this._namespaceLookup[b];x&&x.register(o,h)&&this.totalAnimations++}destroy(b,o){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(b);this.namespacesByHostElement.delete(h.hostElement);const x=this._namespaceList.indexOf(h);x>=0&&this._namespaceList.splice(x,1),h.destroy(o),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const o=new Set,h=this.statesByElement.get(b);if(h)for(let x of h.values())if(x.namespaceId){const L=this._fetchNamespace(x.namespaceId);L&&o.add(L)}return o}trigger(b,o,h,x){if(ul(o)){const L=this._fetchNamespace(b);if(L)return L.trigger(o,h,x),!0}return!1}insertNode(b,o,h,x){if(!ul(o))return;const L=o[po];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(o);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(b){const ee=this._fetchNamespace(b);ee&&ee.insertNode(o,h)}x&&this.collectEnterElement(o)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,o){o?this.disabledNodes.has(b)||(this.disabledNodes.add(b),no(b,Xr)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),Js(b,Xr))}removeNode(b,o,h){if(ul(o)){const x=b?this._fetchNamespace(b):null;x?x.removeNode(o,h):this.markElementAsRemoved(b,o,!1,h);const L=this.namespacesByHostElement.get(o);L&&L.id!==b&&L.removeNode(o,h)}else this._onRemovalComplete(o,h)}markElementAsRemoved(b,o,h,x,L){this.collectedLeaveElements.push(o),o[po]={namespaceId:b,setForRemoval:x,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:L}}listen(b,o,h,x,L){return ul(o)?this._fetchNamespace(b).listen(o,h,x,L):()=>{}}_buildInstruction(b,o,h,x,L){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,h,x,b.fromState.options,b.toState.options,o,L)}destroyInnerAnimations(b){let o=this.driver.query(b,dn,!0);o.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(b,Tt,!0),o.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(b){const o=this.playersByElement.get(b);o&&o.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(b){const o=this.playersByQueriedElement.get(b);o&&o.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return kt(this.players).onDone(()=>b());b()})}processLeaveNode(b){const o=b[po];if(o&&o.setForRemoval){if(b[po]=$n,o.namespaceId){this.destroyInnerAnimations(b);const h=this._fetchNamespace(o.namespaceId);h&&h.clearElementCache(b)}this._onRemovalComplete(b,o.setForRemoval)}b.classList?.contains(Xr)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(b=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,x)=>this._balanceNamespaceList(h,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)no(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{o=this._flushAnimations(h,b)}finally{for(let x=0;x<h.length;x++)h[x]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],o.length?kt(o).onDone(()=>{h.forEach(x=>x())}):h.forEach(x=>x())}}reportError(b){throw function At(u){return new l.vHH(3402,!1)}()}_flushAnimations(b,o){const h=new Qo,x=[],L=new Map,ee=[],Se=new Map,et=new Map,bt=new Map,qt=new Set;this.disabledNodes.forEach(an=>{qt.add(an);const Xi=this.driver.query(an,".ng-animate-queued",!0);for(let Tn=0;Tn<Xi.length;Tn++)qt.add(Xi[Tn])});const ni=this.bodyNode,Hi=Array.from(this.statesByElement.keys()),un=Wa(Hi,this.collectedEnterElements),zi=new Map;let tn=0;un.forEach((an,Xi)=>{const Tn=St+tn++;zi.set(Xi,Tn),an.forEach(ur=>no(ur,Tn))});const Nn=[],tr=new Set,Sr=new Set;for(let an=0;an<this.collectedLeaveElements.length;an++){const Xi=this.collectedLeaveElements[an],Tn=Xi[po];Tn&&Tn.setForRemoval&&(Nn.push(Xi),tr.add(Xi),Tn.hasAnimation?this.driver.query(Xi,".ng-star-inserted",!0).forEach(ur=>tr.add(ur)):Sr.add(Xi))}const co=new Map,Br=Wa(Hi,Array.from(tr));Br.forEach((an,Xi)=>{const Tn=wi+tn++;co.set(Xi,Tn),an.forEach(ur=>no(ur,Tn))}),b.push(()=>{un.forEach((an,Xi)=>{const Tn=zi.get(Xi);an.forEach(ur=>Js(ur,Tn))}),Br.forEach((an,Xi)=>{const Tn=co.get(Xi);an.forEach(ur=>Js(ur,Tn))}),Nn.forEach(an=>{this.processLeaveNode(an)})});const ja=[],ll=[];for(let an=this._namespaceList.length-1;an>=0;an--)this._namespaceList[an].drainQueuedTransitions(o).forEach(Tn=>{const ur=Tn.player,To=Tn.element;if(ja.push(ur),this.collectedEnterElements.length){const Ko=To[po];if(Ko&&Ko.setForMove){if(Ko.previousTriggersValues&&Ko.previousTriggersValues.has(Tn.triggerName)){const Hl=Ko.previousTriggersValues.get(Tn.triggerName),Xo=this.statesByElement.get(Tn.element);if(Xo&&Xo.has(Tn.triggerName)){const Il=Xo.get(Tn.triggerName);Il.value=Hl,Xo.set(Tn.triggerName,Il)}}return void ur.destroy()}}const dl=!ni||!this.driver.containsElement(ni,To),wa=co.get(To),Tl=zi.get(To),$r=this._buildInstruction(Tn,h,Tl,wa,dl);if($r.errors&&$r.errors.length)return void ll.push($r);if(dl)return ur.onStart(()=>K(To,$r.fromStyles)),ur.onDestroy(()=>Y(To,$r.toStyles)),void x.push(ur);if(Tn.isFallbackTransition)return ur.onStart(()=>K(To,$r.fromStyles)),ur.onDestroy(()=>Y(To,$r.toStyles)),void x.push(ur);const mu=[];$r.timelines.forEach(Ko=>{Ko.stretchStartingKeyframe=!0,this.disabledNodes.has(Ko.element)||mu.push(Ko)}),$r.timelines=mu,h.append(To,$r.timelines),ee.push({instruction:$r,player:ur,element:To}),$r.queriedElements.forEach(Ko=>lt(Se,Ko,[]).push(ur)),$r.preStyleProps.forEach((Ko,Hl)=>{if(Ko.size){let Xo=et.get(Hl);Xo||et.set(Hl,Xo=new Set),Ko.forEach((Il,Ed)=>Xo.add(Ed))}}),$r.postStyleProps.forEach((Ko,Hl)=>{let Xo=bt.get(Hl);Xo||bt.set(Hl,Xo=new Set),Ko.forEach((Il,Ed)=>Xo.add(Ed))})});if(ll.length){const an=[];ll.forEach(Xi=>{an.push(function ft(u,b){return new l.vHH(3505,!1)}())}),ja.forEach(Xi=>Xi.destroy()),this.reportError(an)}const Ps=new Map,Ml=new Map;ee.forEach(an=>{const Xi=an.element;h.has(Xi)&&(Ml.set(Xi,Xi),this._beforeAnimationBuild(an.player.namespaceId,an.instruction,Ps))}),x.forEach(an=>{const Xi=an.element;this._getPreviousPlayers(Xi,!1,an.namespaceId,an.triggerName,null).forEach(ur=>{lt(Ps,Xi,[]).push(ur),ur.destroy()})});const gc=Nn.filter(an=>ea(an,et,bt)),jl=new Map;hl(jl,this.driver,Sr,bt,le.l3).forEach(an=>{ea(an,et,bt)&&gc.push(an)});const uu=new Map;un.forEach((an,Xi)=>{hl(uu,this.driver,new Set(an),et,le.k1)}),gc.forEach(an=>{const Xi=jl.get(an),Tn=uu.get(an);jl.set(an,new Map([...Xi?.entries()??[],...Tn?.entries()??[]]))});const ms=[],cl=[],hu={};ee.forEach(an=>{const{element:Xi,player:Tn,instruction:ur}=an;if(h.has(Xi)){if(qt.has(Xi))return Tn.onDestroy(()=>Y(Xi,ur.toStyles)),Tn.disabled=!0,Tn.overrideTotalTime(ur.totalTime),void x.push(Tn);let To=hu;if(Ml.size>1){let wa=Xi;const Tl=[];for(;wa=wa.parentNode;){const $r=Ml.get(wa);if($r){To=$r;break}Tl.push(wa)}Tl.forEach($r=>Ml.set($r,To))}const dl=this._buildAnimation(Tn.namespaceId,ur,Ps,L,uu,jl);if(Tn.setRealPlayer(dl),To===hu)ms.push(Tn);else{const wa=this.playersByElement.get(To);wa&&wa.length&&(Tn.parentPlayer=kt(wa)),x.push(Tn)}}else K(Xi,ur.fromStyles),Tn.onDestroy(()=>Y(Xi,ur.toStyles)),cl.push(Tn),qt.has(Xi)&&x.push(Tn)}),cl.forEach(an=>{const Xi=L.get(an.element);if(Xi&&Xi.length){const Tn=kt(Xi);an.setRealPlayer(Tn)}}),x.forEach(an=>{an.parentPlayer?an.syncPlayerEvents(an.parentPlayer):an.destroy()});for(let an=0;an<Nn.length;an++){const Xi=Nn[an],Tn=Xi[po];if(Js(Xi,wi),Tn&&Tn.hasAnimation)continue;let ur=[];if(Se.size){let dl=Se.get(Xi);dl&&dl.length&&ur.push(...dl);let wa=this.driver.query(Xi,Tt,!0);for(let Tl=0;Tl<wa.length;Tl++){let $r=Se.get(wa[Tl]);$r&&$r.length&&ur.push(...$r)}}const To=ur.filter(dl=>!dl.destroyed);To.length?Ol(this,Xi,To):this.processLeaveNode(Xi)}return Nn.length=0,ms.forEach(an=>{this.players.push(an),an.onDone(()=>{an.destroy();const Xi=this.players.indexOf(an);this.players.splice(Xi,1)}),an.play()}),ms}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,o,h,x,L){let ee=[];if(o){const Se=this.playersByQueriedElement.get(b);Se&&(ee=Se)}else{const Se=this.playersByElement.get(b);if(Se){const et=!L||L==_s;Se.forEach(bt=>{bt.queued||!et&&bt.triggerName!=x||ee.push(bt)})}}return(h||x)&&(ee=ee.filter(Se=>!(h&&h!=Se.namespaceId||x&&x!=Se.triggerName))),ee}_beforeAnimationBuild(b,o,h){const L=o.element,ee=o.isRemovalTransition?void 0:b,Se=o.isRemovalTransition?void 0:o.triggerName;for(const et of o.timelines){const bt=et.element,qt=bt!==L,ni=lt(h,bt,[]);this._getPreviousPlayers(bt,qt,ee,Se,o.toState).forEach(un=>{const zi=un.getRealPlayer();zi.beforeDestroy&&zi.beforeDestroy(),un.destroy(),ni.push(un)})}K(L,o.fromStyles)}_buildAnimation(b,o,h,x,L,ee){const Se=o.triggerName,et=o.element,bt=[],qt=new Set,ni=new Set,Hi=o.timelines.map(zi=>{const tn=zi.element;qt.add(tn);const Nn=tn[po];if(Nn&&Nn.removedBeforeQueried)return new le.ZN(zi.duration,zi.delay);const tr=tn!==et,Sr=function vs(u){const b=[];return jo(u,b),b}((h.get(tn)||Ao).map(Ps=>Ps.getRealPlayer())).filter(Ps=>!!Ps.element&&Ps.element===tn),co=L.get(tn),Br=ee.get(tn),ja=hi(this._normalizer,zi.keyframes,co,Br),ll=this._buildPlayer(zi,ja,Sr);if(zi.subTimeline&&x&&ni.add(tn),tr){const Ps=new Qs(b,Se,tn);Ps.setRealPlayer(ll),bt.push(Ps)}return ll});bt.forEach(zi=>{lt(this.playersByQueriedElement,zi.element,[]).push(zi),zi.onDone(()=>function kl(u,b,o){let h=u.get(b);if(h){if(h.length){const x=h.indexOf(o);h.splice(x,1)}0==h.length&&u.delete(b)}return h}(this.playersByQueriedElement,zi.element,zi))}),qt.forEach(zi=>no(zi,Dn));const un=kt(Hi);return un.onDestroy(()=>{qt.forEach(zi=>Js(zi,Dn)),Y(et,o.toStyles)}),ni.forEach(zi=>{lt(x,zi,[]).push(un)}),un}_buildPlayer(b,o,h){return o.length>0?this.driver.animate(b.element,o,b.duration,b.delay,b.easing,h):new le.ZN(b.duration,b.delay)}}class Qs{constructor(b,o,h){this.namespaceId=b,this.triggerName=o,this.element=h,this._player=new le.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((o,h)=>{o.forEach(x=>yi(b,h,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const o=this._player;o.triggerCallback&&b.onStart(()=>o.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,o){lt(this._queuedCallbacks,b,[]).push(o)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const o=this._player;o.triggerCallback&&o.triggerCallback(b)}}function ul(u){return u&&1===u.nodeType}function Uc(u,b){const o=u.style.display;return u.style.display=b??"none",o}function hl(u,b,o,h,x){const L=[];o.forEach(et=>L.push(Uc(et)));const ee=[];h.forEach((et,bt)=>{const qt=new Map;et.forEach(ni=>{const Hi=b.computeStyle(bt,ni,x);qt.set(ni,Hi),(!Hi||0==Hi.length)&&(bt[po]=Ns,ee.push(bt))}),u.set(bt,qt)});let Se=0;return o.forEach(et=>Uc(et,L[Se++])),ee}function Wa(u,b){const o=new Map;if(u.forEach(Se=>o.set(Se,[])),0==b.length)return o;const x=new Set(b),L=new Map;function ee(Se){if(!Se)return 1;let et=L.get(Se);if(et)return et;const bt=Se.parentNode;return et=o.has(bt)?bt:x.has(bt)?1:ee(bt),L.set(Se,et),et}return b.forEach(Se=>{const et=ee(Se);1!==et&&o.get(et).push(Se)}),o}function no(u,b){u.classList?.add(b)}function Js(u,b){u.classList?.remove(b)}function Ol(u,b,o){kt(o).onDone(()=>u.processLeaveNode(b))}function jo(u,b){for(let o=0;o<u.length;o++){const h=u[o];h instanceof le.ZE?jo(h.players,b):b.push(h)}}function ea(u,b,o){const h=o.get(u);if(!h)return!1;let x=b.get(u);return x?h.forEach(L=>x.add(L)):b.set(u,h),o.delete(u),!0}class ts{constructor(b,o,h){this._driver=o,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(x,L)=>{},this._transitionEngine=new Xs(b.body,o,h),this._timelineEngine=new xo(b.body,o,h),this._transitionEngine.onRemovalComplete=(x,L)=>this.onRemovalComplete(x,L)}registerTrigger(b,o,h,x,L){const ee=b+"-"+x;let Se=this._triggerCache[ee];if(!Se){const et=[],qt=Bi(this._driver,L,et,[]);if(et.length)throw function En(u,b){return new l.vHH(3404,!1)}();Se=function yr(u,b,o){return new Ls(u,b,o)}(x,qt,this._normalizer),this._triggerCache[ee]=Se}this._transitionEngine.registerTrigger(o,x,Se)}register(b,o){this._transitionEngine.register(b,o)}destroy(b,o){this._transitionEngine.destroy(b,o)}onInsert(b,o,h,x){this._transitionEngine.insertNode(b,o,h,x)}onRemove(b,o,h){this._transitionEngine.removeNode(b,o,h)}disableAnimations(b,o){this._transitionEngine.markElementAsDisabled(b,o)}process(b,o,h,x){if("@"==h.charAt(0)){const[L,ee]=Vt(h);this._timelineEngine.command(L,o,ee,x)}else this._transitionEngine.trigger(b,o,h,x)}listen(b,o,h,x,L){if("@"==h.charAt(0)){const[ee,Se]=Vt(h);return this._timelineEngine.listen(ee,o,Se,L)}return this._transitionEngine.listen(b,o,h,x,L)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let pa=(()=>{class u{static#e=this.initialStylesByElement=new WeakMap;constructor(o,h,x){this._element=o,this._startStyles=h,this._endStyles=x,this._state=0;let L=u.initialStylesByElement.get(o);L||u.initialStylesByElement.set(o,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&Y(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Y(this._element,this._initialStyles),this._endStyles&&(Y(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(K(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(K(this._element,this._endStyles),this._endStyles=null),Y(this._element,this._initialStyles),this._state=3)}}return u})();function zs(u){let b=null;return u.forEach((o,h)=>{(function qa(u){return"display"===u||"position"===u})(h)&&(b=b||new Map,b.set(h,o))}),b}class Ya{constructor(b,o,h,x){this.element=b,this.keyframes=o,this.options=h,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const o=[];return b.forEach(h=>{o.push(Object.fromEntries(h))}),o}_triggerWebAnimation(b,o,h){return b.animate(this._convertKeyframesToObject(o),h)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,x)=>{"offset"!==x&&b.set(x,this._finished?h:wn(this.element,x))}),this.currentSnapshot=b}triggerCallback(b){const o="start"===b?this._onStartFns:this._onDoneFns;o.forEach(h=>h()),o.length=0}}class Yn{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,o){return!1}containsElement(b,o){return Ce(b,o)}getParentElement(b){return xt(b)}query(b,o,h){return Ne(b,o,h)}computeStyle(b,o,h){return window.getComputedStyle(b)[o]}animate(b,o,h,x,L,ee=[]){const et={duration:h,delay:x,fill:0==x?"both":"forwards"};L&&(et.easing=L);const bt=new Map,qt=ee.filter(un=>un instanceof Ya);(function fi(u,b){return 0===u||0===b})(h,x)&&qt.forEach(un=>{un.currentSnapshot.forEach((zi,tn)=>bt.set(tn,zi))});let ni=function ye(u){return u.length?u[0]instanceof Map?u:u.map(b=>Oe(b)):[]}(o).map(un=>G(un));ni=function Ui(u,b,o){if(o.size&&b.length){let h=b[0],x=[];if(o.forEach((L,ee)=>{h.has(ee)||x.push(ee),h.set(ee,L)}),x.length)for(let L=1;L<b.length;L++){let ee=b[L];x.forEach(Se=>ee.set(Se,wn(u,Se)))}}return b}(b,ni,bt);const Hi=function yc(u,b){let o=null,h=null;return Array.isArray(b)&&b.length?(o=zs(b[0]),b.length>1&&(h=zs(b[b.length-1]))):b instanceof Map&&(o=zs(b)),o||h?new pa(u,o,h):null}(b,ni);return new Ya(b,ni,et,Hi)}}const wo="@.disabled";class kn{constructor(b,o,h,x){this.namespaceId=b,this.delegate=o,this.engine=h,this._onDestroy=x,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,o){return this.delegate.createElement(b,o)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,o){this.delegate.appendChild(b,o),this.engine.onInsert(this.namespaceId,o,b,!1)}insertBefore(b,o,h,x=!0){this.delegate.insertBefore(b,o,h),this.engine.onInsert(this.namespaceId,o,b,x)}removeChild(b,o,h){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(b,o){return this.delegate.selectRootElement(b,o)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,o,h,x){this.delegate.setAttribute(b,o,h,x)}removeAttribute(b,o,h){this.delegate.removeAttribute(b,o,h)}addClass(b,o){this.delegate.addClass(b,o)}removeClass(b,o){this.delegate.removeClass(b,o)}setStyle(b,o,h,x){this.delegate.setStyle(b,o,h,x)}removeStyle(b,o,h){this.delegate.removeStyle(b,o,h)}setProperty(b,o,h){"@"==o.charAt(0)&&o==wo?this.disableAnimations(b,!!h):this.delegate.setProperty(b,o,h)}setValue(b,o){this.delegate.setValue(b,o)}listen(b,o,h){return this.delegate.listen(b,o,h)}disableAnimations(b,o){this.engine.disableAnimations(b,o)}}class cr extends kn{constructor(b,o,h,x,L){super(o,h,x,L),this.factory=b,this.namespaceId=o}setProperty(b,o,h){"@"==o.charAt(0)?"."==o.charAt(1)&&o==wo?this.disableAnimations(b,h=void 0===h||!!h):this.engine.process(this.namespaceId,b,o.slice(1),h):this.delegate.setProperty(b,o,h)}listen(b,o,h){if("@"==o.charAt(0)){const x=function Ka(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(b);let L=o.slice(1),ee="";return"@"!=L.charAt(0)&&([L,ee]=function Pl(u){const b=u.indexOf(".");return[u.substring(0,b),u.slice(b+1)]}(L)),this.engine.listen(this.namespaceId,x,L,ee,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,h,Se)})}return this.delegate.listen(b,o,h)}}class ae{constructor(b,o,h){this.delegate=b,this.engine=o,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(x,L)=>{const ee=L?.parentNode(x);ee&&L.removeChild(ee,x)}}createRenderer(b,o){const x=this.delegate.createRenderer(b,o);if(!b||!o?.data?.animation){const bt=this._rendererCache;let qt=bt.get(x);return qt||(qt=new kn("",x,this.engine,()=>bt.delete(x)),bt.set(x,qt)),qt}const L=o.id,ee=o.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,b);const Se=bt=>{Array.isArray(bt)?bt.forEach(Se):this.engine.registerTrigger(L,ee,b,bt.name,bt)};return o.data.animation.forEach(Se),new cr(this,ee,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(b,o,h){if(b>=0&&b<this._microtaskId)return void this._zone.run(()=>o(h));const x=this._animationCallbacksBuffer;0==x.length&&queueMicrotask(()=>{this._zone.run(()=>{x.forEach(L=>{const[ee,Se]=L;ee(Se)}),this._animationCallbacksBuffer=[]})}),x.push([o,h])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var oe=U(6814);let H=(()=>{class u extends ts{constructor(o,h,x,L){super(o,h,x)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(oe.K0),l.LFG(pe),l.LFG(Me),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac})}return u})();const mi=[{provide:Me,useFactory:function ce(){return new hr}},{provide:ts,useClass:H},{provide:l.FYo,useFactory:function He(u,b,o){return new ae(u,b,o)},deps:[C.se,ts,l.R0b]}],_n=[{provide:pe,useFactory:()=>new Yn},{provide:l.QbO,useValue:"BrowserAnimations"},...mi],nr=[{provide:pe,useClass:$e},{provide:l.QbO,useValue:"NoopAnimations"},...mi];let Pr=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?nr:_n}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({providers:_n,imports:[C.b2]})}return u})(),ka=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[oe.ez]})}return u})();var on=U(5861),ko=U(5624),ro=U(8645);class Xa extends ro.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(b){const{hasError:o,_hasValue:h,_value:x,thrownError:L,isStopped:ee,_isComplete:Se}=this;o?b.error(L):(ee||Se)&&(h&&b.next(x),b.complete())}next(b){this.isStopped||(this._value=b,this._hasValue=!0)}complete(){const{_hasValue:b,_value:o,_isComplete:h}=this;h||(this._isComplete=!0,b&&super.next(o),super.complete())}}var Qn=U(7394),ta=U(1374);let xr=(()=>{class u{constructor(o){this.zone=o,this.mapCreated=new Xa,this.mapLoaded=new Xa,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new Qn.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(o){this.zone.onStable.pipe((0,ta.P)()).subscribe(()=>{this.createMap(o.mapOptions),this.hookEvents(o.mapEvents),this.mapEvents=o.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),o.mapOptions.terrain&&this.mapInstance.on("load",()=>{this.updateTerrain(o.mapOptions.terrain)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateMinZoom(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(o)})}updateMaxZoom(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(o)})}updateMinPitch(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(o)})}updateMaxPitch(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(o)})}updateRenderWorldCopies(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(o)})}updateScrollZoom(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(o){return this.zone.runOutsideAngular(()=>{o?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(o)})}updateMaxBounds(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(o)})}updateTerrain(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.setTerrain(o)})}getTerrain(){return this.zone.runOutsideAngular(()=>this.mapInstance.getTerrain())}changeCanvasCursor(o){this.mapInstance.getCanvasContainer().style.cursor=o}queryRenderedFeatures(o,h){return this.mapInstance.queryRenderedFeatures(o,h)}panTo(o,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(o,h)})}move(o,h,x,L,ee,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance[o]({...h,zoom:x??this.mapInstance.getZoom(),center:L??this.mapInstance.getCenter(),bearing:ee??this.mapInstance.getBearing(),pitch:Se??this.mapInstance.getPitch()})})}addLayer(o,h,x){this.zone.runOutsideAngular(()=>{Object.keys(o.layerOptions).forEach(L=>{void 0===o.layerOptions[L]&&delete o.layerOptions[L]}),this.mapInstance.addLayer(o.layerOptions,x),h&&(o.layerEvents.layerClick.observers.length&&this.mapInstance.on("click",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerClick.emit(L)})}),o.layerEvents.layerDblClick.observers.length&&this.mapInstance.on("dblclick",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerDblClick.emit(L)})}),o.layerEvents.layerMouseDown.observers.length&&this.mapInstance.on("mousedown",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseDown.emit(L)})}),o.layerEvents.layerMouseUp.observers.length&&this.mapInstance.on("mouseup",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseUp.emit(L)})}),o.layerEvents.layerMouseEnter.observers.length&&this.mapInstance.on("mouseenter",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseEnter.emit(L)})}),o.layerEvents.layerMouseLeave.observers.length&&this.mapInstance.on("mouseleave",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseLeave.emit(L)})}),o.layerEvents.layerMouseMove.observers.length&&this.mapInstance.on("mousemove",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseMove.emit(L)})}),o.layerEvents.layerMouseOver.observers.length&&this.mapInstance.on("mouseover",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseOver.emit(L)})}),o.layerEvents.layerMouseOut.observers.length&&this.mapInstance.on("mouseout",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerMouseOut.emit(L)})}),o.layerEvents.layerContextMenu.observers.length&&this.mapInstance.on("contextmenu",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerContextMenu.emit(L)})}),o.layerEvents.layerTouchStart.observers.length&&this.mapInstance.on("touchstart",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerTouchStart.emit(L)})}),o.layerEvents.layerTouchEnd.observers.length&&this.mapInstance.on("touchend",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerTouchEnd.emit(L)})}),o.layerEvents.layerTouchCancel.observers.length&&this.mapInstance.on("touchcancel",o.layerOptions.id,L=>{this.zone.run(()=>{o.layerEvents.layerTouchCancel.emit(L)})}))})}removeLayer(o){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(o)&&this.mapInstance.removeLayer(o)})}addMarker(o){const h={offset:o.markersOptions.offset,anchor:o.markersOptions.anchor,draggable:!!o.markersOptions.draggable,rotationAlignment:o.markersOptions.rotationAlignment,pitchAlignment:o.markersOptions.pitchAlignment,clickTolerance:o.markersOptions.clickTolerance};o.markersOptions.element.childNodes.length>0&&(h.element=o.markersOptions.element);const x=new ko.Marker(h);return o.markersEvents.markerDragStart.observers.length&&x.on("dragstart",ee=>{if(ee){const{target:Se}=ee;this.zone.run(()=>{o.markersEvents.markerDragStart.emit(Se)})}}),o.markersEvents.markerDrag.observers.length&&x.on("drag",ee=>{if(ee){const{target:Se}=ee;this.zone.run(()=>{o.markersEvents.markerDrag.emit(Se)})}}),o.markersEvents.markerDragEnd.observers.length&&x.on("dragend",ee=>{if(ee){const{target:Se}=ee;this.zone.run(()=>{o.markersEvents.markerDragEnd.emit(Se)})}}),x.setLngLat(o.markersOptions.feature?o.markersOptions.feature.geometry.coordinates:o.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(x.addTo(this.mapInstance),x))}removeMarker(o){this.markersToRemove.push(o)}createPopup(o,h){return this.zone.runOutsideAngular(()=>{Object.keys(o.popupOptions).forEach(L=>void 0===o.popupOptions[L]&&delete o.popupOptions[L]);const x=new ko.Popup(o.popupOptions);return x.setDOMContent(h),o.popupEvents.popupClose.observers.length&&x.on("close",()=>{this.zone.run(()=>{o.popupEvents.popupClose.emit()})}),o.popupEvents.popupOpen.observers.length&&x.on("open",()=>{this.zone.run(()=>{o.popupEvents.popupOpen.emit()})}),x})}addPopupToMap(o,h,x=!1){return this.zone.runOutsideAngular(()=>{x&&o._listeners&&delete o._listeners.open,o.setLngLat(h),o.addTo(this.mapInstance)})}addPopupToMarker(o,h){return this.zone.runOutsideAngular(()=>{o.setPopup(h)})}removePopupFromMap(o,h=!1){h&&o._listeners&&delete o._listeners.close,this.popupsToRemove.push(o)}removePopupFromMarker(o){return this.zone.runOutsideAngular(()=>{o.setPopup(void 0)})}addControl(o,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(o,h)})}removeControl(o){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(o)})}loadAndAddImage(o,h,x){var L=this;return(0,on.Z)(function*(){return L.zone.runOutsideAngular(()=>new Promise((ee,Se)=>{L.mapInstance.loadImage(h,(et,bt)=>{et?Se(et):(L.addImage(o,bt,x),ee())})}))})()}addImage(o,h,x){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(o,h,x)})}removeImage(o){this.imageIdsToRemove.push(o)}addSource(o,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(x=>void 0===h[x]&&delete h[x]),this.mapInstance.addSource(o,h)})}getSource(o){return this.mapInstance.getSource(o)}removeSource(o){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(o).forEach(h=>this.mapInstance.removeLayer(h.id)),this.mapInstance.removeSource(o)})}setAllLayerPaintProperty(o,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(x=>{this.mapInstance.setPaintProperty(o,x,h[x])})})}setAllLayerLayoutProperty(o,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(x=>{this.mapInstance.setLayoutProperty(o,x,h[x])})})}setLayerFilter(o,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(o,h)})}setLayerBefore(o,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(o,h)})}setLayerZoomRange(o,h,x){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(o,h||0,x||20)})}fitBounds(o,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(o,h)})}fitScreenCoordinates(o,h,x){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(o[0],o[1],h,x)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(o){l.R0b.assertNotInAngularZone(),Object.keys(o).forEach(x=>{void 0===o[x]&&delete o[x]}),this.mapInstance=new ko.Map(o),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(o.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const o of this.markersToRemove)o.remove();this.markersToRemove=[]}removePopups(){for(const o of this.popupsToRemove)o.remove();this.popupsToRemove=[]}removeImages(){for(const o of this.imageIdsToRemove)this.mapInstance.removeImage(o);this.imageIdsToRemove=[]}findLayersBySourceId(o){const h=this.mapInstance.getStyle().layers;return null==h?[]:h.filter(x=>"source"in x&&x.source===o)}hookEvents(o){this.mapInstance.on("load",h=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{o.mapLoad.emit(h.target)})}),o.mapResize.observers.length&&this.mapInstance.on("resize",h=>this.zone.run(()=>{o.mapResize.emit(h)})),o.mapRemove.observers.length&&this.mapInstance.on("remove",h=>this.zone.run(()=>{o.mapRemove.emit(h)})),o.mapMouseDown.observers.length&&this.mapInstance.on("mousedown",h=>this.zone.run(()=>{o.mapMouseDown.emit(h)})),o.mapMouseUp.observers.length&&this.mapInstance.on("mouseup",h=>this.zone.run(()=>{o.mapMouseUp.emit(h)})),o.mapMouseMove.observers.length&&this.mapInstance.on("mousemove",h=>this.zone.run(()=>{o.mapMouseMove.emit(h)})),o.mapClick.observers.length&&this.mapInstance.on("click",h=>this.zone.run(()=>{o.mapClick.emit(h)})),o.mapDblClick.observers.length&&this.mapInstance.on("dblclick",h=>this.zone.run(()=>{o.mapDblClick.emit(h)})),o.mapMouseOver.observers.length&&this.mapInstance.on("mouseover",h=>this.zone.run(()=>{o.mapMouseOver.emit(h)})),o.mapMouseOut.observers.length&&this.mapInstance.on("mouseout",h=>this.zone.run(()=>{o.mapMouseOut.emit(h)})),o.mapContextMenu.observers.length&&this.mapInstance.on("contextmenu",h=>this.zone.run(()=>{o.mapContextMenu.emit(h)})),o.mapTouchStart.observers.length&&this.mapInstance.on("touchstart",h=>this.zone.run(()=>{o.mapTouchStart.emit(h)})),o.mapTouchEnd.observers.length&&this.mapInstance.on("touchend",h=>this.zone.run(()=>{o.mapTouchEnd.emit(h)})),o.mapTouchMove.observers.length&&this.mapInstance.on("touchmove",h=>this.zone.run(()=>{o.mapTouchMove.emit(h)})),o.mapTouchCancel.observers.length&&this.mapInstance.on("touchcancel",h=>this.zone.run(()=>{o.mapTouchCancel.emit(h)})),o.mapWheel.observers.length&&this.mapInstance.on("wheel",h=>this.zone.run(()=>{o.mapWheel.emit(h)})),o.moveStart.observers.length&&this.mapInstance.on("movestart",h=>this.zone.run(()=>o.moveStart.emit(h))),o.move.observers.length&&this.mapInstance.on("move",h=>this.zone.run(()=>o.move.emit(h))),o.moveEnd.observers.length&&this.mapInstance.on("moveend",h=>this.zone.run(()=>o.moveEnd.emit(h))),o.mapDragStart.observers.length&&this.mapInstance.on("dragstart",h=>this.zone.run(()=>{o.mapDragStart.emit(h)})),o.mapDrag.observers.length&&this.mapInstance.on("drag",h=>this.zone.run(()=>{o.mapDrag.emit(h)})),o.mapDragEnd.observers.length&&this.mapInstance.on("dragend",h=>this.zone.run(()=>{o.mapDragEnd.emit(h)})),o.zoomStart.observers.length&&this.mapInstance.on("zoomstart",h=>this.zone.run(()=>o.zoomStart.emit(h))),o.zoomEvt.observers.length&&this.mapInstance.on("zoom",h=>this.zone.run(()=>o.zoomEvt.emit(h))),o.zoomEnd.observers.length&&this.mapInstance.on("zoomend",h=>this.zone.run(()=>o.zoomEnd.emit(h))),o.rotateStart.observers.length&&this.mapInstance.on("rotatestart",h=>this.zone.run(()=>o.rotateStart.emit(h))),o.rotate.observers.length&&this.mapInstance.on("rotate",h=>this.zone.run(()=>o.rotate.emit(h))),o.rotateEnd.observers.length&&this.mapInstance.on("rotateend",h=>this.zone.run(()=>o.rotateEnd.emit(h))),o.pitchStart.observers.length&&this.mapInstance.on("pitchstart",h=>this.zone.run(()=>o.pitchStart.emit(h))),o.pitchEvt.observers.length&&this.mapInstance.on("pitch",h=>this.zone.run(()=>o.pitchEvt.emit(h))),o.pitchEnd.observers.length&&this.mapInstance.on("pitchend",h=>this.zone.run(()=>o.pitchEnd.emit(h))),o.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",h=>this.zone.run(()=>o.boxZoomStart.emit(h))),o.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",h=>this.zone.run(()=>o.boxZoomEnd.emit(h))),o.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",h=>this.zone.run(()=>o.boxZoomCancel.emit(h))),o.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",h=>this.zone.run(()=>o.webGlContextLost.emit(h))),o.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",h=>this.zone.run(()=>o.webGlContextRestored.emit(h))),o.render.observers.length&&this.mapInstance.on("render",h=>this.zone.run(()=>o.render.emit(h))),o.mapError.observers.length&&this.mapInstance.on("error",h=>this.zone.run(()=>{o.mapError.emit(h)})),o.data.observers.length&&this.mapInstance.on("data",h=>this.zone.run(()=>o.data.emit(h))),o.styleData.observers.length&&this.mapInstance.on("styledata",h=>this.zone.run(()=>o.styleData.emit(h))),o.sourceData.observers.length&&this.mapInstance.on("sourcedata",h=>this.zone.run(()=>o.sourceData.emit(h))),o.dataLoading.observers.length&&this.mapInstance.on("dataloading",h=>this.zone.run(()=>o.dataLoading.emit(h))),o.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",h=>this.zone.run(()=>o.styleDataLoading.emit(h))),o.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",h=>this.zone.run(()=>o.sourceDataLoading.emit(h))),o.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",h=>this.zone.run(()=>o.styleImageMissing.emit(h))),o.idle.observers.length&&this.mapInstance.on("idle",h=>this.zone.run(()=>o.idle.emit(h)))}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac})}return u})();const Oo=["content"],rr=["*"];class bs{constructor(b){this.container=b}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}}let Zn=(()=>{class u{constructor(o){this.mapService=o}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new bs(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position)}))}ngOnDestroy(){this.mapService.mapInstance.hasControl(this.control)&&this.mapService.removeControl(this.control)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-control"]],viewQuery:function(h,x){if(1&h&&l.Gf(Oo,7),2&h){let L;l.iGM(L=l.CRH())&&(x.content=L.first)}},inputs:{position:"position"},ngContentSelectors:rr,decls:3,vars:0,consts:[[1,"maplibregl-ctrl"],["content",""]],template:function(h,x){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0})}return u})();var Ur=U(2438),Dr=U(2181),Sn=U(9397),Qr=U(4664),mr=U(9773),Jr=U(8180),ml=U(3620);let Co=(()=>{class u{constructor(o,h){this.mapService=o,this.zone=h,this.type="geojson",this.updateFeatureData=new ro.x,this.sub=new Qn.w0,this.sourceAdded=!1,this.featureIdCounter=0}ngOnInit(){this.data||(this.data={type:"FeatureCollection",features:[]});const o=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Ur.R)(this.mapService.mapInstance,"styledata").pipe((0,Dr.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(o)}ngOnChanges(o){if(this.sourceAdded&&((o.maxzoom&&!o.maxzoom.isFirstChange()||o.attribution&&!o.attribution.isFirstChange()||o.buffer&&!o.buffer.isFirstChange()||o.tolerance&&!o.tolerance.isFirstChange()||o.cluster&&!o.cluster.isFirstChange()||o.clusterRadius&&!o.clusterRadius.isFirstChange()||o.clusterMaxZoom&&!o.clusterMaxZoom.isFirstChange()||o.clusterMinPoints&&!o.clusterMinPoints.isFirstChange()||o.clusterProperties&&!o.clusterProperties.isFirstChange()||o.lineMetrics&&!o.lineMetrics.isFirstChange()||o.generateId&&!o.generateId.isFirstChange()||o.promoteId&&!o.promoteId.isFirstChange()||o.filter&&!o.filter.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit()),o.data&&!o.data.isFirstChange())){const h=this.mapService.getSource(this.id);if(void 0===h)return;h.setData(this.data)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}getClusterExpansionZoom(o){var h=this;return(0,on.Z)(function*(){const x=h.mapService.getSource(h.id);return h.zone.run((0,on.Z)(function*(){return new Promise((L,ee)=>{x.getClusterExpansionZoom(o,(Se,et)=>{Se?ee(Se):L(et)})})}))})()}getClusterChildren(o){var h=this;return(0,on.Z)(function*(){const x=h.mapService.getSource(h.id);return h.zone.run((0,on.Z)(function*(){return new Promise((L,ee)=>{x.getClusterChildren(o,(Se,et)=>{Se?ee(Se):L(et)})})}))})()}getClusterLeaves(o,h,x){var L=this;return(0,on.Z)(function*(){const ee=L.mapService.getSource(L.id);return L.zone.run((0,on.Z)(function*(){return new Promise((Se,et)=>{ee.getClusterLeaves(o,h,x,(bt,qt)=>{bt?et(bt):Se(qt)})})}))})()}_addFeature(o){this.data.features.push(o),this.updateFeatureData.next(void 0)}_removeFeature(o){const h=this.data,x=h.features.indexOf(o);x>-1&&h.features.splice(x,1),this.updateFeatureData.next(void 0)}_getNewFeatureId(){return++this.featureIdCounter}init(){this.mapService.addSource(this.id,{type:"geojson",data:this.data,maxzoom:this.maxzoom,attribution:this.attribution,buffer:this.buffer,tolerance:this.tolerance,cluster:this.cluster,clusterRadius:this.clusterRadius,clusterMaxZoom:this.clusterMaxZoom,clusterMinPoints:this.clusterMinPoints,clusterProperties:this.clusterProperties,lineMetrics:this.lineMetrics,generateId:this.generateId,promoteId:this.promoteId,filter:this.filter});const h=this.updateFeatureData.pipe((0,ml.b)(0)).subscribe(()=>{const x=this.mapService.getSource(this.id);void 0!==x&&x.setData(this.data)});this.sub.add(h),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-geojson-source"]],inputs:{id:"id",data:"data",maxzoom:"maxzoom",attribution:"attribution",buffer:"buffer",tolerance:"tolerance",cluster:"cluster",clusterRadius:"clusterRadius",clusterMaxZoom:"clusterMaxZoom",clusterMinPoints:"clusterMinPoints",clusterProperties:"clusterProperties",lineMetrics:"lineMetrics",generateId:"generateId",promoteId:"promoteId",filter:"filter"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2,changeDetection:0})}return u})(),Or=(()=>{class u{constructor(o){this.geoJSONSourceComponent=o,this.type="Feature"}ngOnInit(){this.id||(this.id=this.geoJSONSourceComponent._getNewFeatureId()),this.feature={type:this.type,geometry:this.geometry,properties:this.properties?this.properties:{}},this.feature.id=this.id,this.geoJSONSourceComponent._addFeature(this.feature)}ngOnDestroy(){this.geoJSONSourceComponent._removeFeature(this.feature)}updateCoordinates(o){this.feature.geometry.coordinates=o,this.geoJSONSourceComponent.updateFeatureData.next(void 0)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36((0,l.Gpc)(()=>Co)))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-feature"]],inputs:{id:"id",geometry:"geometry",properties:"properties"},decls:0,vars:0,template:function(h,x){},encapsulation:2,changeDetection:0})}return u})(),pl=(()=>{class u{constructor(o,h,x){this.mapService=o,this.ngZone=h,this.featureComponent=x,this.featureDragStart=new l.vpe,this.featureDragEnd=new l.vpe,this.featureDrag=new l.vpe,this.sub=new Qn.w0}ngOnInit(){let o,h,x;if(!this.featureComponent||!this.layer)throw new Error("mglDraggable can only be used on Feature (with a layer as input) or Marker");if(o=this.layer.layerMouseEnter,h=this.layer.layerMouseLeave,x=this.featureComponent.updateCoordinates.bind(this.featureComponent),"Point"!==this.featureComponent.geometry.type)throw new Error("mglDraggable only support point feature");this.handleDraggable(o,h,x)}ngOnDestroy(){this.sub.unsubscribe()}handleDraggable(o,h,x){let L=!1,ee=!1;this.mapService.mapCreated$.subscribe(()=>{const Se=(0,Ur.R)(this.mapService.mapInstance,"mouseup"),et=o.pipe((0,Dr.h)(()=>!L),(0,Dr.h)(ni=>this.filterFeature(ni)),(0,Sn.b)(()=>{ee=!0,this.mapService.changeCanvasCursor("move"),this.mapService.updateDragPan(!1)}),(0,Qr.w)(()=>(0,Ur.R)(this.mapService.mapInstance,"mousedown").pipe((0,mr.R)(h)))),bt=et.pipe((0,Qr.w)(()=>(0,Ur.R)(this.mapService.mapInstance,"mousemove").pipe((0,mr.R)(Se)))),qt=et.pipe((0,Qr.w)(()=>Se.pipe((0,Jr.q)(1))));this.sub.add(et.subscribe(ni=>{L=!0,this.featureDragStart.observers.length&&this.ngZone.run(()=>{this.featureDragStart.emit(ni)})})),this.sub.add(bt.subscribe(ni=>{x([ni.lngLat.lng,ni.lngLat.lat]),this.featureDrag.observers.length&&this.ngZone.run(()=>{this.featureDrag.emit(ni)})})),this.sub.add(qt.subscribe(ni=>{L=!1,this.featureDragEnd.observers.length&&this.ngZone.run(()=>{this.featureDragEnd.emit(ni)}),ee||(this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0))})),this.sub.add(h.pipe((0,Sn.b)(()=>ee=!1),(0,Dr.h)(()=>!L)).subscribe(()=>{this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0)}))})}filterFeature(o){return!(this.featureComponent&&this.layer&&!this.mapService.queryRenderedFeatures(o.point,{layers:[this.layer.id],filter:["all",["==","$type","Point"],["==","$id",this.featureComponent.id]]})[0])}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(l.R0b),l.Y36(Or,9))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglDraggable",""]],inputs:{layer:["mglDraggable","layer"]},outputs:{featureDragStart:"featureDragStart",featureDragEnd:"featureDragEnd",featureDrag:"featureDrag"}})}return u})();var jr=U(7398),or=U(7921);let Mr=(()=>{class u{constructor(o){this.mapService=o,this.layerClick=new l.vpe,this.layerDblClick=new l.vpe,this.layerMouseDown=new l.vpe,this.layerMouseUp=new l.vpe,this.layerMouseEnter=new l.vpe,this.layerMouseLeave=new l.vpe,this.layerMouseMove=new l.vpe,this.layerMouseOver=new l.vpe,this.layerMouseOut=new l.vpe,this.layerContextMenu=new l.vpe,this.layerTouchStart=new l.vpe,this.layerTouchEnd=new l.vpe,this.layerTouchCancel=new l.vpe,this.layerAdded=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,Qr.w)(()=>(0,Ur.R)(this.mapService.mapInstance,"styledata").pipe((0,jr.U)(()=>!1),(0,Dr.h)(()=>!this.mapService.mapInstance.getLayer(this.id)),(0,or.O)(!0)))).subscribe(o=>this.init(o))}ngOnChanges(o){this.layerAdded&&(o.paint&&!o.paint.isFirstChange()&&this.mapService.setAllLayerPaintProperty(this.id,o.paint.currentValue),o.layout&&!o.layout.isFirstChange()&&this.mapService.setAllLayerLayoutProperty(this.id,o.layout.currentValue),o.filter&&!o.filter.isFirstChange()&&this.mapService.setLayerFilter(this.id,o.filter.currentValue),o.before&&!o.before.isFirstChange()&&this.mapService.setLayerBefore(this.id,o.before.currentValue),(o.minzoom&&!o.minzoom.isFirstChange()||o.maxzoom&&!o.maxzoom.isFirstChange())&&this.mapService.setLayerZoomRange(this.id,this.minzoom,this.maxzoom))}ngOnDestroy(){this.layerAdded&&(this.mapService.removeLayer(this.id),void 0!==this.sourceIdAdded&&this.mapService.getSource(this.sourceIdAdded)&&this.mapService.removeSource(this.sourceIdAdded)),this.sub&&this.sub.unsubscribe()}init(o){const h={layerOptions:{id:this.id,type:this.type,source:this.source,metadata:this.metadata,"source-layer":this.sourceLayer,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this.layout,paint:this.paint},layerEvents:{layerClick:this.layerClick,layerDblClick:this.layerDblClick,layerMouseDown:this.layerMouseDown,layerMouseUp:this.layerMouseUp,layerMouseEnter:this.layerMouseEnter,layerMouseLeave:this.layerMouseLeave,layerMouseMove:this.layerMouseMove,layerMouseOver:this.layerMouseOver,layerMouseOut:this.layerMouseOut,layerContextMenu:this.layerContextMenu,layerTouchStart:this.layerTouchStart,layerTouchEnd:this.layerTouchEnd,layerTouchCancel:this.layerTouchCancel}};this.removeSource&&"string"!=typeof this.source&&void 0===this.mapService.getSource(this.id)&&(this.sourceIdAdded=this.id),this.mapService.addLayer(h,o,this.before),void 0!==this.sourceIdAdded&&void 0===this.mapService.getSource(this.sourceIdAdded)&&(this.sourceIdAdded=void 0),this.layerAdded=!0}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-layer"]],inputs:{id:"id",source:"source",type:"type",metadata:"metadata",sourceLayer:"sourceLayer",removeSource:"removeSource",filter:"filter",layout:"layout",paint:"paint",before:"before",minzoom:"minzoom",maxzoom:"maxzoom"},outputs:{layerClick:"layerClick",layerDblClick:"layerDblClick",layerMouseDown:"layerMouseDown",layerMouseUp:"layerMouseUp",layerMouseEnter:"layerMouseEnter",layerMouseLeave:"layerMouseLeave",layerMouseMove:"layerMouseMove",layerMouseOver:"layerMouseOver",layerMouseOut:"layerMouseOut",layerContextMenu:"layerContextMenu",layerTouchStart:"layerTouchStart",layerTouchEnd:"layerTouchEnd",layerTouchCancel:"layerTouchCancel"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2})}return u})(),Zr=(()=>{class u{constructor(o,h){this.mapService=o,this.zone=h,this.imageError=new l.vpe,this.imageLoaded=new l.vpe,this.isAdded=!1,this.isAdding=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,Qr.w)(()=>(0,Ur.R)(this.mapService.mapInstance,"styledata").pipe((0,or.O)(void 0),(0,Dr.h)(()=>!this.isAdding&&!this.mapService.mapInstance.hasImage(this.id))))).subscribe(()=>this.init())}ngOnChanges(o){(o.data&&!o.data.isFirstChange()||o.options&&!o.options.isFirstChange()||o.url&&!o.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.isAdded&&this.mapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}init(){var o=this;return(0,on.Z)(function*(){if(o.isAdding=!0,o.data)o.mapService.addImage(o.id,o.data,o.options),o.isAdded=!0,o.isAdding=!1;else if(o.url)try{yield o.mapService.loadAndAddImage(o.id,o.url,o.options),o.isAdded=!0,o.isAdding=!1,o.zone.run(()=>{o.imageLoaded.emit()})}catch(h){o.zone.run(()=>{o.imageError.emit(h)})}})()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2})}return u})(),Oa=(()=>{class u{constructor(o){this.mapService=o,this.type="vector",this.sourceAdded=!1,this.sub=new Qn.w0}ngOnInit(){const o=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Ur.R)(this.mapService.mapInstance,"styledata").pipe((0,Dr.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(o)}ngOnChanges(o){if(this.sourceAdded)if(o.bounds&&!o.bounds.isFirstChange()||o.scheme&&!o.scheme.isFirstChange()||o.minzoom&&!o.minzoom.isFirstChange()||o.maxzoom&&!o.maxzoom.isFirstChange()||o.attribution&&!o.attribution.isFirstChange()||o.promoteId&&!o.promoteId.isFirstChange())this.ngOnDestroy(),this.ngOnInit();else if(o.url&&!o.url.isFirstChange()||o.tiles&&!o.tiles.isFirstChange()){const h=this.mapService.getSource(this.id);if(void 0===h)return;o.url&&this.url&&h.setUrl(this.url),o.tiles&&this.tiles&&h.setTiles(this.tiles)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,scheme:this.scheme,minzoom:this.minzoom,maxzoom:this.maxzoom,attribution:this.attribution,promoteId:this.promoteId}),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-vector-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",scheme:"scheme",minzoom:"minzoom",maxzoom:"maxzoom",attribution:"attribution",promoteId:"promoteId"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2,changeDetection:0})}return u})(),dd=(()=>{class u{constructor(o){this.mapService=o,this.type="image"}ngOnInit(){this.sub=this.mapService.mapLoaded$.subscribe(()=>this.init())}ngOnChanges(o){if(void 0===this.sourceId)return;const h=this.mapService.getSource(this.sourceId);void 0!==h&&h.updateImage({url:void 0===o.url?void 0:this.url,coordinates:void 0===o.coordinates?void 0:this.coordinates})}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe(),void 0!==this.sourceId&&(this.mapService.removeSource(this.sourceId),this.sourceId=void 0)}init(){this.mapService.addSource(this.id,{type:"image",url:this.url,coordinates:this.coordinates}),this.sourceId=this.id}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-image-source"]],inputs:{id:"id",url:"url",coordinates:"coordinates"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2,changeDetection:0})}return u})(),fa=(()=>{class u{constructor(o){this.mapService=o,this.type="raster-dem",this.sourceAdded=!1,this.sub=new Qn.w0}ngOnInit(){const o=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Ur.R)(this.mapService.mapInstance,"styledata").pipe((0,Dr.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(o)}ngOnChanges(o){this.sourceAdded&&(o.url&&!o.url.isFirstChange()||o.tiles&&!o.tiles.isFirstChange()||o.bounds&&!o.bounds.isFirstChange()||o.minzoom&&!o.minzoom.isFirstChange()||o.maxzoom&&!o.maxzoom.isFirstChange()||o.tileSize&&!o.tileSize.isFirstChange()||o.attribution&&!o.attribution.isFirstChange()||o.encoding&&!o.encoding.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,minzoom:this.minzoom,maxzoom:this.maxzoom,tileSize:this.tileSize,attribution:this.attribution,encoding:this.encoding}),this.sourceAdded=!0}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-raster-dem-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",minzoom:"minzoom",maxzoom:"maxzoom",tileSize:"tileSize",attribution:"attribution",encoding:"encoding"},features:[l.TTD],decls:0,vars:0,template:function(h,x){},encapsulation:2,changeDetection:0})}return u})();const ns=["content"],Qa=["*"];let ia=(()=>{class u{constructor(o){this.mapService=o,this.markerDragStart=new l.vpe,this.markerDragEnd=new l.vpe,this.markerDrag=new l.vpe}ngOnInit(){if(this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(o){o.lngLat&&!o.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),o.feature&&!o.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),o.draggable&&!o.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),o.popupShown&&!o.popupShown.isFirstChange()&&(o.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),o.pitchAlignment&&!o.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(o.pitchAlignment.currentValue),o.rotationAlignment&&!o.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(o.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(o){this.markerInstance.setLngLat(o)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-marker"]],viewQuery:function(h,x){if(1&h&&l.Gf(ns,7),2&h){let L;l.iGM(L=l.CRH())&&(x.content=L.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag"},features:[l.TTD],ngContentSelectors:Qa,decls:3,vars:2,consts:[["content",""]],template:function(h,x){1&h&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA()),2&h&&l.Tol(x.className)},encapsulation:2,changeDetection:0})}return u})();const Ja=["content"],Pa=["*"];let vc=(()=>{class u{constructor(o){this.mapService=o,this.popupClose=new l.vpe,this.popupOpen=new l.vpe}ngOnInit(){if(this.lngLat&&this.marker||this.feature&&this.lngLat||this.feature&&this.marker)throw new Error("marker, lngLat, feature input are mutually exclusive")}ngOnChanges(o){if(o.feature&&!o.feature.isFirstChange()){const h=o.lngLat?this.lngLat:this.feature.geometry.coordinates;this.mapService.removePopupFromMap(this.popupInstance,!0);const x=this.createPopup();this.mapService.addPopupToMap(x,h,this.popupInstance.isOpen()),this.popupInstance=x}if(o.lngLat&&!o.lngLat.isFirstChange()&&this.popupInstance.setLngLat(this.lngLat),o.marker&&!o.marker.isFirstChange()){const h=o.marker.previousValue;h.markerInstance&&this.mapService.removePopupFromMarker(h.markerInstance),this.marker&&this.marker.markerInstance&&this.popupInstance&&this.mapService.addPopupToMarker(this.marker.markerInstance,this.popupInstance)}o.offset&&!o.offset.isFirstChange()&&this.popupInstance&&this.popupInstance.setOffset(this.offset)}ngAfterViewInit(){this.popupInstance=this.createPopup(),this.addPopup(this.popupInstance)}ngOnDestroy(){this.popupInstance&&(this.lngLat||this.feature?this.mapService.removePopupFromMap(this.popupInstance):this.marker&&this.marker.markerInstance&&this.mapService.removePopupFromMarker(this.marker.markerInstance)),this.popupInstance=void 0}createPopup(){return this.mapService.createPopup({popupOptions:{closeButton:this.closeButton,closeOnClick:this.closeOnClick,closeOnMove:this.closeOnMove,focusAfterOpen:this.focusAfterOpen,anchor:this.anchor,offset:this.offset,className:this.className,maxWidth:this.maxWidth},popupEvents:{popupOpen:this.popupOpen,popupClose:this.popupClose}},this.content.nativeElement)}addPopup(o){this.mapService.mapCreated$.subscribe(()=>{if(this.lngLat||this.feature)this.mapService.addPopupToMap(o,this.lngLat?this.lngLat:this.feature.geometry.coordinates);else{if(!this.marker||!this.marker.markerInstance)throw new Error("mgl-popup need either lngLat/marker/feature to be set");this.mapService.addPopupToMarker(this.marker.markerInstance,o)}})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-popup"]],viewQuery:function(h,x){if(1&h&&l.Gf(Ja,7),2&h){let L;l.iGM(L=l.CRH())&&(x.content=L.first)}},inputs:{closeButton:"closeButton",closeOnClick:"closeOnClick",closeOnMove:"closeOnMove",focusAfterOpen:"focusAfterOpen",anchor:"anchor",className:"className",maxWidth:"maxWidth",feature:"feature",lngLat:"lngLat",marker:"marker",offset:"offset"},outputs:{popupClose:"popupClose",popupOpen:"popupOpen"},features:[l.TTD],ngContentSelectors:Pa,decls:3,vars:0,consts:[["content",""]],template:function(h,x){1&h&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0})}return u})(),el=(()=>{class u{onFullscreen(){this.mapService.mapInstance.resize()}constructor(o,h){this.mapService=o,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new ko.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglFullscreen",""]],hostBindings:function(h,x){1&h&&l.NdJ("webkitfullscreenchange",function(ee){return x.onFullscreen(ee.target)},!1,l.Jf7)},inputs:{container:"container"}})}return u})(),bc=(()=>{class u{constructor(o,h){this.mapService=o,this.controlComponent=h,this.geolocate=new l.vpe}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const o={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation};Object.keys(o).forEach(h=>{void 0===o[h]&&delete o[h]}),this.controlComponent.control=new ko.GeolocateControl(o),this.controlComponent.control.on("geolocate",h=>{this.geolocate.emit(h)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation"},outputs:{geolocate:"geolocate"}})}return u})(),B=(()=>{class u{constructor(o,h){this.mapService=o,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const o={};void 0!==this.showCompass&&(o.showCompass=this.showCompass),void 0!==this.showZoom&&(o.showZoom=this.showZoom),null!=this.visualizePitch&&(o.visualizePitch=this.visualizePitch),this.controlComponent.control=new ko.NavigationControl(o),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom",visualizePitch:"visualizePitch"}})}return u})(),fe=(()=>{class u{constructor(o,h){this.mapService=o,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const o={};void 0!==this.compact&&(o.compact=this.compact),void 0!==this.customAttribution&&(o.customAttribution=this.customAttribution),this.controlComponent.control=new ko.AttributionControl(o),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}})}return u})(),W=(()=>{class u{constructor(o,h){this.mapService=o,this.controlComponent=h}ngOnChanges(o){o.unit&&!o.unit.isFirstChange()&&this.controlComponent.control.setUnit(o.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const o={};void 0!==this.maxWidth&&(o.maxWidth=this.maxWidth),void 0!==this.unit&&(o.unit=this.unit),this.controlComponent.control=new ko.ScaleControl(o),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[l.TTD]})}return u})();var te=U(3019);function qe(u,b){1&u&&l.GkF(0)}const zt=u=>({$implicit:u});function ii(u,b){if(1&u&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,qe,1,0,"ng-container",4),l.qZA(),l.BQk()),2&u){const o=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",o),l.xp6(1),l.Q6J("ngTemplateOutlet",h.clusterPointTpl)("ngTemplateOutletContext",l.VKq(3,zt,o))}}function $i(u,b){1&u&&l.GkF(0)}function di(u,b){if(1&u&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,$i,1,0,"ng-container",4),l.qZA(),l.BQk()),2&u){const o=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",o),l.xp6(1),l.Q6J("ngTemplateOutlet",h.pointTpl)("ngTemplateOutletContext",l.VKq(3,zt,o))}}function fr(u,b){if(1&u&&(l.ynx(0),l.YNc(1,ii,3,5,"ng-container",2)(2,di,3,5,"ng-container",2),l.BQk()),2&u){const o=b.$implicit;l.xp6(1),l.Q6J("ngIf",o.properties.cluster),l.xp6(1),l.Q6J("ngIf",!o.properties.cluster)}}const gr=()=>({"circle-radius":0});let Hn=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["ng-template","mglPoint",""]]})}return u})(),wr=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["ng-template","mglClusterPoint",""]]})}return u})(),Jn=0,Hr=(()=>{class u{constructor(o,h,x){this.mapService=o,this.changeDetectorRef=h,this.ngZone=x,this.layerId="mgl-markers-for-clusters-"+Jn++,this.sub=new Qn.w0}ngAfterContentInit(){const h=this.mapService.mapCreated$.pipe((0,Qr.w)(()=>(0,Ur.R)(this.mapService.mapInstance,"data").pipe((0,Dr.h)(x=>x.sourceId===this.source&&"metadata"!==x.sourceDataType&&this.mapService.mapInstance.isSourceLoaded(this.source)))),(0,Qr.w)(()=>(0,te.T)((0,Ur.R)(this.mapService.mapInstance,"move"),(0,Ur.R)(this.mapService.mapInstance,"moveend")).pipe((0,or.O)(void 0)))).subscribe(()=>{this.ngZone.run(()=>{this.updateCluster()})});this.sub.add(h)}ngOnDestroy(){this.sub.unsubscribe()}trackByClusterPoint(o,h){return h.id}updateCluster(){const o={layers:[this.layerId]};this.pointTpl||(o.filter=["==","cluster",!0]),this.clusterPoints=this.mapService.mapInstance.queryRenderedFeatures(o),this.changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(l.sBO),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-markers-for-clusters"]],contentQueries:function(h,x,L){if(1&h&&(l.Suo(L,Hn,5,l.Rgc),l.Suo(L,wr,5,l.Rgc)),2&h){let ee;l.iGM(ee=l.CRH())&&(x.pointTpl=ee.first),l.iGM(ee=l.CRH())&&(x.clusterPointTpl=ee.first)}},inputs:{source:"source"},decls:2,vars:6,consts:[["type","circle",3,"id","source","paint"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(h,x){1&h&&(l._UZ(0,"mgl-layer",0),l.YNc(1,fr,3,2,"ng-container",1)),2&h&&(l.Q6J("id",x.layerId)("source",x.source)("paint",l.DdM(5,gr)),l.xp6(1),l.Q6J("ngForOf",x.clusterPoints)("ngForTrackBy",x.trackByClusterPoint))},dependencies:[oe.sg,oe.O5,oe.tP,Mr,ia],encapsulation:2,changeDetection:0})}return u})(),xs=(()=>{class u{constructor(o,h){this.mapService=o,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new ko.TerrainControl({source:this.source,exaggeration:this.exaggeration??1}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr),l.Y36(Zn,1))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mglTerrain",""]],inputs:{source:"source",exaggeration:"exaggeration"}})}return u})();const Vs=["container"];let xn=(()=>{class u{get mapInstance(){return this.mapService.mapInstance}constructor(o){this.mapService=o,this.movingMethod="flyTo",this.mapResize=new l.vpe,this.mapRemove=new l.vpe,this.mapMouseDown=new l.vpe,this.mapMouseUp=new l.vpe,this.mapMouseMove=new l.vpe,this.mapClick=new l.vpe,this.mapDblClick=new l.vpe,this.mapMouseOver=new l.vpe,this.mapMouseOut=new l.vpe,this.mapContextMenu=new l.vpe,this.mapTouchStart=new l.vpe,this.mapTouchEnd=new l.vpe,this.mapTouchMove=new l.vpe,this.mapTouchCancel=new l.vpe,this.mapWheel=new l.vpe,this.moveStart=new l.vpe,this.move=new l.vpe,this.moveEnd=new l.vpe,this.mapDragStart=new l.vpe,this.mapDrag=new l.vpe,this.mapDragEnd=new l.vpe,this.zoomStart=new l.vpe,this.zoomEvt=new l.vpe,this.zoomEnd=new l.vpe,this.rotateStart=new l.vpe,this.rotate=new l.vpe,this.rotateEnd=new l.vpe,this.pitchStart=new l.vpe,this.pitchEvt=new l.vpe,this.pitchEnd=new l.vpe,this.boxZoomStart=new l.vpe,this.boxZoomEnd=new l.vpe,this.boxZoomCancel=new l.vpe,this.webGlContextLost=new l.vpe,this.webGlContextRestored=new l.vpe,this.mapLoad=new l.vpe,this.idle=new l.vpe,this.render=new l.vpe,this.mapError=new l.vpe,this.data=new l.vpe,this.styleData=new l.vpe,this.sourceData=new l.vpe,this.dataLoading=new l.vpe,this.styleDataLoading=new l.vpe,this.sourceDataLoading=new l.vpe,this.styleImageMissing=new l.vpe}ngAfterViewInit(){this.mapService.setup({mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,terrain:this.terrain},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(o){var h=this;return(0,on.Z)(function*(){yield h.mapService.mapCreated$.toPromise(),o.cursorStyle&&!o.cursorStyle.isFirstChange()&&h.mapService.changeCanvasCursor(o.cursorStyle.currentValue),o.minZoom&&!o.minZoom.isFirstChange()&&h.mapService.updateMinZoom(o.minZoom.currentValue),o.maxZoom&&!o.maxZoom.isFirstChange()&&h.mapService.updateMaxZoom(o.maxZoom.currentValue),o.minPitch&&!o.minPitch.isFirstChange()&&h.mapService.updateMinPitch(o.minPitch.currentValue),o.maxPitch&&!o.maxPitch.isFirstChange()&&h.mapService.updateMaxPitch(o.maxPitch.currentValue),o.renderWorldCopies&&!o.renderWorldCopies.isFirstChange()&&h.mapService.updateRenderWorldCopies(o.renderWorldCopies.currentValue),o.scrollZoom&&!o.scrollZoom.isFirstChange()&&h.mapService.updateScrollZoom(o.scrollZoom.currentValue),o.dragRotate&&!o.dragRotate.isFirstChange()&&h.mapService.updateDragRotate(o.dragRotate.currentValue),o.touchPitch&&!o.touchPitch.isFirstChange()&&h.mapService.updateTouchPitch(o.touchPitch.currentValue),o.touchZoomRotate&&!o.touchZoomRotate.isFirstChange()&&h.mapService.updateTouchZoomRotate(o.touchZoomRotate.currentValue),o.doubleClickZoom&&!o.doubleClickZoom.isFirstChange()&&h.mapService.updateDoubleClickZoom(o.doubleClickZoom.currentValue),o.keyboard&&!o.keyboard.isFirstChange()&&h.mapService.updateKeyboard(o.keyboard.currentValue),o.dragPan&&!o.dragPan.isFirstChange()&&h.mapService.updateDragPan(o.dragPan.currentValue),o.boxZoom&&!o.boxZoom.isFirstChange()&&h.mapService.updateBoxZoom(o.boxZoom.currentValue),o.style&&!o.style.isFirstChange()&&h.mapService.updateStyle(o.style.currentValue),o.maxBounds&&!o.maxBounds.isFirstChange()&&h.mapService.updateMaxBounds(o.maxBounds.currentValue),o.fitBounds&&o.fitBounds.currentValue&&!o.fitBounds.isFirstChange()&&h.mapService.fitBounds(o.fitBounds.currentValue,h.fitBoundsOptions),o.fitScreenCoordinates&&o.fitScreenCoordinates.currentValue&&((h.center||h.zoom||h.pitch||h.fitBounds)&&o.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),h.mapService.fitScreenCoordinates(o.fitScreenCoordinates.currentValue,h.bearing?h.bearing[0]:0,h.movingOptions)),!h.centerWithPanTo||!o.center||o.center.isFirstChange()||o.zoom||o.bearing||o.pitch?(o.center&&!o.center.isFirstChange()||o.zoom&&!o.zoom.isFirstChange()||o.bearing&&!o.bearing.isFirstChange()&&!o.fitScreenCoordinates||o.pitch&&!o.pitch.isFirstChange())&&h.mapService.move(h.movingMethod,h.movingOptions,o.zoom&&h.zoom?h.zoom[0]:void 0,o.center?h.center:void 0,o.bearing&&h.bearing?h.bearing[0]:void 0,o.pitch&&h.pitch?h.pitch[0]:void 0):h.mapService.panTo(h.center,h.panToOptions),o.terrain&&!o.terrain.isFirstChange()&&h.mapService.updateTerrain(o.terrain.currentValue)})()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xr))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mgl-map"]],viewQuery:function(h,x){if(1&h&&l.Gf(Vs,7),2&h){let L;l.iGM(L=l.CRH())&&(x.mapContainer=L.first)}},inputs:{collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",terrain:"terrain",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing"},features:[l._Bn([xr]),l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(h,x){1&h&&l._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0})}return u})();var Ho=U(877);const ws="object"==typeof global&&global&&global.Object===Object&&global;var eo="object"==typeof self&&self&&self.Object===Object&&self;const rs=ws||eo||Function("return this")(),fo=rs.Symbol;var Wl=Object.prototype,Tr=Wl.hasOwnProperty,os=Wl.toString,lr=fo?fo.toStringTag:void 0;var Ra=Object.prototype.toString;var Wi=fo?fo.toStringTag:void 0;const oa=function yn(u){return null==u?void 0===u?"[object Undefined]":"[object Null]":Wi&&Wi in Object(u)?function Cr(u){var b=Tr.call(u,lr),o=u[lr];try{u[lr]=void 0;var h=!0}catch{}var x=os.call(u);return h&&(b?u[lr]=o:delete u[lr]),x}(u):function ss(u){return Ra.call(u)}(u)},fl=function xc(u){var b=typeof u;return null!=u&&("object"==b||"function"==b)},Wr=function Rl(u){if(!fl(u))return!1;var b=oa(u);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b};var u,Fr=rs["__core-js_shared__"],gl=(u=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";var $c=Function.prototype.toString;const _l=function Kl(u){if(null!=u){try{return $c.call(u)}catch{}try{return u+""}catch{}}return""};var Bt=/^\[object .+?Constructor\]$/,v=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const O=function D(u){return!(!fl(u)||function Yl(u){return!!gl&&gl in u}(u))&&(Wr(u)?v:Bt).test(_l(u))},J=function Z(u,b){var o=function R(u,b){return u?.[b]}(u,b);return O(o)?o:void 0};var ne=function(){try{var u=J(Object,"defineProperty");return u({},"",{}),u}catch{}}();const ge=ne,Fe=function Pe(u,b,o){"__proto__"==b&&ge?ge(u,b,{configurable:!0,enumerable:!0,value:o,writable:!0}):u[b]=o},ke=function ze(u,b,o,h){for(var x=-1,L=null==u?0:u.length;++x<L;){var ee=u[x];b(h,ee,o(ee),u)}return h};var T=function gt(u){return function(b,o,h){for(var x=-1,L=Object(b),ee=h(b),Se=ee.length;Se--;){var et=ee[u?Se:++x];if(!1===o(L[et],et,L))break}return b}}();const P=T,se=function $(u){return null!=u&&"object"==typeof u},st=function Qe(u){return se(u)&&"[object Arguments]"==oa(u)};var oi=Object.prototype,Jt=oi.hasOwnProperty,bi=oi.propertyIsEnumerable,Ai=st(function(){return arguments}())?st:function(u){return se(u)&&Jt.call(u,"callee")&&!bi.call(u,"callee")};const er=Ai,qi=Array.isArray;var Ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,$o=Ir&&"object"==typeof module&&module&&!module.nodeType&&module,oo=$o&&$o.exports===Ir?rs.Buffer:void 0;const Ds=(oo?oo.isBuffer:void 0)||function An(){return!1};var Xl=/^(?:0|[1-9]\d*)$/;const vl=function yl(u,b){var o=typeof u;return!!(b=b??9007199254740991)&&("number"==o||"symbol"!=o&&Xl.test(u))&&u>-1&&u%1==0&&u<b},Go=function Ro(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=9007199254740991};var Er={};Er["[object Float32Array]"]=Er["[object Float64Array]"]=Er["[object Int8Array]"]=Er["[object Int16Array]"]=Er["[object Int32Array]"]=Er["[object Uint8Array]"]=Er["[object Uint8ClampedArray]"]=Er["[object Uint16Array]"]=Er["[object Uint32Array]"]=!0,Er["[object Arguments]"]=Er["[object Array]"]=Er["[object ArrayBuffer]"]=Er["[object Boolean]"]=Er["[object DataView]"]=Er["[object Date]"]=Er["[object Error]"]=Er["[object Function]"]=Er["[object Map]"]=Er["[object Number]"]=Er["[object Object]"]=Er["[object RegExp]"]=Er["[object Set]"]=Er["[object String]"]=Er["[object WeakMap]"]=!1;const wm=function ih(u){return function(b){return u(b)}};var nh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Id=nh&&"object"==typeof module&&module&&!module.nodeType&&module,oh=Id&&Id.exports===nh&&ws.process;const tc=function(){try{return Id&&Id.require&&Id.require("util").types||oh&&oh.binding&&oh.binding("util")}catch{}}();var wc=tc&&tc.isTypedArray;const Em=wc?wm(wc):function gu(u){return se(u)&&Go(u.length)&&!!Er[oa(u)]};var Cc=Object.prototype.hasOwnProperty;const Fo=function Ec(u,b){var o=qi(u),h=!o&&er(u),x=!o&&!h&&Ds(u),L=!o&&!h&&!x&&Em(u),ee=o||h||x||L,Se=ee?function I(u,b){for(var o=-1,h=Array(u);++o<u;)h[o]=b(o);return h}(u.length,String):[],et=Se.length;for(var bt in u)(b||Cc.call(u,bt))&&(!ee||!("length"==bt||x&&("offset"==bt||"parent"==bt)||L&&("buffer"==bt||"byteLength"==bt||"byteOffset"==bt)||vl(bt,et)))&&Se.push(bt);return Se};var Gp=Object.prototype;const Wo=function Zp(u){var b=u&&u.constructor;return u===("function"==typeof b&&b.prototype||Gp)},_u=function Od(u,b){return function(o){return u(b(o))}},ic=_u(Object.keys,Object);var Dc=Object.prototype.hasOwnProperty;const Dm=function md(u){return null!=u&&Go(u.length)&&!Wr(u)},Rd=function bg(u){return Dm(u)?Fo(u):function Wp(u){if(!Wo(u))return ic(u);var b=[];for(var o in Object(u))Dc.call(u,o)&&"constructor"!=o&&b.push(o);return b}(u)};var wg=function lh(u,b){return function(o,h){if(null==o)return o;if(!Dm(o))return u(o,h);for(var x=o.length,L=b?x:-1,ee=Object(o);(b?L--:++L<x)&&!1!==h(ee[L],L,ee););return o}}(function xg(u,b){return u&&P(u,b,Rd)});const Fd=wg,Cg=function Yp(u,b,o,h){return Fd(u,function(x,L,ee){b(h,x,o(x),ee)}),h},vu=function yu(u,b){return u===b||u!=u&&b!=b},nc=function Us(u,b){for(var o=u.length;o--;)if(vu(u[o][0],b))return o;return-1};var Wc=Array.prototype.splice;function xu(u){var b=-1,o=null==u?0:u.length;for(this.clear();++b<o;){var h=u[b];this.set(h[0],h[1])}}xu.prototype.clear=function cs(){this.__data__=[],this.size=0},xu.prototype.delete=function bu(u){var b=this.__data__,o=nc(b,u);return!(o<0||(o==b.length-1?b.pop():Wc.call(b,o,1),--this.size,0))},xu.prototype.get=function Dy(u){var b=this.__data__,o=nc(b,u);return o<0?void 0:b[o][1]},xu.prototype.has=function Sy(u){return nc(this.__data__,u)>-1},xu.prototype.set=function Mm(u,b){var o=this.__data__,h=nc(o,u);return h<0?(++this.size,o.push([u,b])):o[h][1]=b,this};const rc=xu,wl=J(rs,"Map"),oc=J(Object,"create");var Sg=Object.prototype.hasOwnProperty;var Mg=Object.prototype.hasOwnProperty;function Ld(u){var b=-1,o=null==u?0:u.length;for(this.clear();++b<o;){var h=u[b];this.set(h[0],h[1])}}Ld.prototype.clear=function Jp(){this.__data__=oc?oc(null):{},this.size=0},Ld.prototype.delete=function hh(u){var b=this.has(u)&&delete this.__data__[u];return this.size-=b?1:0,b},Ld.prototype.get=function Kc(u){var b=this.__data__;if(oc){var o=b[u];return"__lodash_hash_undefined__"===o?void 0:o}return Sg.call(b,u)?b[u]:void 0},Ld.prototype.has=function km(u){var b=this.__data__;return oc?void 0!==b[u]:Mg.call(b,u)},Ld.prototype.set=function Ig(u,b){var o=this.__data__;return this.size+=this.has(u)?0:1,o[u]=oc&&void 0===b?"__lodash_hash_undefined__":b,this};const Na=Ld,Cu=function kg(u,b){var o=u.__data__;return function Sc(u){var b=typeof u;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==u:null===u}(b)?o["string"==typeof b?"string":"hash"]:o.map};function za(u){var b=-1,o=null==u?0:u.length;for(this.clear();++b<o;){var h=u[b];this.set(h[0],h[1])}}za.prototype.clear=function nf(){this.size=0,this.__data__={hash:new Na,map:new(wl||rc),string:new Na}},za.prototype.delete=function Pm(u){var b=Cu(this,u).delete(u);return this.size-=b?1:0,b},za.prototype.get=function Ty(u){return Cu(this,u).get(u)},za.prototype.has=function Og(u){return Cu(this,u).has(u)},za.prototype.set=function ph(u,b){var o=Cu(this,u),h=o.size;return o.set(u,b),this.size+=o.size==h?0:1,this};const fh=za;function Xc(u){var b=this.__data__=new rc(u);this.size=b.size}Xc.prototype.clear=function Dg(){this.__data__=new rc,this.size=0},Xc.prototype.delete=function ch(u){var b=this.__data__,o=b.delete(u);return this.size=b.size,o},Xc.prototype.get=function dh(u){return this.__data__.get(u)},Xc.prototype.has=function pd(u){return this.__data__.has(u)},Xc.prototype.set=function Du(u,b){var o=this.__data__;if(o instanceof rc){var h=o.__data__;if(!wl||h.length<199)return h.push([u,b]),this.size=++o.size,this;o=this.__data__=new fh(h)}return o.set(u,b),this.size=o.size,this};const Cl=Xc;function Su(u){var b=-1,o=null==u?0:u.length;for(this.__data__=new fh;++b<o;)this.add(u[b])}Su.prototype.add=Su.prototype.push=function zd(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},Su.prototype.has=function Rg(u){return this.__data__.has(u)};const Bd=Su,zm=function rf(u,b){for(var o=-1,h=null==u?0:u.length;++o<h;)if(b(u[o],o,u))return!0;return!1},gh=function sf(u,b){return u.has(b)},lf=function Mu(u,b,o,h,x,L){var ee=1&o,Se=u.length,et=b.length;if(Se!=et&&!(ee&&et>Se))return!1;var bt=L.get(u),qt=L.get(b);if(bt&&qt)return bt==b&&qt==u;var ni=-1,Hi=!0,un=2&o?new Bd:void 0;for(L.set(u,b),L.set(b,u);++ni<Se;){var zi=u[ni],tn=b[ni];if(h)var Nn=ee?h(tn,zi,ni,b,u,L):h(zi,tn,ni,u,b,L);if(void 0!==Nn){if(Nn)continue;Hi=!1;break}if(un){if(!zm(b,function(tr,Sr){if(!gh(un,Sr)&&(zi===tr||x(zi,tr,o,h,L)))return un.push(Sr)})){Hi=!1;break}}else if(zi!==tn&&!x(zi,tn,o,h,L)){Hi=!1;break}}return L.delete(u),L.delete(b),Hi},Tu=rs.Uint8Array,df=function Lg(u){var b=-1,o=Array(u.size);return u.forEach(function(h,x){o[++b]=[x,h]}),o},Ng=function uf(u){var b=-1,o=Array(u.size);return u.forEach(function(h){o[++b]=h}),o};var Ic=fo?fo.prototype:void 0,vh=Ic?Ic.valueOf:void 0;const Bg=function Vm(u,b){for(var o=-1,h=b.length,x=u.length;++o<h;)u[x+o]=b[o];return u},ff=function Vg(u,b,o){var h=b(u);return qi(u)?h:Bg(h,o(u))},Um=function gd(){return[]};var Jc=Object.prototype.propertyIsEnumerable,Ba=Object.getOwnPropertySymbols,ed=Ba?function(u){return null==u?[]:(u=Object(u),function Ug(u,b){for(var o=-1,h=null==u?0:u.length,x=0,L=[];++o<h;){var ee=u[o];b(ee,o,u)&&(L[x++]=ee)}return L}(Ba(u),function(b){return Jc.call(u,b)}))}:Um;const Iu=ed,zl=function jm(u){return ff(u,Rd,Iu)};var Au=Object.prototype.hasOwnProperty;const _d=J(rs,"DataView"),Pu=J(rs,"Promise"),wh=J(rs,"Set"),_f=J(rs,"WeakMap");var yf="[object Map]",Hm="[object Promise]",$m="[object Set]",Hg="[object WeakMap]",$g="[object DataView]",Gg=_l(_d),Ru=_l(wl),ol=_l(Pu),Bl=_l(wh),Dh=_l(_f),sc=oa;(_d&&sc(new _d(new ArrayBuffer(1)))!=$g||wl&&sc(new wl)!=yf||Pu&&sc(Pu.resolve())!=Hm||wh&&sc(new wh)!=$m||_f&&sc(new _f)!=Hg)&&(sc=function(u){var b=oa(u),o="[object Object]"==b?u.constructor:void 0,h=o?_l(o):"";if(h)switch(h){case Gg:return $g;case Ru:return yf;case ol:return Hm;case Bl:return $m;case Dh:return Hg}return b});const Hd=sc;var Lu="[object Arguments]",Nu="[object Array]",zu="[object Object]",yd=Object.prototype.hasOwnProperty;const vf=function kc(u,b,o,h,x,L){var ee=qi(u),Se=qi(b),et=ee?Nu:Hd(u),bt=Se?Nu:Hd(b),qt=(et=et==Lu?zu:et)==zu,ni=(bt=bt==Lu?zu:bt)==zu,Hi=et==bt;if(Hi&&Ds(u)){if(!Ds(b))return!1;ee=!0,qt=!1}if(Hi&&!qt)return L||(L=new Cl),ee||Em(u)?lf(u,b,o,h,x,L):function zg(u,b,o,h,x,L,ee){switch(o){case"[object DataView]":if(u.byteLength!=b.byteLength||u.byteOffset!=b.byteOffset)return!1;u=u.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=b.byteLength||!L(new Tu(u),new Tu(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vu(+u,+b);case"[object Error]":return u.name==b.name&&u.message==b.message;case"[object RegExp]":case"[object String]":return u==b+"";case"[object Map]":var Se=df;case"[object Set]":if(Se||(Se=Ng),u.size!=b.size&&!(1&h))return!1;var bt=ee.get(u);if(bt)return bt==b;h|=2,ee.set(u,b);var qt=lf(Se(u),Se(b),h,x,L,ee);return ee.delete(u),qt;case"[object Symbol]":if(vh)return vh.call(u)==vh.call(b)}return!1}(u,b,et,o,h,x,L);if(!(1&o)){var un=qt&&yd.call(u,"__wrapped__"),zi=ni&&yd.call(b,"__wrapped__");if(un||zi){var tn=un?u.value():u,Nn=zi?b.value():b;return L||(L=new Cl),x(tn,Nn,o,h,L)}}return!!Hi&&(L||(L=new Cl),function Ac(u,b,o,h,x,L){var ee=1&o,Se=zl(u),et=Se.length;if(et!=zl(b).length&&!ee)return!1;for(var ni=et;ni--;){var Hi=Se[ni];if(!(ee?Hi in b:Au.call(b,Hi)))return!1}var un=L.get(u),zi=L.get(b);if(un&&zi)return un==b&&zi==u;var tn=!0;L.set(u,b),L.set(b,u);for(var Nn=ee;++ni<et;){var tr=u[Hi=Se[ni]],Sr=b[Hi];if(h)var co=ee?h(Sr,tr,Hi,b,u,L):h(tr,Sr,Hi,u,b,L);if(!(void 0===co?tr===Sr||x(tr,Sr,o,h,L):co)){tn=!1;break}Nn||(Nn="constructor"==Hi)}if(tn&&!Nn){var Br=u.constructor,ja=b.constructor;Br!=ja&&"constructor"in u&&"constructor"in b&&!("function"==typeof Br&&Br instanceof Br&&"function"==typeof ja&&ja instanceof ja)&&(tn=!1)}return L.delete(u),L.delete(b),tn}(u,b,o,h,x,L))},Sh=function Gm(u,b,o,h,x){return u===b||(null==u||null==b||!se(u)&&!se(b)?u!=u&&b!=b:vf(u,b,o,h,Gm,x))},Mh=function Wg(u){return u==u&&!fl(u)},Th=function Va(u,b){return function(o){return null!=o&&o[u]===b&&(void 0!==b||u in Object(o))}},ac=function Ih(u){var b=function qg(u){for(var b=Rd(u),o=b.length;o--;){var h=b[o],x=u[h];b[o]=[h,x,Mh(x)]}return b}(u);return 1==b.length&&b[0][2]?Th(b[0][0],b[0][1]):function(o){return o===u||function bf(u,b,o,h){var x=o.length,L=x,ee=!h;if(null==u)return!L;for(u=Object(u);x--;){var Se=o[x];if(ee&&Se[2]?Se[1]!==u[Se[0]]:!(Se[0]in u))return!1}for(;++x<L;){var et=(Se=o[x])[0],bt=u[et],qt=Se[1];if(ee&&Se[2]){if(void 0===bt&&!(et in u))return!1}else{var ni=new Cl;if(h)var Hi=h(bt,qt,et,u,b,ni);if(!(void 0===Hi?Sh(qt,bt,3,h,ni):Hi))return!1}}return!0}(o,u,b)}},Bu=function Zd(u){return"symbol"==typeof u||se(u)&&"[object Symbol]"==oa(u)};var Wm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xf=/^\w*$/;const Wd=function Ah(u,b){if(qi(u))return!1;var o=typeof u;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=u&&!Bu(u))||xf.test(u)||!Wm.test(u)||null!=b&&u in Object(b)};function Vu(u,b){if("function"!=typeof u||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var o=function(){var h=arguments,x=b?b.apply(this,h):h[0],L=o.cache;if(L.has(x))return L.get(x);var ee=u.apply(this,h);return o.cache=L.set(x,ee)||L,ee};return o.cache=new(Vu.Cache||fh),o}Vu.Cache=fh;const Ym=Vu;var Oh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wf=/\\(\\)?/g,qd=function Uu(u){var b=Ym(u,function(h){return 500===o.size&&o.clear(),h}),o=b.cache;return b}(function(u){var b=[];return 46===u.charCodeAt(0)&&b.push(""),u.replace(Oh,function(o,h,x,L){b.push(x?L.replace(wf,"$1"):h||o)}),b});const Cf=qd;var lc=fo?fo.prototype:void 0,td=lc?lc.toString:void 0;const Xm=function Yd(u){if("string"==typeof u)return u;if(qi(u))return function Ef(u,b){for(var o=-1,h=null==u?0:u.length,x=Array(h);++o<h;)x[o]=b(u[o],o,u);return x}(u,Yd)+"";if(Bu(u))return td?td.call(u):"";var b=u+"";return"0"==b&&1/u==-1/0?"-0":b},Qm=function Kg(u,b){return qi(u)?u:Wd(u,b)?[u]:Cf(function Ph(u){return null==u?"":Xm(u)}(u))},vd=function Sf(u){if("string"==typeof u||Bu(u))return u;var b=u+"";return"0"==b&&1/u==-1/0?"-0":b},Xd=function Mf(u,b){for(var o=0,h=(b=Qm(b,u)).length;null!=u&&o<h;)u=u[vd(b[o++])];return o&&o==h?u:void 0},Xg=function Jm(u,b){return null!=u&&b in Object(u)},lo=function xd(u,b){return null!=u&&function Qg(u,b,o){for(var h=-1,x=(b=Qm(b,u)).length,L=!1;++h<x;){var ee=vd(b[h]);if(!(L=null!=u&&o(u,ee)))break;u=u[ee]}return L||++h!=x?L:!!(x=null==u?0:u.length)&&Go(x)&&vl(ee,x)&&(qi(u)||er(u))}(u,b,Xg)},Jg=function Tf(u,b){return Wd(u)&&Mh(b)?Th(vd(u),b):function(o){var h=function id(u,b,o){var h=null==u?void 0:Xd(u,b);return void 0===h?o:h}(o,u);return void 0===h&&h===b?lo(o,u):Sh(b,h,3)}},e_=function Qd(u){return u},Jd=function Nh(u){return Wd(u)?function tp(u){return function(b){return b?.[u]}}(vd(u)):function If(u){return function(b){return Xd(b,u)}}(u)};var iu=Object.prototype.hasOwnProperty,Pc=function ju(u,b){return function(o,h){var x=qi(o)?ke:Cg,L=b?b():{};return x(o,u,function eu(u){return"function"==typeof u?u:null==u?e_:"object"==typeof u?qi(u)?Jg(u[0],u[1]):ac(u):Jd(u)}(h),L)}}(function(u,b,o){iu.call(u,o)?u[o].push(b):Fe(u,o,[b])});const np=Pc;var s=Object.prototype.hasOwnProperty;const a=function i(u,b,o){var h=u[b];(!s.call(u,b)||!vu(h,o)||void 0===o&&!(b in u))&&Fe(u,b,o)},_=function m(u,b,o,h){var x=!o;o||(o={});for(var L=-1,ee=b.length;++L<ee;){var Se=b[L],et=h?h(o[Se],u[Se],Se,o,u):void 0;void 0===et&&(et=u[Se]),x?Fe(o,Se,et):a(o,Se,et)}return o};var X=Object.prototype.hasOwnProperty;const he=function re(u){if(!fl(u))return function k(u){var b=[];if(null!=u)for(var o in Object(u))b.push(o);return b}(u);var b=Wo(u),o=[];for(var h in u)"constructor"==h&&(b||!X.call(u,h))||o.push(h);return o},Ee=function xe(u){return Dm(u)?Fo(u,!0):he(u)};var tt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ct=tt&&"object"==typeof module&&module&&!module.nodeType&&module,Mt=Ct&&Ct.exports===tt?rs.Buffer:void 0,Pt=Mt?Mt.allocUnsafe:void 0;const Ti=_u(Object.getPrototypeOf,Object);var gn=Object.getOwnPropertySymbols?function(u){for(var b=[];u;)Bg(b,Iu(u)),u=Ti(u);return b}:Um;const sn=gn,to=function pr(u){return ff(u,Ee,sn)};var Hs=Object.prototype.hasOwnProperty;const Gs=function $s(u){var b=new u.constructor(u.byteLength);return new Tu(b).set(new Tu(u)),b};var qo=/\w*$/;var Is=fo?fo.prototype:void 0,ca=Is?Is.valueOf:void 0;const op=function n_(u,b,o){var h=u.constructor;switch(b){case"[object ArrayBuffer]":return Gs(u);case"[object Boolean]":case"[object Date]":return new h(+u);case"[object DataView]":return function Ts(u,b){var o=b?Gs(u.buffer):u.buffer;return new u.constructor(o,u.byteOffset,u.byteLength)}(u,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Kn(u,b){var o=b?Gs(u.buffer):u.buffer;return new u.constructor(o,u.byteOffset,u.length)}(u,o);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(u);case"[object RegExp]":return function la(u){var b=new u.constructor(u.source,qo.exec(u));return b.lastIndex=u.lastIndex,b}(u);case"[object Symbol]":return function _a(u){return ca?Object(ca.call(u)):{}}(u)}};var jh=Object.create,ru=function(){function u(){}return function(b){if(!fl(b))return{};if(jh)return jh(b);u.prototype=b;var o=new u;return u.prototype=void 0,o}}();const sp=ru;var Hh=tc&&tc.isMap;const da=Hh?wm(Hh):function Cd(u){return se(u)&&"[object Map]"==Hd(u)};var Lc=tc&&tc.isSet;const F0=Lc?wm(Lc):function Vl(u){return se(u)&&"[object Set]"==Hd(u)};var Oy="[object Arguments]",Py="[object Function]",Fy="[object Object]",Yr={};Yr[Oy]=Yr["[object Array]"]=Yr["[object ArrayBuffer]"]=Yr["[object DataView]"]=Yr["[object Boolean]"]=Yr["[object Date]"]=Yr["[object Float32Array]"]=Yr["[object Float64Array]"]=Yr["[object Int8Array]"]=Yr["[object Int16Array]"]=Yr["[object Int32Array]"]=Yr["[object Map]"]=Yr["[object Number]"]=Yr[Fy]=Yr["[object RegExp]"]=Yr["[object Set]"]=Yr["[object String]"]=Yr["[object Symbol]"]=Yr["[object Uint8Array]"]=Yr["[object Uint8ClampedArray]"]=Yr["[object Uint16Array]"]=Yr["[object Uint32Array]"]=!0,Yr["[object Error]"]=Yr[Py]=Yr["[object WeakMap]"]=!1;const XC=function a_(u,b,o,h,x,L){var ee,Se=1&b,et=2&b,bt=4&b;if(o&&(ee=x?o(u,h,x,L):o(u)),void 0!==ee)return ee;if(!fl(u))return u;var qt=qi(u);if(qt){if(ee=function _o(u){var b=u.length,o=new u.constructor(b);return b&&"string"==typeof u[0]&&Hs.call(u,"index")&&(o.index=u.index,o.input=u.input),o}(u),!Se)return function nn(u,b){var o=-1,h=u.length;for(b||(b=Array(h));++o<h;)b[o]=u[o];return b}(u,ee)}else{var ni=Hd(u),Hi=ni==Py||"[object GeneratorFunction]"==ni;if(Ds(u))return function ti(u,b){if(b)return u.slice();var o=u.length,h=Pt?Pt(o):new u.constructor(o);return u.copy(h),h}(u,Se);if(ni==Fy||ni==Oy||Hi&&!x){if(ee=et||Hi?{}:function ap(u){return"function"!=typeof u.constructor||Wo(u)?{}:sp(Ti(u))}(u),!Se)return et?function Gn(u,b){return _(u,sn(u),b)}(u,function Re(u,b){return u&&_(b,Ee(b),u)}(ee,u)):function Oi(u,b){return _(u,Iu(u),b)}(u,function E(u,b){return u&&_(b,Rd(b),u)}(ee,u))}else{if(!Yr[ni])return x?u:{};ee=op(u,ni,Se)}}L||(L=new Cl);var un=L.get(u);if(un)return un;L.set(u,ee),F0(u)?u.forEach(function(Nn){ee.add(a_(Nn,b,o,Nn,u,L))}):da(u)&&u.forEach(function(Nn,tr){ee.set(tr,a_(Nn,b,o,tr,u,L))});var tn=qt?void 0:(bt?et?to:zl:et?Ee:Rd)(u);return function Bh(u,b){for(var o=-1,h=null==u?0:u.length;++o<h&&!1!==b(u[o],o,u););}(tn||u,function(Nn,tr){tn&&(Nn=u[tr=Nn]),a(ee,tr,a_(Nn,b,o,tr,u,L))}),ee},up=u=>"object"==typeof u&&null!=u&&1===u.nodeType,Vy=(u,b)=>(!b||"hidden"!==u)&&"visible"!==u&&"clip"!==u,l_=(u,b)=>{if(u.clientHeight<u.scrollHeight||u.clientWidth<u.scrollWidth){const o=getComputedStyle(u,null);return Vy(o.overflowY,b)||Vy(o.overflowX,b)||(h=>{const x=(L=>{if(!L.ownerDocument||!L.ownerDocument.defaultView)return null;try{return L.ownerDocument.defaultView.frameElement}catch{return null}})(h);return!!x&&(x.clientHeight<h.scrollHeight||x.clientWidth<h.scrollWidth)})(u)}return!1},Zh=(u,b,o,h,x,L,ee,Se)=>L<u&&ee>b||L>u&&ee<b?0:L<=u&&Se<=o||ee>=b&&Se>=o?L-u-h:ee>b&&Se<o||L<u&&Se>o?ee-b+x:0,Uy=u=>u.parentElement??(u.getRootNode().host||null),jy=(u,b)=>{var o,h,x,L;if(typeof document>"u")return[];const{scrollMode:ee,block:Se,inline:et,boundary:bt,skipOverflowHiddenElements:qt}=b,ni="function"==typeof bt?bt:an=>an!==bt;if(!up(u))throw new TypeError("Invalid target");const Hi=document.scrollingElement||document.documentElement,un=[];let zi=u;for(;up(zi)&&ni(zi);){if(zi=Uy(zi),zi===Hi){un.push(zi);break}null!=zi&&zi===document.body&&l_(zi)&&!l_(document.documentElement)||null!=zi&&l_(zi,qt)&&un.push(zi)}const tn=null!=(h=null==(o=window.visualViewport)?void 0:o.width)?h:innerWidth,Nn=null!=(L=null==(x=window.visualViewport)?void 0:x.height)?L:innerHeight,{scrollX:tr,scrollY:Sr}=window,{height:co,width:Br,top:ja,right:ll,bottom:Ps,left:Ml}=u.getBoundingClientRect(),{top:gc,right:jl,bottom:Np,left:uu}=(an=>{const Xi=window.getComputedStyle(an);return{top:parseFloat(Xi.scrollMarginTop)||0,right:parseFloat(Xi.scrollMarginRight)||0,bottom:parseFloat(Xi.scrollMarginBottom)||0,left:parseFloat(Xi.scrollMarginLeft)||0}})(u);let ms="start"===Se||"nearest"===Se?ja-gc:"end"===Se?Ps+Np:ja+co/2-gc+Np,cl="center"===et?Ml+Br/2-uu+jl:"end"===et?ll+jl:Ml-uu;const hu=[];for(let an=0;an<un.length;an++){const Xi=un[an],{height:Tn,width:ur,top:To,right:dl,bottom:wa,left:Tl}=Xi.getBoundingClientRect();if("if-needed"===ee&&ja>=0&&Ml>=0&&Ps<=Nn&&ll<=tn&&ja>=To&&Ps<=wa&&Ml>=Tl&&ll<=dl)return hu;const $r=getComputedStyle(Xi),mu=parseInt($r.borderLeftWidth,10),pu=parseInt($r.borderTopWidth,10),Ko=parseInt($r.borderRightWidth,10),Hl=parseInt($r.borderBottomWidth,10);let Xo=0,Il=0;const Ed="offsetWidth"in Xi?Xi.offsetWidth-Xi.clientWidth-mu-Ko:0,zp="offsetHeight"in Xi?Xi.offsetHeight-Xi.clientHeight-pu-Hl:0,pg="offsetWidth"in Xi?0===Xi.offsetWidth?0:ur/Xi.offsetWidth:0,fg="offsetHeight"in Xi?0===Xi.offsetHeight?0:Tn/Xi.offsetHeight:0;if(Hi===Xi)Xo="start"===Se?ms:"end"===Se?ms-Nn:"nearest"===Se?Zh(Sr,Sr+Nn,Nn,pu,Hl,Sr+ms,Sr+ms+co,co):ms-Nn/2,Il="start"===et?cl:"center"===et?cl-tn/2:"end"===et?cl-tn:Zh(tr,tr+tn,tn,mu,Ko,tr+cl,tr+cl+Br,Br),Xo=Math.max(0,Xo+Sr),Il=Math.max(0,Il+tr);else{Xo="start"===Se?ms-To-pu:"end"===Se?ms-wa+Hl+zp:"nearest"===Se?Zh(To,wa,Tn,pu,Hl+zp,ms,ms+co,co):ms-(To+Tn/2)+zp/2,Il="start"===et?cl-Tl-mu:"center"===et?cl-(Tl+ur/2)+Ed/2:"end"===et?cl-dl+Ko+Ed:Zh(Tl,dl,ur,mu,Ko+Ed,cl,cl+Br,Br);const{scrollLeft:y0,scrollTop:_y}=Xi;Xo=0===fg?0:Math.max(0,Math.min(_y+Xo/fg,Xi.scrollHeight-Tn/fg+zp)),Il=0===pg?0:Math.max(0,Math.min(y0+Il/pg,Xi.scrollWidth-ur/pg+Ed)),ms+=_y-Xo,cl+=y0-Il}hu.push({el:Xi,top:Xo,left:Il})}return hu};let Hy=(()=>{class u{constructor(){this.resize$=new ro.x}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var xa=U(6223),$y=U(6637),rd=U(2296),Xn=U(2495),dc=U(2831),dr=U(3680),hp=U(7131);let eE=(()=>{class u{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(o){this._vertical=(0,Xn.Ig)(o)}get inset(){return this._inset}set inset(o){this._inset=(0,Xn.Ig)(o)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(h,x){2&h&&(l.uIk("aria-orientation",x.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",x.vertical)("mat-divider-horizontal",!x.vertical)("mat-divider-inset",x.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(h,x){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return u})(),Gy=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,dr.BQ]})}return u})();var uc=U(7849),Rf=U(8337),hc=U(6028);const Ff=["*"],Lf='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',Zy=["unscopedContent"],K0=["text"],X0=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Q0=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],d_=new l.OlP("ListOption");let rx=(()=>{class u{constructor(o){this._elementRef=o}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return u})(),Wn=(()=>{class u{constructor(o){this._elementRef=o}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return u})(),Qy=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return u})(),u_=(()=>{class u{constructor(o){this._listOption=o}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(d_,8))};static#t=this.\u0275dir=l.lG2({type:u,hostVars:4,hostBindings:function(h,x){2&h&&l.ekj("mdc-list-item__start",x._isAlignedAtStart())("mdc-list-item__end",!x._isAlignedAtStart())}})}return u})(),Wh=(()=>{class u extends u_{static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]})}return u})(),Jy=(()=>{class u extends u_{static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]})}return u})();const ox=new l.OlP("MAT_LIST_CONFIG");let Nc=(()=>{class u{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(ox,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(o){this._disableRipple=(0,Xn.Ig)(o)}get disabled(){return this._disabled}set disabled(o){this._disabled=(0,Xn.Ig)(o)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275dir=l.lG2({type:u,hostVars:1,hostBindings:function(h,x){2&h&&l.uIk("aria-disabled",x.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return u})(),su=(()=>{class u{set lines(o){this._explicitLines=(0,Xn.su)(o,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(o){this._disableRipple=(0,Xn.Ig)(o)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(o){this._disabled=(0,Xn.Ig)(o)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(o,h,x,L,ee,Se){this._elementRef=o,this._ngZone=h,this._listBase=x,this._platform=L,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Qn.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=ee||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===Se,x&&!x._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new dr.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,te.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(o){if(!this._lines||!this._titles||!this._unscopedContent)return;o&&this._checkDomForUnscopedTextContent();const h=this._explicitLines??this._inferLinesFromContent(),x=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===h),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===h),this._hasUnscopedTextContent){const L=0===this._titles.length&&1===h;x.classList.toggle("mdc-list-item__primary-text",L),x.classList.toggle("mdc-list-item__secondary-text",!L)}else x.classList.remove("mdc-list-item__primary-text"),x.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let o=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(o+=1),o}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(o=>o.nodeType!==o.COMMENT_NODE).some(o=>!(!o.textContent||!o.textContent.trim()))}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Nc,8),l.Y36(dc.t4),l.Y36(dr.Y2,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:u,contentQueries:function(h,x,L){if(1&h&&(l.Suo(L,Wh,4),l.Suo(L,Jy,4)),2&h){let ee;l.iGM(ee=l.CRH())&&(x._avatars=ee),l.iGM(ee=l.CRH())&&(x._icons=ee)}},hostVars:4,hostBindings:function(h,x){2&h&&(l.uIk("aria-disabled",x.disabled)("disabled",x._isButtonElement&&x.disabled||null),l.ekj("mdc-list-item--disabled",x.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return u})(),h_=(()=>{class u extends Nc{static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:Nc,useExisting:u}]),l.qOj],ngContentSelectors:Ff,decls:1,vars:0,template:function(h,x){1&h&&(l.F$t(),l.Hsn(0))},styles:[Lf],encapsulation:2,changeDetection:0})}return u})(),Bf=(()=>{class u extends su{get activated(){return this._activated}set activated(o){this._activated=(0,Xn.Ig)(o)}constructor(o,h,x,L,ee,Se){super(o,h,x,L,ee,Se),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Nc,8),l.Y36(dc.t4),l.Y36(dr.Y2,8),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(h,x,L){if(1&h&&(l.Suo(L,Wn,5),l.Suo(L,rx,5),l.Suo(L,Qy,5)),2&h){let ee;l.iGM(ee=l.CRH())&&(x._lines=ee),l.iGM(ee=l.CRH())&&(x._titles=ee),l.iGM(ee=l.CRH())&&(x._meta=ee)}},viewQuery:function(h,x){if(1&h&&(l.Gf(Zy,5),l.Gf(K0,5)),2&h){let L;l.iGM(L=l.CRH())&&(x._unscopedContent=L.first),l.iGM(L=l.CRH())&&(x._itemText=L.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(h,x){2&h&&(l.uIk("aria-current",x._getAriaCurrent()),l.ekj("mdc-list-item--activated",x.activated)("mdc-list-item--with-leading-avatar",0!==x._avatars.length)("mdc-list-item--with-leading-icon",0!==x._icons.length)("mdc-list-item--with-trailing-meta",0!==x._meta.length)("_mat-animation-noopable",x._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:Q0,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(h,x){1&h&&(l.F$t(X0),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return x._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[hp.wD],encapsulation:2,changeDetection:0})}return u})(),m_=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]})}return u})(),ax=(()=>{class u extends Nc{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:Nc,useExisting:u}]),l.qOj],ngContentSelectors:Ff,decls:1,vars:0,template:function(h,x){1&h&&(l.F$t(),l.Hsn(0))},styles:[Lf],encapsulation:2,changeDetection:0})}return u})(),dx=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[hp.Q8,oe.ez,dr.BQ,dr.si,dr.us,Gy]})}return u})();var ux=U(6232);const nv=(0,dc.i$)({passive:!0});let rv=(()=>{class u{constructor(o,h){this._platform=o,this._ngZone=h,this._monitoredElements=new Map}monitor(o){if(!this._platform.isBrowser)return ux.E;const h=(0,Xn.fI)(o),x=this._monitoredElements.get(h);if(x)return x.subject;const L=new ro.x,ee="cdk-text-field-autofilled",Se=et=>{"cdk-text-field-autofill-start"!==et.animationName||h.classList.contains(ee)?"cdk-text-field-autofill-end"===et.animationName&&h.classList.contains(ee)&&(h.classList.remove(ee),this._ngZone.run(()=>L.next({target:et.target,isAutofilled:!1}))):(h.classList.add(ee),this._ngZone.run(()=>L.next({target:et.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",Se,nv),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:L,unlisten:()=>{h.removeEventListener("animationstart",Se,nv)}}),L}stopMonitoring(o){const h=(0,Xn.fI)(o),x=this._monitoredElements.get(h);x&&(x.unlisten(),x.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((o,h)=>this.stopMonitoring(h))}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(dc.t4),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),mx=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({})}return u})();var qs=U(4170);const px=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),lE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let p_=0;const ov=(0,dr.FD)(class{constructor(u,b,o,h){this._defaultErrorStateMatcher=u,this._parentForm=b,this._parentFormGroup=o,this.ngControl=h,this.stateChanges=new ro.x}});let fx=(()=>{class u extends ov{get disabled(){return this._disabled}set disabled(o){this._disabled=(0,Xn.Ig)(o),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(o){this._id=o||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(xa.kI.required)??!1}set required(o){this._required=(0,Xn.Ig)(o)}get type(){return this._type}set type(o){this._type=o||"text",this._validateType(),!this._isTextarea&&(0,dc.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(o){o!==this.value&&(this._inputValueAccessor.value=o,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(o){this._readonly=(0,Xn.Ig)(o)}constructor(o,h,x,L,ee,Se,et,bt,qt,ni){super(Se,L,ee,x),this._elementRef=o,this._platform=h,this._autofillMonitor=bt,this._formField=ni,this._uid="mat-input-"+p_++,this.focused=!1,this.stateChanges=new ro.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(zi=>(0,dc.qK)().has(zi)),this._iOSKeyupListener=zi=>{const tn=zi.target;!tn.value&&0===tn.selectionStart&&0===tn.selectionEnd&&(tn.setSelectionRange(1,1),tn.setSelectionRange(0,0))};const Hi=this._elementRef.nativeElement,un=Hi.nodeName.toLowerCase();this._inputValueAccessor=et||Hi,this._previousNativeValue=this.value,this.id=this.id,h.IOS&&qt.runOutsideAngular(()=>{o.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===un,this._isTextarea="textarea"===un,this._isInFormField=!!ni,this._isNativeSelect&&(this.controlType=Hi.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(o=>{this.autofilled=o.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(o){this._elementRef.nativeElement.focus(o)}_focusChanged(o){o!==this.focused&&(this.focused=o,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const o=this._elementRef.nativeElement.value;this._previousNativeValue!==o&&(this._previousNativeValue=o,this.stateChanges.next())}_dirtyCheckPlaceholder(){const o=this._getPlaceholder();if(o!==this._previousPlaceholder){const h=this._elementRef.nativeElement;this._previousPlaceholder=o,o?h.setAttribute("placeholder",o):h.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){lE.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let o=this._elementRef.nativeElement.validity;return o&&o.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const o=this._elementRef.nativeElement,h=o.options[0];return this.focused||o.multiple||!this.empty||!!(o.selectedIndex>-1&&h&&h.label)}return this.focused||!this.empty}setDescribedByIds(o){o.length?this._elementRef.nativeElement.setAttribute("aria-describedby",o.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const o=this._elementRef.nativeElement;return this._isNativeSelect&&(o.multiple||o.size>1)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(dc.t4),l.Y36(xa.a5,10),l.Y36(xa.F,8),l.Y36(xa.sg,8),l.Y36(dr.rD),l.Y36(px,10),l.Y36(rv),l.Y36(l.R0b),l.Y36(qs.G_,8))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(h,x){1&h&&l.NdJ("focus",function(){return x._focusChanged(!0)})("blur",function(){return x._focusChanged(!1)})("input",function(){return x._onInput()}),2&h&&(l.Ikx("id",x.id)("disabled",x.disabled)("required",x.required),l.uIk("name",x.name||null)("readonly",x.readonly&&!x._isNativeSelect||null)("aria-invalid",x.empty&&x.required?null:x.errorState)("aria-required",x.required)("id",x.id),l.ekj("mat-input-server",x._isServer)("mat-mdc-form-field-textarea-control",x._isInFormField&&x._isTextarea)("mat-mdc-form-field-input-control",x._isInFormField)("mdc-text-field__input",x._isInFormField)("mat-mdc-native-select-inline",x._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:qs.Eo,useExisting:u}]),l.qOj,l.TTD]})}return u})(),gx=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,qs.lN,qs.lN,mx,dr.BQ]})}return u})();var mc=U(799),f_=U(9388),sv=U(975),_x=U(3997);const qh=["*"],yx=["content"];function vx(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"div",1),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x._onBackdropClicked())}),l.qZA()}if(2&u){const o=l.oxw();l.ekj("mat-drawer-shown",o._isShowingBackdrop())}}function bx(u,b){1&u&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const xx=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wx=["mat-drawer","mat-drawer-content","*"];function od(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"div",1),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x._onBackdropClicked())}),l.qZA()}if(2&u){const o=l.oxw();l.ekj("mat-drawer-shown",o._isShowingBackdrop())}}function g_(u,b){1&u&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const Cx=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],av=["mat-sidenav","mat-sidenav-content","*"],__={transformDrawer:(0,le.X$)("transform",[(0,le.SB)("open, open-instant",(0,le.oB)({transform:"none",visibility:"visible"})),(0,le.SB)("void",(0,le.oB)({"box-shadow":"none",visibility:"hidden"})),(0,le.eR)("void => open-instant",(0,le.jt)("0ms")),(0,le.eR)("void <=> open, open-instant => void",(0,le.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Uf=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function cE(){return!1}}),mp=new l.OlP("MAT_DRAWER_CONTAINER");let pp=(()=>{class u extends mc.PQ{constructor(o,h,x,L,ee){super(x,L,ee),this._changeDetectorRef=o,this._container=h}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>v_)),l.Y36(l.SBq),l.Y36(mc.mF),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(h,x){2&h&&l.Udp("margin-left",x._container._contentMargins.left,"px")("margin-right",x._container._contentMargins.right,"px")},features:[l._Bn([{provide:mc.PQ,useExisting:u}]),l.qOj],ngContentSelectors:qh,decls:1,vars:0,template:function(h,x){1&h&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return u})(),y_=(()=>{class u{get position(){return this._position}set position(o){(o="end"===o?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(o),this._position=o,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(o){this._mode=o,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(o){this._disableClose=(0,Xn.Ig)(o)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(o){("true"===o||"false"===o||null==o)&&(o=(0,Xn.Ig)(o)),this._autoFocus=o}get opened(){return this._opened}set opened(o){this.toggle((0,Xn.Ig)(o))}constructor(o,h,x,L,ee,Se,et,bt){this._elementRef=o,this._focusTrapFactory=h,this._focusMonitor=x,this._platform=L,this._ngZone=ee,this._interactivityChecker=Se,this._doc=et,this._container=bt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ro.x,this._animationEnd=new ro.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,Dr.h)(qt=>qt),(0,jr.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Dr.h)(qt=>qt.fromState!==qt.toState&&0===qt.toState.indexOf("open")),(0,sv.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Dr.h)(qt=>!qt),(0,jr.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Dr.h)(qt=>qt.fromState!==qt.toState&&"void"===qt.toState),(0,sv.h)(void 0)),this._destroyed=new ro.x,this.onPositionChanged=new l.vpe,this._modeChanged=new ro.x,this.openedChange.subscribe(qt=>{qt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ur.R)(this._elementRef.nativeElement,"keydown").pipe((0,Dr.h)(qt=>qt.keyCode===hc.hY&&!this.disableClose&&!(0,hc.Vb)(qt)),(0,mr.R)(this._destroyed)).subscribe(qt=>this._ngZone.run(()=>{this.close(),qt.stopPropagation(),qt.preventDefault()}))}),this._animationEnd.pipe((0,_x.x)((qt,ni)=>qt.fromState===ni.fromState&&qt.toState===ni.toState)).subscribe(qt=>{const{fromState:ni,toState:Hi}=qt;(0===Hi.indexOf("open")&&"void"===ni||"void"===Hi&&0===ni.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(o,h){this._interactivityChecker.isFocusable(o)||(o.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const x=()=>{o.removeEventListener("blur",x),o.removeEventListener("mousedown",x),o.removeAttribute("tabindex")};o.addEventListener("blur",x),o.addEventListener("mousedown",x)})),o.focus(h)}_focusByCssSelector(o,h){let x=this._elementRef.nativeElement.querySelector(o);x&&this._forceFocus(x,h)}_takeFocus(){if(!this._focusTrap)return;const o=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(h=>{!h&&"function"==typeof this._elementRef.nativeElement.focus&&o.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(o){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,o):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const o=this._doc.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(o){return this.toggle(!0,o)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(o=!this.opened,h){o&&h&&(this._openedVia=h);const x=this._setOpen(o,!o&&this._isFocusWithinDrawer(),this._openedVia||"program");return o||(this._openedVia=null),x}_setOpen(o,h,x){return this._opened=o,o?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",h&&this._restoreFocus(x)),this._updateFocusTrapState(),new Promise(L=>{this.openedChange.pipe((0,Jr.q)(1)).subscribe(ee=>L(ee?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(o){const h=this._elementRef.nativeElement,x=h.parentNode;"end"===o?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),x.insertBefore(this._anchor,h)),x.appendChild(h)):this._anchor&&this._anchor.parentNode.insertBefore(h,this._anchor)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(uc.qV),l.Y36(uc.tE),l.Y36(dc.t4),l.Y36(l.R0b),l.Y36(uc.ic),l.Y36(oe.K0,8),l.Y36(mp,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer"]],viewQuery:function(h,x){if(1&h&&l.Gf(yx,5),2&h){let L;l.iGM(L=l.CRH())&&(x._content=L.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(h,x){1&h&&l.WFA("@transform.start",function(ee){return x._animationStarted.next(ee)})("@transform.done",function(ee){return x._animationEnd.next(ee)}),2&h&&(l.uIk("align",null),l.d8E("@transform",x._animationState),l.ekj("mat-drawer-end","end"===x.position)("mat-drawer-over","over"===x.mode)("mat-drawer-push","push"===x.mode)("mat-drawer-side","side"===x.mode)("mat-drawer-opened",x.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:qh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(h,x){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[mc.PQ],encapsulation:2,data:{animation:[__.transformDrawer]},changeDetection:0})}return u})(),v_=(()=>{class u{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(o){this._autosize=(0,Xn.Ig)(o)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(o){this._backdropOverride=null==o?null:(0,Xn.Ig)(o)}get scrollable(){return this._userContent||this._content}constructor(o,h,x,L,ee,Se=!1,et){this._dir=o,this._element=h,this._ngZone=x,this._changeDetectorRef=L,this._animationMode=et,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new ro.x,this._doCheckSubject=new ro.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ro.x,o&&o.change.pipe((0,mr.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ee.change().pipe((0,mr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Se}ngAfterContentInit(){this._allDrawers.changes.pipe((0,or.O)(this._allDrawers),(0,mr.R)(this._destroyed)).subscribe(o=>{this._drawers.reset(o.filter(h=>!h._container||h._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,or.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(o=>{this._watchDrawerToggle(o),this._watchDrawerPosition(o),this._watchDrawerMode(o)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,ml.b)(10),(0,mr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(o=>o.open())}close(){this._drawers.forEach(o=>o.close())}updateContentMargins(){let o=0,h=0;if(this._left&&this._left.opened)if("side"==this._left.mode)o+=this._left._getWidth();else if("push"==this._left.mode){const x=this._left._getWidth();o+=x,h-=x}if(this._right&&this._right.opened)if("side"==this._right.mode)h+=this._right._getWidth();else if("push"==this._right.mode){const x=this._right._getWidth();h+=x,o-=x}o=o||null,h=h||null,(o!==this._contentMargins.left||h!==this._contentMargins.right)&&(this._contentMargins={left:o,right:h},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(o){o._animationStarted.pipe((0,Dr.h)(h=>h.fromState!==h.toState),(0,mr.R)(this._drawers.changes)).subscribe(h=>{"open-instant"!==h.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==o.mode&&o.openedChange.pipe((0,mr.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(o.opened))}_watchDrawerPosition(o){o&&o.onPositionChanged.pipe((0,mr.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(o){o&&o._modeChanged.pipe((0,mr.R)((0,te.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(o){const h=this._element.nativeElement.classList,x="mat-drawer-container-has-open";o?h.add(x):h.remove(x)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(o=>{"end"==o.position?this._end=o:this._start=o}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(o=>o&&!o.disableClose&&this._drawerHasBackdrop(o)).forEach(o=>o._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(o){return null!=o&&o.opened}_drawerHasBackdrop(o){return null==this._backdropOverride?!!o&&"side"!==o.mode:this._backdropOverride}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(f_.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(mc.rL),l.Y36(Uf),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer-container"]],contentQueries:function(h,x,L){if(1&h&&(l.Suo(L,pp,5),l.Suo(L,y_,5)),2&h){let ee;l.iGM(ee=l.CRH())&&(x._content=ee.first),l.iGM(ee=l.CRH())&&(x._allDrawers=ee)}},viewQuery:function(h,x){if(1&h&&l.Gf(pp,5),2&h){let L;l.iGM(L=l.CRH())&&(x._userContent=L.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(h,x){2&h&&l.ekj("mat-drawer-container-explicit-backdrop",x._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:mp,useExisting:u}])],ngContentSelectors:wx,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(h,x){1&h&&(l.F$t(xx),l.YNc(0,vx,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,bx,2,0,"mat-drawer-content")),2&h&&(l.um2(0,x.hasBackdrop?0:-1),l.xp6(3),l.um2(3,x._content?-1:3))},dependencies:[pp],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return u})(),Yh=(()=>{class u extends pp{constructor(o,h,x,L,ee){super(o,h,x,L,ee)}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>sd)),l.Y36(l.SBq),l.Y36(mc.mF),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(h,x){2&h&&l.Udp("margin-left",x._container._contentMargins.left,"px")("margin-right",x._container._contentMargins.right,"px")},features:[l._Bn([{provide:mc.PQ,useExisting:u}]),l.qOj],ngContentSelectors:qh,decls:1,vars:0,template:function(h,x){1&h&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})}return u})(),jf=(()=>{class u extends y_{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(o){this._fixedInViewport=(0,Xn.Ig)(o)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(o){this._fixedTopGap=(0,Xn.su)(o)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(o){this._fixedBottomGap=(0,Xn.su)(o)}static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(h,x){2&h&&(l.uIk("align",null),l.Udp("top",x.fixedInViewport?x.fixedTopGap:null,"px")("bottom",x.fixedInViewport?x.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===x.position)("mat-drawer-over","over"===x.mode)("mat-drawer-push","push"===x.mode)("mat-drawer-side","side"===x.mode)("mat-drawer-opened",x.opened)("mat-sidenav-fixed",x.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:qh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(h,x){1&h&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[mc.PQ],encapsulation:2,data:{animation:[__.transformDrawer]},changeDetection:0})}return u})(),sd=(()=>{class u extends v_{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let o;return function(x){return(o||(o=l.n5z(u)))(x||u)}})();static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav-container"]],contentQueries:function(h,x,L){if(1&h&&(l.Suo(L,Yh,5),l.Suo(L,jf,5)),2&h){let ee;l.iGM(ee=l.CRH())&&(x._content=ee.first),l.iGM(ee=l.CRH())&&(x._allDrawers=ee)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(h,x){2&h&&l.ekj("mat-drawer-container-explicit-backdrop",x._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:mp,useExisting:u}]),l.qOj],ngContentSelectors:av,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(h,x){1&h&&(l.F$t(Cx),l.YNc(0,od,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,g_,2,0,"mat-sidenav-content")),2&h&&(l.um2(0,x.hasBackdrop?0:-1),l.xp6(3),l.um2(3,x._content?-1:3))},dependencies:[Yh],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return u})(),Sx=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,mc.ZD,mc.ZD,dr.BQ]})}return u})();const b_=["switch"];function Mx(u,b){1&u&&(l.TgZ(0,"div",12),l.O4$(),l.TgZ(1,"svg",13),l._UZ(2,"path",14),l.qZA(),l.TgZ(3,"svg",15),l._UZ(4,"path",16),l.qZA()())}const dE=["*"],lv=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Tx={provide:xa.JU,useExisting:(0,l.Gpc)(()=>cv),multi:!0};class x_{constructor(b,o){this.source=b,this.checked=o}}let Ix=0,cv=(()=>{class u{_createChangeEvent(o){return new x_(this,o)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(o){this._checked=o,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(o,h,x,L,ee,Se){this._elementRef=o,this._focusMonitor=h,this._changeDetectorRef=x,this.defaults=ee,this._onChange=et=>{},this._onTouched=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(L)||0,this.color=ee.color||"accent",this._noopAnimations="NoopAnimations"===Se,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Ix,this.hideIcon=ee.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(o=>{"keyboard"===o||"program"===o?(this._focused=!0,this._changeDetectorRef.markForCheck()):o||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(o){this.checked=!!o}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new x_(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(uc.tE),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(lv),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-slide-toggle"]],viewQuery:function(h,x){if(1&h&&l.Gf(b_,5),2&h){let L;l.iGM(L=l.CRH())&&(x._switchElement=L.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(h,x){2&h&&(l.Ikx("id",x.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.Tol(x.color?"mat-"+x.color:""),l.ekj("mat-mdc-slide-toggle-focused",x._focused)("mat-mdc-slide-toggle-checked",x.checked)("_mat-animation-noopable",x._noopAnimations))},inputs:{disabled:["disabled","disabled",l.VuI],disableRipple:["disableRipple","disableRipple",l.VuI],color:"color",tabIndex:["tabIndex","tabIndex",o=>null==o?0:(0,l.Cb_)(o)],name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:["required","required",l.VuI],checked:["checked","checked",l.VuI],hideIcon:["hideIcon","hideIcon",l.VuI]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[l._Bn([Tx]),l.Xq5],ngContentSelectors:dE,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(h,x){if(1&h&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return x._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.YNc(10,Mx,5,0,"div",10),l.qZA()()(),l.TgZ(11,"label",11),l.NdJ("click",function(ee){return ee.stopPropagation()}),l.Hsn(12),l.qZA()()),2&h){const L=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==x.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",x.checked)("mdc-switch--unselected",!x.checked)("mdc-switch--checked",x.checked)("mdc-switch--disabled",x.disabled),l.Q6J("tabIndex",x.disabled?-1:x.tabIndex)("disabled",x.disabled),l.uIk("id",x.buttonId)("name",x.name)("aria-label",x.ariaLabel)("aria-labelledby",x._getAriaLabelledBy())("aria-describedby",x.ariaDescribedby)("aria-required",x.required||null)("aria-checked",x.checked),l.xp6(8),l.Q6J("matRippleTrigger",L)("matRippleDisabled",x.disableRipple||x.disabled)("matRippleCentered",!0),l.xp6(1),l.um2(10,x.hideIcon?-1:10),l.xp6(1),l.Q6J("for",x.buttonId),l.uIk("id",x._labelId)}},dependencies:[dr.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return u})(),w_=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({})}return u})(),fp=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[w_,dr.BQ,dr.si,w_,dr.BQ]})}return u})();const gp=["exampleLink"];function hv(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x.clearSearch())}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}const Ax=u=>({_routerLinkActiveWakeUpHack_:u});function kx(u,b){if(1&u&&(l.TgZ(0,"a",14,15),l._uU(2),l.qZA()),2&u){const o=l.oxw().$implicit,h=l.oxw(2);l.Q6J("routerLink","/demo/"+(h.isEditMode?"/edit/":"")+o.path)("routerLinkActiveOptions",l.VKq(3,Ax,h.isEditMode)),l.xp6(2),l.hij(" ",o.data.label," ")}}function Ox(u,b){if(1&u&&(l.ynx(0),l.YNc(1,kx,3,5,"a",13),l.BQk()),2&u){const o=b.$implicit;l.xp6(1),l.Q6J("ngIf",o)}}function Px(u,b){if(1&u&&(l.ynx(0),l.TgZ(1,"h3",12),l._uU(2),l.qZA(),l.YNc(3,Ox,2,1,"ng-container",9),l._UZ(4,"mat-divider"),l.BQk()),2&u){const o=b.$implicit,h=l.oxw();l.xp6(2),l.Oqu(o),l.xp6(1),l.Q6J("ngForOf",h.routes[o])}}let uE=(()=>{class u{constructor(o,h,x,L){this.zone=o,this.router=h,this.activatedRoute=x,this.mapResizeService=L,this.sidenavIsOpen=!0,this.isEditMode=!!this.activatedRoute.snapshot.firstChild.params.demoUrl,this.originalRoutes=np(gy[0].children,ee=>ee.data?ee.data.cat:null),this.categories=[Ln.STYLES,Ln.LAYERS,Ln.SOURCES,Ln.USER_INTERACTION,Ln.CAMERA,Ln.CONTROLS_AND_OVERLAYS,Ln.TERRAIN]}ngOnInit(){this.routes=this.originalRoutes}ngAfterViewInit(){this.scrollInToActiveExampleLink()}toggleSidenav(){this.sidenavIsOpen=!this.sidenavIsOpen}toggleEdit(o){const h=this.activatedRoute.snapshot.firstChild;this.router.navigate(o.checked?["demo","edit",h.url[0].path]:["demo",h.params.demoUrl])}onSidenavChange(){this.mapResizeService.resize$.next(void 0)}search(){this.routes=function W0(u){return XC(u,5)}(this.originalRoutes),Object.values(this.routes).forEach(o=>{o.forEach((h,x)=>{h.data&&!h.data.label.toLowerCase().includes(this.searchTerm.toLowerCase())&&delete o[x]})})}clearSearch(){this.searchTerm="",this.routes=this.originalRoutes}scrollInToActiveExampleLink(){this.zone.onStable.pipe((0,ta.P)()).subscribe(()=>{const o=this.exampleLinks.find(h=>h.nativeElement.classList.contains("active"));o&&function Y0(u,b){if(!u.isConnected||!(x=>{let L=x;for(;L&&L.parentNode;){if(L.parentNode===document)return!0;L=L.parentNode instanceof ShadowRoot?L.parentNode.host:L.parentNode}return!1})(u))return;const o=(x=>{const L=window.getComputedStyle(x);return{top:parseFloat(L.scrollMarginTop)||0,right:parseFloat(L.scrollMarginRight)||0,bottom:parseFloat(L.scrollMarginBottom)||0,left:parseFloat(L.scrollMarginLeft)||0}})(u);if("object"==typeof(x=b)&&"function"==typeof x.behavior)return b.behavior(jy(u,b));var x;const h="boolean"==typeof b||null==b?void 0:b.behavior;for(const{el:x,top:L,left:ee}of jy(u,(u=>{return!1===u?{block:"end",inline:"nearest"}:(b=u)===Object(b)&&0!==Object.keys(b).length?u:{block:"start",inline:"nearest"};var b})(b)))x.scroll({top:L-o.top+o.bottom,left:ee-o.left+o.right,behavior:h})}(o.nativeElement,{block:"center",scrollMode:"if-needed"})})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.R0b),l.Y36(me.F0),l.Y36(me.gz),l.Y36(Hy))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["ng-component"]],viewQuery:function(h,x){if(1&h&&l.Gf(gp,5,l.SBq),2&h){let L;l.iGM(L=l.CRH())&&(x.exampleLinks=L)}},decls:18,vars:5,consts:[["position","left"],["mat-button","",1,"menu-button",3,"click"],["position","right"],["color","accent",3,"ngModel","ngModelChange","change"],["mode","side",3,"opened","openedChange"],["sidenav",""],[1,"search"],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSubheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["exampleLink",""]],template:function(h,x){1&h&&(l.TgZ(0,"showcase-layout-toolbar-menu",0)(1,"button",1),l.NdJ("click",function(){return x.toggleSidenav()}),l.TgZ(2,"mat-icon"),l._uU(3,"menu"),l.qZA()()(),l.TgZ(4,"showcase-layout-toolbar-menu",2)(5,"mat-slide-toggle",3),l.NdJ("ngModelChange",function(ee){return x.isEditMode=ee})("change",function(ee){return x.toggleEdit(ee)}),l._uU(6," Edit! "),l.qZA()(),l.TgZ(7,"mat-sidenav-container")(8,"mat-sidenav",4,5),l.NdJ("openedChange",function(){return x.onSidenavChange()}),l.TgZ(10,"mat-form-field",6)(11,"input",7),l.NdJ("ngModelChange",function(ee){return x.searchTerm=ee})("ngModelChange",function(){return x.search()}),l.qZA(),l.YNc(12,hv,3,0,"button",8),l.qZA(),l.TgZ(13,"mat-nav-list"),l.YNc(14,Px,5,2,"ng-container",9),l.qZA()(),l.TgZ(15,"mat-sidenav-content")(16,"section",10),l._UZ(17,"router-outlet"),l.qZA()()()),2&h&&(l.xp6(5),l.Q6J("ngModel",x.isEditMode),l.xp6(3),l.Q6J("opened",x.sidenavIsOpen),l.xp6(3),l.Q6J("ngModel",x.searchTerm),l.xp6(1),l.Q6J("ngIf",x.searchTerm),l.xp6(2),l.Q6J("ngForOf",x.categories))},dependencies:[me.lC,me.rH,me.Od,oe.sg,oe.O5,xa.Fj,xa.JJ,xa.On,$y.a,rd.lW,rd.RK,ax,Bf,m_,eE,fx,qs.KE,qs.R9,Ve.Hw,jf,sd,Yh,cv],styles:["[_nghost-%COMP%], .content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:345px;display:flex;flex-direction:column;flex:1}mat-nav-list[_ngcontent-%COMP%]{overflow-y:auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{height:100%}mat-form-field.search[_ngcontent-%COMP%]{width:100%;margin-bottom:-1.25em}a.active[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5!important}"]})}return u})(),sr=(()=>{class u{constructor(o,h){this.mapResizeService=o,this.map=h,this.sub=new Qn.w0}ngOnInit(){this.sub.add(this.mapResizeService.resize$.subscribe(()=>{this.map.mapInstance.resize()}))}ngOnDestroy(){this.sub.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(Hy),l.Y36(xn))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["mgl-map"]]})}return u})(),qn=(()=>{class u{constructor(o){this.map=o,null!=window.Cypress&&(console.info("Cypress detected. Setting preserveDrawingBuffer=true"),this.map.preserveDrawingBuffer=!0)}onMapIdle(o){window.mglMapTestHelper.map=o.target,window.mglMapTestHelper.idle=!0}onMapRender(o){window.mglMapTestHelper.map=o.target,window.mglMapTestHelper.idle=!1}onMapLoad(o){window.mglMapTestHelper.map=o.target,window.mglMapTestHelper.loaded=!0}ngOnInit(){window.mglMapTestHelper={mapComponent:this.map}}ngOnDestroy(){window.mglMapTestHelper=void 0}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(xn))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["mgl-map"]],hostBindings:function(h,x){1&h&&l.NdJ("idle",function(ee){return x.onMapIdle(ee)})("render",function(ee){return x.onMapRender(ee)})("mapLoad",function(ee){return x.onMapLoad(ee)})}})}return u})();const Rx=u=>[u,40.7135],Fx=()=>["==","extrude","true"],Lx=()=>["linear"],mv=()=>["zoom"],Nx=()=>["get","height"],pv=(u,b,o)=>["interpolate",u,b,15,0,15.05,o],zx=()=>["get","min_height"],Bx=(u,b)=>({"fill-extrusion-color":"#aaa","fill-extrusion-height":u,"fill-extrusion-base":b,"fill-extrusion-opacity":.6});let Vx=(()=>{class u{onLoad(o){const h=o.getStyle().layers;for(let x=0;x<h.length;x++)if("symbol"===h[x].type&&h[x].layout["text-field"]){this.labelLayerId=h[x].id;break}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:30,consts:[[3,"zoom","center","pitch","bearing","mapLoad"],["id","3d-buildings","source","openmaptiles","sourceLayer","building","type","fill-extrusion",3,"filter","minzoom","paint","before"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(ee){return x.onLoad(ee)}),l._UZ(1,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",15.5)("center",l.VKq(10,Rx,-74.0066))("pitch",45)("bearing",-17.6),l.xp6(1),l.Q6J("filter",l.DdM(12,Fx))("minzoom",15)("paint",l.WLB(27,Bx,l.kEZ(16,pv,l.DdM(13,Lx),l.DdM(14,mv),l.DdM(15,Nx)),l.kEZ(23,pv,l.DdM(20,Lx),l.DdM(21,mv),l.DdM(22,zx))))("before",x.labelLayerId))},dependencies:[xn,Mr,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const fv=u=>({width:64,height:64,data:u}),Gu=()=>[0,0],Ux=u=>({type:"Point",coordinates:u}),C_=u=>({type:"Feature",geometry:u}),ad=u=>[u],gv=u=>({type:"FeatureCollection",features:u}),jx=u=>({type:"geojson",data:u}),hE=()=>({"icon-image":"gradient"});let As=(()=>{class u{ngOnInit(){this.imageData=this.generateImage()}generateImage(){const x=new Uint8Array(16384);for(let L=0;L<64;L++)for(let ee=0;ee<64;ee++){const Se=4*(64*ee+L);x[Se+0]=ee/64*255,x[Se+1]=L/64*255,x[Se+2]=128,x[Se+3]=255}return x}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:19,consts:[["id","gradient",3,"data"],["id","points","type","symbol",3,"source","layout"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-image",0)(2,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("data",l.VKq(5,fv,x.imageData)),l.xp6(1),l.Q6J("source",l.VKq(16,jx,l.VKq(14,gv,l.VKq(12,ad,l.VKq(10,C_,l.VKq(8,Ux,l.DdM(7,Gu)))))))("layout",l.DdM(18,hE)))},dependencies:[xn,Mr,Zr,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function Hx(u,b){if(1&u&&l._UZ(0,"mgl-image",3),2&u){const o=b.$implicit;l.Q6J("id",o.id)("data",o)}}const E_=()=>[0,0],D_=u=>({type:"Point",coordinates:u}),$x=()=>({color:"255,0,0"}),_p=(u,b)=>({type:"Feature",geometry:u,properties:b}),_v=()=>[50,0],yv=()=>({color:"255,209,28"}),Gx=u=>[u,0],vv=()=>({color:"242,127,32"}),bv=(u,b,o)=>[u,b,o],Zx=u=>({type:"FeatureCollection",features:u}),Zu=u=>({type:"geojson",data:u}),xv=()=>["get","color"],wv=u=>["concat","square-rgb-",u],Wx=u=>({"icon-image":u});let Cv=(()=>{class u{constructor(){this.imagesData=[]}generateImage({id:o}){const h="square-rgb-";if(0!==o.indexOf(h))return;const x=o.replace(h,"").split(",").map(Number),Se=new Uint8Array(16384);for(let bt=0;bt<64;bt++)for(let qt=0;qt<64;qt++){const ni=4*(64*qt+bt);Se[ni+0]=x[0],Se[ni+1]=x[1],Se[ni+2]=x[2],Se[ni+3]=255}this.imagesData=[...this.imagesData,{id:o,width:64,height:64,data:Se}]}trackByImage(o,h){return h.id}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:41,consts:[[3,"styleImageMissing"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],["id","points","type","symbol",3,"source","layout"],[3,"id","data"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("styleImageMissing",function(ee){return x.generateImage(ee)}),l.YNc(1,Hx,1,2,"mgl-image",1),l._UZ(2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngForOf",x.imagesData)("ngForTrackBy",x.trackByImage),l.xp6(1),l.Q6J("source",l.VKq(34,Zu,l.VKq(32,Zx,l.kEZ(28,bv,l.WLB(10,_p,l.VKq(7,D_,l.DdM(6,E_)),l.DdM(9,$x)),l.WLB(17,_p,l.VKq(14,D_,l.DdM(13,_v)),l.DdM(16,yv)),l.WLB(25,_p,l.VKq(22,D_,l.VKq(20,Gx,-50)),l.DdM(24,vv))))))("layout",l.VKq(39,Wx,l.VKq(37,wv,l.DdM(36,xv)))))},dependencies:[oe.sg,xn,Mr,Zr,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Ev=()=>[0,0],Dv=u=>({type:"Point",coordinates:u}),Hf=u=>({type:"Feature",geometry:u}),qx=u=>[u],Yx=u=>({type:"FeatureCollection",features:u}),S_=u=>({type:"geojson",data:u}),Kx=()=>({"icon-image":"cat","icon-size":.25});function $f(u,b){1&u&&l._UZ(0,"mgl-layer",2),2&u&&l.Q6J("source",l.VKq(11,S_,l.VKq(9,Yx,l.VKq(7,qx,l.VKq(5,Hf,l.VKq(3,Dv,l.DdM(2,Ev)))))))("layout",l.DdM(13,Kx))}let Sv=(()=>{class u{constructor(){this.imageLoaded=!1}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:3,consts:[["id","cat","url","https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png",3,"imageLoaded"],["id","points","type","symbol",3,"source","layout",4,"ngIf"],["id","points","type","symbol",3,"source","layout"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map")(1,"mgl-image",0),l.NdJ("imageLoaded",function(){return x.imageLoaded=!0}),l.qZA(),l.YNc(2,$f,1,14,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(2),l.Q6J("ngIf",x.imageLoaded))},dependencies:[oe.O5,xn,Mr,Zr,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Mv=u=>[u,38.907],Xx=()=>[11.15];let Qx=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","top-left"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(5,Mv,-77.04))("zoom",l.DdM(7,Xx))("attributionControl",!1))},dependencies:[xn,Zn,fe,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function yp(u,b){1&u&&l._UZ(0,"mgl-feature",4),2&u&&l.Q6J("geometry",b.$implicit)}const Jx=()=>[8],ew=()=>({"icon-image":"oneway"});let tw=(()=>{class u{constructor(){this.center=[-90.96,-.47],this.geometries=[{type:"Point",coordinates:[-91.395263671875,-.9145729757782163]},{type:"Point",coordinates:[-90.32958984375,-.6344474832838974]},{type:"Point",coordinates:[-91.34033203125,.01647949196029245]}]}centerMapTo(o){this.center=o.features[0].geometry.coordinates}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:4,vars:9,consts:[[3,"zoom","center","cursorStyle","mapLoad"],["id","symbols-source"],[3,"geometry",4,"ngFor","ngForOf"],["id","symbols","type","symbol","source","symbols-source",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"geometry"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(ee){return x.map=ee}),l.TgZ(1,"mgl-geojson-source",1),l.YNc(2,yp,1,1,"mgl-feature",2),l.qZA(),l.TgZ(3,"mgl-layer",3),l.NdJ("layerClick",function(ee){return x.centerMapTo(ee)})("layerMouseEnter",function(){return x.cursorStyle="pointer"})("layerMouseLeave",function(){return x.cursorStyle=""}),l.qZA()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Jx))("center",x.center)("cursorStyle",x.cursorStyle),l.xp6(2),l.Q6J("ngForOf",x.geometries),l.xp6(1),l.Q6J("layout",l.DdM(8,ew)))},dependencies:[oe.sg,xn,Mr,Co,Or,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function iw(u,b){1&u&&l._UZ(0,"showcase-cluster-point",6),2&u&&l.Q6J("properties",b.$implicit.properties)}const nw=()=>[.3],rw=()=>[0,20],Tv=()=>["!=","cluster",!0],ow=u=>({fill:u});function Iv(u,b){if(1&u&&(l.O4$(),l._UZ(0,"path",4)),2&u){const o=b.$implicit;l.Q6J("ngStyle",l.VKq(2,ow,o.fill)),l.uIk("d",o.d)}}const M_=u=>({font:u}),Kh=["#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c"];let Gf=(()=>{class u{constructor(){const o=["<",["get","mag"],2],h=["all",[">=",["get","mag"],2],["<",["get","mag"],3]],x=["all",[">=",["get","mag"],3],["<",["get","mag"],4]],L=["all",[">=",["get","mag"],4],["<",["get","mag"],5]];this.clusterProperties={mag1:["+",["case",o,1,0]],mag2:["+",["case",h,1,0]],mag3:["+",["case",x,1,0]],mag4:["+",["case",L,1,0]],mag5:["+",["case",[">=",["get","mag"],5],1,0]]},this.circlePaint={"circle-color":["case",o,Kh[0],h,Kh[1],x,Kh[2],L,Kh[3],Kh[4]],"circle-opacity":.6,"circle-radius":12},this.labelLayout={"text-field":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":10},this.labelPaint={"text-color":["case",["<",["get","mag"],3],"black","white"]}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:6,vars:16,consts:[[3,"zoom","center"],["id","earthquakes","data","https://maplibre.org/maplibre-gl-js/docs/assets/earthquakes.geojson",3,"cluster","clusterRadius","clusterProperties"],["source","earthquakes"],["mglClusterPoint",""],["id","earthquake_circle","type","circle","source","earthquakes",3,"filter","paint"],["id","earthquake_label","type","symbol","source","earthquakes",3,"filter","layout","paint"],[3,"properties"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-markers-for-clusters",2),l.YNc(3,iw,1,1,"ng-template",3),l.qZA(),l._UZ(4,"mgl-layer",4)(5,"mgl-layer",5),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(12,nw))("center",l.DdM(13,rw)),l.xp6(1),l.Q6J("cluster",!0)("clusterRadius",80)("clusterProperties",x.clusterProperties),l.xp6(3),l.Q6J("filter",l.DdM(14,Tv))("paint",x.circlePaint),l.xp6(1),l.Q6J("filter",l.DdM(15,Tv))("layout",x.labelLayout)("paint",x.labelPaint))},dependencies:()=>[xn,Mr,Co,wr,Hr,sr,sw,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})(),sw=(()=>{class u{ngOnInit(){const o=[],h=[this.properties.mag1,this.properties.mag2,this.properties.mag3,this.properties.mag4,this.properties.mag5];let x=0;for(let ee=0;ee<h.length;ee++)o.push(x),x+=h[ee];this.font=(x>=1e3?22:x>=100?20:x>=10?18:16)+"px sans-serif",this.r=x>=1e3?50:x>=100?32:x>=10?24:18,this.r0=Math.round(.6*this.r),this.w=2*this.r,this.viewbox=`0 0 ${this.w} ${this.w}`,this.textTransform=`translate(${this.r}, ${this.r})`,this.segments=[];for(let ee=0;ee<h.length;ee++)this.segments.push(this.donutSegment(o[ee]/x,(o[ee]+h[ee])/x,Kh[ee]));this.totalString=x.toLocaleString()}donutSegment(o,h,x){h-o==1&&(h-=1e-5);const L=2*Math.PI*(o-.25),ee=2*Math.PI*(h-.25),Se=Math.cos(L),et=Math.sin(L),bt=Math.cos(ee),qt=Math.sin(ee),ni=h-o>.5?1:0;return{d:`M ${this.r+this.r0*Se} ${this.r+this.r0*et} L ${this.r+this.r*Se} ${this.r+this.r*et} A ${this.r} ${this.r} 0 ${ni} 1 ${this.r+this.r*bt} ${this.r+this.r*qt} L ${this.r+this.r0*bt} ${this.r+this.r0*qt} A ${this.r0} ${this.r0} 0 ${ni} 0 ${this.r+this.r0*Se} ${this.r+this.r0*et}`,fill:x}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-cluster-point"]],inputs:{properties:"properties"},decls:5,vars:12,consts:[["text-anchor","middle",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],["fill","white"],["dominant-baseline","central"],[3,"ngStyle"]],template:function(h,x){1&h&&(l.O4$(),l.TgZ(0,"svg",0),l.YNc(1,Iv,1,4,"path",1),l._UZ(2,"circle",2),l.TgZ(3,"text",3),l._uU(4),l.qZA()()),2&h&&(l.Q6J("ngStyle",l.VKq(10,M_,x.font)),l.uIk("width",x.w)("height",x.w)("viewbox",x.viewbox),l.xp6(1),l.Q6J("ngForOf",x.segments),l.xp6(1),l.uIk("cx",x.r)("cy",x.r)("r",x.r0),l.xp6(1),l.uIk("transform",x.textTransform),l.xp6(1),l.hij(" ",x.totalString," "))},dependencies:[oe.sg,oe.PC],encapsulation:2})}return u})();const Av=()=>["has","point_count"],aw=()=>[0,"#51bbd6"],lw=()=>[100,"#f1f075"],cw=()=>[750,"#f28cb1"],kv=(u,b,o)=>[u,b,o],Ov=u=>({property:"point_count",type:"interval",stops:u}),Pv=()=>[0,20],Rv=()=>[100,30],dw=()=>[750,40],mE=(u,b)=>({"circle-color":u,"circle-radius":b}),Fv=()=>["DIN Offc Pro Medium","Arial Unicode MS Bold"],Lv=u=>({"text-field":"{point_count_abbreviated}","text-font":u,"text-size":12}),ld=()=>["!has","point_count"],vp=()=>({"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"});function ks(u,b){if(1&u&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2)(2,"mgl-layer",3)(3,"mgl-layer",4)(4,"mgl-layer",5),l.BQk()),2&u){const o=l.oxw();l.xp6(1),l.Q6J("data",o.earthquakes)("cluster",!0)("clusterMaxZoom",14)("clusterRadius",50),l.xp6(1),l.Q6J("filter",l.DdM(10,Av))("paint",l.WLB(29,mE,l.VKq(18,Ov,l.kEZ(14,kv,l.DdM(11,aw),l.DdM(12,lw),l.DdM(13,cw))),l.VKq(27,Ov,l.kEZ(23,kv,l.DdM(20,Pv),l.DdM(21,Rv),l.DdM(22,dw))))),l.xp6(1),l.Q6J("filter",l.DdM(32,Av))("layout",l.VKq(34,Lv,l.DdM(33,Fv))),l.xp6(1),l.Q6J("filter",l.DdM(36,ld))("paint",l.DdM(37,vp))}}const Wu=()=>[3],Zf=u=>[u,40.66995747013945];let pc=(()=>{class u{ngOnInit(){var o=this;return(0,on.Z)(function*(){o.earthquakes=yield U.e(45).then(U.t.bind(U,3045,19))})()}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["id","clusters","type","circle","source","earthquakes",3,"filter","paint"],["id","cluster-count","type","symbol","source","earthquakes",3,"filter","layout"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,ks,5,38,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Wu))("center",l.VKq(6,Zf,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",x.earthquakes))},dependencies:[oe.O5,xn,Mr,Co,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const T_=u=>[u,38.907],Xh=()=>[11.15],Jh=()=>['<a href="https://github.com/Wykks/ngx-mapbox-gl" target="_blank">Maps made awesome in Angular</a>',"Hello World"];let em=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","bottom-right",3,"customAttribution"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(6,T_,-77.04))("zoom",l.DdM(8,Xh))("attributionControl",!1),l.xp6(1),l.Q6J("customAttribution",l.DdM(9,Jh)))},dependencies:[xn,Zn,fe,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const tm=()=>[36.235656,50.00387],im=()=>[11.15];let nm=(()=>{class u{constructor(){this.locale={"FullscreenControl.Enter":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c","FullscreenControl.Exit":"\u0412\u0438\u0439\u0442\u0438 \u0437 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0443","GeolocateControl.FindMyLocation":"\u0417\u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f","GeolocateControl.LocationNotAvailable":"\u041c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435","LogoControl.Title":"\u041b\u043e\u0433\u043e Mapbox","NavigationControl.ResetBearing":"C\u043a\u0438\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u0441","NavigationControl.ZoomIn":"\u041d\u0430\u0431\u043b\u0438\u0437\u0438\u0442\u0438","NavigationControl.ZoomOut":"\u0412\u0456\u0434\u0434\u0430\u043b\u0438\u0442\u0438","ScaleControl.Feet":"\u0444","ScaleControl.Meters":"\u043c","ScaleControl.Kilometers":"\u043a\u043c","ScaleControl.Miles":"\u043c\u0438","ScaleControl.NauticalMiles":"\u043d\u043c"}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:5,vars:7,consts:[[3,"center","zoom","locale"],["mglFullscreen","","position","top-left"],["mglGeolocate","","position","top-left"],["mglNavigation","","position","top-left"],["mglScale",""]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1)(2,"mgl-control",2)(3,"mgl-control",3)(4,"mgl-control",4),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.DdM(5,tm))("zoom",l.DdM(6,im))("locale",x.locale))},dependencies:[xn,Zn,el,B,bc,W,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const rm=(u,b,o)=>({"background-image":u,width:b,height:o});function om(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"mgl-marker",2)(1,"div",3),l.NdJ("click",function(){const L=l.CHM(o).$implicit,ee=l.oxw();return l.KtG(ee.alert(L.properties.message))}),l.qZA()()}if(2&u){const o=b.$implicit;l.Q6J("feature",o),l.xp6(1),l.Q6J("ngStyle",l.kEZ(2,rm,"url(https://placekitten.com/g/"+o.properties.iconSize.join("/")+"/)",o.properties.iconSize[0]+"px",o.properties.iconSize[1]+"px"))}}const Nv=()=>[5],zv=(u,b)=>[u,b];let Bv=(()=>{class u{constructor(){this.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{message:"Foo",iconSize:[60,60]},geometry:{type:"Point",coordinates:[-66.324462890625,-16.024695711685304]}},{type:"Feature",properties:{message:"Bar",iconSize:[50,50]},geometry:{type:"Point",coordinates:[-61.2158203125,-15.97189158092897]}},{type:"Feature",properties:{message:"Baz",iconSize:[40,40]},geometry:{type:"Point",coordinates:[-63.29223632812499,-18.28151823530889]}}]}}alert(o){alert(o)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:9,consts:[[3,"zoom","center"],[3,"feature",4,"ngFor","ngForOf"],[3,"feature"],[1,"marker",3,"ngStyle","click"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,om,2,6,"mgl-marker",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Nv))("center",l.WLB(6,zv,-65.017,-16.457)),l.xp6(1),l.Q6J("ngForOf",x.geojson.features))},dependencies:[oe.sg,oe.PC,xn,ia,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]})}return u})();const Vv=()=>[3],Uv=u=>[u,39];let jv=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(h,x){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Vv))("center",l.VKq(5,Uv,-77.38)))},dependencies:[xn,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Hv=()=>[9],$v=u=>[u,40];let Gv=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(h,x){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Hv))("center",l.VKq(5,$v,-74.5)))},dependencies:[xn,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Wf=["*"],qu=new l.OlP("MAT_CARD_CONFIG");let bp=(()=>{class u{constructor(o){this.appearance=o?.appearance||"raised"}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(qu,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(h,x){2&h&&l.ekj("mat-mdc-card-outlined","outlined"===x.appearance)("mdc-card--outlined","outlined"===x.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Wf,decls:1,vars:0,template:function(h,x){1&h&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return u})(),Wv=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,oe.ez,dr.BQ]})}return u})();function qv(u,b){if(1&u&&(l.TgZ(0,"mgl-control",3)(1,"mat-card",4)(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.qZA()()()),2&u){const o=l.oxw();l.xp6(3),l.hij("Longitude:\xa0",o.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",o.coordinates[1],"")}}const sm=()=>[2],Yv=()=>[0,0];let gw=(()=>{class u{constructor(){this.color="#3887be"}onDragEnd(o){this.coordinates=o.getLngLat().toArray()}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:10,consts:[[3,"zoom","center"],[3,"lngLat","draggable","markerDragEnd"],["position","bottom-left",4,"ngIf"],["position","bottom-left"],["appearance","outlined"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1),l.NdJ("markerDragEnd",function(ee){return x.onDragEnd(ee)}),l.qZA(),l.YNc(2,qv,6,2,"mgl-control",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,sm))("center",l.DdM(8,Yv)),l.xp6(1),l.Q6J("lngLat",l.DdM(9,Yv))("draggable",!0),l.xp6(1),l.Q6J("ngIf",x.coordinates))},dependencies:[oe.O5,xn,ia,Zn,bp,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Kv=()=>[13],_w=()=>[11.255,43.77];let Xv=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:6,consts:[[3,"zoom","center"],["mglFullscreen",""]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Kv))("center",l.DdM(5,_w)))},dependencies:[xn,Zn,el,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const xE=()=>[15],A_=u=>[u,37.830348],k_=()=>({}),O_=u=>[u,37.83381888486939],P_=u=>[u,37.83317489144141],zc=u=>[u,37.83270036637107],yw=u=>[u,37.832056363179625],Qv=u=>[u,37.83114119107971],cd=u=>[u,37.83049717427869],Bc=u=>[u,37.829920943955045],Vc=u=>[u,37.82954808664175],Jv=u=>[u,37.82944639795659],eb=u=>[u,37.82880236636284],vw=u=>[u,37.82931081282506],bw=u=>[u,37.83080223556934],xw=u=>[u,37.83168351665737],ww=u=>[u,37.832158048267786],R_=u=>[u,37.83297152392784],xp=u=>[u,37.83263257682617],Cw=u=>[u,37.832937629287755],tb=u=>[u,37.832429207817725],Ew=u=>[u,37.832564787218985],Dw=u=>[u,37.83337825839438],ib=u=>[u,37.83368330777276],nb=(u,b,o,h,x,L,ee,Se,et,bt,qt,ni,Hi,un,zi,tn,Nn,tr,Sr,co,Br)=>[u,b,o,h,x,L,ee,Se,et,bt,qt,ni,Hi,un,zi,tn,Nn,tr,Sr,co,Br],qf=u=>({type:"LineString",coordinates:u}),Sw=(u,b)=>({type:"Feature",properties:u,geometry:b}),rb=u=>({type:"geojson",data:u}),ob=()=>({"line-join":"round","line-cap":"round"}),Mw=()=>({"line-color":"#888","line-width":8});let Tw=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:84,consts:[[3,"zoom","center"],["id","route","type","line",3,"source","layout","paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-layer",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,xE))("center",l.VKq(8,A_,-122.486052)),l.xp6(1),l.Q6J("source",l.VKq(80,rb,l.WLB(77,Sw,l.DdM(10,k_),l.VKq(75,qf,l.rFY(53,nb,[l.VKq(11,O_,-122.48369693756104),l.VKq(13,P_,-122.48348236083984),l.VKq(15,zc,-122.48339653015138),l.VKq(17,yw,-122.48356819152832),l.VKq(19,Qv,-122.48404026031496),l.VKq(21,cd,-122.48404026031496),l.VKq(23,Bc,-122.48348236083984),l.VKq(25,Vc,-122.48356819152832),l.VKq(27,Jv,-122.48507022857666),l.VKq(29,eb,-122.48610019683838),l.VKq(31,vw,-122.48695850372314),l.VKq(33,bw,-122.48700141906738),l.VKq(35,xw,-122.48751640319824),l.VKq(37,ww,-122.48803138732912),l.VKq(39,R_,-122.48888969421387),l.VKq(41,xp,-122.48987674713133),l.VKq(43,Cw,-122.49043464660643),l.VKq(45,tb,-122.49125003814696),l.VKq(47,Ew,-122.49163627624512),l.VKq(49,Dw,-122.49223709106445),l.VKq(51,ib,-122.49378204345702)])))))("layout",l.DdM(82,ob))("paint",l.DdM(83,Mw)))},dependencies:[xn,Mr,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function Iw(u,b){if(1&u&&l._UZ(0,"mgl-layer",5),2&u){const o=b.$implicit;l.Q6J("id",o.id)("type",o.type)("filter",o.filter)("paint",o.paint)}}const Aw=()=>["!=","cluster",!0],kw=()=>({"circle-color":"rgba(0,255,0,0.5)","circle-radius":20,"circle-blur":1});function Ow(u,b){if(1&u&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2),l.YNc(2,Iw,1,4,"mgl-layer",3),l._UZ(3,"mgl-layer",4),l.BQk()),2&u){const o=l.oxw();l.xp6(1),l.Q6J("data",o.earthquakes)("cluster",!0)("clusterMaxZoom",15)("clusterRadius",20),l.xp6(1),l.Q6J("ngForOf",o.clusterLayers),l.xp6(1),l.Q6J("filter",l.DdM(7,Aw))("paint",l.DdM(8,kw))}}const Pw=()=>[3],Rw=u=>[u,40.66995747013945];let Fw=(()=>{class u{ngOnInit(){var o=this;return(0,on.Z)(function*(){o.earthquakes=yield U.e(45).then(U.t.bind(U,3045,19));const h=[[0,"green"],[20,"orange"],[200,"red"]];o.clusterLayers=h.map((x,L)=>({type:"circle",id:`cluster-${L}`,paint:{"circle-color":x[1],"circle-radius":70,"circle-blur":1},filter:L===h.length-1?[">=","point_count",x[0]]:["all",[">=","point_count",x[0]],["<","point_count",h[L+1][0]]]}))})()}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["source","earthquakes",3,"id","type","filter","paint",4,"ngFor","ngForOf"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"],["source","earthquakes",3,"id","type","filter","paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Ow,4,9,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Pw))("center",l.VKq(6,Rw,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",x.earthquakes))},dependencies:[oe.sg,oe.O5,xn,Mr,Co,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const F_=()=>[2],Lw=u=>[u,37.830348],wE=()=>({"fill-color":"#627BC1","fill-opacity":.5}),CE=()=>({"line-color":"#627BC1","line-width":2}),Nw=()=>({"fill-color":"#627BC1","fill-opacity":1});let zw=(()=>{class u{constructor(){this.hoverFilter=["==","name",""]}activateHoverOn(o){this.hoverFilter=["==","name",o.features[0].properties.name]}disableHover(){this.hoverFilter=["==","name",""]}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:5,vars:14,consts:[[3,"zoom","center"],["id","states","data","https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson"],["id","state-fills","type","fill","source","states",3,"paint","layerMouseMove","layerMouseLeave"],["id","state-borders","type","line","source","states",3,"paint"],["id","state-fills-hover","type","fill","source","states",3,"paint","filter"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerMouseMove",function(ee){return x.activateHoverOn(ee)})("layerMouseLeave",function(){return x.disableHover()}),l.qZA(),l._UZ(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,F_))("center",l.VKq(9,Lw,-100.486052)),l.xp6(2),l.Q6J("paint",l.DdM(11,wE)),l.xp6(1),l.Q6J("paint",l.DdM(12,CE)),l.xp6(1),l.Q6J("paint",l.DdM(13,Nw))("filter",x.hoverFilter))},dependencies:[xn,Mr,Co,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const EE=()=>[9],Bw=u=>[u,40];let DE=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:1,vars:8,consts:[[3,"zoom","center","interactive"]],template:function(h,x){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,EE))("center",l.VKq(6,Bw,-74.5))("interactive",!1))},dependencies:[xn,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Vw=()=>[2.9],Uw=()=>[16.05,48];let jw=(()=>{class u{changeLangTo(o){this.map&&(this.map.setLayoutProperty("country_1","text-field","{name:"+o+"}"),this.map.setLayoutProperty("country_2","text-field","{name:"+o+"}"),this.map.setLayoutProperty("country_3","text-field","{name:"+o+"}"))}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:10,vars:6,consts:[[3,"zoom","center","mapLoad"],["mat-raised-button","",1,"lang-button",3,"click"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(ee){return x.map=ee}),l.TgZ(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return x.changeLangTo("fr")}),l._uU(3," French "),l.qZA(),l.TgZ(4,"button",1),l.NdJ("click",function(){return x.changeLangTo("ru")}),l._uU(5," Russian "),l.qZA(),l.TgZ(6,"button",1),l.NdJ("click",function(){return x.changeLangTo("de")}),l._uU(7," German "),l.qZA(),l.TgZ(8,"button",1),l.NdJ("click",function(){return x.changeLangTo("es")}),l._uU(9," Spanish "),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Vw))("center",l.DdM(5,Uw)))},dependencies:[xn,Zn,rd.lW,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function L_(u,b){if(1&u&&l._UZ(0,"mgl-geojson-source",3),2&u){const o=l.oxw();l.Q6J("data",o.data)}}const wp=()=>({"line-color":"yellow","line-opacity":.75,"line-width":5});function N_(u,b){1&u&&l._UZ(0,"mgl-layer",4),2&u&&l.Q6J("paint",l.DdM(1,wp))}let Yf=(()=>{class u{constructor(){this.zoom=[0]}ngOnInit(){var o=this;return(0,on.Z)(function*(){const h=yield U.e(330).then(U.t.bind(U,3330,19)),x=h.features[0].geometry.coordinates;h.features[0].geometry.coordinates=[x[0]],o.data=h,o.center=x[0],o.zoom=[14],o.pitch=30;let L=0;o.timer=window.setInterval(()=>{L<x.length?(o.center=x[L],h.features[0].geometry.coordinates.push(x[L]),o.data={...o.data},L++):window.clearInterval(o.timer)},10)})()}ngOnDestroy(){window.clearInterval(this.timer)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:8,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch"],["id","trace",3,"data",4,"ngIf"],["id","trace","type","line","source","trace",3,"paint",4,"ngIf"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,L_,1,1,"mgl-geojson-source",1)(2,N_,1,2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",x.zoom)("center",x.center)("centerWithPanTo",!0)("pitch",x.pitch),l.xp6(1),l.Q6J("ngIf",x.data),l.xp6(1),l.Q6J("ngIf",x.data))},dependencies:[oe.O5,xn,Mr,Co,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();var sb=U(6321),Cp=U(4825);const Hw=()=>[14],Ep=()=>({"raster-fade-duration":0});let lb=(()=>{class u{constructor(){this.size=.001,this.url="assets/red.png"}ngOnInit(){var o=this;return(0,on.Z)(function*(){const x=(yield U.e(330).then(U.t.bind(U,3330,19))).features[0].geometry.coordinates,L=x.map(Se=>o.makeRectangle(Se));o.center=x[0],o.coordinates=L[0];let ee=0;o.sub=function ab(u=0,b=sb.z){return u<0&&(u=0),(0,Cp.H)(u,u,b)}(250).subscribe(()=>{o.url=Math.random()<.5?"assets/red.png":"assets/blue.png",o.coordinates=L[ee],ee=(ee+1)%L.length})})()}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}makeRectangle([o,h]){return[[o,h],[o+this.size,h],[o+this.size,h-this.size],[o,h-this.size]]}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:9,consts:[["movingMethod","jumpTo",3,"center","zoom"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-image-source",1)(2,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",x.center)("zoom",l.DdM(7,Hw)),l.xp6(1),l.Q6J("url",x.url)("coordinates",x.coordinates),l.xp6(1),l.Q6J("paint",l.DdM(8,Ep)))},dependencies:[xn,Mr,dd,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const $w=()=>({enableHighAccuracy:!0});let cb=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:5,consts:[["mglGeolocate","",3,"positionOptions","trackUserLocation"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("positionOptions",l.DdM(4,$w))("trackUserLocation",!0))},dependencies:[xn,Zn,bc,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Dp=u=>[u],Gw=()=>[17],Zw=()=>[4.577979,51.038189],Ww=()=>[4.577979,51.03816];let qw=(()=>{class u{constructor(){this.pitch=50,this.bearing=-97}ngOnInit(){let o=0;setInterval(()=>{o+=.01,1===o&&(o=0),this.pitch=45+15*Math.cos(o),this.bearing=20*Math.sin(o)-103},20)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:7,vars:15,consts:[["movingMethod","jumpTo",3,"interactive","pitch","bearing","zoom","center"],["rotationAlignment","map","pitchAlignment","map",3,"lngLat"],[1,"arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 434 437"],["points","37.5 437.18 218 350.75 217.49 -0.37 37.5 437.18",2,"fill","#579120"],["points","397.55 437.13 218 350.75 217.49 -0.37 397.55 437.13",2,"fill","#6fad2d"],["points","217.22 391.46 397.55 437.13 218 350.75 37.5 437.18 217.22 391.46",2,"fill","#315112"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"polygon",4)(5,"polygon",5)(6,"polygon",6),l.qZA()()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("interactive",!1)("pitch",l.VKq(8,Dp,x.pitch))("bearing",l.VKq(10,Dp,x.bearing))("zoom",l.DdM(12,Gw))("center",l.DdM(13,Zw)),l.xp6(1),l.Q6J("lngLat",l.DdM(14,Ww)))},dependencies:[xn,ia,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".arrow[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-97deg)}"]})}return u})();const Yw=()=>[9],z_=u=>[u,40];let Kf=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:7,consts:[[3,"zoom","center"],["mglNavigation",""]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Yw))("center",l.VKq(5,z_,-74.5)))},dependencies:[xn,Zn,B,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();var Sp=U(8525),db=U(3651),Kw=U(8484);const Xw=["tooltip"],V_=new l.OlP("mat-tooltip-scroll-strategy"),Jw={provide:V_,deps:[db.aV],useFactory:function Qw(u){return()=>u.scrollStrategies.reposition({scrollThrottle:20})}},e1=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function ub(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Yu="tooltip-panel",hb=(0,dc.i$)({passive:!0});let fb=(()=>{class u{get position(){return this._position}set position(o){o!==this._position&&(this._position=o,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(o){this._positionAtOrigin=(0,Xn.Ig)(o),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(o){this._disabled=(0,Xn.Ig)(o),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(o){this._showDelay=(0,Xn.su)(o)}get hideDelay(){return this._hideDelay}set hideDelay(o){this._hideDelay=(0,Xn.su)(o),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(o){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=o?String(o).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(o){this._tooltipClass=o,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(o,h,x,L,ee,Se,et,bt,qt,ni,Hi,un){this._overlay=o,this._elementRef=h,this._scrollDispatcher=x,this._viewContainerRef=L,this._ngZone=ee,this._platform=Se,this._ariaDescriber=et,this._focusMonitor=bt,this._dir=ni,this._defaultOptions=Hi,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Mp,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ro.x,this._scrollStrategy=qt,this._document=un,Hi&&(this._showDelay=Hi.showDelay,this._hideDelay=Hi.hideDelay,Hi.position&&(this.position=Hi.position),Hi.positionAtOrigin&&(this.positionAtOrigin=Hi.positionAtOrigin),Hi.touchGestures&&(this.touchGestures=Hi.touchGestures)),ni.change.pipe((0,mr.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,mr.R)(this._destroyed)).subscribe(o=>{o?"keyboard"===o&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const o=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([h,x])=>{o.removeEventListener(h,x,hb)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(o,this.message,"tooltip"),this._focusMonitor.stopMonitoring(o)}show(o=this.showDelay,h){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const x=this._createOverlay(h);this._detach(),this._portal=this._portal||new Kw.C5(this._tooltipComponent,this._viewContainerRef);const L=this._tooltipInstance=x.attach(this._portal).instance;L._triggerElement=this._elementRef.nativeElement,L._mouseLeaveHideDelay=this._hideDelay,L.afterHidden().pipe((0,mr.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),L.show(o)}hide(o=this.hideDelay){const h=this._tooltipInstance;h&&(h.isVisible()?h.hide(o):(h._cancelPendingAnimations(),this._detach()))}toggle(o){this._isTooltipVisible()?this.hide():this.show(void 0,o)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(o){if(this._overlayRef){const L=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!o)&&L._origin instanceof l.SBq)return this._overlayRef;this._detach()}const h=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),x=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&o||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(h);return x.positionChanges.pipe((0,mr.R)(this._destroyed)).subscribe(L=>{this._updateCurrentPositionClass(L.connectionPair),this._tooltipInstance&&L.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:x,panelClass:`${this._cssClassPrefix}-${Yu}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,mr.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,mr.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,mr.R)(this._destroyed)).subscribe(L=>{this._isTooltipVisible()&&L.keyCode===hc.hY&&!(0,hc.Vb)(L)&&(L.preventDefault(),L.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(o){const h=o.getConfig().positionStrategy,x=this._getOrigin(),L=this._getOverlayPosition();h.withPositions([this._addOffset({...x.main,...L.main}),this._addOffset({...x.fallback,...L.fallback})])}_addOffset(o){const x=!this._dir||"ltr"==this._dir.value;return"top"===o.originY?o.offsetY=-8:"bottom"===o.originY?o.offsetY=8:"start"===o.originX?o.offsetX=x?-8:8:"end"===o.originX&&(o.offsetX=x?8:-8),o}_getOrigin(){const o=!this._dir||"ltr"==this._dir.value,h=this.position;let x;"above"==h||"below"==h?x={originX:"center",originY:"above"==h?"top":"bottom"}:"before"==h||"left"==h&&o||"right"==h&&!o?x={originX:"start",originY:"center"}:("after"==h||"right"==h&&o||"left"==h&&!o)&&(x={originX:"end",originY:"center"});const{x:L,y:ee}=this._invertPosition(x.originX,x.originY);return{main:x,fallback:{originX:L,originY:ee}}}_getOverlayPosition(){const o=!this._dir||"ltr"==this._dir.value,h=this.position;let x;"above"==h?x={overlayX:"center",overlayY:"bottom"}:"below"==h?x={overlayX:"center",overlayY:"top"}:"before"==h||"left"==h&&o||"right"==h&&!o?x={overlayX:"end",overlayY:"center"}:("after"==h||"right"==h&&o||"left"==h&&!o)&&(x={overlayX:"start",overlayY:"center"});const{x:L,y:ee}=this._invertPosition(x.overlayX,x.overlayY);return{main:x,fallback:{overlayX:L,overlayY:ee}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1),(0,mr.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(o){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=o,this._tooltipInstance._markForCheck())}_invertPosition(o,h){return"above"===this.position||"below"===this.position?"top"===h?h="bottom":"bottom"===h&&(h="top"):"end"===o?o="start":"start"===o&&(o="end"),{x:o,y:h}}_updateCurrentPositionClass(o){const{overlayY:h,originX:x,originY:L}=o;let ee;if(ee="center"===h?this._dir&&"rtl"===this._dir.value?"end"===x?"left":"right":"start"===x?"left":"right":"bottom"===h&&"top"===L?"above":"below",ee!==this._currentPosition){const Se=this._overlayRef;if(Se){const et=`${this._cssClassPrefix}-${Yu}-`;Se.removePanelClass(et+this._currentPosition),Se.addPanelClass(et+ee)}this._currentPosition=ee}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",o=>{let h;this._setupPointerExitEventsIfNeeded(),void 0!==o.x&&void 0!==o.y&&(h=o),this.show(void 0,h)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",o=>{const h=o.targetTouches?.[0],x=h?{x:h.clientX,y:h.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,x),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const o=[];if(this._platformSupportsMouseEvents())o.push(["mouseleave",h=>{const x=h.relatedTarget;(!x||!this._overlayRef?.overlayElement.contains(x))&&this.hide()}],["wheel",h=>this._wheelListener(h)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const h=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};o.push(["touchend",h],["touchcancel",h])}this._addListeners(o),this._passiveListeners.push(...o)}_addListeners(o){o.forEach(([h,x])=>{this._elementRef.nativeElement.addEventListener(h,x,hb)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(o){if(this._isTooltipVisible()){const h=this._document.elementFromPoint(o.clientX,o.clientY),x=this._elementRef.nativeElement;h!==x&&!x.contains(h)&&this.hide()}}_disableNativeGesturesIfNecessary(){const o=this.touchGestures;if("off"!==o){const h=this._elementRef.nativeElement,x=h.style;("on"===o||"INPUT"!==h.nodeName&&"TEXTAREA"!==h.nodeName)&&(x.userSelect=x.msUserSelect=x.webkitUserSelect=x.MozUserSelect="none"),("on"===o||!h.draggable)&&(x.webkitUserDrag="none"),x.touchAction="none",x.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(db.aV),l.Y36(l.SBq),l.Y36(mc.mF),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(dc.t4),l.Y36(uc.$s),l.Y36(uc.tE),l.Y36(V_),l.Y36(f_.Is),l.Y36(e1,8),l.Y36(oe.K0))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(h,x){2&h&&l.ekj("mat-mdc-tooltip-disabled",x.disabled)},inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return u})(),Mp=(()=>{class u{constructor(o,h,x){this._changeDetectorRef=o,this._elementRef=h,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ro.x,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===x}show(o){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},o)}hide(o){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},o)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:o}){(!o||!this._triggerElement.contains(o))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const o=this._elementRef.nativeElement.getBoundingClientRect();return o.height>24&&o.width>=200}_handleAnimationEnd({animationName:o}){(o===this._showAnimation||o===this._hideAnimation)&&this._finalizeAnimation(o===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(o){o?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(o){const h=this._tooltip.nativeElement,x=this._showAnimation,L=this._hideAnimation;if(h.classList.remove(o?L:x),h.classList.add(o?x:L),this._isVisible=o,o&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ee=getComputedStyle(h);("0s"===ee.getPropertyValue("animation-duration")||"none"===ee.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}o&&this._onShow(),this._animationsDisabled&&(h.classList.add("_mat-animation-noopable"),this._finalizeAnimation(o))}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-tooltip-component"]],viewQuery:function(h,x){if(1&h&&l.Gf(Xw,7),2&h){let L;l.iGM(L=l.CRH())&&(x._tooltip=L.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(h,x){1&h&&l.NdJ("mouseleave",function(ee){return x._handleMouseLeave(ee)}),2&h&&l.Udp("zoom",x.isVisible()?1:null)},decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(h,x){1&h&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(ee){return x._handleAnimationEnd(ee)}),l.TgZ(2,"div",2),l._uU(3),l.qZA()()),2&h&&(l.ekj("mdc-tooltip--multiline",x._isMultiline),l.Q6J("ngClass",x.tooltipClass),l.xp6(3),l.Oqu(x.message))},dependencies:[oe.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return u})(),am=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({providers:[Jw],imports:[uc.rt,oe.ez,db.U8,dr.BQ,dr.BQ,mc.ZD]})}return u})();function Tp(u,b){if(1&u&&(l.TgZ(0,"mat-option",18),l._uU(1),l.qZA()),2&u){const o=b.$implicit;l.Q6J("value",o),l.xp6(1),l.hij(" ",o," ")}}function H_(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(x){l.CHM(o);const L=l.oxw(2);return l.KtG(L._changePageSize(x.value))}),l.SjG(2,Tp,2,2,"mat-option",18,l.x6l),l.qZA()()}if(2&u){const o=l.oxw(2);l.Q6J("appearance",o._formFieldAppearance)("color",o.color),l.xp6(1),l.Q6J("value",o.pageSize)("disabled",o.disabled)("aria-labelledby",o._pageSizeLabelId)("panelClass",o.selectConfig.panelClass||"")("disableOptionCentering",o.selectConfig.disableOptionCentering),l.xp6(1),l.wJu(o._displayedPageSizeOptions)}}function Xf(u,b){if(1&u&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&u){const o=l.oxw(2);l.xp6(1),l.Oqu(o.pageSize)}}function r1(u,b){if(1&u&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,H_,4,7,"mat-form-field",14)(4,Xf,2,1,"div",15),l.qZA()),2&u){const o=l.oxw();l.xp6(1),l.uIk("id",o._pageSizeLabelId),l.xp6(1),l.hij(" ",o._intl.itemsPerPageLabel," "),l.xp6(1),l.um2(3,o._displayedPageSizeOptions.length>1?3:-1),l.xp6(1),l.um2(4,o._displayedPageSizeOptions.length<=1?4:-1)}}function o1(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"button",20),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",21),l.qZA()()}if(2&u){const o=l.oxw();l.Q6J("matTooltip",o._intl.firstPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),l.uIk("aria-label",o._intl.firstPageLabel)}}function gb(u,b){if(1&u){const o=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",22),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",23),l.qZA()()}if(2&u){const o=l.oxw();l.Q6J("matTooltip",o._intl.lastPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),l.uIk("aria-label",o._intl.lastPageLabel)}}let Ip=(()=>{class u{constructor(){this.changes=new ro.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(o,h,x)=>{if(0==x||0==h)return`0 of ${x}`;const L=o*h;return`${L+1} \u2013 ${L<(x=Math.max(x,0))?Math.min(L+h,x):L+h} of ${x}`}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const _b={provide:Ip,deps:[[new l.FiY,new l.tp0,Ip]],useFactory:function $_(u){return u||new Ip}},G_=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),yb=(0,dr.Id)((0,dr.dB)(class{}));let vb=0,bb=(()=>{class u extends yb{get pageIndex(){return this._pageIndex}set pageIndex(o){this._pageIndex=Math.max((0,Xn.su)(o),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(o){this._length=(0,Xn.su)(o),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(o){this._pageSize=Math.max((0,Xn.su)(o),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(o){this._pageSizeOptions=(o||[]).map(h=>(0,Xn.su)(h)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(o){this._hidePageSize=(0,Xn.Ig)(o)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(o){this._showFirstLastButtons=(0,Xn.Ig)(o)}constructor(o,h,x){if(super(),this._intl=o,this._changeDetectorRef=h,this._pageSizeLabelId="mat-paginator-page-size-label-"+vb++,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=o.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),x){const{pageSize:L,pageSizeOptions:ee,hidePageSize:Se,showFirstLastButtons:et}=x;null!=L&&(this._pageSize=L),null!=ee&&(this._pageSizeOptions=ee),null!=Se&&(this._hidePageSize=Se),null!=et&&(this._showFirstLastButtons=et)}this._formFieldAppearance=x?.formFieldAppearance||"outline"}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const o=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(o)}previousPage(){if(!this.hasPreviousPage())return;const o=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(o)}firstPage(){if(!this.hasPreviousPage())return;const o=this.pageIndex;this.pageIndex=0,this._emitPageEvent(o)}lastPage(){if(!this.hasNextPage())return;const o=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(o)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const o=this.getNumberOfPages()-1;return this.pageIndex<o&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(o){const x=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/o)||0,this.pageSize=o,this._emitPageEvent(x)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((o,h)=>o-h),this._changeDetectorRef.markForCheck())}_emitPageEvent(o){this.page.emit({previousPageIndex:o,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(Ip),l.Y36(l.sBO),l.Y36(G_,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled",color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color"],["class","mat-mdc-paginator-page-size-value"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(h,x){1&h&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,r1,5,4,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,o1,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return x.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return x.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,gb,3,5,"button",11),l.qZA()()()),2&h&&(l.xp6(2),l.um2(2,x.hidePageSize?-1:2),l.xp6(3),l.hij(" ",x._intl.getRangeLabel(x.pageIndex,x.pageSize,x.length)," "),l.xp6(1),l.um2(6,x.showFirstLastButtons?6:-1),l.xp6(1),l.Q6J("matTooltip",x._intl.previousPageLabel)("matTooltipDisabled",x._previousButtonsDisabled())("matTooltipPosition","above")("disabled",x._previousButtonsDisabled()),l.uIk("aria-label",x._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",x._intl.nextPageLabel)("matTooltipDisabled",x._nextButtonsDisabled())("matTooltipPosition","above")("disabled",x._nextButtonsDisabled()),l.uIk("aria-label",x._intl.nextPageLabel),l.xp6(3),l.um2(13,x.showFirstLastButtons?13:-1))},dependencies:[rd.RK,qs.KE,Sp.gD,dr.ey,fb],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return u})(),l1=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({providers:[_b],imports:[rd.ot,Sp.LD,am]})}return u})();function c1(u,b){if(1&u&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&u){const o=b.$implicit;l.Q6J("title",o.properties["Secondary ID"]),l.xp6(1),l.hij(" ",o.properties["Primary ID"]," ")}}function d1(u,b){if(1&u){const o=l.EpF();l.TgZ(0,"div",9),l.NdJ("click",function(x){const ee=l.CHM(o).$implicit,Se=l.oxw(2);return l.KtG(Se.selectCluster(x,ee))}),l._uU(1),l.qZA()}if(2&u){const o=b.$implicit;l.xp6(1),l.hij(" ",null==o.properties?null:o.properties.point_count," ")}}function lm(u,b){if(1&u&&(l.TgZ(0,"mgl-popup",10),l._UZ(1,"showcase-cluster-popup",11),l.qZA()),2&u){l.oxw();const o=l.MAs(2),h=l.oxw();l.Q6J("feature",h.selectedCluster),l.xp6(1),l.Q6J("clusterComponent",o)("selectedCluster",h.selectedCluster)}}function xb(u,b){if(1&u&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2,3),l.TgZ(3,"mgl-markers-for-clusters",4),l.YNc(4,c1,2,2,"ng-template",5)(5,d1,2,1,"ng-template",6),l.qZA(),l.YNc(6,lm,2,3,"mgl-popup",7),l.BQk()),2&u){const o=l.oxw();l.xp6(1),l.Q6J("data",o.earthquakes)("cluster",!0)("clusterRadius",50)("clusterMaxZoom",14),l.xp6(5),l.Q6J("ngIf",o.selectedCluster)}}const wb=()=>[3],u1=u=>[u,40.66995747013945];function h1(u,b){if(1&u&&(l.TgZ(0,"mat-list-item"),l._uU(1),l.qZA()),2&u){const o=b.$implicit;l.xp6(1),l.hij(" ",o.properties["Primary ID"]," ")}}let Cb=(()=>{class u{ngOnInit(){var o=this;return(0,on.Z)(function*(){const h=yield U.e(45).then(U.t.bind(U,3045,19));setInterval(()=>{h.features.length&&h.features.pop(),o.earthquakes={...h}},500)})()}selectCluster(o,h){o.stopPropagation(),this.selectedCluster={geometry:h.geometry,properties:h.properties}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterRadius","clusterMaxZoom"],["clusterComponent",""],["source","earthquakes"],["mglPoint",""],["mglClusterPoint",""],[3,"feature",4,"ngIf"],[1,"marker",3,"title"],[1,"marker-cluster",3,"click"],[3,"feature"],[3,"clusterComponent","selectedCluster"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.YNc(1,xb,7,5,"ng-container",1),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,wb))("center",l.VKq(6,u1,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",x.earthquakes))},dependencies:()=>[oe.O5,xn,Co,vc,Hn,wr,Hr,sr,m1,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker-cluster{width:30px;height:30px;border-radius:50%;background-color:#4f615a;display:flex;justify-content:center;align-items:center;color:#fff;border:2px solid #56c498;cursor:pointer}.marker[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#7d7d7d;display:flex;justify-content:center;align-items:center;border:2px solid #c9c9c9}"]})}return u})(),m1=(()=>{class u{ngOnChanges(o){this.changePage(),o.selectedCluster&&!o.selectedCluster.isFirstChange()&&this.paginator.firstPage()}changePage(o){var h=this;return(0,on.Z)(function*(){let x=0;o&&(x=5*o.pageIndex),h.leaves=yield h.clusterComponent.getClusterLeaves(h.selectedCluster.properties.cluster_id,5,x)})()}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-cluster-popup"]],viewQuery:function(h,x){if(1&h&&l.Gf(bb,7),2&h){let L;l.iGM(L=l.CRH())&&(x.paginator=L.first)}},inputs:{selectedCluster:"selectedCluster",clusterComponent:"clusterComponent"},features:[l.TTD],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"length","pageSize","page"]],template:function(h,x){1&h&&(l.TgZ(0,"mat-list"),l.YNc(1,h1,2,1,"mat-list-item",0),l.qZA(),l.TgZ(2,"mat-paginator",1),l.NdJ("page",function(ee){return x.changePage(ee)}),l.qZA()),2&h&&(l.xp6(1),l.Q6J("ngForOf",x.leaves),l.xp6(1),l.Q6J("length",null==x.selectedCluster.properties?null:x.selectedCluster.properties.point_count)("pageSize",5))},dependencies:[oe.sg,h_,Bf,bb],encapsulation:2})}return u})();function p1(u,b){if(1&u){const o=l.EpF();l.ynx(0),l.TgZ(1,"mgl-control")(2,"button",3),l.NdJ("click",function(){l.CHM(o);const x=l.oxw();return l.KtG(x.alert("Hello"))}),l._uU(3," Hello "),l.qZA()(),l._UZ(4,"mgl-control",4)(5,"mgl-control",5),l.TgZ(6,"mgl-control",6),l.NdJ("geolocate",function(x){l.CHM(o);const L=l.oxw();return l.KtG(L.onGeolocate(x))}),l.qZA(),l._UZ(7,"mgl-control",7)(8,"mgl-control",8),l.BQk()}}let Eb=(()=>{class u{constructor(){this.visible=!0}alert(o){alert(o)}onGeolocate(o){console.log("geolocate",o)}toggleControls(){this.visible=!this.visible}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:5,vars:4,consts:[[4,"ngIf"],["position","bottom-right"],["mat-flat-button","","color","accent",3,"click"],["mat-fab","","color","primary",1,"custom-control",3,"click"],["mglAttribution","","position","top-right"],["mglFullscreen","","position","top-right"],["mglGeolocate","","position","top-right",3,"geolocate"],["mglNavigation","","position","top-right"],["mglScale","","position","top-right"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map"),l.YNc(1,p1,9,0,"ng-container",0),l.TgZ(2,"mgl-control",1)(3,"button",2),l.NdJ("click",function(){return x.toggleControls()}),l._uU(4),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngIf",x.visible),l.xp6(3),l.hij(" ",x.visible?"Hide Controls":"Show Controls"," "))},dependencies:[oe.O5,xn,Zn,el,B,bc,fe,W,rd.lW,rd.cs,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const f1=()=>[5],Ap=(u,b)=>[u,b];let g1=(()=>{class u{alert(o){alert(o)}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:7,vars:20,consts:[[3,"zoom","center"],[3,"lngLat"],[1,"marker",2,"background-image","url(https://placekitten.com/g/60/60/)","width","60px","height","60px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/50/50/)","width","50px","height","50px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/40/40/)","width","40px","height","40px",3,"click"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.NdJ("click",function(){return x.alert("Foo")}),l.qZA()(),l.TgZ(3,"mgl-marker",1)(4,"div",3),l.NdJ("click",function(){return x.alert("Bar")}),l.qZA()(),l.TgZ(5,"mgl-marker",1)(6,"div",4),l.NdJ("click",function(){return x.alert("Baz")}),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,f1))("center",l.WLB(8,Ap,-65.017,-16.457)),l.xp6(1),l.Q6J("lngLat",l.WLB(11,Ap,-66.324462890625,-16.024695711685304)),l.xp6(2),l.Q6J("lngLat",l.WLB(14,Ap,-61.2158203125,-15.97189158092897)),l.xp6(2),l.Q6J("lngLat",l.WLB(17,Ap,-63.29223632812499,-18.28151823530889)))},dependencies:[xn,ia,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]})}return u})();const Db=()=>[2],Qf=()=>[0,0],_1=u=>({type:"Point",coordinates:u});let y1=(()=>{class u{constructor(){this.layerPaint={"circle-radius":10,"circle-color":"#3887be"},this.coordinates=[0,0]}onDragStart(o){console.log("onDragStart",o)}onDragEnd(o){console.log("onDragEnd",o)}onDrag(o){console.log("onDrag",o),this.coordinates=o.lngLat.toArray()}changeColor(o){this.layerPaint={...this.layerPaint,"circle-color":o}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:11,vars:14,consts:[[3,"zoom","center"],["id","point"],[3,"properties","geometry","mglDraggable","featureDragStart","featureDragEnd","featureDrag"],["id","point","type","circle","source","point",3,"paint","layerMouseEnter","layerMouseLeave"],["targetLayer",""],["position","bottom-left"],["appearance","outlined"]],template:function(h,x){if(1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1)(2,"mgl-feature",2),l.NdJ("featureDragStart",function(ee){return x.onDragStart(ee)})("featureDragEnd",function(ee){return x.onDragEnd(ee)})("featureDrag",function(ee){return x.onDrag(ee)}),l.qZA()(),l.TgZ(3,"mgl-layer",3,4),l.NdJ("layerMouseEnter",function(){return x.changeColor("#3bb2d0")})("layerMouseLeave",function(){return x.changeColor("#3887be")}),l.qZA(),l.TgZ(5,"mgl-control",5)(6,"mat-card",6)(7,"div"),l._uU(8),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.qZA()()()()),2&h){const L=l.MAs(4);l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(9,Db))("center",l.DdM(10,Qf)),l.xp6(2),l.Q6J("geometry",l.VKq(12,_1,l.DdM(11,Qf)))("mglDraggable",L),l.xp6(1),l.Q6J("paint",x.layerPaint),l.xp6(5),l.hij("Longitude:\xa0",x.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",x.coordinates[1],"")}},dependencies:[xn,Mr,pl,Co,Or,Zn,bp,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const Z_=()=>[15],hs=u=>[u,37.830348],Sb=()=>({"line-join":"round","line-cap":"round"}),v1=()=>({"line-color":"#888","line-width":8});let Os=(()=>{class u{constructor(){this.geometry={type:"LineString",coordinates:[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]]}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],["id","oneline"],[3,"geometry"],["id","route","type","line","source","oneline",3,"layout","paint"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1),l._UZ(2,"mgl-feature",2),l.qZA(),l._UZ(3,"mgl-layer",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Z_))("center",l.VKq(8,hs,-122.486052)),l.xp6(2),l.Q6J("geometry",x.geometry),l.xp6(1),l.Q6J("layout",l.DdM(10,Sb))("paint",l.DdM(11,v1)))},dependencies:[xn,Mr,Co,Or,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})(),kp=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:2,consts:[["mglScale","","unit","imperial","position","top-right"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&h&&l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")},dependencies:[xn,Zn,W,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const cm=()=>[12],Jf=()=>[11.39085,47.27574];let Op=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:4,vars:7,consts:[[3,"zoom","center","pitch"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"],["mglNavigation","","showCompass","true","showZoom","true","visualizePitch","true"],["mglTerrain","","source","terrainSource","exaggeration","5","position","top-right"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1)(2,"mgl-control",2)(3,"mgl-control",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,cm))("center",l.DdM(6,Jf))("pitch",52))},dependencies:[xn,fa,Zn,B,xs,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function eg(u,b){if(1&u&&(l.TgZ(0,"mgl-popup",3),l._UZ(1,"span",4),l.qZA()),2&u){const o=l.oxw();l.Q6J("lngLat",o.selectedLngLat)("closeOnClick",!1),l.xp6(1),l.Q6J("innerHTML",null==o.selectedElement?null:o.selectedElement.name,l.oJD)}}const Mb=()=>[3],Tb=u=>[u,38.907],tg=()=>({type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"}),W_=()=>({"fill-color":"rgba(200, 100, 240, 0.4)","fill-outline-color":"rgba(200, 100, 240, 1)"});let Ab=(()=>{class u{onClick(o){this.selectedLngLat=o.lngLat,this.selectedElement=o.features[0].properties}onMapClick(){this.selectedElement=null}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:3,vars:13,consts:[[3,"zoom","center","cursorStyle","mapClick"],["id","states-layer","type","fill",3,"source","paint","layerMouseEnter","layerMouseLeave","layerClick"],[3,"lngLat","closeOnClick",4,"ngIf"],[3,"lngLat","closeOnClick"],[3,"innerHTML"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapClick",function(){return x.onMapClick()}),l.TgZ(1,"mgl-layer",1),l.NdJ("layerMouseEnter",function(){return x.cursorStyle="pointer"})("layerMouseLeave",function(){return x.cursorStyle=""})("layerClick",function(ee){return x.onClick(ee)}),l.qZA(),l.YNc(2,eg,2,3,"mgl-popup",2),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Mb))("center",l.VKq(9,Tb,-100.04))("cursorStyle",x.cursorStyle),l.xp6(1),l.Q6J("source",l.DdM(11,tg))("paint",l.DdM(12,W_)),l.xp6(1),l.Q6J("ngIf",x.selectedElement&&x.selectedLngLat))},dependencies:[oe.O5,xn,Mr,vc,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();function ig(u,b){if(1&u&&(l.TgZ(0,"mgl-popup",4),l._UZ(1,"span",5),l.qZA()),2&u){const o=l.oxw();l.Q6J("feature",o.selectedPoint),l.xp6(1),l.Q6J("innerHTML",null==o.selectedPoint.properties?null:o.selectedPoint.properties.description,l.oJD)}}const Ku=()=>[11.15],b1=u=>[u,38.907],fc=()=>["get","icon"],x1=u=>({"icon-image":u,"icon-allow-overlap":!0});let w1=(()=>{class u{constructor(){this.points={type:"FeatureCollection",features:[{type:"Feature",properties:{description:'<strong>Make it Mount Pleasant</strong><p><a href="http://www.mtpleasantdc.com/makeitmtpleasant" target="_blank" title="Opens in a new window">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.038659,38.931567]}},{type:"Feature",properties:{description:'<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a <a href="http://madmens5finale.eventbrite.com/" target="_blank" title="Opens in a new window">Mad Men Season Five Finale Watch Party</a>, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.003168,38.894651]}},{type:"Feature",properties:{description:'<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a <a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Opens in a new window">Big Backyard Beach Bash and Wine Fest</a> on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>',icon:"bar_15"},geometry:{type:"Point",coordinates:[-77.090372,38.881189]}},{type:"Feature",properties:{description:'<strong>Ballston Arts & Crafts Market</strong><p>The <a href="http://ballstonarts-craftsmarket.blogspot.com/" target="_blank" title="Opens in a new window">Ballston Arts & Crafts Market</a> sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>',icon:"art_gallery_15"},geometry:{type:"Point",coordinates:[-77.111561,38.882342]}},{type:"Feature",properties:{description:'<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year\'s <a href="http://dandiesandquaintrelles.com/2012/04/the-seersucker-social-is-set-for-june-9th-save-the-date-and-start-planning-your-look/" target="_blank" title="Opens in a new window">Seersucker Social</a> bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>',icon:"bicycle_15"},geometry:{type:"Point",coordinates:[-77.052477,38.943951]}},{type:"Feature",properties:{description:'<strong>Capital Pride Parade</strong><p>The annual <a href="http://www.capitalpride.org/parade" target="_blank" title="Opens in a new window">Capital Pride Parade</a> makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>',icon:"star_15"},geometry:{type:"Point",coordinates:[-77.043444,38.909664]}},{type:"Feature",properties:{description:'<strong>Muhsinah</strong><p>Jazz-influenced hip hop artist <a href="http://www.muhsinah.com" target="_blank" title="Opens in a new window">Muhsinah</a> plays the <a href="http://www.blackcatdc.com">Black Cat</a> (1811 14th Street NW) tonight with <a href="http://www.exitclov.com" target="_blank" title="Opens in a new window">Exit Clov</a> and <a href="http://godsilla.bandcamp.com" target="_blank" title="Opens in a new window">Gods\u2019illa</a>. 9:00 p.m. $12.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.031706,38.914581]}},{type:"Feature",properties:{description:'<strong>A Little Night Music</strong><p>The Arlington Players\' production of Stephen Sondheim\'s  <a href="http://www.thearlingtonplayers.org/drupal-6.20/node/4661/show" target="_blank" title="Opens in a new window"><em>A Little Night Music</em></a> comes to the Kogod Cradle at The Mead Center for American Theater (1101 6th Street SW) this weekend and next. 8:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.020945,38.878241]}},{type:"Feature",properties:{description:'<strong>Truckeroo</strong><p><a href="http://www.truckeroodc.com/www/" target="_blank">Truckeroo</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.007481,38.876516]}}]}}onClick(o){this.selectedPoint=o.features[0]}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:4,vars:14,consts:[[3,"zoom","center","cursorStyle"],["id","points",3,"data"],["id","points","source","points","type","symbol",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"feature",4,"ngIf"],[3,"feature"],[3,"innerHTML"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerClick",function(ee){return x.onClick(ee)})("layerMouseEnter",function(){return x.cursorStyle="pointer"})("layerMouseLeave",function(){return x.cursorStyle=""}),l.qZA(),l.YNc(3,ig,2,2,"mgl-popup",3),l.qZA()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Ku))("center",l.VKq(9,b1,-77.04))("cursorStyle",x.cursorStyle),l.xp6(1),l.Q6J("data",x.points),l.xp6(1),l.Q6J("layout",l.VKq(12,x1,l.DdM(11,fc))),l.xp6(1),l.Q6J("ngIf",x.selectedPoint))},dependencies:[oe.O5,xn,Mr,Co,vc,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const q_=()=>[3],Y_=u=>[u,37.8];let kb=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],[3,"lngLat","closeOnClick","className"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-popup",1)(2,"h1"),l._uU(3,"Hello world !"),l.qZA()()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,q_))("center",l.VKq(8,Y_,-96)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,Y_,-96))("closeOnClick",!1)("className","custom-popup-class1 custom-popup-class2"))},dependencies:[xn,vc,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".custom-popup-class1{color:purple;text-align:center}  .custom-popup-class2{width:300px}"]})}return u})();const TE=()=>({tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}),E1=u=>({satellite:u}),ng=()=>({visibility:"visible"}),K_=()=>({"raster-opacity":1}),X_=(u,b)=>({id:"satellite",layout:u,minzoom:0,paint:b,"raster-opacity":1,source:"satellite",type:"raster"}),dm=u=>[u],Ob=(u,b)=>({version:8,sources:u,layers:b}),Pb=()=>[9],um=()=>[137.9150899566626,36.25956997955441];let Q_=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:1,vars:19,consts:[[3,"zoom","center"]],template:function(h,x){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn(l.WLB(14,Ob,l.VKq(5,E1,l.DdM(4,TE)),l.VKq(12,dm,l.WLB(9,X_,l.DdM(7,ng),l.DdM(8,K_))))),l.Q6J("zoom",l.DdM(17,Pb))("center",l.DdM(18,um)))},dependencies:[xn,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const J_=()=>[15],ey=u=>[u,38.8895],Fb=()=>({"background-image":"url(https://maplibre.org/maplibre-gl-js/docs/assets/washington-monument.jpg)","background-size":"cover",width:"50px",height:"50px","border-radius":"50%",cursor:"pointer"});let D1=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:6,vars:13,consts:[[3,"zoom","center"],[3,"lngLat"],["myMarker",""],[3,"ngStyle"],[3,"marker"]],template:function(h,x){if(1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1,2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"mgl-popup",4),l._uU(5," Construction on the Washington Monument began in 1848. "),l.qZA()()),2&h){const L=l.MAs(2);l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,J_))("center",l.VKq(8,ey,-77.0353)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,ey,-77.0353)),l.xp6(2),l.Q6J("ngStyle",l.DdM(12,Fb)),l.xp6(1),l.Q6J("marker",L)}},dependencies:[oe.PC,xn,ia,vc,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const S1=["input"],hm=["*"];let ty=0;class Lb{constructor(b,o){this.source=b,this.value=o}}const M1={provide:xa.JU,useExisting:(0,l.Gpc)(()=>Vb),multi:!0},Nb=new l.OlP("MatRadioGroup"),zb=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function Bb(){return{color:"accent"}}});let Vb=(()=>{class u{get name(){return this._name}set name(o){this._name=o,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(o){this._labelPosition="before"===o?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(o){this._value!==o&&(this._value=o,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(o){this._selected=o,this.value=o?o.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(o){this._disabled=(0,Xn.Ig)(o),this._markRadiosForCheck()}get required(){return this._required}set required(o){this._required=(0,Xn.Ig)(o),this._markRadiosForCheck()}constructor(o){this._changeDetector=o,this._value=null,this._name="mat-radio-group-"+ty++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(o=>o===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(o=>{o.name=this.name,o._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(h=>{h.checked=this.value===h.value,h.checked&&(this._selected=h)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Lb(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(o=>o._markForCheck())}writeValue(o){this.value=o,this._changeDetector.markForCheck()}registerOnChange(o){this._controlValueAccessorChangeFn=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.sBO))};static#t=this.\u0275dir=l.lG2({type:u,selectors:[["mat-radio-group"]],contentQueries:function(h,x,L){if(1&h&&l.Suo(L,iy,5),2&h){let ee;l.iGM(ee=l.CRH())&&(x._radios=ee)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[l._Bn([M1,{provide:Nb,useExisting:u}])]})}return u})();class IE{constructor(b){this._elementRef=b}}const T1=(0,dr.Kr)((0,dr.sb)(IE));let iy=(()=>{class u extends T1{get checked(){return this._checked}set checked(o){const h=(0,Xn.Ig)(o);this._checked!==h&&(this._checked=h,h&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!h&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),h&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(o){this._value!==o&&(this._value=o,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===o),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(o){this._labelPosition=o}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(o){this._setDisabled((0,Xn.Ig)(o))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(o){this._required=(0,Xn.Ig)(o)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(o){this._color=o}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(o,h,x,L,ee,Se,et,bt){super(h),this._changeDetector=x,this._focusMonitor=L,this._radioDispatcher=ee,this._providerOverride=et,this._uniqueId="mat-radio-"+ ++ty,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=o,this._noopAnimations="NoopAnimations"===Se,bt&&(this.tabIndex=(0,Xn.su)(bt,0))}focus(o,h){h?this._focusMonitor.focusVia(this._inputElement,h,o):this._inputElement.nativeElement.focus(o)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((o,h)=>{o!==this.id&&h===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(o=>{!o&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Lb(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(o){o.stopPropagation()}_onInputInteraction(o){if(o.stopPropagation(),!this.checked&&!this.disabled){const h=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),h&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(o){this._onInputInteraction(o),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(o){this._disabled!==o&&(this._disabled=o,this._changeDetector.markForCheck())}_updateTabIndex(){const o=this.radioGroup;let h;if(h=o&&o.selected&&!this.disabled?o.selected===this?this.tabIndex:-1:this.tabIndex,h!==this._previousTabIndex){const x=this._inputElement?.nativeElement;x&&(x.setAttribute("tabindex",h+""),this._previousTabIndex=h)}}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(Nb,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(uc.tE),l.Y36(Rf.A8),l.Y36(l.QbO,8),l.Y36(zb,8),l.$8M("tabindex"))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-radio-button"]],viewQuery:function(h,x){if(1&h&&l.Gf(S1,5),2&h){let L;l.iGM(L=l.CRH())&&(x._inputElement=L.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(h,x){1&h&&l.NdJ("focus",function(){return x._inputElement.nativeElement.focus()}),2&h&&(l.uIk("id",x.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-primary","primary"===x.color)("mat-accent","accent"===x.color)("mat-warn","warn"===x.color)("mat-mdc-radio-checked",x.checked)("_mat-animation-noopable",x._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:hm,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(h,x){if(1&h&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),l.NdJ("click",function(ee){return x._onTouchTargetClick(ee)}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("change",function(ee){return x._onInputInteraction(ee)}),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"div",7)(8,"div",8),l.qZA(),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA()(),l.TgZ(11,"label",11),l.Hsn(12),l.qZA()()),2&h){const L=l.MAs(1);l.ekj("mdc-form-field--align-end","before"==x.labelPosition),l.xp6(2),l.ekj("mdc-radio--disabled",x.disabled),l.xp6(2),l.Q6J("id",x.inputId)("checked",x.checked)("disabled",x.disabled)("required",x.required),l.uIk("name",x.name)("value",x.value)("aria-label",x.ariaLabel)("aria-labelledby",x.ariaLabelledby)("aria-describedby",x.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",L)("matRippleDisabled",x._isRippleDisabled())("matRippleCentered",!0),l.xp6(2),l.Q6J("for",x.inputId)}},dependencies:[dr.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return u})(),ny=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,oe.ez,dr.si,dr.BQ]})}return u})();const I1=()=>[13],A1=()=>[4.899,52.372];let k1=(()=>{class u{constructor(){this.layerId="streets"}ngOnInit(){this.changeStyle(this.layerId)}changeStyle(o){this.style="streets"===o?"https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL":{version:8,sources:{raster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],minzoom:0,maxzoom:15,scheme:"xyz",tileSize:256}},layers:[{id:"some-raster-layer-id",type:"raster",source:"raster",layout:{visibility:"visible"},paint:{"raster-opacity":1}}]}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:6,vars:7,consts:[[3,"zoom","center"],[1,"radio-group",3,"ngModel","ngModelChange"],["value","streets"],["value","code"]],template:function(h,x){1&h&&(l._UZ(0,"mgl-map",0),l.TgZ(1,"mat-radio-group",1),l.NdJ("ngModelChange",function(ee){return x.changeStyle(ee)}),l.TgZ(2,"mat-radio-button",2),l._uU(3,"streets"),l.qZA(),l.TgZ(4,"mat-radio-button",3),l._uU(5,"from code"),l.qZA()()),2&h&&(l.Akn(x.style),l.Q6J("zoom",l.DdM(5,I1))("center",l.DdM(6,A1)),l.xp6(1),l.Q6J("ngModel",x.layerId))},dependencies:[xa.JJ,xa.On,xn,Vb,iy,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".radio-group[_ngcontent-%COMP%]{position:absolute;padding:8px;background:#fff}"]})}return u})();const P1=()=>({tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}),F1=()=>({type:"raster-dem",url:"https://demotiles.maplibre.org/terrain-tiles/tiles.json",tileSize:256}),L1=(u,b)=>({satelliteSource:u,terrainSource:b}),N1=()=>({id:"satellite",type:"raster",source:"satelliteSource"}),z1=u=>[u],B1=()=>({source:"terrainSource",exaggeration:1}),V1=(u,b,o)=>({version:8,sources:u,layers:b,terrain:o}),U1=()=>[12],j1=()=>[11.39085,47.27574];let H1=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:1,vars:20,consts:[[3,"zoom","center","pitch"]],template:function(h,x){1&h&&l._UZ(0,"mgl-map",0),2&h&&(l.Akn(l.kEZ(14,V1,l.WLB(7,L1,l.DdM(5,P1),l.DdM(6,F1)),l.VKq(11,z1,l.DdM(10,N1)),l.DdM(13,B1))),l.Q6J("zoom",l.DdM(18,U1))("center",l.DdM(19,j1))("pitch",52))},dependencies:[xn,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const $1=()=>[12],Ub=()=>[11.39085,47.27574];let jb=(()=>{class u{constructor(){this.mapLibreExampleSource="https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",this.terrainSpec={source:"terrainSource",exaggeration:1}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center","pitch","terrain"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1),l.qZA()),2&h&&(l.Akn(x.mapLibreExampleSource),l.Q6J("zoom",l.DdM(6,$1))("center",l.DdM(7,Ub))("pitch",52)("terrain",x.terrainSpec))},dependencies:[xn,fa,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})();const lu=["button"],Hb=["*"],$b=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),ry=new l.OlP("MatButtonToggleGroup");let mm=0;class rg{constructor(b,o){this.source=b,this.value=o}}let oy=(()=>{class u{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(o){this._appearance=o}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(o){o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(o){this._disabled=o}constructor(o,h,x,L,ee,Se){this._changeDetectorRef=h,this._elementRef=x,this._focusMonitor=L,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const et=Number(ee);this.tabIndex=et||0===et?et:null,this.buttonToggleGroup=o,this.appearance=Se&&Se.appearance?Se.appearance:"standard"}ngOnInit(){const o=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+mm++,o&&(o._isPrechecked(this)?this.checked=!0:o._isSelected(this)!==this._checked&&o._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const o=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),o&&o._isSelected(this)&&o._syncButtonToggle(this,!1,!1,!0)}focus(o){this._buttonElement.nativeElement.focus(o)}_onButtonClick(){const o=!!this._isSingleSelector()||!this._checked;o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new rg(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(ry,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(uc.tE),l.$8M("tabindex"),l.Y36($b,8))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-button-toggle"]],viewQuery:function(h,x){if(1&h&&l.Gf(lu,5),2&h){let L;l.iGM(L=l.CRH())&&(x._buttonElement=L.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(h,x){1&h&&l.NdJ("focus",function(){return x.focus()}),2&h&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",x.id)("name",null),l.ekj("mat-button-toggle-standalone",!x.buttonToggleGroup)("mat-button-toggle-checked",x.checked)("mat-button-toggle-disabled",x.disabled)("mat-button-toggle-appearance-standard","standard"===x.appearance))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:["disableRipple","disableRipple",l.VuI],appearance:"appearance",checked:["checked","checked",l.VuI],disabled:["disabled","disabled",l.VuI]},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.Xq5],ngContentSelectors:Hb,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(h,x){if(1&h&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return x._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&h){const L=l.MAs(1);l.Q6J("id",x.buttonId)("disabled",x.disabled||null),l.uIk("tabindex",x.disabled?-1:x.tabIndex)("aria-pressed",x.checked)("name",x._getButtonName())("aria-label",x.ariaLabel)("aria-labelledby",x.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",L)("matRippleDisabled",x.disableRipple||x.disabled)}},dependencies:[dr.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return u})(),fm=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[dr.BQ,dr.si,dr.BQ]})}return u})();const G1=()=>[3],og=(u,b)=>[u,b],sy=()=>["https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf"],Zb=()=>({"line-color":"blue"});let Z1=(()=>{class u{constructor(){this.layouts={countries:{visibility:"none"},names:{visibility:"none","text-field":"{name:latin}","text-size":30}}}ngOnInit(){}toggleLayer(o){this.layouts[o.value]={...this.layouts[o.value],visibility:"visible"===this.layouts[o.value].visibility?"none":"visible"}}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:10,vars:16,consts:[[3,"zoom","center"],["id","countries",3,"tiles"],["id","everything","url","https://api.maptiler.com/tiles/v3/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"],["id","countries-layer","type","line","source","countries","sourceLayer","countries",3,"layout","paint"],["id","names","type","symbol","source","everything","sourceLayer","place",3,"layout"],[1,"menu"],["value","names",3,"checked","change"],["value","countries",3,"checked","change"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-vector-source",1)(2,"mgl-vector-source",2)(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA(),l.TgZ(5,"div",5)(6,"mat-button-toggle",6),l.NdJ("change",function(ee){return x.toggleLayer(ee)}),l._uU(7,"countries names"),l.qZA(),l.TgZ(8,"mat-button-toggle",7),l.NdJ("change",function(ee){return x.toggleLayer(ee)}),l._uU(9,"countries border"),l.qZA()()),2&h&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(10,G1))("center",l.WLB(11,og,-71.97722138410576,-13.517379300798098)),l.xp6(1),l.Q6J("tiles",l.DdM(14,sy)),l.xp6(2),l.Q6J("layout",x.layouts.countries)("paint",l.DdM(15,Zb)),l.xp6(1),l.Q6J("layout",x.layouts.names),l.xp6(2),l.Q6J("checked",!0),l.xp6(2),l.Q6J("checked",!0))},dependencies:[xn,Mr,Oa,oy,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".menu[_ngcontent-%COMP%]{position:absolute;padding:8px}"]})}return u})();const W1=()=>[12],q1=u=>[u,38.897],ag=()=>({padding:20}),lg=()=>({"line-color":"#BF93E4","line-width":5}),ay=()=>({"line-join":"round","line-cap":"round"});let Wb=(()=>{class u{constructor(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",properties:{},coordinates:[[-77.0366048812866,38.89873175227713],[-77.03364372253417,38.89876515143842],[-77.03364372253417,38.89549195896866],[-77.02982425689697,38.89549195896866],[-77.02400922775269,38.89387200688839],[-77.01519012451172,38.891416957534204],[-77.01521158218382,38.892068305429156],[-77.00813055038452,38.892051604275686],[-77.00832366943358,38.89143365883688],[-77.00818419456482,38.89082405874451],[-77.00815200805664,38.88989712255097]]}}]}}}zoomToBounds(){const o=this.source.data.features[0].geometry.coordinates;this.bounds=o.reduce((h,x)=>h.extend(x),new ko.LngLatBounds(o[0],o[0]))}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["showcase-demo"]],decls:5,vars:15,consts:[[3,"zoom","center","fitBounds","fitBoundsOptions"],["mat-raised-button","",1,"zoom-button",3,"click"],["id","LineString","type","line",3,"source","paint","layout"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0)(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return x.zoomToBounds()}),l._uU(3," Zoom to bounds "),l.qZA()(),l._UZ(4,"mgl-layer",2),l.qZA()),2&h&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(9,W1))("center",l.VKq(10,q1,-77.0214))("fitBounds",x.bounds)("fitBoundsOptions",l.DdM(12,ag)),l.xp6(4),l.Q6J("source",x.source)("paint",l.DdM(13,lg))("layout",l.DdM(14,ay)))},dependencies:[xn,Mr,Zn,rd.lW,sr,qn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]})}return u})(),qb=(()=>{class u{constructor(o){this.router=o}canActivate(o){return!!gy[0].children.some(h=>h.path===o.params.demoUrl)||(this.router.navigate(["/demo"]),!1)}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(me.F0))};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const cy="https://stackblitz.com",cu=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],K1=["project","search","ports","settings"],X1=["light","dark"],gm=["editor","preview"],Q1={clickToLoad:u=>Pp("ctl",u),devToolsHeight:u=>dy("devtoolsheight",u),forceEmbedLayout:u=>Pp("embed",u),hideDevTools:u=>Pp("hidedevtools",u),hideExplorer:u=>Pp("hideExplorer",u),hideNavigation:u=>Pp("hideNavigation",u),openFile:u=>Xu("file",u),showSidebar:u=>function Kb(u,b){return"boolean"==typeof b?`${u}=${b?"1":"0"}`:""}("showSidebar",u),sidebarView:u=>Xb("sidebarView",u,K1),startScript:u=>Xu("startScript",u),terminalHeight:u=>dy("terminalHeight",u),theme:u=>Xb("theme",u,X1),view:u=>Xb("view",u,gm),zenMode:u=>Pp("zenMode",u)};function cg(u={}){const b=Object.entries(u).map(([o,h])=>null!=h&&Q1.hasOwnProperty(o)?Q1[o](h):"").filter(Boolean);return b.length?`?${b.join("&")}`:""}function Pp(u,b){return!0===b?`${u}=1`:""}function dy(u,b){if("number"==typeof b&&!Number.isNaN(b)){const o=Math.min(100,Math.max(0,b));return`${u}=${encodeURIComponent(Math.round(o))}`}return""}function Xb(u,b="",o=[]){return o.includes(b)?`${u}=${encodeURIComponent(b)}`:""}function Xu(u,b){return(Array.isArray(b)?b:[b]).filter(h=>"string"==typeof h&&""!==h.trim()).map(h=>`${u}=${encodeURIComponent(h)}`).join("&")}function Qb(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function hy(u,b){const o={forceEmbedLayout:!0};return b&&"object"==typeof b&&Object.assign(o,b),`${Qu(o)}${u}${cg(o)}`}function Qu(u={}){return("string"==typeof u.origin?u.origin:cy).replace(/\/$/,"")}function my(u,b,o){if(!b||!u||!u.parentNode)throw new Error("Invalid Element");u.id&&(b.id=u.id),u.className&&(b.className=u.className),function Sl(u,b={}){const o=Object.hasOwnProperty.call(b,"height")?`${b.height}`:"300",h=Object.hasOwnProperty.call(b,"width")?`${b.width}`:void 0;u.setAttribute("height",o),h?u.setAttribute("width",h):u.setAttribute("style","width:100%;")}(b,o),u.replaceWith(b)}function _m(u){if("string"==typeof u){const b=document.getElementById(u);if(!b)throw new Error(`Could not find element with id '${u}'`);return b}if(u instanceof HTMLElement)return u;throw new Error(`Invalid element: ${u}`)}class Jb{constructor(b){this.pending={},this.port=b,this.port.onmessage=this.messageListener.bind(this)}request({type:b,payload:o}){return new Promise((h,x)=>{const L=Qb();this.pending[L]={resolve:h,reject:x},this.port.postMessage({type:b,payload:{...o,__reqid:L}})})}messageListener(b){if("string"!=typeof b.data.payload?.__reqid)return;const{type:o,payload:h}=b.data,{__reqid:x,__success:L,__error:ee}=h;this.pending[x]&&(L?this.pending[x].resolve(this.cleanResult(h)):this.pending[x].reject(ee?`${o}: ${ee}`:o),delete this.pending[x])}cleanResult(b){const o={...b};return delete o.__reqid,delete o.__success,delete o.__error,Object.keys(o).length?o:null}}class e0{constructor(b,o){this.editor={openFile:h=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:h}}),setCurrentFile:h=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:h}}),setTheme:h=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:h}}),setView:h=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:h}}),showSidebar:(h=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:h}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(h=>h?.url??null),setUrl:(h="/")=>{if("string"!=typeof h||!h.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${h}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:h}})}},this._rdc=new Jb(b),Object.defineProperty(this.preview,"origin",{value:"string"==typeof o.previewOrigin?o.previewOrigin:null,writable:!1})}applyFsDiff(b){const o=h=>null!==h&&"object"==typeof h;if(!o(b)||!o(b.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(b.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:b})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const dg=[];class t0{constructor(b){this.id=Qb(),this.element=b,this.pending=new Promise((o,h)=>{const x=({data:bt,ports:qt})=>{"SDK_INIT_SUCCESS"===bt?.action&&bt.id===this.id&&(this.vm=new e0(qt[0],bt.payload),o(this.vm),ee())},L=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function ee(){window.clearInterval(et),window.removeEventListener("message",x)}window.addEventListener("message",x),L();let Se=0;const et=window.setInterval(()=>{if(!this.vm)return Se>=20?(ee(),h("Timeout: Unable to establish a connection with the StackBlitz VM"),void dg.forEach((bt,qt)=>{bt.id===this.id&&dg.splice(qt,1)})):(Se++,void L());ee()},500)}),dg.push(this)}}function s0({template:u,title:b,description:o,dependencies:h,files:x,settings:L}){if(!cu.includes(u)){const bt=cu.map(qt=>`'${qt}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${bt}`)}const ee=[],Se=(bt,qt,ni="")=>{ee.push(function r0(u,b){const o=document.createElement("input");return o.type="hidden",o.name=u,o.value=b,o}(bt,"string"==typeof qt?qt:ni))};Se("project[title]",b),"string"==typeof o&&o.length>0&&Se("project[description]",o),Se("project[template]",u,"javascript"),h&&("node"===u?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):Se("project[dependencies]",JSON.stringify(h))),L&&Se("project[settings]",JSON.stringify(L)),Object.entries(x).forEach(([bt,qt])=>{Se(`project[files][${function o0(u){return u.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(bt)}]`,qt)});const et=document.createElement("form");return et.method="POST",et.setAttribute("style","display:none!important;"),et.append(...ee),et}function du(u){return u?.contentWindow?((u=>{const b=u instanceof Element?"element":"id";return dg.find(o=>o[b]===u)??null})(u)??new t0(u)).pending:Promise.reject("Provided element is not an iframe.")}const c0_embedProject=function ug(u,b,o){const h=_m(u),x=function J1(u,b){const o=s0(u);return o.action=hy("/run",b),o.id="sb_run",`<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${o.outerHTML}\n  <script>document.getElementById('${o.id}').submit();<\/script>\n</body>\n</html>`}(b,o),L=document.createElement("iframe");return my(h,L,o),L.contentDocument?.write(x),du(L)};var py=U(9315),vm=U(2096),Rp=U(7715),fy=U(940),rC=U(4716);function oC(u){return u.replace(/(^\w|-\w)/g,d0)}function d0(u){return u.replace(/-/,"").toUpperCase()}var hg=U(9862);const h0="app/demo/examples/";let m0=(()=>{class u{constructor(o){this.http=o,this.fileCache=new Map,this.loadFile("example.css")}getDemoFiles(o){let h=this.fileCache.get(o);return h||(h=this.http.get(`${h0}${o}.component.ts`,{responseType:"text"}).pipe((0,Qr.w)(x=>this.loadAdditionnalFilesIfNecessary(x)),(0,fy.d)(1)),this.fileCache.set(o,h),h)}loadAdditionnalFilesIfNecessary(o){const h=/'\.\/([\w-.]+\.\w+)'/g;let x;const L=[],ee={"src/demo.ts":o};for(;x=h.exec(o);)L.push(this.loadFile(x[1]));return L.length?(0,py.D)(L).pipe((0,jr.U)(Se=>({...Object.assign({},...Se),...ee}))):(0,vm.of)(ee)}loadFile(o){let h=this.fileCache.get(o);return h||(h=this.http.get(`${h0}${o}`,{responseType:"text"}).pipe((0,jr.U)(x=>({[`src/${o}`]:x})),(0,fy.d)(1)),this.fileCache.set(o,h),h)}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(hg.eN))};static#t=this.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const sC=["determinateSpinner"];function aC(u,b){if(1&u&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&u){const o=l.oxw();l.uIk("viewBox",o._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeCircumference()/2,"px")("stroke-width",o._circleStrokeWidth(),"%"),l.uIk("r",o._circleRadius())}}const AE=(0,dr.pj)(class{constructor(u){this._elementRef=u}},"primary"),kE=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function OE(){return{diameter:lC}}}),lC=100;let mg=(()=>{class u extends AE{constructor(o,h,x){super(o),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=lC,this._noopAnimations="NoopAnimations"===h&&!!x&&!x._forceAnimations,x&&(x.color&&(this.color=this.defaultColor=x.color),x.diameter&&(this.diameter=x.diameter),x.strokeWidth&&(this.strokeWidth=x.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(o){this._value=Math.max(0,Math.min(100,(0,Xn.su)(o)))}get diameter(){return this._diameter}set diameter(o){this._diameter=(0,Xn.su)(o)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(o){this._strokeWidth=(0,Xn.su)(o)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const o=2*this._circleRadius()+this.strokeWidth;return`0 0 ${o} ${o}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(kE))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(h,x){if(1&h&&l.Gf(sC,5),2&h){let L;l.iGM(L=l.CRH())&&(x._determinateCircle=L.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(h,x){2&h&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===x.mode?x.value:null)("mode",x.mode),l.Udp("width",x.diameter,"px")("height",x.diameter,"px")("--mdc-circular-progress-size",x.diameter+"px")("--mdc-circular-progress-active-indicator-width",x.diameter+"px"),l.ekj("_mat-animation-noopable",x._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===x.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(h,x){if(1&h&&(l.YNc(0,aC,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&h){const L=l.MAs(1);l.xp6(4),l.uIk("viewBox",x._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",x._strokeCircumference(),"px")("stroke-dashoffset",x._strokeDashOffset(),"px")("stroke-width",x._circleStrokeWidth(),"%"),l.uIk("r",x._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",L),l.xp6(2),l.Q6J("ngTemplateOutlet",L),l.xp6(2),l.Q6J("ngTemplateOutlet",L)}},dependencies:[oe.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return u})(),cC=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[oe.ez,dr.BQ]})}return u})();const f0=["container"];function Fp(u,b){1&u&&(l.TgZ(0,"div",2),l._UZ(1,"mat-spinner")(2,"div"),l.qZA())}let dC=(()=>{class u{constructor(o,h,x,L,ee){this.zone=o,this.activatedRoute=h,this.demoFileLoaderService=x,this.http=L,this.ChangeDetectorRef=ee,this.loading=!0,this.projectbase$=(0,py.D)([this.http.get("assets/stackblitz/main.notts",{responseType:"text"}),this.http.get("assets/stackblitz/angular.json",{responseType:"text"})]).pipe((0,fy.d)(1))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngAfterViewInit(){this.sub=this.activatedRoute.params.pipe((0,Sn.b)(()=>{this.loading=!0,this.ChangeDetectorRef.markForCheck()}),(0,Qr.w)(o=>(0,py.D)([this.projectbase$,this.demoFileLoaderService.getDemoFiles(o.demoUrl),(0,vm.of)(o.demoUrl)])),(0,Qr.w)(([o,h,x])=>(0,Rp.D)(this.openExample(o,h,x)).pipe((0,rC.x)(()=>{this.loading=!1,this.ChangeDetectorRef.markForCheck()})))).subscribe()}openExample(o,h,x){var L=this;return(0,on.Z)(function*(){if(L.vm)return void(yield L.vm.applyFsDiff({create:h,destroy:[]}));const ee=function u0(u,b,o){return{files:{"src/main.ts":u[0].replace(/###/g,oC(o)+"Component"),"angular.json":u[1],"src/index.html":"<showcase-demo></showcase-demo>","src/styles.css":"\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n","src/polyfills.ts":"\nimport 'zone.js';\n(window as any).global = window;\n",...b},title:"",description:"",template:"angular-cli",dependencies:{tslib:"*","maplibre-gl":"*","@maplibre/maplibre-gl-style-spec":"*","@maplibre/ngx-maplibre-gl":"*","@angular/cdk":"^16","@angular/material":"^16","@angular/animations":"^16","@angular/forms":"^16","@angular/common":"^16","@angular/compiler":"^16","@angular/core":"^16","@angular/platform-browser":"^16","@angular/platform-browser-dynamic":"^16","@angular/router":"^16",url:"*",querystring:"*",events:"*","@types/supercluster":"*","@types/geojson":"*"}}}(o,h,x);yield L.zone.runOutsideAngular((0,on.Z)(function*(){L.vm=yield c0_embedProject(L.stackblitzContainer.nativeElement,ee,{hideExplorer:!0,hideNavigation:!0,forceEmbedLayout:!0,openFile:"src/demo.ts"})}))})()}static#e=this.\u0275fac=function(h){return new(h||u)(l.Y36(l.R0b),l.Y36(me.gz),l.Y36(m0),l.Y36(hg.eN),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["ng-component"]],viewQuery:function(h,x){if(1&h&&l.Gf(f0,5),2&h){let L;l.iGM(L=l.CRH())&&(x.stackblitzContainer=L.first)}},decls:3,vars:1,consts:[["container",""],["class","loader",4,"ngIf"],[1,"loader"]],template:function(h,x){1&h&&(l._UZ(0,"div",null,0),l.YNc(2,Fp,3,0,"div",1)),2&h&&(l.xp6(2),l.Q6J("ngIf",x.loading))},dependencies:[oe.O5,mg],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}[_nghost-%COMP%]     iframe{height:100%;width:100%;border:0}.loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0})}return u})();var Ln=function(u){return u.STYLES="Styles",u.LAYERS="Layers",u.SOURCES="Sources",u.USER_INTERACTION="User interaction",u.CAMERA="Camera",u.CONTROLS_AND_OVERLAYS="Controls and overlays",u.TERRAIN="3D Terrain",u}(Ln||{});const gy=[{path:"",component:uE,children:[{path:"edit/:demoUrl",component:dC,canActivate:[qb]},{path:"display-map",component:Gv,data:{label:"Display a map",cat:Ln.STYLES}},{path:"custom-style-id",component:jv,data:{label:"Display a map with a custom style",cat:Ln.STYLES}},{path:"set-style",component:k1,data:{label:"Change a map's style",cat:Ln.STYLES}},{path:"satellite-map",component:Q_,data:{label:"Display a satellite map",cat:Ln.STYLES}},{path:"add-image-generated",component:As,data:{label:"Add a generated icon to the map",cat:Ln.LAYERS}},{path:"add-image",component:Sv,data:{label:"Add an icon to the map",cat:Ln.LAYERS}},{path:"toggle-layers",component:Z1,data:{label:"Show and hide layers",cat:Ln.LAYERS}},{path:"3d-buildings",component:Vx,data:{label:"Display 3d buildings",cat:Ln.LAYERS}},{path:"cluster",component:pc,data:{label:"Create and style clusters",cat:Ln.LAYERS}},{path:"heatmap",component:Fw,data:{label:"Create a heatmap layer",cat:Ln.LAYERS}},{path:"geojson-line",component:Tw,data:{label:"Add a GeoJSON line",cat:Ln.LAYERS}},{path:"ngx-geojson-line",component:Os,data:{label:"[NGX] Add a GeoJSON line",cat:Ln.LAYERS}},{path:"custom-marker-icons",component:Bv,data:{label:"Add custom icons with Markers",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-marker-icons",component:g1,data:{label:"[NGX] Add custom icons with Markers",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"live-update-feature",component:Yf,data:{label:"Update a feature in realtime",cat:Ln.SOURCES}},{path:"live-update-image-source",component:lb,data:{label:"Update an image source in realtime",cat:Ln.SOURCES}},{path:"popup",component:kb,data:{label:"Display a popup",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"set-popup",component:D1,data:{label:"Attach a popup to a marker instance",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"fullscreen",component:Xv,data:{label:"View a fullscreen map",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"navigation",component:Kf,data:{label:"Display map navigation controls",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"locate-user",component:cb,data:{label:"Locate the user",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"attribution-position",component:Qx,data:{label:"Change the default position for attribution",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"ngx-scale-control",component:kp,data:{label:"[NGX] Show scale information",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-control",component:Eb,data:{label:"[NGX] Add a custom control",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"interactive-false",component:DE,data:{label:"Display a non-interactive map",cat:Ln.USER_INTERACTION}},{path:"language-switch",component:jw,data:{label:"Change a map's language",cat:Ln.USER_INTERACTION}},{path:"center-on-symbol",component:tw,data:{label:"Center the map on a clicked symbol",cat:Ln.USER_INTERACTION}},{path:"ngx-drag-a-point",component:y1,data:{label:"[NGX] Create a draggable point",cat:Ln.USER_INTERACTION}},{path:"drag-a-marker",component:gw,data:{label:"Create a draggable marker",cat:Ln.USER_INTERACTION}},{path:"hover-styles",component:zw,data:{label:"Create a hover effect",cat:Ln.USER_INTERACTION}},{path:"popup-on-click",component:w1,data:{label:"Display a popup on click",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"zoomto-linestring",component:Wb,data:{label:"Fit to the bounds of a LineString",cat:Ln.USER_INTERACTION}},{path:"cluster-html",component:Gf,data:{label:"Display HTML clusters with custom properties",cat:Ln.LAYERS}},{path:"ngx-cluster-html",component:Cb,data:{label:"[NGX] Display HTML clusters with custom properties",cat:Ln.LAYERS}},{path:"polygon-popup-on-click",component:Ab,data:{label:"Show polygon information on click",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"add-image-missing-generated",component:Cv,data:{label:"Generate and add a missing icon to the map",cat:Ln.STYLES}},{path:"custom-attribution",component:em,data:{label:"Add custom attributions",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"custom-locale",component:nm,data:{label:"Add custom localization for controls",cat:Ln.CONTROLS_AND_OVERLAYS}},{path:"marker-alignment",component:qw,data:{label:"Marker alignment options",cat:Ln.CAMERA}},{path:"terrain-style",component:H1,data:{label:"Initialize 3D Terrain using style",cat:Ln.TERRAIN}},{path:"terrain-control",component:Op,data:{label:"Terrain Control",cat:Ln.TERRAIN}},{path:"terrain",component:jb,data:{label:"[NGX] Initialize 3D Terrain declaratively",cat:Ln.TERRAIN}},{path:"**",redirectTo:"display-map"}]}],uC=()=>[2],hC=[{path:"",component:(()=>{class u{constructor(){this.center=[0,0],this.panToOptions={duration:1e4,easing:o=>o}}moveCenter(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const o=this.center[0];0===o?this.center=[90,0]:90===o?this.center=[180,0]:180===o?this.center=[-90,0]:-90===o&&(this.center=[0,0])}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275cmp=l.Xpm({type:u,selectors:[["ng-component"]],decls:5,vars:8,consts:[[3,"zoom","center","centerWithPanTo","panToOptions","interactive","mapLoad","moveEnd"],[1,"main"],["svgIcon","ngx-maplibre-gl-red",1,"logo"]],template:function(h,x){1&h&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(){return x.moveCenter()})("moveEnd",function(){return x.moveCenter()}),l.qZA(),l.TgZ(1,"div",1),l._UZ(2,"mat-icon",2),l.TgZ(3,"h1"),l._uU(4,"Angular binding of maplibre-gl-js"),l.qZA()()),2&h&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,uC))("center",x.center)("centerWithPanTo",!0)("panToOptions",x.panToOptions)("interactive",!1))},dependencies:[xn,Ve.Hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:none}.logo[_ngcontent-%COMP%]{width:150px;height:150px}mgl-map[_ngcontent-%COMP%]{flex:1}"]})}return u})(),pathMatch:"full"}],mC=[{path:"",component:U(2627).$,children:[{path:"demo",children:gy},...hC,{path:"doc",loadChildren:()=>U.e(46).then(U.bind(U,7046)).then(u=>u.DocModule)}]},{path:"**",redirectTo:""}];let pC=(()=>{class u{constructor(o,h){o.addSvgIcon("ngx-maplibre-gl",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl.svg")),o.addSvgIcon("ngx-maplibre-gl-red",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl-red.svg")),o.addSvgIcon("github",h.bypassSecurityTrustResourceUrl("assets/github.svg"))}static#e=this.\u0275fac=function(h){return new(h||u)(l.LFG(Ve.jv),l.LFG(C.H7))};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[C.b2,Pr,Ve.Ps,me.Bz.forRoot(mC,{}),ka,Ho.x]})}return u})(),Lp=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({providers:[qb],imports:[me.Bz,hg.JF,oe.ez,xa.u5,ka,Ho.x,ny,fm,rd.ot,dx,Wv,cC,gx,Ve.Ps,Sx,l1,fp]})}return u})(),fC=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[ka,Ve.Ps]})}return u})(),_0=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275mod=l.oAB({type:u,bootstrap:[g]});static#i=this.\u0275inj=l.cJS({imports:[me.Bz,pC,fC,Lp]})}return u})();(0,l.G48)(),C.q6().bootstrapModule(_0).catch(u=>console.log(u))},5619:(xi,Et,U)=>{"use strict";U.d(Et,{X:()=>l});var C=U(8645);class l extends C.x{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const Ve=super._subscribe(g);return!Ve.closed&&g.next(this._value),Ve}getValue(){const{hasError:g,thrownError:Ve,_value:le}=this;if(g)throw Ve;return this._throwIfClosed(),le}next(g){super.next(this._value=g)}}},5592:(xi,Et,U)=>{"use strict";U.d(Et,{y:()=>nt});var C=U(305),l=U(7394),me=U(4850),g=U(8407),Ve=U(2653),le=U(4674),Ze=U(1441);let nt=(()=>{class Je{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const pt=new Je;return pt.source=this,pt.operator=Ye,pt}subscribe(Ye,pt,Xt){const Zt=function at(Je){return Je&&Je instanceof C.Lv||function it(Je){return Je&&(0,le.m)(Je.next)&&(0,le.m)(Je.error)&&(0,le.m)(Je.complete)}(Je)&&(0,l.Nn)(Je)}(Ye)?Ye:new C.Hp(Ye,pt,Xt);return(0,Ze.x)(()=>{const{operator:ri,source:ki}=this;Zt.add(ri?ri.call(Zt,ki):ki?this._subscribe(Zt):this._trySubscribe(Zt))}),Zt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(pt){Ye.error(pt)}}forEach(Ye,pt){return new(pt=Ie(pt))((Xt,Zt)=>{const ri=new C.Hp({next:ki=>{try{Ye(ki)}catch(Pi){Zt(Pi),ri.unsubscribe()}},error:Zt,complete:Xt});this.subscribe(ri)})}_subscribe(Ye){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Ye)}[me.L](){return this}pipe(...Ye){return(0,g.U)(Ye)(this)}toPromise(Ye){return new(Ye=Ie(Ye))((pt,Xt)=>{let Zt;this.subscribe(ri=>Zt=ri,ri=>Xt(ri),()=>pt(Zt))})}}return Je.create=ot=>new Je(ot),Je})();function Ie(Je){var ot;return null!==(ot=Je??Ve.config.Promise)&&void 0!==ot?ot:Promise}},8645:(xi,Et,U)=>{"use strict";U.d(Et,{x:()=>Ze});var C=U(5592),l=U(7394);const g=(0,U(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=U(9039),le=U(1441);let Ze=(()=>{class Ie extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(at){const Je=new nt(this,this);return Je.operator=at,Je}_throwIfClosed(){if(this.closed)throw new g}next(at){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Je of this.currentObservers)Je.next(at)}})}error(at){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=at;const{observers:Je}=this;for(;Je.length;)Je.shift().error(at)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:at}=this;for(;at.length;)at.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var at;return(null===(at=this.observers)||void 0===at?void 0:at.length)>0}_trySubscribe(at){return this._throwIfClosed(),super._trySubscribe(at)}_subscribe(at){return this._throwIfClosed(),this._checkFinalizedStatuses(at),this._innerSubscribe(at)}_innerSubscribe(at){const{hasError:Je,isStopped:ot,observers:Ye}=this;return Je||ot?l.Lc:(this.currentObservers=null,Ye.push(at),new l.w0(()=>{this.currentObservers=null,(0,Ve.P)(Ye,at)}))}_checkFinalizedStatuses(at){const{hasError:Je,thrownError:ot,isStopped:Ye}=this;Je?at.error(ot):Ye&&at.complete()}asObservable(){const at=new C.y;return at.source=this,at}}return Ie.create=(it,at)=>new nt(it,at),Ie})();class nt extends Ze{constructor(it,at){super(),this.destination=it,this.source=at}next(it){var at,Je;null===(Je=null===(at=this.destination)||void 0===at?void 0:at.next)||void 0===Je||Je.call(at,it)}error(it){var at,Je;null===(Je=null===(at=this.destination)||void 0===at?void 0:at.error)||void 0===Je||Je.call(at,it)}complete(){var it,at;null===(at=null===(it=this.destination)||void 0===it?void 0:it.complete)||void 0===at||at.call(it)}_subscribe(it){var at,Je;return null!==(Je=null===(at=this.source)||void 0===at?void 0:at.subscribe(it))&&void 0!==Je?Je:l.Lc}}},305:(xi,Et,U)=>{"use strict";U.d(Et,{Hp:()=>Xt,Lv:()=>Je});var C=U(4674),l=U(7394),me=U(2653),g=U(3894),Ve=U(2420);const le=Ie("C",void 0,void 0);function Ie(jt,rt,ht){return{kind:jt,value:rt,error:ht}}var it=U(7599),at=U(1441);class Je extends l.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,l.Nn)(rt)&&rt.add(this)):this.destination=Pi}static create(rt,ht,ei){return new Xt(rt,ht,ei)}next(rt){this.isStopped?ki(function nt(jt){return Ie("N",jt,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?ki(function Ze(jt){return Ie("E",void 0,jt)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?ki(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ye(jt,rt){return ot.call(jt,rt)}class pt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:ht}=this;if(ht.next)try{ht.next(rt)}catch(ei){Zt(ei)}}error(rt){const{partialObserver:ht}=this;if(ht.error)try{ht.error(rt)}catch(ei){Zt(ei)}else Zt(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(ht){Zt(ht)}}}class Xt extends Je{constructor(rt,ht,ei){let Nt;if(super(),(0,C.m)(rt)||!rt)Nt={next:rt??void 0,error:ht??void 0,complete:ei??void 0};else{let Dt;this&&me.config.useDeprecatedNextContext?(Dt=Object.create(rt),Dt.unsubscribe=()=>this.unsubscribe(),Nt={next:rt.next&&Ye(rt.next,Dt),error:rt.error&&Ye(rt.error,Dt),complete:rt.complete&&Ye(rt.complete,Dt)}):Nt=rt}this.destination=new pt(Nt)}}function Zt(jt){me.config.useDeprecatedSynchronousErrorHandling?(0,at.O)(jt):(0,g.h)(jt)}function ki(jt,rt){const{onStoppedNotification:ht}=me.config;ht&&it.z.setTimeout(()=>ht(jt,rt))}const Pi={closed:!0,next:Ve.Z,error:function ri(jt){throw jt},complete:Ve.Z}},7394:(xi,Et,U)=>{"use strict";U.d(Et,{Lc:()=>le,w0:()=>Ve,Nn:()=>Ze});var C=U(4674);const me=(0,U(2306).d)(Ie=>function(at){Ie(this),this.message=at?`${at.length} errors occurred during unsubscription:\n${at.map((Je,ot)=>`${ot+1}) ${Je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=at});var g=U(9039);class Ve{constructor(it){this.initialTeardown=it,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let it;if(!this.closed){this.closed=!0;const{_parentage:at}=this;if(at)if(this._parentage=null,Array.isArray(at))for(const Ye of at)Ye.remove(this);else at.remove(this);const{initialTeardown:Je}=this;if((0,C.m)(Je))try{Je()}catch(Ye){it=Ye instanceof me?Ye.errors:[Ye]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const Ye of ot)try{nt(Ye)}catch(pt){it=it??[],pt instanceof me?it=[...it,...pt.errors]:it.push(pt)}}if(it)throw new me(it)}}add(it){var at;if(it&&it!==this)if(this.closed)nt(it);else{if(it instanceof Ve){if(it.closed||it._hasParent(this))return;it._addParent(this)}(this._finalizers=null!==(at=this._finalizers)&&void 0!==at?at:[]).push(it)}}_hasParent(it){const{_parentage:at}=this;return at===it||Array.isArray(at)&&at.includes(it)}_addParent(it){const{_parentage:at}=this;this._parentage=Array.isArray(at)?(at.push(it),at):at?[at,it]:it}_removeParent(it){const{_parentage:at}=this;at===it?this._parentage=null:Array.isArray(at)&&(0,g.P)(at,it)}remove(it){const{_finalizers:at}=this;at&&(0,g.P)(at,it),it instanceof Ve&&it._removeParent(this)}}Ve.EMPTY=(()=>{const Ie=new Ve;return Ie.closed=!0,Ie})();const le=Ve.EMPTY;function Ze(Ie){return Ie instanceof Ve||Ie&&"closed"in Ie&&(0,C.m)(Ie.remove)&&(0,C.m)(Ie.add)&&(0,C.m)(Ie.unsubscribe)}function nt(Ie){(0,C.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(xi,Et,U)=>{"use strict";U.d(Et,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(xi,Et,U)=>{"use strict";U.d(Et,{a:()=>it});var C=U(5592),l=U(7453),me=U(7715),g=U(2737),Ve=U(7400),le=U(9940),Ze=U(2714),nt=U(8251),Ie=U(7103);function it(...ot){const Ye=(0,le.yG)(ot),pt=(0,le.jO)(ot),{args:Xt,keys:Zt}=(0,l.D)(ot);if(0===Xt.length)return(0,me.D)([],Ye);const ri=new C.y(function at(ot,Ye,pt=g.y){return Xt=>{Je(Ye,()=>{const{length:Zt}=ot,ri=new Array(Zt);let ki=Zt,Pi=Zt;for(let jt=0;jt<Zt;jt++)Je(Ye,()=>{const rt=(0,me.D)(ot[jt],Ye);let ht=!1;rt.subscribe((0,nt.x)(Xt,ei=>{ri[jt]=ei,ht||(ht=!0,Pi--),Pi||Xt.next(pt(ri.slice()))},()=>{--ki||Xt.complete()}))},Xt)},Xt)}}(Xt,Ye,Zt?ki=>(0,Ze.n)(Zt,ki):g.y));return pt?ri.pipe((0,Ve.Z)(pt)):ri}function Je(ot,Ye,pt){ot?(0,Ie.f)(pt,ot,Ye):Ye()}},5211:(xi,Et,U)=>{"use strict";U.d(Et,{z:()=>Ve});var C=U(7537),me=U(9940),g=U(7715);function Ve(...le){return function l(){return(0,C.J)(1)}()((0,g.D)(le,(0,me.yG)(le)))}},4911:(xi,Et,U)=>{"use strict";U.d(Et,{P:()=>me});var C=U(5592),l=U(4829);function me(g){return new C.y(Ve=>{(0,l.Xf)(g()).subscribe(Ve)})}},6232:(xi,Et,U)=>{"use strict";U.d(Et,{E:()=>l});const l=new(U(5592).y)(Ve=>Ve.complete())},9315:(xi,Et,U)=>{"use strict";U.d(Et,{D:()=>nt});var C=U(5592),l=U(7453),me=U(4829),g=U(9940),Ve=U(8251),le=U(7400),Ze=U(2714);function nt(...Ie){const it=(0,g.jO)(Ie),{args:at,keys:Je}=(0,l.D)(Ie),ot=new C.y(Ye=>{const{length:pt}=at;if(!pt)return void Ye.complete();const Xt=new Array(pt);let Zt=pt,ri=pt;for(let ki=0;ki<pt;ki++){let Pi=!1;(0,me.Xf)(at[ki]).subscribe((0,Ve.x)(Ye,jt=>{Pi||(Pi=!0,ri--),Xt[ki]=jt},()=>Zt--,void 0,()=>{(!Zt||!Pi)&&(ri||Ye.next(Je?(0,Ze.n)(Je,Xt):Xt),Ye.complete())}))}});return it?ot.pipe((0,le.Z)(it)):ot}},7715:(xi,Et,U)=>{"use strict";U.d(Et,{D:()=>ei});var C=U(4829),l=U(7103),me=U(9360),g=U(8251);function Ve(Nt,Dt=0){return(0,me.e)((_t,Qt)=>{_t.subscribe((0,g.x)(Qt,Ri=>(0,l.f)(Qt,Nt,()=>Qt.next(Ri),Dt),()=>(0,l.f)(Qt,Nt,()=>Qt.complete(),Dt),Ri=>(0,l.f)(Qt,Nt,()=>Qt.error(Ri),Dt)))})}function le(Nt,Dt=0){return(0,me.e)((_t,Qt)=>{Qt.add(Nt.schedule(()=>_t.subscribe(Qt),Dt))})}var Ie=U(5592),at=U(4971),Je=U(4674);function Ye(Nt,Dt){if(!Nt)throw new Error("Iterable cannot be null");return new Ie.y(_t=>{(0,l.f)(_t,Dt,()=>{const Qt=Nt[Symbol.asyncIterator]();(0,l.f)(_t,Dt,()=>{Qt.next().then(Ri=>{Ri.done?_t.complete():_t.next(Ri.value)})},0,!0)})})}var pt=U(8382),Xt=U(4026),Zt=U(4266),ri=U(3664),ki=U(5726),Pi=U(9853),jt=U(541);function ei(Nt,Dt){return Dt?function ht(Nt,Dt){if(null!=Nt){if((0,pt.c)(Nt))return function Ze(Nt,Dt){return(0,C.Xf)(Nt).pipe(le(Dt),Ve(Dt))}(Nt,Dt);if((0,Zt.z)(Nt))return function it(Nt,Dt){return new Ie.y(_t=>{let Qt=0;return Dt.schedule(function(){Qt===Nt.length?_t.complete():(_t.next(Nt[Qt++]),_t.closed||this.schedule())})})}(Nt,Dt);if((0,Xt.t)(Nt))return function nt(Nt,Dt){return(0,C.Xf)(Nt).pipe(le(Dt),Ve(Dt))}(Nt,Dt);if((0,ki.D)(Nt))return Ye(Nt,Dt);if((0,ri.T)(Nt))return function ot(Nt,Dt){return new Ie.y(_t=>{let Qt;return(0,l.f)(_t,Dt,()=>{Qt=Nt[at.h](),(0,l.f)(_t,Dt,()=>{let Ri,Fi;try{({value:Ri,done:Fi}=Qt.next())}catch(En){return void _t.error(En)}Fi?_t.complete():_t.next(Ri)},0,!0)}),()=>(0,Je.m)(Qt?.return)&&Qt.return()})}(Nt,Dt);if((0,jt.L)(Nt))return function rt(Nt,Dt){return Ye((0,jt.Q)(Nt),Dt)}(Nt,Dt)}throw(0,Pi.z)(Nt)}(Nt,Dt):(0,C.Xf)(Nt)}},2438:(xi,Et,U)=>{"use strict";U.d(Et,{R:()=>it});var C=U(4829),l=U(5592),me=U(1631),g=U(4266),Ve=U(4674),le=U(7400);const Ze=["addListener","removeListener"],nt=["addEventListener","removeEventListener"],Ie=["on","off"];function it(pt,Xt,Zt,ri){if((0,Ve.m)(Zt)&&(ri=Zt,Zt=void 0),ri)return it(pt,Xt,Zt).pipe((0,le.Z)(ri));const[ki,Pi]=function Ye(pt){return(0,Ve.m)(pt.addEventListener)&&(0,Ve.m)(pt.removeEventListener)}(pt)?nt.map(jt=>rt=>pt[jt](Xt,rt,Zt)):function Je(pt){return(0,Ve.m)(pt.addListener)&&(0,Ve.m)(pt.removeListener)}(pt)?Ze.map(at(pt,Xt)):function ot(pt){return(0,Ve.m)(pt.on)&&(0,Ve.m)(pt.off)}(pt)?Ie.map(at(pt,Xt)):[];if(!ki&&(0,g.z)(pt))return(0,me.z)(jt=>it(jt,Xt,Zt))((0,C.Xf)(pt));if(!ki)throw new TypeError("Invalid event target");return new l.y(jt=>{const rt=(...ht)=>jt.next(1<ht.length?ht:ht[0]);return ki(rt),()=>Pi(rt)})}function at(pt,Xt){return Zt=>ri=>pt[Zt](Xt,ri)}},4829:(xi,Et,U)=>{"use strict";U.d(Et,{Xf:()=>ot});var C=U(7582),l=U(4266),me=U(4026),g=U(5592),Ve=U(8382),le=U(5726),Ze=U(9853),nt=U(3664),Ie=U(541),it=U(4674),at=U(3894),Je=U(4850);function ot(jt){if(jt instanceof g.y)return jt;if(null!=jt){if((0,Ve.c)(jt))return function Ye(jt){return new g.y(rt=>{const ht=jt[Je.L]();if((0,it.m)(ht.subscribe))return ht.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(jt);if((0,l.z)(jt))return function pt(jt){return new g.y(rt=>{for(let ht=0;ht<jt.length&&!rt.closed;ht++)rt.next(jt[ht]);rt.complete()})}(jt);if((0,me.t)(jt))return function Xt(jt){return new g.y(rt=>{jt.then(ht=>{rt.closed||(rt.next(ht),rt.complete())},ht=>rt.error(ht)).then(null,at.h)})}(jt);if((0,le.D)(jt))return ri(jt);if((0,nt.T)(jt))return function Zt(jt){return new g.y(rt=>{for(const ht of jt)if(rt.next(ht),rt.closed)return;rt.complete()})}(jt);if((0,Ie.L)(jt))return function ki(jt){return ri((0,Ie.Q)(jt))}(jt)}throw(0,Ze.z)(jt)}function ri(jt){return new g.y(rt=>{(function Pi(jt,rt){var ht,ei,Nt,Dt;return(0,C.mG)(this,void 0,void 0,function*(){try{for(ht=(0,C.KL)(jt);!(ei=yield ht.next()).done;)if(rt.next(ei.value),rt.closed)return}catch(_t){Nt={error:_t}}finally{try{ei&&!ei.done&&(Dt=ht.return)&&(yield Dt.call(ht))}finally{if(Nt)throw Nt.error}}rt.complete()})})(jt,rt).catch(ht=>rt.error(ht))})}},3019:(xi,Et,U)=>{"use strict";U.d(Et,{T:()=>le});var C=U(7537),l=U(4829),me=U(6232),g=U(9940),Ve=U(7715);function le(...Ze){const nt=(0,g.yG)(Ze),Ie=(0,g._6)(Ze,1/0),it=Ze;return it.length?1===it.length?(0,l.Xf)(it[0]):(0,C.J)(Ie)((0,Ve.D)(it,nt)):me.E}},2096:(xi,Et,U)=>{"use strict";U.d(Et,{of:()=>me});var C=U(9940),l=U(7715);function me(...g){const Ve=(0,C.yG)(g);return(0,l.D)(g,Ve)}},8504:(xi,Et,U)=>{"use strict";U.d(Et,{_:()=>me});var C=U(5592),l=U(4674);function me(g,Ve){const le=(0,l.m)(g)?g:()=>g,Ze=nt=>nt.error(le());return new C.y(Ve?nt=>Ve.schedule(Ze,0,nt):Ze)}},4825:(xi,Et,U)=>{"use strict";U.d(Et,{H:()=>Ve});var C=U(5592),l=U(6321),me=U(671);function Ve(le=0,Ze,nt=l.P){let Ie=-1;return null!=Ze&&((0,me.K)(Ze)?nt=Ze:Ie=Ze),new C.y(it=>{let at=function g(le){return le instanceof Date&&!isNaN(le)}(le)?+le-nt.now():le;at<0&&(at=0);let Je=0;return nt.schedule(function(){it.closed||(it.next(Je++),0<=Ie?this.schedule(void 0,Ie):it.complete())},at)})}},8251:(xi,Et,U)=>{"use strict";U.d(Et,{x:()=>l});var C=U(305);function l(g,Ve,le,Ze,nt){return new me(g,Ve,le,Ze,nt)}class me extends C.Lv{constructor(Ve,le,Ze,nt,Ie,it){super(Ve),this.onFinalize=Ie,this.shouldUnsubscribe=it,this._next=le?function(at){try{le(at)}catch(Je){Ve.error(Je)}}:super._next,this._error=nt?function(at){try{nt(at)}catch(Je){Ve.error(Je)}finally{this.unsubscribe()}}:super._error,this._complete=Ze?function(){try{Ze()}catch(at){Ve.error(at)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(Ve=this.onFinalize)||void 0===Ve||Ve.call(this))}}}},6306:(xi,Et,U)=>{"use strict";U.d(Et,{K:()=>g});var C=U(4829),l=U(8251),me=U(9360);function g(Ve){return(0,me.e)((le,Ze)=>{let it,nt=null,Ie=!1;nt=le.subscribe((0,l.x)(Ze,void 0,void 0,at=>{it=(0,C.Xf)(Ve(at,g(Ve)(le))),nt?(nt.unsubscribe(),nt=null,it.subscribe(Ze)):Ie=!0})),Ie&&(nt.unsubscribe(),nt=null,it.subscribe(Ze))})}},6328:(xi,Et,U)=>{"use strict";U.d(Et,{b:()=>me});var C=U(1631),l=U(4674);function me(g,Ve){return(0,l.m)(Ve)?(0,C.z)(g,Ve,1):(0,C.z)(g,1)}},3620:(xi,Et,U)=>{"use strict";U.d(Et,{b:()=>g});var C=U(6321),l=U(9360),me=U(8251);function g(Ve,le=C.z){return(0,l.e)((Ze,nt)=>{let Ie=null,it=null,at=null;const Je=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const Ye=it;it=null,nt.next(Ye)}};function ot(){const Ye=at+Ve,pt=le.now();if(pt<Ye)return Ie=this.schedule(void 0,Ye-pt),void nt.add(Ie);Je()}Ze.subscribe((0,me.x)(nt,Ye=>{it=Ye,at=le.now(),Ie||(Ie=le.schedule(ot,Ve),nt.add(Ie))},()=>{Je(),nt.complete()},void 0,()=>{it=Ie=null}))})}},3572:(xi,Et,U)=>{"use strict";U.d(Et,{d:()=>me});var C=U(9360),l=U(8251);function me(g){return(0,C.e)((Ve,le)=>{let Ze=!1;Ve.subscribe((0,l.x)(le,nt=>{Ze=!0,le.next(nt)},()=>{Ze||le.next(g),le.complete()}))})}},3997:(xi,Et,U)=>{"use strict";U.d(Et,{x:()=>g});var C=U(2737),l=U(9360),me=U(8251);function g(le,Ze=C.y){return le=le??Ve,(0,l.e)((nt,Ie)=>{let it,at=!0;nt.subscribe((0,me.x)(Ie,Je=>{const ot=Ze(Je);(at||!le(it,ot))&&(at=!1,it=ot,Ie.next(Je))}))})}function Ve(le,Ze){return le===Ze}},2181:(xi,Et,U)=>{"use strict";U.d(Et,{h:()=>me});var C=U(9360),l=U(8251);function me(g,Ve){return(0,C.e)((le,Ze)=>{let nt=0;le.subscribe((0,l.x)(Ze,Ie=>g.call(Ve,Ie,nt++)&&Ze.next(Ie)))})}},4716:(xi,Et,U)=>{"use strict";U.d(Et,{x:()=>l});var C=U(9360);function l(me){return(0,C.e)((g,Ve)=>{try{g.subscribe(Ve)}finally{Ve.add(me)}})}},1374:(xi,Et,U)=>{"use strict";U.d(Et,{P:()=>Ze});var C=U(6973),l=U(2181),me=U(8180),g=U(3572),Ve=U(3026),le=U(2737);function Ze(nt,Ie){const it=arguments.length>=2;return at=>at.pipe(nt?(0,l.h)((Je,ot)=>nt(Je,ot,at)):le.y,(0,me.q)(1),it?(0,g.d)(Ie):(0,Ve.T)(()=>new C.K))}},7398:(xi,Et,U)=>{"use strict";U.d(Et,{U:()=>me});var C=U(9360),l=U(8251);function me(g,Ve){return(0,C.e)((le,Ze)=>{let nt=0;le.subscribe((0,l.x)(Ze,Ie=>{Ze.next(g.call(Ve,Ie,nt++))}))})}},975:(xi,Et,U)=>{"use strict";U.d(Et,{h:()=>l});var C=U(7398);function l(me){return(0,C.U)(()=>me)}},7537:(xi,Et,U)=>{"use strict";U.d(Et,{J:()=>me});var C=U(1631),l=U(2737);function me(g=1/0){return(0,C.z)(l.y,g)}},1631:(xi,Et,U)=>{"use strict";U.d(Et,{z:()=>nt});var C=U(7398),l=U(4829),me=U(9360),g=U(7103),Ve=U(8251),Ze=U(4674);function nt(Ie,it,at=1/0){return(0,Ze.m)(it)?nt((Je,ot)=>(0,C.U)((Ye,pt)=>it(Je,Ye,ot,pt))((0,l.Xf)(Ie(Je,ot))),at):("number"==typeof it&&(at=it),(0,me.e)((Je,ot)=>function le(Ie,it,at,Je,ot,Ye,pt,Xt){const Zt=[];let ri=0,ki=0,Pi=!1;const jt=()=>{Pi&&!Zt.length&&!ri&&it.complete()},rt=ei=>ri<Je?ht(ei):Zt.push(ei),ht=ei=>{Ye&&it.next(ei),ri++;let Nt=!1;(0,l.Xf)(at(ei,ki++)).subscribe((0,Ve.x)(it,Dt=>{ot?.(Dt),Ye?rt(Dt):it.next(Dt)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(ri--;Zt.length&&ri<Je;){const Dt=Zt.shift();pt?(0,g.f)(it,pt,()=>ht(Dt)):ht(Dt)}jt()}catch(Dt){it.error(Dt)}}))};return Ie.subscribe((0,Ve.x)(it,rt,()=>{Pi=!0,jt()})),()=>{Xt?.()}}(Je,ot,Ie,at)))}},3020:(xi,Et,U)=>{"use strict";U.d(Et,{B:()=>Ve});var C=U(4829),l=U(8645),me=U(305),g=U(9360);function Ve(Ze={}){const{connector:nt=(()=>new l.x),resetOnError:Ie=!0,resetOnComplete:it=!0,resetOnRefCountZero:at=!0}=Ze;return Je=>{let ot,Ye,pt,Xt=0,Zt=!1,ri=!1;const ki=()=>{Ye?.unsubscribe(),Ye=void 0},Pi=()=>{ki(),ot=pt=void 0,Zt=ri=!1},jt=()=>{const rt=ot;Pi(),rt?.unsubscribe()};return(0,g.e)((rt,ht)=>{Xt++,!ri&&!Zt&&ki();const ei=pt=pt??nt();ht.add(()=>{Xt--,0===Xt&&!ri&&!Zt&&(Ye=le(jt,at))}),ei.subscribe(ht),!ot&&Xt>0&&(ot=new me.Hp({next:Nt=>ei.next(Nt),error:Nt=>{ri=!0,ki(),Ye=le(Pi,Ie,Nt),ei.error(Nt)},complete:()=>{Zt=!0,ki(),Ye=le(Pi,it),ei.complete()}}),(0,C.Xf)(rt).subscribe(ot))})(Je)}}function le(Ze,nt,...Ie){if(!0===nt)return void Ze();if(!1===nt)return;const it=new me.Hp({next:()=>{it.unsubscribe(),Ze()}});return(0,C.Xf)(nt(...Ie)).subscribe(it)}},940:(xi,Et,U)=>{"use strict";U.d(Et,{d:()=>Ve});var C=U(8645),l=U(4552);class me extends C.x{constructor(Ze=1/0,nt=1/0,Ie=l.l){super(),this._bufferSize=Ze,this._windowTime=nt,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=nt===1/0,this._bufferSize=Math.max(1,Ze),this._windowTime=Math.max(1,nt)}next(Ze){const{isStopped:nt,_buffer:Ie,_infiniteTimeWindow:it,_timestampProvider:at,_windowTime:Je}=this;nt||(Ie.push(Ze),!it&&Ie.push(at.now()+Je)),this._trimBuffer(),super.next(Ze)}_subscribe(Ze){this._throwIfClosed(),this._trimBuffer();const nt=this._innerSubscribe(Ze),{_infiniteTimeWindow:Ie,_buffer:it}=this,at=it.slice();for(let Je=0;Je<at.length&&!Ze.closed;Je+=Ie?1:2)Ze.next(at[Je]);return this._checkFinalizedStatuses(Ze),nt}_trimBuffer(){const{_bufferSize:Ze,_timestampProvider:nt,_buffer:Ie,_infiniteTimeWindow:it}=this,at=(it?1:2)*Ze;if(Ze<1/0&&at<Ie.length&&Ie.splice(0,Ie.length-at),!it){const Je=nt.now();let ot=0;for(let Ye=1;Ye<Ie.length&&Ie[Ye]<=Je;Ye+=2)ot=Ye;ot&&Ie.splice(0,ot+1)}}}var g=U(3020);function Ve(le,Ze,nt){let Ie,it=!1;return le&&"object"==typeof le?({bufferSize:Ie=1/0,windowTime:Ze=1/0,refCount:it=!1,scheduler:nt}=le):Ie=le??1/0,(0,g.B)({connector:()=>new me(Ie,Ze,nt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:it})}},7921:(xi,Et,U)=>{"use strict";U.d(Et,{O:()=>g});var C=U(5211),l=U(9940),me=U(9360);function g(...Ve){const le=(0,l.yG)(Ve);return(0,me.e)((Ze,nt)=>{(le?(0,C.z)(Ve,Ze,le):(0,C.z)(Ve,Ze)).subscribe(nt)})}},4664:(xi,Et,U)=>{"use strict";U.d(Et,{w:()=>g});var C=U(4829),l=U(9360),me=U(8251);function g(Ve,le){return(0,l.e)((Ze,nt)=>{let Ie=null,it=0,at=!1;const Je=()=>at&&!Ie&&nt.complete();Ze.subscribe((0,me.x)(nt,ot=>{Ie?.unsubscribe();let Ye=0;const pt=it++;(0,C.Xf)(Ve(ot,pt)).subscribe(Ie=(0,me.x)(nt,Xt=>nt.next(le?le(ot,Xt,pt,Ye++):Xt),()=>{Ie=null,Je()}))},()=>{at=!0,Je()}))})}},8180:(xi,Et,U)=>{"use strict";U.d(Et,{q:()=>g});var C=U(6232),l=U(9360),me=U(8251);function g(Ve){return Ve<=0?()=>C.E:(0,l.e)((le,Ze)=>{let nt=0;le.subscribe((0,me.x)(Ze,Ie=>{++nt<=Ve&&(Ze.next(Ie),Ve<=nt&&Ze.complete())}))})}},9773:(xi,Et,U)=>{"use strict";U.d(Et,{R:()=>Ve});var C=U(9360),l=U(8251),me=U(4829),g=U(2420);function Ve(le){return(0,C.e)((Ze,nt)=>{(0,me.Xf)(le).subscribe((0,l.x)(nt,()=>nt.complete(),g.Z)),!nt.closed&&Ze.subscribe(nt)})}},9397:(xi,Et,U)=>{"use strict";U.d(Et,{b:()=>Ve});var C=U(4674),l=U(9360),me=U(8251),g=U(2737);function Ve(le,Ze,nt){const Ie=(0,C.m)(le)||Ze||nt?{next:le,error:Ze,complete:nt}:le;return Ie?(0,l.e)((it,at)=>{var Je;null===(Je=Ie.subscribe)||void 0===Je||Je.call(Ie);let ot=!0;it.subscribe((0,me.x)(at,Ye=>{var pt;null===(pt=Ie.next)||void 0===pt||pt.call(Ie,Ye),at.next(Ye)},()=>{var Ye;ot=!1,null===(Ye=Ie.complete)||void 0===Ye||Ye.call(Ie),at.complete()},Ye=>{var pt;ot=!1,null===(pt=Ie.error)||void 0===pt||pt.call(Ie,Ye),at.error(Ye)},()=>{var Ye,pt;ot&&(null===(Ye=Ie.unsubscribe)||void 0===Ye||Ye.call(Ie)),null===(pt=Ie.finalize)||void 0===pt||pt.call(Ie)}))}):g.y}},3026:(xi,Et,U)=>{"use strict";U.d(Et,{T:()=>g});var C=U(6973),l=U(9360),me=U(8251);function g(le=Ve){return(0,l.e)((Ze,nt)=>{let Ie=!1;Ze.subscribe((0,me.x)(nt,it=>{Ie=!0,nt.next(it)},()=>Ie?nt.complete():nt.error(le())))})}function Ve(){return new C.K}},1954:(xi,Et,U)=>{"use strict";U.d(Et,{o:()=>Ve});var C=U(7394);class l extends C.w0{constructor(Ze,nt){super()}schedule(Ze,nt=0){return this}}const me={setInterval(le,Ze,...nt){const{delegate:Ie}=me;return Ie?.setInterval?Ie.setInterval(le,Ze,...nt):setInterval(le,Ze,...nt)},clearInterval(le){const{delegate:Ze}=me;return(Ze?.clearInterval||clearInterval)(le)},delegate:void 0};var g=U(9039);class Ve extends l{constructor(Ze,nt){super(Ze,nt),this.scheduler=Ze,this.work=nt,this.pending=!1}schedule(Ze,nt=0){var Ie;if(this.closed)return this;this.state=Ze;const it=this.id,at=this.scheduler;return null!=it&&(this.id=this.recycleAsyncId(at,it,nt)),this.pending=!0,this.delay=nt,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(at,this.id,nt),this}requestAsyncId(Ze,nt,Ie=0){return me.setInterval(Ze.flush.bind(Ze,this),Ie)}recycleAsyncId(Ze,nt,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return nt;null!=nt&&me.clearInterval(nt)}execute(Ze,nt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ze,nt);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ze,nt){let it,Ie=!1;try{this.work(Ze)}catch(at){Ie=!0,it=at||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),it}unsubscribe(){if(!this.closed){const{id:Ze,scheduler:nt}=this,{actions:Ie}=nt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.P)(Ie,this),null!=Ze&&(this.id=this.recycleAsyncId(nt,Ze,null)),this.delay=null,super.unsubscribe()}}}},2631:(xi,Et,U)=>{"use strict";U.d(Et,{v:()=>me});var C=U(4552);class l{constructor(Ve,le=l.now){this.schedulerActionCtor=Ve,this.now=le}schedule(Ve,le=0,Ze){return new this.schedulerActionCtor(this,Ve).schedule(Ze,le)}}l.now=C.l.now;class me extends l{constructor(Ve,le=l.now){super(Ve,le),this.actions=[],this._active=!1}flush(Ve){const{actions:le}=this;if(this._active)return void le.push(Ve);let Ze;this._active=!0;do{if(Ze=Ve.execute(Ve.state,Ve.delay))break}while(Ve=le.shift());if(this._active=!1,Ze){for(;Ve=le.shift();)Ve.unsubscribe();throw Ze}}}},6321:(xi,Et,U)=>{"use strict";U.d(Et,{P:()=>g,z:()=>me});var C=U(1954);const me=new(U(2631).v)(C.o),g=me},4552:(xi,Et,U)=>{"use strict";U.d(Et,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},7599:(xi,Et,U)=>{"use strict";U.d(Et,{z:()=>C});const C={setTimeout(l,me,...g){const{delegate:Ve}=C;return Ve?.setTimeout?Ve.setTimeout(l,me,...g):setTimeout(l,me,...g)},clearTimeout(l){const{delegate:me}=C;return(me?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(xi,Et,U)=>{"use strict";U.d(Et,{h:()=>l});const l=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xi,Et,U)=>{"use strict";U.d(Et,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(xi,Et,U)=>{"use strict";U.d(Et,{K:()=>l});const l=(0,U(2306).d)(me=>function(){me(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(xi,Et,U)=>{"use strict";U.d(Et,{_6:()=>le,jO:()=>g,yG:()=>Ve});var C=U(4674),l=U(671);function me(Ze){return Ze[Ze.length-1]}function g(Ze){return(0,C.m)(me(Ze))?Ze.pop():void 0}function Ve(Ze){return(0,l.K)(me(Ze))?Ze.pop():void 0}function le(Ze,nt){return"number"==typeof me(Ze)?Ze.pop():nt}},7453:(xi,Et,U)=>{"use strict";U.d(Et,{D:()=>Ve});const{isArray:C}=Array,{getPrototypeOf:l,prototype:me,keys:g}=Object;function Ve(Ze){if(1===Ze.length){const nt=Ze[0];if(C(nt))return{args:nt,keys:null};if(function le(Ze){return Ze&&"object"==typeof Ze&&l(Ze)===me}(nt)){const Ie=g(nt);return{args:Ie.map(it=>nt[it]),keys:Ie}}}return{args:Ze,keys:null}}},9039:(xi,Et,U)=>{"use strict";function C(l,me){if(l){const g=l.indexOf(me);0<=g&&l.splice(g,1)}}U.d(Et,{P:()=>C})},2306:(xi,Et,U)=>{"use strict";function C(l){const g=l(Ve=>{Error.call(Ve),Ve.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}U.d(Et,{d:()=>C})},2714:(xi,Et,U)=>{"use strict";function C(l,me){return l.reduce((g,Ve,le)=>(g[Ve]=me[le],g),{})}U.d(Et,{n:()=>C})},1441:(xi,Et,U)=>{"use strict";U.d(Et,{O:()=>g,x:()=>me});var C=U(2653);let l=null;function me(Ve){if(C.config.useDeprecatedSynchronousErrorHandling){const le=!l;if(le&&(l={errorThrown:!1,error:null}),Ve(),le){const{errorThrown:Ze,error:nt}=l;if(l=null,Ze)throw nt}}else Ve()}function g(Ve){C.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=Ve)}},7103:(xi,Et,U)=>{"use strict";function C(l,me,g,Ve=0,le=!1){const Ze=me.schedule(function(){g(),le?l.add(this.schedule(null,Ve)):this.unsubscribe()},Ve);if(l.add(Ze),!le)return Ze}U.d(Et,{f:()=>C})},2737:(xi,Et,U)=>{"use strict";function C(l){return l}U.d(Et,{y:()=>C})},4266:(xi,Et,U)=>{"use strict";U.d(Et,{z:()=>C});const C=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(xi,Et,U)=>{"use strict";U.d(Et,{D:()=>l});var C=U(4674);function l(me){return Symbol.asyncIterator&&(0,C.m)(me?.[Symbol.asyncIterator])}},4674:(xi,Et,U)=>{"use strict";function C(l){return"function"==typeof l}U.d(Et,{m:()=>C})},8382:(xi,Et,U)=>{"use strict";U.d(Et,{c:()=>me});var C=U(4850),l=U(4674);function me(g){return(0,l.m)(g[C.L])}},3664:(xi,Et,U)=>{"use strict";U.d(Et,{T:()=>me});var C=U(4971),l=U(4674);function me(g){return(0,l.m)(g?.[C.h])}},4026:(xi,Et,U)=>{"use strict";U.d(Et,{t:()=>l});var C=U(4674);function l(me){return(0,C.m)(me?.then)}},541:(xi,Et,U)=>{"use strict";U.d(Et,{L:()=>g,Q:()=>me});var C=U(7582),l=U(4674);function me(Ve){return(0,C.FC)(this,arguments,function*(){const Ze=Ve.getReader();try{for(;;){const{value:nt,done:Ie}=yield(0,C.qq)(Ze.read());if(Ie)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(nt)}}finally{Ze.releaseLock()}})}function g(Ve){return(0,l.m)(Ve?.getReader)}},671:(xi,Et,U)=>{"use strict";U.d(Et,{K:()=>l});var C=U(4674);function l(me){return me&&(0,C.m)(me.schedule)}},9360:(xi,Et,U)=>{"use strict";U.d(Et,{A:()=>l,e:()=>me});var C=U(4674);function l(g){return(0,C.m)(g?.lift)}function me(g){return Ve=>{if(l(Ve))return Ve.lift(function(le){try{return g(le,this)}catch(Ze){this.error(Ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(xi,Et,U)=>{"use strict";U.d(Et,{Z:()=>g});var C=U(7398);const{isArray:l}=Array;function g(Ve){return(0,C.U)(le=>function me(Ve,le){return l(le)?Ve(...le):Ve(le)}(Ve,le))}},2420:(xi,Et,U)=>{"use strict";function C(){}U.d(Et,{Z:()=>C})},8407:(xi,Et,U)=>{"use strict";U.d(Et,{U:()=>me,z:()=>l});var C=U(2737);function l(...g){return me(g)}function me(g){return 0===g.length?C.y:1===g.length?g[0]:function(le){return g.reduce((Ze,nt)=>nt(Ze),le)}}},3894:(xi,Et,U)=>{"use strict";U.d(Et,{h:()=>me});var C=U(2653),l=U(7599);function me(g){l.z.setTimeout(()=>{const{onUnhandledError:Ve}=C.config;if(!Ve)throw g;Ve(g)})}},9853:(xi,Et,U)=>{"use strict";function C(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Et,{z:()=>C})},5624:function(xi){xi.exports=function(){"use strict";var Et,U,C;function l(g,Ve){if(Et)if(U){var le="var sharedChunk = {}; ("+Et+")(sharedChunk); ("+U+")(sharedChunk);",Ze={};Et(Ze),C=Ve(Ze),typeof window<"u"&&(C.workerUrl=window.URL.createObjectURL(new Blob([le],{type:"text/javascript"})))}else U=Ve;else Et=Ve}return l(0,function(g){function Ve(s,i,a,m){return new(a||(a=Promise))(function(_,E){function S(j){try{N(m.next(j))}catch(X){E(X)}}function k(j){try{N(m.throw(j))}catch(X){E(X)}}function N(j){var X;j.done?_(j.value):(X=j.value,X instanceof a?X:new a(function(re){re(X)})).then(S,k)}N((m=m.apply(s,i||[])).next())})}function le(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}"function"==typeof SuppressedError&&SuppressedError;var Ze=nt;function nt(s,i){this.x=s,this.y=i}nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,i){return this.clone()._rotateAround(s,i)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var i=s.x-this.x,a=s.y-this.y;return i*i+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,i){return Math.atan2(this.x*i-this.y*s,this.x*s+this.y*i)},_matMult:function(s){var i=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=i,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var i=Math.cos(s),a=Math.sin(s),m=a*this.x+i*this.y;return this.x=i*this.x-a*this.y,this.y=m,this},_rotateAround:function(s,i){var a=Math.cos(s),m=Math.sin(s),_=i.y+m*(this.x-i.x)+a*(this.y-i.y);return this.x=i.x+a*(this.x-i.x)-m*(this.y-i.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},nt.convert=function(s){return s instanceof nt?s:Array.isArray(s)?new nt(s[0],s[1]):s};var Ie=le(Ze),it=at;function at(s,i,a,m){this.cx=3*s,this.bx=3*(a-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(m-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=i,this.p2x=a,this.p2y=m}at.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,i){if(void 0===i&&(i=1e-6),s<0)return 0;if(s>1)return 1;for(var a=s,m=0;m<8;m++){var _=this.sampleCurveX(a)-s;if(Math.abs(_)<i)return a;var E=this.sampleCurveDerivativeX(a);if(Math.abs(E)<1e-6)break;a-=_/E}var S=0,k=1;for(a=s,m=0;m<20&&(_=this.sampleCurveX(a),!(Math.abs(_-s)<i));m++)s>_?S=a:k=a,a=.5*(k-S)+S;return a},solve:function(s,i){return this.sampleCurveY(this.solveCurveX(s,i))}};var Je=le(it);let ot,Ye;function pt(){return null==ot&&(ot=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),ot}function Xt(){if(null==Ye&&(Ye=!1,pt())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let m=0;m<25;m++){const _=4*m;i.fillStyle=`rgb(${_},${_+1},${_+2})`,i.fillRect(m%5,Math.floor(m/5),1,1)}const a=i.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&a[m]!==m){Ye=!0;break}}}return Ye||!1}function Zt(s,i,a,m){const _=new Je(s,i,a,m);return function(E){return _.solve(E)}}const ri=Zt(.25,.1,.25,1);function ki(s,i,a){return Math.min(a,Math.max(i,s))}function Pi(s,i,a){const m=a-i,_=((s-i)%m+m)%m+i;return _===i?a:_}function jt(s,...i){for(const a of i)for(const m in a)s[m]=a[m];return s}let rt=1;function ht(s,i,a){const m={};for(const _ in s)m[_]=i.call(a||this,s[_],_,s);return m}function ei(s,i,a){const m={};for(const _ in s)i.call(a||this,s[_],_,s)&&(m[_]=s[_]);return m}function Nt(s){return Array.isArray(s)?s.map(Nt):"object"==typeof s&&s?ht(s,Nt):s}const Dt={};function _t(s){Dt[s]||(typeof console<"u"&&console.warn(s),Dt[s]=!0)}function Qt(s,i,a){return(a.y-s.y)*(i.x-s.x)>(i.y-s.y)*(a.x-s.x)}function Ri(s){let i=0;for(let a,m,_=0,E=s.length,S=E-1;_<E;S=_++)a=s[_],m=s[S],i+=(m.x-a.x)*(a.y+m.y);return i}function Fi(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let En=null;function Fn(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}const Li="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Bn(s,i,a,m,_){return Ve(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(s,{timestamp:0});try{const S=E?.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const k=S.startsWith("BGR"),N=new Uint8ClampedArray(m*_*4);if(yield E.copyTo(N,function(j,X,re,he,xe){const Ee=4*Math.max(-X,0),Re=(Math.max(0,re)-re)*he*4+Ee,Ge=4*he,tt=Math.max(0,X),Ct=Math.max(0,re);return{rect:{x:tt,y:Ct,width:Math.min(j.width,X+he)-tt,height:Math.min(j.height,re+xe)-Ct},layout:[{offset:Re,stride:Ge}]}}(s,i,a,m,_)),k)for(let j=0;j<N.length;j+=4){const X=N[j];N[j]=N[j+2],N[j+2]=X}return N}finally{E.close()}})}let _i,Xe,Ke,Ot;const Lt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(s){const i=requestAnimationFrame(s);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(s,i=0){return this.getImageCanvasContext(s).getImageData(-i,-i,s.width+2*i,s.height+2*i)},getImageCanvasContext(s){const i=window.document.createElement("canvas"),a=i.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return i.width=s.width,i.height=s.height,a.drawImage(s,0,0,s.width,s.height),a},resolveURL:s=>(Ke||(Ke=document.createElement("a")),Ke.href=s,Ke.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Ot&&(Ot=matchMedia("(prefers-reduced-motion: reduce)")),Ot.matches)}},ai={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class At extends Error{constructor(i,a,m,_){super(`AJAXError: ${a} (${i}): ${m}`),this.status=i,this.statusText=a,this.url=m,this.body=_}}const Ei=Fi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,ft=s=>ai.REGISTERED_PROTOCOLS[s.substring(0,s.indexOf("://"))];function vt(s,i){const a=new AbortController,m=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,cache:s.cache,referrer:Ei(),signal:a.signal});let _=!1,E=!1;return"json"===s.type&&m.headers.set("Accept","application/json"),E||fetch(m).then(S=>{return S.ok?(k=S,void("arrayBuffer"===s.type||"image"===s.type?k.arrayBuffer():"json"===s.type?k.json():k.text()).then(N=>{E||(_=!0,i(null,N,k.headers.get("Cache-Control"),k.headers.get("Expires")))}).catch(N=>{E||i(new Error(N.message))})):S.blob().then(k=>i(new At(S.status,S.statusText,s.url,k)));var k}).catch(S=>{20!==S.code&&i(new Error(S.message))}),{cancel:()=>{E=!0,_||a.abort()}}}const kt=function(s,i){if(/:\/\//.test(s.url)&&!/^https?:|^file:/.test(s.url)){if(Fi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,i);if(!Fi())return(ft(s.url)||vt)(s,i)}if(!(/^file:/.test(a=s.url)||/^file:/.test(Ei())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return vt(s,i);if(Fi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,i,void 0,!0)}var a;return function(m,_){const E=new XMLHttpRequest;E.open(m.method||"GET",m.url,!0),"arrayBuffer"!==m.type&&"image"!==m.type||(E.responseType="arraybuffer");for(const S in m.headers)E.setRequestHeader(S,m.headers[S]);return"json"===m.type&&(E.responseType="text",E.setRequestHeader("Accept","application/json")),E.withCredentials="include"===m.credentials,E.onerror=()=>{_(new Error(E.statusText))},E.onload=()=>{if((E.status>=200&&E.status<300||0===E.status)&&null!==E.response){let S=E.response;if("json"===m.type)try{S=JSON.parse(E.response)}catch(k){return _(k)}_(null,S,E.getResponseHeader("Cache-Control"),E.getResponseHeader("Expires"))}else{const S=new Blob([E.response],{type:E.getResponseHeader("Content-Type")});_(new At(E.status,E.statusText,m.url,S))}},E.send(m.body),{cancel:()=>E.abort()}}(s,i)},hi=function(s,i){return kt(jt(s,{type:"arrayBuffer"}),i)};function yi(s){if(!s||s.indexOf("://")<=0||0===s.indexOf("data:image/")||0===s.indexOf("blob:"))return!0;const i=new URL(s),a=window.location;return i.protocol===a.protocol&&i.host===a.host}function si(s,i,a){a[s]&&-1!==a[s].indexOf(i)||(a[s]=a[s]||[],a[s].push(i))}function Qi(s,i,a){if(a&&a[s]){const m=a[s].indexOf(i);-1!==m&&a[s].splice(m,1)}}class lt{constructor(i,a={}){jt(this,a),this.type=i}}class Vt extends lt{constructor(i,a={}){super("error",jt({error:i},a))}}class li{on(i,a){return this._listeners=this._listeners||{},si(i,a,this._listeners),this}off(i,a){return Qi(i,a,this._listeners),Qi(i,a,this._oneTimeListeners),this}once(i,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},si(i,a,this._oneTimeListeners),this):new Promise(m=>this.once(i,m))}fire(i,a){"string"==typeof i&&(i=new lt(i,a||{}));const m=i.type;if(this.listens(m)){i.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const k of _)k.call(this,i);const E=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const k of E)Qi(m,k,this._oneTimeListeners),k.call(this,i);const S=this._eventedParent;S&&(jt(i,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),S.fire(i))}else i instanceof Vt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,a){return this._eventedParent=i,this._eventedParentData=a,this}}var xt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const pn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Mn(s,i){const a={};for(const m in s)"ref"!==m&&(a[m]=s[m]);return pn.forEach(m=>{m in i&&(a[m]=i[m])}),a}function rn(s,i){if(Array.isArray(s)){if(!Array.isArray(i)||s.length!==i.length)return!1;for(let a=0;a<s.length;a++)if(!rn(s[a],i[a]))return!1;return!0}if("object"==typeof s&&null!==s&&null!==i){if("object"!=typeof i||Object.keys(s).length!==Object.keys(i).length)return!1;for(const a in s)if(!rn(s[a],i[a]))return!1;return!0}return s===i}const Ii={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function On(s,i,a){a.push({command:Ii.addSource,args:[s,i[s]]})}function Ut(s,i,a){i.push({command:Ii.removeSource,args:[s]}),a[s]=!0}function Ce(s,i,a,m){Ut(s,a,m),On(s,i,a)}function Ne(s,i,a){let m;for(m in s[a])if(Object.prototype.hasOwnProperty.call(s[a],m)&&"data"!==m&&!rn(s[a][m],i[a][m]))return!1;for(m in i[a])if(Object.prototype.hasOwnProperty.call(i[a],m)&&"data"!==m&&!rn(s[a][m],i[a][m]))return!1;return!0}function Le(s,i,a,m,_,E){let S;for(S in i=i||{},s=s||{})Object.prototype.hasOwnProperty.call(s,S)&&(rn(s[S],i[S])||a.push({command:E,args:[m,S,i[S],_]}));for(S in i)Object.prototype.hasOwnProperty.call(i,S)&&!Object.prototype.hasOwnProperty.call(s,S)&&(rn(s[S],i[S])||a.push({command:E,args:[m,S,i[S],_]}))}function $e(s){return s.id}function pe(s,i){return s[i.id]=i,s}class Me{constructor(i,a,m,_){this.message=(i?`${i}: `:"")+m,_&&(this.identifier=_),null!=a&&a.__line__&&(this.line=a.__line__)}}function Ft(s,...i){for(const a of i)for(const m in a)s[m]=a[m];return s}class Wt extends Error{constructor(i,a){super(a),this.message=a,this.key=i}}class ci{constructor(i,a=[]){this.parent=i,this.bindings={};for(const[m,_]of a)this.bindings[m]=_}concat(i){return new ci(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const $t={kind:"null"},St={kind:"number"},wi={kind:"string"},Ci={kind:"boolean"},dn={kind:"color"},Dn={kind:"object"},Tt={kind:"value"},Zi={kind:"collator"},de={kind:"formatted"},q={kind:"padding"},Q={kind:"resolvedImage"},ve={kind:"variableAnchorOffsetCollection"};function Oe(s,i){return{kind:"array",itemType:s,N:i}}function ye(s){if("array"===s.kind){const i=ye(s.itemType);return"number"==typeof s.N?`array<${i}, ${s.N}>`:"value"===s.itemType.kind?"array":`array<${i}>`}return s.kind}const De=[$t,St,wi,Ci,dn,de,Dn,Oe(Tt),q,Q,ve];function G(s,i){if("error"===i.kind)return null;if("array"===s.kind){if("array"===i.kind&&(0===i.N&&"value"===i.itemType.kind||!G(s.itemType,i.itemType))&&("number"!=typeof s.N||s.N===i.N))return null}else{if(s.kind===i.kind)return null;if("value"===s.kind)for(const a of De)if(!G(a,i))return null}return`Expected ${ye(s)} but found ${ye(i)} instead.`}function Y(s,i){return i.some(a=>a.kind===s.kind)}function K(s,i){return i.some(a=>"null"===a?null===s:"array"===a?Array.isArray(s):"object"===a?s&&!Array.isArray(s)&&"object"==typeof s:a===typeof s)}function we(s,i){return"array"===s.kind&&"array"===i.kind?s.itemType.kind===i.itemType.kind&&"number"==typeof s.N:s.kind===i.kind}const Be=4/29,Ue=6/29,_e=3*Ue*Ue,Ae=Ue*Ue*Ue,ct=Math.PI/180,Ht=180/Math.PI;function fi(s){return(s%=360)<0&&(s+=360),s}function Ui([s,i,a,m]){let _,E;const S=wn((.2225045*(s=Yi(s))+.7168786*(i=Yi(i))+.0606169*(a=Yi(a)))/1);s===i&&i===a?_=E=S:(_=wn((.4360747*s+.3850649*i+.1430804*a)/.96422),E=wn((.0139322*s+.0971045*i+.7141733*a)/.82521));const k=116*S-16;return[k<0?0:k,500*(_-S),200*(S-E),m]}function Yi(s){return s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function wn(s){return s>Ae?Math.pow(s,1/3):s/_e+Be}function Si([s,i,a,m]){let _=(s+16)/116,E=isNaN(i)?_:_+i/500,S=isNaN(a)?_:_-a/200;return _=1*Nr(_),E=.96422*Nr(E),S=.82521*Nr(S),[hr(3.1338561*E-1.6168667*_-.4906146*S),hr(-.9787684*E+1.9161415*_+.033454*S),hr(.0719453*E-.2289914*_+1.4052427*S),m]}function hr(s){return(s=s<=.00304?12.92*s:1.055*Math.pow(s,1/2.4)-.055)<0?0:s>1?1:s}function Nr(s){return s>Ue?s*s*s:_e*(s-Be)}function uo(s){return parseInt(s.padEnd(2,s),16)/255}function Ea(s,i){return ir(i?s/100:s,0,1)}function ir(s,i,a){return Math.min(Math.max(i,s),a)}function ps(s){return!s.some(Number.isNaN)}const It={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class We{constructor(i,a,m,_=1,E=!0){this.r=i,this.g=a,this.b=m,this.a=_,E||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[i,a,m,_]))}static parse(i){if(i instanceof We)return i;if("string"!=typeof i)return;const a=function(m){if("transparent"===(m=m.toLowerCase().trim()))return[0,0,0,0];const _=It[m];if(_){const[S,k,N]=_;return[S/255,k/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const S=m.length<6?1:2;let k=1;return[uo(m.slice(k,k+=S)),uo(m.slice(k,k+=S)),uo(m.slice(k,k+=S)),uo(m.slice(k,k+S)||"ff")]}if(m.startsWith("rgb")){const S=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[k,N,j,X,re,he,xe,Ee,Re,Ge,tt,Ct]=S,mt=[X||" ",xe||" ",Ge].join("");if("  "===mt||"  /"===mt||",,"===mt||",,,"===mt){const Mt=[j,he,Re].join(""),Pt="%%%"===Mt?100:""===Mt?255:0;if(Pt){const ti=[ir(+N/Pt,0,1),ir(+re/Pt,0,1),ir(+Ee/Pt,0,1),tt?Ea(+tt,Ct):1];if(ps(ti))return ti}}return}}const E=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[S,k,N,j,X,re,he,xe,Ee]=E,Re=[N||" ",X||" ",he].join("");if("  "===Re||"  /"===Re||",,"===Re||",,,"===Re){const Ge=[+k,ir(+j,0,100),ir(+re,0,100),xe?Ea(+xe,Ee):1];if(ps(Ge))return function([tt,Ct,mt,Mt]){function Pt(ti){const Vi=(ti+tt/30)%12,nn=Ct*Math.min(mt,1-mt);return mt-nn*Math.max(-1,Math.min(Vi-3,9-Vi,1))}return tt=fi(tt),Ct/=100,mt/=100,[Pt(0),Pt(8),Pt(4),Mt]}(Ge)}}}(i);return a?new We(...a,!1):void 0}get rgb(){const{r:i,g:a,b:m,a:_}=this,E=_||1/0;return this.overwriteGetter("rgb",[i/E,a/E,m/E,_])}get hcl(){return this.overwriteGetter("hcl",function(i){const[a,m,_,E]=Ui(i),S=Math.sqrt(m*m+_*_);return[Math.round(1e4*S)?fi(Math.atan2(_,m)*Ht):NaN,S,a,E]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Ui(this.rgb))}overwriteGetter(i,a){return Object.defineProperty(this,i,{value:a}),a}toString(){const[i,a,m,_]=this.rgb;return`rgba(${[i,a,m].map(E=>Math.round(255*E)).join(",")},${_})`}}We.black=new We(0,0,0,1),We.white=new We(1,1,1,1),We.transparent=new We(0,0,0,0),We.red=new We(1,0,0,1);class dt{constructor(i,a,m){this.sensitivity=i?a?"variant":"case":a?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,a){return this.collator.compare(i,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Gt{constructor(i,a,m,_,E){this.text=i,this.image=a,this.scale=m,this.fontStack=_,this.textColor=E}}class Kt{constructor(i){this.sections=i}static fromString(i){return new Kt([new Gt(i,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(i=>0!==i.text.length||i.image&&0!==i.image.name.length)}static factory(i){return i instanceof Kt?i:Kt.fromString(i)}toString(){return 0===this.sections.length?"":this.sections.map(i=>i.text).join("")}}class ui{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ui)return i;if("number"==typeof i)return new ui([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const a of i)if("number"!=typeof a)return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ui(i)}}toString(){return JSON.stringify(this.values)}}const Di=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class hn{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof hn)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let a=0;a<i.length;a+=2){const m=i[a],_=i[a+1];if("string"!=typeof m||!Di.has(m)||!Array.isArray(_)||2!==_.length||"number"!=typeof _[0]||"number"!=typeof _[1])return}return new hn(i)}}toString(){return JSON.stringify(this.values)}}class ji{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new ji({name:i,available:!1}):null}}function ar(s,i,a,m){return"number"==typeof s&&s>=0&&s<=255&&"number"==typeof i&&i>=0&&i<=255&&"number"==typeof a&&a>=0&&a<=255?void 0===m||"number"==typeof m&&m>=0&&m<=1?null:`Invalid rgba value [${[s,i,a,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof m?[s,i,a,m]:[s,i,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Bi(s){if(null===s||"string"==typeof s||"boolean"==typeof s||"number"==typeof s||s instanceof We||s instanceof dt||s instanceof Kt||s instanceof ui||s instanceof hn||s instanceof ji)return!0;if(Array.isArray(s)){for(const i of s)if(!Bi(i))return!1;return!0}if("object"==typeof s){for(const i in s)if(!Bi(s[i]))return!1;return!0}return!1}function ln(s){if(null===s)return $t;if("string"==typeof s)return wi;if("boolean"==typeof s)return Ci;if("number"==typeof s)return St;if(s instanceof We)return dn;if(s instanceof dt)return Zi;if(s instanceof Kt)return de;if(s instanceof ui)return q;if(s instanceof hn)return ve;if(s instanceof ji)return Q;if(Array.isArray(s)){const i=s.length;let a;for(const m of s){const _=ln(m);if(a){if(a===_)continue;a=Tt;break}a=_}return Oe(a||Tt,i)}return Dn}function cn(s){const i=typeof s;return null===s?"":"string"===i||"number"===i||"boolean"===i?String(s):s instanceof We||s instanceof Kt||s instanceof ui||s instanceof hn||s instanceof ji?s.toString():JSON.stringify(s)}class Un{constructor(i,a){this.type=i,this.value=a}static parse(i,a){if(2!==i.length)return a.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Bi(i[1]))return a.error("invalid value");const m=i[1];let _=ln(m);const E=a.expectedType;return"array"!==_.kind||0!==_.N||!E||"array"!==E.kind||"number"==typeof E.N&&0!==E.N||(_=E),new Un(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class bn{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const Vn={string:wi,number:St,boolean:Ci,object:Dn};class Ji{constructor(i,a){this.type=i,this.args=a}static parse(i,a){if(i.length<2)return a.error("Expected at least one argument.");let m,_=1;const E=i[0];if("array"===E){let k,N;if(i.length>2){const j=i[1];if("string"!=typeof j||!(j in Vn)||"object"===j)return a.error('The item type argument of "array" must be one of string, number, boolean',1);k=Vn[j],_++}else k=Tt;if(i.length>3){if(null!==i[2]&&("number"!=typeof i[2]||i[2]<0||i[2]!==Math.floor(i[2])))return a.error('The length argument to "array" must be a positive integer literal',2);N=i[2],_++}m=Oe(k,N)}else{if(!Vn[E])throw new Error(`Types doesn't contain name = ${E}`);m=Vn[E]}const S=[];for(;_<i.length;_++){const k=a.parse(i[_],_,Tt);if(!k)return null;S.push(k)}return new Ji(m,S)}evaluate(i){for(let a=0;a<this.args.length;a++){const m=this.args[a].evaluate(i);if(!G(this.type,ln(m)))return m;if(a===this.args.length-1)throw new bn(`Expected value to be of type ${ye(this.type)}, but found ${ye(ln(m))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Vr={"to-boolean":Ci,"to-color":dn,"to-number":St,"to-string":wi};class Kr{constructor(i,a){this.type=i,this.args=a}static parse(i,a){if(i.length<2)return a.error("Expected at least one argument.");const m=i[0];if(!Vr[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if(("to-boolean"===m||"to-string"===m)&&2!==i.length)return a.error("Expected one argument.");const _=Vr[m],E=[];for(let S=1;S<i.length;S++){const k=a.parse(i[S],S,Tt);if(!k)return null;E.push(k)}return new Kr(_,E)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let a,m;for(const _ of this.args){if(a=_.evaluate(i),m=null,a instanceof We)return a;if("string"==typeof a){const E=i.parseColor(a);if(E)return E}else if(Array.isArray(a)&&(m=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:ar(a[0],a[1],a[2],a[3]),!m))return new We(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new bn(m||`Could not parse color from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"padding":{let a;for(const m of this.args){a=m.evaluate(i);const _=ui.parse(a);if(_)return _}throw new bn(`Could not parse padding from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"variableAnchorOffsetCollection":{let a;for(const m of this.args){a=m.evaluate(i);const _=hn.parse(a);if(_)return _}throw new bn(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"number":{let a=null;for(const m of this.args){if(a=m.evaluate(i),null===a)return 0;const _=Number(a);if(!isNaN(_))return _}throw new bn(`Could not convert ${JSON.stringify(a)} to number.`)}case"formatted":return Kt.fromString(cn(this.args[0].evaluate(i)));case"resolvedImage":return ji.fromString(cn(this.args[0].evaluate(i)));default:return cn(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const mn=["Unknown","Point","LineString","Polygon"];class No{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?mn[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let a=this._parseColorCache[i];return a||(a=this._parseColorCache[i]=We.parse(i)),a}}class Qo{constructor(i,a,m=[],_,E=new ci,S=[]){this.registry=i,this.path=m,this.key=m.map(k=>`[${k}]`).join(""),this.scope=E,this.errors=S,this.expectedType=_,this._isConstant=a}parse(i,a,m,_,E={}){return a?this.concat(a,m,_)._parse(i,E):this._parse(i,E)}_parse(i,a){function m(_,E,S){return"assert"===S?new Ji(E,[_]):"coerce"===S?new Kr(E,[_]):_}if(null!==i&&"string"!=typeof i&&"boolean"!=typeof i&&"number"!=typeof i||(i=["literal",i]),Array.isArray(i)){if(0===i.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=i[0];if("string"!=typeof _)return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[_];if(E){let S=E.parse(i,this);if(!S)return null;if(this.expectedType){const k=this.expectedType,N=S.type;if("string"!==k.kind&&"number"!==k.kind&&"boolean"!==k.kind&&"object"!==k.kind&&"array"!==k.kind||"value"!==N.kind)if("color"!==k.kind&&"formatted"!==k.kind&&"resolvedImage"!==k.kind||"value"!==N.kind&&"string"!==N.kind)if("padding"!==k.kind||"value"!==N.kind&&"number"!==N.kind&&"array"!==N.kind)if("variableAnchorOffsetCollection"!==k.kind||"value"!==N.kind&&"array"!==N.kind){if(this.checkSubtype(k,N))return null}else S=m(S,k,a.typeAnnotation||"coerce");else S=m(S,k,a.typeAnnotation||"coerce");else S=m(S,k,a.typeAnnotation||"coerce");else S=m(S,k,a.typeAnnotation||"assert")}if(!(S instanceof Un)&&"resolvedImage"!==S.type.kind&&this._isConstant(S)){const k=new No;try{S=new Un(S.type,S.evaluate(k))}catch(N){return this.error(N.message),null}}return S}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===i?"'undefined' value invalid. Use null instead.":"object"==typeof i?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,a,m){const _="number"==typeof i?this.path.concat(i):this.path,E=m?this.scope.concat(m):this.scope;return new Qo(this.registry,this._isConstant,_,a||null,E,this.errors)}error(i,...a){const m=`${this.key}${a.map(_=>`[${_}]`).join("")}`;this.errors.push(new Wt(m,i))}checkSubtype(i,a){const m=G(i,a);return m&&this.error(m),m}}class bo{constructor(i,a,m){this.type=Zi,this.locale=m,this.caseSensitive=i,this.diacriticSensitive=a}static parse(i,a){if(2!==i.length)return a.error("Expected one argument.");const m=i[1];if("object"!=typeof m||Array.isArray(m))return a.error("Collator options argument must be an object.");const _=a.parse(void 0!==m["case-sensitive"]&&m["case-sensitive"],1,Ci);if(!_)return null;const E=a.parse(void 0!==m["diacritic-sensitive"]&&m["diacritic-sensitive"],1,Ci);if(!E)return null;let S=null;return m.locale&&(S=a.parse(m.locale,1,wi),!S)?null:new bo(_,E,S)}evaluate(i){return new dt(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const ho=8192;function ha(s,i){s[0]=Math.min(s[0],i[0]),s[1]=Math.min(s[1],i[1]),s[2]=Math.max(s[2],i[0]),s[3]=Math.max(s[3],i[1])}function Rs(s,i){return!(s[0]<=i[0]||s[2]>=i[2]||s[1]<=i[1]||s[3]>=i[3])}function Zl(s,i){const a=(180+s[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,_=Math.pow(2,i.z);return[Math.round(a*_*ho),Math.round(m*_*ho)]}function zo(s,i,a){const m=s[0]-i[0],_=s[1]-i[1],E=s[0]-a[0],S=s[1]-a[1];return m*S-E*_==0&&m*E<=0&&_*S<=0}function Al(s,i){let a=!1;for(let S=0,k=i.length;S<k;S++){const N=i[S];for(let j=0,X=N.length;j<X-1;j++){if(zo(s,N[j],N[j+1]))return!1;(_=N[j])[1]>(m=s)[1]!=(E=N[j+1])[1]>m[1]&&m[0]<(E[0]-_[0])*(m[1]-_[1])/(E[1]-_[1])+_[0]&&(a=!a)}}var m,_,E;return a}function Ys(s,i){for(let a=0;a<i.length;a++)if(Al(s,i[a]))return!0;return!1}function $a(s,i,a,m){const _=m[0]-a[0],E=m[1]-a[1],S=(s[0]-a[0])*E-_*(s[1]-a[1]),k=(i[0]-a[0])*E-_*(i[1]-a[1]);return S>0&&k<0||S<0&&k>0}function Da(s,i,a){for(const j of a)for(let X=0;X<j.length-1;++X)if((k=[(S=j[X+1])[0]-(E=j[X])[0],S[1]-E[1]])[0]*(N=[(_=i)[0]-(m=s)[0],_[1]-m[1]])[1]-k[1]*N[0]!=0&&$a(m,_,E,S)&&$a(E,S,m,_))return!0;var m,_,E,S,k,N;return!1}function Sa(s,i){for(let a=0;a<s.length;++a)if(!Al(s[a],i))return!1;for(let a=0;a<s.length-1;++a)if(Da(s[a],s[a+1],i))return!1;return!0}function fs(s,i){for(let a=0;a<i.length;a++)if(Sa(s,i[a]))return!0;return!1}function Ma(s,i,a){const m=[];for(let _=0;_<s.length;_++){const E=[];for(let S=0;S<s[_].length;S++){const k=Zl(s[_][S],a);ha(i,k),E.push(k)}m.push(E)}return m}function Ga(s,i,a){const m=[];for(let _=0;_<s.length;_++){const E=Ma(s[_],i,a);m.push(E)}return m}function ma(s,i,a,m){if(s[0]<a[0]||s[0]>a[2]){const _=.5*m;let E=s[0]-a[0]>_?-m:a[0]-s[0]>_?m:0;0===E&&(E=s[0]-a[2]>_?-m:a[2]-s[0]>_?m:0),s[0]+=E}ha(i,s)}function io(s,i,a,m){const _=Math.pow(2,m.z)*ho,E=[m.x*ho,m.y*ho],S=[];for(const k of s)for(const N of k){const j=[N.x+E[0],N.y+E[1]];ma(j,i,a,_),S.push(j)}return S}function Bo(s,i,a,m){const _=Math.pow(2,m.z)*ho,E=[m.x*ho,m.y*ho],S=[];for(const N of s){const j=[];for(const X of N){const re=[X.x+E[0],X.y+E[1]];ha(i,re),j.push(re)}S.push(j)}if(i[2]-i[0]<=_/2){(k=i)[0]=k[1]=1/0,k[2]=k[3]=-1/0;for(const N of S)for(const j of N)ma(j,i,a,_)}var k;return S}class Fs{constructor(i,a){this.type=Ci,this.geojson=i,this.geometries=a}static parse(i,a){if(2!==i.length)return a.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Bi(i[1])){const m=i[1];if("FeatureCollection"===m.type)for(let _=0;_<m.features.length;++_){const E=m.features[_].geometry.type;if("Polygon"===E||"MultiPolygon"===E)return new Fs(m,m.features[_].geometry)}else if("Feature"===m.type){const _=m.geometry.type;if("Polygon"===_||"MultiPolygon"===_)return new Fs(m,m.geometry)}else if("Polygon"===m.type||"MultiPolygon"===m.type)return new Fs(m,m)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(null!=i.geometry()&&null!=i.canonicalID()){if("Point"===i.geometryType())return function(a,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],S=a.canonicalID();if("Polygon"===m.type){const k=Ma(m.coordinates,E,S),N=io(a.geometry(),_,E,S);if(!Rs(_,E))return!1;for(const j of N)if(!Al(j,k))return!1}if("MultiPolygon"===m.type){const k=Ga(m.coordinates,E,S),N=io(a.geometry(),_,E,S);if(!Rs(_,E))return!1;for(const j of N)if(!Ys(j,k))return!1}return!0}(i,this.geometries);if("LineString"===i.geometryType())return function(a,m){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],S=a.canonicalID();if("Polygon"===m.type){const k=Ma(m.coordinates,E,S),N=Bo(a.geometry(),_,E,S);if(!Rs(_,E))return!1;for(const j of N)if(!Sa(j,k))return!1}if("MultiPolygon"===m.type){const k=Ga(m.coordinates,E,S),N=Bo(a.geometry(),_,E,S);if(!Rs(_,E))return!1;for(const j of N)if(!fs(j,k))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Vo{constructor(i,a){this.type=a.type,this.name=i,this.boundExpression=a}static parse(i,a){if(2!==i.length||"string"!=typeof i[1])return a.error("'var' expression requires exactly one string literal argument.");const m=i[1];return a.scope.has(m)?new Vo(m,a.scope.get(m)):a.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class mo{constructor(i,a,m,_){this.name=i,this.type=a,this._evaluate=m,this.args=_}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,a){const m=i[0],_=mo.definitions[m];if(!_)return a.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(_)?_[0]:_.type,S=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,k=S.filter(([j])=>!Array.isArray(j)||j.length===i.length-1);let N=null;for(const[j,X]of k){N=new Qo(a.registry,yr,a.path,null,a.scope);const re=[];let he=!1;for(let xe=1;xe<i.length;xe++){const Ee=i[xe],Re=Array.isArray(j)?j[xe-1]:j.type,Ge=N.parse(Ee,1+re.length,Re);if(!Ge){he=!0;break}re.push(Ge)}if(!he)if(Array.isArray(j)&&j.length!==re.length)N.error(`Expected ${j.length} arguments, but found ${re.length} instead.`);else{for(let xe=0;xe<re.length;xe++){const Ee=Array.isArray(j)?j[xe]:j.type,Re=re[xe];N.concat(xe+1).checkSubtype(Ee,Re.type)}if(0===N.errors.length)return new mo(m,E,X,re)}}if(1===k.length)a.errors.push(...N.errors);else{const j=(k.length?k:S).map(([re])=>{return he=re,Array.isArray(he)?`(${he.map(ye).join(", ")})`:`(${ye(he.type)}...)`;var he}).join(" | "),X=[];for(let re=1;re<i.length;re++){const he=a.parse(i[re],1+X.length);if(!he)return null;X.push(ye(he.type))}a.error(`Expected arguments of type ${j}, but found (${X.join(", ")}) instead.`)}return null}static register(i,a){mo.definitions=a;for(const m in a)i[m]=mo}}function yr(s){if(s instanceof Vo)return yr(s.boundExpression);if(s instanceof mo&&"error"===s.name||s instanceof bo||s instanceof Fs)return!1;const i=s instanceof Kr||s instanceof Ji;let a=!0;return s.eachChild(m=>{a=i?a&&yr(m):a&&m instanceof Un}),!!a&&Ls(s)&&Jo(s,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ls(s){if(s instanceof mo&&("get"===s.name&&1===s.args.length||"feature-state"===s.name||"has"===s.name&&1===s.args.length||"properties"===s.name||"geometry-type"===s.name||"id"===s.name||/^filter-/.test(s.name))||s instanceof Fs)return!1;let i=!0;return s.eachChild(a=>{i&&!Ls(a)&&(i=!1)}),i}function jn(s){if(s instanceof mo&&"feature-state"===s.name)return!1;let i=!0;return s.eachChild(a=>{i&&!jn(a)&&(i=!1)}),i}function Jo(s,i){if(s instanceof mo&&i.indexOf(s.name)>=0)return!1;let a=!0;return s.eachChild(m=>{a&&!Jo(m,i)&&(a=!1)}),a}function es(s,i){const a=s.length-1;let m,_,E=0,S=a,k=0;for(;E<=S;)if(k=Math.floor((E+S)/2),m=s[k],_=s[k+1],m<=i){if(k===a||i<_)return k;E=k+1}else{if(!(m>i))throw new bn("Input is not a number.");S=k-1}return 0}class xo{constructor(i,a,m){this.type=i,this.input=a,this.labels=[],this.outputs=[];for(const[_,E]of m)this.labels.push(_),this.outputs.push(E)}static parse(i,a){if(i.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return a.error("Expected an even number of arguments.");const m=a.parse(i[1],1,St);if(!m)return null;const _=[];let E=null;a.expectedType&&"value"!==a.expectedType.kind&&(E=a.expectedType);for(let S=1;S<i.length;S+=2){const k=1===S?-1/0:i[S],N=i[S+1],j=S,X=S+1;if("number"!=typeof k)return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(_.length&&_[_.length-1][0]>=k)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);const re=a.parse(N,X,E);if(!re)return null;E=E||re.type,_.push([k,re])}return new xo(E,m,_)}evaluate(i){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(i);const _=this.input.evaluate(i);if(_<=a[0])return m[0].evaluate(i);const E=a.length;return _>=a[E-1]?m[E-1].evaluate(i):m[es(a,_)].evaluate(i)}eachChild(i){i(this.input);for(const a of this.outputs)i(a)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Pn(s,i,a){return s+a*(i-s)}function Ta(s,i,a){return s.map((m,_)=>Pn(m,i[_],a))}const Xr={number:Pn,color:function(s,i,a,m="rgb"){switch(m){case"rgb":{const[_,E,S,k]=Ta(s.rgb,i.rgb,a);return new We(_,E,S,k,!1)}case"hcl":{const[_,E,S,k]=s.hcl,[N,j,X,re]=i.hcl;let he,xe;if(isNaN(_)||isNaN(N))isNaN(_)?isNaN(N)?he=NaN:(he=N,1!==S&&0!==S||(xe=j)):(he=_,1!==X&&0!==X||(xe=E));else{let Ct=N-_;N>_&&Ct>180?Ct-=360:N<_&&_-N>180&&(Ct+=360),he=_+a*Ct}const[Ee,Re,Ge,tt]=function([Ct,mt,Mt,Pt]){return Ct=isNaN(Ct)?0:Ct*ct,Si([Mt,Math.cos(Ct)*mt,Math.sin(Ct)*mt,Pt])}([he,xe??Pn(E,j,a),Pn(S,X,a),Pn(k,re,a)]);return new We(Ee,Re,Ge,tt,!1)}case"lab":{const[_,E,S,k]=Si(Ta(s.lab,i.lab,a));return new We(_,E,S,k,!1)}}},array:Ta,padding:function(s,i,a){return new ui(Ta(s.values,i.values,a))},variableAnchorOffsetCollection:function(s,i,a){const m=s.values,_=i.values;if(m.length!==_.length)throw new bn(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${i.toString()}`);const E=[];for(let S=0;S<m.length;S+=2){if(m[S]!==_[S])throw new bn(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${m[S]}, to[${S}]: ${_[S]}`);E.push(m[S]);const[k,N]=m[S+1],[j,X]=_[S+1];E.push([Pn(k,j,a),Pn(N,X,a)])}return new hn(E)}};class vr{constructor(i,a,m,_,E){this.type=i,this.operator=a,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[S,k]of E)this.labels.push(S),this.outputs.push(k)}static interpolationFactor(i,a,m,_){let E=0;if("exponential"===i.name)E=gs(a,i.base,m,_);else if("linear"===i.name)E=gs(a,1,m,_);else if("cubic-bezier"===i.name){const S=i.controlPoints;E=new Je(S[0],S[1],S[2],S[3]).solve(gs(a,1,m,_))}return E}static parse(i,a){let[m,_,E,...S]=i;if(!Array.isArray(_)||0===_.length)return a.error("Expected an interpolation type expression.",1);if("linear"===_[0])_={name:"linear"};else if("exponential"===_[0]){const j=_[1];if("number"!=typeof j)return a.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:j}}else{if("cubic-bezier"!==_[0])return a.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const j=_.slice(1);if(4!==j.length||j.some(X=>"number"!=typeof X||X<0||X>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:j}}}if(i.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(E=a.parse(E,2,St),!E)return null;const k=[];let N=null;"interpolate-hcl"===m||"interpolate-lab"===m?N=dn:a.expectedType&&"value"!==a.expectedType.kind&&(N=a.expectedType);for(let j=0;j<S.length;j+=2){const X=S[j],re=S[j+1],he=j+3,xe=j+4;if("number"!=typeof X)return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',he);if(k.length&&k[k.length-1][0]>=X)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',he);const Ee=a.parse(re,xe,N);if(!Ee)return null;N=N||Ee.type,k.push([X,Ee])}return we(N,St)||we(N,dn)||we(N,q)||we(N,ve)||we(N,Oe(St))?new vr(N,m,_,E,k):a.error(`Type ${ye(N)} is not interpolatable.`)}evaluate(i){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(i);const _=this.input.evaluate(i);if(_<=a[0])return m[0].evaluate(i);const E=a.length;if(_>=a[E-1])return m[E-1].evaluate(i);const S=es(a,_),k=vr.interpolationFactor(this.interpolation,_,a[S],a[S+1]),N=m[S].evaluate(i),j=m[S+1].evaluate(i);switch(this.operator){case"interpolate":return Xr[this.type.kind](N,j,k);case"interpolate-hcl":return Xr.color(N,j,k,"hcl");case"interpolate-lab":return Xr.color(N,j,k,"lab")}}eachChild(i){i(this.input);for(const a of this.outputs)i(a)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function gs(s,i,a,m){const _=m-a,E=s-a;return 0===_?0:1===i?E/_:(Math.pow(i,E)-1)/(Math.pow(i,_)-1)}class Io{constructor(i,a){this.type=i,this.args=a}static parse(i,a){if(i.length<2)return a.error("Expectected at least one argument.");let m=null;const _=a.expectedType;_&&"value"!==_.kind&&(m=_);const E=[];for(const k of i.slice(1)){const N=a.parse(k,1+E.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,E.push(N)}if(!m)throw new Error("No output type");const S=_&&E.some(k=>G(_,k.type));return new Io(S?Tt:m,E)}evaluate(i){let a,m=null,_=0;for(const E of this.args)if(_++,m=E.evaluate(i),m&&m instanceof ji&&!m.available&&(a||(a=m.name),m=null,_===this.args.length&&(m=a)),null!==m)break;return m}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class Ao{constructor(i,a){this.type=a.type,this.bindings=[].concat(i),this.result=a}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const a of this.bindings)i(a[1]);i(this.result)}static parse(i,a){if(i.length<4)return a.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const m=[];for(let E=1;E<i.length-1;E+=2){const S=i[E];if("string"!=typeof S)return a.error(`Expected string, but found ${typeof S} instead.`,E);if(/[^a-zA-Z0-9_]/.test(S))return a.error("Variable names must contain only alphanumeric characters or '_'.",E);const k=a.parse(i[E+1],E+1);if(!k)return null;m.push([S,k])}const _=a.parse(i[i.length-1],i.length-1,a.expectedType,m);return _?new Ao(m,_):null}outputDefined(){return this.result.outputDefined()}}class $n{constructor(i,a,m){this.type=i,this.index=a,this.input=m}static parse(i,a){if(3!==i.length)return a.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const m=a.parse(i[1],1,St),_=a.parse(i[2],2,Oe(a.expectedType||Tt));return m&&_?new $n(_.type.itemType,m,_):null}evaluate(i){const a=this.index.evaluate(i),m=this.input.evaluate(i);if(a<0)throw new bn(`Array index out of bounds: ${a} < 0.`);if(a>=m.length)throw new bn(`Array index out of bounds: ${a} > ${m.length-1}.`);if(a!==Math.floor(a))throw new bn(`Array index must be an integer, but found ${a} instead.`);return m[a]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class Ns{constructor(i,a){this.type=Ci,this.needle=i,this.haystack=a}static parse(i,a){if(3!==i.length)return a.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const m=a.parse(i[1],1,Tt),_=a.parse(i[2],2,Tt);return m&&_?Y(m.type,[Ci,wi,St,$t,Tt])?new Ns(m,_):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ye(m.type)} instead`):null}evaluate(i){const a=this.needle.evaluate(i),m=this.haystack.evaluate(i);if(!m)return!1;if(!K(a,["boolean","string","number","null"]))throw new bn(`Expected first argument to be of type boolean, string, number or null, but found ${ye(ln(a))} instead.`);if(!K(m,["string","array"]))throw new bn(`Expected second argument to be of type array or string, but found ${ye(ln(m))} instead.`);return m.indexOf(a)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class po{constructor(i,a,m){this.type=St,this.needle=i,this.haystack=a,this.fromIndex=m}static parse(i,a){if(i.length<=2||i.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const m=a.parse(i[1],1,Tt),_=a.parse(i[2],2,Tt);if(!m||!_)return null;if(!Y(m.type,[Ci,wi,St,$t,Tt]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ye(m.type)} instead`);if(4===i.length){const E=a.parse(i[3],3,St);return E?new po(m,_,E):null}return new po(m,_)}evaluate(i){const a=this.needle.evaluate(i),m=this.haystack.evaluate(i);if(!K(a,["boolean","string","number","null"]))throw new bn(`Expected first argument to be of type boolean, string, number or null, but found ${ye(ln(a))} instead.`);if(!K(m,["string","array"]))throw new bn(`Expected second argument to be of type array or string, but found ${ye(ln(m))} instead.`);if(this.fromIndex){const _=this.fromIndex.evaluate(i);return m.indexOf(a,_)}return m.indexOf(a)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class Ks{constructor(i,a,m,_,E,S){this.inputType=i,this.type=a,this.input=m,this.cases=_,this.outputs=E,this.otherwise=S}static parse(i,a){if(i.length<5)return a.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return a.error("Expected an even number of arguments.");let m,_;a.expectedType&&"value"!==a.expectedType.kind&&(_=a.expectedType);const E={},S=[];for(let j=2;j<i.length-1;j+=2){let X=i[j];const re=i[j+1];Array.isArray(X)||(X=[X]);const he=a.concat(j);if(0===X.length)return he.error("Expected at least one branch label.");for(const Ee of X){if("number"!=typeof Ee&&"string"!=typeof Ee)return he.error("Branch labels must be numbers or strings.");if("number"==typeof Ee&&Math.abs(Ee)>Number.MAX_SAFE_INTEGER)return he.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Ee&&Math.floor(Ee)!==Ee)return he.error("Numeric branch labels must be integer values.");if(m){if(he.checkSubtype(m,ln(Ee)))return null}else m=ln(Ee);if(void 0!==E[String(Ee)])return he.error("Branch labels must be unique.");E[String(Ee)]=S.length}const xe=a.parse(re,j,_);if(!xe)return null;_=_||xe.type,S.push(xe)}const k=a.parse(i[1],1,Tt);if(!k)return null;const N=a.parse(i[i.length-1],i.length-1,_);return N?"value"!==k.type.kind&&a.concat(1).checkSubtype(m,k.type)?null:new Ks(m,_,k,E,S,N):null}evaluate(i){const a=this.input.evaluate(i);return(ln(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class _s{constructor(i,a,m){this.type=i,this.branches=a,this.otherwise=m}static parse(i,a){if(i.length<4)return a.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return a.error("Expected an odd number of arguments.");let m;a.expectedType&&"value"!==a.expectedType.kind&&(m=a.expectedType);const _=[];for(let S=1;S<i.length-1;S+=2){const k=a.parse(i[S],S,Ci);if(!k)return null;const N=a.parse(i[S+1],S+1,m);if(!N)return null;_.push([k,N]),m=m||N.type}const E=a.parse(i[i.length-1],i.length-1,m);if(!E)return null;if(!m)throw new Error("Can't infer output type");return new _s(m,_,E)}evaluate(i){for(const[a,m]of this.branches)if(a.evaluate(i))return m.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[a,m]of this.branches)i(a),i(m);i(this.otherwise)}outputDefined(){return this.branches.every(([i,a])=>a.outputDefined())&&this.otherwise.outputDefined()}}class Uo{constructor(i,a,m,_){this.type=i,this.input=a,this.beginIndex=m,this.endIndex=_}static parse(i,a){if(i.length<=2||i.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const m=a.parse(i[1],1,Tt),_=a.parse(i[2],2,St);if(!m||!_)return null;if(!Y(m.type,[Oe(Tt),wi,Tt]))return a.error(`Expected first argument to be of type array or string, but found ${ye(m.type)} instead`);if(4===i.length){const E=a.parse(i[3],3,St);return E?new Uo(m.type,m,_,E):null}return new Uo(m.type,m,_)}evaluate(i){const a=this.input.evaluate(i),m=this.beginIndex.evaluate(i);if(!K(a,["string","array"]))throw new bn(`Expected first argument to be of type array or string, but found ${ye(ln(a))} instead.`);if(this.endIndex){const _=this.endIndex.evaluate(i);return a.slice(m,_)}return a.slice(m)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function Za(s,i){return"=="===s||"!="===s?"boolean"===i.kind||"string"===i.kind||"number"===i.kind||"null"===i.kind||"value"===i.kind:"string"===i.kind||"number"===i.kind||"value"===i.kind}function Xs(s,i,a,m){return 0===m.compare(i,a)}function Qs(s,i,a){const m="=="!==s&&"!="!==s;return class US{constructor(E,S,k){this.type=Ci,this.lhs=E,this.rhs=S,this.collator=k,this.hasUntypedArgument="value"===E.type.kind||"value"===S.type.kind}static parse(E,S){if(3!==E.length&&4!==E.length)return S.error("Expected two or three arguments.");const k=E[0];let N=S.parse(E[1],1,Tt);if(!N)return null;if(!Za(k,N.type))return S.concat(1).error(`"${k}" comparisons are not supported for type '${ye(N.type)}'.`);let j=S.parse(E[2],2,Tt);if(!j)return null;if(!Za(k,j.type))return S.concat(2).error(`"${k}" comparisons are not supported for type '${ye(j.type)}'.`);if(N.type.kind!==j.type.kind&&"value"!==N.type.kind&&"value"!==j.type.kind)return S.error(`Cannot compare types '${ye(N.type)}' and '${ye(j.type)}'.`);m&&("value"===N.type.kind&&"value"!==j.type.kind?N=new Ji(j.type,[N]):"value"!==N.type.kind&&"value"===j.type.kind&&(j=new Ji(N.type,[j])));let X=null;if(4===E.length){if("string"!==N.type.kind&&"string"!==j.type.kind&&"value"!==N.type.kind&&"value"!==j.type.kind)return S.error("Cannot use collator to compare non-string types.");if(X=S.parse(E[3],3,Zi),!X)return null}return new US(N,j,X)}evaluate(E){const S=this.lhs.evaluate(E),k=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){const N=ln(S),j=ln(k);if(N.kind!==j.kind||"string"!==N.kind&&"number"!==N.kind)throw new bn(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${N.kind}, ${j.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=ln(S),j=ln(k);if("string"!==N.kind||"string"!==j.kind)return i(E,S,k)}return this.collator?a(E,S,k,this.collator.evaluate(E)):i(E,S,k)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const kl=Qs("==",function(s,i,a){return i===a},Xs),_c=Qs("!=",function(s,i,a){return i!==a},function(s,i,a,m){return!Xs(0,i,a,m)}),ul=Qs("<",function(s,i,a){return i<a},function(s,i,a,m){return m.compare(i,a)<0}),ys=Qs(">",function(s,i,a){return i>a},function(s,i,a,m){return m.compare(i,a)>0}),Uc=Qs("<=",function(s,i,a){return i<=a},function(s,i,a,m){return m.compare(i,a)<=0}),hl=Qs(">=",function(s,i,a){return i>=a},function(s,i,a,m){return m.compare(i,a)>=0});class Wa{constructor(i,a,m,_,E){this.type=wi,this.number=i,this.locale=a,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=E}static parse(i,a){if(3!==i.length)return a.error("Expected two arguments.");const m=a.parse(i[1],1,St);if(!m)return null;const _=i[2];if("object"!=typeof _||Array.isArray(_))return a.error("NumberFormat options argument must be an object.");let E=null;if(_.locale&&(E=a.parse(_.locale,1,wi),!E))return null;let S=null;if(_.currency&&(S=a.parse(_.currency,1,wi),!S))return null;let k=null;if(_["min-fraction-digits"]&&(k=a.parse(_["min-fraction-digits"],1,St),!k))return null;let N=null;return _["max-fraction-digits"]&&(N=a.parse(_["max-fraction-digits"],1,St),!N)?null:new Wa(m,E,S,k,N)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class no{constructor(i){this.type=de,this.sections=i}static parse(i,a){if(i.length<2)return a.error("Expected at least one argument.");const m=i[1];if(!Array.isArray(m)&&"object"==typeof m)return a.error("First argument must be an image or text section.");const _=[];let E=!1;for(let S=1;S<=i.length-1;++S){const k=i[S];if(E&&"object"==typeof k&&!Array.isArray(k)){E=!1;let N=null;if(k["font-scale"]&&(N=a.parse(k["font-scale"],1,St),!N))return null;let j=null;if(k["text-font"]&&(j=a.parse(k["text-font"],1,Oe(wi)),!j))return null;let X=null;if(k["text-color"]&&(X=a.parse(k["text-color"],1,dn),!X))return null;const re=_[_.length-1];re.scale=N,re.font=j,re.textColor=X}else{const N=a.parse(i[S],1,Tt);if(!N)return null;const j=N.type.kind;if("string"!==j&&"value"!==j&&"null"!==j&&"resolvedImage"!==j)return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,_.push({content:N,scale:null,font:null,textColor:null})}}return new no(_)}evaluate(i){return new Kt(this.sections.map(a=>{const m=a.content.evaluate(i);return ln(m)===Q?new Gt("",m,null,null,null):new Gt(cn(m),null,a.scale?a.scale.evaluate(i):null,a.font?a.font.evaluate(i).join(","):null,a.textColor?a.textColor.evaluate(i):null)}))}eachChild(i){for(const a of this.sections)i(a.content),a.scale&&i(a.scale),a.font&&i(a.font),a.textColor&&i(a.textColor)}outputDefined(){return!1}}class Js{constructor(i){this.type=Q,this.input=i}static parse(i,a){if(2!==i.length)return a.error("Expected two arguments.");const m=a.parse(i[1],1,wi);return m?new Js(m):a.error("No image name provided.")}evaluate(i){const a=this.input.evaluate(i),m=ji.fromString(a);return m&&i.availableImages&&(m.available=i.availableImages.indexOf(a)>-1),m}eachChild(i){i(this.input)}outputDefined(){return!1}}class Ol{constructor(i){this.type=St,this.input=i}static parse(i,a){if(2!==i.length)return a.error(`Expected 1 argument, but found ${i.length-1} instead.`);const m=a.parse(i[1],1);return m?"array"!==m.type.kind&&"string"!==m.type.kind&&"value"!==m.type.kind?a.error(`Expected argument of type string or array, but found ${ye(m.type)} instead.`):new Ol(m):null}evaluate(i){const a=this.input.evaluate(i);if("string"==typeof a||Array.isArray(a))return a.length;throw new bn(`Expected value to be of type string or array, but found ${ye(ln(a))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const vs={"==":kl,"!=":_c,">":ys,"<":ul,">=":hl,"<=":Uc,array:Ji,at:$n,boolean:Ji,case:_s,coalesce:Io,collator:bo,format:no,image:Js,in:Ns,"index-of":po,interpolate:vr,"interpolate-hcl":vr,"interpolate-lab":vr,length:Ol,let:Ao,literal:Un,match:Ks,number:Ji,"number-format":Wa,object:Ji,slice:Uo,step:xo,string:Ji,"to-boolean":Kr,"to-color":Kr,"to-number":Kr,"to-string":Kr,var:Vo,within:Fs};function jo(s,[i,a,m,_]){i=i.evaluate(s),a=a.evaluate(s),m=m.evaluate(s);const E=_?_.evaluate(s):1,S=ar(i,a,m,E);if(S)throw new bn(S);return new We(i/255,a/255,m/255,E,!1)}function Ia(s,i){return s in i}function ea(s,i){const a=i[s];return void 0===a?null:a}function ts(s){return{type:s}}function yc(s){return{result:"success",value:s}}function pa(s){return{result:"error",value:s}}function zs(s){return"data-driven"===s["property-type"]||"cross-faded-data-driven"===s["property-type"]}function qa(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function Ya(s){return!!s.expression&&s.expression.interpolated}function Yn(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":null===s?"null":typeof s}function en(s){return"object"==typeof s&&null!==s&&!Array.isArray(s)}function zr(s){return s}function fn(s,i){const a="color"===i.type,m=s.stops&&"object"==typeof s.stops[0][0],_=m||!(m||void 0!==s.property),E=s.type||(Ya(i)?"exponential":"interval");if(a||"padding"===i.type){const X=a?We.parse:ui.parse;(s=Ft({},s)).stops&&(s.stops=s.stops.map(re=>[re[0],X(re[1])])),s.default=X(s.default?s.default:i.default)}if(s.colorSpace&&"rgb"!==(S=s.colorSpace)&&"hcl"!==S&&"lab"!==S)throw new Error(`Unknown color space: "${s.colorSpace}"`);var S;let k,N,j;if("exponential"===E)k=Ka;else if("interval"===E)k=cr;else if("categorical"===E){k=kn,N=Object.create(null);for(const X of s.stops)N[X[0]]=X[1];j=typeof s.stops[0][0]}else{if("identity"!==E)throw new Error(`Unknown function type "${E}"`);k=Pl}if(m){const X={},re=[];for(let Ee=0;Ee<s.stops.length;Ee++){const Re=s.stops[Ee],Ge=Re[0].zoom;void 0===X[Ge]&&(X[Ge]={zoom:Ge,type:s.type,property:s.property,default:s.default,stops:[]},re.push(Ge)),X[Ge].stops.push([Re[0].value,Re[1]])}const he=[];for(const Ee of re)he.push([X[Ee].zoom,fn(X[Ee],i)]);const xe={name:"linear"};return{kind:"composite",interpolationType:xe,interpolationFactor:vr.interpolationFactor.bind(void 0,xe),zoomStops:he.map(Ee=>Ee[0]),evaluate:({zoom:Ee},Re)=>Ka({stops:he,base:s.base},i,Ee).evaluate(Ee,Re)}}if(_){const X="exponential"===E?{name:"exponential",base:void 0!==s.base?s.base:1}:null;return{kind:"camera",interpolationType:X,interpolationFactor:vr.interpolationFactor.bind(void 0,X),zoomStops:s.stops.map(re=>re[0]),evaluate:({zoom:re})=>k(s,i,re,N,j)}}return{kind:"source",evaluate(X,re){const he=re&&re.properties?re.properties[s.property]:void 0;return void 0===he?wo(s.default,i.default):k(s,i,he,N,j)}}}function wo(s,i,a){return void 0!==s?s:void 0!==i?i:void 0!==a?a:void 0}function kn(s,i,a,m,_){return wo(typeof a===_?m[a]:void 0,s.default,i.default)}function cr(s,i,a){if("number"!==Yn(a))return wo(s.default,i.default);const m=s.stops.length;if(1===m||a<=s.stops[0][0])return s.stops[0][1];if(a>=s.stops[m-1][0])return s.stops[m-1][1];const _=es(s.stops.map(E=>E[0]),a);return s.stops[_][1]}function Ka(s,i,a){const m=void 0!==s.base?s.base:1;if("number"!==Yn(a))return wo(s.default,i.default);const _=s.stops.length;if(1===_||a<=s.stops[0][0])return s.stops[0][1];if(a>=s.stops[_-1][0])return s.stops[_-1][1];const E=es(s.stops.map(X=>X[0]),a),S=function(X,re,he,xe){const Ee=xe-he,Re=X-he;return 0===Ee?0:1===re?Re/Ee:(Math.pow(re,Re)-1)/(Math.pow(re,Ee)-1)}(a,m,s.stops[E][0],s.stops[E+1][0]),k=s.stops[E][1],N=s.stops[E+1][1],j=Xr[i.type]||zr;return"function"==typeof k.evaluate?{evaluate(...X){const re=k.evaluate.apply(void 0,X),he=N.evaluate.apply(void 0,X);if(void 0!==re&&void 0!==he)return j(re,he,S,s.colorSpace)}}:j(k,N,S,s.colorSpace)}function Pl(s,i,a){switch(i.type){case"color":a=We.parse(a);break;case"formatted":a=Kt.fromString(a.toString());break;case"resolvedImage":a=ji.fromString(a.toString());break;case"padding":a=ui.parse(a);break;default:Yn(a)===i.type||"enum"===i.type&&i.values[a]||(a=void 0)}return wo(a,s.default,i.default)}mo.register(vs,{error:[{kind:"error"},[wi],(s,[i])=>{throw new bn(i.evaluate(s))}],typeof:[wi,[Tt],(s,[i])=>ye(ln(i.evaluate(s)))],"to-rgba":[Oe(St,4),[dn],(s,[i])=>{const[a,m,_,E]=i.evaluate(s).rgb;return[255*a,255*m,255*_,E]}],rgb:[dn,[St,St,St],jo],rgba:[dn,[St,St,St,St],jo],has:{type:Ci,overloads:[[[wi],(s,[i])=>Ia(i.evaluate(s),s.properties())],[[wi,Dn],(s,[i,a])=>Ia(i.evaluate(s),a.evaluate(s))]]},get:{type:Tt,overloads:[[[wi],(s,[i])=>ea(i.evaluate(s),s.properties())],[[wi,Dn],(s,[i,a])=>ea(i.evaluate(s),a.evaluate(s))]]},"feature-state":[Tt,[wi],(s,[i])=>ea(i.evaluate(s),s.featureState||{})],properties:[Dn,[],s=>s.properties()],"geometry-type":[wi,[],s=>s.geometryType()],id:[Tt,[],s=>s.id()],zoom:[St,[],s=>s.globals.zoom],"heatmap-density":[St,[],s=>s.globals.heatmapDensity||0],"line-progress":[St,[],s=>s.globals.lineProgress||0],accumulated:[Tt,[],s=>void 0===s.globals.accumulated?null:s.globals.accumulated],"+":[St,ts(St),(s,i)=>{let a=0;for(const m of i)a+=m.evaluate(s);return a}],"*":[St,ts(St),(s,i)=>{let a=1;for(const m of i)a*=m.evaluate(s);return a}],"-":{type:St,overloads:[[[St,St],(s,[i,a])=>i.evaluate(s)-a.evaluate(s)],[[St],(s,[i])=>-i.evaluate(s)]]},"/":[St,[St,St],(s,[i,a])=>i.evaluate(s)/a.evaluate(s)],"%":[St,[St,St],(s,[i,a])=>i.evaluate(s)%a.evaluate(s)],ln2:[St,[],()=>Math.LN2],pi:[St,[],()=>Math.PI],e:[St,[],()=>Math.E],"^":[St,[St,St],(s,[i,a])=>Math.pow(i.evaluate(s),a.evaluate(s))],sqrt:[St,[St],(s,[i])=>Math.sqrt(i.evaluate(s))],log10:[St,[St],(s,[i])=>Math.log(i.evaluate(s))/Math.LN10],ln:[St,[St],(s,[i])=>Math.log(i.evaluate(s))],log2:[St,[St],(s,[i])=>Math.log(i.evaluate(s))/Math.LN2],sin:[St,[St],(s,[i])=>Math.sin(i.evaluate(s))],cos:[St,[St],(s,[i])=>Math.cos(i.evaluate(s))],tan:[St,[St],(s,[i])=>Math.tan(i.evaluate(s))],asin:[St,[St],(s,[i])=>Math.asin(i.evaluate(s))],acos:[St,[St],(s,[i])=>Math.acos(i.evaluate(s))],atan:[St,[St],(s,[i])=>Math.atan(i.evaluate(s))],min:[St,ts(St),(s,i)=>Math.min(...i.map(a=>a.evaluate(s)))],max:[St,ts(St),(s,i)=>Math.max(...i.map(a=>a.evaluate(s)))],abs:[St,[St],(s,[i])=>Math.abs(i.evaluate(s))],round:[St,[St],(s,[i])=>{const a=i.evaluate(s);return a<0?-Math.round(-a):Math.round(a)}],floor:[St,[St],(s,[i])=>Math.floor(i.evaluate(s))],ceil:[St,[St],(s,[i])=>Math.ceil(i.evaluate(s))],"filter-==":[Ci,[wi,Tt],(s,[i,a])=>s.properties()[i.value]===a.value],"filter-id-==":[Ci,[Tt],(s,[i])=>s.id()===i.value],"filter-type-==":[Ci,[wi],(s,[i])=>s.geometryType()===i.value],"filter-<":[Ci,[wi,Tt],(s,[i,a])=>{const m=s.properties()[i.value],_=a.value;return typeof m==typeof _&&m<_}],"filter-id-<":[Ci,[Tt],(s,[i])=>{const a=s.id(),m=i.value;return typeof a==typeof m&&a<m}],"filter->":[Ci,[wi,Tt],(s,[i,a])=>{const m=s.properties()[i.value],_=a.value;return typeof m==typeof _&&m>_}],"filter-id->":[Ci,[Tt],(s,[i])=>{const a=s.id(),m=i.value;return typeof a==typeof m&&a>m}],"filter-<=":[Ci,[wi,Tt],(s,[i,a])=>{const m=s.properties()[i.value],_=a.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[Ci,[Tt],(s,[i])=>{const a=s.id(),m=i.value;return typeof a==typeof m&&a<=m}],"filter->=":[Ci,[wi,Tt],(s,[i,a])=>{const m=s.properties()[i.value],_=a.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[Ci,[Tt],(s,[i])=>{const a=s.id(),m=i.value;return typeof a==typeof m&&a>=m}],"filter-has":[Ci,[Tt],(s,[i])=>i.value in s.properties()],"filter-has-id":[Ci,[],s=>null!==s.id()&&void 0!==s.id()],"filter-type-in":[Ci,[Oe(wi)],(s,[i])=>i.value.indexOf(s.geometryType())>=0],"filter-id-in":[Ci,[Oe(Tt)],(s,[i])=>i.value.indexOf(s.id())>=0],"filter-in-small":[Ci,[wi,Oe(Tt)],(s,[i,a])=>a.value.indexOf(s.properties()[i.value])>=0],"filter-in-large":[Ci,[wi,Oe(Tt)],(s,[i,a])=>function(m,_,E,S){for(;E<=S;){const k=E+S>>1;if(_[k]===m)return!0;_[k]>m?S=k-1:E=k+1}return!1}(s.properties()[i.value],a.value,0,a.value.length-1)],all:{type:Ci,overloads:[[[Ci,Ci],(s,[i,a])=>i.evaluate(s)&&a.evaluate(s)],[ts(Ci),(s,i)=>{for(const a of i)if(!a.evaluate(s))return!1;return!0}]]},any:{type:Ci,overloads:[[[Ci,Ci],(s,[i,a])=>i.evaluate(s)||a.evaluate(s)],[ts(Ci),(s,i)=>{for(const a of i)if(a.evaluate(s))return!0;return!1}]]},"!":[Ci,[Ci],(s,[i])=>!i.evaluate(s)],"is-supported-script":[Ci,[wi],(s,[i])=>{const a=s.globals&&s.globals.isSupportedScript;return!a||a(i.evaluate(s))}],upcase:[wi,[wi],(s,[i])=>i.evaluate(s).toUpperCase()],downcase:[wi,[wi],(s,[i])=>i.evaluate(s).toLowerCase()],concat:[wi,ts(Tt),(s,i)=>i.map(a=>cn(a.evaluate(s))).join("")],"resolved-locale":[wi,[Zi],(s,[i])=>i.evaluate(s).resolvedLocale()]});class ae{constructor(i,a){var m;this.expression=i,this._warningHistory={},this._evaluator=new No,this._defaultValue=a?"color"===(m=a).type&&en(m.default)?new We(0,0,0,0):"color"===m.type?We.parse(m.default)||null:"padding"===m.type?ui.parse(m.default)||null:"variableAnchorOffsetCollection"===m.type?hn.parse(m.default)||null:void 0===m.default?null:m.default:null,this._enumValues=a&&"enum"===a.type?a.values:null}evaluateWithoutErrorHandling(i,a,m,_,E,S){return this._evaluator.globals=i,this._evaluator.feature=a,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(i,a,m,_,E,S){this._evaluator.globals=i,this._evaluator.feature=a||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=S||null;try{const k=this.expression.evaluate(this._evaluator);if(null==k||"number"==typeof k&&k!=k)return this._defaultValue;if(this._enumValues&&!(k in this._enumValues))throw new bn(`Expected value to be one of ${Object.keys(this._enumValues).map(N=>JSON.stringify(N)).join(", ")}, but found ${JSON.stringify(k)} instead.`);return k}catch(k){return this._warningHistory[k.message]||(this._warningHistory[k.message]=!0,typeof console<"u"&&console.warn(k.message)),this._defaultValue}}}function oe(s){return Array.isArray(s)&&s.length>0&&"string"==typeof s[0]&&s[0]in vs}function H(s,i){const a=new Qo(vs,yr,[],i?function(_){const E={color:dn,string:wi,number:St,enum:wi,boolean:Ci,formatted:de,padding:q,resolvedImage:Q,variableAnchorOffsetCollection:ve};return"array"===_.type?Oe(E[_.value]||Tt,_.length):E[_.type]}(i):void 0),m=a.parse(s,void 0,void 0,void 0,i&&"string"===i.type?{typeAnnotation:"coerce"}:void 0);return m?yc(new ae(m,i)):pa(a.errors)}class ce{constructor(i,a){this.kind=i,this._styleExpression=a,this.isStateDependent="constant"!==i&&!jn(a.expression)}evaluateWithoutErrorHandling(i,a,m,_,E,S){return this._styleExpression.evaluateWithoutErrorHandling(i,a,m,_,E,S)}evaluate(i,a,m,_,E,S){return this._styleExpression.evaluate(i,a,m,_,E,S)}}class He{constructor(i,a,m,_){this.kind=i,this.zoomStops=m,this._styleExpression=a,this.isStateDependent="camera"!==i&&!jn(a.expression),this.interpolationType=_}evaluateWithoutErrorHandling(i,a,m,_,E,S){return this._styleExpression.evaluateWithoutErrorHandling(i,a,m,_,E,S)}evaluate(i,a,m,_,E,S){return this._styleExpression.evaluate(i,a,m,_,E,S)}interpolationFactor(i,a,m){return this.interpolationType?vr.interpolationFactor(this.interpolationType,i,a,m):0}}function mi(s,i){const a=H(s,i);if("error"===a.result)return a;const m=a.value.expression,_=Ls(m);if(!_&&!zs(i))return pa([new Wt("","data expressions not supported")]);const E=Jo(m,["zoom"]);if(!E&&!qa(i))return pa([new Wt("","zoom expressions not supported")]);const S=nr(m);return S||E?S instanceof Wt?pa([S]):S instanceof vr&&!Ya(i)?pa([new Wt("",'"interpolate" expressions cannot be used with this property')]):yc(S?new He(_?"camera":"composite",a.value,S.labels,S instanceof vr?S.interpolation:void 0):new ce(_?"constant":"source",a.value)):pa([new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class _n{constructor(i,a){this._parameters=i,this._specification=a,Ft(this,fn(this._parameters,this._specification))}static deserialize(i){return new _n(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function nr(s){let i=null;if(s instanceof Ao)i=nr(s.result);else if(s instanceof Io){for(const a of s.args)if(i=nr(a),i)break}else(s instanceof xo||s instanceof vr)&&s.input instanceof mo&&"zoom"===s.input.name&&(i=s);return i instanceof Wt||s.eachChild(a=>{const m=nr(a);m instanceof Wt?i=m:!i&&m?i=new Wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&m&&i!==m&&(i=new Wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function Pr(s){if(!0===s||!1===s)return!0;if(!Array.isArray(s)||0===s.length)return!1;switch(s[0]){case"has":return s.length>=2&&"$id"!==s[1]&&"$type"!==s[1];case"in":return s.length>=3&&("string"!=typeof s[1]||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==s.length||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const i of s.slice(1))if(!Pr(i)&&"boolean"!=typeof i)return!1;return!0;default:return!0}}const Aa={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function br(s){if(null==s)return{filter:()=>!0,needGeometry:!1};Pr(s)||(s=on(s));const i=H(s,Aa);if("error"===i.result)throw new Error(i.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,m,_)=>i.value.evaluate(a,m,{},_),needGeometry:ka(s)}}function is(s,i){return s<i?-1:s>i?1:0}function ka(s){if(!Array.isArray(s))return!1;if("within"===s[0])return!0;for(let i=1;i<s.length;i++)if(ka(s[i]))return!0;return!1}function on(s){if(!s)return!0;const i=s[0];return s.length<=1?"any"!==i:"=="===i?ko(s[1],s[2],"=="):"!="===i?Qn(ko(s[1],s[2],"==")):"<"===i||">"===i||"<="===i||">="===i?ko(s[1],s[2],i):"any"===i?(a=s.slice(1),["any"].concat(a.map(on))):"all"===i?["all"].concat(s.slice(1).map(on)):"none"===i?["all"].concat(s.slice(1).map(on).map(Qn)):"in"===i?ro(s[1],s.slice(2)):"!in"===i?Qn(ro(s[1],s.slice(2))):"has"===i?Xa(s[1]):"!has"===i?Qn(Xa(s[1])):"within"!==i||s;var a}function ko(s,i,a){switch(s){case"$type":return[`filter-type-${a}`,i];case"$id":return[`filter-id-${a}`,i];default:return[`filter-${a}`,s,i]}}function ro(s,i){if(0===i.length)return!1;switch(s){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(a=>typeof a!=typeof i[0])?["filter-in-large",s,["literal",i.sort(is)]]:["filter-in-small",s,["literal",i]]}}function Xa(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function Qn(s){return["!",s]}function ta(s){const i=typeof s;if("number"===i||"boolean"===i||"string"===i||null==s)return JSON.stringify(s);if(Array.isArray(s)){let _="[";for(const E of s)_+=`${ta(E)},`;return`${_}]`}const a=Object.keys(s).sort();let m="{";for(let _=0;_<a.length;_++)m+=`${JSON.stringify(a[_])}:${ta(s[a[_]])},`;return`${m}}`}function xr(s){let i="";for(const a of pn)i+=`/${ta(s[a])}`;return i}function Oo(s){const i=s.value;return i?[new Me(s.key,i,"constants have been deprecated as of v8")]:[]}function rr(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function bs(s){if(Array.isArray(s))return s.map(bs);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const i={};for(const a in s)i[a]=bs(s[a]);return i}return rr(s)}function Zn(s){const i=s.key,a=s.value,m=s.valueSpec||{},_=s.objectElementValidators||{},E=s.style,S=s.styleSpec,k=s.validateSpec;let N=[];const j=Yn(a);if("object"!==j)return[new Me(i,a,`object expected, ${j} found`)];for(const X in a){const re=X.split(".")[0],he=m[re]||m["*"];let xe;if(_[re])xe=_[re];else if(m[re])xe=k;else if(_["*"])xe=_["*"];else{if(!m["*"]){N.push(new Me(i,a[X],`unknown property "${X}"`));continue}xe=k}N=N.concat(xe({key:(i&&`${i}.`)+X,value:a[X],valueSpec:he,style:E,styleSpec:S,object:a,objectKey:X,validateSpec:k},a))}for(const X in m)_[X]||m[X].required&&void 0===m[X].default&&void 0===a[X]&&N.push(new Me(i,a,`missing required property "${X}"`));return N}function Ur(s){const i=s.value,a=s.valueSpec,m=s.style,_=s.styleSpec,E=s.key,S=s.arrayElementValidator||s.validateSpec;if("array"!==Yn(i))return[new Me(E,i,`array expected, ${Yn(i)} found`)];if(a.length&&i.length!==a.length)return[new Me(E,i,`array length ${a.length} expected, length ${i.length} found`)];if(a["min-length"]&&i.length<a["min-length"])return[new Me(E,i,`array length at least ${a["min-length"]} expected, length ${i.length} found`)];let k={type:a.value,values:a.values};_.$version<7&&(k.function=a.function),"object"===Yn(a.value)&&(k=a.value);let N=[];for(let j=0;j<i.length;j++)N=N.concat(S({array:i,arrayIndex:j,value:i[j],valueSpec:k,validateSpec:s.validateSpec,style:m,styleSpec:_,key:`${E}[${j}]`}));return N}function Dr(s){const i=s.key,a=s.value,m=s.valueSpec;let _=Yn(a);return"number"===_&&a!=a&&(_="NaN"),"number"!==_?[new Me(i,a,`number expected, ${_} found`)]:"minimum"in m&&a<m.minimum?[new Me(i,a,`${a} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&a>m.maximum?[new Me(i,a,`${a} is greater than the maximum value ${m.maximum}`)]:[]}function Sn(s){const i=s.valueSpec,a=rr(s.value.type);let m,_,E,S={};const k="categorical"!==a&&void 0===s.value.property,N=!k,j="array"===Yn(s.value.stops)&&"array"===Yn(s.value.stops[0])&&"object"===Yn(s.value.stops[0][0]),X=Zn({key:s.key,value:s.value,valueSpec:s.styleSpec.function,validateSpec:s.validateSpec,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(xe){if("identity"===a)return[new Me(xe.key,xe.value,'identity function may not have a "stops" property')];let Ee=[];const Re=xe.value;return Ee=Ee.concat(Ur({key:xe.key,value:Re,valueSpec:xe.valueSpec,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,arrayElementValidator:re})),"array"===Yn(Re)&&0===Re.length&&Ee.push(new Me(xe.key,Re,"array must have at least one stop")),Ee},default:function(xe){return xe.validateSpec({key:xe.key,value:xe.value,valueSpec:i,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec})}}});return"identity"===a&&k&&X.push(new Me(s.key,s.value,'missing required property "property"')),"identity"===a||s.value.stops||X.push(new Me(s.key,s.value,'missing required property "stops"')),"exponential"===a&&s.valueSpec.expression&&!Ya(s.valueSpec)&&X.push(new Me(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(N&&!zs(s.valueSpec)?X.push(new Me(s.key,s.value,"property functions not supported")):k&&!qa(s.valueSpec)&&X.push(new Me(s.key,s.value,"zoom functions not supported"))),"categorical"!==a&&!j||void 0!==s.value.property||X.push(new Me(s.key,s.value,'"property" property is required')),X;function re(xe){let Ee=[];const Re=xe.value,Ge=xe.key;if("array"!==Yn(Re))return[new Me(Ge,Re,`array expected, ${Yn(Re)} found`)];if(2!==Re.length)return[new Me(Ge,Re,`array length 2 expected, length ${Re.length} found`)];if(j){if("object"!==Yn(Re[0]))return[new Me(Ge,Re,`object expected, ${Yn(Re[0])} found`)];if(void 0===Re[0].zoom)return[new Me(Ge,Re,"object stop key must have zoom")];if(void 0===Re[0].value)return[new Me(Ge,Re,"object stop key must have value")];if(E&&E>rr(Re[0].zoom))return[new Me(Ge,Re[0].zoom,"stop zoom values must appear in ascending order")];rr(Re[0].zoom)!==E&&(E=rr(Re[0].zoom),_=void 0,S={}),Ee=Ee.concat(Zn({key:`${Ge}[0]`,value:Re[0],valueSpec:{zoom:{}},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,objectElementValidators:{zoom:Dr,value:he}}))}else Ee=Ee.concat(he({key:`${Ge}[0]`,value:Re[0],valueSpec:{},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec},Re));return oe(bs(Re[1]))?Ee.concat([new Me(`${Ge}[1]`,Re[1],"expressions are not allowed in function stops.")]):Ee.concat(xe.validateSpec({key:`${Ge}[1]`,value:Re[1],valueSpec:i,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec}))}function he(xe,Ee){const Re=Yn(xe.value),Ge=rr(xe.value),tt=null!==xe.value?xe.value:Ee;if(m){if(Re!==m)return[new Me(xe.key,tt,`${Re} stop domain type must match previous stop domain type ${m}`)]}else m=Re;if("number"!==Re&&"string"!==Re&&"boolean"!==Re)return[new Me(xe.key,tt,"stop domain value must be a number, string, or boolean")];if("number"!==Re&&"categorical"!==a){let Ct=`number expected, ${Re} found`;return zs(i)&&void 0===a&&(Ct+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Me(xe.key,tt,Ct)]}return"categorical"!==a||"number"!==Re||isFinite(Ge)&&Math.floor(Ge)===Ge?"categorical"!==a&&"number"===Re&&void 0!==_&&Ge<_?[new Me(xe.key,tt,"stop domain values must appear in ascending order")]:(_=Ge,"categorical"===a&&Ge in S?[new Me(xe.key,tt,"stop domain values must be unique")]:(S[Ge]=!0,[])):[new Me(xe.key,tt,`integer expected, found ${Ge}`)]}}function Qr(s){const i=("property"===s.expressionContext?mi:H)(bs(s.value),s.valueSpec);if("error"===i.result)return i.value.map(m=>new Me(`${s.key}${m.key}`,s.value,m.message));const a=i.value.expression||i.value._styleExpression.expression;if("property"===s.expressionContext&&"text-font"===s.propertyKey&&!a.outputDefined())return[new Me(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===s.expressionContext&&"layout"===s.propertyType&&!jn(a))return[new Me(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===s.expressionContext&&!jn(a))return[new Me(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&0===s.expressionContext.indexOf("cluster")){if(!Jo(a,["zoom","feature-state"]))return[new Me(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===s.expressionContext&&!Ls(a))return[new Me(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function mr(s){const i=s.key,a=s.value,m=s.valueSpec,_=[];return Array.isArray(m.values)?-1===m.values.indexOf(rr(a))&&_.push(new Me(i,a,`expected one of [${m.values.join(", ")}], ${JSON.stringify(a)} found`)):-1===Object.keys(m.values).indexOf(rr(a))&&_.push(new Me(i,a,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(a)} found`)),_}function Jr(s){return Pr(bs(s.value))?Qr(Ft({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ml(s)}function ml(s){const i=s.value,a=s.key;if("array"!==Yn(i))return[new Me(a,i,`array expected, ${Yn(i)} found`)];const m=s.styleSpec;let _,E=[];if(i.length<1)return[new Me(a,i,"filter array must have at least 1 element")];switch(E=E.concat(mr({key:`${a}[0]`,value:i[0],valueSpec:m.filter_operator,style:s.style,styleSpec:s.styleSpec})),rr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===rr(i[1])&&E.push(new Me(a,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":3!==i.length&&E.push(new Me(a,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(_=Yn(i[1]),"string"!==_&&E.push(new Me(`${a}[1]`,i[1],`string expected, ${_} found`)));for(let S=2;S<i.length;S++)_=Yn(i[S]),"$type"===rr(i[1])?E=E.concat(mr({key:`${a}[${S}]`,value:i[S],valueSpec:m.geometry_type,style:s.style,styleSpec:s.styleSpec})):"string"!==_&&"number"!==_&&"boolean"!==_&&E.push(new Me(`${a}[${S}]`,i[S],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let S=1;S<i.length;S++)E=E.concat(ml({key:`${a}[${S}]`,value:i[S],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":_=Yn(i[1]),2!==i.length?E.push(new Me(a,i,`filter array for "${i[0]}" operator must have 2 elements`)):"string"!==_&&E.push(new Me(`${a}[1]`,i[1],`string expected, ${_} found`));break;case"within":_=Yn(i[1]),2!==i.length?E.push(new Me(a,i,`filter array for "${i[0]}" operator must have 2 elements`)):"object"!==_&&E.push(new Me(`${a}[1]`,i[1],`object expected, ${_} found`))}return E}function Co(s,i){const a=s.key,m=s.validateSpec,_=s.style,E=s.styleSpec,S=s.value,k=s.objectKey,N=E[`${i}_${s.layerType}`];if(!N)return[];const j=k.match(/^(.*)-transition$/);if("paint"===i&&j&&N[j[1]]&&N[j[1]].transition)return m({key:a,value:S,valueSpec:E.transition,style:_,styleSpec:E});const X=s.valueSpec||N[k];if(!X)return[new Me(a,S,`unknown property "${k}"`)];let re;if("string"===Yn(S)&&zs(X)&&!X.tokens&&(re=/^{([^}]+)}$/.exec(S)))return[new Me(a,S,`"${k}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(re[1])} }\`.`)];const he=[];return"symbol"===s.layerType&&("text-field"===k&&_&&!_.glyphs&&he.push(new Me(a,S,'use of "text-field" requires a style "glyphs" property')),"text-font"===k&&en(bs(S))&&"identity"===rr(S.type)&&he.push(new Me(a,S,'"text-font" does not support identity functions'))),he.concat(m({key:s.key,value:S,valueSpec:X,style:_,styleSpec:E,expressionContext:"property",propertyType:i,propertyKey:k}))}function Or(s){return Co(s,"paint")}function pl(s){return Co(s,"layout")}function jr(s){let i=[];const a=s.value,m=s.key,_=s.style,E=s.styleSpec;a.type||a.ref||i.push(new Me(m,a,'either "type" or "ref" is required'));let S=rr(a.type);const k=rr(a.ref);if(a.id){const N=rr(a.id);for(let j=0;j<s.arrayIndex;j++){const X=_.layers[j];rr(X.id)===N&&i.push(new Me(m,a.id,`duplicate layer id "${a.id}", previously used at line ${X.id.__line__}`))}}if("ref"in a){let N;["type","source","source-layer","filter","layout"].forEach(j=>{j in a&&i.push(new Me(m,a[j],`"${j}" is prohibited for ref layers`))}),_.layers.forEach(j=>{rr(j.id)===k&&(N=j)}),N?N.ref?i.push(new Me(m,a.ref,"ref cannot reference another ref layer")):S=rr(N.type):i.push(new Me(m,a.ref,`ref layer "${k}" not found`))}else if("background"!==S)if(a.source){const N=_.sources&&_.sources[a.source],j=N&&rr(N.type);N?"vector"===j&&"raster"===S?i.push(new Me(m,a.source,`layer "${a.id}" requires a raster source`)):"raster-dem"!==j&&"hillshade"===S?i.push(new Me(m,a.source,`layer "${a.id}" requires a raster-dem source`)):"raster"===j&&"raster"!==S?i.push(new Me(m,a.source,`layer "${a.id}" requires a vector source`)):"vector"!==j||a["source-layer"]?"raster-dem"===j&&"hillshade"!==S?i.push(new Me(m,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==S||!a.paint||!a.paint["line-gradient"]||"geojson"===j&&N.lineMetrics||i.push(new Me(m,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Me(m,a,`layer "${a.id}" must specify a "source-layer"`)):i.push(new Me(m,a.source,`source "${a.source}" not found`))}else i.push(new Me(m,a,'missing required property "source"'));return i=i.concat(Zn({key:m,value:a,valueSpec:E.layer,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,objectElementValidators:{"*":()=>[],type:()=>s.validateSpec({key:`${m}.type`,value:a.type,valueSpec:E.layer.type,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,object:a,objectKey:"type"}),filter:Jr,layout:N=>Zn({layer:a,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":j=>pl(Ft({layerType:S},j))}}),paint:N=>Zn({layer:a,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":j=>Or(Ft({layerType:S},j))}})}})),i}function or(s){const i=s.value,a=s.key,m=Yn(i);return"string"!==m?[new Me(a,i,`string expected, ${m} found`)]:[]}const Mr={promoteId:function({key:s,value:i}){if("string"===Yn(i))return or({key:s,value:i});{const a=[];for(const m in i)a.push(...or({key:`${s}.${m}`,value:i[m]}));return a}}};function Zr(s){const i=s.value,a=s.key,m=s.styleSpec,_=s.style,E=s.validateSpec;if(!i.type)return[new Me(a,i,'"type" is required')];const S=rr(i.type);let k;switch(S){case"vector":case"raster":return k=Zn({key:a,value:i,valueSpec:m[`source_${S.replace("-","_")}`],style:s.style,styleSpec:m,objectElementValidators:Mr,validateSpec:E}),k;case"raster-dem":return k=function(N){var j;const X=null!==(j=N.sourceName)&&void 0!==j?j:"",re=N.value,he=N.styleSpec,xe=he.source_raster_dem,Ee=N.style;let Re=[];const Ge=Yn(re);if(void 0===re)return Re;if("object"!==Ge)return Re.push(new Me("source_raster_dem",re,`object expected, ${Ge} found`)),Re;const tt="custom"===rr(re.encoding),Ct=["redFactor","greenFactor","blueFactor","baseShift"],mt=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const Mt in re)!tt&&Ct.includes(Mt)?Re.push(new Me(Mt,re[Mt],`In "${X}": "${Mt}" is only valid when "encoding" is set to "custom". ${mt} encoding found`)):xe[Mt]?Re=Re.concat(N.validateSpec({key:Mt,value:re[Mt],valueSpec:xe[Mt],validateSpec:N.validateSpec,style:Ee,styleSpec:he})):Re.push(new Me(Mt,re[Mt],`unknown property "${Mt}"`));return Re}({sourceName:a,value:i,style:s.style,styleSpec:m,validateSpec:E}),k;case"geojson":if(k=Zn({key:a,value:i,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:E,objectElementValidators:Mr}),i.cluster)for(const N in i.clusterProperties){const[j,X]=i.clusterProperties[N],re="string"==typeof j?[j,["accumulated"],["get",N]]:j;k.push(...Qr({key:`${a}.${N}.map`,value:X,validateSpec:E,expressionContext:"cluster-map"})),k.push(...Qr({key:`${a}.${N}.reduce`,value:re,validateSpec:E,expressionContext:"cluster-reduce"}))}return k;case"video":return Zn({key:a,value:i,valueSpec:m.source_video,style:_,validateSpec:E,styleSpec:m});case"image":return Zn({key:a,value:i,valueSpec:m.source_image,style:_,validateSpec:E,styleSpec:m});case"canvas":return[new Me(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return mr({key:`${a}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:E,styleSpec:m})}}function Oa(s){const i=s.value,a=s.styleSpec,m=a.light,_=s.style;let E=[];const S=Yn(i);if(void 0===i)return E;if("object"!==S)return E=E.concat([new Me("light",i,`object expected, ${S} found`)]),E;for(const k in i){const N=k.match(/^(.*)-transition$/);E=E.concat(N&&m[N[1]]&&m[N[1]].transition?s.validateSpec({key:k,value:i[k],valueSpec:a.transition,validateSpec:s.validateSpec,style:_,styleSpec:a}):m[k]?s.validateSpec({key:k,value:i[k],valueSpec:m[k],validateSpec:s.validateSpec,style:_,styleSpec:a}):[new Me(k,i[k],`unknown property "${k}"`)])}return E}function Bs(s){const i=s.value,a=s.styleSpec,m=a.terrain,_=s.style;let E=[];const S=Yn(i);if(void 0===i)return E;if("object"!==S)return E=E.concat([new Me("terrain",i,`object expected, ${S} found`)]),E;for(const k in i)E=E.concat(m[k]?s.validateSpec({key:k,value:i[k],valueSpec:m[k],validateSpec:s.validateSpec,style:_,styleSpec:a}):[new Me(k,i[k],`unknown property "${k}"`)]);return E}function jc(s){let i=[];const a=s.value,m=s.key;if(Array.isArray(a)){const _=[],E=[];for(const S in a)a[S].id&&_.includes(a[S].id)&&i.push(new Me(m,a,`all the sprites' ids must be unique, but ${a[S].id} is duplicated`)),_.push(a[S].id),a[S].url&&E.includes(a[S].url)&&i.push(new Me(m,a,`all the sprites' URLs must be unique, but ${a[S].url} is duplicated`)),E.push(a[S].url),i=i.concat(Zn({key:`${m}[${S}]`,value:a[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:s.validateSpec}));return i}return or({key:m,value:a})}const dd={"*":()=>[],array:Ur,boolean:function(s){const i=s.value,a=s.key,m=Yn(i);return"boolean"!==m?[new Me(a,i,`boolean expected, ${m} found`)]:[]},number:Dr,color:function(s){const i=s.key,a=s.value,m=Yn(a);return"string"!==m?[new Me(i,a,`color expected, ${m} found`)]:We.parse(String(a))?[]:[new Me(i,a,`color expected, "${a}" found`)]},constants:Oo,enum:mr,filter:Jr,function:Sn,layer:jr,object:Zn,source:Zr,light:Oa,terrain:Bs,string:or,formatted:function(s){return 0===or(s).length?[]:Qr(s)},resolvedImage:function(s){return 0===or(s).length?[]:Qr(s)},padding:function(s){const i=s.key,a=s.value;if("array"===Yn(a)){if(a.length<1||a.length>4)return[new Me(i,a,`padding requires 1 to 4 values; ${a.length} values found`)];const m={type:"number"};let _=[];for(let E=0;E<a.length;E++)_=_.concat(s.validateSpec({key:`${i}[${E}]`,value:a[E],validateSpec:s.validateSpec,valueSpec:m}));return _}return Dr({key:i,value:a,valueSpec:{}})},variableAnchorOffsetCollection:function(s){const i=s.key,a=s.value,m=Yn(a),_=s.styleSpec;if("array"!==m||a.length<1||a.length%2!=0)return[new Me(i,a,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let S=0;S<a.length;S+=2)E=E.concat(mr({key:`${i}[${S}]`,value:a[S],valueSpec:_.layout_symbol["text-anchor"]})),E=E.concat(Ur({key:`${i}[${S+1}]`,value:a[S+1],valueSpec:{length:2,value:"number"},validateSpec:s.validateSpec,style:s.style,styleSpec:_}));return E},sprite:jc};function fa(s){const i=s.value,a=s.valueSpec,m=s.styleSpec;return s.validateSpec=fa,a.expression&&en(rr(i))?Sn(s):a.expression&&oe(bs(i))?Qr(s):a.type&&dd[a.type]?dd[a.type](s):Zn(Ft({},s,{valueSpec:a.type?m[a.type]:a}))}function Hc(s){const i=s.value,a=s.key,m=or(s);return m.length||(-1===i.indexOf("{fontstack}")&&m.push(new Me(a,i,'"glyphs" url must include a "{fontstack}" token')),-1===i.indexOf("{range}")&&m.push(new Me(a,i,'"glyphs" url must include a "{range}" token'))),m}function ns(s,i=xt){let a=[];return a=a.concat(fa({key:"",value:s,valueSpec:i.$root,styleSpec:i,style:s,validateSpec:fa,objectElementValidators:{glyphs:Hc,"*":()=>[]}})),s.constants&&(a=a.concat(Oo({key:"constants",value:s.constants,style:s,styleSpec:i,validateSpec:fa}))),ia(a)}function Qa(s){return function(i){return s({...i,validateSpec:fa})}}function ia(s){return[].concat(s).sort((i,a)=>i.line-a.line)}function Ja(s){return function(...i){return ia(s.apply(this,i))}}ns.source=Ja(Qa(Zr)),ns.sprite=Ja(Qa(jc)),ns.glyphs=Ja(Qa(Hc)),ns.light=Ja(Qa(Oa)),ns.terrain=Ja(Qa(Bs)),ns.layer=Ja(Qa(jr)),ns.filter=Ja(Qa(Jr)),ns.paintProperty=Ja(Qa(Or)),ns.layoutProperty=Ja(Qa(pl));const Pa=ns,vc=Pa.light,el=Pa.paintProperty,bc=Pa.layoutProperty;function B(s,i){let a=!1;if(i&&i.length)for(const m of i)s.fire(new Vt(new Error(m.message))),a=!0;return a}class fe{constructor(i,a,m){const _=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const S=new Int32Array(this.arrayBuffer);i=S[0],this.d=(a=S[1])+2*(m=S[2]);for(let N=0;N<this.d*this.d;N++){const j=S[3+N],X=S[3+N+1];_.push(j===X?null:S.subarray(j,X))}const k=S[3+_.length+1];this.keys=S.subarray(S[3+_.length],k),this.bboxes=S.subarray(k),this.insert=this._insertReadonly}else{this.d=a+2*m;for(let S=0;S<this.d*this.d;S++)_.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=i,this.padding=m,this.scale=a/i,this.uid=0;const E=m/a*i;this.min=-E,this.max=i+E}insert(i,a,m,_,E){this._forEachCell(a,m,_,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(a),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,a,m,_,E,S){this.cells[E].push(S)}query(i,a,m,_,E){const S=this.min,k=this.max;if(i<=S&&a<=S&&k<=m&&k<=_&&!E)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(i,a,m,_,this._queryCell,N,{},E),N}}_queryCell(i,a,m,_,E,S,k,N){const j=this.cells[E];if(null!==j){const X=this.keys,re=this.bboxes;for(let he=0;he<j.length;he++){const xe=j[he];if(void 0===k[xe]){const Ee=4*xe;(N?N(re[Ee+0],re[Ee+1],re[Ee+2],re[Ee+3]):i<=re[Ee+2]&&a<=re[Ee+3]&&m>=re[Ee+0]&&_>=re[Ee+1])?(k[xe]=!0,S.push(X[xe])):k[xe]=!1}}}}_forEachCell(i,a,m,_,E,S,k,N){const j=this._convertToCellCoord(i),X=this._convertToCellCoord(a),re=this._convertToCellCoord(m),he=this._convertToCellCoord(_);for(let xe=j;xe<=re;xe++)for(let Ee=X;Ee<=he;Ee++){const Re=this.d*Ee+xe;if((!N||N(this._convertFromCellCoord(xe),this._convertFromCellCoord(Ee),this._convertFromCellCoord(xe+1),this._convertFromCellCoord(Ee+1)))&&E.call(this,i,a,m,_,Re,S,k,N))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,a=3+this.cells.length+1+1;let m=0;for(let S=0;S<this.cells.length;S++)m+=this.cells[S].length;const _=new Int32Array(a+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let E=a;for(let S=0;S<i.length;S++){const k=i[S];_[3+S]=E,_.set(k,E),E+=k.length}return _[3+i.length]=E,_.set(this.keys,E),E+=this.keys.length,_[3+i.length+1]=E,_.set(this.bboxes,E),E+=this.bboxes.length,_.buffer}static serialize(i,a){const m=i.toArrayBuffer();return a&&a.push(m),{buffer:m}}static deserialize(i){return new fe(i.buffer)}}const W={};function te(s,i,a={}){if(W[s])throw new Error(`${s} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:s,writeable:!1}),W[s]={klass:i,omit:a.omit||[],shallow:a.shallow||[]}}te("Object",Object),te("TransferableGridIndex",fe),te("Color",We),te("Error",Error),te("AJAXError",At),te("ResolvedImage",ji),te("StylePropertyFunction",_n),te("StyleExpression",ae,{omit:["_evaluator"]}),te("ZoomDependentExpression",He),te("ZoomConstantExpression",ce),te("CompoundExpression",mo,{omit:["_evaluate"]});for(const s in vs)vs[s]._classRegistryKey||te(`Expression_${s}`,vs[s]);function qe(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&"ArrayBuffer"===s.constructor.name)}function zt(s,i){if(null==s||"boolean"==typeof s||"number"==typeof s||"string"==typeof s||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob)return s;if(qe(s)||Fn(s))return i&&i.push(s),s;if(ArrayBuffer.isView(s)){const a=s;return i&&i.push(a.buffer),a}if(s instanceof ImageData)return i&&i.push(s.data.buffer),s;if(Array.isArray(s)){const a=[];for(const m of s)a.push(zt(m,i));return a}if("object"==typeof s){const a=s.constructor,m=a._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!W[m])throw new Error(`${m} is not registered.`);const _=a.serialize?a.serialize(s,i):{};if(a.serialize){if(i&&_===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in s){if(!s.hasOwnProperty(E)||W[m].omit.indexOf(E)>=0)continue;const S=s[E];_[E]=W[m].shallow.indexOf(E)>=0?S:zt(S,i)}s instanceof Error&&(_.message=s.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==m&&(_.$name=m),_}throw new Error("can't serialize object of type "+typeof s)}function ii(s){if(null==s||"boolean"==typeof s||"number"==typeof s||"string"==typeof s||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob||qe(s)||Fn(s)||ArrayBuffer.isView(s)||s instanceof ImageData)return s;if(Array.isArray(s))return s.map(ii);if("object"==typeof s){const i=s.$name||"Object";if(!W[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:a}=W[i];if(!a)throw new Error(`can't deserialize unregistered class ${i}`);if(a.deserialize)return a.deserialize(s);const m=Object.create(a.prototype);for(const _ of Object.keys(s)){if("$name"===_)continue;const E=s[_];m[_]=W[i].shallow.indexOf(_)>=0?E:ii(E)}return m}throw new Error("can't deserialize object of type "+typeof s)}class $i{constructor(){this.first=!0}update(i,a){const m=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=a),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=m,!0))}}const di={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function fr(s){for(const i of s)if(wr(i.charCodeAt(0)))return!0;return!1}function gr(s){for(const i of s)if(!Hn(i.charCodeAt(0)))return!1;return!0}function Hn(s){return!(di.Arabic(s)||di["Arabic Supplement"](s)||di["Arabic Extended-A"](s)||di["Arabic Presentation Forms-A"](s)||di["Arabic Presentation Forms-B"](s))}function wr(s){return!(746!==s&&747!==s&&(s<4352||!(di["Bopomofo Extended"](s)||di.Bopomofo(s)||di["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||di["CJK Compatibility Ideographs"](s)||di["CJK Compatibility"](s)||di["CJK Radicals Supplement"](s)||di["CJK Strokes"](s)||!(!di["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||12336===s)||di["CJK Unified Ideographs Extension A"](s)||di["CJK Unified Ideographs"](s)||di["Enclosed CJK Letters and Months"](s)||di["Hangul Compatibility Jamo"](s)||di["Hangul Jamo Extended-A"](s)||di["Hangul Jamo Extended-B"](s)||di["Hangul Jamo"](s)||di["Hangul Syllables"](s)||di.Hiragana(s)||di["Ideographic Description Characters"](s)||di.Kanbun(s)||di["Kangxi Radicals"](s)||di["Katakana Phonetic Extensions"](s)||di.Katakana(s)&&12540!==s||!(!di["Halfwidth and Fullwidth Forms"](s)||65288===s||65289===s||65293===s||s>=65306&&s<=65310||65339===s||65341===s||65343===s||s>=65371&&s<=65503||65507===s||s>=65512&&s<=65519)||!(!di["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||di["Unified Canadian Aboriginal Syllabics"](s)||di["Unified Canadian Aboriginal Syllabics Extended"](s)||di["Vertical Forms"](s)||di["Yijing Hexagram Symbols"](s)||di["Yi Syllables"](s)||di["Yi Radicals"](s))))}function Jn(s){return!(wr(s)||(i=s,di["Latin-1 Supplement"](i)&&(167===i||169===i||174===i||177===i||188===i||189===i||190===i||215===i||247===i)||di["General Punctuation"](i)&&(8214===i||8224===i||8225===i||8240===i||8241===i||8251===i||8252===i||8258===i||8263===i||8264===i||8265===i||8273===i)||di["Letterlike Symbols"](i)||di["Number Forms"](i)||di["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||9003===i||i>=9085&&i<=9114||i>=9150&&i<=9165||9167===i||i>=9169&&i<=9179||i>=9186&&i<=9215)||di["Control Pictures"](i)&&9251!==i||di["Optical Character Recognition"](i)||di["Enclosed Alphanumerics"](i)||di["Geometric Shapes"](i)||di["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||di["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||di["CJK Symbols and Punctuation"](i)||di.Katakana(i)||di["Private Use Area"](i)||di["CJK Compatibility Forms"](i)||di["Small Form Variants"](i)||di["Halfwidth and Fullwidth Forms"](i)||8734===i||8756===i||8757===i||i>=9984&&i<=10087||i>=10102&&i<=10131||65532===i||65533===i));var i}function Hr(s){return s>=1424&&s<=2303||di["Arabic Presentation Forms-A"](s)||di["Arabic Presentation Forms-B"](s)}function xs(s,i){return!(!i&&Hr(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||di.Khmer(s))}function Vs(s){for(const i of s)if(Hr(i.charCodeAt(0)))return!0;return!1}const xn="deferred",Ho="loading",na="loaded";let ws=null,eo="unavailable",Cs=null;const rs=function(s){s&&"string"==typeof s&&s.indexOf("NetworkError")>-1&&(eo="error"),ws&&ws(s)};function ra(){fo.fire(new lt("pluginStateChange",{pluginStatus:eo,pluginURL:Cs}))}const fo=new li,Wl=function(){return eo},Tr=function(){if(eo!==xn||!Cs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");eo=Ho,ra(),Cs&&hi({url:Cs},s=>{s?rs(s):(eo=na,ra())})},os={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>eo===na||null!=os.applyArabicShaping,isLoading:()=>eo===Ho,setState(s){if(!Fi())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");eo=s.pluginStatus,Cs=s.pluginURL},isParsed(){if(!Fi())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=os.applyArabicShaping&&null!=os.processBidirectionalText&&null!=os.processStyledBidirectionalText},getPluginURL(){if(!Fi())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Cs}};class lr{constructor(i,a){this.zoom=i,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new $i,this.transition={})}isSupportedScript(i){return function(a,m){for(const _ of a)if(!xs(_.charCodeAt(0),m))return!1;return!0}(i,os.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,a=i-Math.floor(i),m=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*a}}}class Cr{constructor(i,a){this.property=i,this.value=a,this.expression=function(m,_){if(en(m))return new _n(m,_);if(oe(m)){const E=mi(m,_);if("error"===E.result)throw new Error(E.value.map(S=>`${S.key}: ${S.message}`).join(", "));return E.value}{let E=m;return"color"===_.type&&"string"==typeof m?E=We.parse(m):"padding"!==_.type||"number"!=typeof m&&!Array.isArray(m)?"variableAnchorOffsetCollection"===_.type&&Array.isArray(m)&&(E=hn.parse(m)):E=ui.parse(m),{kind:"constant",evaluate:()=>E}}}(void 0===a?i.specification.default:a,i.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(i,a,m){return this.property.possiblyEvaluate(this,i,a,m)}}class ud{constructor(i){this.property=i,this.value=new Cr(i,void 0)}transitioned(i,a){return new Ra(this.property,this.value,a,jt({},i.transition,this.transition),i.now)}untransitioned(){return new Ra(this.property,this.value,null,{},0)}}class ql{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return Nt(this._values[i].value.value)}setValue(i,a){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new ud(this._values[i].property)),this._values[i].value=new Cr(this._values[i].property,null===a?void 0:Nt(a))}getTransition(i){return Nt(this._values[i].transition)}setTransition(i,a){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new ud(this._values[i].property)),this._values[i].transition=Nt(a)||void 0}serialize(){const i={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(i[a]=m);const _=this.getTransition(a);void 0!==_&&(i[`${a}-transition`]=_)}return i}transitioned(i,a){const m=new ss(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(i,a._values[_]);return m}untransitioned(){const i=new ss(this._properties);for(const a of Object.keys(this._values))i._values[a]=this._values[a].untransitioned();return i}}class Ra{constructor(i,a,m,_,E){this.property=i,this.value=a,this.begin=E+_.delay||0,this.end=this.begin+_.duration||0,i.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(i,a,m){const _=i.now||0,E=this.value.possiblyEvaluate(i,a,m),S=this.prior;if(S){if(_>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(_<this.begin)return S.possiblyEvaluate(i,a,m);{const k=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(i,a,m),E,function(N){if(N<=0)return 0;if(N>=1)return 1;const j=N*N,X=j*N;return 4*(N<.5?X:3*(N-j)+X-.75)}(k))}}return E}}class ss{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,a,m){const _=new hd(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(i,a,m);return _}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class fu{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return void 0!==this._values[i].value}getValue(i){return Nt(this._values[i].value)}setValue(i,a){this._values[i]=new Cr(this._values[i].property,null===a?void 0:Nt(a))}serialize(){const i={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(i[a]=m)}return i}possiblyEvaluate(i,a,m){const _=new hd(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(i,a,m);return _}}class Eo{constructor(i,a,m){this.property=i,this.value=a,this.parameters=m}isConstant(){return"constant"===this.value.kind}constantOr(i){return"constant"===this.value.kind?this.value.value:i}evaluate(i,a,m,_){return this.property.evaluate(this.value,this.parameters,i,a,m,_)}}class hd{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Wi{constructor(i){this.specification=i}possiblyEvaluate(i,a){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(a)}interpolate(i,a,m){const _=Xr[this.specification.type];return _?_(i,a,m):i}}class yn{constructor(i,a){this.specification=i,this.overrides=a}possiblyEvaluate(i,a,m,_){return new Eo(this,"constant"===i.expression.kind||"camera"===i.expression.kind?{kind:"constant",value:i.expression.evaluate(a,null,{},m,_)}:i.expression,a)}interpolate(i,a,m){if("constant"!==i.value.kind||"constant"!==a.value.kind)return i;if(void 0===i.value.value||void 0===a.value.value)return new Eo(this,{kind:"constant",value:void 0},i.parameters);const _=Xr[this.specification.type];if(_){const E=_(i.value.value,a.value.value,m);return new Eo(this,{kind:"constant",value:E},i.parameters)}return i}evaluate(i,a,m,_,E,S){return"constant"===i.kind?i.value:i.evaluate(a,m,_,E,S)}}class oa extends yn{possiblyEvaluate(i,a,m,_){if(void 0===i.value)return new Eo(this,{kind:"constant",value:void 0},a);if("constant"===i.expression.kind){const E=i.expression.evaluate(a,null,{},m,_),S="resolvedImage"===i.property.specification.type&&"string"!=typeof E?E.name:E,k=this._calculate(S,S,S,a);return new Eo(this,{kind:"constant",value:k},a)}if("camera"===i.expression.kind){const E=this._calculate(i.expression.evaluate({zoom:a.zoom-1}),i.expression.evaluate({zoom:a.zoom}),i.expression.evaluate({zoom:a.zoom+1}),a);return new Eo(this,{kind:"constant",value:E},a)}return new Eo(this,i.expression,a)}evaluate(i,a,m,_,E,S){if("source"===i.kind){const k=i.evaluate(a,m,_,E,S);return this._calculate(k,k,k,a)}return"composite"===i.kind?this._calculate(i.evaluate({zoom:Math.floor(a.zoom)-1},m,_),i.evaluate({zoom:Math.floor(a.zoom)},m,_),i.evaluate({zoom:Math.floor(a.zoom)+1},m,_),a):i.value}_calculate(i,a,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:i,to:a}:{from:m,to:a}}interpolate(i){return i}}class xc{constructor(i){this.specification=i}possiblyEvaluate(i,a,m,_){if(void 0!==i.value){if("constant"===i.expression.kind){const E=i.expression.evaluate(a,null,{},m,_);return this._calculate(E,E,E,a)}return this._calculate(i.expression.evaluate(new lr(Math.floor(a.zoom-1),a)),i.expression.evaluate(new lr(Math.floor(a.zoom),a)),i.expression.evaluate(new lr(Math.floor(a.zoom+1),a)),a)}}_calculate(i,a,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:i,to:a}:{from:m,to:a}}interpolate(i){return i}}class fl{constructor(i){this.specification=i}possiblyEvaluate(i,a,m,_){return!!i.expression.evaluate(a,null,{},m,_)}interpolate(){return!1}}class Rr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in i){const m=i[a];m.specification.overridable&&this.overridableProperties.push(a);const _=this.defaultPropertyValues[a]=new Cr(m,void 0),E=this.defaultTransitionablePropertyValues[a]=new ud(m);this.defaultTransitioningPropertyValues[a]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=_.possiblyEvaluate({})}}}te("DataDrivenProperty",yn),te("DataConstantProperty",Wi),te("CrossFadedDataDrivenProperty",oa),te("CrossFadedProperty",xc),te("ColorRampProperty",fl);const as="-transition";class Es extends li{constructor(i,a){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==i.type&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,"background"!==i.type&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),a.layout&&(this._unevaluatedLayout=new fu(a.layout)),a.paint)){this._transitionablePaint=new ql(a.paint);for(const m in i.paint)this.setPaintProperty(m,i.paint[m],{validate:!1});for(const m in i.layout)this.setLayoutProperty(m,i.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new hd(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return"visibility"===i?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,a,m={}){null!=a&&this._validate(bc,`layers.${this.id}.layout.${i}`,i,a,m)||("visibility"!==i?this._unevaluatedLayout.setValue(i,a):this.visibility=a)}getPaintProperty(i){return i.endsWith(as)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,a,m={}){if(null!=a&&this._validate(el,`layers.${this.id}.paint.${i}`,i,a,m))return!1;if(i.endsWith(as))return this._transitionablePaint.setTransition(i.slice(0,-11),a||void 0),!1;{const _=this._transitionablePaint._values[i],E="cross-faded-data-driven"===_.property.specification["property-type"],S=_.value.isDataDriven(),k=_.value;this._transitionablePaint.setValue(i,a),this._handleSpecialPaintPropertyUpdate(i);const N=this._transitionablePaint._values[i].value;return N.isDataDriven()||S||E||this._handleOverridablePaintPropertyUpdate(i,k,N)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,a,m){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||"none"===this.visibility}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,a){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,a)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ei(i,(a,m)=>!(void 0===a||"layout"===m&&!Object.keys(a).length||"paint"===m&&!Object.keys(a).length))}_validate(i,a,m,_,E={}){return(!E||!1!==E.validate)&&B(this,i.call(Pa,{key:a,layerType:this.type,objectKey:m,value:_,styleSpec:xt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const a=this.paint.get(i);if(a instanceof Eo&&zs(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1}}const In={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Rl{constructor(i,a){this._structArray=i,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Wr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,a){return i._trim(),a&&(i.isTransferred=!0,a.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const a=Object.create(this.prototype);return a.arrayBuffer=i.arrayBuffer,a.length=i.length,a.capacity=i.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Fr(s,i=1){let a=0,m=0;return{members:s.map(_=>{const E=In[_.type].BYTES_PER_ELEMENT,S=a=tl(a,Math.max(i,E)),k=_.components||1;return m=Math.max(m,E),a+=E*k,{name:_.name,type:_.type,components:k,offset:S}}),size:tl(a,Math.max(m,i)),alignment:i}}function tl(s,i){return Math.ceil(s/i)*i}class gl extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a){const m=this.length;return this.resize(m+1),this.emplace(m,i,a)}emplace(i,a,m){const _=2*i;return this.int16[_+0]=a,this.int16[_+1]=m,i}}gl.prototype.bytesPerElement=4,te("StructArrayLayout2i4",gl);class Yl extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,a,m)}emplace(i,a,m,_){const E=3*i;return this.int16[E+0]=a,this.int16[E+1]=m,this.int16[E+2]=_,i}}Yl.prototype.bytesPerElement=6,te("StructArrayLayout3i6",Yl);class sa extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,i,a,m,_)}emplace(i,a,m,_,E){const S=4*i;return this.int16[S+0]=a,this.int16[S+1]=m,this.int16[S+2]=_,this.int16[S+3]=E,i}}sa.prototype.bytesPerElement=8,te("StructArrayLayout4i8",sa);class Dd extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S){const k=this.length;return this.resize(k+1),this.emplace(k,i,a,m,_,E,S)}emplace(i,a,m,_,E,S,k){const N=6*i;return this.int16[N+0]=a,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=E,this.int16[N+4]=S,this.int16[N+5]=k,i}}Dd.prototype.bytesPerElement=12,te("StructArrayLayout2i4i12",Dd);class $c extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S){const k=this.length;return this.resize(k+1),this.emplace(k,i,a,m,_,E,S)}emplace(i,a,m,_,E,S,k){const N=4*i,j=8*i;return this.int16[N+0]=a,this.int16[N+1]=m,this.uint8[j+4]=_,this.uint8[j+5]=E,this.uint8[j+6]=S,this.uint8[j+7]=k,i}}$c.prototype.bytesPerElement=8,te("StructArrayLayout2i4ub8",$c);class Kl extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a){const m=this.length;return this.resize(m+1),this.emplace(m,i,a)}emplace(i,a,m){const _=2*i;return this.float32[_+0]=a,this.float32[_+1]=m,i}}Kl.prototype.bytesPerElement=8,te("StructArrayLayout2f8",Kl);class _l extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S,k,N,j,X){const re=this.length;return this.resize(re+1),this.emplace(re,i,a,m,_,E,S,k,N,j,X)}emplace(i,a,m,_,E,S,k,N,j,X,re){const he=10*i;return this.uint16[he+0]=a,this.uint16[he+1]=m,this.uint16[he+2]=_,this.uint16[he+3]=E,this.uint16[he+4]=S,this.uint16[he+5]=k,this.uint16[he+6]=N,this.uint16[he+7]=j,this.uint16[he+8]=X,this.uint16[he+9]=re,i}}_l.prototype.bytesPerElement=20,te("StructArrayLayout10ui20",_l);class Sd extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S,k,N,j,X,re,he){const xe=this.length;return this.resize(xe+1),this.emplace(xe,i,a,m,_,E,S,k,N,j,X,re,he)}emplace(i,a,m,_,E,S,k,N,j,X,re,he,xe){const Ee=12*i;return this.int16[Ee+0]=a,this.int16[Ee+1]=m,this.int16[Ee+2]=_,this.int16[Ee+3]=E,this.uint16[Ee+4]=S,this.uint16[Ee+5]=k,this.uint16[Ee+6]=N,this.uint16[Ee+7]=j,this.int16[Ee+8]=X,this.int16[Ee+9]=re,this.int16[Ee+10]=he,this.int16[Ee+11]=xe,i}}Sd.prototype.bytesPerElement=24,te("StructArrayLayout4i4ui4i24",Sd);class Bt extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,a,m)}emplace(i,a,m,_){const E=3*i;return this.float32[E+0]=a,this.float32[E+1]=m,this.float32[E+2]=_,i}}Bt.prototype.bytesPerElement=12,te("StructArrayLayout3f12",Bt);class w extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const a=this.length;return this.resize(a+1),this.emplace(a,i)}emplace(i,a){return this.uint32[1*i+0]=a,i}}w.prototype.bytesPerElement=4,te("StructArrayLayout1ul4",w);class n extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S,k,N,j){const X=this.length;return this.resize(X+1),this.emplace(X,i,a,m,_,E,S,k,N,j)}emplace(i,a,m,_,E,S,k,N,j,X){const re=10*i,he=5*i;return this.int16[re+0]=a,this.int16[re+1]=m,this.int16[re+2]=_,this.int16[re+3]=E,this.int16[re+4]=S,this.int16[re+5]=k,this.uint32[he+3]=N,this.uint16[re+8]=j,this.uint16[re+9]=X,i}}n.prototype.bytesPerElement=20,te("StructArrayLayout6i1ul2ui20",n);class d extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S){const k=this.length;return this.resize(k+1),this.emplace(k,i,a,m,_,E,S)}emplace(i,a,m,_,E,S,k){const N=6*i;return this.int16[N+0]=a,this.int16[N+1]=m,this.int16[N+2]=_,this.int16[N+3]=E,this.int16[N+4]=S,this.int16[N+5]=k,i}}d.prototype.bytesPerElement=12,te("StructArrayLayout2i2i2i12",d);class f extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E){const S=this.length;return this.resize(S+1),this.emplace(S,i,a,m,_,E)}emplace(i,a,m,_,E,S){const k=4*i,N=8*i;return this.float32[k+0]=a,this.float32[k+1]=m,this.float32[k+2]=_,this.int16[N+6]=E,this.int16[N+7]=S,i}}f.prototype.bytesPerElement=16,te("StructArrayLayout2f1f2i16",f);class v extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,i,a,m,_)}emplace(i,a,m,_,E){const S=12*i,k=3*i;return this.uint8[S+0]=a,this.uint8[S+1]=m,this.float32[k+1]=_,this.float32[k+2]=E,i}}v.prototype.bytesPerElement=12,te("StructArrayLayout2ub2f12",v);class D extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,a,m)}emplace(i,a,m,_){const E=3*i;return this.uint16[E+0]=a,this.uint16[E+1]=m,this.uint16[E+2]=_,i}}D.prototype.bytesPerElement=6,te("StructArrayLayout3ui6",D);class O extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt){const Ct=this.length;return this.resize(Ct+1),this.emplace(Ct,i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt)}emplace(i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt,Ct){const mt=24*i,Mt=12*i,Pt=48*i;return this.int16[mt+0]=a,this.int16[mt+1]=m,this.uint16[mt+2]=_,this.uint16[mt+3]=E,this.uint32[Mt+2]=S,this.uint32[Mt+3]=k,this.uint32[Mt+4]=N,this.uint16[mt+10]=j,this.uint16[mt+11]=X,this.uint16[mt+12]=re,this.float32[Mt+7]=he,this.float32[Mt+8]=xe,this.uint8[Pt+36]=Ee,this.uint8[Pt+37]=Re,this.uint8[Pt+38]=Ge,this.uint32[Mt+10]=tt,this.int16[mt+22]=Ct,i}}O.prototype.bytesPerElement=48,te("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",O);class R extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt,Ct,mt,Mt,Pt,ti,Vi,nn,Ni,Oi,Mi,Ki){const Ti=this.length;return this.resize(Ti+1),this.emplace(Ti,i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt,Ct,mt,Mt,Pt,ti,Vi,nn,Ni,Oi,Mi,Ki)}emplace(i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re,Ge,tt,Ct,mt,Mt,Pt,ti,Vi,nn,Ni,Oi,Mi,Ki,Ti){const gi=32*i,gn=16*i;return this.int16[gi+0]=a,this.int16[gi+1]=m,this.int16[gi+2]=_,this.int16[gi+3]=E,this.int16[gi+4]=S,this.int16[gi+5]=k,this.int16[gi+6]=N,this.int16[gi+7]=j,this.uint16[gi+8]=X,this.uint16[gi+9]=re,this.uint16[gi+10]=he,this.uint16[gi+11]=xe,this.uint16[gi+12]=Ee,this.uint16[gi+13]=Re,this.uint16[gi+14]=Ge,this.uint16[gi+15]=tt,this.uint16[gi+16]=Ct,this.uint16[gi+17]=mt,this.uint16[gi+18]=Mt,this.uint16[gi+19]=Pt,this.uint16[gi+20]=ti,this.uint16[gi+21]=Vi,this.uint16[gi+22]=nn,this.uint32[gn+12]=Ni,this.float32[gn+13]=Oi,this.float32[gn+14]=Mi,this.uint16[gi+30]=Ki,this.uint16[gi+31]=Ti,i}}R.prototype.bytesPerElement=64,te("StructArrayLayout8i15ui1ul2f2ui64",R);class V extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const a=this.length;return this.resize(a+1),this.emplace(a,i)}emplace(i,a){return this.float32[1*i+0]=a,i}}V.prototype.bytesPerElement=4,te("StructArrayLayout1f4",V);class Z extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,a,m)}emplace(i,a,m,_){const E=3*i;return this.uint16[6*i+0]=a,this.float32[E+1]=m,this.float32[E+2]=_,i}}Z.prototype.bytesPerElement=12,te("StructArrayLayout1ui2f12",Z);class J extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a,m){const _=this.length;return this.resize(_+1),this.emplace(_,i,a,m)}emplace(i,a,m,_){const E=4*i;return this.uint32[2*i+0]=a,this.uint16[E+2]=m,this.uint16[E+3]=_,i}}J.prototype.bytesPerElement=8,te("StructArrayLayout1ul2ui8",J);class ne extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,a){const m=this.length;return this.resize(m+1),this.emplace(m,i,a)}emplace(i,a,m){const _=2*i;return this.uint16[_+0]=a,this.uint16[_+1]=m,i}}ne.prototype.bytesPerElement=4,te("StructArrayLayout2ui4",ne);class ge extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const a=this.length;return this.resize(a+1),this.emplace(a,i)}emplace(i,a){return this.uint16[1*i+0]=a,i}}ge.prototype.bytesPerElement=2,te("StructArrayLayout1ui2",ge);class Pe extends Wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,a,m,_){const E=this.length;return this.resize(E+1),this.emplace(E,i,a,m,_)}emplace(i,a,m,_,E){const S=4*i;return this.float32[S+0]=a,this.float32[S+1]=m,this.float32[S+2]=_,this.float32[S+3]=E,i}}Pe.prototype.bytesPerElement=16,te("StructArrayLayout4f16",Pe);class Fe extends Rl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Ie(this.anchorPointX,this.anchorPointY)}}Fe.prototype.size=20;class ze extends n{get(i){return new Fe(this,i)}}te("CollisionBoxArray",ze);class ke extends Rl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ke.prototype.size=48;class gt extends O{get(i){return new ke(this,i)}}te("PlacedSymbolArray",gt);class Rt extends Rl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Rt.prototype.size=64;class T extends R{get(i){return new Rt(this,i)}}te("SymbolInstanceArray",T);class P extends V{getoffsetX(i){return this.float32[1*i+0]}}te("GlyphOffsetArray",P);class I extends Yl{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}te("SymbolLineVertexArray",I);class F extends Rl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}F.prototype.size=12;class $ extends Z{get(i){return new F(this,i)}}te("TextAnchorOffsetArray",$);class se extends Rl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}se.prototype.size=8;class be extends J{get(i){return new se(this,i)}}te("FeatureIndexArray",be);class Qe extends gl{}class st extends gl{}class oi extends gl{}class Jt extends Dd{}class bi extends $c{}class Ai extends Kl{}class er extends _l{}class Rn extends Sd{}class qi extends Bt{}class An extends w{}class Cn extends d{}class Ir extends v{}class $o extends D{}class Do extends ne{}const oo=Fr([{name:"a_pos",components:2,type:"Int16"}],4),{members:aa}=oo;class Lr{constructor(i=[]){this.segments=i}prepareSegment(i,a,m,_){let E=this.segments[this.segments.length-1];return i>Lr.MAX_VERTEX_ARRAY_LENGTH&&_t(`Max vertices per segment is ${Lr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!E||E.vertexLength+i>Lr.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==_)&&(E={vertexOffset:a.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},void 0!==_&&(E.sortKey=_),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const i of this.segments)for(const a in i.vaos)i.vaos[a].destroy()}static simpleSegment(i,a,m,_){return new Lr([{vertexOffset:i,primitiveOffset:a,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function Ds(s,i){return 256*(s=ki(Math.floor(s),0,255))+ki(Math.floor(i),0,255)}Lr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,te("SegmentVector",Lr);const ls=Fr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Xl={exports:{}},Ro=function(s,i){var a,m,_,E,S,k,N,j;for(m=s.length-(a=3&s.length),_=i,S=3432918353,k=461845907,j=0;j<m;)N=255&s.charCodeAt(j)|(255&s.charCodeAt(++j))<<8|(255&s.charCodeAt(++j))<<16|(255&s.charCodeAt(++j))<<24,++j,_=27492+(65535&(E=5*(65535&(_=(_^=N=(65535&(N=(N=(65535&N)*S+(((N>>>16)*S&65535)<<16)&4294967295)<<15|N>>>17))*k+(((N>>>16)*k&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(N=0,a){case 3:N^=(255&s.charCodeAt(j+2))<<16;case 2:N^=(255&s.charCodeAt(j+1))<<8;case 1:_^=N=(65535&(N=(N=(65535&(N^=255&s.charCodeAt(j)))*S+(((N>>>16)*S&65535)<<16)&4294967295)<<15|N>>>17))*k+(((N>>>16)*k&65535)<<16)&4294967295}return _^=s.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0},Go=function(s,i){for(var a,m=s.length,_=i^m,E=0;m>=4;)a=1540483477*(65535&(a=255&s.charCodeAt(E)|(255&s.charCodeAt(++E))<<8|(255&s.charCodeAt(++E))<<16|(255&s.charCodeAt(++E))<<24))+((1540483477*(a>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),m-=4,++E;switch(m){case 3:_^=(255&s.charCodeAt(E+2))<<16;case 2:_^=(255&s.charCodeAt(E+1))<<8;case 1:_=1540483477*(65535&(_^=255&s.charCodeAt(E)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};Xl.exports=Ro,Xl.exports.murmur3=Ro,Xl.exports.murmur2=Go;var Ql=le(Xl.exports);class so{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,a,m,_){this.ids.push(qr(i)),this.positions.push(a,m,_)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const a=qr(i);let m=0,_=this.ids.length-1;for(;m<_;){const S=m+_>>1;this.ids[S]>=a?_=S:m=S+1}const E=[];for(;this.ids[m]===a;)E.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return E}static serialize(i,a){const m=new Float64Array(i.ids),_=new Uint32Array(i.positions);return Zo(m,_,0,m.length-1),a&&a.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(i){const a=new so;return a.ids=i.ids,a.positions=i.positions,a.indexed=!0,a}}function qr(s){const i=+s;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Ql(String(s))}function Zo(s,i,a,m){for(;a<m;){const _=s[a+m>>1];let E=a-1,S=m+1;for(;;){do{E++}while(s[E]<_);do{S--}while(s[S]>_);if(E>=S)break;ao(s,E,S),ao(i,3*E,3*S),ao(i,3*E+1,3*S+1),ao(i,3*E+2,3*S+2)}S-a<m-S?(Zo(s,i,a,S),a=S+1):(Zo(s,i,S+1,m),m=S)}}function ao(s,i,a){const m=s[i];s[i]=s[a],s[a]=m}te("FeaturePositionMap",so);class Fl{constructor(i,a){this.gl=i.gl,this.location=a}}class Md extends Fl{constructor(i,a){super(i,a),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class Ju extends Fl{constructor(i,a){super(i,a),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class eh extends Fl{constructor(i,a){super(i,a),this.current=We.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const jp=new Float32Array(16);function th(s){return[Ds(255*s.r,255*s.g),Ds(255*s.b,255*s.a)]}class Fa{constructor(i,a,m){this.value=i,this.uniformNames=a.map(_=>`u_${_}`),this.type=m}setUniform(i,a,m){i.set(m.constantOr(this.value))}getBinding(i,a,m){return"color"===this.type?new eh(i,a):new Md(i,a)}}class il{constructor(i,a){this.uniformNames=a.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=i.tlbr}setUniform(i,a,m,_){const E="u_pattern_to"===_?this.patternTo:"u_pattern_from"===_?this.patternFrom:"u_pixel_ratio_to"===_?this.pixelRatioTo:"u_pixel_ratio_from"===_?this.pixelRatioFrom:null;E&&i.set(E)}getBinding(i,a,m){return"u_pattern"===m.substr(0,9)?new Ju(i,a):new Md(i,a)}}class bl{constructor(i,a,m,_){this.expression=i,this.type=m,this.maxValue=0,this.paintVertexAttributes=a.map(E=>({name:`a_${E}`,type:"Float32",components:"color"===m?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(i,a,m,_,E){const S=this.paintVertexArray.length,k=this.expression.evaluate(new lr(0),a,{},_,[],E);this.paintVertexArray.resize(i),this._setPaintValue(S,i,k)}updatePaintArray(i,a,m,_){const E=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(i,a,E)}_setPaintValue(i,a,m){if("color"===this.type){const _=th(m);for(let E=i;E<a;E++)this.paintVertexArray.emplace(E,_[0],_[1])}else{for(let _=i;_<a;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ss{constructor(i,a,m,_,E,S){this.expression=i,this.uniformNames=a.map(k=>`u_${k}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=a.map(k=>({name:`a_${k}`,type:"Float32",components:"color"===m?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(i,a,m,_,E){const S=this.expression.evaluate(new lr(this.zoom),a,{},_,[],E),k=this.expression.evaluate(new lr(this.zoom+1),a,{},_,[],E),N=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(N,i,S,k)}updatePaintArray(i,a,m,_){const E=this.expression.evaluate({zoom:this.zoom},m,_),S=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(i,a,E,S)}_setPaintValue(i,a,m,_){if("color"===this.type){const E=th(m),S=th(_);for(let k=i;k<a;k++)this.paintVertexArray.emplace(k,E[0],E[1],S[0],S[1])}else{for(let E=i;E<a;E++)this.paintVertexArray.emplace(E,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,a){const m=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,_=ki(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);i.set(_)}getBinding(i,a,m){return new Md(i,a)}}class La{constructor(i,a,m,_,E,S){this.expression=i,this.type=a,this.useIntegerZoom=m,this.zoom=_,this.layerId=S,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(i,a,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(_,i,a.patterns&&a.patterns[this.layerId],m)}updatePaintArray(i,a,m,_,E){this._setPaintValues(i,a,m.patterns&&m.patterns[this.layerId],E)}_setPaintValues(i,a,m,_){if(!_||!m)return;const{min:E,mid:S,max:k}=m,N=_[E],j=_[S],X=_[k];if(N&&j&&X)for(let re=i;re<a;re++)this.zoomInPaintVertexArray.emplace(re,j.tl[0],j.tl[1],j.br[0],j.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],j.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(re,j.tl[0],j.tl[1],j.br[0],j.br[1],X.tl[0],X.tl[1],X.br[0],X.br[1],j.pixelRatio,X.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,ls.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,ls.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Gc{constructor(i,a,m){this.binders={},this._buffers=[];const _=[];for(const E in i.paint._values){if(!m(E))continue;const S=i.paint.get(E);if(!(S instanceof Eo&&zs(S.property.specification)))continue;const k=Hp(E,i.type),N=S.value,j=S.property.specification.type,X=S.property.useIntegerZoom,re=S.property.specification["property-type"],he="cross-faded"===re||"cross-faded-data-driven"===re;if("constant"===N.kind)this.binders[E]=he?new il(N.value,k):new Fa(N.value,k,j),_.push(`/u_${E}`);else if("source"===N.kind||he){const xe=xm(E,j,"source");this.binders[E]=he?new La(N,j,X,a,xe,i.id):new bl(N,k,j,xe),_.push(`/a_${E}`)}else{const xe=xm(E,j,"composite");this.binders[E]=new Ss(N,k,j,X,a,xe),_.push(`/z_${E}`)}}this.cacheKey=_.sort().join("")}getMaxValue(i){const a=this.binders[i];return a instanceof bl||a instanceof Ss?a.maxValue:0}populatePaintArrays(i,a,m,_,E){for(const S in this.binders){const k=this.binders[S];(k instanceof bl||k instanceof Ss||k instanceof La)&&k.populatePaintArray(i,a,m,_,E)}}setConstantPatternPositions(i,a){for(const m in this.binders){const _=this.binders[m];_ instanceof il&&_.setConstantPatternPositions(i,a)}}updatePaintArrays(i,a,m,_,E){let S=!1;for(const k in i){const N=a.getPositions(k);for(const j of N){const X=m.feature(j.index);for(const re in this.binders){const he=this.binders[re];if((he instanceof bl||he instanceof Ss||he instanceof La)&&!0===he.expression.isStateDependent){const xe=_.paint.get(re);he.expression=xe.value,he.updatePaintArray(j.start,j.end,X,i[k],E),S=!0}}}}return S}defines(){const i=[];for(const a in this.binders){const m=this.binders[a];(m instanceof Fa||m instanceof il)&&i.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return i}getBinderAttributes(){const i=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof bl||m instanceof Ss)for(let _=0;_<m.paintVertexAttributes.length;_++)i.push(m.paintVertexAttributes[_].name);else if(m instanceof La)for(let _=0;_<ls.members.length;_++)i.push(ls.members[_].name)}return i}getBinderUniforms(){const i=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof Fa||m instanceof il||m instanceof Ss)for(const _ of m.uniformNames)i.push(_)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,a){const m=[];for(const _ in this.binders){const E=this.binders[_];if(E instanceof Fa||E instanceof il||E instanceof Ss)for(const S of E.uniformNames)if(a[S]){const k=E.getBinding(i,a[S],S);m.push({name:S,property:_,binding:k})}}return m}setUniforms(i,a,m,_){for(const{name:E,property:S,binding:k}of a)this.binders[S].setUniform(k,_,m.get(S),E)}updatePaintBuffers(i){this._buffers=[];for(const a in this.binders){const m=this.binders[a];if(i&&m instanceof La){const _=2===i.fromScale?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof bl||m instanceof Ss)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(i){for(const a in this.binders){const m=this.binders[a];(m instanceof bl||m instanceof Ss||m instanceof La)&&m.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const a=this.binders[i];(a instanceof bl||a instanceof Ss||a instanceof La)&&a.destroy()}}}class Jl{constructor(i,a,m=(()=>!0)){this.programConfigurations={};for(const _ of i)this.programConfigurations[_.id]=new Gc(_,a,m);this.needsUpload=!1,this._featureMap=new so,this._bufferOffset=0}populatePaintArrays(i,a,m,_,E,S){for(const k in this.programConfigurations)this.programConfigurations[k].populatePaintArrays(i,a,_,E,S);void 0!==a.id&&this._featureMap.add(a.id,m,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,a,m,_){for(const E of m)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(i,this._featureMap,a,E,_)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function Hp(s,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(`${i}-`,"").replace(/-/g,"_")]}function xm(s,i,a){const _={"line-pattern":{source:er,composite:er},"fill-pattern":{source:er,composite:er},"fill-extrusion-pattern":{source:er,composite:er}}[s];return _&&_[a]||{color:{source:Kl,composite:Pe},number:{source:V,composite:Kl}}[i][a]}te("ConstantBinder",Fa),te("CrossFadedConstantBinder",il),te("SourceExpressionBinder",bl),te("CrossFadedCompositeBinder",La),te("CompositeExpressionBinder",Ss),te("ProgramConfiguration",Gc,{omit:["_buffers"]}),te("ProgramConfigurationSet",Jl);const So=8192,xl=Math.pow(2,14)-1,$p=-xl-1;function ec(s){const i=So/s.extent,a=s.loadGeometry();for(let m=0;m<a.length;m++){const _=a[m];for(let E=0;E<_.length;E++){const S=_[E],k=Math.round(S.x*i),N=Math.round(S.y*i);S.x=ki(k,$p,xl),S.y=ki(N,$p,xl),(k<S.x||k>S.x+1||N<S.y||N>S.y+1)&&_t("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function Er(s,i){return{type:s.type,id:s.id,properties:s.properties,geometry:i?ec(s):[]}}function gu(s,i,a,m,_){s.emplaceBack(2*i+(m+1)/2,2*a+(_+1)/2)}class Td{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(a=>a.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new st,this.indexArray=new $o,this.segments=new Lr,this.programConfigurations=new Jl(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(i,a,m){const _=this.layers[0],E=[];let S=null,k=!1;"circle"===_.type&&(S=_.layout.get("circle-sort-key"),k=!S.isConstant());for(const{feature:N,id:j,index:X,sourceLayerIndex:re}of i){const he=this.layers[0]._featureFilter.needGeometry,xe=Er(N,he);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),xe,m))continue;const Ee=k?S.evaluate(xe,{},m):void 0,Re={id:j,properties:N.properties,type:N.type,sourceLayerIndex:re,index:X,geometry:he?xe.geometry:ec(N),patterns:{},sortKey:Ee};E.push(Re)}k&&E.sort((N,j)=>N.sortKey-j.sortKey);for(const N of E){const{geometry:j,index:X,sourceLayerIndex:re}=N,he=i[X].feature;this.addFeature(N,j,X,m),a.featureIndex.insert(he,j,X,re,this.index)}}update(i,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,aa),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,a,m,_){for(const E of a)for(const S of E){const k=S.x,N=S.y;if(k<0||k>=So||N<0||N>=So)continue;const j=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),X=j.vertexLength;gu(this.layoutVertexArray,k,N,-1,-1),gu(this.layoutVertexArray,k,N,1,-1),gu(this.layoutVertexArray,k,N,1,1),gu(this.layoutVertexArray,k,N,-1,1),this.indexArray.emplaceBack(X,X+1,X+2),this.indexArray.emplaceBack(X,X+3,X+2),j.vertexLength+=4,j.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,m,{},_)}}function ih(s,i){for(let a=0;a<s.length;a++)if(Ad(i,s[a]))return!0;for(let a=0;a<i.length;a++)if(Ad(s,i[a]))return!0;return!!rh(s,i)}function wm(s,i,a){return!!Ad(s,i)||!!Cm(i,s,a)}function nh(s,i){if(1===s.length)return wc(i,s[0]);for(let a=0;a<i.length;a++){const m=i[a];for(let _=0;_<m.length;_++)if(Ad(s,m[_]))return!0}for(let a=0;a<s.length;a++)if(wc(i,s[a]))return!0;for(let a=0;a<i.length;a++)if(rh(s,i[a]))return!0;return!1}function Id(s,i,a){if(s.length>1){if(rh(s,i))return!0;for(let m=0;m<i.length;m++)if(Cm(i[m],s,a))return!0}for(let m=0;m<s.length;m++)if(Cm(s[m],i,a))return!0;return!1}function rh(s,i){if(0===s.length||0===i.length)return!1;for(let a=0;a<s.length-1;a++){const m=s[a],_=s[a+1];for(let E=0;E<i.length-1;E++)if(oh(m,_,i[E],i[E+1]))return!0}return!1}function oh(s,i,a,m){return Qt(s,a,m)!==Qt(i,a,m)&&Qt(s,i,a)!==Qt(s,i,m)}function Cm(s,i,a){const m=a*a;if(1===i.length)return s.distSqr(i[0])<m;for(let _=1;_<i.length;_++)if(tc(s,i[_-1],i[_])<m)return!0;return!1}function tc(s,i,a){const m=i.distSqr(a);if(0===m)return s.distSqr(i);const _=((s.x-i.x)*(a.x-i.x)+(s.y-i.y)*(a.y-i.y))/m;return s.distSqr(_<0?i:_>1?a:a.sub(i)._mult(_)._add(i))}function wc(s,i){let a,m,_,E=!1;for(let S=0;S<s.length;S++){a=s[S];for(let k=0,N=a.length-1;k<a.length;N=k++)m=a[k],_=a[N],m.y>i.y!=_.y>i.y&&i.x<(_.x-m.x)*(i.y-m.y)/(_.y-m.y)+m.x&&(E=!E)}return E}function Ad(s,i){let a=!1;for(let m=0,_=s.length-1;m<s.length;_=m++){const E=s[m],S=s[_];E.y>i.y!=S.y>i.y&&i.x<(S.x-E.x)*(i.y-E.y)/(S.y-E.y)+E.x&&(a=!a)}return a}function Em(s,i,a){const m=a[0],_=a[2];if(s.x<m.x&&i.x<m.x||s.x>_.x&&i.x>_.x||s.y<m.y&&i.y<m.y||s.y>_.y&&i.y>_.y)return!1;const E=Qt(s,i,a[0]);return E!==Qt(s,i,a[1])||E!==Qt(s,i,a[2])||E!==Qt(s,i,a[3])}function kd(s,i,a){const m=i.paint.get(s).value;return"constant"===m.kind?m.value:a.programConfigurations.get(i.id).getMaxValue(s)}function Cc(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Ec(s,i,a,m,_){if(!i[0]&&!i[1])return s;const E=Ie.convert(i)._mult(_);"viewport"===a&&E._rotate(-m);const S=[];for(let k=0;k<s.length;k++)S.push(s[k].sub(E));return S}let Fo,Gp;te("CircleBucket",Td,{omit:["layers"]});var Zp={get paint(){return Gp=Gp||new Rr({"circle-radius":new yn(xt.paint_circle["circle-radius"]),"circle-color":new yn(xt.paint_circle["circle-color"]),"circle-blur":new yn(xt.paint_circle["circle-blur"]),"circle-opacity":new yn(xt.paint_circle["circle-opacity"]),"circle-translate":new Wi(xt.paint_circle["circle-translate"]),"circle-translate-anchor":new Wi(xt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Wi(xt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Wi(xt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yn(xt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yn(xt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yn(xt.paint_circle["circle-stroke-opacity"])})},get layout(){return Fo=Fo||new Rr({"circle-sort-key":new yn(xt.layout_circle["circle-sort-key"])})}},Wo=1e-6,Od=typeof Float32Array<"u"?Float32Array:Array;function _u(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function sh(s,i,a){var m=i[0],_=i[1],E=i[2],S=i[3],k=i[4],N=i[5],j=i[6],X=i[7],re=i[8],he=i[9],xe=i[10],Ee=i[11],Re=i[12],Ge=i[13],tt=i[14],Ct=i[15],mt=a[0],Mt=a[1],Pt=a[2],ti=a[3];return s[0]=mt*m+Mt*k+Pt*re+ti*Re,s[1]=mt*_+Mt*N+Pt*he+ti*Ge,s[2]=mt*E+Mt*j+Pt*xe+ti*tt,s[3]=mt*S+Mt*X+Pt*Ee+ti*Ct,s[4]=(mt=a[4])*m+(Mt=a[5])*k+(Pt=a[6])*re+(ti=a[7])*Re,s[5]=mt*_+Mt*N+Pt*he+ti*Ge,s[6]=mt*E+Mt*j+Pt*xe+ti*tt,s[7]=mt*S+Mt*X+Pt*Ee+ti*Ct,s[8]=(mt=a[8])*m+(Mt=a[9])*k+(Pt=a[10])*re+(ti=a[11])*Re,s[9]=mt*_+Mt*N+Pt*he+ti*Ge,s[10]=mt*E+Mt*j+Pt*xe+ti*tt,s[11]=mt*S+Mt*X+Pt*Ee+ti*Ct,s[12]=(mt=a[12])*m+(Mt=a[13])*k+(Pt=a[14])*re+(ti=a[15])*Re,s[13]=mt*_+Mt*N+Pt*he+ti*Ge,s[14]=mt*E+Mt*j+Pt*xe+ti*tt,s[15]=mt*S+Mt*X+Pt*Ee+ti*Ct,s}Math.hypot||(Math.hypot=function(){for(var s=0,i=arguments.length;i--;)s+=arguments[i]*arguments[i];return Math.sqrt(s)});var ic,Pd=sh;function Dc(s,i,a){var m=i[0],_=i[1],E=i[2],S=i[3];return s[0]=a[0]*m+a[4]*_+a[8]*E+a[12]*S,s[1]=a[1]*m+a[5]*_+a[9]*E+a[13]*S,s[2]=a[2]*m+a[6]*_+a[10]*E+a[14]*S,s[3]=a[3]*m+a[7]*_+a[11]*E+a[15]*S,s}ic=new Od(4),Od!=Float32Array&&(ic[0]=0,ic[1]=0,ic[2]=0,ic[3]=0);class Wp extends Es{constructor(i){super(i,Zp)}createBucket(i){return new Td(i)}queryRadius(i){const a=i;return kd("circle-radius",this,a)+kd("circle-stroke-width",this,a)+Cc(this.paint.get("circle-translate"))}queryIntersectsFeature(i,a,m,_,E,S,k,N){const j=Ec(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,k),X=this.paint.get("circle-radius").evaluate(a,m)+this.paint.get("circle-stroke-width").evaluate(a,m),re="map"===this.paint.get("circle-pitch-alignment"),he=re?j:(Re=N,j.map(Ge=>ah(Ge,Re))),xe=re?X*k:X;var Re;for(const Ee of _)for(const Re of Ee){const Ge=re?Re:ah(Re,N);let tt=xe;const Ct=Dc([],[Re.x,Re.y,0,1],N);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?tt*=Ct[3]/S.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(tt*=S.cameraToCenterDistance/Ct[3]),wm(he,Ge,tt))return!0}return!1}}function ah(s,i){const a=Dc([],[s.x,s.y,0,1],i);return new Ie(a[0]/a[3],a[1]/a[3])}class md extends Td{}let Dm;te("HeatmapBucket",md,{omit:["layers"]});var bg={get paint(){return Dm=Dm||new Rr({"heatmap-radius":new yn(xt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yn(xt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Wi(xt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new fl(xt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Wi(xt.paint_heatmap["heatmap-opacity"])})}};function Rd(s,{width:i,height:a},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==i*a*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${i*a*m}`)}else _=new Uint8Array(i*a*m);return s.width=i,s.height=a,s.data=_,s}function xg(s,{width:i,height:a},m){if(i===s.width&&a===s.height)return;const _=Rd({},{width:i,height:a},m);qp(s,_,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,i),height:Math.min(s.height,a)},m),s.width=i,s.height=a,s.data=_.data}function qp(s,i,a,m,_,E){if(0===_.width||0===_.height)return i;if(_.width>s.width||_.height>s.height||a.x>s.width-_.width||a.y>s.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>i.width||_.height>i.height||m.x>i.width-_.width||m.y>i.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const S=s.data,k=i.data;if(S===k)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<_.height;N++){const j=((a.y+N)*s.width+a.x)*E,X=((m.y+N)*i.width+m.x)*E;for(let re=0;re<_.width*E;re++)k[X+re]=S[j+re]}return i}class lh{constructor(i,a){Rd(this,i,1,a)}resize(i){xg(this,i,1)}clone(){return new lh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,a,m,_,E){qp(i,a,m,_,E,1)}}class Ll{constructor(i,a){Rd(this,i,4,a)}resize(i){xg(this,i,4)}replace(i,a){a?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Ll({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,a,m,_,E){qp(i,a,m,_,E,4)}}function wg(s){const i={},a=s.resolution||256,m=s.clips?s.clips.length:1,_=s.image||new Ll({width:a,height:m});if(Math.log(a)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${a}`);const E=(S,k,N)=>{i[s.evaluationKey]=N;const j=s.expression.evaluate(i);_.data[S+k+0]=Math.floor(255*j.r/j.a),_.data[S+k+1]=Math.floor(255*j.g/j.a),_.data[S+k+2]=Math.floor(255*j.b/j.a),_.data[S+k+3]=Math.floor(255*j.a)};if(s.clips)for(let S=0,k=0;S<m;++S,k+=4*a)for(let N=0,j=0;N<a;N++,j+=4){const X=N/(a-1),{start:re,end:he}=s.clips[S];E(k,j,re*(1-X)+he*X)}else for(let S=0,k=0;S<a;S++,k+=4)E(0,k,S/(a-1));return _}te("AlphaImage",lh),te("RGBAImage",Ll);class Fd extends Es{createBucket(i){return new md(i)}constructor(i){super(i,bg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){"heatmap-color"===i&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=wg({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Yp;var Cg={get paint(){return Yp=Yp||new Rr({"hillshade-illumination-direction":new Wi(xt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Wi(xt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Wi(xt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Wi(xt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Wi(xt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Wi(xt.paint_hillshade["hillshade-accent-color"])})}};class cs extends Es{constructor(i){super(i,Cg)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Eg=Fr([{name:"a_pos",components:2,type:"Int16"}],4),{members:yu}=Eg;var vu={exports:{}};function Us(s,i,a){a=a||2;var m,_,E,S,k,N,j,X=i&&i.length,re=X?i[0]*a:s.length,he=nc(s,0,re,a,!0),xe=[];if(!he||he.next===he.prev)return xe;if(X&&(he=function(Re,Ge,tt,Ct){var mt,Mt,Pt,ti=[];for(mt=0,Mt=Ge.length;mt<Mt;mt++)(Pt=nc(Re,Ge[mt]*Ct,mt<Mt-1?Ge[mt+1]*Ct:Re.length,Ct,!1))===Pt.next&&(Pt.steiner=!0),ti.push(xu(Pt));for(ti.sort(Sy),mt=0;mt<ti.length;mt++)tt=nl(ti[mt],tt);return tt}(s,i,he,a)),s.length>80*a){m=E=s[0],_=S=s[1];for(var Ee=a;Ee<re;Ee+=a)(k=s[Ee])<m&&(m=k),(N=s[Ee+1])<_&&(_=N),k>E&&(E=k),N>S&&(S=N);j=0!==(j=Math.max(E-m,S-_))?32767/j:0}return Wc(he,xe,a,m,_,j,0),xe}function nc(s,i,a,m,_){var E,S;if(_===oc(s,i,a,m)>0)for(E=i;E<a;E+=m)S=Qp(E,s[E],s[E+1],S);else for(E=a-m;E>=i;E-=m)S=Qp(E,s[E],s[E+1],S);return S&&ch(S,S.next)&&(wl(S),S=S.next),S}function Zc(s,i){if(!s)return s;i||(i=s);var a,m=s;do{if(a=!1,m.steiner||!ch(m,m.next)&&0!==go(m.prev,m,m.next))m=m.next;else{if(wl(m),(m=i=m.prev)===m.next)break;a=!0}}while(a||m!==i);return i}function Wc(s,i,a,m,_,E,S){if(s){!S&&E&&function(X,re,he,xe){var Ee=X;do{0===Ee.z&&(Ee.z=qc(Ee.x,Ee.y,re,he,xe)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next}while(Ee!==X);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(Re){var Ge,tt,Ct,mt,Mt,Pt,ti,Vi,nn=1;do{for(tt=Re,Re=null,Mt=null,Pt=0;tt;){for(Pt++,Ct=tt,ti=0,Ge=0;Ge<nn&&(ti++,Ct=Ct.nextZ);Ge++);for(Vi=nn;ti>0||Vi>0&&Ct;)0!==ti&&(0===Vi||!Ct||tt.z<=Ct.z)?(mt=tt,tt=tt.nextZ,ti--):(mt=Ct,Ct=Ct.nextZ,Vi--),Mt?Mt.nextZ=mt:Re=mt,mt.prevZ=Mt,Mt=mt;tt=Ct}Mt.nextZ=null,nn*=2}while(Pt>1)}(Ee)}(s,m,_,E);for(var k,N,j=s;s.prev!==s.next;)if(k=s.prev,N=s.next,E?Sm(s,m,_,E):bu(s))i.push(k.i/a|0),i.push(s.i/a|0),i.push(N.i/a|0),wl(s),s=N.next,j=N.next;else if((s=N)===j){S?1===S?Wc(s=Dy(Zc(s),i,a),i,a,m,_,E,2):2===S&&Kp(s,i,a,m,_,E):Wc(Zc(s),i,a,m,_,E,1);break}}}function bu(s){var i=s.prev,a=s,m=s.next;if(go(i,a,m)>=0)return!1;for(var _=i.x,E=a.x,S=m.x,k=i.y,N=a.y,j=m.y,X=_<E?_<S?_:S:E<S?E:S,re=k<N?k<j?k:j:N<j?N:j,he=_>E?_>S?_:S:E>S?E:S,xe=k>N?k>j?k:j:N>j?N:j,Ee=m.next;Ee!==i;){if(Ee.x>=X&&Ee.x<=he&&Ee.y>=re&&Ee.y<=xe&&rc(_,k,E,N,S,j,Ee.x,Ee.y)&&go(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function Sm(s,i,a,m){var _=s.prev,E=s,S=s.next;if(go(_,E,S)>=0)return!1;for(var k=_.x,N=E.x,j=S.x,X=_.y,re=E.y,he=S.y,xe=k<N?k<j?k:j:N<j?N:j,Ee=X<re?X<he?X:he:re<he?re:he,Re=k>N?k>j?k:j:N>j?N:j,Ge=X>re?X>he?X:he:re>he?re:he,tt=qc(xe,Ee,i,a,m),Ct=qc(Re,Ge,i,a,m),mt=s.prevZ,Mt=s.nextZ;mt&&mt.z>=tt&&Mt&&Mt.z<=Ct;){if(mt.x>=xe&&mt.x<=Re&&mt.y>=Ee&&mt.y<=Ge&&mt!==_&&mt!==S&&rc(k,X,N,re,j,he,mt.x,mt.y)&&go(mt.prev,mt,mt.next)>=0||(mt=mt.prevZ,Mt.x>=xe&&Mt.x<=Re&&Mt.y>=Ee&&Mt.y<=Ge&&Mt!==_&&Mt!==S&&rc(k,X,N,re,j,he,Mt.x,Mt.y)&&go(Mt.prev,Mt,Mt.next)>=0))return!1;Mt=Mt.nextZ}for(;mt&&mt.z>=tt;){if(mt.x>=xe&&mt.x<=Re&&mt.y>=Ee&&mt.y<=Ge&&mt!==_&&mt!==S&&rc(k,X,N,re,j,he,mt.x,mt.y)&&go(mt.prev,mt,mt.next)>=0)return!1;mt=mt.prevZ}for(;Mt&&Mt.z<=Ct;){if(Mt.x>=xe&&Mt.x<=Re&&Mt.y>=Ee&&Mt.y<=Ge&&Mt!==_&&Mt!==S&&rc(k,X,N,re,j,he,Mt.x,Mt.y)&&go(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.nextZ}return!0}function Dy(s,i,a){var m=s;do{var _=m.prev,E=m.next.next;!ch(_,E)&&Xp(_,m,m.next,E)&&pd(_,E)&&pd(E,_)&&(i.push(_.i/a|0),i.push(m.i/a|0),i.push(E.i/a|0),wl(m),wl(m.next),m=s=E),m=m.next}while(m!==s);return Zc(m)}function Kp(s,i,a,m,_,E){var S=s;do{for(var k=S.next.next;k!==S.prev;){if(S.i!==k.i&&Dg(S,k)){var N=wu(S,k);return S=Zc(S,S.next),N=Zc(N,N.next),Wc(S,i,a,m,_,E,0),void Wc(N,i,a,m,_,E,0)}k=k.next}S=S.next}while(S!==s)}function Sy(s,i){return s.x-i.x}function nl(s,i){var a=function(_,E){var S,k=E,N=_.x,j=_.y,X=-1/0;do{if(j<=k.y&&j>=k.next.y&&k.next.y!==k.y){var re=k.x+(j-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(re<=N&&re>X&&(X=re,S=k.x<k.next.x?k:k.next,re===N))return S}k=k.next}while(k!==E);if(!S)return null;var he,xe=S,Ee=S.x,Re=S.y,Ge=1/0;k=S;do{N>=k.x&&k.x>=Ee&&N!==k.x&&rc(j<Re?N:X,j,Ee,Re,j<Re?X:N,j,k.x,k.y)&&(he=Math.abs(j-k.y)/(N-k.x),pd(k,_)&&(he<Ge||he===Ge&&(k.x>S.x||k.x===S.x&&Mm(S,k)))&&(S=k,Ge=he)),k=k.next}while(k!==xe);return S}(s,i);if(!a)return i;var m=wu(a,s);return Zc(m,m.next),Zc(a,a.next)}function Mm(s,i){return go(s.prev,s,i.prev)<0&&go(i.next,s,s.next)<0}function qc(s,i,a,m,_){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-a)*_|0)|s<<8))|s<<4))|s<<2))|s<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-m)*_|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function xu(s){var i=s,a=s;do{(i.x<a.x||i.x===a.x&&i.y<a.y)&&(a=i),i=i.next}while(i!==s);return a}function rc(s,i,a,m,_,E,S,k){return(_-S)*(i-k)>=(s-S)*(E-k)&&(s-S)*(m-k)>=(a-S)*(i-k)&&(a-S)*(E-k)>=(_-S)*(m-k)}function Dg(s,i){return s.next.i!==i.i&&s.prev.i!==i.i&&!function(a,m){var _=a;do{if(_.i!==a.i&&_.next.i!==a.i&&_.i!==m.i&&_.next.i!==m.i&&Xp(_,_.next,a,m))return!0;_=_.next}while(_!==a);return!1}(s,i)&&(pd(s,i)&&pd(i,s)&&function(a,m){var _=a,E=!1,S=(a.x+m.x)/2,k=(a.y+m.y)/2;do{_.y>k!=_.next.y>k&&_.next.y!==_.y&&S<(_.next.x-_.x)*(k-_.y)/(_.next.y-_.y)+_.x&&(E=!E),_=_.next}while(_!==a);return E}(s,i)&&(go(s.prev,s,i.prev)||go(s,i.prev,i))||ch(s,i)&&go(s.prev,s,s.next)>0&&go(i.prev,i,i.next)>0)}function go(s,i,a){return(i.y-s.y)*(a.x-i.x)-(i.x-s.x)*(a.y-i.y)}function ch(s,i){return s.x===i.x&&s.y===i.y}function Xp(s,i,a,m){var _=uh(go(s,i,a)),E=uh(go(s,i,m)),S=uh(go(a,m,s)),k=uh(go(a,m,i));return _!==E&&S!==k||!(0!==_||!dh(s,a,i))||!(0!==E||!dh(s,m,i))||!(0!==S||!dh(a,s,m))||!(0!==k||!dh(a,i,m))}function dh(s,i,a){return i.x<=Math.max(s.x,a.x)&&i.x>=Math.min(s.x,a.x)&&i.y<=Math.max(s.y,a.y)&&i.y>=Math.min(s.y,a.y)}function uh(s){return s>0?1:s<0?-1:0}function pd(s,i){return go(s.prev,s,s.next)<0?go(s,i,s.next)>=0&&go(s,s.prev,i)>=0:go(s,i,s.prev)<0||go(s,s.next,i)<0}function wu(s,i){var a=new Tm(s.i,s.x,s.y),m=new Tm(i.i,i.x,i.y),_=s.next,E=i.prev;return s.next=i,i.prev=s,a.next=_,_.prev=a,m.next=a,a.prev=m,E.next=m,m.prev=E,m}function Qp(s,i,a,m){var _=new Tm(s,i,a);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function wl(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Tm(s,i,a){this.i=s,this.x=i,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function oc(s,i,a,m){for(var _=0,E=i,S=a-m;E<a;E+=m)_+=(s[S]-s[E])*(s[E+1]+s[S+1]),S=E;return _}vu.exports=Us,vu.exports.default=Us,Us.deviation=function(s,i,a,m){var _=i&&i.length,E=Math.abs(oc(s,0,_?i[0]*a:s.length,a));if(_)for(var S=0,k=i.length;S<k;S++)E-=Math.abs(oc(s,i[S]*a,S<k-1?i[S+1]*a:s.length,a));var N=0;for(S=0;S<m.length;S+=3){var j=m[S]*a,X=m[S+1]*a,re=m[S+2]*a;N+=Math.abs((s[j]-s[re])*(s[X+1]-s[j+1])-(s[j]-s[X])*(s[re+1]-s[j+1]))}return 0===E&&0===N?0:Math.abs((N-E)/E)},Us.flatten=function(s){for(var i=s[0][0].length,a={vertices:[],holes:[],dimensions:i},m=0,_=0;_<s.length;_++){for(var E=0;E<s[_].length;E++)for(var S=0;S<i;S++)a.vertices.push(s[_][E][S]);_>0&&a.holes.push(m+=s[_-1].length)}return a};var Jp=le(vu.exports);function ef(s,i,a,m,_){hh(s,i,a||0,m||s.length-1,_||tf)}function hh(s,i,a,m,_){for(;m>a;){if(m-a>600){var E=m-a+1,S=i-a+1,k=Math.log(E),N=.5*Math.exp(2*k/3),j=.5*Math.sqrt(k*N*(E-N)/E)*(S-E/2<0?-1:1);hh(s,i,Math.max(a,Math.floor(i-S*N/E+j)),Math.min(m,Math.floor(i+(E-S)*N/E+j)),_)}var X=s[i],re=a,he=m;for(Yc(s,a,i),_(s[m],X)>0&&Yc(s,a,m);re<he;){for(Yc(s,re,he),re++,he--;_(s[re],X)<0;)re++;for(;_(s[he],X)>0;)he--}0===_(s[a],X)?Yc(s,a,he):Yc(s,++he,m),he<=i&&(a=he+1),i<=he&&(m=he-1)}}function Yc(s,i,a){var m=s[i];s[i]=s[a],s[a]=m}function tf(s,i){return s<i?-1:s>i?1:0}function Im(s,i){const a=s.length;if(a<=1)return[s];const m=[];let _,E;for(let S=0;S<a;S++){const k=Ri(s[S]);0!==k&&(s[S].area=Math.abs(k),void 0===E&&(E=k<0),E===k<0?(_&&m.push(_),_=[s[S]]):_.push(s[S]))}if(_&&m.push(_),i>1)for(let S=0;S<m.length;S++)m[S].length<=i||(ef(m[S],i,1,m[S].length-1,Sg),m[S]=m[S].slice(0,i));return m}function Sg(s,i){return i.area-s.area}function Kc(s,i,a){const m=a.patternDependencies;let _=!1;for(const E of i){const S=E.paint.get(`${s}-pattern`);S.isConstant()||(_=!0);const k=S.constantOr(null);k&&(_=!0,m[k.to]=!0,m[k.from]=!0)}return _}function fd(s,i,a,m,_){const E=_.patternDependencies;for(const S of i){const k=S.paint.get(`${s}-pattern`).value;if("constant"!==k.kind){let N=k.evaluate({zoom:m-1},a,{},_.availableImages),j=k.evaluate({zoom:m},a,{},_.availableImages),X=k.evaluate({zoom:m+1},a,{},_.availableImages);N=N&&N.name?N.name:N,j=j&&j.name?j.name:j,X=X&&X.name?X.name:X,E[N]=!0,E[j]=!0,E[X]=!0,a.patterns[S.id]={min:N,mid:j,max:X}}}return a}class Am{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(a=>a.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new oi,this.indexArray=new $o,this.indexArray2=new Do,this.programConfigurations=new Jl(i.layers,i.zoom),this.segments=new Lr,this.segments2=new Lr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(i,a,m){this.hasPattern=Kc("fill",this.layers,a);const _=this.layers[0].layout.get("fill-sort-key"),E=!_.isConstant(),S=[];for(const{feature:k,id:N,index:j,sourceLayerIndex:X}of i){const re=this.layers[0]._featureFilter.needGeometry,he=Er(k,re);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),he,m))continue;const xe=E?_.evaluate(he,{},m,a.availableImages):void 0,Ee={id:N,properties:k.properties,type:k.type,sourceLayerIndex:X,index:j,geometry:re?he.geometry:ec(k),patterns:{},sortKey:xe};S.push(Ee)}E&&S.sort((k,N)=>k.sortKey-N.sortKey);for(const k of S){const{geometry:N,index:j,sourceLayerIndex:X}=k;if(this.hasPattern){const re=fd("fill",this.layers,k,this.zoom,a);this.patternFeatures.push(re)}else this.addFeature(k,N,j,m,{});a.featureIndex.insert(i[j].feature,N,j,X,this.index)}}update(i,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,a,this.stateDependentLayers,m)}addFeatures(i,a,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,yu),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,a,m,_,E){for(const S of Im(a,500)){let k=0;for(const xe of S)k+=xe.length;const N=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),j=N.vertexLength,X=[],re=[];for(const xe of S){if(0===xe.length)continue;xe!==S[0]&&re.push(X.length/2);const Ee=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Re=Ee.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Re+xe.length-1,Re),X.push(xe[0].x),X.push(xe[0].y);for(let Ge=1;Ge<xe.length;Ge++)this.layoutVertexArray.emplaceBack(xe[Ge].x,xe[Ge].y),this.indexArray2.emplaceBack(Re+Ge-1,Re+Ge),X.push(xe[Ge].x),X.push(xe[Ge].y);Ee.vertexLength+=xe.length,Ee.primitiveLength+=xe.length}const he=Jp(X,re);for(let xe=0;xe<he.length;xe+=3)this.indexArray.emplaceBack(j+he[xe],j+he[xe+1],j+he[xe+2]);N.vertexLength+=k,N.primitiveLength+=he.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,m,E,_)}}let Mg,km;te("FillBucket",Am,{omit:["layers","patternFeatures"]});var Tg={get paint(){return km=km||new Rr({"fill-antialias":new Wi(xt.paint_fill["fill-antialias"]),"fill-opacity":new yn(xt.paint_fill["fill-opacity"]),"fill-color":new yn(xt.paint_fill["fill-color"]),"fill-outline-color":new yn(xt.paint_fill["fill-outline-color"]),"fill-translate":new Wi(xt.paint_fill["fill-translate"]),"fill-translate-anchor":new Wi(xt.paint_fill["fill-translate-anchor"]),"fill-pattern":new oa(xt.paint_fill["fill-pattern"])})},get layout(){return Mg=Mg||new Rr({"fill-sort-key":new yn(xt.layout_fill["fill-sort-key"])})}};class My extends Es{constructor(i){super(i,Tg)}recalculate(i,a){super.recalculate(i,a);const m=this.paint._values["fill-outline-color"];"constant"===m.value.kind&&void 0===m.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Am(i)}queryRadius(){return Cc(this.paint.get("fill-translate"))}queryIntersectsFeature(i,a,m,_,E,S,k){return nh(Ec(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,k),_)}isTileClipped(){return!0}}const Ig=Fr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ag=Fr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Ld}=Ig;var Na={},nf=Ze,mh=Sc;function Sc(s,i,a,m,_){this.properties={},this.extent=a,this.type=0,this._pbf=s,this._geometry=-1,this._keys=m,this._values=_,s.readFields(Om,this,i)}function Om(s,i,a){1==s?i.id=a.readVarint():2==s?function(m,_){for(var E=m.readVarint()+m.pos;m.pos<E;){var S=_._keys[m.readVarint()],k=_._values[m.readVarint()];_.properties[S]=k}}(a,i):3==s?i.type=a.readVarint():4==s&&(i._geometry=a.pos)}function kg(s){for(var i,a,m=0,_=0,E=s.length,S=E-1;_<E;S=_++)m+=((a=s[S]).x-(i=s[_]).x)*(i.y+a.y);return m}Sc.types=["Unknown","Point","LineString","Polygon"],Sc.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var i,a=s.readVarint()+s.pos,m=1,_=0,E=0,S=0,k=[];s.pos<a;){if(_<=0){var N=s.readVarint();m=7&N,_=N>>3}if(_--,1===m||2===m)E+=s.readSVarint(),S+=s.readSVarint(),1===m&&(i&&k.push(i),i=[]),i.push(new nf(E,S));else{if(7!==m)throw new Error("unknown command "+m);i&&i.push(i[0].clone())}}return i&&k.push(i),k},Sc.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var i=s.readVarint()+s.pos,a=1,m=0,_=0,E=0,S=1/0,k=-1/0,N=1/0,j=-1/0;s.pos<i;){if(m<=0){var X=s.readVarint();a=7&X,m=X>>3}if(m--,1===a||2===a)(_+=s.readSVarint())<S&&(S=_),_>k&&(k=_),(E+=s.readSVarint())<N&&(N=E),E>j&&(j=E);else if(7!==a)throw new Error("unknown command "+a)}return[S,N,k,j]},Sc.prototype.toGeoJSON=function(s,i,a){var m,_,E=this.extent*Math.pow(2,a),S=this.extent*s,k=this.extent*i,N=this.loadGeometry(),j=Sc.types[this.type];function X(xe){for(var Ee=0;Ee<xe.length;Ee++){var Re=xe[Ee];xe[Ee]=[360*(Re.x+S)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(Re.y+k)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var re=[];for(m=0;m<N.length;m++)re[m]=N[m][0];X(N=re);break;case 2:for(m=0;m<N.length;m++)X(N[m]);break;case 3:for(N=function(xe){var Ee=xe.length;if(Ee<=1)return[xe];for(var Re,Ge,tt=[],Ct=0;Ct<Ee;Ct++){var mt=kg(xe[Ct]);0!==mt&&(void 0===Ge&&(Ge=mt<0),Ge===mt<0?(Re&&tt.push(Re),Re=[xe[Ct]]):Re.push(xe[Ct]))}return Re&&tt.push(Re),tt}(N),m=0;m<N.length;m++)for(_=0;_<N[m].length;_++)X(N[m][_])}1===N.length?N=N[0]:j="Multi"+j;var he={type:"Feature",geometry:{type:j,coordinates:N},properties:this.properties};return"id"in this&&(he.id=this.id),he};var Cu=mh,Pm=Eu;function Eu(s,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(Ty,this,i),this.length=this._features.length}function Ty(s,i,a){15===s?i.version=a.readVarint():1===s?i.name=a.readString():5===s?i.extent=a.readVarint():2===s?i._features.push(a.pos):3===s?i._keys.push(a.readString()):4===s&&i._values.push(function(m){for(var _=null,E=m.readVarint()+m.pos;m.pos<E;){var S=m.readVarint()>>3;_=1===S?m.readString():2===S?m.readFloat():3===S?m.readDouble():4===S?m.readVarint64():5===S?m.readVarint():6===S?m.readSVarint():7===S?m.readBoolean():null}return _}(a))}Eu.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var i=this._pbf.readVarint()+this._pbf.pos;return new Cu(this._pbf,i,this.extent,this._keys,this._values)};var Rm=Pm;function Og(s,i,a){if(3===s){var m=new Rm(a,a.readVarint()+a.pos);m.length&&(i[m.name]=m)}}Na.VectorTile=function(s,i){this.layers=s.readFields(Og,{},i)},Na.VectorTileFeature=mh,Na.VectorTileLayer=Pm;const Fm=Na.VectorTileFeature.types,ph=Math.pow(2,13);function Nd(s,i,a,m,_,E,S,k){s.emplaceBack(i,a,2*Math.floor(m*ph)+S,_*ph*2,E*ph*2,Math.round(k))}class za{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(a=>a.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Jt,this.centroidVertexArray=new Qe,this.indexArray=new $o,this.programConfigurations=new Jl(i.layers,i.zoom),this.segments=new Lr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(i,a,m){this.features=[],this.hasPattern=Kc("fill-extrusion",this.layers,a);for(const{feature:_,id:E,index:S,sourceLayerIndex:k}of i){const N=this.layers[0]._featureFilter.needGeometry,j=Er(_,N);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),j,m))continue;const X={id:E,sourceLayerIndex:k,index:S,geometry:N?j.geometry:ec(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(fd("fill-extrusion",this.layers,X,this.zoom,a)):this.addFeature(X,X.geometry,S,m,{}),a.featureIndex.insert(_,X.geometry,S,k,this.index,!0)}}addFeatures(i,a,m){for(const _ of this.features){const{geometry:E}=_;this.addFeature(_,E,_.index,a,m)}}update(i,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Ld),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,Ag.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,a,m,_,E){const S={x:0,y:0,vertexCount:0};for(const k of Im(a,500)){let N=0;for(const Ee of k)N+=Ee.length;let j=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Ee of k){if(0===Ee.length||((s=Ee).every(i=>i.x<0)||s.every(i=>i.x>So)||s.every(i=>i.y<0)||s.every(i=>i.y>So)))continue;let Re=0;for(let Ge=0;Ge<Ee.length;Ge++){const tt=Ee[Ge];if(Ge>=1){const Ct=Ee[Ge-1];if(!fh(tt,Ct)){j.vertexLength+4>Lr.MAX_VERTEX_ARRAY_LENGTH&&(j=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const mt=tt.sub(Ct)._perp()._unit(),Mt=Ct.dist(tt);Re+Mt>32768&&(Re=0),Nd(this.layoutVertexArray,tt.x,tt.y,mt.x,mt.y,0,0,Re),Nd(this.layoutVertexArray,tt.x,tt.y,mt.x,mt.y,0,1,Re),S.x+=2*tt.x,S.y+=2*tt.y,S.vertexCount+=2,Re+=Mt,Nd(this.layoutVertexArray,Ct.x,Ct.y,mt.x,mt.y,0,0,Re),Nd(this.layoutVertexArray,Ct.x,Ct.y,mt.x,mt.y,0,1,Re),S.x+=2*Ct.x,S.y+=2*Ct.y,S.vertexCount+=2;const Pt=j.vertexLength;this.indexArray.emplaceBack(Pt,Pt+2,Pt+1),this.indexArray.emplaceBack(Pt+1,Pt+2,Pt+3),j.vertexLength+=4,j.primitiveLength+=2}}}}if(j.vertexLength+N>Lr.MAX_VERTEX_ARRAY_LENGTH&&(j=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),"Polygon"!==Fm[i.type])continue;const X=[],re=[],he=j.vertexLength;for(const Ee of k)if(0!==Ee.length){Ee!==k[0]&&re.push(X.length/2);for(let Re=0;Re<Ee.length;Re++){const Ge=Ee[Re];Nd(this.layoutVertexArray,Ge.x,Ge.y,0,0,1,1,0),S.x+=Ge.x,S.y+=Ge.y,S.vertexCount+=1,X.push(Ge.x),X.push(Ge.y)}}const xe=Jp(X,re);for(let Ee=0;Ee<xe.length;Ee+=3)this.indexArray.emplaceBack(he+xe[Ee],he+xe[Ee+2],he+xe[Ee+1]);j.primitiveLength+=xe.length/3,j.vertexLength+=N}var s;for(let k=0;k<S.vertexCount;k++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,m,E,_)}}function fh(s,i){return s.x===i.x&&(s.x<0||s.x>So)||s.y===i.y&&(s.y<0||s.y>So)}let Du;te("FillExtrusionBucket",za,{omit:["layers","features"]});var Pg={get paint(){return Du=Du||new Rr({"fill-extrusion-opacity":new Wi(xt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yn(xt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Wi(xt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Wi(xt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new oa(xt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yn(xt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yn(xt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Wi(xt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Xc extends Es{constructor(i){super(i,Pg)}createBucket(i){return new za(i)}queryRadius(){return Cc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,a,m,_,E,S,k,N){const j=Ec(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,k),X=this.paint.get("fill-extrusion-height").evaluate(a,m),re=this.paint.get("fill-extrusion-base").evaluate(a,m),he=function(Ee,Re,Ge,tt){const Ct=[];for(const mt of Ee){const Mt=[mt.x,mt.y,0,1];Dc(Mt,Mt,Re),Ct.push(new Ie(Mt[0]/Mt[3],Mt[1]/Mt[3]))}return Ct}(j,N),xe=function(Ee,Re,Ge,tt){const Ct=[],mt=[],Mt=tt[8]*Re,Pt=tt[9]*Re,ti=tt[10]*Re,Vi=tt[11]*Re,nn=tt[8]*Ge,Ni=tt[9]*Ge,Oi=tt[10]*Ge,Mi=tt[11]*Ge;for(const Ki of Ee){const Ti=[],gi=[];for(const gn of Ki){const sn=gn.x,Gn=gn.y,Ar=tt[0]*sn+tt[4]*Gn+tt[12],pr=tt[1]*sn+tt[5]*Gn+tt[13],to=tt[2]*sn+tt[6]*Gn+tt[14],ga=tt[3]*sn+tt[7]*Gn+tt[15],Hs=to+ti,_o=ga+Vi,Ms=Ar+nn,$s=pr+Ni,Gs=to+Oi,Ts=ga+Mi,yo=new Ie((Ar+Mt)/_o,(pr+Pt)/_o);yo.z=Hs/_o,Ti.push(yo);const qo=new Ie(Ms/Ts,$s/Ts);qo.z=Gs/Ts,gi.push(qo)}Ct.push(Ti),mt.push(gi)}return[Ct,mt]}(_,re,X,N);return function(Ee,Re,Ge){let tt=1/0;nh(Ge,Re)&&(tt=Nl(Ge,Re[0]));for(let Ct=0;Ct<Re.length;Ct++){const mt=Re[Ct],Mt=Ee[Ct];for(let Pt=0;Pt<mt.length-1;Pt++){const ti=mt[Pt],Vi=[ti,mt[Pt+1],Mt[Pt+1],Mt[Pt],ti];ih(Ge,Vi)&&(tt=Math.min(tt,Nl(Ge,Vi)))}}return tt!==1/0&&tt}(xe[0],xe[1],he)}}function Cl(s,i){return s.x*i.x+s.y*i.y}function Nl(s,i){if(1===s.length){let a=0;const m=i[a++];let _;for(;!_||m.equals(_);)if(_=i[a++],!_)return 1/0;for(;a<i.length;a++){const E=i[a],S=s[0],k=_.sub(m),N=E.sub(m),j=S.sub(m),X=Cl(k,k),re=Cl(k,N),he=Cl(N,N),xe=Cl(j,k),Ee=Cl(j,N),Re=X*he-re*re,Ge=(he*xe-re*Ee)/Re,tt=(X*Ee-re*xe)/Re,Ct=m.z*(1-Ge-tt)+_.z*Ge+E.z*tt;if(isFinite(Ct))return Ct}return 1/0}{let a=1/0;for(const m of i)a=Math.min(a,m.z);return a}}const zd=Fr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Nm}=zd,Rg=Fr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Fg}=Rg,Su=Na.VectorTileFeature.types,Bd=Math.cos(Math.PI/180*37.5),rf=Math.pow(2,14)/.5;class zm{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(a=>a.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new bi,this.layoutVertexArray2=new Ai,this.indexArray=new $o,this.programConfigurations=new Jl(i.layers,i.zoom),this.segments=new Lr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(i,a,m){this.hasPattern=Kc("line",this.layers,a);const _=this.layers[0].layout.get("line-sort-key"),E=!_.isConstant(),S=[];for(const{feature:k,id:N,index:j,sourceLayerIndex:X}of i){const re=this.layers[0]._featureFilter.needGeometry,he=Er(k,re);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),he,m))continue;const xe=E?_.evaluate(he,{},m):void 0,Ee={id:N,properties:k.properties,type:k.type,sourceLayerIndex:X,index:j,geometry:re?he.geometry:ec(k),patterns:{},sortKey:xe};S.push(Ee)}E&&S.sort((k,N)=>k.sortKey-N.sortKey);for(const k of S){const{geometry:N,index:j,sourceLayerIndex:X}=k;if(this.hasPattern){const re=fd("line",this.layers,k,this.zoom,a);this.patternFeatures.push(re)}else this.addFeature(k,N,j,m,{});a.featureIndex.insert(i[j].feature,N,j,X,this.index)}}update(i,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,a,this.stateDependentLayers,m)}addFeatures(i,a,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,Fg)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Nm),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,a,m,_,E){const S=this.layers[0].layout,k=S.get("line-join").evaluate(i,{}),N=S.get("line-cap"),j=S.get("line-miter-limit"),X=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const re of a)this.addLine(re,i,k,N,j,X);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,m,E,_)}addLine(i,a,m,_,E,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let tt=0;tt<i.length-1;tt++)this.totalDistance+=i[tt].dist(i[tt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const k="Polygon"===Su[a.type];let N=i.length;for(;N>=2&&i[N-1].equals(i[N-2]);)N--;let j=0;for(;j<N-1&&i[j].equals(i[j+1]);)j++;if(N<(k?3:2))return;"bevel"===m&&(E=1.05);const X=this.overscaling<=16?15*So/(512*this.overscaling):0,re=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let he,xe,Ee,Re,Ge;this.e1=this.e2=-1,k&&(he=i[N-2],Ge=i[j].sub(he)._unit()._perp());for(let tt=j;tt<N;tt++){if(Ee=tt===N-1?k?i[j+1]:void 0:i[tt+1],Ee&&i[tt].equals(Ee))continue;Ge&&(Re=Ge),he&&(xe=he),he=i[tt],Ge=Ee?Ee.sub(he)._unit()._perp():Re,Re=Re||Ge;let Ct=Re.add(Ge);0===Ct.x&&0===Ct.y||Ct._unit();const mt=Re.x*Ge.x+Re.y*Ge.y,Mt=Ct.x*Ge.x+Ct.y*Ge.y,Pt=0!==Mt?1/Mt:1/0,ti=2*Math.sqrt(2-2*Mt),Vi=Mt<Bd&&xe&&Ee,nn=Re.x*Ge.y-Re.y*Ge.x>0;if(Vi&&tt>j){const Mi=he.dist(xe);if(Mi>2*X){const Ki=he.sub(he.sub(xe)._mult(X/Mi)._round());this.updateDistance(xe,Ki),this.addCurrentVertex(Ki,Re,0,0,re),xe=Ki}}const Ni=xe&&Ee;let Oi=Ni?m:k?"butt":_;if(Ni&&"round"===Oi&&(Pt<S?Oi="miter":Pt<=2&&(Oi="fakeround")),"miter"===Oi&&Pt>E&&(Oi="bevel"),"bevel"===Oi&&(Pt>2&&(Oi="flipbevel"),Pt<E&&(Oi="miter")),xe&&this.updateDistance(xe,he),"miter"===Oi)Ct._mult(Pt),this.addCurrentVertex(he,Ct,0,0,re);else if("flipbevel"===Oi){if(Pt>100)Ct=Ge.mult(-1);else{const Mi=Pt*Re.add(Ge).mag()/Re.sub(Ge).mag();Ct._perp()._mult(Mi*(nn?-1:1))}this.addCurrentVertex(he,Ct,0,0,re),this.addCurrentVertex(he,Ct.mult(-1),0,0,re)}else if("bevel"===Oi||"fakeround"===Oi){const Mi=-Math.sqrt(Pt*Pt-1),Ki=nn?Mi:0,Ti=nn?0:Mi;if(xe&&this.addCurrentVertex(he,Re,Ki,Ti,re),"fakeround"===Oi){const gi=Math.round(180*ti/Math.PI/20);for(let gn=1;gn<gi;gn++){let sn=gn/gi;if(.5!==sn){const Ar=sn-.5;sn+=sn*Ar*(sn-1)*((1.0904+mt*(mt*(3.55645-1.43519*mt)-3.2452))*Ar*Ar+(.848013+mt*(.215638*mt-1.06021)))}const Gn=Ge.sub(Re)._mult(sn)._add(Re)._unit()._mult(nn?-1:1);this.addHalfVertex(he,Gn.x,Gn.y,!1,nn,0,re)}}Ee&&this.addCurrentVertex(he,Ge,-Ki,-Ti,re)}else if("butt"===Oi)this.addCurrentVertex(he,Ct,0,0,re);else if("square"===Oi){const Mi=xe?1:-1;this.addCurrentVertex(he,Ct,Mi,Mi,re)}else"round"===Oi&&(xe&&(this.addCurrentVertex(he,Re,0,0,re),this.addCurrentVertex(he,Re,1,1,re,!0)),Ee&&(this.addCurrentVertex(he,Ge,-1,-1,re,!0),this.addCurrentVertex(he,Ge,0,0,re)));if(Vi&&tt<N-1){const Mi=he.dist(Ee);if(Mi>2*X){const Ki=he.add(Ee.sub(he)._mult(X/Mi)._round());this.updateDistance(he,Ki),this.addCurrentVertex(Ki,Ge,0,0,re),he=Ki}}}}addCurrentVertex(i,a,m,_,E,S=!1){const k=a.y*_-a.x,N=-a.y-a.x*_;this.addHalfVertex(i,a.x+a.y*m,a.y-a.x*m,S,!1,m,E),this.addHalfVertex(i,k,N,S,!0,-_,E),this.distance>rf/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,a,m,_,E,S))}addHalfVertex({x:i,y:a},m,_,E,S,k,N){const j=.5*(this.lineClips?this.scaledDistance*(rf-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(E?1:0),(a<<1)+(S?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+(0===k?0:k<0?-1:1)|(63&j)<<2,j>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const X=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,X),N.primitiveLength++),S?this.e2=X:this.e1=X}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,a){this.distance+=i.dist(a),this.updateScaledDistance()}}let sf,gh;te("LineBucket",zm,{omit:["layers","patternFeatures"]});var af={get paint(){return gh=gh||new Rr({"line-opacity":new yn(xt.paint_line["line-opacity"]),"line-color":new yn(xt.paint_line["line-color"]),"line-translate":new Wi(xt.paint_line["line-translate"]),"line-translate-anchor":new Wi(xt.paint_line["line-translate-anchor"]),"line-width":new yn(xt.paint_line["line-width"]),"line-gap-width":new yn(xt.paint_line["line-gap-width"]),"line-offset":new yn(xt.paint_line["line-offset"]),"line-blur":new yn(xt.paint_line["line-blur"]),"line-dasharray":new xc(xt.paint_line["line-dasharray"]),"line-pattern":new oa(xt.paint_line["line-pattern"]),"line-gradient":new fl(xt.paint_line["line-gradient"])})},get layout(){return sf=sf||new Rr({"line-cap":new Wi(xt.layout_line["line-cap"]),"line-join":new yn(xt.layout_line["line-join"]),"line-miter-limit":new Wi(xt.layout_line["line-miter-limit"]),"line-round-limit":new Wi(xt.layout_line["line-round-limit"]),"line-sort-key":new yn(xt.layout_line["line-sort-key"])})}};class Bm extends yn{possiblyEvaluate(i,a){return a=new lr(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(i,a)}evaluate(i,a,m,_){return a=jt({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(i,a,m,_)}}let Mu;class lf extends Es{constructor(i){super(i,af),this.gradientVersion=0,Mu||(Mu=new Bm(af.paint.properties["line-width"].specification),Mu.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if("line-gradient"===i){const a=this.gradientExpression();this.stepInterpolant=!(void 0===a._styleExpression)&&a._styleExpression.expression instanceof xo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,a){super.recalculate(i,a),this.paint._values["line-floorwidth"]=Mu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new zm(i)}queryRadius(i){const a=i,m=cf(kd("line-width",this,a),kd("line-gap-width",this,a)),_=kd("line-offset",this,a);return m/2+Math.abs(_)+Cc(this.paint.get("line-translate"))}queryIntersectsFeature(i,a,m,_,E,S,k){const N=Ec(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,k),j=k/2*cf(this.paint.get("line-width").evaluate(a,m),this.paint.get("line-gap-width").evaluate(a,m)),X=this.paint.get("line-offset").evaluate(a,m);return X&&(_=function(re,he){const xe=[];for(let Ee=0;Ee<re.length;Ee++){const Re=re[Ee],Ge=[];for(let tt=0;tt<Re.length;tt++){const Ct=Re[tt-1],mt=Re[tt],Mt=Re[tt+1],Pt=0===tt?new Ie(0,0):mt.sub(Ct)._unit()._perp(),ti=tt===Re.length-1?new Ie(0,0):Mt.sub(mt)._unit()._perp(),Vi=Pt._add(ti)._unit(),nn=Vi.x*ti.x+Vi.y*ti.y;0!==nn&&Vi._mult(1/nn),Ge.push(Vi._mult(he)._add(mt))}xe.push(Ge)}return xe}(_,X*k)),function(re,he,xe){for(let Ee=0;Ee<he.length;Ee++){const Re=he[Ee];if(re.length>=3)for(let Ge=0;Ge<Re.length;Ge++)if(Ad(re,Re[Ge]))return!0;if(Id(re,Re,xe))return!0}return!1}(N,_,j)}isTileClipped(){return!0}}function cf(s,i){return i>0?i+2*s:s}const Tu=Fr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Lg=Fr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Fr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const df=Fr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Fr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const uf=Fr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ng=Fr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Iy(s,i,a){return s.sections.forEach(m=>{m.text=function(_,E,S){const k=E.layout.get("text-transform").evaluate(S,{});return"uppercase"===k?_=_.toLocaleUpperCase():"lowercase"===k&&(_=_.toLocaleLowerCase()),os.applyArabicShaping&&(_=os.applyArabicShaping(_)),_}(m.text,i,a)}),s}Fr([{name:"triangle",components:3,type:"Uint16"}]),Fr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Fr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Fr([{type:"Float32",name:"offsetX"}]),Fr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Fr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Vd={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Mo=24,rl=_r,_h=function(s,i,a,m,_){var E,S,k=8*_-m-1,N=(1<<k)-1,j=N>>1,X=-7,re=a?_-1:0,he=a?-1:1,xe=s[i+re];for(re+=he,E=xe&(1<<-X)-1,xe>>=-X,X+=k;X>0;E=256*E+s[i+re],re+=he,X-=8);for(S=E&(1<<-X)-1,E>>=-X,X+=m;X>0;S=256*S+s[i+re],re+=he,X-=8);if(0===E)E=1-j;else{if(E===N)return S?NaN:1/0*(xe?-1:1);S+=Math.pow(2,m),E-=j}return(xe?-1:1)*S*Math.pow(2,E-m)},Mc=function(s,i,a,m,_,E){var S,k,N,j=8*E-_-1,X=(1<<j)-1,re=X>>1,he=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,xe=m?0:E-1,Ee=m?1:-1,Re=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(k=isNaN(i)?1:0,S=X):(S=Math.floor(Math.log(i)/Math.LN2),i*(N=Math.pow(2,-S))<1&&(S--,N*=2),(i+=S+re>=1?he/N:he*Math.pow(2,1-re))*N>=2&&(S++,N/=2),S+re>=X?(k=0,S=X):S+re>=1?(k=(i*N-1)*Math.pow(2,_),S+=re):(k=i*Math.pow(2,re-1)*Math.pow(2,_),S=0));_>=8;s[a+xe]=255&k,xe+=Ee,k/=256,_-=8);for(S=S<<_|k,j+=_;j>0;s[a+xe]=255&S,xe+=Ee,S/=256,j-=8);s[a+xe-Ee]|=128*Re};function _r(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}_r.Varint=0,_r.Fixed64=1,_r.Bytes=2,_r.Fixed32=5;var yh=4294967296,Ud=1/yh,hf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Tc(s){return s.type===_r.Bytes?s.readVarint()+s.pos:s.pos+1}function mf(s,i,a){var m=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));a.realloc(m);for(var _=a.pos-1;_>=s;_--)a.buf[_+m]=a.buf[_]}function Ic(s,i){for(var a=0;a<s.length;a++)i.writeVarint(s[a])}function vh(s,i){for(var a=0;a<s.length;a++)i.writeSVarint(s[a])}function zg(s,i){for(var a=0;a<s.length;a++)i.writeFloat(s[a])}function pf(s,i){for(var a=0;a<s.length;a++)i.writeDouble(s[a])}function Vm(s,i){for(var a=0;a<s.length;a++)i.writeBoolean(s[a])}function Bg(s,i){for(var a=0;a<s.length;a++)i.writeFixed32(s[a])}function Vg(s,i){for(var a=0;a<s.length;a++)i.writeSFixed32(s[a])}function ff(s,i){for(var a=0;a<s.length;a++)i.writeFixed64(s[a])}function Ug(s,i){for(var a=0;a<s.length;a++)i.writeSFixed64(s[a])}function bh(s,i){return(s[i]|s[i+1]<<8|s[i+2]<<16)+16777216*s[i+3]}function gd(s,i,a){s[a]=i,s[a+1]=i>>>8,s[a+2]=i>>>16,s[a+3]=i>>>24}function Um(s,i){return(s[i]|s[i+1]<<8|s[i+2]<<16)+(s[i+3]<<24)}_r.prototype={destroy:function(){this.buf=null},readFields:function(s,i,a){for(a=a||this.length;this.pos<a;){var m=this.readVarint(),_=m>>3,E=this.pos;this.type=7&m,s(_,i,this),this.pos===E&&this.skip(m)}return i},readMessage:function(s,i){return this.readFields(s,i,this.readVarint()+this.pos)},readFixed32:function(){var s=bh(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=Um(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=bh(this.buf,this.pos)+bh(this.buf,this.pos+4)*yh;return this.pos+=8,s},readSFixed64:function(){var s=bh(this.buf,this.pos)+Um(this.buf,this.pos+4)*yh;return this.pos+=8,s},readFloat:function(){var s=_h(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=_h(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var i,a,m=this.buf;return i=127&(a=m[this.pos++]),a<128?i:(i|=(127&(a=m[this.pos++]))<<7,a<128?i:(i|=(127&(a=m[this.pos++]))<<14,a<128?i:(i|=(127&(a=m[this.pos++]))<<21,a<128?i:function(_,E,S){var k,N,j=S.buf;if(k=(112&(N=j[S.pos++]))>>4,N<128||(k|=(127&(N=j[S.pos++]))<<3,N<128)||(k|=(127&(N=j[S.pos++]))<<10,N<128)||(k|=(127&(N=j[S.pos++]))<<17,N<128)||(k|=(127&(N=j[S.pos++]))<<24,N<128)||(k|=(1&(N=j[S.pos++]))<<31,N<128))return function Qc(s,i,a){return a?4294967296*i+(s>>>0):4294967296*(i>>>0)+(s>>>0)}(_,k,E);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(a=m[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,i=this.pos;return this.pos=s,s-i>=12&&hf?hf.decode(this.buf.subarray(i,s)):function(a,m,_){for(var E="",S=m;S<_;){var k,N,j,X=a[S],re=null,he=X>239?4:X>223?3:X>191?2:1;if(S+he>_)break;1===he?X<128&&(re=X):2===he?128==(192&(k=a[S+1]))&&(re=(31&X)<<6|63&k)<=127&&(re=null):3===he?(N=a[S+2],128==(192&(k=a[S+1]))&&128==(192&N)&&((re=(15&X)<<12|(63&k)<<6|63&N)<=2047||re>=55296&&re<=57343)&&(re=null)):4===he&&(N=a[S+2],j=a[S+3],128==(192&(k=a[S+1]))&&128==(192&N)&&128==(192&j)&&((re=(15&X)<<18|(63&k)<<12|(63&N)<<6|63&j)<=65535||re>=1114112)&&(re=null)),null===re?(re=65533,he=1):re>65535&&(re-=65536,E+=String.fromCharCode(re>>>10&1023|55296),re=56320|1023&re),E+=String.fromCharCode(re),S+=he}return E}(this.buf,i,s)},readBytes:function(){var s=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,s);return this.pos=s,i},readPackedVarint:function(s,i){if(this.type!==_r.Bytes)return s.push(this.readVarint(i));var a=Tc(this);for(s=s||[];this.pos<a;)s.push(this.readVarint(i));return s},readPackedSVarint:function(s){if(this.type!==_r.Bytes)return s.push(this.readSVarint());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==_r.Bytes)return s.push(this.readBoolean());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==_r.Bytes)return s.push(this.readFloat());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==_r.Bytes)return s.push(this.readDouble());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==_r.Bytes)return s.push(this.readFixed32());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==_r.Bytes)return s.push(this.readSFixed32());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==_r.Bytes)return s.push(this.readFixed64());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==_r.Bytes)return s.push(this.readSFixed64());var i=Tc(this);for(s=s||[];this.pos<i;)s.push(this.readSFixed64());return s},skip:function(s){var i=7&s;if(i===_r.Varint)for(;this.buf[this.pos++]>127;);else if(i===_r.Bytes)this.pos=this.readVarint()+this.pos;else if(i===_r.Fixed32)this.pos+=4;else{if(i!==_r.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(s,i){this.writeVarint(s<<3|i)},realloc:function(s){for(var i=this.length||16;i<this.pos+s;)i*=2;if(i!==this.length){var a=new Uint8Array(i);a.set(this.buf),this.buf=a,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),gd(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),gd(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),gd(this.buf,-1&s,this.pos),gd(this.buf,Math.floor(s*Ud),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),gd(this.buf,-1&s,this.pos),gd(this.buf,Math.floor(s*Ud),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(i,a){var m,_,E,k;if(i>=0?(m=i%4294967296|0,_=i/4294967296|0):(_=~(-i/4294967296),4294967295^(m=~(-i%4294967296))?m=m+1|0:(m=0,_=_+1|0)),i>=0x10000000000000000||i<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),E=m,(k=a).buf[k.pos++]=127&E|128,E>>>=7,k.buf[k.pos++]=127&E|128,E>>>=7,k.buf[k.pos++]=127&E|128,E>>>=7,k.buf[k.pos++]=127&E|128,k.buf[k.pos]=127&(E>>>=7),function(E,S){var k=(7&E)<<4;S.buf[S.pos++]|=k|((E>>>=3)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E|((E>>>=7)?128:0),E&&(S.buf[S.pos++]=127&E)))))}(_,a)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var i=this.pos;this.pos=function(m,_,E){for(var S,k,N=0;N<_.length;N++){if((S=_.charCodeAt(N))>55295&&S<57344){if(!k){S>56319||N+1===_.length?(m[E++]=239,m[E++]=191,m[E++]=189):k=S;continue}if(S<56320){m[E++]=239,m[E++]=191,m[E++]=189,k=S;continue}S=k-55296<<10|S-56320|65536,k=null}else k&&(m[E++]=239,m[E++]=191,m[E++]=189,k=null);S<128?m[E++]=S:(S<2048?m[E++]=S>>6|192:(S<65536?m[E++]=S>>12|224:(m[E++]=S>>18|240,m[E++]=S>>12&63|128),m[E++]=S>>6&63|128),m[E++]=63&S|128)}return E}(this.buf,s,this.pos);var a=this.pos-i;a>=128&&mf(i,a,this),this.pos=i-1,this.writeVarint(a),this.pos+=a},writeFloat:function(s){this.realloc(4),Mc(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),Mc(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var i=s.length;this.writeVarint(i),this.realloc(i);for(var a=0;a<i;a++)this.buf[this.pos++]=s[a]},writeRawMessage:function(s,i){this.pos++;var a=this.pos;s(i,this);var m=this.pos-a;m>=128&&mf(a,m,this),this.pos=a-1,this.writeVarint(m),this.pos+=m},writeMessage:function(s,i,a){this.writeTag(s,_r.Bytes),this.writeRawMessage(i,a)},writePackedVarint:function(s,i){i.length&&this.writeMessage(s,Ic,i)},writePackedSVarint:function(s,i){i.length&&this.writeMessage(s,vh,i)},writePackedBoolean:function(s,i){i.length&&this.writeMessage(s,Vm,i)},writePackedFloat:function(s,i){i.length&&this.writeMessage(s,zg,i)},writePackedDouble:function(s,i){i.length&&this.writeMessage(s,pf,i)},writePackedFixed32:function(s,i){i.length&&this.writeMessage(s,Bg,i)},writePackedSFixed32:function(s,i){i.length&&this.writeMessage(s,Vg,i)},writePackedFixed64:function(s,i){i.length&&this.writeMessage(s,ff,i)},writePackedSFixed64:function(s,i){i.length&&this.writeMessage(s,Ug,i)},writeBytesField:function(s,i){this.writeTag(s,_r.Bytes),this.writeBytes(i)},writeFixed32Field:function(s,i){this.writeTag(s,_r.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(s,i){this.writeTag(s,_r.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(s,i){this.writeTag(s,_r.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(s,i){this.writeTag(s,_r.Fixed64),this.writeSFixed64(i)},writeVarintField:function(s,i){this.writeTag(s,_r.Varint),this.writeVarint(i)},writeSVarintField:function(s,i){this.writeTag(s,_r.Varint),this.writeSVarint(i)},writeStringField:function(s,i){this.writeTag(s,_r.Bytes),this.writeString(i)},writeFloatField:function(s,i){this.writeTag(s,_r.Fixed32),this.writeFloat(i)},writeDoubleField:function(s,i){this.writeTag(s,_r.Fixed64),this.writeDouble(i)},writeBooleanField:function(s,i){this.writeVarintField(s,!!i)}};var xh=le(rl);const Jc=3;function Ba(s,i,a){1===s&&a.readMessage(ed,i)}function ed(s,i,a){if(3===s){const{id:m,bitmap:_,width:E,height:S,left:k,top:N,advance:j}=a.readMessage(Iu,{});i.push({id:m,bitmap:new lh({width:E+2*Jc,height:S+2*Jc},_),metrics:{width:E,height:S,left:k,top:N,advance:j}})}}function Iu(s,i,a){1===s?i.id=a.readVarint():2===s?i.bitmap=a.readBytes():3===s?i.width=a.readVarint():4===s?i.height=a.readVarint():5===s?i.left=a.readSVarint():6===s?i.top=a.readSVarint():7===s&&(i.advance=a.readVarint())}const jm=Jc;function zl(s){let i=0,a=0;for(const S of s)i+=S.w*S.h,a=Math.max(a,S.w);s.sort((S,k)=>k.h-S.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),a),h:1/0}];let _=0,E=0;for(const S of s)for(let k=m.length-1;k>=0;k--){const N=m[k];if(!(S.w>N.w||S.h>N.h)){if(S.x=N.x,S.y=N.y,E=Math.max(E,S.y+S.h),_=Math.max(_,S.x+S.w),S.w===N.w&&S.h===N.h){const j=m.pop();k<m.length&&(m[k]=j)}else S.h===N.h?(N.x+=S.w,N.w-=S.w):S.w===N.w?(N.y+=S.h,N.h-=S.h):(m.push({x:N.x+S.w,y:N.y,w:N.w-S.w,h:S.h}),N.y+=S.h,N.h-=S.h);break}}return{w:_,h:E,fill:i/(_*E)||0}}const ds=1;class gf{constructor(i,{pixelRatio:a,version:m,stretchX:_,stretchY:E,content:S}){this.paddedRect=i,this.pixelRatio=a,this.stretchX=_,this.stretchY=E,this.content=S,this.version=m}get tl(){return[this.paddedRect.x+ds,this.paddedRect.y+ds]}get br(){return[this.paddedRect.x+this.paddedRect.w-ds,this.paddedRect.y+this.paddedRect.h-ds]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ds)/this.pixelRatio,(this.paddedRect.h-2*ds)/this.pixelRatio]}}class Au{constructor(i,a){const m={},_={};this.haveRenderCallbacks=[];const E=[];this.addImages(i,m,E),this.addImages(a,_,E);const{w:S,h:k}=zl(E),N=new Ll({width:S||1,height:k||1});for(const j in i){const X=i[j],re=m[j].paddedRect;Ll.copy(X.data,N,{x:0,y:0},{x:re.x+ds,y:re.y+ds},X.data)}for(const j in a){const X=a[j],re=_[j].paddedRect,he=re.x+ds,xe=re.y+ds,Ee=X.data.width,Re=X.data.height;Ll.copy(X.data,N,{x:0,y:0},{x:he,y:xe},X.data),Ll.copy(X.data,N,{x:0,y:Re-1},{x:he,y:xe-1},{width:Ee,height:1}),Ll.copy(X.data,N,{x:0,y:0},{x:he,y:xe+Re},{width:Ee,height:1}),Ll.copy(X.data,N,{x:Ee-1,y:0},{x:he-1,y:xe},{width:1,height:Re}),Ll.copy(X.data,N,{x:0,y:0},{x:he+Ee,y:xe},{width:1,height:Re})}this.image=N,this.iconPositions=m,this.patternPositions=_}addImages(i,a,m){for(const _ in i){const E=i[_],S={x:0,y:0,w:E.data.width+2*ds,h:E.data.height+2*ds};m.push(S),a[_]=new gf(S,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(i,a){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in i.updatedImages)this.patchUpdatedImage(this.iconPositions[m],i.getImage(m),a),this.patchUpdatedImage(this.patternPositions[m],i.getImage(m),a)}patchUpdatedImage(i,a,m){if(!i||!a||i.version===a.version)return;i.version=a.version;const[_,E]=i.tl;m.update(a.data,void 0,{x:_,y:E})}}var Ac;te("ImagePosition",gf),te("ImageAtlas",Au),g.ai=void 0,(Ac=g.ai||(g.ai={}))[Ac.none=0]="none",Ac[Ac.horizontal=1]="horizontal",Ac[Ac.vertical=2]="vertical",Ac[Ac.horizontalOnly=3]="horizontalOnly";const ku=-17;class jd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,a){const m=new jd;return m.scale=i||1,m.fontStack=a,m}static forImage(i){const a=new jd;return a.imageName=i,a}}class _d{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,a){const m=new _d;for(let _=0;_<i.sections.length;_++){const E=i.sections[_];E.image?m.addImageSection(E):m.addTextSection(E,a)}return m}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let a="";for(let m=0;m<i.length;m++){const _=i.charCodeAt(m+1)||null,E=i.charCodeAt(m-1)||null;a+=_&&Jn(_)&&!Vd[i[m+1]]||E&&Jn(E)&&!Vd[i[m-1]]||!Vd[i[m]]?i[m]:Vd[i[m]]}return a}(this.text)}trim(){let i=0;for(let m=0;m<this.text.length&&Pu[this.text.charCodeAt(m)];m++)i++;let a=this.text.length;for(let m=this.text.length-1;m>=0&&m>=i&&Pu[this.text.charCodeAt(m)];m--)a--;this.text=this.text.substring(i,a),this.sectionIndex=this.sectionIndex.slice(i,a)}substring(i,a){const m=new _d;return m.text=this.text.substring(i,a),m.sectionIndex=this.sectionIndex.slice(i,a),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,a)=>Math.max(i,this.sections[a].scale),0)}addTextSection(i,a){this.text+=i.text,this.sections.push(jd.forText(i.scale,i.fontStack||a));const m=this.sections.length-1;for(let _=0;_<i.text.length;++_)this.sectionIndex.push(m)}addImageSection(i){const a=i.image?i.image.name:"";if(0===a.length)return void _t("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(jd.forImage(a)),this.sectionIndex.push(this.sections.length-1)):_t("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ou(s,i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee,Re){const Ge=_d.fromFeature(s,_);let tt;re===g.ai.vertical&&Ge.verticalizePunctuation();const{processBidirectionalText:Ct,processStyledBidirectionalText:mt}=os;if(Ct&&1===Ge.sections.length){tt=[];const ti=Ct(Ge.toString(),Hm(Ge,j,E,i,m,xe,Ee));for(const Vi of ti){const nn=new _d;nn.text=Vi,nn.sections=Ge.sections;for(let Ni=0;Ni<Vi.length;Ni++)nn.sectionIndex.push(0);tt.push(nn)}}else if(mt){tt=[];const ti=mt(Ge.text,Ge.sectionIndex,Hm(Ge,j,E,i,m,xe,Ee));for(const Vi of ti){const nn=new _d;nn.text=Vi[0],nn.sectionIndex=Vi[1],nn.sections=Ge.sections,tt.push(nn)}}else tt=function(ti,Vi){const nn=[],Ni=ti.text;let Oi=0;for(const Mi of Vi)nn.push(ti.substring(Oi,Mi)),Oi=Mi;return Oi<Ni.length&&nn.push(ti.substring(Oi,Ni.length)),nn}(Ge,Hm(Ge,j,E,i,m,xe,Ee));const Mt=[],Pt={positionedLines:Mt,text:Ge.toString(),top:X[1],bottom:X[1],left:X[0],right:X[0],writingMode:re,iconsInText:!1,verticalizable:!1};return function(ti,Vi,nn,Ni,Oi,Mi,Ki,Ti,gi,gn,sn,Gn){let Ar=0,pr=ku,to=0,ga=0;const Hs="right"===Ti?1:"left"===Ti?0:.5;let _o=0;for(const yo of Oi){yo.trim();const qo=yo.getMaxScale(),la=(qo-1)*Mo,Zs={positionedGlyphs:[],lineOffset:0};ti.positionedLines[_o]=Zs;const Is=Zs.positionedGlyphs;let ca=0;if(!yo.length()){pr+=Mi,++_o;continue}for(let Lo=0;Lo<yo.length();Lo++){const Kn=yo.getSection(Lo),Yo=yo.getSectionIndex(Lo),us=yo.getCharCode(Lo);let vo=0,El=null,Ws=null,Dl=null,Rc=Mo;const al=!(gi===g.ai.horizontal||!sn&&!wr(us)||sn&&(Pu[us]||(Ms=us,di.Arabic(Ms)||di["Arabic Supplement"](Ms)||di["Arabic Extended-A"](Ms)||di["Arabic Presentation Forms-A"](Ms)||di["Arabic Presentation Forms-B"](Ms))));if(Kn.imageName){const Ua=Ni[Kn.imageName];if(!Ua)continue;Dl=Kn.imageName,ti.iconsInText=ti.iconsInText||!0,Ws=Ua.paddedRect;const ya=Ua.displaySize;Kn.scale=Kn.scale*Mo/Gn,El={width:ya[0],height:ya[1],left:ds,top:-jm,advance:al?ya[1]:ya[0]},vo=la+(Mo-ya[1]*Kn.scale),Rc=El.advance;const Fc=al?ya[0]*Kn.scale-Mo*qo:ya[1]*Kn.scale-Mo*qo;Fc>0&&Fc>ca&&(ca=Fc)}else{const Ua=nn[Kn.fontStack],ya=Ua&&Ua[us];if(ya&&ya.rect)Ws=ya.rect,El=ya.metrics;else{const Fc=Vi[Kn.fontStack],$u=Fc&&Fc[us];if(!$u)continue;El=$u.metrics}vo=(qo-Kn.scale)*Mo}al?(ti.verticalizable=!0,Is.push({glyph:us,imageName:Dl,x:Ar,y:pr+vo,vertical:al,scale:Kn.scale,fontStack:Kn.fontStack,sectionIndex:Yo,metrics:El,rect:Ws}),Ar+=Rc*Kn.scale+gn):(Is.push({glyph:us,imageName:Dl,x:Ar,y:pr+vo,vertical:al,scale:Kn.scale,fontStack:Kn.fontStack,sectionIndex:Yo,metrics:El,rect:Ws}),Ar+=El.advance*Kn.scale+gn)}0!==Is.length&&(to=Math.max(Ar-gn,to),Hg(Is,0,Is.length-1,Hs,ca)),Ar=0;const _a=Mi*qo+ca;Zs.lineOffset=Math.max(ca,la),pr+=_a,ga=Math.max(_a,ga),++_o}var Ms;const $s=pr-ku,{horizontalAlign:Gs,verticalAlign:Ts}=$m(Ki);(function(yo,qo,la,Zs,Is,ca,_a,Lo,Kn){const Yo=(qo-la)*Is;let us=0;us=ca!==_a?-Lo*Zs-ku:(-Zs*Kn+.5)*_a;for(const vo of yo)for(const El of vo.positionedGlyphs)El.x+=Yo,El.y+=us})(ti.positionedLines,Hs,Gs,Ts,to,ga,Mi,$s,Oi.length),ti.top+=-Ts*$s,ti.bottom=ti.top+$s,ti.left+=-Gs*to,ti.right=ti.left+to}(Pt,i,a,m,tt,S,k,N,re,j,he,Re),!function(ti){for(const Vi of ti)if(0!==Vi.positionedGlyphs.length)return!1;return!0}(Mt)&&Pt}const Pu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},jg={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function wh(s,i,a,m,_,E){if(i.imageName){const S=m[i.imageName];return S?S.displaySize[0]*i.scale*Mo/E+_:0}{const S=a[i.fontStack],k=S&&S[s];return k?k.metrics.advance*i.scale+_:0}}function Ch(s,i,a,m){const _=Math.pow(s-i,2);return m?s<i?_/2:2*_:_+Math.abs(a)*a}function _f(s,i,a){let m=0;return 10===s&&(m-=1e4),a&&(m+=150),40!==s&&65288!==s||(m+=50),41!==i&&65289!==i||(m+=50),m}function yf(s,i,a,m,_,E){let S=null,k=Ch(i,a,_,E);for(const N of m){const j=Ch(i-N.x,a,_,E)+N.badness;j<=k&&(S=N,k=j)}return{index:s,x:i,priorBreak:S,badness:k}}function Eh(s){return s?Eh(s.priorBreak).concat(s.index):[]}function Hm(s,i,a,m,_,E,S){if("point"!==E)return[];if(!s)return[];const k=[],N=function(he,xe,Ee,Re,Ge,tt){let Ct=0;for(let mt=0;mt<he.length();mt++){const Mt=he.getSection(mt);Ct+=wh(he.getCharCode(mt),Mt,Re,Ge,xe,tt)}return Ct/Math.max(1,Math.ceil(Ct/Ee))}(s,i,a,m,_,S),j=s.text.indexOf("\u200b")>=0;let X=0;for(let he=0;he<s.length();he++){const xe=s.getSection(he),Ee=s.getCharCode(he);if(Pu[Ee]||(X+=wh(Ee,xe,m,_,i,S)),he<s.length()-1){const Re=!((re=Ee)<11904||!(di["Bopomofo Extended"](re)||di.Bopomofo(re)||di["CJK Compatibility Forms"](re)||di["CJK Compatibility Ideographs"](re)||di["CJK Compatibility"](re)||di["CJK Radicals Supplement"](re)||di["CJK Strokes"](re)||di["CJK Symbols and Punctuation"](re)||di["CJK Unified Ideographs Extension A"](re)||di["CJK Unified Ideographs"](re)||di["Enclosed CJK Letters and Months"](re)||di["Halfwidth and Fullwidth Forms"](re)||di.Hiragana(re)||di["Ideographic Description Characters"](re)||di["Kangxi Radicals"](re)||di["Katakana Phonetic Extensions"](re)||di.Katakana(re)||di["Vertical Forms"](re)||di["Yi Radicals"](re)||di["Yi Syllables"](re)));(jg[Ee]||Re||xe.imageName)&&k.push(yf(he+1,X,N,k,_f(Ee,s.getCharCode(he+1),Re&&j),!1))}}var re;return Eh(yf(s.length(),X,N,k,0,!0))}function $m(s){let i=.5,a=.5;switch(s){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:i,verticalAlign:a}}function Hg(s,i,a,m,_){if(!m&&!_)return;const E=s[a],S=(s[a].x+E.metrics.advance*E.scale)*m;for(let k=i;k<=a;k++)s[k].x-=S,s[k].y+=_}function $g(s,i,a){const{horizontalAlign:m,verticalAlign:_}=$m(a),E=i[0]-s.displaySize[0]*m,S=i[1]-s.displaySize[1]*_;return{image:s,top:S,bottom:S+s.displaySize[1],left:E,right:E+s.displaySize[0]}}function Gg(s,i,a,m,_,E){const S=s.image;let k;if(S.content){const Ge=S.content,tt=S.pixelRatio||1;k=[Ge[0]/tt,Ge[1]/tt,S.displaySize[0]-Ge[2]/tt,S.displaySize[1]-Ge[3]/tt]}const N=i.left*E,j=i.right*E;let X,re,he,xe;"width"===a||"both"===a?(xe=_[0]+N-m[3],re=_[0]+j+m[1]):(xe=_[0]+(N+j-S.displaySize[0])/2,re=xe+S.displaySize[0]);const Ee=i.top*E,Re=i.bottom*E;return"height"===a||"both"===a?(X=_[1]+Ee-m[0],he=_[1]+Re+m[2]):(X=_[1]+(Ee+Re-S.displaySize[1])/2,he=X+S.displaySize[1]),{image:S,top:X,right:re,bottom:he,left:xe,collisionPadding:k}}const Ru=255,ol=128,Bl=Ru*ol;function Dh(s,i){const{expression:a}=i;if("constant"===a.kind)return{kind:"constant",layoutSize:a.evaluate(new lr(s+1))};if("source"===a.kind)return{kind:"source"};{const{zoomStops:m,interpolationType:_}=a;let E=0;for(;E<m.length&&m[E]<=s;)E++;E=Math.max(0,E-1);let S=E;for(;S<m.length&&m[S]<s+1;)S++;S=Math.min(m.length-1,S);const k=m[E],N=m[S];return"composite"===a.kind?{kind:"composite",minZoom:k,maxZoom:N,interpolationType:_}:{kind:"camera",minZoom:k,maxZoom:N,minSize:a.evaluate(new lr(k)),maxSize:a.evaluate(new lr(N)),interpolationType:_}}}function sc(s,i,a){let m="never";const _=s.get(i);return _?m=_:s.get(a)&&(m="always"),m}const Hd=Na.VectorTileFeature.types,Fu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Lu(s,i,a,m,_,E,S,k,N,j,X,re,he){const xe=k?Math.min(Bl,Math.round(k[0])):0,Ee=k?Math.min(Bl,Math.round(k[1])):0;s.emplaceBack(i,a,Math.round(32*m),Math.round(32*_),E,S,(xe<<1)+(N?1:0),Ee,16*j,16*X,256*re,256*he)}function Nu(s,i,a){s.emplaceBack(i.x,i.y,a),s.emplaceBack(i.x,i.y,a),s.emplaceBack(i.x,i.y,a),s.emplaceBack(i.x,i.y,a)}function zu(s){for(const i of s.sections)if(Vs(i.text))return!0;return!1}class $d{constructor(i){this.layoutVertexArray=new Rn,this.indexArray=new $o,this.programConfigurations=i,this.segments=new Lr,this.dynamicLayoutVertexArray=new qi,this.opacityVertexArray=new An,this.hasVisibleVertices=!1,this.placedSymbolArray=new gt}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(i,a,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,Tu.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,Lg.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,Fu,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}te("SymbolBuffers",$d);class yd{constructor(i,a,m){this.layoutVertexArray=new i,this.layoutAttributes=a,this.indexArray=new m,this.segments=new Lr,this.collisionVertexArray=new Ir}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,df.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}te("CollisionBuffers",yd);class kc{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(S=>S.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_u([]),this.placementViewportMatrix=_u([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Dh(this.zoom,a["text-size"]),this.iconSizeData=Dh(this.zoom,a["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),E=m.get("symbol-z-order");this.canOverlap="never"!==sc(m,"text-overlap","text-allow-overlap")||"never"!==sc(m,"icon-overlap","icon-allow-overlap")||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==E&&!_.isConstant(),this.sortFeaturesByY=("viewport-y"===E||"auto"===E&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===m.get("symbol-placement")&&(this.writingModes=m.get("text-writing-mode").map(S=>g.ai[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=i.sourceID}createArrays(){this.text=new $d(new Jl(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new $d(new Jl(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new P,this.lineVertexArray=new I,this.symbolInstances=new T,this.textAnchorOffsets=new $}calculateGlyphDependencies(i,a,m,_,E){for(let S=0;S<i.length;S++)if(a[i.charCodeAt(S)]=!0,(m||_)&&E){const k=Vd[i.charAt(S)];k&&(a[k.charCodeAt(0)]=!0)}}populate(i,a,m){const _=this.layers[0],E=_.layout,S=E.get("text-font"),k=E.get("text-field"),N=E.get("icon-image"),j=("constant"!==k.value.kind||k.value.value instanceof Kt&&!k.value.value.isEmpty()||k.value.value.toString().length>0)&&("constant"!==S.value.kind||S.value.value.length>0),X="constant"!==N.value.kind||!!N.value.value||Object.keys(N.parameters).length>0,re=E.get("symbol-sort-key");if(this.features=[],!j&&!X)return;const he=a.iconDependencies,xe=a.glyphDependencies,Ee=a.availableImages,Re=new lr(this.zoom);for(const{feature:Ge,id:tt,index:Ct,sourceLayerIndex:mt}of i){const Mt=_._featureFilter.needGeometry,Pt=Er(Ge,Mt);if(!_._featureFilter.filter(Re,Pt,m))continue;let ti,Vi;if(Mt||(Pt.geometry=ec(Ge)),j){const Ni=_.getValueAndResolveTokens("text-field",Pt,m,Ee),Oi=Kt.factory(Ni);zu(Oi)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Wl()||this.hasRTLText&&os.isParsed())&&(ti=Iy(Oi,_,Pt))}if(X){const Ni=_.getValueAndResolveTokens("icon-image",Pt,m,Ee);Vi=Ni instanceof ji?Ni:ji.fromString(Ni)}if(!ti&&!Vi)continue;const nn=this.sortFeaturesByKey?re.evaluate(Pt,{},m):void 0;if(this.features.push({id:tt,text:ti,icon:Vi,index:Ct,sourceLayerIndex:mt,geometry:Pt.geometry,properties:Ge.properties,type:Hd[Ge.type],sortKey:nn}),Vi&&(he[Vi.name]=!0),ti){const Ni=S.evaluate(Pt,{},m).join(","),Oi="viewport"!==E.get("text-rotation-alignment")&&"point"!==E.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(g.ai.vertical)>=0;for(const Mi of ti.sections)if(Mi.image)he[Mi.image.name]=!0;else{const Ki=fr(ti.toString()),Ti=Mi.fontStack||Ni,gi=xe[Ti]=xe[Ti]||{};this.calculateGlyphDependencies(Mi.text,gi,Oi,this.allowVerticalPlacement,Ki)}}}"line"===E.get("symbol-placement")&&(this.features=function(Ge){const tt={},Ct={},mt=[];let Mt=0;function Pt(Ni){mt.push(Ge[Ni]),Mt++}function ti(Ni,Oi,Mi){const Ki=Ct[Ni];return delete Ct[Ni],Ct[Oi]=Ki,mt[Ki].geometry[0].pop(),mt[Ki].geometry[0]=mt[Ki].geometry[0].concat(Mi[0]),Ki}function Vi(Ni,Oi,Mi){const Ki=tt[Oi];return delete tt[Oi],tt[Ni]=Ki,mt[Ki].geometry[0].shift(),mt[Ki].geometry[0]=Mi[0].concat(mt[Ki].geometry[0]),Ki}function nn(Ni,Oi,Mi){const Ki=Mi?Oi[0][Oi[0].length-1]:Oi[0][0];return`${Ni}:${Ki.x}:${Ki.y}`}for(let Ni=0;Ni<Ge.length;Ni++){const Oi=Ge[Ni],Mi=Oi.geometry,Ki=Oi.text?Oi.text.toString():null;if(!Ki){Pt(Ni);continue}const Ti=nn(Ki,Mi),gi=nn(Ki,Mi,!0);if(Ti in Ct&&gi in tt&&Ct[Ti]!==tt[gi]){const gn=Vi(Ti,gi,Mi),sn=ti(Ti,gi,mt[gn].geometry);delete tt[Ti],delete Ct[gi],Ct[nn(Ki,mt[sn].geometry,!0)]=sn,mt[gn].geometry=null}else Ti in Ct?ti(Ti,gi,Mi):gi in tt?Vi(Ti,gi,Mi):(Pt(Ni),tt[Ti]=Mt-1,Ct[gi]=Mt-1)}return mt.filter(Ni=>Ni.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ge,tt)=>Ge.sortKey-tt.sortKey)}update(i,a,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,a,this.layers,m),this.icon.programConfigurations.updatePaintArrays(i,a,this.layers,m))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,a){const m=this.lineVertexArray.length;if(void 0!==i.segment){let _=i.dist(a[i.segment+1]),E=i.dist(a[i.segment]);const S={};for(let k=i.segment+1;k<a.length;k++)S[k]={x:a[k].x,y:a[k].y,tileUnitDistanceFromAnchor:_},k<a.length-1&&(_+=a[k+1].dist(a[k]));for(let k=i.segment||0;k>=0;k--)S[k]={x:a[k].x,y:a[k].y,tileUnitDistanceFromAnchor:E},k>0&&(E+=a[k-1].dist(a[k]));for(let k=0;k<a.length;k++){const N=S[k];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(i,a,m,_,E,S,k,N,j,X,re,he){const xe=i.indexArray,Ee=i.layoutVertexArray,Re=i.segments.prepareSegment(4*a.length,Ee,xe,this.canOverlap?S.sortKey:void 0),Ge=this.glyphOffsetArray.length,tt=Re.vertexLength,Ct=this.allowVerticalPlacement&&k===g.ai.vertical?Math.PI/2:0,mt=S.text&&S.text.sections;for(let Mt=0;Mt<a.length;Mt++){const{tl:Pt,tr:ti,bl:Vi,br:nn,tex:Ni,pixelOffsetTL:Oi,pixelOffsetBR:Mi,minFontScaleX:Ki,minFontScaleY:Ti,glyphOffset:gi,isSDF:gn,sectionIndex:sn}=a[Mt],Gn=Re.vertexLength,Ar=gi[1];Lu(Ee,N.x,N.y,Pt.x,Ar+Pt.y,Ni.x,Ni.y,m,gn,Oi.x,Oi.y,Ki,Ti),Lu(Ee,N.x,N.y,ti.x,Ar+ti.y,Ni.x+Ni.w,Ni.y,m,gn,Mi.x,Oi.y,Ki,Ti),Lu(Ee,N.x,N.y,Vi.x,Ar+Vi.y,Ni.x,Ni.y+Ni.h,m,gn,Oi.x,Mi.y,Ki,Ti),Lu(Ee,N.x,N.y,nn.x,Ar+nn.y,Ni.x+Ni.w,Ni.y+Ni.h,m,gn,Mi.x,Mi.y,Ki,Ti),Nu(i.dynamicLayoutVertexArray,N,Ct),xe.emplaceBack(Gn,Gn+1,Gn+2),xe.emplaceBack(Gn+1,Gn+2,Gn+3),Re.vertexLength+=4,Re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(gi[0]),Mt!==a.length-1&&sn===a[Mt+1].sectionIndex||i.programConfigurations.populatePaintArrays(Ee.length,S,S.index,{},he,mt&&mt[sn])}i.placedSymbolArray.emplaceBack(N.x,N.y,Ge,this.glyphOffsetArray.length-Ge,tt,j,X,N.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],k,0,!1,0,re)}_addCollisionDebugVertex(i,a,m,_,E,S){return a.emplaceBack(0,0),i.emplaceBack(m.x,m.y,_,E,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(i,a,m,_,E,S,k){const N=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),j=N.vertexLength,X=E.layoutVertexArray,re=E.collisionVertexArray,he=k.anchorX,xe=k.anchorY;this._addCollisionDebugVertex(X,re,S,he,xe,new Ie(i,a)),this._addCollisionDebugVertex(X,re,S,he,xe,new Ie(m,a)),this._addCollisionDebugVertex(X,re,S,he,xe,new Ie(m,_)),this._addCollisionDebugVertex(X,re,S,he,xe,new Ie(i,_)),N.vertexLength+=4;const Ee=E.indexArray;Ee.emplaceBack(j,j+1),Ee.emplaceBack(j+1,j+2),Ee.emplaceBack(j+2,j+3),Ee.emplaceBack(j+3,j),N.primitiveLength+=4}addDebugCollisionBoxes(i,a,m,_){for(let E=i;E<a;E++){const S=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,_?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yd(Cn,uf.members,Do),this.iconCollisionBox=new yd(Cn,uf.members,Do);for(let i=0;i<this.symbolInstances.length;i++){const a=this.symbolInstances.get(i);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(i,a,m,_,E,S,k,N,j){const X={};for(let re=a;re<m;re++){const he=i.get(re);X.textBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},X.textFeatureIndex=he.featureIndex;break}for(let re=_;re<E;re++){const he=i.get(re);X.verticalTextBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},X.verticalTextFeatureIndex=he.featureIndex;break}for(let re=S;re<k;re++){const he=i.get(re);X.iconBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},X.iconFeatureIndex=he.featureIndex;break}for(let re=N;re<j;re++){const he=i.get(re);X.verticalIconBox={x1:he.x1,y1:he.y1,x2:he.x2,y2:he.y2,anchorPointX:he.anchorPointX,anchorPointY:he.anchorPointY},X.verticalIconFeatureIndex=he.featureIndex;break}return X}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const m=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,a){const m=i.placedSymbolArray.get(a),_=m.vertexStartIndex+4*m.numGlyphs;for(let E=m.vertexStartIndex;E<_;E+=4)i.indexArray.emplaceBack(E,E+1,E+2),i.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const a=Math.sin(i),m=Math.cos(i),_=[],E=[],S=[];for(let k=0;k<this.symbolInstances.length;++k){S.push(k);const N=this.symbolInstances.get(k);_.push(0|Math.round(a*N.anchorX+m*N.anchorY)),E.push(N.featureIndex)}return S.sort((k,N)=>_[k]-_[N]||E[N]-E[k]),S}addToSortKeyRanges(i,a){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===a?m.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const m=this.symbolInstances.get(a);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,E,S)=>{_>=0&&S.indexOf(_)===E&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let vf,Gm;te("SymbolBucket",kc,{omit:["layers","collisionBoxArray","features","compareText"]}),kc.MAX_GLYPHS=65535,kc.addDynamicAttributes=Nu;var Sh={get paint(){return Gm=Gm||new Rr({"icon-opacity":new yn(xt.paint_symbol["icon-opacity"]),"icon-color":new yn(xt.paint_symbol["icon-color"]),"icon-halo-color":new yn(xt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yn(xt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yn(xt.paint_symbol["icon-halo-blur"]),"icon-translate":new Wi(xt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Wi(xt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yn(xt.paint_symbol["text-opacity"]),"text-color":new yn(xt.paint_symbol["text-color"],{runtimeType:dn,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new yn(xt.paint_symbol["text-halo-color"]),"text-halo-width":new yn(xt.paint_symbol["text-halo-width"]),"text-halo-blur":new yn(xt.paint_symbol["text-halo-blur"]),"text-translate":new Wi(xt.paint_symbol["text-translate"]),"text-translate-anchor":new Wi(xt.paint_symbol["text-translate-anchor"])})},get layout(){return vf=vf||new Rr({"symbol-placement":new Wi(xt.layout_symbol["symbol-placement"]),"symbol-spacing":new Wi(xt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Wi(xt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yn(xt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Wi(xt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Wi(xt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Wi(xt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Wi(xt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Wi(xt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Wi(xt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yn(xt.layout_symbol["icon-size"]),"icon-text-fit":new Wi(xt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Wi(xt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yn(xt.layout_symbol["icon-image"]),"icon-rotate":new yn(xt.layout_symbol["icon-rotate"]),"icon-padding":new yn(xt.layout_symbol["icon-padding"]),"icon-keep-upright":new Wi(xt.layout_symbol["icon-keep-upright"]),"icon-offset":new yn(xt.layout_symbol["icon-offset"]),"icon-anchor":new yn(xt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Wi(xt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Wi(xt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Wi(xt.layout_symbol["text-rotation-alignment"]),"text-field":new yn(xt.layout_symbol["text-field"]),"text-font":new yn(xt.layout_symbol["text-font"]),"text-size":new yn(xt.layout_symbol["text-size"]),"text-max-width":new yn(xt.layout_symbol["text-max-width"]),"text-line-height":new Wi(xt.layout_symbol["text-line-height"]),"text-letter-spacing":new yn(xt.layout_symbol["text-letter-spacing"]),"text-justify":new yn(xt.layout_symbol["text-justify"]),"text-radial-offset":new yn(xt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Wi(xt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new yn(xt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new yn(xt.layout_symbol["text-anchor"]),"text-max-angle":new Wi(xt.layout_symbol["text-max-angle"]),"text-writing-mode":new Wi(xt.layout_symbol["text-writing-mode"]),"text-rotate":new yn(xt.layout_symbol["text-rotate"]),"text-padding":new Wi(xt.layout_symbol["text-padding"]),"text-keep-upright":new Wi(xt.layout_symbol["text-keep-upright"]),"text-transform":new yn(xt.layout_symbol["text-transform"]),"text-offset":new yn(xt.layout_symbol["text-offset"]),"text-allow-overlap":new Wi(xt.layout_symbol["text-allow-overlap"]),"text-overlap":new Wi(xt.layout_symbol["text-overlap"]),"text-ignore-placement":new Wi(xt.layout_symbol["text-ignore-placement"]),"text-optional":new Wi(xt.layout_symbol["text-optional"])})}};class Zm{constructor(i){if(void 0===i.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:$t,this.defaultValue=i}evaluate(i){if(i.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(i.formattedSection))return a.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}te("FormatSectionOverride",Zm,{omit:["defaultValue"]});class Gd extends Es{constructor(i){super(i,Sh)}recalculate(i,a){if(super.recalculate(i,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const E of m)_.indexOf(E)<0&&_.push(E);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,a,m,_){const E=this.layout.get(i).evaluate(a,{},m,_),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||oe(S.value)||!E?E:(k=a.properties,E.replace(/{([^{}]+)}/g,(j,X)=>k&&X in k?String(k[X]):""));var k}createBucket(i){return new kc(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of Sh.paint.overridableProperties){if(!Gd.hasPaintOverride(this.layout,i))continue;const a=this.paint.get(i),m=new Zm(a),_=new ae(m,a.property.specification);let E=null;E="constant"===a.value.kind||"source"===a.value.kind?new ce("source",_):new He("composite",_,a.value.zoomStops),this.paint._values[i]=new Eo(a.property,E,a.parameters)}}_handleOverridablePaintPropertyUpdate(i,a,m){return!(!this.layout||a.isDataDriven()||m.isDataDriven())&&Gd.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,a){const m=i.get("text-field"),_=Sh.paint.properties[a];let E=!1;const S=k=>{for(const N of k)if(_.overrides&&_.overrides.hasOverride(N))return void(E=!0)};if("constant"===m.value.kind&&m.value.value instanceof Kt)S(m.value.value.sections);else if("source"===m.value.kind){const k=j=>{E||(j instanceof Un&&ln(j.value)===de?S(j.value.sections):j instanceof no?S(j.sections):j.eachChild(k))},N=m.value;N._styleExpression&&k(N._styleExpression.expression)}return E}}let bf;var Zg={get paint(){return bf=bf||new Rr({"background-color":new Wi(xt.paint_background["background-color"]),"background-pattern":new xc(xt.paint_background["background-pattern"]),"background-opacity":new Wi(xt.paint_background["background-opacity"])})}};class Wg extends Es{constructor(i){super(i,Zg)}}let Mh;var qg={get paint(){return Mh=Mh||new Rr({"raster-opacity":new Wi(xt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Wi(xt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Wi(xt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Wi(xt.paint_raster["raster-brightness-max"]),"raster-saturation":new Wi(xt.paint_raster["raster-saturation"]),"raster-contrast":new Wi(xt.paint_raster["raster-contrast"]),"raster-resampling":new Wi(xt.paint_raster["raster-resampling"]),"raster-fade-duration":new Wi(xt.paint_raster["raster-fade-duration"])})}};class Yg extends Es{constructor(i){super(i,qg)}}class Va extends Es{constructor(i){super(i,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=i}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Th{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Ih=6371008.8;class ac{constructor(i,a){if(isNaN(i)||isNaN(a))throw new Error(`Invalid LngLat object: (${i}, ${a})`);if(this.lng=+i,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ac(Pi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const a=Math.PI/180,m=this.lat*a,_=i.lat*a,E=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((i.lng-this.lng)*a);return Ih*Math.acos(Math.min(E,1))}static convert(i){if(i instanceof ac)return i;if(Array.isArray(i)&&(2===i.length||3===i.length))return new ac(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&"object"==typeof i&&null!==i)return new ac(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const js=2*Math.PI*Ih;function Zd(s){return js*Math.cos(s*Math.PI/180)}function Bu(s){return(180+s)/360}function Wm(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function xf(s,i){return s/Zd(i)}function Ah(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}class Wd{constructor(i,a,m=0){this.x=+i,this.y=+a,this.z=+m}static fromLngLat(i,a=0){const m=ac.convert(i);return new Wd(Bu(m.lng),Wm(m.lat),xf(a,m.lat))}toLngLat(){return new ac(360*this.x-180,Ah(this.y))}toAltitude(){return this.z*Zd(Ah(this.y))}meterInMercatorCoordinateUnits(){return 1/js*(i=Ah(this.y),1/Math.cos(i*Math.PI/180));var i}}function qm(s,i,a){var m=2*Math.PI*6378137/256/Math.pow(2,a);return[s*m-2*Math.PI*6378137/2,i*m-2*Math.PI*6378137/2]}class Vu{constructor(i,a,m){if(i<0||i>25||m<0||m>=Math.pow(2,i)||a<0||a>=Math.pow(2,i))throw new Error(`x=${a}, y=${m}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=a,this.y=m,this.key=Uu(0,i,i,a,m)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,a,m){const _=(S=this.y,k=this.z,N=qm(256*(E=this.x),256*(S=Math.pow(2,k)-S-1),k),j=qm(256*(E+1),256*(S+1),k),N[0]+","+N[1]+","+j[0]+","+j[1]);var E,S,k,N,j;const X=function(re,he,xe){let Ee,Re="";for(let Ge=re;Ge>0;Ge--)Ee=1<<Ge-1,Re+=(he&Ee?1:0)+(xe&Ee?2:0);return Re}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===m?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,X).replace(/{bbox-epsg-3857}/g,_)}isChildOf(i){const a=this.z-i.z;return a>0&&i.x===this.x>>a&&i.y===this.y>>a}getTilePoint(i){const a=Math.pow(2,this.z);return new Ie((i.x*a-this.x)*So,(i.y*a-this.y)*So)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Ym{constructor(i,a){this.wrap=i,this.canonical=a,this.key=Uu(i,a.z,a.z,a.x,a.y)}}class sl{constructor(i,a,m,_,E){if(i<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${m}`);this.overscaledZ=i,this.wrap=a,this.canonical=new Vu(m,+_,+E),this.key=Uu(a,i,m,_,E)}clone(){return new sl(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const a=this.canonical.z-i;return i>this.canonical.z?new sl(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sl(i,this.wrap,i,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(i,a){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-i;return i>this.canonical.z?Uu(this.wrap*+a,i,this.canonical.z,this.canonical.x,this.canonical.y):Uu(this.wrap*+a,i,i,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const a=this.canonical.z-i.canonical.z;return 0===i.overscaledZ||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>a&&i.canonical.y===this.canonical.y>>a}children(i){if(this.overscaledZ>=i)return[new sl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new sl(a,this.wrap,a,m,_),new sl(a,this.wrap,a,m+1,_),new sl(a,this.wrap,a,m,_+1),new sl(a,this.wrap,a,m+1,_+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new sl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new sl(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ym(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Wd(i.x-this.wrap,i.y))}}function Uu(s,i,a,m,_){(s*=2)<0&&(s=-1*s-1);const E=1<<a;return(E*E*s+E*_+m).toString(36)+a.toString(36)+i.toString(36)}te("CanonicalTileID",Vu),te("OverscaledTileID",sl,{omit:["posMatrix"]});class kh{constructor(i,a,m,_=1,E=1,S=1,k=0){if(this.uid=i,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void _t(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=a.height;const N=this.dim=a.height-2;switch(this.data=new Uint32Array(a.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=E,this.blueFactor=S,this.baseShift=k;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let j=0;j<N;j++)this.data[this._idx(-1,j)]=this.data[this._idx(0,j)],this.data[this._idx(N,j)]=this.data[this._idx(N-1,j)],this.data[this._idx(j,-1)]=this.data[this._idx(j,0)],this.data[this._idx(j,N)]=this.data[this._idx(j,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let j=0;j<N;j++)for(let X=0;X<N;X++){const re=this.get(j,X);re>this.max&&(this.max=re),re<this.min&&(this.min=re)}}get(i,a){const m=new Uint8Array(this.data.buffer),_=4*this._idx(i,a);return this.unpack(m[_],m[_+1],m[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,a){if(i<-1||i>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(i+1)}unpack(i,a,m){return i*this.redFactor+a*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Ll({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,a,m){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let _=a*this.dim,E=a*this.dim+this.dim,S=m*this.dim,k=m*this.dim+this.dim;switch(a){case-1:_=E-1;break;case 1:E=_+1}switch(m){case-1:S=k-1;break;case 1:k=S+1}const N=-a*this.dim,j=-m*this.dim;for(let X=S;X<k;X++)for(let re=_;re<E;re++)this.data[this._idx(re,X)]=i.data[this._idx(re+N,X+j)]}}te("DEMData",kh);class Oh{constructor(i){this._stringToNumber={},this._numberToString=[];for(let a=0;a<i.length;a++){const m=i[a];this._stringToNumber[m]=a,this._numberToString[a]=m}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class wf{constructor(i,a,m,_,E){this.type="Feature",this._vectorTileFeature=i,i._z=a,i._x=m,i._y=_,this.properties=i.properties,this.id=E}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const a in this)"_geometry"!==a&&"_vectorTileFeature"!==a&&(i[a]=this[a]);return i}}class qd{constructor(i,a){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new fe(So,16,0),this.grid3D=new fe(So,16,0),this.featureIndexArray=new be,this.promoteId=a}insert(i,a,m,_,E,S){const k=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,E);const N=S?this.grid3D:this.grid;for(let j=0;j<a.length;j++){const X=a[j],re=[1/0,1/0,-1/0,-1/0];for(let he=0;he<X.length;he++){const xe=X[he];re[0]=Math.min(re[0],xe.x),re[1]=Math.min(re[1],xe.y),re[2]=Math.max(re[2],xe.x),re[3]=Math.max(re[3],xe.y)}re[0]<So&&re[1]<So&&re[2]>=0&&re[3]>=0&&N.insert(k,re[0],re[1],re[2],re[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Na.VectorTile(new xh(this.rawTileData)).layers,this.sourceLayerCoder=new Oh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,a,m,_){this.loadVTLayers();const E=i.params||{},S=So/i.tileSize/i.scale,k=br(E.filter),N=i.queryGeometry,j=i.queryPadding*S,X=Ef(N),re=this.grid.query(X.minX-j,X.minY-j,X.maxX+j,X.maxY+j),he=Ef(i.cameraQueryGeometry),xe=this.grid3D.query(he.minX-j,he.minY-j,he.maxX+j,he.maxY+j,(Ge,tt,Ct,mt)=>function(Mt,Pt,ti,Vi,nn){for(const Oi of Mt)if(Pt<=Oi.x&&ti<=Oi.y&&Vi>=Oi.x&&nn>=Oi.y)return!0;const Ni=[new Ie(Pt,ti),new Ie(Pt,nn),new Ie(Vi,nn),new Ie(Vi,ti)];if(Mt.length>2)for(const Oi of Ni)if(Ad(Mt,Oi))return!0;for(let Oi=0;Oi<Mt.length-1;Oi++)if(Em(Mt[Oi],Mt[Oi+1],Ni))return!0;return!1}(i.cameraQueryGeometry,Ge-j,tt-j,Ct+j,mt+j));for(const Ge of xe)re.push(Ge);re.sort(Df);const Ee={};let Re;for(let Ge=0;Ge<re.length;Ge++){const tt=re[Ge];if(tt===Re)continue;Re=tt;const Ct=this.featureIndexArray.get(tt);let mt=null;this.loadMatchingFeature(Ee,Ct.bucketIndex,Ct.sourceLayerIndex,Ct.featureIndex,k,E.layers,E.availableImages,a,m,_,(Mt,Pt,ti)=>(mt||(mt=ec(Mt)),Pt.queryIntersectsFeature(N,Mt,ti,mt,this.z,i.transform,S,i.pixelPosMatrix)))}return Ee}loadMatchingFeature(i,a,m,_,E,S,k,N,j,X,re){const he=this.bucketLayerIDs[a];if(S&&!function(Ge,tt){for(let Ct=0;Ct<Ge.length;Ct++)if(tt.indexOf(Ge[Ct])>=0)return!0;return!1}(S,he))return;const xe=this.sourceLayerCoder.decode(m),Ee=this.vtLayers[xe].feature(_);if(E.needGeometry){const Ge=Er(Ee,!0);if(!E.filter(new lr(this.tileID.overscaledZ),Ge,this.tileID.canonical))return}else if(!E.filter(new lr(this.tileID.overscaledZ),Ee))return;const Re=this.getId(Ee,xe);for(let Ge=0;Ge<he.length;Ge++){const tt=he[Ge];if(S&&S.indexOf(tt)<0)continue;const Ct=N[tt];if(!Ct)continue;let mt={};Re&&X&&(mt=X.getState(Ct.sourceLayer||"_geojsonTileLayer",Re));const Mt=jt({},j[tt]);Mt.paint=Cf(Mt.paint,Ct.paint,Ee,mt,k),Mt.layout=Cf(Mt.layout,Ct.layout,Ee,mt,k);const Pt=!re||re(Ee,Ct,mt);if(!Pt)continue;const ti=new wf(Ee,this.z,this.x,this.y,Re);ti.layer=Mt;let Vi=i[tt];void 0===Vi&&(Vi=i[tt]=[]),Vi.push({featureIndex:_,feature:ti,intersectionZ:Pt})}}lookupSymbolFeatures(i,a,m,_,E,S,k,N){const j={};this.loadVTLayers();const X=br(E);for(const re of i)this.loadMatchingFeature(j,m,_,re,X,S,k,N,a);return j}hasLayer(i){for(const a of this.bucketLayerIDs)for(const m of a)if(i===m)return!0;return!1}getId(i,a){let m=i.id;return this.promoteId&&(m=i.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[a]],"boolean"==typeof m&&(m=Number(m))),m}}function Cf(s,i,a,m,_){return ht(s,(E,S)=>{const k=i instanceof hd?i.get(S):null;return k&&k.evaluate?k.evaluate(a,m,_):k})}function Ef(s){let i=1/0,a=1/0,m=-1/0,_=-1/0;for(const E of s)i=Math.min(i,E.x),a=Math.min(a,E.y),m=Math.max(m,E.x),_=Math.max(_,E.y);return{minX:i,minY:a,maxX:m,maxY:_}}function Df(s,i){return i-s}function Km(s,i,a,m,_){const E=[];for(let S=0;S<s.length;S++){const k=s[S];let N;for(let j=0;j<k.length-1;j++){let X=k[j],re=k[j+1];X.x<i&&re.x<i||(X.x<i?X=new Ie(i,X.y+(i-X.x)/(re.x-X.x)*(re.y-X.y))._round():re.x<i&&(re=new Ie(i,X.y+(i-X.x)/(re.x-X.x)*(re.y-X.y))._round()),X.y<a&&re.y<a||(X.y<a?X=new Ie(X.x+(a-X.y)/(re.y-X.y)*(re.x-X.x),a)._round():re.y<a&&(re=new Ie(X.x+(a-X.y)/(re.y-X.y)*(re.x-X.x),a)._round()),X.x>=m&&re.x>=m||(X.x>=m?X=new Ie(m,X.y+(m-X.x)/(re.x-X.x)*(re.y-X.y))._round():re.x>=m&&(re=new Ie(m,X.y+(m-X.x)/(re.x-X.x)*(re.y-X.y))._round()),X.y>=_&&re.y>=_||(X.y>=_?X=new Ie(X.x+(_-X.y)/(re.y-X.y)*(re.x-X.x),_)._round():re.y>=_&&(re=new Ie(X.x+(_-X.y)/(re.y-X.y)*(re.x-X.x),_)._round()),N&&X.equals(N[N.length-1])||(N=[X],E.push(N)),N.push(re)))))}}return E}te("FeatureIndex",qd,{omit:["rawTileData","sourceLayerCoder"]});class lc extends Ie{constructor(i,a,m,_){super(i,a),this.angle=m,void 0!==_&&(this.segment=_)}clone(){return new lc(this.x,this.y,this.angle,this.segment)}}function td(s,i,a,m,_){if(void 0===i.segment||0===a)return!0;let E=i,S=i.segment+1,k=0;for(;k>-a/2;){if(S--,S<0)return!1;k-=s[S].dist(E),E=s[S]}k+=s[S].dist(s[S+1]),S++;const N=[];let j=0;for(;k<a/2;){const X=s[S],re=s[S+1];if(!re)return!1;let he=s[S-1].angleTo(X)-X.angleTo(re);for(he=Math.abs((he+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:k,angleDelta:he}),j+=he;k-N[0].distance>m;)j-=N.shift().angleDelta;if(j>_)return!1;S++,k+=X.dist(re)}return!0}function Yd(s){let i=0;for(let a=0;a<s.length-1;a++)i+=s[a].dist(s[a+1]);return i}function Xm(s,i,a){return s?.6*i*a:0}function Ph(s,i){return Math.max(s?s.right-s.left:0,i?i.right-i.left:0)}function Rh(s,i,a,m,_,E){const S=Xm(a,_,E),k=Ph(a,m)*E;let N=0;const j=Yd(s)/2;for(let X=0;X<s.length-1;X++){const re=s[X],he=s[X+1],xe=re.dist(he);if(N+xe>j){const Ee=(j-N)/xe,Re=Xr.number(re.x,he.x,Ee),Ge=Xr.number(re.y,he.y,Ee),tt=new lc(Re,Ge,he.angleTo(re),X);return tt._round(),!S||td(s,tt,k,S,i)?tt:void 0}N+=xe}}function Kg(s,i,a,m,_,E,S,k,N){const j=Xm(m,E,S),X=Ph(m,_),re=X*S,he=0===s[0].x||s[0].x===N||0===s[0].y||s[0].y===N;return i-re<i/4&&(i=re+i/4),Qm(s,he?i/2*k%i:(X/2+2*E)*S*k%i,i,j,a,re,he,!1,N)}function Qm(s,i,a,m,_,E,S,k,N){const j=E/2,X=Yd(s);let re=0,he=i-a,xe=[];for(let Ee=0;Ee<s.length-1;Ee++){const Re=s[Ee],Ge=s[Ee+1],tt=Re.dist(Ge),Ct=Ge.angleTo(Re);for(;he+a<re+tt;){he+=a;const mt=(he-re)/tt,Mt=Xr.number(Re.x,Ge.x,mt),Pt=Xr.number(Re.y,Ge.y,mt);if(Mt>=0&&Mt<N&&Pt>=0&&Pt<N&&he-j>=0&&he+j<=X){const ti=new lc(Mt,Pt,Ct,Ee);ti._round(),m&&!td(s,ti,E,m,_)||xe.push(ti)}}re+=tt}return k||xe.length||S||(xe=Qm(s,re/2,a,m,_,E,S,!0,N)),xe}te("Anchor",lc);const Kd=ds;function Sf(s,i,a,m){const _=[],E=s.image,S=E.pixelRatio,k=E.paddedRect.w-2*Kd,N=E.paddedRect.h-2*Kd,j=s.right-s.left,X=s.bottom-s.top,re=E.stretchX||[[0,k]],he=E.stretchY||[[0,N]],xe=(Mi,Ki)=>Mi+Ki[1]-Ki[0],Ee=re.reduce(xe,0),Re=he.reduce(xe,0),Ge=k-Ee,tt=N-Re;let Ct=0,mt=Ee,Mt=0,Pt=Re,ti=0,Vi=Ge,nn=0,Ni=tt;if(E.content&&m){const Mi=E.content;Ct=vd(re,0,Mi[0]),Mt=vd(he,0,Mi[1]),mt=vd(re,Mi[0],Mi[2]),Pt=vd(he,Mi[1],Mi[3]),ti=Mi[0]-Ct,nn=Mi[1]-Mt,Vi=Mi[2]-Mi[0]-mt,Ni=Mi[3]-Mi[1]-Pt}const Oi=(Mi,Ki,Ti,gi)=>{const gn=Xd(Mi.stretch-Ct,mt,j,s.left),sn=id(Mi.fixed-ti,Vi,Mi.stretch,Ee),Gn=Xd(Ki.stretch-Mt,Pt,X,s.top),Ar=id(Ki.fixed-nn,Ni,Ki.stretch,Re),pr=Xd(Ti.stretch-Ct,mt,j,s.left),to=id(Ti.fixed-ti,Vi,Ti.stretch,Ee),ga=Xd(gi.stretch-Mt,Pt,X,s.top),Hs=id(gi.fixed-nn,Ni,gi.stretch,Re),_o=new Ie(gn,Gn),Ms=new Ie(pr,Gn),$s=new Ie(pr,ga),Gs=new Ie(gn,ga),Ts=new Ie(sn/S,Ar/S),yo=new Ie(to/S,Hs/S),qo=i*Math.PI/180;if(qo){const Is=Math.sin(qo),ca=Math.cos(qo),_a=[ca,-Is,Is,ca];_o._matMult(_a),Ms._matMult(_a),Gs._matMult(_a),$s._matMult(_a)}const la=Mi.stretch+Mi.fixed,Zs=Ki.stretch+Ki.fixed;return{tl:_o,tr:Ms,bl:Gs,br:$s,tex:{x:E.paddedRect.x+Kd+la,y:E.paddedRect.y+Kd+Zs,w:Ti.stretch+Ti.fixed-la,h:gi.stretch+gi.fixed-Zs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ts,pixelOffsetBR:yo,minFontScaleX:Vi/S/j,minFontScaleY:Ni/S/X,isSDF:a}};if(m&&(E.stretchX||E.stretchY)){const Mi=Mf(re,Ge,Ee),Ki=Mf(he,tt,Re);for(let Ti=0;Ti<Mi.length-1;Ti++){const gi=Mi[Ti],gn=Mi[Ti+1];for(let sn=0;sn<Ki.length-1;sn++)_.push(Oi(gi,Ki[sn],gn,Ki[sn+1]))}}else _.push(Oi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:k+1},{fixed:0,stretch:N+1}));return _}function vd(s,i,a){let m=0;for(const _ of s)m+=Math.max(i,Math.min(a,_[1]))-Math.max(i,Math.min(a,_[0]));return m}function Mf(s,i,a){const m=[{fixed:-Kd,stretch:0}];for(const[_,E]of s){const S=m[m.length-1];m.push({fixed:_-S.stretch,stretch:S.stretch}),m.push({fixed:_-S.stretch,stretch:S.stretch+(E-_)})}return m.push({fixed:i+Kd,stretch:a}),m}function Xd(s,i,a,m){return s/i*a+m}function id(s,i,a,m){return s-i*a/m}class bd{constructor(i,a,m,_,E,S,k,N,j,X){if(this.boxStartIndex=i.length,j){let re=S.top,he=S.bottom;const xe=S.collisionPadding;xe&&(re-=xe[1],he+=xe[3]);let Ee=he-re;Ee>0&&(Ee=Math.max(10,Ee),this.circleDiameter=Ee)}else{let re=S.top*k-N[0],he=S.bottom*k+N[2],xe=S.left*k-N[3],Ee=S.right*k+N[1];const Re=S.collisionPadding;if(Re&&(xe-=Re[0]*k,re-=Re[1]*k,Ee+=Re[2]*k,he+=Re[3]*k),X){const Ge=new Ie(xe,re),tt=new Ie(Ee,re),Ct=new Ie(xe,he),mt=new Ie(Ee,he),Mt=X*Math.PI/180;Ge._rotate(Mt),tt._rotate(Mt),Ct._rotate(Mt),mt._rotate(Mt),xe=Math.min(Ge.x,tt.x,Ct.x,mt.x),Ee=Math.max(Ge.x,tt.x,Ct.x,mt.x),re=Math.min(Ge.y,tt.y,Ct.y,mt.y),he=Math.max(Ge.y,tt.y,Ct.y,mt.y)}i.emplaceBack(a.x,a.y,xe,re,Ee,he,m,_,E)}this.boxEndIndex=i.length}}class Jm{constructor(i=[],a=Xg){if(this.data=i,this.length=this.data.length,this.compare=a,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const i=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:a,compare:m}=this,_=a[i];for(;i>0;){const E=i-1>>1,S=a[E];if(m(_,S)>=0)break;a[i]=S,i=E}a[i]=_}_down(i){const{data:a,compare:m}=this,_=this.length>>1,E=a[i];for(;i<_;){let S=1+(i<<1),k=a[S];const N=S+1;if(N<this.length&&m(a[N],k)<0&&(S=N,k=a[N]),m(k,E)>=0)break;a[i]=k,i=S}a[i]=E}}function Xg(s,i){return s<i?-1:s>i?1:0}function Qg(s,i=1,a=!1){let m=1/0,_=1/0,E=-1/0,S=-1/0;const k=s[0];for(let xe=0;xe<k.length;xe++){const Ee=k[xe];(!xe||Ee.x<m)&&(m=Ee.x),(!xe||Ee.y<_)&&(_=Ee.y),(!xe||Ee.x>E)&&(E=Ee.x),(!xe||Ee.y>S)&&(S=Ee.y)}const N=Math.min(E-m,S-_);let j=N/2;const X=new Jm([],ep);if(0===N)return new Ie(m,_);for(let xe=m;xe<E;xe+=N)for(let Ee=_;Ee<S;Ee+=N)X.push(new xd(xe+j,Ee+j,j,s));let re=function(xe){let Ee=0,Re=0,Ge=0;const tt=xe[0];for(let Ct=0,mt=tt.length,Mt=mt-1;Ct<mt;Mt=Ct++){const Pt=tt[Ct],ti=tt[Mt],Vi=Pt.x*ti.y-ti.x*Pt.y;Re+=(Pt.x+ti.x)*Vi,Ge+=(Pt.y+ti.y)*Vi,Ee+=3*Vi}return new xd(Re/Ee,Ge/Ee,0,xe)}(s),he=X.length;for(;X.length;){const xe=X.pop();(xe.d>re.d||!re.d)&&(re=xe,a&&console.log("found best %d after %d probes",Math.round(1e4*xe.d)/1e4,he)),xe.max-re.d<=i||(j=xe.h/2,X.push(new xd(xe.p.x-j,xe.p.y-j,j,s)),X.push(new xd(xe.p.x+j,xe.p.y-j,j,s)),X.push(new xd(xe.p.x-j,xe.p.y+j,j,s)),X.push(new xd(xe.p.x+j,xe.p.y+j,j,s)),he+=4)}return a&&(console.log(`num probes: ${he}`),console.log(`best distance: ${re.d}`)),re.p}function ep(s,i){return i.max-s.max}function xd(s,i,a,m){this.p=new Ie(s,i),this.h=a,this.d=function(_,E){let S=!1,k=1/0;for(let N=0;N<E.length;N++){const j=E[N];for(let X=0,re=j.length,he=re-1;X<re;he=X++){const xe=j[X],Ee=j[he];xe.y>_.y!=Ee.y>_.y&&_.x<(Ee.x-xe.x)*(_.y-xe.y)/(Ee.y-xe.y)+xe.x&&(S=!S),k=Math.min(k,tc(_,xe,Ee))}}return(S?1:-1)*Math.sqrt(k)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var lo;g.aq=void 0,(lo=g.aq||(g.aq={}))[lo.center=1]="center",lo[lo.left=2]="left",lo[lo.right=3]="right",lo[lo.top=4]="top",lo[lo.bottom=5]="bottom",lo[lo["top-left"]=6]="top-left",lo[lo["top-right"]=7]="top-right",lo[lo["bottom-left"]=8]="bottom-left",lo[lo["bottom-right"]=9]="bottom-right";const Oc=7,Fh=Number.POSITIVE_INFINITY;function Tf(s,i){return i[1]!==Fh?function(a,m,_){let E=0,S=0;switch(m=Math.abs(m),_=Math.abs(_),a){case"top-right":case"top-left":case"top":S=_-Oc;break;case"bottom-right":case"bottom-left":case"bottom":S=-_+Oc}switch(a){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,S]}(s,i[0],i[1]):function(a,m){let _=0,E=0;m<0&&(m=0);const S=m/Math.SQRT2;switch(a){case"top-right":case"top-left":E=S-Oc;break;case"bottom-right":case"bottom-left":E=-S+Oc;break;case"bottom":E=-m+Oc;break;case"top":E=m-Oc}switch(a){case"top-right":case"bottom-right":_=-S;break;case"top-left":case"bottom-left":_=S;break;case"left":_=m;break;case"right":_=-m}return[_,E]}(s,i[0])}function Jg(s,i,a){var m;const _=s.layout,E=null===(m=_.get("text-variable-anchor-offset"))||void 0===m?void 0:m.evaluate(i,{},a);if(E){const k=E.values,N=[];for(let j=0;j<k.length;j+=2){const X=N[j]=k[j],re=k[j+1].map(he=>he*Mo);X.startsWith("top")?re[1]-=Oc:X.startsWith("bottom")&&(re[1]+=Oc),N[j+1]=re}return new hn(N)}const S=_.get("text-variable-anchor");if(S){let k;k=void 0!==s._unevaluatedLayout.getValue("text-radial-offset")?[_.get("text-radial-offset").evaluate(i,{},a)*Mo,Fh]:_.get("text-offset").evaluate(i,{},a).map(j=>j*Mo);const N=[];for(const j of S)N.push(j,Tf(j,k));return new hn(N)}return null}function Qd(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function e_(s,i,a,m,_,E,S,k,N,j,X){let re=E.textMaxSize.evaluate(i,{});void 0===re&&(re=S);const he=s.layers[0].layout,xe=he.get("icon-offset").evaluate(i,{},X),Ee=ip(a.horizontal),Re=S/24,Ge=s.tilePixelRatio*Re,tt=s.tilePixelRatio*re/24,Ct=s.tilePixelRatio*k,mt=s.tilePixelRatio*he.get("symbol-spacing"),Mt=he.get("text-padding")*s.tilePixelRatio,Pt=function(gi,gn,sn,Gn=1){const Ar=gi.get("icon-padding").evaluate(gn,{},sn),pr=Ar&&Ar.values;return[pr[0]*Gn,pr[1]*Gn,pr[2]*Gn,pr[3]*Gn]}(he,i,X,s.tilePixelRatio),ti=he.get("text-max-angle")/180*Math.PI,Vi="viewport"!==he.get("text-rotation-alignment")&&"point"!==he.get("symbol-placement"),nn="map"===he.get("icon-rotation-alignment")&&"point"!==he.get("symbol-placement"),Ni=he.get("symbol-placement"),Oi=mt/2,Mi=he.get("icon-text-fit");let Ki;m&&"none"!==Mi&&(s.allowVerticalPlacement&&a.vertical&&(Ki=Gg(m,a.vertical,Mi,he.get("icon-text-fit-padding"),xe,Re)),Ee&&(m=Gg(m,Ee,Mi,he.get("icon-text-fit-padding"),xe,Re)));const Ti=(gi,gn)=>{gn.x<0||gn.x>=So||gn.y<0||gn.y>=So||function(sn,Gn,Ar,pr,to,ga,Hs,_o,Ms,$s,Gs,Ts,yo,qo,la,Zs,Is,ca,_a,Lo,Kn,Yo,us,vo,El){const Ws=sn.addToLineVertexArray(Gn,Ar);let Dl,Rc,al,Ua,ya=0,Fc=0,$u=0,Af=0,Vh=-1,kf=-1;const nd={};let nu=Ql("");if(sn.allowVerticalPlacement&&pr.vertical){const da=_o.layout.get("text-rotate").evaluate(Kn,{},vo)+90;al=new bd(Ms,Gn,$s,Gs,Ts,pr.vertical,yo,qo,la,da),Hs&&(Ua=new bd(Ms,Gn,$s,Gs,Ts,Hs,Is,ca,la,da))}if(to){const da=_o.layout.get("icon-rotate").evaluate(Kn,{}),ba="none"!==_o.layout.get("icon-text-fit"),Vl=Sf(to,da,us,ba),Ul=Hs?Sf(Hs,da,us,ba):void 0;Rc=new bd(Ms,Gn,$s,Gs,Ts,to,Is,ca,!1,da),ya=4*Vl.length;const Lc=sn.iconSizeData;let cc=null;"source"===Lc.kind?(cc=[ol*_o.layout.get("icon-size").evaluate(Kn,{})],cc[0]>Bl&&_t(`${sn.layerIds[0]}: Value for "icon-size" is >= ${Ru}. Reduce your "icon-size".`)):"composite"===Lc.kind&&(cc=[ol*Yo.compositeIconSizes[0].evaluate(Kn,{},vo),ol*Yo.compositeIconSizes[1].evaluate(Kn,{},vo)],(cc[0]>Bl||cc[1]>Bl)&&_t(`${sn.layerIds[0]}: Value for "icon-size" is >= ${Ru}. Reduce your "icon-size".`)),sn.addSymbols(sn.icon,Vl,cc,Lo,_a,Kn,g.ai.none,Gn,Ws.lineStartIndex,Ws.lineLength,-1,vo),Vh=sn.icon.placedSymbolArray.length-1,Ul&&(Fc=4*Ul.length,sn.addSymbols(sn.icon,Ul,cc,Lo,_a,Kn,g.ai.vertical,Gn,Ws.lineStartIndex,Ws.lineLength,-1,vo),kf=sn.icon.placedSymbolArray.length-1)}const i_=Object.keys(pr.horizontal);for(const da of i_){const ba=pr.horizontal[da];if(!Dl){nu=Ql(ba.text);const Ul=_o.layout.get("text-rotate").evaluate(Kn,{},vo);Dl=new bd(Ms,Gn,$s,Gs,Ts,ba,yo,qo,la,Ul)}const Vl=1===ba.positionedLines.length;if($u+=tp(sn,Gn,ba,ga,_o,la,Kn,Zs,Ws,pr.vertical?g.ai.horizontal:g.ai.horizontalOnly,Vl?i_:[da],nd,Vh,Yo,vo),Vl)break}pr.vertical&&(Af+=tp(sn,Gn,pr.vertical,ga,_o,la,Kn,Zs,Ws,g.ai.vertical,["vertical"],nd,kf,Yo,vo));const Ay=Dl?Dl.boxStartIndex:sn.collisionBoxArray.length,Uh=Dl?Dl.boxEndIndex:sn.collisionBoxArray.length,n_=al?al.boxStartIndex:sn.collisionBoxArray.length,op=al?al.boxEndIndex:sn.collisionBoxArray.length,jh=Rc?Rc.boxStartIndex:sn.collisionBoxArray.length,ru=Rc?Rc.boxEndIndex:sn.collisionBoxArray.length,sp=Ua?Ua.boxStartIndex:sn.collisionBoxArray.length,ap=Ua?Ua.boxEndIndex:sn.collisionBoxArray.length;let va=-1;const wd=(da,ba)=>da&&da.circleDiameter?Math.max(da.circleDiameter,ba):ba;va=wd(Dl,va),va=wd(al,va),va=wd(Rc,va),va=wd(Ua,va);const Cd=va>-1?1:0;Cd&&(va*=El/Mo),sn.glyphOffsetArray.length>=kc.MAX_GLYPHS&&_t("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Kn.sortKey&&sn.addToSortKeyRanges(sn.symbolInstances.length,Kn.sortKey);const lp=Jg(_o,Kn,vo),[Hh,$h]=function(da,ba){const Vl=da.length,Ul=ba?.values;if(Ul?.length>0)for(let Lc=0;Lc<Ul.length;Lc+=2){const cc=Ul[Lc+1];da.emplaceBack(g.aq[Ul[Lc]],cc[0],cc[1])}return[Vl,da.length]}(sn.textAnchorOffsets,lp);sn.symbolInstances.emplaceBack(Gn.x,Gn.y,nd.right>=0?nd.right:-1,nd.center>=0?nd.center:-1,nd.left>=0?nd.left:-1,nd.vertical||-1,Vh,kf,nu,Ay,Uh,n_,op,jh,ru,sp,ap,$s,$u,Af,ya,Fc,Cd,0,yo,va,Hh,$h)}(s,gn,gi,a,m,_,Ki,s.layers[0],s.collisionBoxArray,i.index,i.sourceLayerIndex,s.index,Ge,[Mt,Mt,Mt,Mt],Vi,N,Ct,Pt,nn,xe,i,E,j,X,S)};if("line"===Ni)for(const gi of Km(i.geometry,0,0,So,So)){const gn=Kg(gi,mt,ti,a.vertical||Ee,m,24,tt,s.overscaling,So);for(const sn of gn)Ee&&If(s,Ee.text,Oi,sn)||Ti(gi,sn)}else if("line-center"===Ni){for(const gi of i.geometry)if(gi.length>1){const gn=Rh(gi,ti,a.vertical||Ee,m,24,tt);gn&&Ti(gi,gn)}}else if("Polygon"===i.type)for(const gi of Im(i.geometry,0)){const gn=Qg(gi,16);Ti(gi[0],new lc(gn.x,gn.y,0))}else if("LineString"===i.type)for(const gi of i.geometry)Ti(gi,new lc(gi[0].x,gi[0].y,0));else if("Point"===i.type)for(const gi of i.geometry)for(const gn of gi)Ti([gn],new lc(gn.x,gn.y,0))}function tp(s,i,a,m,_,E,S,k,N,j,X,re,he,xe,Ee){const Re=function(Ct,mt,Mt,Pt,ti,Vi,nn,Ni){const Oi=Pt.layout.get("text-rotate").evaluate(Vi,{})*Math.PI/180,Mi=[];for(const Ki of mt.positionedLines)for(const Ti of Ki.positionedGlyphs){if(!Ti.rect)continue;const gi=Ti.rect||{};let gn=jm+1,sn=!0,Gn=1,Ar=0;const pr=(ti||Ni)&&Ti.vertical,to=Ti.metrics.advance*Ti.scale/2;if(Ni&&mt.verticalizable&&(Ar=Ki.lineOffset/2-(Ti.imageName?-(Mo-Ti.metrics.width*Ti.scale)/2:(Ti.scale-1)*Mo)),Ti.imageName){const Lo=nn[Ti.imageName];sn=Lo.sdf,Gn=Lo.pixelRatio,gn=ds/Gn}const ga=ti?[Ti.x+to,Ti.y]:[0,0];let Hs=ti?[0,0]:[Ti.x+to+Mt[0],Ti.y+Mt[1]-Ar],_o=[0,0];pr&&(_o=Hs,Hs=[0,0]);const Ms=Ti.metrics.isDoubleResolution?2:1,$s=(Ti.metrics.left-gn)*Ti.scale-to+Hs[0],Gs=(-Ti.metrics.top-gn)*Ti.scale+Hs[1],Ts=$s+gi.w/Ms*Ti.scale/Gn,yo=Gs+gi.h/Ms*Ti.scale/Gn,qo=new Ie($s,Gs),la=new Ie(Ts,Gs),Zs=new Ie($s,yo),Is=new Ie(Ts,yo);if(pr){const Lo=new Ie(-to,to-ku),Kn=-Math.PI/2,Yo=Mo/2-to,us=new Ie(5-ku-Yo,-(Ti.imageName?Yo:0)),vo=new Ie(..._o);qo._rotateAround(Kn,Lo)._add(us)._add(vo),la._rotateAround(Kn,Lo)._add(us)._add(vo),Zs._rotateAround(Kn,Lo)._add(us)._add(vo),Is._rotateAround(Kn,Lo)._add(us)._add(vo)}if(Oi){const Lo=Math.sin(Oi),Kn=Math.cos(Oi),Yo=[Kn,-Lo,Lo,Kn];qo._matMult(Yo),la._matMult(Yo),Zs._matMult(Yo),Is._matMult(Yo)}const ca=new Ie(0,0),_a=new Ie(0,0);Mi.push({tl:qo,tr:la,bl:Zs,br:Is,tex:gi,writingMode:mt.writingMode,glyphOffset:ga,sectionIndex:Ti.sectionIndex,isSDF:sn,pixelOffsetTL:ca,pixelOffsetBR:_a,minFontScaleX:0,minFontScaleY:0})}return Mi}(0,a,k,_,E,S,m,s.allowVerticalPlacement),Ge=s.textSizeData;let tt=null;"source"===Ge.kind?(tt=[ol*_.layout.get("text-size").evaluate(S,{})],tt[0]>Bl&&_t(`${s.layerIds[0]}: Value for "text-size" is >= ${Ru}. Reduce your "text-size".`)):"composite"===Ge.kind&&(tt=[ol*xe.compositeTextSizes[0].evaluate(S,{},Ee),ol*xe.compositeTextSizes[1].evaluate(S,{},Ee)],(tt[0]>Bl||tt[1]>Bl)&&_t(`${s.layerIds[0]}: Value for "text-size" is >= ${Ru}. Reduce your "text-size".`)),s.addSymbols(s.text,Re,tt,k,E,S,j,i,N.lineStartIndex,N.lineLength,he,Ee);for(const Ct of X)re[Ct]=s.text.placedSymbolArray.length-1;return 4*Re.length}function ip(s){for(const i in s)return s[i];return null}function If(s,i,a,m){const _=s.compareText;if(i in _){const E=_[i];for(let S=E.length-1;S>=0;S--)if(m.dist(E[S])<a)return!0}else _[i]=[];return _[i].push(m),!1}const Lh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Nh{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,m]=new Uint8Array(i,0,2);if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(1!==_)throw new Error(`Got v${_} data when expected v1.`);const E=Lh[15&m];if(!E)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(i,2,1),[k]=new Uint32Array(i,4,1);return new Nh(k,S,E,i)}constructor(i,a=64,m=Float64Array,_){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=m,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const E=Lh.indexOf(this.ArrayType),S=2*i*this.ArrayType.BYTES_PER_ELEMENT,k=i*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-k%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+k+N,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+S+k+N),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+k+N,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=i)}add(i,a){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=i,this.coords[this._pos++]=a,m}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Jd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,a,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:S,nodeSize:k}=this,N=[0,E.length-1,0],j=[];for(;N.length;){const X=N.pop()||0,re=N.pop()||0,he=N.pop()||0;if(re-he<=k){for(let Ge=he;Ge<=re;Ge++){const tt=S[2*Ge],Ct=S[2*Ge+1];tt>=i&&tt<=m&&Ct>=a&&Ct<=_&&j.push(E[Ge])}continue}const xe=he+re>>1,Ee=S[2*xe],Re=S[2*xe+1];Ee>=i&&Ee<=m&&Re>=a&&Re<=_&&j.push(E[xe]),(0===X?i<=Ee:a<=Re)&&(N.push(he),N.push(xe-1),N.push(1-X)),(0===X?m>=Ee:_>=Re)&&(N.push(xe+1),N.push(re),N.push(1-X))}return j}within(i,a,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:E,nodeSize:S}=this,k=[0,_.length-1,0],N=[],j=m*m;for(;k.length;){const X=k.pop()||0,re=k.pop()||0,he=k.pop()||0;if(re-he<=S){for(let Ge=he;Ge<=re;Ge++)Hu(E[2*Ge],E[2*Ge+1],i,a)<=j&&N.push(_[Ge]);continue}const xe=he+re>>1,Ee=E[2*xe],Re=E[2*xe+1];Hu(Ee,Re,i,a)<=j&&N.push(_[xe]),(0===X?i-m<=Ee:a-m<=Re)&&(k.push(he),k.push(xe-1),k.push(1-X)),(0===X?i+m>=Ee:a+m>=Re)&&(k.push(xe+1),k.push(re),k.push(1-X))}return N}}function Jd(s,i,a,m,_,E){if(_-m<=a)return;const S=m+_>>1;eu(s,i,S,m,_,E),Jd(s,i,a,m,S-1,1-E),Jd(s,i,a,S+1,_,1-E)}function eu(s,i,a,m,_,E){for(;_>m;){if(_-m>600){const j=_-m+1,X=a-m+1,re=Math.log(j),he=.5*Math.exp(2*re/3),xe=.5*Math.sqrt(re*he*(j-he)/j)*(X-j/2<0?-1:1);eu(s,i,a,Math.max(m,Math.floor(a-X*he/j+xe)),Math.min(_,Math.floor(a+(j-X)*he/j+xe)),E)}const S=i[2*a+E];let k=m,N=_;for(tu(s,i,m,a),i[2*_+E]>S&&tu(s,i,m,_);k<N;){for(tu(s,i,k,N),k++,N--;i[2*k+E]<S;)k++;for(;i[2*N+E]>S;)N--}i[2*m+E]===S?tu(s,i,m,N):(N++,tu(s,i,N,_)),N<=a&&(m=N+1),a<=N&&(_=N-1)}}function tu(s,i,a,m){ju(s,a,m),ju(i,2*a,2*m),ju(i,2*a+1,2*m+1)}function ju(s,i,a){const m=s[i];s[i]=s[a],s[a]=m}function Hu(s,i,a,m){const _=s-a,E=i-m;return _*_+E*E}var zh;g.bg=void 0,(zh=g.bg||(g.bg={})).create="create",zh.load="load",zh.fullLoad="fullLoad";let iu=null,Pc=[];const np=1e3/60,Bh="loadTime",rp="fullLoadTime",t_={mark(s){performance.mark(s)},frame(s){const i=s;null!=iu&&Pc.push(i-iu),iu=i},clearMetrics(){iu=null,Pc=[],performance.clearMeasures(Bh),performance.clearMeasures(rp);for(const s in g.bg)performance.clearMarks(g.bg[s])},getPerformanceMetrics(){performance.measure(Bh,g.bg.create,g.bg.load),performance.measure(rp,g.bg.create,g.bg.fullLoad);const s=performance.getEntriesByName(Bh)[0].duration,i=performance.getEntriesByName(rp)[0].duration,a=Pc.length,m=1/(Pc.reduce((E,S)=>E+S,0)/a/1e3),_=Pc.filter(E=>E>np).reduce((E,S)=>E+(S-np)/np,0);return{loadTime:s,fullLoadTime:i,fps:m,percentDroppedFrames:_/(a+_)*100,totalFrames:a}}};g.$=function(s,i,a){var m,_,E,S,k,N,j,X,re,he,xe,Ee,Re=a[0],Ge=a[1],tt=a[2];return i===s?(s[12]=i[0]*Re+i[4]*Ge+i[8]*tt+i[12],s[13]=i[1]*Re+i[5]*Ge+i[9]*tt+i[13],s[14]=i[2]*Re+i[6]*Ge+i[10]*tt+i[14],s[15]=i[3]*Re+i[7]*Ge+i[11]*tt+i[15]):(_=i[1],E=i[2],S=i[3],k=i[4],N=i[5],j=i[6],X=i[7],re=i[8],he=i[9],xe=i[10],Ee=i[11],s[0]=m=i[0],s[1]=_,s[2]=E,s[3]=S,s[4]=k,s[5]=N,s[6]=j,s[7]=X,s[8]=re,s[9]=he,s[10]=xe,s[11]=Ee,s[12]=m*Re+k*Ge+re*tt+i[12],s[13]=_*Re+N*Ge+he*tt+i[13],s[14]=E*Re+j*Ge+xe*tt+i[14],s[15]=S*Re+X*Ge+Ee*tt+i[15]),s},g.A=Od,g.B=Xr,g.C=class{constructor(s,i,a){this.receive=m=>{const _=m.data,E=_.id;if(E&&(!_.targetMapId||this.mapId===_.targetMapId))if("<cancel>"===_.type){delete this.tasks[E];const S=this.cancelCallbacks[E];delete this.cancelCallbacks[E],S&&S()}else Fi()||_.mustQueue?(this.tasks[E]=_,this.taskQueue.push(E),this.invoker.trigger()):this.processTask(E,_)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),_=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),_&&this.processTask(m,_)},this.target=s,this.parent=i,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Th(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Fi()?s:window}send(s,i,a,m,_=!1){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[E]=a);const S=[],k={id:E,type:s,hasCallback:!!a,targetMapId:m,mustQueue:_,sourceMapId:this.mapId,data:zt(i,S)};return this.target.postMessage(k,{transfer:S}),{cancel:()=>{a&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(s,i){if("<response>"===i.type){const a=this.callbacks[s];delete this.callbacks[s],a&&(i.error?a(ii(i.error)):a(null,ii(i.data)))}else{let a=!1;const m=[],_=i.hasCallback?(k,N)=>{a=!0,delete this.cancelCallbacks[s];const j={id:s,type:"<response>",sourceMapId:this.mapId,error:k?zt(k):null,data:zt(N,m)};this.target.postMessage(j,{transfer:m})}:k=>{a=!0};let E=null;const S=ii(i.data);if(this.parent[i.type])E=this.parent[i.type](i.sourceMapId,S,_);else if("getWorkerSource"in this.parent){const k=i.type.split(".");E=this.parent.getWorkerSource(i.sourceMapId,k[0],S.source)[k[1]](S,_)}else _(new Error(`Could not find function ${i.type}`));!a&&E&&E.cancel&&(this.cancelCallbacks[s]=E.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},g.D=Wi,g.E=li,g.F=function(s,i){const a={};for(let m=0;m<i.length;m++){const _=i[m];_ in s&&(a[_]=s[_])}return a},g.G=Bu,g.H=Wm,g.I=gf,g.J=pt,g.K=Xt,g.L=ac,g.M=Bn,g.N=So,g.O=sl,g.P=Ie,g.Q=Fr,g.R=Ll,g.S=Lr,g.T=ql,g.U=Wd,g.V=class extends sa{},g.W=Vu,g.X=function(s,i){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){i(null,a)};for(let m=0;m<s.length;m++){const _=window.document.createElement("source");yi(s[m])||(a.crossOrigin="Anonymous"),_.src=s[m],a.appendChild(_)}return{cancel:()=>{}}},g.Y=Me,g.Z=function(){var s=new Od(16);return Od!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},g._=Ve,g.a=Fn,g.a$=class extends ge{},g.a0=function(s,i,a){var m=a[0],_=a[1],E=a[2];return s[0]=i[0]*m,s[1]=i[1]*m,s[2]=i[2]*m,s[3]=i[3]*m,s[4]=i[4]*_,s[5]=i[5]*_,s[6]=i[6]*_,s[7]=i[7]*_,s[8]=i[8]*E,s[9]=i[9]*E,s[10]=i[10]*E,s[11]=i[11]*E,s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15],s},g.a1=sh,g.a2=function(){return rt++},g.a3=ze,g.a4=kc,g.a5=function(){os.isLoading()||os.isLoaded()||"deferred"!==Wl()||Tr()},g.a6=br,g.a7=Er,g.a8=lr,g.a9=wf,g.aA=rs,g.aB=function(s){s=s.slice();const i=Object.create(null);for(let a=0;a<s.length;a++)i[s[a].id]=s[a];for(let a=0;a<s.length;a++)"ref"in s[a]&&(s[a]=Mn(s[a],i[s[a].ref]));return s},g.aC=function(s){if("custom"===s.type)return new Va(s);switch(s.type){case"background":return new Wg(s);case"circle":return new Wp(s);case"fill":return new My(s);case"fill-extrusion":return new Xc(s);case"heatmap":return new Fd(s);case"hillshade":return new cs(s);case"line":return new lf(s);case"raster":return new Yg(s);case"symbol":return new Gd(s)}},g.aD=Nt,g.aE=function(s,i){if(!s)return[{command:Ii.setStyle,args:[i]}];let a=[];try{if(!rn(s.version,i.version))return[{command:Ii.setStyle,args:[i]}];rn(s.center,i.center)||a.push({command:Ii.setCenter,args:[i.center]}),rn(s.zoom,i.zoom)||a.push({command:Ii.setZoom,args:[i.zoom]}),rn(s.bearing,i.bearing)||a.push({command:Ii.setBearing,args:[i.bearing]}),rn(s.pitch,i.pitch)||a.push({command:Ii.setPitch,args:[i.pitch]}),rn(s.sprite,i.sprite)||a.push({command:Ii.setSprite,args:[i.sprite]}),rn(s.glyphs,i.glyphs)||a.push({command:Ii.setGlyphs,args:[i.glyphs]}),rn(s.transition,i.transition)||a.push({command:Ii.setTransition,args:[i.transition]}),rn(s.light,i.light)||a.push({command:Ii.setLight,args:[i.light]});const m={},_=[];!function(S,k,N,j){let X;for(X in k=k||{},S=S||{})Object.prototype.hasOwnProperty.call(S,X)&&(Object.prototype.hasOwnProperty.call(k,X)||Ut(X,N,j));for(X in k)Object.prototype.hasOwnProperty.call(k,X)&&(Object.prototype.hasOwnProperty.call(S,X)?rn(S[X],k[X])||("geojson"===S[X].type&&"geojson"===k[X].type&&Ne(S,k,X)?N.push({command:Ii.setGeoJSONSourceData,args:[X,k[X].data]}):Ce(X,k,N,j)):On(X,k,N))}(s.sources,i.sources,_,m);const E=[];s.layers&&s.layers.forEach(S=>{m[S.source]?a.push({command:Ii.removeLayer,args:[S.id]}):E.push(S)}),a=a.concat(_),function(S,k,N){k=k||[];const j=(S=S||[]).map($e),X=k.map($e),re=S.reduce(pe,{}),he=k.reduce(pe,{}),xe=j.slice(),Ee=Object.create(null);let Re,Ge,tt,Ct,mt,Mt,Pt;for(Re=0,Ge=0;Re<j.length;Re++)tt=j[Re],Object.prototype.hasOwnProperty.call(he,tt)?Ge++:(N.push({command:Ii.removeLayer,args:[tt]}),xe.splice(xe.indexOf(tt,Ge),1));for(Re=0,Ge=0;Re<X.length;Re++)tt=X[X.length-1-Re],xe[xe.length-1-Re]!==tt&&(Object.prototype.hasOwnProperty.call(re,tt)?(N.push({command:Ii.removeLayer,args:[tt]}),xe.splice(xe.lastIndexOf(tt,xe.length-Ge),1)):Ge++,Mt=xe[xe.length-Re],N.push({command:Ii.addLayer,args:[he[tt],Mt]}),xe.splice(xe.length-Re,0,tt),Ee[tt]=!0);for(Re=0;Re<X.length;Re++)if(tt=X[Re],Ct=re[tt],mt=he[tt],!Ee[tt]&&!rn(Ct,mt))if(rn(Ct.source,mt.source)&&rn(Ct["source-layer"],mt["source-layer"])&&rn(Ct.type,mt.type)){for(Pt in Le(Ct.layout,mt.layout,N,tt,null,Ii.setLayoutProperty),Le(Ct.paint,mt.paint,N,tt,null,Ii.setPaintProperty),rn(Ct.filter,mt.filter)||N.push({command:Ii.setFilter,args:[tt,mt.filter]}),rn(Ct.minzoom,mt.minzoom)&&rn(Ct.maxzoom,mt.maxzoom)||N.push({command:Ii.setLayerZoomRange,args:[tt,mt.minzoom,mt.maxzoom]}),Ct)Object.prototype.hasOwnProperty.call(Ct,Pt)&&"layout"!==Pt&&"paint"!==Pt&&"filter"!==Pt&&"metadata"!==Pt&&"minzoom"!==Pt&&"maxzoom"!==Pt&&(0===Pt.indexOf("paint.")?Le(Ct[Pt],mt[Pt],N,tt,Pt.slice(6),Ii.setPaintProperty):rn(Ct[Pt],mt[Pt])||N.push({command:Ii.setLayerProperty,args:[tt,Pt,mt[Pt]]}));for(Pt in mt)Object.prototype.hasOwnProperty.call(mt,Pt)&&!Object.prototype.hasOwnProperty.call(Ct,Pt)&&"layout"!==Pt&&"paint"!==Pt&&"filter"!==Pt&&"metadata"!==Pt&&"minzoom"!==Pt&&"maxzoom"!==Pt&&(0===Pt.indexOf("paint.")?Le(Ct[Pt],mt[Pt],N,tt,Pt.slice(6),Ii.setPaintProperty):rn(Ct[Pt],mt[Pt])||N.push({command:Ii.setLayerProperty,args:[tt,Pt,mt[Pt]]}))}else N.push({command:Ii.removeLayer,args:[tt]}),Mt=xe[xe.lastIndexOf(tt)+1],N.push({command:Ii.addLayer,args:[mt,Mt]})}(E,i.layers,a)}catch(m){console.warn("Unable to compute style diff:",m),a=[{command:Ii.setStyle,args:[i]}]}return a},g.aF=function(s){const i=[],a=s.id;return void 0===a&&i.push({message:`layers.${a}: missing required property "id"`}),void 0===s.render&&i.push({message:`layers.${a}: missing required method "render"`}),s.renderingMode&&"2d"!==s.renderingMode&&"3d"!==s.renderingMode&&i.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),i},g.aG=function s(i,a){if(Array.isArray(i)){if(!Array.isArray(a)||i.length!==a.length)return!1;for(let m=0;m<i.length;m++)if(!s(i[m],a[m]))return!1;return!0}if("object"==typeof i&&null!==i&&null!==a){if("object"!=typeof a||Object.keys(i).length!==Object.keys(a).length)return!1;for(const m in i)if(!s(i[m],a[m]))return!1;return!0}return i===a},g.aH=ht,g.aI=ei,g.aJ=fo,g.aK=function(s){return s({pluginStatus:eo,pluginURL:Cs}),fo.on("pluginStateChange",s),s},g.aL=class extends Fl{constructor(s,i){super(s,i),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},g.aM=Md,g.aN=class extends Fl{constructor(s,i){super(s,i),this.current=jp}set(s){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let i=1;i<16;i++)if(s[i]!==this.current[i]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}},g.aO=Ju,g.aP=class extends Fl{constructor(s,i){super(s,i),this.current=[0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2]))}},g.aQ=class extends Fl{constructor(s,i){super(s,i),this.current=[0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1]))}},g.aR=eh,g.aS=function(s,i,a,m,_,E,S){var k=1/(i-a),N=1/(m-_),j=1/(E-S);return s[0]=-2*k,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*N,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*j,s[11]=0,s[12]=(i+a)*k,s[13]=(_+m)*N,s[14]=(S+E)*j,s[15]=1,s},g.aT=We,g.aU=Pd,g.aV=class extends f{},g.aW=Ng,g.aX=class extends D{},g.aY=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},g.aZ=wg,g.a_=Qe,g.aa=function(s){const i={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,m,_,E)=>{const S=_||E;return i[m]=!S||S.toLowerCase(),""}),i["max-age"]){const a=parseInt(i["max-age"],10);isNaN(a)?delete i["max-age"]:i["max-age"]=a}return i},g.ab=function(s,i){const a=[];for(const m in s)m in i||a.push(m);return a},g.ac=function(s){if(null==En){const i=s.navigator?s.navigator.userAgent:null;En=!!s.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return En},g.ad=ki,g.ae=function(s,i,a){var m=Math.sin(a),_=Math.cos(a),E=i[0],S=i[1],k=i[2],N=i[3],j=i[4],X=i[5],re=i[6],he=i[7];return i!==s&&(s[8]=i[8],s[9]=i[9],s[10]=i[10],s[11]=i[11],s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15]),s[0]=E*_+j*m,s[1]=S*_+X*m,s[2]=k*_+re*m,s[3]=N*_+he*m,s[4]=j*_-E*m,s[5]=X*_-S*m,s[6]=re*_-k*m,s[7]=he*_-N*m,s},g.af=function(s){var i=new Od(16);return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],i},g.ag=Dc,g.ah=function(s,i){let a=0,m=0;if("constant"===s.kind)m=s.layoutSize;else if("source"!==s.kind){const{interpolationType:_,minZoom:E,maxZoom:S}=s,k=_?ki(vr.interpolationFactor(_,i,E,S),0,1):0;"camera"===s.kind?m=Xr.number(s.minSize,s.maxSize,k):a=k}return{uSizeT:a,uSize:m}},g.aj=function(s,{uSize:i,uSizeT:a},{lowerSize:m,upperSize:_}){return"source"===s.kind?m/ol:"composite"===s.kind?Xr.number(m/ol,_/ol,a):i},g.ak=Nu,g.al=function(s,i,a,m){const _=i.y-s.y,E=i.x-s.x,S=m.y-a.y,k=m.x-a.x,N=S*E-k*_;if(0===N)return null;const j=(k*(s.y-a.y)-S*(s.x-a.x))/N;return new Ie(s.x+j*E,s.y+j*_)},g.am=Km,g.an=ih,g.ao=_u,g.ap=Mo,g.ar=sc,g.as=function(s,i){var a=i[0],m=i[1],_=i[2],E=i[3],S=i[4],k=i[5],N=i[6],j=i[7],X=i[8],re=i[9],he=i[10],xe=i[11],Ee=i[12],Re=i[13],Ge=i[14],tt=i[15],Ct=a*k-m*S,mt=a*N-_*S,Mt=a*j-E*S,Pt=m*N-_*k,ti=m*j-E*k,Vi=_*j-E*N,nn=X*Re-re*Ee,Ni=X*Ge-he*Ee,Oi=X*tt-xe*Ee,Mi=re*Ge-he*Re,Ki=re*tt-xe*Re,Ti=he*tt-xe*Ge,gi=Ct*Ti-mt*Ki+Mt*Mi+Pt*Oi-ti*Ni+Vi*nn;return gi?(s[0]=(k*Ti-N*Ki+j*Mi)*(gi=1/gi),s[1]=(_*Ki-m*Ti-E*Mi)*gi,s[2]=(Re*Vi-Ge*ti+tt*Pt)*gi,s[3]=(he*ti-re*Vi-xe*Pt)*gi,s[4]=(N*Oi-S*Ti-j*Ni)*gi,s[5]=(a*Ti-_*Oi+E*Ni)*gi,s[6]=(Ge*Mt-Ee*Vi-tt*mt)*gi,s[7]=(X*Vi-he*Mt+xe*mt)*gi,s[8]=(S*Ki-k*Oi+j*nn)*gi,s[9]=(m*Oi-a*Ki-E*nn)*gi,s[10]=(Ee*ti-Re*Mt+tt*Ct)*gi,s[11]=(re*Mt-X*ti-xe*Ct)*gi,s[12]=(k*Ni-S*Mi-N*nn)*gi,s[13]=(a*Mi-m*Ni+_*nn)*gi,s[14]=(Re*mt-Ee*Pt-Ge*Ct)*gi,s[15]=(X*Pt-re*mt+he*Ct)*gi,s):null},g.at=Qd,g.au=$m,g.av=Nh,g.aw=function(){const s={},i=xt.$version;for(const a in xt.$root){const m=xt.$root[a];if(m.required){let _=null;_="version"===a?i:"array"===m.type?[]:{},null!=_&&(s[a]=_)}}return s},g.ax=Ii,g.ay=$i,g.az=Ei,g.b=function(s,i){const a=new Blob([new Uint8Array(s)],{type:"image/png"});createImageBitmap(a).then(m=>{i(null,m)}).catch(m=>{i(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},g.b0=$o,g.b1=function(s,i){var a=s[0],m=s[1],_=s[2],E=s[3],S=s[4],k=s[5],N=s[6],j=s[7],X=s[8],re=s[9],he=s[10],xe=s[11],Ee=s[12],Re=s[13],Ge=s[14],tt=s[15],Ct=i[0],mt=i[1],Mt=i[2],Pt=i[3],ti=i[4],Vi=i[5],nn=i[6],Ni=i[7],Oi=i[8],Mi=i[9],Ki=i[10],Ti=i[11],gi=i[12],gn=i[13],sn=i[14],Gn=i[15];return Math.abs(a-Ct)<=Wo*Math.max(1,Math.abs(a),Math.abs(Ct))&&Math.abs(m-mt)<=Wo*Math.max(1,Math.abs(m),Math.abs(mt))&&Math.abs(_-Mt)<=Wo*Math.max(1,Math.abs(_),Math.abs(Mt))&&Math.abs(E-Pt)<=Wo*Math.max(1,Math.abs(E),Math.abs(Pt))&&Math.abs(S-ti)<=Wo*Math.max(1,Math.abs(S),Math.abs(ti))&&Math.abs(k-Vi)<=Wo*Math.max(1,Math.abs(k),Math.abs(Vi))&&Math.abs(N-nn)<=Wo*Math.max(1,Math.abs(N),Math.abs(nn))&&Math.abs(j-Ni)<=Wo*Math.max(1,Math.abs(j),Math.abs(Ni))&&Math.abs(X-Oi)<=Wo*Math.max(1,Math.abs(X),Math.abs(Oi))&&Math.abs(re-Mi)<=Wo*Math.max(1,Math.abs(re),Math.abs(Mi))&&Math.abs(he-Ki)<=Wo*Math.max(1,Math.abs(he),Math.abs(Ki))&&Math.abs(xe-Ti)<=Wo*Math.max(1,Math.abs(xe),Math.abs(Ti))&&Math.abs(Ee-gi)<=Wo*Math.max(1,Math.abs(Ee),Math.abs(gi))&&Math.abs(Re-gn)<=Wo*Math.max(1,Math.abs(Re),Math.abs(gn))&&Math.abs(Ge-sn)<=Wo*Math.max(1,Math.abs(Ge),Math.abs(sn))&&Math.abs(tt-Gn)<=Wo*Math.max(1,Math.abs(tt),Math.abs(Gn))},g.b2=function(s,i){return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5],s[6]=i[6],s[7]=i[7],s[8]=i[8],s[9]=i[9],s[10]=i[10],s[11]=i[11],s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15],s},g.b3=function(s,i,a){return s[0]=i[0]*a[0],s[1]=i[1]*a[1],s[2]=i[2]*a[2],s[3]=i[3]*a[3],s},g.b4=function(s,i){return s[0]*i[0]+s[1]*i[1]+s[2]*i[2]+s[3]*i[3]},g.b5=Pi,g.b6=Ym,g.b7=xf,g.b8=function(s,i,a,m,_){var E,S=1/Math.tan(i/2);return s[0]=S/a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=S,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,null!=_&&_!==1/0?(s[10]=(_+m)*(E=1/(m-_)),s[14]=2*_*m*E):(s[10]=-1,s[14]=-2*m),s},g.b9=function(s,i,a){var m=Math.sin(a),_=Math.cos(a),E=i[4],S=i[5],k=i[6],N=i[7],j=i[8],X=i[9],re=i[10],he=i[11];return i!==s&&(s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15]),s[4]=E*_+j*m,s[5]=S*_+X*m,s[6]=k*_+re*m,s[7]=N*_+he*m,s[8]=j*_-E*m,s[9]=X*_-S*m,s[10]=re*_-k*m,s[11]=he*_-N*m,s},g.bA=rl,g.bB=H,g.bC=os,g.ba=Zt,g.bb=ri,g.bc=function(s,i){return s[0]=i[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=i[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=i[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},g.bd=class extends Yl{},g.be=Ih,g.bf=t_,g.bh=At,g.bi=function(s,i,a=!1){if(eo===xn||eo===Ho||eo===na)throw new Error("setRTLTextPlugin cannot be called multiple times.");Cs=Lt.resolveURL(s),eo=xn,ws=i,ra(),a||Tr()},g.bj=Wl,g.bk=function(s,i){const a={};for(let _=0;_<s.length;_++){const E=i&&i[s[_].id]||xr(s[_]);i&&(i[s[_].id]=E);let S=a[E];S||(S=a[E]=[]),S.push(s[_])}const m=[];for(const _ in a)m.push(a[_]);return m},g.bl=te,g.bm=Oh,g.bn=qd,g.bo=Au,g.bp=function(s){s.bucket.createArrays(),s.bucket.tilePixelRatio=So/(512*s.bucket.overscaling),s.bucket.compareText={},s.bucket.iconsNeedLinear=!1;const i=s.bucket.layers[0],a=i.layout,m=i._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new lr(s.bucket.zoom+1),s.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new lr(s.bucket.zoom+1),s.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new lr(18))};if("composite"===s.bucket.textSizeData.kind){const{minZoom:j,maxZoom:X}=s.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new lr(j),s.canonical),m["text-size"].possiblyEvaluate(new lr(X),s.canonical)]}if("composite"===s.bucket.iconSizeData.kind){const{minZoom:j,maxZoom:X}=s.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new lr(j),s.canonical),m["icon-size"].possiblyEvaluate(new lr(X),s.canonical)]}const E=a.get("text-line-height")*Mo,S="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement"),k=a.get("text-keep-upright"),N=a.get("text-size");for(const j of s.bucket.features){const X=a.get("text-font").evaluate(j,{},s.canonical).join(","),re=N.evaluate(j,{},s.canonical),he=_.layoutTextSize.evaluate(j,{},s.canonical),xe=_.layoutIconSize.evaluate(j,{},s.canonical),Ee={horizontal:{},vertical:void 0},Re=j.text;let Ge,tt=[0,0];if(Re){const Mt=Re.toString(),Pt=a.get("text-letter-spacing").evaluate(j,{},s.canonical)*Mo,ti=gr(Mt)?Pt:0,Vi=a.get("text-anchor").evaluate(j,{},s.canonical),nn=Jg(i,j,s.canonical);if(!nn){const Ti=a.get("text-radial-offset").evaluate(j,{},s.canonical);tt=Ti?Tf(Vi,[Ti*Mo,Fh]):a.get("text-offset").evaluate(j,{},s.canonical).map(gi=>gi*Mo)}let Ni=S?"center":a.get("text-justify").evaluate(j,{},s.canonical);const Oi=a.get("symbol-placement"),Mi="point"===Oi?a.get("text-max-width").evaluate(j,{},s.canonical)*Mo:0,Ki=()=>{s.bucket.allowVerticalPlacement&&fr(Mt)&&(Ee.vertical=Ou(Re,s.glyphMap,s.glyphPositions,s.imagePositions,X,Mi,E,Vi,"left",ti,tt,g.ai.vertical,!0,Oi,he,re))};if(!S&&nn){const Ti=new Set;if("auto"===Ni)for(let gn=0;gn<nn.values.length;gn+=2)Ti.add(Qd(nn.values[gn]));else Ti.add(Ni);let gi=!1;for(const gn of Ti)if(!Ee.horizontal[gn])if(gi)Ee.horizontal[gn]=Ee.horizontal[0];else{const sn=Ou(Re,s.glyphMap,s.glyphPositions,s.imagePositions,X,Mi,E,"center",gn,ti,tt,g.ai.horizontal,!1,Oi,he,re);sn&&(Ee.horizontal[gn]=sn,gi=1===sn.positionedLines.length)}Ki()}else{"auto"===Ni&&(Ni=Qd(Vi));const Ti=Ou(Re,s.glyphMap,s.glyphPositions,s.imagePositions,X,Mi,E,Vi,Ni,ti,tt,g.ai.horizontal,!1,Oi,he,re);Ti&&(Ee.horizontal[Ni]=Ti),Ki(),fr(Mt)&&S&&k&&(Ee.vertical=Ou(Re,s.glyphMap,s.glyphPositions,s.imagePositions,X,Mi,E,Vi,Ni,ti,tt,g.ai.vertical,!1,Oi,he,re))}}let Ct=!1;if(j.icon&&j.icon.name){const Mt=s.imageMap[j.icon.name];Mt&&(Ge=$g(s.imagePositions[j.icon.name],a.get("icon-offset").evaluate(j,{},s.canonical),a.get("icon-anchor").evaluate(j,{},s.canonical)),Ct=!!Mt.sdf,void 0===s.bucket.sdfIcons?s.bucket.sdfIcons=Ct:s.bucket.sdfIcons!==Ct&&_t("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mt.pixelRatio!==s.bucket.pixelRatio||0!==a.get("icon-rotate").constantOr(1))&&(s.bucket.iconsNeedLinear=!0))}const mt=ip(Ee.horizontal)||Ee.vertical;s.bucket.iconsInText=!!mt&&mt.iconsInText,(mt||Ge)&&e_(s.bucket,j,Ee,Ge,s.imageMap,_,he,xe,tt,Ct,s.canonical)}s.showCollisionBoxes&&s.bucket.generateCollisionDebugBuffers()},g.bq=zm,g.br=Am,g.bs=za,g.bt=class{constructor(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let s=performance.getEntriesByName(this._marks.measure);return 0===s.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),s=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),s}},g.bu=xh,g.bv=Na,g.bw=function(s,i,a,m,_){return Ve(this,void 0,void 0,function*(){if(Xt())try{return yield Bn(s,i,a,m,_)}catch{}return function(E,S,k,N,j){const X=E.width,re=E.height;_i&&Xe||(_i=new OffscreenCanvas(X,re),Xe=_i.getContext("2d",{willReadFrequently:!0})),_i.width=X,_i.height=re,Xe.drawImage(E,0,0,X,re);const he=Xe.getImageData(S,k,N,j);return Xe.clearRect(0,0,X,re),he.data}(s,i,a,m,_)})},g.bx=kh,g.by=le,g.bz=Ze,g.c=ai,g.d=function(s,i){const a=new Image;a.onload=()=>{i(null,a),URL.revokeObjectURL(a.src),a.onload=null,window.requestAnimationFrame(()=>{a.src=Li})},a.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(s)],{type:"image/png"});a.src=s.byteLength?URL.createObjectURL(m):Li},g.e=jt,g.f=function(s,i){return kt(jt(s,{type:"json"}),i)},g.g=ft,g.h=Lt,g.i=Fi,g.j=Vt,g.k=lt,g.l=hi,g.m=kt,g.n=function(s){return new xh(s).readFields(Ba,[])},g.o=function(s,i,a){if(!s.length)return a(null,[]);let m=s.length;const _=new Array(s.length);let E=null;s.forEach((S,k)=>{i(S,(N,j)=>{N&&(E=N),_[k]=j,0==--m&&a(E,_)})})},g.p=zl,g.q=lh,g.r=Rr,g.s=yi,g.t=vc,g.u=di,g.v=xt,g.w=_t,g.x=B,g.y=Pa,g.z=function([s,i,a]){return i+=90,i*=Math.PI/180,a*=Math.PI/180,{x:s*Math.cos(i)*Math.sin(a),y:s*Math.sin(i)*Math.sin(a),z:s*Math.cos(a)}}}),l(0,function(g){class Ve{constructor(q){this.keyCache={},q&&this.replace(q)}replace(q){this._layerConfigs={},this._layers={},this.update(q,[])}update(q,Q){for(const Oe of q){this._layerConfigs[Oe.id]=Oe;const ye=this._layers[Oe.id]=g.aC(Oe);ye._featureFilter=g.a6(ye.filter),this.keyCache[Oe.id]&&delete this.keyCache[Oe.id]}for(const Oe of Q)delete this.keyCache[Oe],delete this._layerConfigs[Oe],delete this._layers[Oe];this.familiesBySource={};const ve=g.bk(Object.values(this._layerConfigs),this.keyCache);for(const Oe of ve){const ye=Oe.map(je=>this._layers[je.id]),De=ye[0];if("none"===De.visibility)continue;const G=De.source||"";let Y=this.familiesBySource[G];Y||(Y=this.familiesBySource[G]={});const K=De.sourceLayer||"_geojsonTileLayer";let we=Y[K];we||(we=Y[K]=[]),we.push(ye)}}}class le{constructor(q){const Q={},ve=[];for(const G in q){const Y=q[G],K=Q[G]={};for(const we in Y){const je=Y[+we];if(!je||0===je.bitmap.width||0===je.bitmap.height)continue;const wt={x:0,y:0,w:je.bitmap.width+2,h:je.bitmap.height+2};ve.push(wt),K[we]={rect:wt,metrics:je.metrics}}}const{w:Oe,h:ye}=g.p(ve),De=new g.q({width:Oe||1,height:ye||1});for(const G in q){const Y=q[G];for(const K in Y){const we=Y[+K];if(!we||0===we.bitmap.width||0===we.bitmap.height)continue;const je=Q[G][K].rect;g.q.copy(we.bitmap,De,{x:0,y:0},{x:je.x+1,y:je.y+1},we.bitmap)}}this.image=De,this.positions=Q}}g.bl("GlyphAtlas",le);class Ze{constructor(q){this.tileID=new g.O(q.tileID.overscaledZ,q.tileID.wrap,q.tileID.canonical.z,q.tileID.canonical.x,q.tileID.canonical.y),this.uid=q.uid,this.zoom=q.zoom,this.pixelRatio=q.pixelRatio,this.tileSize=q.tileSize,this.source=q.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=q.showCollisionBoxes,this.collectResourceTiming=!!q.collectResourceTiming,this.returnDependencies=!!q.returnDependencies,this.promoteId=q.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(q,Q,ve,Oe,ye){this.status="parsing",this.data=q,this.collisionBoxArray=new g.a3;const De=new g.bm(Object.keys(q.layers).sort()),G=new g.bn(this.tileID,this.promoteId);G.bucketLayerIDs=[];const Y={},K={featureIndex:G,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ve},we=Q.familiesBySource[this.source];for(const Ui in we){const Yi=q.layers[Ui];if(!Yi)continue;1===Yi.version&&g.w(`Vector tile source "${this.source}" layer "${Ui}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const wn=De.encode(Ui),Si=[];for(let hr=0;hr<Yi.length;hr++){const Nr=Yi.feature(hr),uo=G.getId(Nr,Ui);Si.push({feature:Nr,id:uo,index:hr,sourceLayerIndex:wn})}for(const hr of we[Ui]){const Nr=hr[0];Nr.source!==this.source&&g.w(`layer.source = ${Nr.source} does not equal this.source = ${this.source}`),Nr.minzoom&&this.zoom<Math.floor(Nr.minzoom)||Nr.maxzoom&&this.zoom>=Nr.maxzoom||"none"!==Nr.visibility&&(nt(hr,this.zoom,ve),(Y[Nr.id]=Nr.createBucket({index:G.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:wn,sourceID:this.source})).populate(Si,K,this.tileID.canonical),G.bucketLayerIDs.push(hr.map(uo=>uo.id)))}}let je,wt,Be,Ue;const _e=g.aH(K.glyphDependencies,Ui=>Object.keys(Ui).map(Number));this.inFlightDependencies.forEach(Ui=>Ui?.cancel()),this.inFlightDependencies=[];const Ae=++this.dependencySentinel;Object.keys(_e).length?this.inFlightDependencies.push(Oe.send("getGlyphs",{uid:this.uid,stacks:_e,source:this.source,tileID:this.tileID,type:"glyphs"},(Ui,Yi)=>{Ae===this.dependencySentinel&&(je||(je=Ui,wt=Yi,fi.call(this)))})):wt={};const ct=Object.keys(K.iconDependencies);ct.length?this.inFlightDependencies.push(Oe.send("getImages",{icons:ct,source:this.source,tileID:this.tileID,type:"icons"},(Ui,Yi)=>{Ae===this.dependencySentinel&&(je||(je=Ui,Be=Yi,fi.call(this)))})):Be={};const Ht=Object.keys(K.patternDependencies);function fi(){if(je)return ye(je);if(wt&&Be&&Ue){const Ui=new le(wt),Yi=new g.bo(Be,Ue);for(const wn in Y){const Si=Y[wn];Si instanceof g.a4?(nt(Si.layers,this.zoom,ve),g.bp({bucket:Si,glyphMap:wt,glyphPositions:Ui.positions,imageMap:Be,imagePositions:Yi.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Si.hasPattern&&(Si instanceof g.bq||Si instanceof g.br||Si instanceof g.bs)&&(nt(Si.layers,this.zoom,ve),Si.addFeatures(K,this.tileID.canonical,Yi.patternPositions))}this.status="done",ye(null,{buckets:Object.values(Y).filter(wn=>!wn.isEmpty()),featureIndex:G,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ui.image,imageAtlas:Yi,glyphMap:this.returnDependencies?wt:null,iconMap:this.returnDependencies?Be:null,glyphPositions:this.returnDependencies?Ui.positions:null})}}Ht.length?this.inFlightDependencies.push(Oe.send("getImages",{icons:Ht,source:this.source,tileID:this.tileID,type:"patterns"},(Ui,Yi)=>{Ae===this.dependencySentinel&&(je||(je=Ui,Ue=Yi,fi.call(this)))})):Ue={},fi.call(this)}}function nt(de,q,Q){const ve=new g.a8(q);for(const Oe of de)Oe.recalculate(ve,Q)}function Ie(de,q){const Q=g.l(de.request,(ve,Oe,ye,De)=>{if(ve)q(ve);else if(Oe)try{const G=new g.bv.VectorTile(new g.bu(Oe));q(null,{vectorTile:G,rawData:Oe,cacheControl:ye,expires:De})}catch(G){const Y=new Uint8Array(Oe);let K=`Unable to parse the tile at ${de.request.url}, `;K+=31===Y[0]&&139===Y[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${G.messge}`,q(new Error(K))}});return()=>{Q.cancel(),q()}}class it{constructor(q,Q,ve,Oe){this.actor=q,this.layerIndex=Q,this.availableImages=ve,this.loadVectorData=Oe||Ie,this.fetching={},this.loading={},this.loaded={}}loadTile(q,Q){const ve=q.uid;this.loading||(this.loading={});const Oe=!!(q&&q.request&&q.request.collectResourceTiming)&&new g.bt(q.request),ye=this.loading[ve]=new Ze(q);ye.abort=this.loadVectorData(q,(De,G)=>{if(delete this.loading[ve],De||!G)return ye.status="done",this.loaded[ve]=ye,Q(De);const Y=G.rawData,K={};G.expires&&(K.expires=G.expires),G.cacheControl&&(K.cacheControl=G.cacheControl);const we={};if(Oe){const je=Oe.finish();je&&(we.resourceTiming=JSON.parse(JSON.stringify(je)))}ye.vectorTile=G.vectorTile,ye.parse(G.vectorTile,this.layerIndex,this.availableImages,this.actor,(je,wt)=>{if(delete this.fetching[ve],je||!wt)return Q(je);Q(null,g.e({rawTileData:Y.slice(0)},wt,K,we))}),this.loaded=this.loaded||{},this.loaded[ve]=ye,this.fetching[ve]={rawTileData:Y,cacheControl:K,resourceTiming:we}})}reloadTile(q,Q){const ve=this.loaded,Oe=q.uid;if(ve&&ve[Oe]){const ye=ve[Oe];ye.showCollisionBoxes=q.showCollisionBoxes,"parsing"===ye.status?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,(De,G)=>{if(De||!G)return Q(De,G);let Y;if(this.fetching[Oe]){const{rawTileData:K,cacheControl:we,resourceTiming:je}=this.fetching[Oe];delete this.fetching[Oe],Y=g.e({rawTileData:K.slice(0)},G,we,je)}else Y=G;Q(null,Y)}):"done"===ye.status&&(ye.vectorTile?ye.parse(ye.vectorTile,this.layerIndex,this.availableImages,this.actor,Q):Q())}}abortTile(q,Q){const ve=this.loading,Oe=q.uid;ve&&ve[Oe]&&ve[Oe].abort&&(ve[Oe].abort(),delete ve[Oe]),Q()}removeTile(q,Q){const ve=this.loaded,Oe=q.uid;ve&&ve[Oe]&&delete ve[Oe],Q()}}class at{constructor(){this.loaded={}}loadTile(q,Q){return g._(this,void 0,void 0,function*(){const{uid:ve,encoding:Oe,rawImageData:ye,redFactor:De,greenFactor:G,blueFactor:Y,baseShift:K}=q,we=ye.width+2,je=ye.height+2,wt=g.a(ye)?new g.R({width:we,height:je},yield g.bw(ye,-1,-1,we,je)):ye,Be=new g.bx(ve,wt,Oe,De,G,Y,K);this.loaded=this.loaded||{},this.loaded[ve]=Be,Q(null,Be)})}removeTile(q){const Q=this.loaded,ve=q.uid;Q&&Q[ve]&&delete Q[ve]}}function Je(de,q){if(0!==de.length){ot(de[0],q);for(var Q=1;Q<de.length;Q++)ot(de[Q],!q)}}function ot(de,q){for(var Q=0,ve=0,Oe=0,ye=de.length,De=ye-1;Oe<ye;De=Oe++){var G=(de[Oe][0]-de[De][0])*(de[De][1]+de[Oe][1]),Y=Q+G;ve+=Math.abs(Q)>=Math.abs(G)?Q-Y+G:G-Y+Q,Q=Y}Q+ve>=0!=!!q&&de.reverse()}var Ye=g.by(function de(q,Q){var ve,Oe=q&&q.type;if("FeatureCollection"===Oe)for(ve=0;ve<q.features.length;ve++)de(q.features[ve],Q);else if("GeometryCollection"===Oe)for(ve=0;ve<q.geometries.length;ve++)de(q.geometries[ve],Q);else if("Feature"===Oe)de(q.geometry,Q);else if("Polygon"===Oe)Je(q.coordinates,Q);else if("MultiPolygon"===Oe)for(ve=0;ve<q.coordinates.length;ve++)Je(q.coordinates[ve],Q);return q});const pt=g.bv.VectorTileFeature.prototype.toGeoJSON;var Xt={exports:{}},Zt=g.bz,ri=g.bv.VectorTileFeature,ki=Pi;function Pi(de,q){this.options=q||{},this.features=de,this.length=de.length}function jt(de,q){this.id="number"==typeof de.id?de.id:void 0,this.type=de.type,this.rawGeometry=1===de.type?[de.geometry]:de.geometry,this.properties=de.tags,this.extent=q||4096}Pi.prototype.feature=function(de){return new jt(this.features[de],this.options.extent)},jt.prototype.loadGeometry=function(){var de=this.rawGeometry;this.geometry=[];for(var q=0;q<de.length;q++){for(var Q=de[q],ve=[],Oe=0;Oe<Q.length;Oe++)ve.push(new Zt(Q[Oe][0],Q[Oe][1]));this.geometry.push(ve)}return this.geometry},jt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var de=this.geometry,q=1/0,Q=-1/0,ve=1/0,Oe=-1/0,ye=0;ye<de.length;ye++)for(var De=de[ye],G=0;G<De.length;G++){var Y=De[G];q=Math.min(q,Y.x),Q=Math.max(Q,Y.x),ve=Math.min(ve,Y.y),Oe=Math.max(Oe,Y.y)}return[q,ve,Q,Oe]},jt.prototype.toGeoJSON=ri.prototype.toGeoJSON;var rt=g.bA,ht=ki;function ei(de){var q=new rt;return function(Q,ve){for(var Oe in Q.layers)ve.writeMessage(3,Nt,Q.layers[Oe])}(de,q),q.finish()}function Nt(de,q){var Q;q.writeVarintField(15,de.version||1),q.writeStringField(1,de.name||""),q.writeVarintField(5,de.extent||4096);var ve={keys:[],values:[],keycache:{},valuecache:{}};for(Q=0;Q<de.length;Q++)ve.feature=de.feature(Q),q.writeMessage(2,Dt,ve);var Oe=ve.keys;for(Q=0;Q<Oe.length;Q++)q.writeStringField(3,Oe[Q]);var ye=ve.values;for(Q=0;Q<ye.length;Q++)q.writeMessage(4,En,ye[Q])}function Dt(de,q){var Q=de.feature;void 0!==Q.id&&q.writeVarintField(1,Q.id),q.writeMessage(2,_t,de),q.writeVarintField(3,Q.type),q.writeMessage(4,Fi,Q)}function _t(de,q){var Q=de.feature,ve=de.keys,Oe=de.values,ye=de.keycache,De=de.valuecache;for(var G in Q.properties){var Y=Q.properties[G],K=ye[G];if(null!==Y){void 0===K&&(ve.push(G),ye[G]=K=ve.length-1),q.writeVarint(K);var we=typeof Y;"string"!==we&&"boolean"!==we&&"number"!==we&&(Y=JSON.stringify(Y));var je=we+":"+Y,wt=De[je];void 0===wt&&(Oe.push(Y),De[je]=wt=Oe.length-1),q.writeVarint(wt)}}}function Qt(de,q){return(q<<3)+(7&de)}function Ri(de){return de<<1^de>>31}function Fi(de,q){for(var Q=de.loadGeometry(),ve=de.type,Oe=0,ye=0,De=Q.length,G=0;G<De;G++){var Y=Q[G],K=1;1===ve&&(K=Y.length),q.writeVarint(Qt(1,K));for(var we=3===ve?Y.length-1:Y.length,je=0;je<we;je++){1===je&&1!==ve&&q.writeVarint(Qt(2,we-1));var wt=Y[je].x-Oe,Be=Y[je].y-ye;q.writeVarint(Ri(wt)),q.writeVarint(Ri(Be)),Oe+=wt,ye+=Be}3===ve&&q.writeVarint(Qt(7,1))}}function En(de,q){var Q=typeof de;"string"===Q?q.writeStringField(1,de):"boolean"===Q?q.writeBooleanField(7,de):"number"===Q&&(de%1!=0?q.writeDoubleField(3,de):de<0?q.writeSVarintField(6,de):q.writeVarintField(5,de))}Xt.exports=ei,Xt.exports.fromVectorTileJs=ei,Xt.exports.fromGeojsonVt=function(de,q){q=q||{};var Q={};for(var ve in de)Q[ve]=new ht(de[ve].features,q),Q[ve].name=ve,Q[ve].version=q.version,Q[ve].extent=q.extent;return ei({layers:Q})},Xt.exports.GeoJSONWrapper=ht;var Fn=g.by(Xt.exports);const Li={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:de=>de},Bn=Math.fround||(_i=new Float32Array(1),de=>(_i[0]=+de,_i[0]));var _i;const Xe=3,Ke=5,Ot=6;class Lt{constructor(q){this.options=Object.assign(Object.create(Li),q),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(q){const{log:Q,minZoom:ve,maxZoom:Oe}=this.options;Q&&console.time("total time");const ye=`prepare ${q.length} points`;Q&&console.time(ye),this.points=q;const De=[];for(let Y=0;Y<q.length;Y++){const K=q[Y];if(!K.geometry)continue;const[we,je]=K.geometry.coordinates,wt=Bn(Ei(we)),Be=Bn(ft(je));De.push(wt,Be,1/0,Y,-1,1),this.options.reduce&&De.push(0)}let G=this.trees[Oe+1]=this._createTree(De);Q&&console.timeEnd(ye);for(let Y=Oe;Y>=ve;Y--){const K=+Date.now();G=this.trees[Y]=this._createTree(this._cluster(G,Y)),Q&&console.log("z%d: %d clusters in %dms",Y,G.numItems,+Date.now()-K)}return Q&&console.timeEnd("total time"),this}getClusters(q,Q){let ve=((q[0]+180)%360+360)%360-180;const Oe=Math.max(-90,Math.min(90,q[1]));let ye=180===q[2]?180:((q[2]+180)%360+360)%360-180;const De=Math.max(-90,Math.min(90,q[3]));if(q[2]-q[0]>=360)ve=-180,ye=180;else if(ve>ye){const je=this.getClusters([ve,Oe,180,De],Q),wt=this.getClusters([-180,Oe,ye,De],Q);return je.concat(wt)}const G=this.trees[this._limitZoom(Q)],Y=G.range(Ei(ve),ft(De),Ei(ye),ft(Oe)),K=G.data,we=[];for(const je of Y){const wt=this.stride*je;we.push(K[wt+Ke]>1?ai(K,wt,this.clusterProps):this.points[K[wt+Xe]])}return we}getChildren(q){const Q=this._getOriginId(q),ve=this._getOriginZoom(q),Oe="No cluster with the specified id.",ye=this.trees[ve];if(!ye)throw new Error(Oe);const De=ye.data;if(Q*this.stride>=De.length)throw new Error(Oe);const G=this.options.radius/(this.options.extent*Math.pow(2,ve-1)),Y=ye.within(De[Q*this.stride],De[Q*this.stride+1],G),K=[];for(const we of Y){const je=we*this.stride;De[je+4]===q&&K.push(De[je+Ke]>1?ai(De,je,this.clusterProps):this.points[De[je+Xe]])}if(0===K.length)throw new Error(Oe);return K}getLeaves(q,Q,ve){const Oe=[];return this._appendLeaves(Oe,q,Q=Q||10,ve=ve||0,0),Oe}getTile(q,Q,ve){const Oe=this.trees[this._limitZoom(q)],ye=Math.pow(2,q),{extent:De,radius:G}=this.options,Y=G/De,K=(ve-Y)/ye,we=(ve+1+Y)/ye,je={features:[]};return this._addTileFeatures(Oe.range((Q-Y)/ye,K,(Q+1+Y)/ye,we),Oe.data,Q,ve,ye,je),0===Q&&this._addTileFeatures(Oe.range(1-Y/ye,K,1,we),Oe.data,ye,ve,ye,je),Q===ye-1&&this._addTileFeatures(Oe.range(0,K,Y/ye,we),Oe.data,-1,ve,ye,je),je.features.length?je:null}getClusterExpansionZoom(q){let Q=this._getOriginZoom(q)-1;for(;Q<=this.options.maxZoom;){const ve=this.getChildren(q);if(Q++,1!==ve.length)break;q=ve[0].properties.cluster_id}return Q}_appendLeaves(q,Q,ve,Oe,ye){const De=this.getChildren(Q);for(const G of De){const Y=G.properties;if(Y&&Y.cluster?ye+Y.point_count<=Oe?ye+=Y.point_count:ye=this._appendLeaves(q,Y.cluster_id,ve,Oe,ye):ye<Oe?ye++:q.push(G),q.length===ve)break}return ye}_createTree(q){const Q=new g.av(q.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ve=0;ve<q.length;ve+=this.stride)Q.add(q[ve],q[ve+1]);return Q.finish(),Q.data=q,Q}_addTileFeatures(q,Q,ve,Oe,ye,De){for(const G of q){const Y=G*this.stride,K=Q[Y+Ke]>1;let we,je,wt;if(K)we=At(Q,Y,this.clusterProps),je=Q[Y],wt=Q[Y+1];else{const _e=this.points[Q[Y+Xe]];we=_e.properties;const[Ae,ct]=_e.geometry.coordinates;je=Ei(Ae),wt=ft(ct)}const Be={type:1,geometry:[[Math.round(this.options.extent*(je*ye-ve)),Math.round(this.options.extent*(wt*ye-Oe))]],tags:we};let Ue;Ue=K||this.options.generateId?Q[Y+Xe]:this.points[Q[Y+Xe]].id,void 0!==Ue&&(Be.id=Ue),De.features.push(Be)}}_limitZoom(q){return Math.max(this.options.minZoom,Math.min(Math.floor(+q),this.options.maxZoom+1))}_cluster(q,Q){const{radius:ve,extent:Oe,reduce:ye,minPoints:De}=this.options,G=ve/(Oe*Math.pow(2,Q)),Y=q.data,K=[],we=this.stride;for(let je=0;je<Y.length;je+=we){if(Y[je+2]<=Q)continue;Y[je+2]=Q;const wt=Y[je],Be=Y[je+1],Ue=q.within(Y[je],Y[je+1],G),_e=Y[je+Ke];let Ae=_e;for(const ct of Ue){const Ht=ct*we;Y[Ht+2]>Q&&(Ae+=Y[Ht+Ke])}if(Ae>_e&&Ae>=De){let ct,Ht=wt*_e,fi=Be*_e,Ui=-1;const Yi=((je/we|0)<<5)+(Q+1)+this.points.length;for(const wn of Ue){const Si=wn*we;if(Y[Si+2]<=Q)continue;Y[Si+2]=Q;const hr=Y[Si+Ke];Ht+=Y[Si]*hr,fi+=Y[Si+1]*hr,Y[Si+4]=Yi,ye&&(ct||(ct=this._map(Y,je,!0),Ui=this.clusterProps.length,this.clusterProps.push(ct)),ye(ct,this._map(Y,Si)))}Y[je+4]=Yi,K.push(Ht/Ae,fi/Ae,1/0,Yi,-1,Ae),ye&&K.push(Ui)}else{for(let ct=0;ct<we;ct++)K.push(Y[je+ct]);if(Ae>1)for(const ct of Ue){const Ht=ct*we;if(!(Y[Ht+2]<=Q)){Y[Ht+2]=Q;for(let fi=0;fi<we;fi++)K.push(Y[Ht+fi])}}}}return K}_getOriginId(q){return q-this.points.length>>5}_getOriginZoom(q){return(q-this.points.length)%32}_map(q,Q,ve){if(q[Q+Ke]>1){const De=this.clusterProps[q[Q+Ot]];return ve?Object.assign({},De):De}const Oe=this.points[q[Q+Xe]].properties,ye=this.options.map(Oe);return ve&&ye===Oe?Object.assign({},ye):ye}}function ai(de,q,Q){return{type:"Feature",id:de[q+Xe],properties:At(de,q,Q),geometry:{type:"Point",coordinates:[(ve=de[q],360*(ve-.5)),vt(de[q+1])]}};var ve}function At(de,q,Q){const ve=de[q+Ke],Oe=ve>=1e4?`${Math.round(ve/1e3)}k`:ve>=1e3?Math.round(ve/100)/10+"k":ve,ye=de[q+Ot],De=-1===ye?{}:Object.assign({},Q[ye]);return Object.assign(De,{cluster:!0,cluster_id:de[q+Xe],point_count:ve,point_count_abbreviated:Oe})}function Ei(de){return de/360+.5}function ft(de){const q=Math.sin(de*Math.PI/180),Q=.5-.25*Math.log((1+q)/(1-q))/Math.PI;return Q<0?0:Q>1?1:Q}function vt(de){const q=(180-360*de)*Math.PI/180;return 360*Math.atan(Math.exp(q))/Math.PI-90}function kt(de,q,Q,ve){for(var Oe,ye=ve,De=Q-q>>1,G=Q-q,Y=de[q],K=de[q+1],we=de[Q],je=de[Q+1],wt=q+3;wt<Q;wt+=3){var Be=hi(de[wt],de[wt+1],Y,K,we,je);if(Be>ye)Oe=wt,ye=Be;else if(Be===ye){var Ue=Math.abs(wt-De);Ue<G&&(Oe=wt,G=Ue)}}ye>ve&&(Oe-q>3&&kt(de,q,Oe,ve),de[Oe+2]=ye,Q-Oe>3&&kt(de,Oe,Q,ve))}function hi(de,q,Q,ve,Oe,ye){var De=Oe-Q,G=ye-ve;if(0!==De||0!==G){var Y=((de-Q)*De+(q-ve)*G)/(De*De+G*G);Y>1?(Q=Oe,ve=ye):Y>0&&(Q+=De*Y,ve+=G*Y)}return(De=de-Q)*De+(G=q-ve)*G}function yi(de,q,Q,ve){var Oe={id:void 0===de?null:de,type:q,geometry:Q,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ye){var De=ye.geometry,G=ye.type;if("Point"===G||"MultiPoint"===G||"LineString"===G)si(ye,De);else if("Polygon"===G||"MultiLineString"===G)for(var Y=0;Y<De.length;Y++)si(ye,De[Y]);else if("MultiPolygon"===G)for(Y=0;Y<De.length;Y++)for(var K=0;K<De[Y].length;K++)si(ye,De[Y][K])}(Oe),Oe}function si(de,q){for(var Q=0;Q<q.length;Q+=3)de.minX=Math.min(de.minX,q[Q]),de.minY=Math.min(de.minY,q[Q+1]),de.maxX=Math.max(de.maxX,q[Q]),de.maxY=Math.max(de.maxY,q[Q+1])}function Qi(de,q,Q,ve){if(q.geometry){var Oe=q.geometry.coordinates,ye=q.geometry.type,De=Math.pow(Q.tolerance/((1<<Q.maxZoom)*Q.extent),2),G=[],Y=q.id;if(Q.promoteId?Y=q.properties[Q.promoteId]:Q.generateId&&(Y=ve||0),"Point"===ye)lt(Oe,G);else if("MultiPoint"===ye)for(var K=0;K<Oe.length;K++)lt(Oe[K],G);else if("LineString"===ye)Vt(Oe,G,De,!1);else if("MultiLineString"===ye){if(Q.lineMetrics){for(K=0;K<Oe.length;K++)Vt(Oe[K],G=[],De,!1),de.push(yi(Y,"LineString",G,q.properties));return}li(Oe,G,De,!1)}else if("Polygon"===ye)li(Oe,G,De,!0);else{if("MultiPolygon"!==ye){if("GeometryCollection"===ye){for(K=0;K<q.geometry.geometries.length;K++)Qi(de,{id:Y,geometry:q.geometry.geometries[K],properties:q.properties},Q,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(K=0;K<Oe.length;K++){var we=[];li(Oe[K],we,De,!0),G.push(we)}}de.push(yi(Y,ye,G,q.properties))}}function lt(de,q){q.push(xt(de[0])),q.push(pn(de[1])),q.push(0)}function Vt(de,q,Q,ve){for(var Oe,ye,De=0,G=0;G<de.length;G++){var Y=xt(de[G][0]),K=pn(de[G][1]);q.push(Y),q.push(K),q.push(0),G>0&&(De+=ve?(Oe*K-Y*ye)/2:Math.sqrt(Math.pow(Y-Oe,2)+Math.pow(K-ye,2))),Oe=Y,ye=K}var we=q.length-3;q[2]=1,kt(q,0,we,Q),q[we+2]=1,q.size=Math.abs(De),q.start=0,q.end=q.size}function li(de,q,Q,ve){for(var Oe=0;Oe<de.length;Oe++){var ye=[];Vt(de[Oe],ye,Q,ve),q.push(ye)}}function xt(de){return de/360+.5}function pn(de){var q=Math.sin(de*Math.PI/180),Q=.5-.25*Math.log((1+q)/(1-q))/Math.PI;return Q<0?0:Q>1?1:Q}function Mn(de,q,Q,ve,Oe,ye,De,G){if(ve/=q,ye>=(Q/=q)&&De<ve)return de;if(De<Q||ye>=ve)return null;for(var Y=[],K=0;K<de.length;K++){var we=de[K],je=we.geometry,wt=we.type,Be=0===Oe?we.minX:we.minY,Ue=0===Oe?we.maxX:we.maxY;if(Be>=Q&&Ue<ve)Y.push(we);else if(!(Ue<Q||Be>=ve)){var _e=[];if("Point"===wt||"MultiPoint"===wt)rn(je,_e,Q,ve,Oe);else if("LineString"===wt)Ii(je,_e,Q,ve,Oe,!1,G.lineMetrics);else if("MultiLineString"===wt)Ut(je,_e,Q,ve,Oe,!1);else if("Polygon"===wt)Ut(je,_e,Q,ve,Oe,!0);else if("MultiPolygon"===wt)for(var Ae=0;Ae<je.length;Ae++){var ct=[];Ut(je[Ae],ct,Q,ve,Oe,!0),ct.length&&_e.push(ct)}if(_e.length){if(G.lineMetrics&&"LineString"===wt){for(Ae=0;Ae<_e.length;Ae++)Y.push(yi(we.id,wt,_e[Ae],we.tags));continue}"LineString"!==wt&&"MultiLineString"!==wt||(1===_e.length?(wt="LineString",_e=_e[0]):wt="MultiLineString"),"Point"!==wt&&"MultiPoint"!==wt||(wt=3===_e.length?"Point":"MultiPoint"),Y.push(yi(we.id,wt,_e,we.tags))}}}return Y.length?Y:null}function rn(de,q,Q,ve,Oe){for(var ye=0;ye<de.length;ye+=3){var De=de[ye+Oe];De>=Q&&De<=ve&&(q.push(de[ye]),q.push(de[ye+1]),q.push(de[ye+2]))}}function Ii(de,q,Q,ve,Oe,ye,De){for(var G,Y,K=On(de),we=0===Oe?Ne:Le,je=de.start,wt=0;wt<de.length-3;wt+=3){var Be=de[wt],Ue=de[wt+1],_e=de[wt+2],Ae=de[wt+3],ct=de[wt+4],Ht=0===Oe?Be:Ue,fi=0===Oe?Ae:ct,Ui=!1;De&&(G=Math.sqrt(Math.pow(Be-Ae,2)+Math.pow(Ue-ct,2))),Ht<Q?fi>Q&&(Y=we(K,Be,Ue,Ae,ct,Q),De&&(K.start=je+G*Y)):Ht>ve?fi<ve&&(Y=we(K,Be,Ue,Ae,ct,ve),De&&(K.start=je+G*Y)):Ce(K,Be,Ue,_e),fi<Q&&Ht>=Q&&(Y=we(K,Be,Ue,Ae,ct,Q),Ui=!0),fi>ve&&Ht<=ve&&(Y=we(K,Be,Ue,Ae,ct,ve),Ui=!0),!ye&&Ui&&(De&&(K.end=je+G*Y),q.push(K),K=On(de)),De&&(je+=G)}var Yi=de.length-3;Be=de[Yi],Ue=de[Yi+1],_e=de[Yi+2],(Ht=0===Oe?Be:Ue)>=Q&&Ht<=ve&&Ce(K,Be,Ue,_e),Yi=K.length-3,ye&&Yi>=3&&(K[Yi]!==K[0]||K[Yi+1]!==K[1])&&Ce(K,K[0],K[1],K[2]),K.length&&q.push(K)}function On(de){var q=[];return q.size=de.size,q.start=de.start,q.end=de.end,q}function Ut(de,q,Q,ve,Oe,ye){for(var De=0;De<de.length;De++)Ii(de[De],q,Q,ve,Oe,ye,!1)}function Ce(de,q,Q,ve){de.push(q),de.push(Q),de.push(ve)}function Ne(de,q,Q,ve,Oe,ye){var De=(ye-q)/(ve-q);return de.push(ye),de.push(Q+(Oe-Q)*De),de.push(1),De}function Le(de,q,Q,ve,Oe,ye){var De=(ye-Q)/(Oe-Q);return de.push(q+(ve-q)*De),de.push(ye),de.push(1),De}function $e(de,q){for(var Q=[],ve=0;ve<de.length;ve++){var Oe,ye=de[ve],De=ye.type;if("Point"===De||"MultiPoint"===De||"LineString"===De)Oe=pe(ye.geometry,q);else if("MultiLineString"===De||"Polygon"===De){Oe=[];for(var G=0;G<ye.geometry.length;G++)Oe.push(pe(ye.geometry[G],q))}else if("MultiPolygon"===De)for(Oe=[],G=0;G<ye.geometry.length;G++){for(var Y=[],K=0;K<ye.geometry[G].length;K++)Y.push(pe(ye.geometry[G][K],q));Oe.push(Y)}Q.push(yi(ye.id,De,Oe,ye.tags))}return Q}function pe(de,q){var Q=[];Q.size=de.size,void 0!==de.start&&(Q.start=de.start,Q.end=de.end);for(var ve=0;ve<de.length;ve+=3)Q.push(de[ve]+q,de[ve+1],de[ve+2]);return Q}function Me(de,q){if(de.transformed)return de;var Q,ve,Oe,ye=1<<de.z,De=de.x,G=de.y;for(Q=0;Q<de.features.length;Q++){var Y=de.features[Q],K=Y.geometry,we=Y.type;if(Y.geometry=[],1===we)for(ve=0;ve<K.length;ve+=2)Y.geometry.push(Ft(K[ve],K[ve+1],q,ye,De,G));else for(ve=0;ve<K.length;ve++){var je=[];for(Oe=0;Oe<K[ve].length;Oe+=2)je.push(Ft(K[ve][Oe],K[ve][Oe+1],q,ye,De,G));Y.geometry.push(je)}}return de.transformed=!0,de}function Ft(de,q,Q,ve,Oe,ye){return[Math.round(Q*(de*ve-Oe)),Math.round(Q*(q*ve-ye))]}function Wt(de,q,Q,ve,Oe){for(var ye=q===Oe.maxZoom?0:Oe.tolerance/((1<<q)*Oe.extent),De={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Q,y:ve,z:q,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},G=0;G<de.length;G++){De.numFeatures++,ci(De,de[G],ye,Oe);var Y=de[G].minX,K=de[G].minY,we=de[G].maxX,je=de[G].maxY;Y<De.minX&&(De.minX=Y),K<De.minY&&(De.minY=K),we>De.maxX&&(De.maxX=we),je>De.maxY&&(De.maxY=je)}return De}function ci(de,q,Q,ve){var Oe=q.geometry,ye=q.type,De=[];if("Point"===ye||"MultiPoint"===ye)for(var G=0;G<Oe.length;G+=3)De.push(Oe[G]),De.push(Oe[G+1]),de.numPoints++,de.numSimplified++;else if("LineString"===ye)$t(De,Oe,de,Q,!1,!1);else if("MultiLineString"===ye||"Polygon"===ye)for(G=0;G<Oe.length;G++)$t(De,Oe[G],de,Q,"Polygon"===ye,0===G);else if("MultiPolygon"===ye)for(var Y=0;Y<Oe.length;Y++){var K=Oe[Y];for(G=0;G<K.length;G++)$t(De,K[G],de,Q,!0,0===G)}if(De.length){var we=q.tags||null;if("LineString"===ye&&ve.lineMetrics){for(var je in we={},q.tags)we[je]=q.tags[je];we.mapbox_clip_start=Oe.start/Oe.size,we.mapbox_clip_end=Oe.end/Oe.size}var wt={geometry:De,type:"Polygon"===ye||"MultiPolygon"===ye?3:"LineString"===ye||"MultiLineString"===ye?2:1,tags:we};null!==q.id&&(wt.id=q.id),de.features.push(wt)}}function $t(de,q,Q,ve,Oe,ye){var De=ve*ve;if(ve>0&&q.size<(Oe?De:ve))Q.numPoints+=q.length/3;else{for(var G=[],Y=0;Y<q.length;Y+=3)(0===ve||q[Y+2]>De)&&(Q.numSimplified++,G.push(q[Y]),G.push(q[Y+1])),Q.numPoints++;Oe&&function(K,we){for(var je=0,wt=0,Be=K.length,Ue=Be-2;wt<Be;Ue=wt,wt+=2)je+=(K[wt]-K[Ue])*(K[wt+1]+K[Ue+1]);if(je>0===we)for(wt=0,Be=K.length;wt<Be/2;wt+=2){var _e=K[wt],Ae=K[wt+1];K[wt]=K[Be-2-wt],K[wt+1]=K[Be-1-wt],K[Be-2-wt]=_e,K[Be-1-wt]=Ae}}(G,ye),de.push(G)}}function St(de,q){var Q=(q=this.options=function(Oe,ye){for(var De in ye)Oe[De]=ye[De];return Oe}(Object.create(this.options),q)).debug;if(Q&&console.time("preprocess data"),q.maxZoom<0||q.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(q.promoteId&&q.generateId)throw new Error("promoteId and generateId cannot be used together.");var Oe,ye,De,G,Y,K,ve=function(Oe,ye){var De=[];if("FeatureCollection"===Oe.type)for(var G=0;G<Oe.features.length;G++)Qi(De,Oe.features[G],ye,G);else Qi(De,"Feature"===Oe.type?Oe:{geometry:Oe},ye);return De}(de,q);this.tiles={},this.tileCoords=[],Q&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",q.indexMaxZoom,q.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),G=Oe=ve,Y=Mn(Oe,1,-1-(De=(ye=q).buffer/ye.extent),De,0,-1,2,ye),K=Mn(Oe,1,1-De,2+De,0,-1,2,ye),(Y||K)&&(G=Mn(Oe,1,-De,1+De,0,-1,2,ye)||[],Y&&(G=$e(Y,1).concat(G)),K&&(G=G.concat($e(K,-1)))),(ve=G).length&&this.splitTile(ve,0,0,0),Q&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wi(de,q,Q){return 32*((1<<de)*Q+q)+de}function Ci(de,q){return q?de.properties[q]:de.id}function dn(de,q){if(null==de)return!0;if("Feature"===de.type)return null!=Ci(de,q);if("FeatureCollection"===de.type){const Q=new Set;for(const ve of de.features){const Oe=Ci(ve,q);if(null==Oe||Q.has(Oe))return!1;Q.add(Oe)}return!0}return!1}function Dn(de,q){const Q=new Map;if(null!=de)if("Feature"===de.type)Q.set(Ci(de,q),de);else for(const ve of de.features)Q.set(Ci(ve,q),ve);return Q}St.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},St.prototype.splitTile=function(de,q,Q,ve,Oe,ye,De){for(var G=[de,q,Q,ve],Y=this.options,K=Y.debug;G.length;){ve=G.pop(),Q=G.pop(),q=G.pop(),de=G.pop();var we=1<<q,je=wi(q,Q,ve),wt=this.tiles[je];if(!wt&&(K>1&&console.time("creation"),wt=this.tiles[je]=Wt(de,q,Q,ve,Y),this.tileCoords.push({z:q,x:Q,y:ve}),K)){K>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",q,Q,ve,wt.numFeatures,wt.numPoints,wt.numSimplified),console.timeEnd("creation"));var Be="z"+q;this.stats[Be]=(this.stats[Be]||0)+1,this.total++}if(wt.source=de,Oe){if(q===Y.maxZoom||q===Oe)continue;var Ue=1<<Oe-q;if(Q!==Math.floor(ye/Ue)||ve!==Math.floor(De/Ue))continue}else if(q===Y.indexMaxZoom||wt.numPoints<=Y.indexMaxPoints)continue;if(wt.source=null,0!==de.length){K>1&&console.time("clipping");var _e,Ae,ct,Ht,fi,Ui,Yi=.5*Y.buffer/Y.extent,wn=.5-Yi,Si=.5+Yi,hr=1+Yi;_e=Ae=ct=Ht=null,fi=Mn(de,we,Q-Yi,Q+Si,0,wt.minX,wt.maxX,Y),Ui=Mn(de,we,Q+wn,Q+hr,0,wt.minX,wt.maxX,Y),de=null,fi&&(_e=Mn(fi,we,ve-Yi,ve+Si,1,wt.minY,wt.maxY,Y),Ae=Mn(fi,we,ve+wn,ve+hr,1,wt.minY,wt.maxY,Y),fi=null),Ui&&(ct=Mn(Ui,we,ve-Yi,ve+Si,1,wt.minY,wt.maxY,Y),Ht=Mn(Ui,we,ve+wn,ve+hr,1,wt.minY,wt.maxY,Y),Ui=null),K>1&&console.timeEnd("clipping"),G.push(_e||[],q+1,2*Q,2*ve),G.push(Ae||[],q+1,2*Q,2*ve+1),G.push(ct||[],q+1,2*Q+1,2*ve),G.push(Ht||[],q+1,2*Q+1,2*ve+1)}}},St.prototype.getTile=function(de,q,Q){var ve=this.options,Oe=ve.extent,ye=ve.debug;if(de<0||de>24)return null;var De=1<<de,G=wi(de,q=(q%De+De)%De,Q);if(this.tiles[G])return Me(this.tiles[G],Oe);ye>1&&console.log("drilling down to z%d-%d-%d",de,q,Q);for(var Y,K=de,we=q,je=Q;!Y&&K>0;)K--,we=Math.floor(we/2),je=Math.floor(je/2),Y=this.tiles[wi(K,we,je)];return Y&&Y.source?(ye>1&&console.log("found parent tile z%d-%d-%d",K,we,je),ye>1&&console.time("drilling down"),this.splitTile(Y.source,K,we,je,de,q,Q),ye>1&&console.timeEnd("drilling down"),this.tiles[G]?Me(this.tiles[G],Oe):null):null};class Tt extends it{constructor(q,Q,ve,Oe){super(q,Q,ve),this._dataUpdateable=new Map,this.loadGeoJSON=(ye,De)=>{const{promoteId:G}=ye;if(ye.request)return g.f(ye.request,(Y,K,we,je)=>{this._dataUpdateable=dn(K,G)?Dn(K,G):void 0,De(Y,K,we,je)});if("string"==typeof ye.data)try{const Y=JSON.parse(ye.data);this._dataUpdateable=dn(Y,G)?Dn(Y,G):void 0,De(null,Y)}catch{De(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`))}else ye.dataDiff?this._dataUpdateable?(function(Y,K,we){var je,wt,Be,Ue;if(K.removeAll&&Y.clear(),K.remove)for(const _e of K.remove)Y.delete(_e);if(K.add)for(const _e of K.add){const Ae=Ci(_e,we);null!=Ae&&Y.set(Ae,_e)}if(K.update)for(const _e of K.update){let Ae=Y.get(_e.id);if(null==Ae)continue;const ct=!_e.removeAllProperties&&((null===(je=_e.removeProperties)||void 0===je?void 0:je.length)>0||(null===(wt=_e.addOrUpdateProperties)||void 0===wt?void 0:wt.length)>0);if((_e.newGeometry||_e.removeAllProperties||ct)&&(Ae=Object.assign({},Ae),Y.set(_e.id,Ae),ct&&(Ae.properties=Object.assign({},Ae.properties))),_e.newGeometry&&(Ae.geometry=_e.newGeometry),_e.removeAllProperties)Ae.properties={};else if((null===(Be=_e.removeProperties)||void 0===Be?void 0:Be.length)>0)for(const Ht of _e.removeProperties)Object.prototype.hasOwnProperty.call(Ae.properties,Ht)&&delete Ae.properties[Ht];if((null===(Ue=_e.addOrUpdateProperties)||void 0===Ue?void 0:Ue.length)>0)for(const{key:Ht,value:fi}of _e.addOrUpdateProperties)Ae.properties[Ht]=fi}}(this._dataUpdateable,ye.dataDiff,G),De(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):De(new Error(`Cannot update existing geojson data in ${ye.source}`)):De(new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,Oe&&(this.loadGeoJSON=Oe)}loadGeoJSONTile(q,Q){const ve=q.tileID.canonical;if(!this._geoJSONIndex)return Q(null,null);const Oe=this._geoJSONIndex.getTile(ve.z,ve.x,ve.y);if(!Oe)return Q(null,null);const ye=new class{constructor(G){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=g.N,this.length=G.length,this._features=G}feature(G){return new class{constructor(Y){this._feature=Y,this.extent=g.N,this.type=Y.type,this.properties=Y.tags,"id"in Y&&!isNaN(Y.id)&&(this.id=parseInt(Y.id,10))}loadGeometry(){if(1===this._feature.type){const Y=[];for(const K of this._feature.geometry)Y.push([new g.P(K[0],K[1])]);return Y}{const Y=[];for(const K of this._feature.geometry){const we=[];for(const je of K)we.push(new g.P(je[0],je[1]));Y.push(we)}return Y}}toGeoJSON(Y,K,we){return pt.call(this,Y,K,we)}}(this._features[G])}}(Oe.features);let De=Fn(ye);0===De.byteOffset&&De.byteLength===De.buffer.byteLength||(De=new Uint8Array(De)),Q(null,{vectorTile:ye,rawData:De.buffer})}loadData(q,Q){var ve;null===(ve=this._pendingRequest)||void 0===ve||ve.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Oe=!!(q&&q.request&&q.request.collectResourceTiming)&&new g.bt(q.request);this._pendingCallback=Q,this._pendingRequest=this.loadGeoJSON(q,(ye,De)=>{if(delete this._pendingCallback,delete this._pendingRequest,ye||!De)return Q(ye);if("object"!=typeof De)return Q(new Error(`Input data given to '${q.source}' is not a valid GeoJSON object.`));{Ye(De,!0);try{if(q.filter){const Y=g.bB(q.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===Y.result)throw new Error(Y.value.map(we=>`${we.key}: ${we.message}`).join(", "));De={type:"FeatureCollection",features:De.features.filter(we=>Y.value.evaluate({zoom:0},we))}}this._geoJSONIndex=q.cluster?new Lt(function({superclusterOptions:Y,clusterProperties:K}){if(!K||!Y)return Y;const we={},je={},wt={accumulated:null,zoom:0},Be={properties:null},Ue=Object.keys(K);for(const _e of Ue){const[Ae,ct]=K[_e],Ht=g.bB(ct),fi=g.bB("string"==typeof Ae?[Ae,["accumulated"],["get",_e]]:Ae);we[_e]=Ht.value,je[_e]=fi.value}return Y.map=_e=>{Be.properties=_e;const Ae={};for(const ct of Ue)Ae[ct]=we[ct].evaluate(wt,Be);return Ae},Y.reduce=(_e,Ae)=>{Be.properties=Ae;for(const ct of Ue)wt.accumulated=_e[ct],_e[ct]=je[ct].evaluate(wt,Be)},Y}(q)).load(De.features):new St(Y=De,q.geojsonVtOptions)}catch(Y){return Q(Y)}this.loaded={};const G={};if(Oe){const Y=Oe.finish();Y&&(G.resourceTiming={},G.resourceTiming[q.source]=JSON.parse(JSON.stringify(Y)))}Q(null,G)}var Y})}reloadTile(q,Q){const ve=this.loaded;return ve&&ve[q.uid]?super.reloadTile(q,Q):this.loadTile(q,Q)}removeSource(q,Q){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Q()}getClusterExpansionZoom(q,Q){try{Q(null,this._geoJSONIndex.getClusterExpansionZoom(q.clusterId))}catch(ve){Q(ve)}}getClusterChildren(q,Q){try{Q(null,this._geoJSONIndex.getChildren(q.clusterId))}catch(ve){Q(ve)}}getClusterLeaves(q,Q){try{Q(null,this._geoJSONIndex.getLeaves(q.clusterId,q.limit,q.offset))}catch(ve){Q(ve)}}}class Zi{constructor(q){this.self=q,this.actor=new g.C(q,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:it,geojson:Tt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Q,ve)=>{if(this.workerSourceTypes[Q])throw new Error(`Worker source with name "${Q}" already registered.`);this.workerSourceTypes[Q]=ve},this.self.registerRTLTextPlugin=Q=>{if(g.bC.isParsed())throw new Error("RTL text plugin already registered.");g.bC.applyArabicShaping=Q.applyArabicShaping,g.bC.processBidirectionalText=Q.processBidirectionalText,g.bC.processStyledBidirectionalText=Q.processStyledBidirectionalText}}setReferrer(q,Q){this.referrer=Q}setImages(q,Q,ve){this.availableImages[q]=Q;for(const Oe in this.workerSources[q]){const ye=this.workerSources[q][Oe];for(const De in ye)ye[De].availableImages=Q}ve()}setLayers(q,Q,ve){this.getLayerIndex(q).replace(Q),ve()}updateLayers(q,Q,ve){this.getLayerIndex(q).update(Q.layers,Q.removedIds),ve()}loadTile(q,Q,ve){this.getWorkerSource(q,Q.type,Q.source).loadTile(Q,ve)}loadDEMTile(q,Q,ve){this.getDEMWorkerSource(q,Q.source).loadTile(Q,ve)}reloadTile(q,Q,ve){this.getWorkerSource(q,Q.type,Q.source).reloadTile(Q,ve)}abortTile(q,Q,ve){this.getWorkerSource(q,Q.type,Q.source).abortTile(Q,ve)}removeTile(q,Q,ve){this.getWorkerSource(q,Q.type,Q.source).removeTile(Q,ve)}removeDEMTile(q,Q){this.getDEMWorkerSource(q,Q.source).removeTile(Q)}removeSource(q,Q,ve){if(!this.workerSources[q]||!this.workerSources[q][Q.type]||!this.workerSources[q][Q.type][Q.source])return;const Oe=this.workerSources[q][Q.type][Q.source];delete this.workerSources[q][Q.type][Q.source],void 0!==Oe.removeSource?Oe.removeSource(Q,ve):ve()}loadWorkerSource(q,Q,ve){try{this.self.importScripts(Q.url),ve()}catch(Oe){ve(Oe.toString())}}syncRTLPluginState(q,Q,ve){try{g.bC.setState(Q);const Oe=g.bC.getPluginURL();if(g.bC.isLoaded()&&!g.bC.isParsed()&&null!=Oe){this.self.importScripts(Oe);const ye=g.bC.isParsed();ve(ye?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Oe}`),ye)}}catch(Oe){ve(Oe.toString())}}getAvailableImages(q){let Q=this.availableImages[q];return Q||(Q=[]),Q}getLayerIndex(q){let Q=this.layerIndexes[q];return Q||(Q=this.layerIndexes[q]=new Ve),Q}getWorkerSource(q,Q,ve){return this.workerSources[q]||(this.workerSources[q]={}),this.workerSources[q][Q]||(this.workerSources[q][Q]={}),this.workerSources[q][Q][ve]||(this.workerSources[q][Q][ve]=new this.workerSourceTypes[Q]({send:(Oe,ye,De)=>{this.actor.send(Oe,ye,De,q)}},this.getLayerIndex(q),this.getAvailableImages(q))),this.workerSources[q][Q][ve]}getDEMWorkerSource(q,Q){return this.demWorkerSources[q]||(this.demWorkerSources[q]={}),this.demWorkerSources[q][Q]||(this.demWorkerSources[q][Q]=new at),this.demWorkerSources[q][Q]}}return g.i()&&(self.worker=new Zi(self)),Zi}),l(0,function(g){class le{static testProp(n){if(!le.docStyle)return n[0];for(let d=0;d<n.length;d++)if(n[d]in le.docStyle)return n[d];return n[0]}static create(n,d,f){const v=window.document.createElement(n);return void 0!==d&&(v.className=d),f&&f.appendChild(v),v}static createNS(n,d){return window.document.createElementNS(n,d)}static disableDrag(){le.docStyle&&le.selectProp&&(le.userSelect=le.docStyle[le.selectProp],le.docStyle[le.selectProp]="none")}static enableDrag(){le.docStyle&&le.selectProp&&(le.docStyle[le.selectProp]=le.userSelect)}static setTransform(n,d){n.style[le.transformProp]=d}static addEventListener(n,d,f,v={}){n.addEventListener(d,f,"passive"in v?v:v.capture)}static removeEventListener(n,d,f,v={}){n.removeEventListener(d,f,"passive"in v?v:v.capture)}static suppressClickInternal(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("click",le.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",le.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",le.suppressClickInternal,!0)},0)}static mousePos(n,d){const f=n.getBoundingClientRect();return new g.P(d.clientX-f.left-n.clientLeft,d.clientY-f.top-n.clientTop)}static touchPos(n,d){const f=n.getBoundingClientRect(),v=[];for(let D=0;D<d.length;D++)v.push(new g.P(d[D].clientX-f.left-n.clientLeft,d[D].clientY-f.top-n.clientTop));return v}static mouseButton(n){return n.button}static remove(n){n.parentNode&&n.parentNode.removeChild(n)}}le.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,le.selectProp=le.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),le.transformProp=le.testProp(["transform","WebkitTransform"]);const Ze={supported:!1,testSupport:function(w){!it&&Ie&&(at?Je(w):nt=w)}};let nt,Ie,it=!1,at=!1;function Je(w){const n=w.createTexture();w.bindTexture(w.TEXTURE_2D,n);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,Ie),w.isContextLost())return;Ze.supported=!0}catch{}w.deleteTexture(n),it=!0}var ot,Ye,w;typeof document<"u"&&(Ie=document.createElement("img"),Ie.onload=function(){nt&&Je(nt),nt=null,at=!0},Ie.onerror=function(){it=!0,nt=null},Ie.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(w){let n,d,f,v;w.resetRequestQueue=()=>{n=[],d=0,f=0,v={}},w.addThrottleControl=Z=>{const J=f++;return v[J]=Z,J},w.removeThrottleControl=Z=>{delete v[Z],R()},w.getImage=(Z,J,ne=!0)=>{Ze.supported&&(Z.headers||(Z.headers={}),Z.headers.accept="image/webp,*/*");const ge={requestParameters:Z,supportImageRefresh:ne,callback:J,cancelled:!1,completed:!1,cancel:()=>{ge.completed||ge.cancelled||(ge.cancelled=!0,ge.innerRequest&&(ge.innerRequest.cancel(),d--),R())}};return n.push(ge),R(),ge};const D=Z=>{const{requestParameters:J,supportImageRefresh:ne,callback:ge}=Z;return g.e(J,{type:"image"}),(!1!==ne||g.i()||g.g(J.url)||J.headers&&!Object.keys(J.headers).reduce((Pe,Fe)=>Pe&&"accept"===Fe,!0)?g.m:V)(J,(Pe,Fe,ze,ke)=>{O(Z,ge,Pe,Fe,ze,ke)})},O=(Z,J,ne,ge,Pe,Fe)=>{var ze,ke;ne?J(ne):ge instanceof HTMLImageElement||g.a(ge)?J(null,ge):ge&&(ze=ge,ke=(ze,ke)=>{null!=ze?J(ze):null!=ke&&J(null,ke,{cacheControl:Pe,expires:Fe})},"function"==typeof createImageBitmap?g.b(ze,ke):g.d(ze,ke)),Z.cancelled||(Z.completed=!0,d--,R())},R=()=>{const Z=(()=>{const J=Object.keys(v);let ne=!1;if(J.length>0)for(const ge of J)if(ne=v[ge](),ne)break;return ne})()?g.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:g.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let J=d;J<Z&&n.length>0;J++){const ne=n.shift();if(ne.cancelled){J--;continue}const ge=D(ne);d++,ne.innerRequest=ge}},V=(Z,J)=>{const ne=new Image,ge=Z.url;let Pe=!1;const Fe=Z.credentials;return Fe&&"include"===Fe?ne.crossOrigin="use-credentials":(Fe&&"same-origin"===Fe||!g.s(ge))&&(ne.crossOrigin="anonymous"),ne.fetchPriority="high",ne.onload=()=>{J(null,ne),ne.onerror=ne.onload=null},ne.onerror=()=>{Pe||J(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),ne.onerror=ne.onload=null},ne.src=ge,{cancel:()=>{Pe=!0,ne.src=""}}}}(ot||(ot={})),ot.resetRequestQueue(),(w=Ye||(Ye={})).Glyphs="Glyphs",w.Image="Image",w.Source="Source",w.SpriteImage="SpriteImage",w.SpriteJSON="SpriteJSON",w.Style="Style",w.Tile="Tile",w.Unknown="Unknown";class pt{constructor(n){this._transformRequestFn=n}transformRequest(n,d){return this._transformRequestFn&&this._transformRequestFn(n,d)||{url:n}}normalizeSpriteURL(n,d,f){const v=function(D){const O=D.match(Xt);if(!O)throw new Error(`Unable to parse URL "${D}"`);return{protocol:O[1],authority:O[2],path:O[3]||"/",params:O[4]?O[4].split("&"):[]}}(n);return v.path+=`${d}${f}`,function(D){const O=D.params.length?`?${D.params.join("&")}`:"";return`${D.protocol}://${D.authority}${D.path}${O}`}(v)}setTransformRequest(n){this._transformRequestFn=n}}const Xt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Zt(w){var n=new g.A(3);return n[0]=w[0],n[1]=w[1],n[2]=w[2],n}var ri,ki=function(w,n,d){return w[0]=n[0]-d[0],w[1]=n[1]-d[1],w[2]=n[2]-d[2],w};ri=new g.A(3),g.A!=Float32Array&&(ri[0]=0,ri[1]=0,ri[2]=0);var Pi=function(w){var n=w[0],d=w[1];return n*n+d*d};function jt(w){const n=[];if("string"==typeof w)n.push({id:"default",url:w});else if(w&&w.length>0){const d=[];for(const{id:f,url:v}of w){const D=`${f}${v}`;-1===d.indexOf(D)&&(d.push(D),n.push({id:f,url:v}))}}return n}function rt(w,n,d,f,v){if(f)return void w(f);if(v!==Object.values(n).length||v!==Object.values(d).length)return;const D={};for(const O in n){D[O]={};const R=g.h.getImageCanvasContext(d[O]),V=n[O];for(const Z in V){const{width:J,height:ne,x:ge,y:Pe,sdf:Fe,pixelRatio:ze,stretchX:ke,stretchY:gt,content:Rt}=V[Z];D[O][Z]={data:null,pixelRatio:ze,sdf:Fe,stretchX:ke,stretchY:gt,content:Rt,spriteData:{width:J,height:ne,x:ge,y:Pe,context:R}}}}w(null,D)}!function(){var w=new g.A(2);g.A!=Float32Array&&(w[0]=0,w[1]=0)}();class ht{constructor(n,d,f,v){this.context=n,this.format=f,this.texture=n.gl.createTexture(),this.update(d,v)}update(n,d,f){const{width:v,height:D}=n,O=!(this.size&&this.size[0]===v&&this.size[1]===D||f),{context:R}=this,{gl:V}=R;if(this.useMipmap=!(!d||!d.useMipmap),V.bindTexture(V.TEXTURE_2D,this.texture),R.pixelStoreUnpackFlipY.set(!1),R.pixelStoreUnpack.set(1),R.pixelStoreUnpackPremultiplyAlpha.set(this.format===V.RGBA&&(!d||!1!==d.premultiply)),O)this.size=[v,D],n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||g.a(n)?V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,V.UNSIGNED_BYTE,n):V.texImage2D(V.TEXTURE_2D,0,this.format,v,D,0,this.format,V.UNSIGNED_BYTE,n.data);else{const{x:Z,y:J}=f||{x:0,y:0};n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||g.a(n)?V.texSubImage2D(V.TEXTURE_2D,0,Z,J,V.RGBA,V.UNSIGNED_BYTE,n):V.texSubImage2D(V.TEXTURE_2D,0,Z,J,v,D,V.RGBA,V.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&V.generateMipmap(V.TEXTURE_2D)}bind(n,d,f){const{context:v}=this,{gl:D}=v;D.bindTexture(D.TEXTURE_2D,this.texture),f!==D.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=D.LINEAR),n!==this.filter&&(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,n),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,f||n),this.filter=n),d!==this.wrap&&(D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,d),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}function ei(w){const{userImage:n}=w;return!!(n&&n.render&&n.render())&&(w.data.replace(new Uint8Array(n.data.buffer)),!0)}class Nt extends g.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new g.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(n){if(this.loaded!==n&&(this.loaded=n,n)){for(const{ids:d,callback:f}of this.requestors)this._notify(d,f);this.requestors=[]}}getImage(n){const d=this.images[n];if(d&&!d.data&&d.spriteData){const f=d.spriteData;d.data=new g.R({width:f.width,height:f.height},f.context.getImageData(f.x,f.y,f.width,f.height).data),d.spriteData=null}return d}addImage(n,d){if(this.images[n])throw new Error(`Image id ${n} already exist, use updateImage instead`);this._validate(n,d)&&(this.images[n]=d)}_validate(n,d){let f=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new g.j(new Error(`Image "${n}" has invalid "stretchX" value`))),f=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new g.j(new Error(`Image "${n}" has invalid "stretchY" value`))),f=!1),this._validateContent(d.content,d)||(this.fire(new g.j(new Error(`Image "${n}" has invalid "content" value`))),f=!1),f}_validateStretch(n,d){if(!n)return!0;let f=0;for(const v of n){if(v[0]<f||v[1]<v[0]||d<v[1])return!1;f=v[1]}return!0}_validateContent(n,d){if(!n)return!0;if(4!==n.length)return!1;const f=d.spriteData,v=f&&f.width||d.data.width,D=f&&f.height||d.data.height;return!(n[0]<0||v<n[0]||n[1]<0||D<n[1]||n[2]<0||v<n[2]||n[3]<0||D<n[3]||n[2]<n[0]||n[3]<n[1])}updateImage(n,d,f=!0){const v=this.getImage(n);if(f&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[n]=d,this.updatedImages[n]=!0}removeImage(n){const d=this.images[n];delete this.images[n],delete this.patterns[n],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(n,d){let f=!0;if(!this.isLoaded())for(const v of n)this.images[v]||(f=!1);this.isLoaded()||f?this._notify(n,d):this.requestors.push({ids:n,callback:d})}_notify(n,d){const f={};for(const v of n){let D=this.getImage(v);D||(this.fire(new g.k("styleimagemissing",{id:v})),D=this.getImage(v)),D?f[v]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!(!D.userImage||!D.userImage.render)}:g.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,f)}getPixelSize(){const{width:n,height:d}=this.atlasImage;return{width:n,height:d}}getPattern(n){const d=this.patterns[n],f=this.getImage(n);if(!f)return null;if(d&&d.position.version===f.version)return d.position;if(d)d.position.version=f.version;else{const v={w:f.data.width+2,h:f.data.height+2,x:0,y:0},D=new g.I(v,f);this.patterns[n]={bin:v,position:D}}return this._updatePatternAtlas(),this.patterns[n].position}bind(n){const d=n.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ht(n,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const n=[];for(const D in this.patterns)n.push(this.patterns[D].bin);const{w:d,h:f}=g.p(n),v=this.atlasImage;v.resize({width:d||1,height:f||1});for(const D in this.patterns){const{bin:O}=this.patterns[D],R=O.x+1,V=O.y+1,Z=this.getImage(D).data,J=Z.width,ne=Z.height;g.R.copy(Z,v,{x:0,y:0},{x:R,y:V},{width:J,height:ne}),g.R.copy(Z,v,{x:0,y:ne-1},{x:R,y:V-1},{width:J,height:1}),g.R.copy(Z,v,{x:0,y:0},{x:R,y:V+ne},{width:J,height:1}),g.R.copy(Z,v,{x:J-1,y:0},{x:R-1,y:V},{width:1,height:ne}),g.R.copy(Z,v,{x:0,y:0},{x:R+J,y:V},{width:1,height:ne})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(n){for(const d of n){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const f=this.getImage(d);f||g.w(`Image with ID: "${d}" was not found`),ei(f)&&this.updateImage(d,f)}}}const Dt=1e20;function _t(w,n,d,f,v,D,O,R,V){for(let Z=n;Z<n+f;Z++)Qt(w,d*D+Z,D,v,O,R,V);for(let Z=d;Z<d+v;Z++)Qt(w,Z*D+n,1,f,O,R,V)}function Qt(w,n,d,f,v,D,O){D[0]=0,O[0]=-Dt,O[1]=Dt,v[0]=w[n];for(let R=1,V=0,Z=0;R<f;R++){v[R]=w[n+R*d];const J=R*R;do{const ne=D[V];Z=(v[R]-v[ne]+J-ne*ne)/(R-ne)/2}while(Z<=O[V]&&--V>-1);V++,D[V]=R,O[V]=Z,O[V+1]=Dt}for(let R=0,V=0;R<f;R++){for(;O[V+1]<R;)V++;const Z=D[V],J=R-Z;w[n+R*d]=v[Z]+J*J}}class Ri{constructor(n,d){this.requestManager=n,this.localIdeographFontFamily=d,this.entries={}}setURL(n){this.url=n}getGlyphs(n,d){const f=[];for(const v in n)for(const D of n[v])f.push({stack:v,id:D});g.o(f,({stack:v,id:D},O)=>{let R=this.entries[v];R||(R=this.entries[v]={glyphs:{},requests:{},ranges:{}});let V=R.glyphs[D];if(void 0!==V)return void O(null,{stack:v,id:D,glyph:V});if(V=this._tinySDF(R,v,D),V)return R.glyphs[D]=V,void O(null,{stack:v,id:D,glyph:V});const Z=Math.floor(D/256);if(256*Z>65535)return void O(new Error("glyphs > 65535 not supported"));if(R.ranges[Z])return void O(null,{stack:v,id:D,glyph:V});if(!this.url)return void O(new Error("glyphsUrl is not set"));let J=R.requests[Z];J||(J=R.requests[Z]=[],Ri.loadGlyphRange(v,Z,this.url,this.requestManager,(ne,ge)=>{if(ge){for(const Pe in ge)this._doesCharSupportLocalGlyph(+Pe)||(R.glyphs[+Pe]=ge[+Pe]);R.ranges[Z]=!0}for(const Pe of J)Pe(ne,ge);delete R.requests[Z]})),J.push((ne,ge)=>{ne?O(ne):ge&&O(null,{stack:v,id:D,glyph:ge[D]||null})})},(v,D)=>{if(v)d(v);else if(D){const O={};for(const{stack:R,id:V,glyph:Z}of D)(O[R]||(O[R]={}))[V]=Z&&{id:Z.id,bitmap:Z.bitmap.clone(),metrics:Z.metrics};d(null,O)}})}_doesCharSupportLocalGlyph(n){return!!this.localIdeographFontFamily&&(g.u["CJK Unified Ideographs"](n)||g.u["Hangul Syllables"](n)||g.u.Hiragana(n)||g.u.Katakana(n))}_tinySDF(n,d,f){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(f))return;let D=n.tinySDF;if(!D){let R="400";/bold/i.test(d)?R="900":/medium/i.test(d)?R="500":/light/i.test(d)&&(R="200"),D=n.tinySDF=new Ri.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:R})}const O=D.draw(String.fromCharCode(f));return{id:f,bitmap:new g.q({width:O.width||60,height:O.height||60},O.data),metrics:{width:O.glyphWidth/2||24,height:O.glyphHeight/2||24,left:O.glyphLeft/2+.5||0,top:O.glyphTop/2-27.5||-8,advance:O.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ri.loadGlyphRange=function(w,n,d,f,v){const D=256*n,O=D+255,R=f.transformRequest(d.replace("{fontstack}",w).replace("{range}",`${D}-${O}`),Ye.Glyphs);g.l(R,(V,Z)=>{if(V)v(V);else if(Z){const J={};for(const ne of g.n(Z))J[ne.id]=ne;v(null,J)}})},Ri.TinySDF=class{constructor({fontSize:w=24,buffer:n=3,radius:d=8,cutoff:f=.25,fontFamily:v="sans-serif",fontWeight:D="normal",fontStyle:O="normal"}={}){this.buffer=n,this.cutoff=f,this.radius=d;const R=this.size=w+4*n,V=this._createCanvas(R),Z=this.ctx=V.getContext("2d",{willReadFrequently:!0});Z.font=`${O} ${D} ${w}px ${v}`,Z.textBaseline="alphabetic",Z.textAlign="left",Z.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(w){const n=document.createElement("canvas");return n.width=n.height=w,n}draw(w){const{width:n,actualBoundingBoxAscent:d,actualBoundingBoxDescent:f,actualBoundingBoxLeft:v,actualBoundingBoxRight:D}=this.ctx.measureText(w),O=Math.ceil(d),R=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(D-v))),V=Math.min(this.size-this.buffer,O+Math.ceil(f)),Z=R+2*this.buffer,J=V+2*this.buffer,ne=Math.max(Z*J,0),ge=new Uint8ClampedArray(ne),Pe={data:ge,width:Z,height:J,glyphWidth:R,glyphHeight:V,glyphTop:O,glyphLeft:0,glyphAdvance:n};if(0===R||0===V)return Pe;const{ctx:Fe,buffer:ze,gridInner:ke,gridOuter:gt}=this;Fe.clearRect(ze,ze,R,V),Fe.fillText(w,ze,ze+O);const Rt=Fe.getImageData(ze,ze,R,V);gt.fill(Dt,0,ne),ke.fill(0,0,ne);for(let T=0;T<V;T++)for(let P=0;P<R;P++){const I=Rt.data[4*(T*R+P)+3]/255;if(0===I)continue;const F=(T+ze)*Z+P+ze;if(1===I)gt[F]=0,ke[F]=Dt;else{const $=.5-I;gt[F]=$>0?$*$:0,ke[F]=$<0?$*$:0}}_t(gt,0,0,Z,J,Z,this.f,this.v,this.z),_t(ke,ze,ze,R,V,Z,this.f,this.v,this.z);for(let T=0;T<ne;T++){const P=Math.sqrt(gt[T])-Math.sqrt(ke[T]);ge[T]=Math.round(255-255*(P/this.radius+this.cutoff))}return Pe}};class Fi{constructor(){this.specification=g.v.light.position}possiblyEvaluate(n,d){return g.z(n.expression.evaluate(d))}interpolate(n,d,f){return{x:g.B.number(n.x,d.x,f),y:g.B.number(n.y,d.y,f),z:g.B.number(n.z,d.z,f)}}}let En;class Fn extends g.E{constructor(n){super(),En=En||new g.r({anchor:new g.D(g.v.light.anchor),position:new Fi,color:new g.D(g.v.light.color),intensity:new g.D(g.v.light.intensity)}),this._transitionable=new g.T(En),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(n,d={}){if(!this._validate(g.t,n,d))for(const f in n){const v=n[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),v):this._transitionable.setValue(f,v)}}updateTransitions(n){this._transitioning=this._transitionable.transitioned(n,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(n){this.properties=this._transitioning.possiblyEvaluate(n)}_validate(n,d,f){return(!f||!1!==f.validate)&&g.x(this,n.call(g.y,g.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:g.v})))}}class Li{constructor(n,d){this.width=n,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(n,d){const f=n.join(",")+String(d);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(n,d)),this.dashEntry[f]}getDashRanges(n,d,f){const v=[];let D=n.length%2==1?-n[n.length-1]*f:0,O=n[0]*f,R=!0;v.push({left:D,right:O,isDash:R,zeroLength:0===n[0]});let V=n[0];for(let Z=1;Z<n.length;Z++){R=!R;const J=n[Z];D=V*f,V+=J,O=V*f,v.push({left:D,right:O,isDash:R,zeroLength:0===J})}return v}addRoundDash(n,d,f){const v=d/2;for(let D=-f;D<=f;D++){const O=this.width*(this.nextRow+f+D);let R=0,V=n[R];for(let Z=0;Z<this.width;Z++){Z/V.right>1&&(V=n[++R]);const J=Math.abs(Z-V.left),ne=Math.abs(Z-V.right),ge=Math.min(J,ne);let Pe;const Fe=D/f*(v+1);if(V.isDash){const ze=v-Math.abs(Fe);Pe=Math.sqrt(ge*ge+ze*ze)}else Pe=v-Math.sqrt(ge*ge+Fe*Fe);this.data[O+Z]=Math.max(0,Math.min(255,Pe+128))}}}addRegularDash(n){for(let R=n.length-1;R>=0;--R){const V=n[R],Z=n[R+1];V.zeroLength?n.splice(R,1):Z&&Z.isDash===V.isDash&&(Z.left=V.left,n.splice(R,1))}const d=n[0],f=n[n.length-1];d.isDash===f.isDash&&(d.left=f.left-this.width,f.right=d.right+this.width);const v=this.width*this.nextRow;let D=0,O=n[D];for(let R=0;R<this.width;R++){R/O.right>1&&(O=n[++D]);const V=Math.abs(R-O.left),Z=Math.abs(R-O.right),J=Math.min(V,Z);this.data[v+R]=Math.max(0,Math.min(255,(O.isDash?J:-J)+128))}}addDash(n,d){const f=d?7:0,v=2*f+1;if(this.nextRow+v>this.height)return g.w("LineAtlas out of space"),null;let D=0;for(let R=0;R<n.length;R++)D+=n[R];if(0!==D){const R=this.width/D,V=this.getDashRanges(n,this.width,R);d?this.addRoundDash(V,R,f):this.addRegularDash(V)}const O={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:D};return this.nextRow+=v,this.dirty=!0,O}bind(n){const d=n.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Bn{constructor(n,d,f){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=f;const v=this.workerPool.acquire(f);for(let D=0;D<v.length;D++){const O=new g.C(v[D],d,f);O.name=`Worker ${D}`,this.actors.push(O)}if(!this.actors.length)throw new Error("No actors found")}broadcast(n,d,f){g.o(this.actors,(v,D)=>{v.send(n,d,D)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(n=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],n&&this.workerPool.release(this.id)}}function _i(w,n,d){const f=function(v,D){if(v)return d(v);if(D){const O=g.F(g.e(D,w),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(O.vectorLayers=D.vector_layers,O.vectorLayerIds=O.vectorLayers.map(R=>R.id)),d(null,O)}};return w.url?g.f(n.transformRequest(w.url,Ye.Source),f):g.h.frame(()=>f(null,w))}class Xe{constructor(n,d){n&&(d?this.setSouthWest(n).setNorthEast(d):Array.isArray(n)&&(4===n.length?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1])))}setNorthEast(n){return this._ne=n instanceof g.L?new g.L(n.lng,n.lat):g.L.convert(n),this}setSouthWest(n){return this._sw=n instanceof g.L?new g.L(n.lng,n.lat):g.L.convert(n),this}extend(n){const d=this._sw,f=this._ne;let v,D;if(n instanceof g.L)v=n,D=n;else{if(!(n instanceof Xe))return Array.isArray(n)?4===n.length||n.every(Array.isArray)?this.extend(Xe.convert(n)):this.extend(g.L.convert(n)):n&&("lng"in n||"lon"in n)&&"lat"in n?this.extend(g.L.convert(n)):this;if(v=n._sw,D=n._ne,!v||!D)return this}return d||f?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),f.lng=Math.max(D.lng,f.lng),f.lat=Math.max(D.lat,f.lat)):(this._sw=new g.L(v.lng,v.lat),this._ne=new g.L(D.lng,D.lat)),this}getCenter(){return new g.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new g.L(this.getWest(),this.getNorth())}getSouthEast(){return new g.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:d,lat:f}=g.L.convert(n);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&v}static convert(n){return n instanceof Xe?n:n&&new Xe(n)}static fromLngLat(n,d=0){const f=360*d/40075017,v=f/Math.cos(Math.PI/180*n.lat);return new Xe(new g.L(n.lng-v,n.lat-f),new g.L(n.lng+v,n.lat+f))}}class Ke{constructor(n,d,f){this.bounds=Xe.convert(this.validateBounds(n)),this.minzoom=d||0,this.maxzoom=f||24}validateBounds(n){return Array.isArray(n)&&4===n.length?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]}contains(n){const d=Math.pow(2,n.z),f=Math.floor(g.G(this.bounds.getWest())*d),v=Math.floor(g.H(this.bounds.getNorth())*d),D=Math.ceil(g.G(this.bounds.getEast())*d),O=Math.ceil(g.H(this.bounds.getSouth())*d);return n.x>=f&&n.x<D&&n.y>=v&&n.y<O}}class Ot extends g.E{constructor(n,d,f,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new g.k("dataloading",{dataType:"source"})),this._tileJSONRequest=_i(this._options,this.map._requestManager,(D,O)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),D?this.fire(new g.j(D)):O&&(g.e(this,O),O.bounds&&(this.tileBounds=new Ke(O.bounds,this.minzoom,this.maxzoom)),this.fire(new g.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new g.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>g.e({},this._options),this.id=n,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,g.e(this,g.F(d,["url","scheme","tileSize","promoteId"])),this._options=g.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}onAdd(n){this.map=n,this.load()}setSourceProperty(n){this._tileJSONRequest&&this._tileJSONRequest.cancel(),n(),this.load()}setTiles(n){return this.setSourceProperty(()=>{this._options.tiles=n}),this}setUrl(n){return this.setSourceProperty(()=>{this.url=n,this._options.url=n}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(n,d){const f=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(f,Ye.Tile),uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function D(O,R){return delete n.request,n.aborted?d(null):O&&404!==O.status?d(O):(R&&R.resourceTiming&&(n.resourceTiming=R.resourceTiming),this.map._refreshExpiredTiles&&R&&n.setExpiryData(R),n.loadVectorData(R,this.map.painter),d(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,n.actor&&"expired"!==n.state?"loading"===n.state?n.reloadCallback=d:n.request=n.actor.send("reloadTile",v,D.bind(this)):(n.actor=this.dispatcher.getActor(),n.request=n.actor.send("loadTile",v,D.bind(this)))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.actor&&n.actor.send("abortTile",{uid:n.uid,type:this.type,source:this.id},void 0)}unloadTile(n){n.unloadVectorData(),n.actor&&n.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Lt extends g.E{constructor(n,d,f,v){super(),this.id=n,this.dispatcher=f,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=g.e({type:"raster"},d),g.e(this,g.F(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new g.k("dataloading",{dataType:"source"})),this._tileJSONRequest=_i(this._options,this.map._requestManager,(n,d)=>{this._tileJSONRequest=null,this._loaded=!0,n?this.fire(new g.j(n)):d&&(g.e(this,d),d.bounds&&(this.tileBounds=new Ke(d.bounds,this.minzoom,this.maxzoom)),this.fire(new g.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new g.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(n){this.map=n,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(n){this._tileJSONRequest&&this._tileJSONRequest.cancel(),n(),this.load()}setTiles(n){return this.setSourceProperty(()=>{this._options.tiles=n}),this}serialize(){return g.e({},this._options)}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}loadTile(n,d){const f=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);n.request=ot.getImage(this.map._requestManager.transformRequest(f,Ye.Tile),(v,D,O)=>{if(delete n.request,n.aborted)n.state="unloaded",d(null);else if(v)n.state="errored",d(v);else if(D){this.map._refreshExpiredTiles&&O&&n.setExpiryData(O);const R=this.map.painter.context,V=R.gl;n.texture=this.map.painter.getTileTexture(D.width),n.texture?n.texture.update(D,{useMipmap:!0}):(n.texture=new ht(R,D,V.RGBA,{useMipmap:!0}),n.texture.bind(V.LINEAR,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),R.extTextureFilterAnisotropic&&V.texParameterf(V.TEXTURE_2D,R.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,R.extTextureFilterAnisotropicMax)),n.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(n,d){n.request&&(n.request.cancel(),delete n.request),d()}unloadTile(n,d){n.texture&&this.map.painter.saveTileTexture(n.texture),d()}hasTransition(){return!1}}class ai extends Lt{constructor(n,d,f,v){super(n,d,f,v),this.type="raster-dem",this.maxzoom=22,this._options=g.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(n,d){const f=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(f,Ye.Tile);function D(O,R){O&&(n.state="errored",d(O)),R&&(n.dem=R,n.needsHillshadePrepare=!0,n.needsTerrainPrepare=!0,n.state="loaded",d(null))}n.neighboringTiles=this._getNeighboringTiles(n.tileID),n.request=ot.getImage(v,(O,R,V)=>g._(this,void 0,void 0,function*(){if(delete n.request,n.aborted)n.state="unloaded",d(null);else if(O)n.state="errored",d(O);else if(R){this.map._refreshExpiredTiles&&n.setExpiryData(V);const Z=g.a(R)&&g.J()?R:yield function(ne){return g._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&g.K()){const ge=ne.width+2,Pe=ne.height+2;try{return new g.R({width:ge,height:Pe},yield g.M(ne,-1,-1,ge,Pe))}catch{}}return g.h.getImageData(ne,1)})}(R),J={uid:n.uid,coord:n.tileID,source:this.id,rawImageData:Z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};n.actor&&"expired"!==n.state||(n.actor=this.dispatcher.getActor(),n.actor.send("loadDEMTile",J,D))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(n){const d=n.canonical,f=Math.pow(2,d.z),v=(d.x-1+f)%f,D=0===d.x?n.wrap-1:n.wrap,O=(d.x+1+f)%f,R=d.x+1===f?n.wrap+1:n.wrap,V={};return V[new g.O(n.overscaledZ,D,d.z,v,d.y).key]={backfilled:!1},V[new g.O(n.overscaledZ,R,d.z,O,d.y).key]={backfilled:!1},d.y>0&&(V[new g.O(n.overscaledZ,D,d.z,v,d.y-1).key]={backfilled:!1},V[new g.O(n.overscaledZ,n.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},V[new g.O(n.overscaledZ,R,d.z,O,d.y-1).key]={backfilled:!1}),d.y+1<f&&(V[new g.O(n.overscaledZ,D,d.z,v,d.y+1).key]={backfilled:!1},V[new g.O(n.overscaledZ,n.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},V[new g.O(n.overscaledZ,R,d.z,O,d.y+1).key]={backfilled:!1}),V}unloadTile(n){n.demTexture&&this.map.painter.saveTileTexture(n.demTexture),n.fbo&&(n.fbo.destroy(),delete n.fbo),n.dem&&delete n.dem,delete n.neighboringTiles,n.state="unloaded",n.actor&&n.actor.send("removeDEMTile",{uid:n.uid,source:this.id})}}class At extends g.E{constructor(n,d,f,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>g.e({},this._options,{type:this.type,data:this._data}),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent(v),this._data=d.data,this._options=g.e({},d),this._collectResourceTiming=d.collectResourceTiming,void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const D=g.N/this.tileSize;this.workerOptions=g.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*D,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*D,extent:g.N,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:g.N,radius:(d.clusterRadius||50)*D,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(n){this.map=n,this.load()}setData(n){return this._data=n,this._updateWorkerData(),this}updateData(n){return this._updateWorkerData(n),this}setClusterOptions(n){return this.workerOptions.cluster=n.cluster,n&&(void 0!==n.clusterRadius&&(this.workerOptions.superclusterOptions.radius=n.clusterRadius),void 0!==n.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=n.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(n,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:n,source:this.id},d),this}getClusterChildren(n,d){return this.actor.send("geojson.getClusterChildren",{clusterId:n,source:this.id},d),this}getClusterLeaves(n,d,f,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:n,limit:d,offset:f},v),this}_updateWorkerData(n){const d=g.e({},this.workerOptions);n?d.dataDiff=n:"string"==typeof this._data?(d.request=this.map._requestManager.transformRequest(g.h.resolveURL(this._data),Ye.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new g.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(f,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new g.k("dataabort",{dataType:"source"}));let D=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(D=v.resourceTiming[this.id].slice(0)),f)return void this.fire(new g.j(f));const O={dataType:"source"};this._collectResourceTiming&&D&&D.length>0&&g.e(O,{resourceTiming:D}),this.fire(new g.k("data",Object.assign(Object.assign({},O),{sourceDataType:"metadata"}))),this.fire(new g.k("data",Object.assign(Object.assign({},O),{sourceDataType:"content"})))})}loaded(){return 0===this._pendingLoads}loadTile(n,d){const f=n.actor?"reloadTile":"loadTile";n.actor=this.actor;const v={type:this.type,uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};n.request=this.actor.send(f,v,(D,O)=>(delete n.request,n.unloadVectorData(),n.aborted?d(null):D?d(D):(n.loadVectorData(O,this.map.painter,"reloadTile"===f),d(null))))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.aborted=!0}unloadTile(n){n.unloadVectorData(),this.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Ei=g.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ft extends g.E{constructor(n,d,f,v){super(),this.load=(D,O)=>{this._loaded=!1,this.fire(new g.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=ot.getImage(this.map._requestManager.transformRequest(this.url,Ye.Image),(R,V)=>{this._request=null,this._loaded=!0,R?this.fire(new g.j(R)):V&&(this.image=V,D&&(this.coordinates=D),O&&O(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const D=this.map.painter.context,O=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Ei.members)),this.boundsSegments||(this.boundsSegments=g.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ht(D,this.image,O.RGBA),this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE));let R=!1;for(const V in this.tiles){const Z=this.tiles[V];"loaded"!==Z.state&&(Z.state="loaded",Z.texture=this.texture,R=!0)}R&&this.fire(new g.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=n,this.dispatcher=f,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}loaded(){return this._loaded}updateImage(n){return n.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=n.url,this.load(n.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new g.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(n){this.coordinates=n;const d=n.map(g.U.fromLngLat);this.tileID=function(v){let D=1/0,O=1/0,R=-1/0,V=-1/0;for(const ge of v)D=Math.min(D,ge.x),O=Math.min(O,ge.y),R=Math.max(R,ge.x),V=Math.max(V,ge.y);const Z=Math.max(R-D,V-O),J=Math.max(0,Math.floor(-Math.log(Z)/Math.LN2)),ne=Math.pow(2,J);return new g.W(J,Math.floor((D+R)/2*ne),Math.floor((O+V)/2*ne))}(d),this.minzoom=this.maxzoom=this.tileID.z;const f=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new g.V,this._boundsArray.emplaceBack(f[0].x,f[0].y,0,0),this._boundsArray.emplaceBack(f[1].x,f[1].y,g.N,0),this._boundsArray.emplaceBack(f[3].x,f[3].y,0,g.N),this._boundsArray.emplaceBack(f[2].x,f[2].y,g.N,g.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new g.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(n,d){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},d(null)):(n.state="errored",d(null))}hasTransition(){return!1}}class vt extends ft{constructor(n,d,f,v){super(n,d,f,v),this.load=()=>{this._loaded=!1;const D=this.options;this.urls=[];for(const O of D.urls)this.urls.push(this.map._requestManager.transformRequest(O,Ye.Source).url);g.X(this.urls,(O,R)=>{this._loaded=!0,O?this.fire(new g.j(O)):R&&(this.video=R,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const D=this.map.painter.context,O=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,Ei.members)),this.boundsSegments||(this.boundsSegments=g.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE),O.texSubImage2D(O.TEXTURE_2D,0,0,0,O.RGBA,O.UNSIGNED_BYTE,this.video)):(this.texture=new ht(D,this.video,O.RGBA),this.texture.bind(O.LINEAR,O.CLAMP_TO_EDGE));let R=!1;for(const V in this.tiles){const Z=this.tiles[V];"loaded"!==Z.state&&(Z.state="loaded",Z.texture=this.texture,R=!0)}R&&this.fire(new g.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(n){if(this.video){const d=this.video.seekable;n<d.start(0)||n>d.end(0)?this.fire(new g.j(new g.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=n}}getVideo(){return this.video}onAdd(n){this.map||(this.map=n,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class kt extends ft{constructor(n,d,f,v){super(n,d,f,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new g.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let D=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,D=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,D=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const O=this.map.painter.context,R=O.gl;this.boundsBuffer||(this.boundsBuffer=O.createVertexBuffer(this._boundsArray,Ei.members)),this.boundsSegments||(this.boundsSegments=g.S.simpleSegment(0,0,4,2)),this.texture?(D||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ht(O,this.canvas,R.RGBA,{premultiply:!0});let V=!1;for(const Z in this.tiles){const J=this.tiles[Z];"loaded"!==J.state&&(J.state="loaded",J.texture=this.texture,V=!0)}V&&this.fire(new g.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(D=>!Array.isArray(D)||2!==D.length||D.some(O=>"number"!=typeof O))||this.fire(new g.j(new g.Y(`sources.${n}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new g.j(new g.Y(`sources.${n}`,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new g.j(new g.Y(`sources.${n}`,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof HTMLCanvasElement||this.fire(new g.j(new g.Y(`sources.${n}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new g.j(new g.Y(`sources.${n}`,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}getCanvas(){return this.canvas}onAdd(n){this.map=n,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const n of[this.canvas.width,this.canvas.height])if(isNaN(n)||n<=0)return!0;return!1}}const hi={},yi=w=>{switch(w){case"geojson":return At;case"image":return ft;case"raster":return Lt;case"raster-dem":return ai;case"vector":return Ot;case"video":return vt;case"canvas":return kt}return hi[w]};function si(w,n){const d=g.Z();return g.$(d,d,[1,1,0]),g.a0(d,d,[.5*w.width,.5*w.height,1]),g.a1(d,d,w.calculatePosMatrix(n.toUnwrapped()))}function Qi(w,n,d,f,v,D){const O=function(ne,ge,Pe){if(ne)for(const Fe of ne){const ze=ge[Fe];if(ze&&ze.source===Pe&&"fill-extrusion"===ze.type)return!0}else for(const Fe in ge){const ze=ge[Fe];if(ze.source===Pe&&"fill-extrusion"===ze.type)return!0}return!1}(v&&v.layers,n,w.id),R=D.maxPitchScaleFactor(),V=w.tilesIn(f,R,O);V.sort(lt);const Z=[];for(const ne of V)Z.push({wrappedTileID:ne.tileID.wrapped().key,queryResults:ne.tile.queryRenderedFeatures(n,d,w._state,ne.queryGeometry,ne.cameraQueryGeometry,ne.scale,v,D,R,si(w.transform,ne.tileID))});const J=function(ne){const ge={},Pe={};for(const Fe of ne){const ze=Fe.queryResults,ke=Fe.wrappedTileID,gt=Pe[ke]=Pe[ke]||{};for(const Rt in ze){const T=ze[Rt],P=gt[Rt]=gt[Rt]||{},I=ge[Rt]=ge[Rt]||[];for(const F of T)P[F.featureIndex]||(P[F.featureIndex]=!0,I.push(F))}}return ge}(Z);for(const ne in J)J[ne].forEach(ge=>{const Pe=ge.feature,Fe=w.getFeatureState(Pe.layer["source-layer"],Pe.id);Pe.source=Pe.layer.source,Pe.layer["source-layer"]&&(Pe.sourceLayer=Pe.layer["source-layer"]),Pe.state=Fe});return J}function lt(w,n){const d=w.tileID,f=n.tileID;return d.overscaledZ-f.overscaledZ||d.canonical.y-f.canonical.y||d.wrap-f.wrap||d.canonical.x-f.canonical.x}class Vt{constructor(n,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=n,this.uid=g.a2(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(n){const d=n+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(n){this.demTexture&&n.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(n,d,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(v,D){const O={};if(!D)return O;for(const R of v){const V=R.layerIds.map(Z=>D.getLayer(Z)).filter(Boolean);if(0!==V.length){R.layers=V,R.stateDependentLayerIds&&(R.stateDependentLayers=R.stateDependentLayerIds.map(Z=>V.filter(J=>J.id===Z)[0]));for(const Z of V)O[Z.id]=R}}return O}(n.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const D=this.buckets[v];if(D instanceof g.a4){if(this.hasSymbolBuckets=!0,!f)break;D.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const D=this.buckets[v];if(D instanceof g.a4&&D.hasRTLText){this.hasRTLText=!0,g.a5();break}}this.queryPadding=0;for(const v in this.buckets){const D=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(D))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage)}else this.collisionBoxArray=new g.a3}unloadVectorData(){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(n){return this.buckets[n.id]}upload(n){for(const f in this.buckets){const v=this.buckets[f];v.uploadPending()&&v.upload(n)}const d=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ht(n,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ht(n,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,d,f,v,D,O,R,V,Z,J){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:D,scale:O,tileSize:this.tileSize,pixelPosMatrix:J,transform:V,params:R,queryPadding:this.queryPadding*Z},n,d,f):{}}querySourceFeatures(n,d){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const v=f.loadVTLayers(),D=d&&d.sourceLayer?d.sourceLayer:"",O=v._geojsonTileLayer||v[D];if(!O)return;const R=g.a6(d&&d.filter),{z:V,x:Z,y:J}=this.tileID.canonical,ne={z:V,x:Z,y:J};for(let ge=0;ge<O.length;ge++){const Pe=O.feature(ge);if(R.needGeometry){const ke=g.a7(Pe,!0);if(!R.filter(new g.a8(this.tileID.overscaledZ),ke,this.tileID.canonical))continue}else if(!R.filter(new g.a8(this.tileID.overscaledZ),Pe))continue;const Fe=f.getId(Pe,D),ze=new g.a9(Pe,V,Z,J,Fe);ze.tile=ne,n.push(ze)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const d=this.expirationTime;if(n.cacheControl){const f=g.aa(n.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const f=Date.now();let v=!1;if(this.expirationTime>f)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const D=this.expirationTime-d;D?this.expirationTime=f+Math.max(D,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(n,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(n).length)return;const f=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const D=this.buckets[v],O=D.layers[0].sourceLayer||"_geojsonTileLayer",R=f[O],V=n[O];if(!R||!V||0===Object.keys(V).length)continue;D.update(V,R,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Z=d&&d.style&&d.style.getLayer(v);Z&&(this.queryPadding=Math.max(this.queryPadding,Z.queryRadius(D)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<g.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=g.h.now()+n}setDependencies(n,d){const f={};for(const v of d)f[v]=!0;this.dependencies[n]=f}hasDependency(n,d){for(const f of n){const v=this.dependencies[f];if(v)for(const D of d)if(v[D])return!0}return!1}}class li{constructor(n,d){this.max=n,this.onRemove=d,this.reset()}reset(){for(const n in this.data)for(const d of this.data[n])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(n,d,f){const v=n.wrapped().key;void 0===this.data[v]&&(this.data[v]=[]);const D={value:d,timeout:void 0};if(void 0!==f&&(D.timeout=setTimeout(()=>{this.remove(n,D)},f)),this.data[v].push(D),this.order.push(v),this.order.length>this.max){const O=this._getAndRemoveByKey(this.order[0]);O&&this.onRemove(O)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const d=this.data[n].shift();return d.timeout&&clearTimeout(d.timeout),0===this.data[n].length&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),d.value}getByKey(n){const d=this.data[n];return d?d[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,d){if(!this.has(n))return this;const f=n.wrapped().key,v=void 0===d?0:this.data[f].indexOf(d),D=this.data[f][v];return this.data[f].splice(v,1),D.timeout&&clearTimeout(D.timeout),0===this.data[f].length&&delete this.data[f],this.onRemove(D.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(n){const d=[];for(const f in this.data)for(const v of this.data[f])n(v.value)||d.push(v);for(const f of d)this.remove(f.value.tileID,f)}}class xt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,d,f){const v=String(d);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][v]=this.stateChanges[n][v]||{},g.e(this.stateChanges[n][v],f),null===this.deletedStates[n]){this.deletedStates[n]={};for(const D in this.state[n])D!==v&&(this.deletedStates[n][D]=null)}else if(this.deletedStates[n]&&null===this.deletedStates[n][v]){this.deletedStates[n][v]={};for(const D in this.state[n][v])f[D]||(this.deletedStates[n][v][D]=null)}else for(const D in f)this.deletedStates[n]&&this.deletedStates[n][v]&&null===this.deletedStates[n][v][D]&&delete this.deletedStates[n][v][D]}removeFeatureState(n,d,f){if(null===this.deletedStates[n])return;const v=String(d);if(this.deletedStates[n]=this.deletedStates[n]||{},f&&void 0!==d)null!==this.deletedStates[n][v]&&(this.deletedStates[n][v]=this.deletedStates[n][v]||{},this.deletedStates[n][v][f]=null);else if(void 0!==d)if(this.stateChanges[n]&&this.stateChanges[n][v])for(f in this.deletedStates[n][v]={},this.stateChanges[n][v])this.deletedStates[n][v][f]=null;else this.deletedStates[n][v]=null;else this.deletedStates[n]=null}getState(n,d){const f=String(d),v=g.e({},(this.state[n]||{})[f],(this.stateChanges[n]||{})[f]);if(null===this.deletedStates[n])return{};if(this.deletedStates[n]){const D=this.deletedStates[n][d];if(null===D)return{};for(const O in D)delete v[O]}return v}initializeTileState(n,d){n.setFeatureState(this.state,d)}coalesceChanges(n,d){const f={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const D={};for(const O in this.stateChanges[v])this.state[v][O]||(this.state[v][O]={}),g.e(this.state[v][O],this.stateChanges[v][O]),D[O]=this.state[v][O];f[v]=D}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const D={};if(null===this.deletedStates[v])for(const O in this.state[v])D[O]={},this.state[v][O]={};else for(const O in this.deletedStates[v]){if(null===this.deletedStates[v][O])this.state[v][O]={};else for(const R of Object.keys(this.deletedStates[v][O]))delete this.state[v][O][R];D[O]=this.state[v][O]}f[v]=f[v]||{},g.e(f[v],D)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(f).length)for(const v in n)n[v].setFeatureState(f,d)}}class pn extends g.E{constructor(n,d,f){super(),this.id=n,this.dispatcher=f,this.on("data",v=>{"source"===v.dataType&&"metadata"===v.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===v.dataType&&"content"===v.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,D,O,R)=>{const V=new(yi(D.type))(v,D,O,R);if(V.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${V.id}`);return V})(n,d,f,this),this._tiles={},this._cache=new li(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xt,this._didEmitContent=!1,this._updated=!1}onAdd(n){this.map=n,this._maxTileCacheSize=n?n._maxTileCacheSize:null,this._maxTileCacheZoomLevels=n?n._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(n)}onRemove(n){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(n)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const n in this._tiles){const d=this._tiles[n];if("loaded"!==d.state&&"errored"!==d.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(n,d){return this._source.loadTile(n,d)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){this._source.abortTile&&this._source.abortTile(n,()=>{}),this._source.fire(new g.k("dataabort",{tile:n,coord:n.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const f=this._tiles[d];f.upload(n),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(n=>n.tileID).sort(Mn).map(n=>n.key)}getRenderableIds(n){const d=[];for(const f in this._tiles)this._isIdRenderable(f,n)&&d.push(this._tiles[f]);return n?d.sort((f,v)=>{const D=f.tileID,O=v.tileID,R=new g.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),V=new g.P(O.canonical.x,O.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-O.overscaledZ||V.y-R.y||V.x-R.x}).map(f=>f.tileID.key):d.map(f=>f.tileID).sort(Mn).map(f=>f.key)}hasRenderableParent(n){const d=this.findLoadedParent(n,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(n,d){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(d||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)"errored"!==this._tiles[n].state&&this._reloadTile(n,"reloading")}}_reloadTile(n,d){const f=this._tiles[n];f&&("loading"!==f.state&&(f.state=d),this._loadTile(f,this._tileLoaded.bind(this,f,n,d)))}_tileLoaded(n,d,f,v){if(v)return n.state="errored",void(404!==v.status?this._source.fire(new g.j(v,{tile:n})):this.update(this.transform,this.terrain));n.timeAdded=g.h.now(),"expired"===f&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(d,n),"raster-dem"===this.getSource().type&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),n.aborted||this._source.fire(new g.k("data",{dataType:"source",tile:n,coord:n.tileID}))}_backfillDEM(n){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const D=d[v];if(n.neighboringTiles&&n.neighboringTiles[D]){const O=this.getTileByID(D);f(n,O),f(O,n)}}function f(v,D){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let O=D.tileID.canonical.x-v.tileID.canonical.x;const R=D.tileID.canonical.y-v.tileID.canonical.y,V=Math.pow(2,v.tileID.canonical.z),Z=D.tileID.key;0===O&&0===R||Math.abs(R)>1||(Math.abs(O)>1&&(1===Math.abs(O+V)?O+=V:1===Math.abs(O-V)&&(O-=V)),D.dem&&v.dem&&(v.dem.backfillBorder(D.dem,O,R),v.neighboringTiles&&v.neighboringTiles[Z]&&(v.neighboringTiles[Z].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,d,f,v){for(const D in this._tiles){let O=this._tiles[D];if(v[D]||!O.hasData()||O.tileID.overscaledZ<=d||O.tileID.overscaledZ>f)continue;let R=O.tileID;for(;O&&O.tileID.overscaledZ>d+1;){const Z=O.tileID.scaledTo(O.tileID.overscaledZ-1);O=this._tiles[Z.key],O&&O.hasData()&&(R=Z)}let V=R;for(;V.overscaledZ>d;)if(V=V.scaledTo(V.overscaledZ-1),n[V.key]){v[R.key]=R;break}}}findLoadedParent(n,d){if(n.key in this._loadedParentTiles){const f=this._loadedParentTiles[n.key];return f&&f.tileID.overscaledZ>=d?f:null}for(let f=n.overscaledZ-1;f>=d;f--){const v=n.scaledTo(f),D=this._getLoadedTile(v);if(D)return D}}_getLoadedTile(n){const d=this._tiles[n.key];return d&&d.hasData()?d:this._cache.getByKey(n.wrapped().key)}updateCacheSize(n){const d=Math.ceil(n.width/this._source.tileSize)+1,f=Math.ceil(n.height/this._source.tileSize)+1,v=Math.floor(d*f*(null===this._maxTileCacheZoomLevels?g.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),D="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(D)}handleWrapJump(n){const d=Math.round((n-(void 0===this._prevLng?n:this._prevLng))/360);if(this._prevLng=n,d){const f={};for(const v in this._tiles){const D=this._tiles[v];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+d),f[D.tileID.key]=D}this._tiles=f;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(n,d){if(this.transform=n,this.terrain=d,!this._sourceLoaded||this._paused)return;let f;this.updateCacheSize(n),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(J=>new g.O(J.canonical.z,J.wrap,J.canonical.z,J.canonical.x,J.canonical.y)):(f=n.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(f=f.filter(J=>this._source.hasTile(J)))):f=[];const v=n.coveringZoomLevel(this._source),D=Math.max(v-pn.maxOverzooming,this._source.minzoom),O=Math.max(v+pn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const J={};for(const ne of f)if(ne.canonical.z>this._source.minzoom){const ge=ne.scaledTo(ne.canonical.z-1);J[ge.key]=ge;const Pe=ne.scaledTo(Math.max(this._source.minzoom,Math.min(ne.canonical.z,5)));J[Pe.key]=Pe}f=f.concat(Object.values(J))}const R=0===f.length&&!this._updated&&this._didEmitContent;this._updated=!0,R&&this.fire(new g.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const V=this._updateRetainedTiles(f,v);if(rn(this._source.type)){const J={},ne={},ge=Object.keys(V),Pe=g.h.now();for(const Fe of ge){const ze=V[Fe],ke=this._tiles[Fe];if(!ke||0!==ke.fadeEndTime&&ke.fadeEndTime<=Pe)continue;const gt=this.findLoadedParent(ze,D);gt&&(this._addTile(gt.tileID),J[gt.tileID.key]=gt.tileID),ne[Fe]=ze}this._retainLoadedChildren(ne,v,O,V);for(const Fe in J)V[Fe]||(this._coveredTiles[Fe]=!0,V[Fe]=J[Fe]);if(d){const Fe={},ze={};for(const ke of f)this._tiles[ke.key].hasData()?Fe[ke.key]=ke:ze[ke.key]=ke;for(const ke in ze){const gt=ze[ke].children(this._source.maxzoom);this._tiles[gt[0].key]&&this._tiles[gt[1].key]&&this._tiles[gt[2].key]&&this._tiles[gt[3].key]&&(Fe[gt[0].key]=V[gt[0].key]=gt[0],Fe[gt[1].key]=V[gt[1].key]=gt[1],Fe[gt[2].key]=V[gt[2].key]=gt[2],Fe[gt[3].key]=V[gt[3].key]=gt[3],delete ze[ke])}for(const ke in ze){const gt=this.findLoadedParent(ze[ke],this._source.minzoom);if(gt){Fe[gt.tileID.key]=V[gt.tileID.key]=gt.tileID;for(const Rt in Fe)Fe[Rt].isChildOf(gt.tileID)&&delete Fe[Rt]}}for(const ke in this._tiles)Fe[ke]||(this._coveredTiles[ke]=!0)}}for(const J in V)this._tiles[J].clearFadeHold();const Z=g.ab(this._tiles,V);for(const J of Z){const ne=this._tiles[J];ne.hasSymbolBuckets&&!ne.holdingForFade()?ne.setHoldDuration(this.map._fadeDuration):ne.hasSymbolBuckets&&!ne.symbolFadeFinished()||this._removeTile(J)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(n)}_updateRetainedTiles(n,d){const f={},v={},D=Math.max(d-pn.maxOverzooming,this._source.minzoom),O=Math.max(d+pn.maxUnderzooming,this._source.minzoom),R={};for(const V of n){const Z=this._addTile(V);f[V.key]=V,Z.hasData()||d<this._source.maxzoom&&(R[V.key]=V)}this._retainLoadedChildren(R,d,O,f);for(const V of n){let Z=this._tiles[V.key];if(Z.hasData())continue;if(d+1>this._source.maxzoom){const ne=V.children(this._source.maxzoom)[0],ge=this.getTile(ne);if(ge&&ge.hasData()){f[ne.key]=ne;continue}}else{const ne=V.children(this._source.maxzoom);if(f[ne[0].key]&&f[ne[1].key]&&f[ne[2].key]&&f[ne[3].key])continue}let J=Z.wasRequested();for(let ne=V.overscaledZ-1;ne>=D;--ne){const ge=V.scaledTo(ne);if(v[ge.key])break;if(v[ge.key]=!0,Z=this.getTile(ge),!Z&&J&&(Z=this._addTile(ge)),Z){const Pe=Z.hasData();if((J||Pe)&&(f[ge.key]=ge),J=Z.wasRequested(),Pe)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const d=[];let f,v=this._tiles[n].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){f=this._loadedParentTiles[v.key];break}d.push(v.key);const D=v.scaledTo(v.overscaledZ-1);if(f=this._getLoadedTile(D),f)break;v=D}for(const D of d)this._loadedParentTiles[D]=f}}_addTile(n){let d=this._tiles[n.key];if(d)return d;d=this._cache.getAndRemove(n),d&&(this._setTileReloadTimer(n.key,d),d.tileID=n,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,d)));const f=d;return d||(d=new Vt(n,this._source.tileSize*n.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,n.key,d.state))),d.uses++,this._tiles[n.key]=d,f||this._source.fire(new g.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(n,d){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const f=d.getExpiryTimeout();f&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},f))}_removeTile(n){const d=this._tiles[n];d&&(d.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),d.uses>0||(d.hasData()&&"reloading"!==d.state?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(n);this._cache.reset()}tilesIn(n,d,f){const v=[],D=this.transform;if(!D)return v;const O=f?D.getCameraQueryGeometry(n):n,R=n.map(Fe=>D.pointCoordinate(Fe,this.terrain)),V=O.map(Fe=>D.pointCoordinate(Fe,this.terrain)),Z=this.getIds();let J=1/0,ne=1/0,ge=-1/0,Pe=-1/0;for(const Fe of V)J=Math.min(J,Fe.x),ne=Math.min(ne,Fe.y),ge=Math.max(ge,Fe.x),Pe=Math.max(Pe,Fe.y);for(let Fe=0;Fe<Z.length;Fe++){const ze=this._tiles[Z[Fe]];if(ze.holdingForFade())continue;const ke=ze.tileID,gt=Math.pow(2,D.zoom-ze.tileID.overscaledZ),Rt=d*ze.queryPadding*g.N/ze.tileSize/gt,T=[ke.getTilePoint(new g.U(J,ne)),ke.getTilePoint(new g.U(ge,Pe))];if(T[0].x-Rt<g.N&&T[0].y-Rt<g.N&&T[1].x+Rt>=0&&T[1].y+Rt>=0){const P=R.map(F=>ke.getTilePoint(F)),I=V.map(F=>ke.getTilePoint(F));v.push({tile:ze,tileID:ke,queryGeometry:P,cameraQueryGeometry:I,scale:gt})}}return v}getVisibleCoordinates(n){const d=this.getRenderableIds(n).map(f=>this._tiles[f].tileID);for(const f of d)f.posMatrix=this.transform.calculatePosMatrix(f.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(rn(this._source.type)){const n=g.h.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=n)return!0}return!1}setFeatureState(n,d,f){this._state.updateState(n=n||"_geojsonTileLayer",d,f)}removeFeatureState(n,d,f){this._state.removeFeatureState(n=n||"_geojsonTileLayer",d,f)}getFeatureState(n,d){return this._state.getState(n=n||"_geojsonTileLayer",d)}setDependencies(n,d,f){const v=this._tiles[n];v&&v.setDependencies(d,f)}reloadTilesForDependencies(n,d){for(const f in this._tiles)this._tiles[f].hasDependency(n,d)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(n,d))}}function Mn(w,n){const d=Math.abs(2*w.wrap)-+(w.wrap<0),f=Math.abs(2*n.wrap)-+(n.wrap<0);return w.overscaledZ-n.overscaledZ||f-d||n.canonical.y-w.canonical.y||n.canonical.x-w.canonical.x}function rn(w){return"raster"===w||"image"===w||"video"===w}pn.maxOverzooming=10,pn.maxUnderzooming=3;const Ii="mapboxgl_preloaded_worker_pool";class On{constructor(){this.active={}}acquire(n){if(!this.workers)for(this.workers=[];this.workers.length<On.workerCount;)this.workers.push(new Worker(g.c.WORKER_URL));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],0===this.numActive()&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ii]}numActive(){return Object.keys(this.active).length}}const Ut=Math.floor(g.h.hardwareConcurrency/2);let Ce;function Ne(){return Ce||(Ce=new On),Ce}On.workerCount=g.ac(globalThis)?Math.max(Math.min(Ut,3),1):1;class Le{constructor(n,d){this.reset(n,d)}reset(n,d){this.points=n||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(n){if(1===this.points.length)return this.points[0];n=g.ad(n,0,1);let d=1,f=this._distances[d];const v=n*this.paddedLength+this.padding;for(;f<v&&d<this._distances.length;)f=this._distances[++d];const D=d-1,O=this._distances[D],R=f-O,V=R>0?(v-O)/R:0;return this.points[D].mult(1-V).add(this.points[d].mult(V))}}function $e(w,n){let d=!0;return"always"===w||"never"!==w&&"never"!==n||(d=!1),d}class pe{constructor(n,d,f){const v=this.boxCells=[],D=this.circleCells=[];this.xCellCount=Math.ceil(n/f),this.yCellCount=Math.ceil(d/f);for(let O=0;O<this.xCellCount*this.yCellCount;O++)v.push([]),D.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=d,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(n,d,f,v,D){this._forEachCell(d,f,v,D,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(D)}insertCircle(n,d,f,v){this._forEachCell(d-v,f-v,d+v,f+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(d),this.circles.push(f),this.circles.push(v)}_insertBoxCell(n,d,f,v,D,O){this.boxCells[D].push(O)}_insertCircleCell(n,d,f,v,D,O){this.circleCells[D].push(O)}_query(n,d,f,v,D,O,R){if(f<0||n>this.width||v<0||d>this.height)return[];const V=[];if(n<=0&&d<=0&&this.width<=f&&this.height<=v){if(D)return[{key:null,x1:n,y1:d,x2:f,y2:v}];for(let Z=0;Z<this.boxKeys.length;Z++)V.push({key:this.boxKeys[Z],x1:this.bboxes[4*Z],y1:this.bboxes[4*Z+1],x2:this.bboxes[4*Z+2],y2:this.bboxes[4*Z+3]});for(let Z=0;Z<this.circleKeys.length;Z++){const J=this.circles[3*Z],ne=this.circles[3*Z+1],ge=this.circles[3*Z+2];V.push({key:this.circleKeys[Z],x1:J-ge,y1:ne-ge,x2:J+ge,y2:ne+ge})}}else this._forEachCell(n,d,f,v,this._queryCell,V,{hitTest:D,overlapMode:O,seenUids:{box:{},circle:{}}},R);return V}query(n,d,f,v){return this._query(n,d,f,v,!1,null)}hitTest(n,d,f,v,D,O){return this._query(n,d,f,v,!0,D,O).length>0}hitTestCircle(n,d,f,v,D){const O=n-f,R=n+f,V=d-f,Z=d+f;if(R<0||O>this.width||Z<0||V>this.height)return!1;const J=[];return this._forEachCell(O,V,R,Z,this._queryCellCircle,J,{hitTest:!0,overlapMode:v,circle:{x:n,y:d,radius:f},seenUids:{box:{},circle:{}}},D),J.length>0}_queryCell(n,d,f,v,D,O,R,V){const{seenUids:Z,hitTest:J,overlapMode:ne}=R,ge=this.boxCells[D];if(null!==ge){const Fe=this.bboxes;for(const ze of ge)if(!Z.box[ze]){Z.box[ze]=!0;const ke=4*ze,gt=this.boxKeys[ze];if(n<=Fe[ke+2]&&d<=Fe[ke+3]&&f>=Fe[ke+0]&&v>=Fe[ke+1]&&(!V||V(gt))&&(!J||!$e(ne,gt.overlapMode))&&(O.push({key:gt,x1:Fe[ke],y1:Fe[ke+1],x2:Fe[ke+2],y2:Fe[ke+3]}),J))return!0}}const Pe=this.circleCells[D];if(null!==Pe){const Fe=this.circles;for(const ze of Pe)if(!Z.circle[ze]){Z.circle[ze]=!0;const ke=3*ze,gt=this.circleKeys[ze];if(this._circleAndRectCollide(Fe[ke],Fe[ke+1],Fe[ke+2],n,d,f,v)&&(!V||V(gt))&&(!J||!$e(ne,gt.overlapMode))){const Rt=Fe[ke],T=Fe[ke+1],P=Fe[ke+2];if(O.push({key:gt,x1:Rt-P,y1:T-P,x2:Rt+P,y2:T+P}),J)return!0}}}return!1}_queryCellCircle(n,d,f,v,D,O,R,V){const{circle:Z,seenUids:J,overlapMode:ne}=R,ge=this.boxCells[D];if(null!==ge){const Fe=this.bboxes;for(const ze of ge)if(!J.box[ze]){J.box[ze]=!0;const ke=4*ze,gt=this.boxKeys[ze];if(this._circleAndRectCollide(Z.x,Z.y,Z.radius,Fe[ke+0],Fe[ke+1],Fe[ke+2],Fe[ke+3])&&(!V||V(gt))&&!$e(ne,gt.overlapMode))return O.push(!0),!0}}const Pe=this.circleCells[D];if(null!==Pe){const Fe=this.circles;for(const ze of Pe)if(!J.circle[ze]){J.circle[ze]=!0;const ke=3*ze,gt=this.circleKeys[ze];if(this._circlesCollide(Fe[ke],Fe[ke+1],Fe[ke+2],Z.x,Z.y,Z.radius)&&(!V||V(gt))&&!$e(ne,gt.overlapMode))return O.push(!0),!0}}}_forEachCell(n,d,f,v,D,O,R,V){const Z=this._convertToXCellCoord(n),J=this._convertToYCellCoord(d),ne=this._convertToXCellCoord(f),ge=this._convertToYCellCoord(v);for(let Pe=Z;Pe<=ne;Pe++)for(let Fe=J;Fe<=ge;Fe++)if(D.call(this,n,d,f,v,this.xCellCount*Fe+Pe,O,R,V))return}_convertToXCellCoord(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))}_convertToYCellCoord(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))}_circlesCollide(n,d,f,v,D,O){const R=v-n,V=D-d,Z=f+O;return Z*Z>R*R+V*V}_circleAndRectCollide(n,d,f,v,D,O,R){const V=(O-v)/2,Z=Math.abs(n-(v+V));if(Z>V+f)return!1;const J=(R-D)/2,ne=Math.abs(d-(D+J));if(ne>J+f)return!1;if(Z<=V||ne<=J)return!0;const ge=Z-V,Pe=ne-J;return ge*ge+Pe*Pe<=f*f}}function Me(w,n,d,f,v){const D=g.Z();return n?(g.a0(D,D,[1/v,1/v,1]),d||g.ae(D,D,f.angle)):g.a1(D,f.labelPlaneMatrix,w),D}function Ft(w,n,d,f,v){if(n){const D=g.af(w);return g.a0(D,D,[v,v,1]),d||g.ae(D,D,-f.angle),D}return f.glCoordMatrix}function Wt(w,n,d){let f;d?(f=[w.x,w.y,d(w.x,w.y),1],g.ag(f,f,n)):(f=[w.x,w.y,0,1],Oe(f,f,n));const v=f[3];return{point:new g.P(f[0]/v,f[1]/v),signedDistanceFromCamera:v}}function ci(w,n){return.5+w/n*.5}function $t(w,n){const d=w[0]/w[3],f=w[1]/w[3];return d>=-n[0]&&d<=n[0]&&f>=-n[1]&&f<=n[1]}function St(w,n,d,f,v,D,O,R,V,Z){const J=f?w.textSizeData:w.iconSizeData,ne=g.ah(J,d.transform.zoom),ge=[256/d.width*2+1,256/d.height*2+1],Pe=f?w.text.dynamicLayoutVertexArray:w.icon.dynamicLayoutVertexArray;Pe.clear();const Fe=w.lineVertexArray,ze=f?w.text.placedSymbolArray:w.icon.placedSymbolArray,ke=d.transform.width/d.transform.height;let gt=!1;for(let Rt=0;Rt<ze.length;Rt++){const T=ze.get(Rt);if(T.hidden||T.writingMode===g.ai.vertical&&!gt){ve(T.numGlyphs,Pe);continue}let P;if(gt=!1,Z?(P=[T.anchorX,T.anchorY,Z(T.anchorX,T.anchorY),1],g.ag(P,P,n)):(P=[T.anchorX,T.anchorY,0,1],Oe(P,P,n)),!$t(P,ge)){ve(T.numGlyphs,Pe);continue}const I=ci(d.transform.cameraToCenterDistance,P[3]),F=g.aj(J,ne,T),$=O?F/I:F*I,se=new g.P(T.anchorX,T.anchorY),be=Wt(se,v,Z).point,Qe={projections:{},offsets:{}},st=dn(T,$,!1,R,n,v,D,w.glyphOffsetArray,Fe,Pe,be,se,Qe,ke,V,Z);gt=st.useVertical,(st.notEnoughRoom||gt||st.needsFlipping&&dn(T,$,!0,R,n,v,D,w.glyphOffsetArray,Fe,Pe,be,se,Qe,ke,V,Z).notEnoughRoom)&&ve(T.numGlyphs,Pe)}f?w.text.dynamicLayoutVertexBuffer.updateData(Pe):w.icon.dynamicLayoutVertexBuffer.updateData(Pe)}function wi(w,n,d,f,v,D,O,R,V,Z,J,ne,ge){const Pe=R.glyphStartIndex+R.numGlyphs,Fe=R.lineStartIndex,ze=R.lineStartIndex+R.lineLength,ke=n.getoffsetX(R.glyphStartIndex),gt=n.getoffsetX(Pe-1),Rt=q(w*ke,d,f,v,D,O,R.segment,Fe,ze,V,Z,J,ne,ge);if(!Rt)return null;const T=q(w*gt,d,f,v,D,O,R.segment,Fe,ze,V,Z,J,ne,ge);return T?{first:Rt,last:T}:null}function Ci(w,n,d,f){return w===g.ai.horizontal&&Math.abs(d.y-n.y)>Math.abs(d.x-n.x)*f?{useVertical:!0}:(w===g.ai.vertical?n.y<d.y:n.x>d.x)?{needsFlipping:!0}:null}function dn(w,n,d,f,v,D,O,R,V,Z,J,ne,ge,Pe,Fe,ze){const ke=n/24,gt=w.lineOffsetX*ke,Rt=w.lineOffsetY*ke;let T;if(w.numGlyphs>1){const P=w.glyphStartIndex+w.numGlyphs,I=w.lineStartIndex,F=w.lineStartIndex+w.lineLength,$=wi(ke,R,gt,Rt,d,J,ne,w,V,D,ge,Fe,ze);if(!$)return{notEnoughRoom:!0};const se=Wt($.first.point,O,ze).point,be=Wt($.last.point,O,ze).point;if(f&&!d){const Qe=Ci(w.writingMode,se,be,Pe);if(Qe)return Qe}T=[$.first];for(let Qe=w.glyphStartIndex+1;Qe<P-1;Qe++)T.push(q(ke*R.getoffsetX(Qe),gt,Rt,d,J,ne,w.segment,I,F,V,D,ge,Fe,ze));T.push($.last)}else{if(f&&!d){const I=Wt(ne,v,ze).point,F=w.lineStartIndex+w.segment+1,$=new g.P(V.getx(F),V.gety(F)),se=Wt($,v,ze),be=se.signedDistanceFromCamera>0?se.point:Dn(ne,$,I,1,v,ze),Qe=Ci(w.writingMode,I,be,Pe);if(Qe)return Qe}const P=q(ke*R.getoffsetX(w.glyphStartIndex),gt,Rt,d,J,ne,w.segment,w.lineStartIndex,w.lineStartIndex+w.lineLength,V,D,ge,Fe,ze);if(!P)return{notEnoughRoom:!0};T=[P]}for(const P of T)g.ak(Z,P.point,P.angle);return{}}function Dn(w,n,d,f,v,D){const O=Wt(w.add(w.sub(n)._unit()),v,D).point,R=d.sub(O);return d.add(R._mult(f/R.mag()))}function Tt(w,n){const{projectionCache:d,lineVertexArray:f,labelPlaneMatrix:v,tileAnchorPoint:D,distanceFromAnchor:O,getElevation:R,previousVertex:V,direction:Z,absOffsetX:J}=n;if(d.projections[w])return d.projections[w];const ne=new g.P(f.getx(w),f.gety(w)),ge=Wt(ne,v,R);if(ge.signedDistanceFromCamera>0)return d.projections[w]=ge.point,ge.point;const Pe=w-Z;return Dn(0===O?D:new g.P(f.getx(Pe),f.gety(Pe)),ne,V,J-O+1,v,R)}function Zi(w,n,d){return w._unit()._perp()._mult(n*d)}function de(w,n,d,f,v,D,O,R){const{projectionCache:V,direction:Z}=R;if(V.offsets[w])return V.offsets[w];const J=d.add(n);if(w+Z<f||w+Z>=v)return V.offsets[w]=J,J;const ne=Tt(w+Z,R),ge=Zi(ne.sub(d),O,Z),Pe=d.add(ge),Fe=ne.add(ge);return V.offsets[w]=g.al(D,J,Pe,Fe)||J,V.offsets[w]}function q(w,n,d,f,v,D,O,R,V,Z,J,ne,ge,Pe){const Fe=f?w-n:w+n;let ze=Fe>0?1:-1,ke=0;f&&(ze*=-1,ke=Math.PI),ze<0&&(ke+=Math.PI);let gt,Rt,T=ze>0?R+O:R+O+1,P=v,I=v,F=0,$=0;const se=Math.abs(Fe),be=[];let Qe;for(;F+$<=se;){if(T+=ze,T<R||T>=V)return null;F+=$,I=P,Rt=gt;const Jt={projectionCache:ne,lineVertexArray:Z,labelPlaneMatrix:J,tileAnchorPoint:D,distanceFromAnchor:F,getElevation:Pe,previousVertex:I,direction:ze,absOffsetX:se};if(P=Tt(T,Jt),0===d)be.push(I),Qe=P.sub(I);else{let bi;const Ai=P.sub(I);bi=0===Ai.mag()?Zi(Tt(T+ze,Jt).sub(P),d,ze):Zi(Ai,d,ze),Rt||(Rt=I.add(bi)),gt=de(T,bi,P,R,V,Rt,d,Jt),be.push(Rt),Qe=gt.sub(Rt)}$=Qe.mag()}const st=Qe._mult((se-F)/$)._add(Rt||I),oi=ke+Math.atan2(P.y-I.y,P.x-I.x);return be.push(st),{point:st,angle:ge?oi:0,path:be}}const Q=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ve(w,n){for(let d=0;d<w;d++){const f=n.length;n.resize(f+4),n.float32.set(Q,3*f)}}function Oe(w,n,d){const f=n[0],v=n[1];return w[0]=d[0]*f+d[4]*v+d[12],w[1]=d[1]*f+d[5]*v+d[13],w[3]=d[3]*f+d[7]*v+d[15],w}const ye=100;class De{constructor(n,d=new pe(n.width+200,n.height+200,25),f=new pe(n.width+200,n.height+200,25)){this.transform=n,this.grid=d,this.ignoredGrid=f,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+ye,this.screenBottomBoundary=n.height+ye,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(n,d,f,v,D,O){const R=this.projectAndGetPerspectiveRatio(v,n.anchorPointX,n.anchorPointY,O),V=f*R.perspectiveRatio,Z=n.x1*V+R.point.x,J=n.y1*V+R.point.y,ne=n.x2*V+R.point.x,ge=n.y2*V+R.point.y;return!this.isInsideGrid(Z,J,ne,ge)||"always"!==d&&this.grid.hitTest(Z,J,ne,ge,d,D)||R.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[Z,J,ne,ge],offscreen:this.isOffscreen(Z,J,ne,ge)}}placeCollisionCircles(n,d,f,v,D,O,R,V,Z,J,ne,ge,Pe,Fe){const ze=[],ke=new g.P(d.anchorX,d.anchorY),gt=Wt(ke,O,Fe),Rt=ci(this.transform.cameraToCenterDistance,gt.signedDistanceFromCamera),T=(J?D/Rt:D*Rt)/g.ap,P=Wt(ke,R,Fe).point,I=wi(T,v,d.lineOffsetX*T,d.lineOffsetY*T,!1,P,ke,d,f,R,{projections:{},offsets:{}},!1,Fe);let F=!1,$=!1,se=!0;if(I){const be=.5*ge*Rt+Pe,Qe=new g.P(-100,-100),st=new g.P(this.screenRightBoundary,this.screenBottomBoundary),oi=new Le,Jt=I.first,bi=I.last;let Ai=[];for(let qi=Jt.path.length-1;qi>=1;qi--)Ai.push(Jt.path[qi]);for(let qi=1;qi<bi.path.length;qi++)Ai.push(bi.path[qi]);const er=2.5*be;if(V){const qi=Ai.map(An=>Wt(An,V,Fe));Ai=qi.some(An=>An.signedDistanceFromCamera<=0)?[]:qi.map(An=>An.point)}let Rn=[];if(Ai.length>0){const qi=Ai[0].clone(),An=Ai[0].clone();for(let Cn=1;Cn<Ai.length;Cn++)qi.x=Math.min(qi.x,Ai[Cn].x),qi.y=Math.min(qi.y,Ai[Cn].y),An.x=Math.max(An.x,Ai[Cn].x),An.y=Math.max(An.y,Ai[Cn].y);Rn=qi.x>=Qe.x&&An.x<=st.x&&qi.y>=Qe.y&&An.y<=st.y?[Ai]:An.x<Qe.x||qi.x>st.x||An.y<Qe.y||qi.y>st.y?[]:g.am([Ai],Qe.x,Qe.y,st.x,st.y)}for(const qi of Rn){oi.reset(qi,.25*be);let An=0;An=oi.length<=.5*be?1:Math.ceil(oi.paddedLength/er)+1;for(let Cn=0;Cn<An;Cn++){const Ir=Cn/Math.max(An-1,1),$o=oi.lerp(Ir),Do=$o.x+ye,oo=$o.y+ye;ze.push(Do,oo,be,0);const aa=Do-be,Lr=oo-be,Ds=Do+be,ls=oo+be;if(se=se&&this.isOffscreen(aa,Lr,Ds,ls),$=$||this.isInsideGrid(aa,Lr,Ds,ls),"always"!==n&&this.grid.hitTestCircle(Do,oo,be,n,ne)&&(F=!0,!Z))return{circles:[],offscreen:!1,collisionDetected:F}}}}return{circles:!Z&&F||!$||Rt<this.perspectiveRatioCutoff?[]:ze,offscreen:se,collisionDetected:F}}queryRenderedSymbols(n){if(0===n.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const d=[];let f=1/0,v=1/0,D=-1/0,O=-1/0;for(const J of n){const ne=new g.P(J.x+ye,J.y+ye);f=Math.min(f,ne.x),v=Math.min(v,ne.y),D=Math.max(D,ne.x),O=Math.max(O,ne.y),d.push(ne)}const R=this.grid.query(f,v,D,O).concat(this.ignoredGrid.query(f,v,D,O)),V={},Z={};for(const J of R){const ne=J.key;if(void 0===V[ne.bucketInstanceId]&&(V[ne.bucketInstanceId]={}),V[ne.bucketInstanceId][ne.featureIndex])continue;const ge=[new g.P(J.x1,J.y1),new g.P(J.x2,J.y1),new g.P(J.x2,J.y2),new g.P(J.x1,J.y2)];g.an(d,ge)&&(V[ne.bucketInstanceId][ne.featureIndex]=!0,void 0===Z[ne.bucketInstanceId]&&(Z[ne.bucketInstanceId]=[]),Z[ne.bucketInstanceId].push(ne.featureIndex))}return Z}insertCollisionBox(n,d,f,v,D,O){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:D,collisionGroupID:O,overlapMode:d},n[0],n[1],n[2],n[3])}insertCollisionCircles(n,d,f,v,D,O){const R=f?this.ignoredGrid:this.grid,V={bucketInstanceId:v,featureIndex:D,collisionGroupID:O,overlapMode:d};for(let Z=0;Z<n.length;Z+=4)R.insertCircle(V,n[Z],n[Z+1],n[Z+2])}projectAndGetPerspectiveRatio(n,d,f,v){let D;return v?(D=[d,f,v(d,f),1],g.ag(D,D,n)):(D=[d,f,0,1],Oe(D,D,n)),{point:new g.P((D[0]/D[3]+1)/2*this.transform.width+ye,(-D[1]/D[3]+1)/2*this.transform.height+ye),perspectiveRatio:.5+this.transform.cameraToCenterDistance/D[3]*.5}}isOffscreen(n,d,f,v){return f<ye||n>=this.screenRightBoundary||v<ye||d>this.screenBottomBoundary}isInsideGrid(n,d,f,v){return f>=0&&n<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const n=g.ao([]);return g.$(n,n,[-100,-100,0]),n}}function G(w,n,d){return n*(g.N/(w.tileSize*Math.pow(2,d-w.tileID.overscaledZ)))}class Y{constructor(n,d,f,v){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?d:-d))):v&&f?1:0,this.placed=f}isHidden(){return 0===this.opacity&&!this.placed}}class K{constructor(n,d,f,v,D){this.text=new Y(n?n.text:null,d,f,D),this.icon=new Y(n?n.icon:null,d,v,D)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class we{constructor(n,d,f){this.text=n,this.icon=d,this.skipFade=f}}class je{constructor(){this.invProjMatrix=g.Z(),this.viewportMatrix=g.Z(),this.circles=[]}}class wt{constructor(n,d,f,v,D){this.bucketInstanceId=n,this.featureIndex=d,this.sourceLayerIndex=f,this.bucketIndex=v,this.tileID=D}}class Be{constructor(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}}get(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){const d=++this.maxGroupID;this.collisionGroups[n]={ID:d,predicate:f=>f.collisionGroupID===d}}return this.collisionGroups[n]}}function Ue(w,n,d,f,v){const{horizontalAlign:D,verticalAlign:O}=g.au(w);return new g.P(-(D-.5)*n+f[0]*v,-(O-.5)*d+f[1]*v)}function _e(w,n,d,f,v,D){const{x1:O,x2:R,y1:V,y2:Z,anchorPointX:J,anchorPointY:ne}=w,ge=new g.P(n,d);return f&&ge._rotate(v?D:-D),{x1:O+ge.x,y1:V+ge.y,x2:R+ge.x,y2:Z+ge.y,anchorPointX:J,anchorPointY:ne}}class Ae{constructor(n,d,f,v,D){this.transform=n.clone(),this.terrain=d,this.collisionIndex=new De(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Be(v),this.collisionCircleArrays={},this.prevPlacement=D,D&&(D.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(n,d,f,v){const D=f.getBucket(d),O=f.latestFeatureIndex;if(!D||!O||d.id!==D.layerIds[0])return;const R=f.collisionBoxArray,V=D.layers[0].layout,Z=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),J=f.tileSize/g.N,ne=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),ge="map"===V.get("text-pitch-alignment"),Pe="map"===V.get("text-rotation-alignment"),Fe=G(f,1,this.transform.zoom),ze=Me(ne,ge,Pe,this.transform,Fe);let ke=null;if(ge){const Rt=Ft(ne,ge,Pe,this.transform,Fe);ke=g.a1([],this.transform.labelPlaneMatrix,Rt)}this.retainedQueryData[D.bucketInstanceId]=new wt(D.bucketInstanceId,O,D.sourceLayerIndex,D.index,f.tileID);const gt={bucket:D,layout:V,posMatrix:ne,textLabelPlaneMatrix:ze,labelToScreenMatrix:ke,scale:Z,textPixelRatio:J,holdingForFade:f.holdingForFade(),collisionBoxArray:R,partiallyEvaluatedTextSize:g.ah(D.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(D.sourceID)};if(v)for(const Rt of D.sortKeyRanges){const{sortKey:T,symbolInstanceStart:P,symbolInstanceEnd:I}=Rt;n.push({sortKey:T,symbolInstanceStart:P,symbolInstanceEnd:I,parameters:gt})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:D.symbolInstances.length,parameters:gt})}attemptAnchorPlacement(n,d,f,v,D,O,R,V,Z,J,ne,ge,Pe,Fe,ze,ke){const gt=g.aq[n.textAnchor],Rt=[n.textOffset0,n.textOffset1],T=Ue(gt,f,v,Rt,D),P=this.collisionIndex.placeCollisionBox(_e(d,T.x,T.y,O,R,this.transform.angle),ne,V,Z,J.predicate,ke);if((!ze||0!==this.collisionIndex.placeCollisionBox(_e(ze,T.x,T.y,O,R,this.transform.angle),ne,V,Z,J.predicate,ke).box.length)&&P.box.length>0){let I;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ge.crossTileID]&&this.prevPlacement.placements[ge.crossTileID]&&this.prevPlacement.placements[ge.crossTileID].text&&(I=this.prevPlacement.variableOffsets[ge.crossTileID].anchor),0===ge.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ge.crossTileID]={textOffset:Rt,width:f,height:v,anchor:gt,textBoxScale:D,prevAnchor:I},this.markUsedJustification(Pe,gt,ge,Fe),Pe.allowVerticalPlacement&&(this.markUsedOrientation(Pe,Fe,ge),this.placedOrientations[ge.crossTileID]=Fe),{shift:T,placedGlyphBoxes:P}}}placeLayerBucketPart(n,d,f){const{bucket:v,layout:D,posMatrix:O,textLabelPlaneMatrix:R,labelToScreenMatrix:V,textPixelRatio:Z,holdingForFade:J,collisionBoxArray:ne,partiallyEvaluatedTextSize:ge,collisionGroup:Pe}=n.parameters,Fe=D.get("text-optional"),ze=D.get("icon-optional"),ke=g.ar(D,"text-overlap","text-allow-overlap"),gt="always"===ke,Rt=g.ar(D,"icon-overlap","icon-allow-overlap"),T="always"===Rt,P="map"===D.get("text-rotation-alignment"),I="map"===D.get("text-pitch-alignment"),F="none"!==D.get("icon-text-fit"),$="viewport-y"===D.get("symbol-z-order"),se=gt&&(T||!v.hasIconData()||ze),be=T&&(gt||!v.hasTextData()||Fe);!v.collisionArrays&&ne&&v.deserializeCollisionBoxes(ne);const Qe=this.retainedQueryData[v.bucketInstanceId].tileID,st=this.terrain?(Jt,bi)=>this.terrain.getElevation(Qe,Jt,bi):null,oi=(Jt,bi)=>{var Ai,er;if(d[Jt.crossTileID])return;if(J)return void(this.placements[Jt.crossTileID]=new we(!1,!1,!1));let Rn=!1,qi=!1,An=!0,Cn=null,Ir={box:null,offscreen:null},$o={box:null,offscreen:null},Do=null,oo=null,aa=null,Lr=0,Ds=0,ls=0;bi.textFeatureIndex?Lr=bi.textFeatureIndex:Jt.useRuntimeCollisionCircles&&(Lr=Jt.featureIndex),bi.verticalTextFeatureIndex&&(Ds=bi.verticalTextFeatureIndex);const Xl=bi.textBox;if(Xl){const Po=so=>{let qr=g.ai.horizontal;if(v.allowVerticalPlacement&&!so&&this.prevPlacement){const Zo=this.prevPlacement.placedOrientations[Jt.crossTileID];Zo&&(this.placedOrientations[Jt.crossTileID]=Zo,qr=Zo,this.markUsedOrientation(v,qr,Jt))}return qr},Ro=(so,qr)=>{if(v.allowVerticalPlacement&&Jt.numVerticalGlyphVertices>0&&bi.verticalTextBox){for(const Zo of v.writingModes)if(Zo===g.ai.vertical?(Ir=qr(),$o=Ir):Ir=so(),Ir&&Ir.box&&Ir.box.length)break}else Ir=so()},Go=Jt.textAnchorOffsetStartIndex,Ql=Jt.textAnchorOffsetEndIndex;if(Ql===Go){const so=(qr,Zo)=>{const ao=this.collisionIndex.placeCollisionBox(qr,ke,Z,O,Pe.predicate,st);return ao&&ao.box&&ao.box.length&&(this.markUsedOrientation(v,Zo,Jt),this.placedOrientations[Jt.crossTileID]=Zo),ao};Ro(()=>so(Xl,g.ai.horizontal),()=>{const qr=bi.verticalTextBox;return v.allowVerticalPlacement&&Jt.numVerticalGlyphVertices>0&&qr?so(qr,g.ai.vertical):{box:null,offscreen:null}}),Po(Ir&&Ir.box&&Ir.box.length)}else{let so=g.aq[null===(er=null===(Ai=this.prevPlacement)||void 0===Ai?void 0:Ai.variableOffsets[Jt.crossTileID])||void 0===er?void 0:er.anchor];const qr=(ao,Fl,Md)=>{const Ju=ao.x2-ao.x1,eh=ao.y2-ao.y1,jp=Jt.textBoxScale,th=F&&"never"===Rt?Fl:null;let Fa={box:[],offscreen:!1},il="never"===ke?1:2,bl="never";so&&il++;for(let Ss=0;Ss<il;Ss++){for(let La=Go;La<Ql;La++){const Gc=v.textAnchorOffsets.get(La);if(so&&Gc.textAnchor!==so)continue;const Jl=this.attemptAnchorPlacement(Gc,ao,Ju,eh,jp,P,I,Z,O,Pe,bl,Jt,v,Md,th,st);if(Jl&&(Fa=Jl.placedGlyphBoxes,Fa&&Fa.box&&Fa.box.length))return Rn=!0,Cn=Jl.shift,Fa}so?so=null:bl=ke}return Fa};Ro(()=>qr(Xl,bi.iconBox,g.ai.horizontal),()=>{const ao=bi.verticalTextBox;return v.allowVerticalPlacement&&!(Ir&&Ir.box&&Ir.box.length)&&Jt.numVerticalGlyphVertices>0&&ao?qr(ao,bi.verticalIconBox,g.ai.vertical):{box:null,offscreen:null}}),Ir&&(Rn=Ir.box,An=Ir.offscreen);const Zo=Po(Ir&&Ir.box);if(!Rn&&this.prevPlacement){const ao=this.prevPlacement.variableOffsets[Jt.crossTileID];ao&&(this.variableOffsets[Jt.crossTileID]=ao,this.markUsedJustification(v,ao.anchor,Jt,Zo))}}}if(Do=Ir,Rn=Do&&Do.box&&Do.box.length>0,An=Do&&Do.offscreen,Jt.useRuntimeCollisionCircles){const Po=v.text.placedSymbolArray.get(Jt.centerJustifiedTextSymbolIndex),Ro=g.aj(v.textSizeData,ge,Po),Go=D.get("text-padding");oo=this.collisionIndex.placeCollisionCircles(ke,Po,v.lineVertexArray,v.glyphOffsetArray,Ro,O,R,V,f,I,Pe.predicate,Jt.collisionCircleDiameter,Go,st),oo.circles.length&&oo.collisionDetected&&!f&&g.w("Collisions detected, but collision boxes are not shown"),Rn=gt||oo.circles.length>0&&!oo.collisionDetected,An=An&&oo.offscreen}if(bi.iconFeatureIndex&&(ls=bi.iconFeatureIndex),bi.iconBox){const Po=Ro=>{const Go=F&&Cn?_e(Ro,Cn.x,Cn.y,P,I,this.transform.angle):Ro;return this.collisionIndex.placeCollisionBox(Go,Rt,Z,O,Pe.predicate,st)};$o&&$o.box&&$o.box.length&&bi.verticalIconBox?(aa=Po(bi.verticalIconBox),qi=aa.box.length>0):(aa=Po(bi.iconBox),qi=aa.box.length>0),An=An&&aa.offscreen}const yl=Fe||0===Jt.numHorizontalGlyphVertices&&0===Jt.numVerticalGlyphVertices,vl=ze||0===Jt.numIconVertices;if(yl||vl?vl?yl||(qi=qi&&Rn):Rn=qi&&Rn:qi=Rn=qi&&Rn,Rn&&Do&&Do.box&&this.collisionIndex.insertCollisionBox(Do.box,ke,D.get("text-ignore-placement"),v.bucketInstanceId,$o&&$o.box&&Ds?Ds:Lr,Pe.ID),qi&&aa&&this.collisionIndex.insertCollisionBox(aa.box,Rt,D.get("icon-ignore-placement"),v.bucketInstanceId,ls,Pe.ID),oo&&(Rn&&this.collisionIndex.insertCollisionCircles(oo.circles,ke,D.get("text-ignore-placement"),v.bucketInstanceId,Lr,Pe.ID),f)){const Po=v.bucketInstanceId;let Ro=this.collisionCircleArrays[Po];void 0===Ro&&(Ro=this.collisionCircleArrays[Po]=new je);for(let Go=0;Go<oo.circles.length;Go+=4)Ro.circles.push(oo.circles[Go+0]),Ro.circles.push(oo.circles[Go+1]),Ro.circles.push(oo.circles[Go+2]),Ro.circles.push(oo.collisionDetected?1:0)}if(0===Jt.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===v.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Jt.crossTileID]=new we(Rn||se,qi||be,An||v.justReloaded),d[Jt.crossTileID]=!0};if($){if(0!==n.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const Jt=v.getSortedSymbolIndexes(this.transform.angle);for(let bi=Jt.length-1;bi>=0;--bi){const Ai=Jt[bi];oi(v.symbolInstances.get(Ai),v.collisionArrays[Ai])}}else for(let Jt=n.symbolInstanceStart;Jt<n.symbolInstanceEnd;Jt++)oi(v.symbolInstances.get(Jt),v.collisionArrays[Jt]);if(f&&v.bucketInstanceId in this.collisionCircleArrays){const Jt=this.collisionCircleArrays[v.bucketInstanceId];g.as(Jt.invProjMatrix,O),Jt.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(n,d,f,v){let D;D=v===g.ai.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[g.at(d)];const O=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const R of O)R>=0&&(n.text.placedSymbolArray.get(R).crossTileID=D>=0&&R!==D?0:f.crossTileID)}markUsedOrientation(n,d,f){const v=d===g.ai.horizontal||d===g.ai.horizontalOnly?d:0,D=d===g.ai.vertical?d:0,O=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const R of O)n.text.placedSymbolArray.get(R).placedOrientation=v;f.verticalPlacedTextSymbolIndex&&(n.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=D)}commit(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let f=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(n):1,D=d?d.opacities:{},O=d?d.variableOffsets:{},R=d?d.placedOrientations:{};for(const V in this.placements){const Z=this.placements[V],J=D[V];J?(this.opacities[V]=new K(J,v,Z.text,Z.icon),f=f||Z.text!==J.text.placed||Z.icon!==J.icon.placed):(this.opacities[V]=new K(null,v,Z.text,Z.icon,Z.skipFade),f=f||Z.text||Z.icon)}for(const V in D){const Z=D[V];if(!this.opacities[V]){const J=new K(Z,v,!1,!1);J.isHidden()||(this.opacities[V]=J,f=f||Z.text.placed||Z.icon.placed)}}for(const V in O)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=O[V]);for(const V in R)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=R[V]);if(d&&void 0===d.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=n:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:n)}updateLayerOpacities(n,d){const f={};for(const v of d){const D=v.getBucket(n);D&&v.latestFeatureIndex&&n.id===D.layerIds[0]&&this.updateBucketOpacities(D,f,v.collisionBoxArray)}}updateBucketOpacities(n,d,f){n.hasTextData()&&(n.text.opacityVertexArray.clear(),n.text.hasVisibleVertices=!1),n.hasIconData()&&(n.icon.opacityVertexArray.clear(),n.icon.hasVisibleVertices=!1),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();const v=n.layers[0],D=v.layout,O=new K(null,0,!1,!1,!0),R=D.get("text-allow-overlap"),V=D.get("icon-allow-overlap"),Z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),J="map"===D.get("text-rotation-alignment"),ne="map"===D.get("text-pitch-alignment"),ge="none"!==D.get("icon-text-fit"),Pe=new K(null,0,R&&(V||!n.hasIconData()||D.get("icon-optional")),V&&(R||!n.hasTextData()||D.get("text-optional")),!0);!n.collisionArrays&&f&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(f);const Fe=(ze,ke,gt)=>{for(let Rt=0;Rt<ke/4;Rt++)ze.opacityVertexArray.emplaceBack(gt);ze.hasVisibleVertices=ze.hasVisibleVertices||gt!==uo};for(let ze=0;ze<n.symbolInstances.length;ze++){const ke=n.symbolInstances.get(ze),{numHorizontalGlyphVertices:gt,numVerticalGlyphVertices:Rt,crossTileID:T}=ke;let P=this.opacities[T];d[T]?P=O:P||(P=Pe,this.opacities[T]=P),d[T]=!0;const I=ke.numIconVertices>0,F=this.placedOrientations[ke.crossTileID],$=F===g.ai.vertical,se=F===g.ai.horizontal||F===g.ai.horizontalOnly;if(gt>0||Rt>0){const be=Nr(P.text);Fe(n.text,gt,$?uo:be),Fe(n.text,Rt,se?uo:be);const Qe=P.text.isHidden();[ke.rightJustifiedTextSymbolIndex,ke.centerJustifiedTextSymbolIndex,ke.leftJustifiedTextSymbolIndex].forEach(Jt=>{Jt>=0&&(n.text.placedSymbolArray.get(Jt).hidden=Qe||$?1:0)}),ke.verticalPlacedTextSymbolIndex>=0&&(n.text.placedSymbolArray.get(ke.verticalPlacedTextSymbolIndex).hidden=Qe||se?1:0);const st=this.variableOffsets[ke.crossTileID];st&&this.markUsedJustification(n,st.anchor,ke,F);const oi=this.placedOrientations[ke.crossTileID];oi&&(this.markUsedJustification(n,"left",ke,oi),this.markUsedOrientation(n,oi,ke))}if(I){const be=Nr(P.icon),Qe=!(ge&&ke.verticalPlacedIconSymbolIndex&&$);ke.placedIconSymbolIndex>=0&&(Fe(n.icon,ke.numIconVertices,Qe?be:uo),n.icon.placedSymbolArray.get(ke.placedIconSymbolIndex).hidden=P.icon.isHidden()),ke.verticalPlacedIconSymbolIndex>=0&&(Fe(n.icon,ke.numVerticalIconVertices,Qe?uo:be),n.icon.placedSymbolArray.get(ke.verticalPlacedIconSymbolIndex).hidden=P.icon.isHidden())}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){const be=n.collisionArrays[ze];if(be){let Qe=new g.P(0,0);if(be.textBox||be.verticalTextBox){let oi=!0;if(Z){const Jt=this.variableOffsets[T];Jt?(Qe=Ue(Jt.anchor,Jt.width,Jt.height,Jt.textOffset,Jt.textBoxScale),J&&Qe._rotate(ne?this.transform.angle:-this.transform.angle)):oi=!1}be.textBox&&ct(n.textCollisionBox.collisionVertexArray,P.text.placed,!oi||$,Qe.x,Qe.y),be.verticalTextBox&&ct(n.textCollisionBox.collisionVertexArray,P.text.placed,!oi||se,Qe.x,Qe.y)}const st=!(se||!be.verticalIconBox);be.iconBox&&ct(n.iconCollisionBox.collisionVertexArray,P.icon.placed,st,ge?Qe.x:0,ge?Qe.y:0),be.verticalIconBox&&ct(n.iconCollisionBox.collisionVertexArray,P.icon.placed,!st,ge?Qe.x:0,ge?Qe.y:0)}}}if(n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.text.opacityVertexArray.length!==n.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${n.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${n.text.layoutVertexArray.length}) / 4`);if(n.icon.opacityVertexArray.length!==n.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${n.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${n.icon.layoutVertexArray.length}) / 4`);if(n.bucketInstanceId in this.collisionCircleArrays){const ze=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=ze.invProjMatrix,n.placementViewportMatrix=ze.viewportMatrix,n.collisionCircleArray=ze.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}}symbolFadeChange(n){return 0===this.fadeDuration?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(n){return Math.max(0,(this.transform.zoom-n)/1.5)}hasTransitions(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(n,d){const f=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*f>n}setStale(){this.stale=!0}}function ct(w,n,d,f,v){w.emplaceBack(n?1:0,d?1:0,f||0,v||0),w.emplaceBack(n?1:0,d?1:0,f||0,v||0),w.emplaceBack(n?1:0,d?1:0,f||0,v||0),w.emplaceBack(n?1:0,d?1:0,f||0,v||0)}const Ht=Math.pow(2,25),fi=Math.pow(2,24),Ui=Math.pow(2,17),Yi=Math.pow(2,16),wn=Math.pow(2,9),Si=Math.pow(2,8),hr=Math.pow(2,1);function Nr(w){if(0===w.opacity&&!w.placed)return 0;if(1===w.opacity&&w.placed)return 4294967295;const n=w.placed?1:0,d=Math.floor(127*w.opacity);return d*Ht+n*fi+d*Ui+n*Yi+d*wn+n*Si+d*hr+n}const uo=0;class Ea{constructor(n){this._sortAcrossTiles="viewport-y"!==n.layout.get("symbol-z-order")&&!n.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(n,d,f,v,D){const O=this._bucketParts;for(;this._currentTileIndex<n.length;)if(d.getBucketParts(O,v,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,D())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,O.sort((R,V)=>R.sortKey-V.sortKey));this._currentPartIndex<O.length;)if(d.placeLayerBucketPart(O[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,D())return!0;return!1}}class ir{constructor(n,d,f,v,D,O,R,V){this.placement=new Ae(n,d,O,R,V),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=D,this._done=!1}isDone(){return this._done}continuePlacement(n,d,f){const v=g.h.now(),D=()=>!this._forceFullPlacement&&g.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const O=d[n[this._currentPlacementIndex]],R=this.placement.collisionIndex.transform.zoom;if("symbol"===O.type&&(!O.minzoom||O.minzoom<=R)&&(!O.maxzoom||O.maxzoom>R)){if(this._inProgressLayer||(this._inProgressLayer=new Ea(O)),this._inProgressLayer.continuePlacement(f[O.source],this.placement,this._showCollisionBoxes,O,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(n){return this.placement.commit(n),this.placement}}const ps=512/g.N/2;class It{constructor(n,d,f){this.tileID=n,this.bucketInstanceId=f,this._symbolsByKey={};const v=new Map;for(let D=0;D<d.length;D++){const O=d.get(D),R=O.key,V=v.get(R);V?V.push(O):v.set(R,[O])}for(const[D,O]of v){const R={positions:O.map(V=>({x:Math.floor(V.anchorX*ps),y:Math.floor(V.anchorY*ps)})),crossTileIDs:O.map(V=>V.crossTileID)};if(R.positions.length>128){const V=new g.av(R.positions.length,16,Uint16Array);for(const{x:Z,y:J}of R.positions)V.add(Z,J);V.finish(),delete R.positions,R.index=V}this._symbolsByKey[D]=R}}getScaledCoordinates(n,d){const{x:f,y:v,z:D}=this.tileID.canonical,{x:O,y:R,z:V}=d.canonical,Z=ps/Math.pow(2,V-D),J=(R*g.N+n.anchorY)*Z,ne=v*g.N*ps;return{x:Math.floor((O*g.N+n.anchorX)*Z-f*g.N*ps),y:Math.floor(J-ne)}}findMatches(n,d,f){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let D=0;D<n.length;D++){const O=n.get(D);if(O.crossTileID)continue;const R=this._symbolsByKey[O.key];if(!R)continue;const V=this.getScaledCoordinates(O,d);if(R.index){const Z=R.index.range(V.x-v,V.y-v,V.x+v,V.y+v).sort();for(const J of Z){const ne=R.crossTileIDs[J];if(!f[ne]){f[ne]=!0,O.crossTileID=ne;break}}}else if(R.positions)for(let Z=0;Z<R.positions.length;Z++){const J=R.positions[Z],ne=R.crossTileIDs[Z];if(Math.abs(J.x-V.x)<=v&&Math.abs(J.y-V.y)<=v&&!f[ne]){f[ne]=!0,O.crossTileID=ne;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:n})=>n)}}class We{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class dt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(n){const d=Math.round((n-this.lng)/360);if(0!==d)for(const f in this.indexes){const v=this.indexes[f],D={};for(const O in v){const R=v[O];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+d),D[R.tileID.key]=R}this.indexes[f]=D}this.lng=n}addBucket(n,d,f){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(let D=0;D<d.symbolInstances.length;D++)d.symbolInstances.get(D).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]={});const v=this.usedCrossTileIDs[n.overscaledZ];for(const D in this.indexes){const O=this.indexes[D];if(Number(D)>n.overscaledZ)for(const R in O){const V=O[R];V.tileID.isChildOf(n)&&V.findMatches(d.symbolInstances,n,v)}else{const R=O[n.scaledTo(Number(D)).key];R&&R.findMatches(d.symbolInstances,n,v)}}for(let D=0;D<d.symbolInstances.length;D++){const O=d.symbolInstances.get(D);O.crossTileID||(O.crossTileID=f.generate(),v[O.crossTileID]=!0)}return void 0===this.indexes[n.overscaledZ]&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new It(n,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(n,d){for(const f of d.getCrossTileIDsLists())for(const v of f)delete this.usedCrossTileIDs[n][v]}removeStaleBuckets(n){let d=!1;for(const f in this.indexes){const v=this.indexes[f];for(const D in v)n[v[D].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,v[D]),delete v[D],d=!0)}return d}}class Gt{constructor(){this.layerIndexes={},this.crossTileIDs=new We,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(n,d,f){let v=this.layerIndexes[n.id];void 0===v&&(v=this.layerIndexes[n.id]=new dt);let D=!1;const O={};v.handleWrapJump(f);for(const R of d){const V=R.getBucket(n);V&&n.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(R.tileID,V,this.crossTileIDs)&&(D=!0),O[V.bucketInstanceId]=!0)}return v.removeStaleBuckets(O)&&(D=!0),D}pruneUnusedLayers(n){const d={};n.forEach(f=>{d[f]=!0});for(const f in this.layerIndexes)d[f]||delete this.layerIndexes[f]}}const Kt=(w,n)=>g.x(w,n&&n.filter(d=>"source.canvas"!==d.identifier)),ui=g.F(g.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Di=g.F(g.ax,["setCenter","setZoom","setBearing","setPitch"]),hn=g.aw();class ji extends g.E{constructor(n,d={}){super(),this.map=n,this.dispatcher=new Bn(Ne(),this,n._getMapId()),this.imageManager=new Nt,this.imageManager.setEventedParent(this),this.glyphManager=new Ri(n._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Li(256,512),this.crossTileSymbolIndex=new Gt,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new g.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",g.az());const f=this;this._rtlTextPluginCallback=ji.registerForPluginStateChange(v=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(D,O)=>{if(g.aA(D),O&&O.every(R=>R))for(const R in f.sourceCaches){const V=f.sourceCaches[R].getSource().type;"vector"!==V&&"geojson"!==V||f.sourceCaches[R].reload()}})}),this.on("data",v=>{if("source"!==v.dataType||"metadata"!==v.sourceDataType)return;const D=this.sourceCaches[v.sourceId];if(!D)return;const O=D.getSource();if(O&&O.vectorLayerIds)for(const R in this._layers){const V=this._layers[R];V.source===O.id&&this._validateLayer(V)}})}loadURL(n,d={},f){this.fire(new g.k("dataloading",{dataType:"style"})),d.validate="boolean"!=typeof d.validate||d.validate;const v=this.map._requestManager.transformRequest(n,Ye.Style);this._request=g.f(v,(D,O)=>{this._request=null,D?this.fire(new g.j(D)):O&&this._load(O,d,f)})}loadJSON(n,d={},f){this.fire(new g.k("dataloading",{dataType:"style"})),this._request=g.h.frame(()=>{this._request=null,d.validate=!1!==d.validate,this._load(n,d,f)})}loadEmpty(){this.fire(new g.k("dataloading",{dataType:"style"})),this._load(hn,{validate:!1})}_load(n,d,f){var v;const D=d.transformStyle?d.transformStyle(f,n):n;if(!d.validate||!Kt(this,g.y(D))){this._loaded=!0,this.stylesheet=D;for(const O in D.sources)this.addSource(O,D.sources[O],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new Fn(this.stylesheet.light),this.map.setTerrain(null!==(v=this.stylesheet.terrain)&&void 0!==v?v:null),this.fire(new g.k("data",{dataType:"style"})),this.fire(new g.k("style.load"))}}_createLayers(){const n=g.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",n),this._order=n.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of n){const f=g.aC(d);f.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=f}}_loadSprite(n,d=!1,f=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,D,O,R){const V=jt(v),Z=V.length,J=O>1?"@2x":"",ne={},ge={},Pe={};for(const{id:Fe,url:ze}of V){const ke=D.transformRequest(D.normalizeSpriteURL(ze,J,".json"),Ye.SpriteJSON),gt=`${Fe}_${ke.url}`;ne[gt]=g.f(ke,(P,I)=>{delete ne[gt],ge[Fe]=I,rt(R,ge,Pe,P,Z)});const Rt=D.transformRequest(D.normalizeSpriteURL(ze,J,".png"),Ye.SpriteImage),T=`${Fe}_${Rt.url}`;ne[T]=ot.getImage(Rt,(P,I)=>{delete ne[T],Pe[Fe]=I,rt(R,ge,Pe,P,Z)})}return{cancel(){for(const Fe of Object.values(ne))Fe.cancel()}}}(n,this.map._requestManager,this.map.getPixelRatio(),(v,D)=>{if(this._spriteRequest=null,v)this.fire(new g.j(v));else if(D)for(const O in D){this._spritesImagesIds[O]=[];const R=this._spritesImagesIds[O]?this._spritesImagesIds[O].filter(V=>!(V in D)):[];for(const V of R)this.imageManager.removeImage(V),this._changedImages[V]=!0;for(const V in D[O]){const Z="default"===O?V:`${O}:${V}`;this._spritesImagesIds[O].push(Z),Z in this.imageManager.images?this.imageManager.updateImage(Z,D[O][V],!1):this.imageManager.addImage(Z,D[O][V]),d&&(this._changedImages[Z]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.k("data",{dataType:"style"})),f&&f(v)})}_unloadSprite(){for(const n of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(n),this._changedImages[n]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.k("data",{dataType:"style"}))}_validateLayer(n){const d=this.sourceCaches[n.source];if(!d)return;const f=n.sourceLayer;if(!f)return;const v=d.getSource();("geojson"===v.type||v.vectorLayerIds&&-1===v.vectorLayerIds.indexOf(f))&&this.fire(new g.j(new Error(`Source layer "${f}" does not exist on source "${v.id}" as specified by style layer "${n.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const n in this.sourceCaches)if(!this.sourceCaches[n].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(n){const d=this._serializedAllLayers();if(!n||0===n.length)return Object.values(d);const f=[];for(const v of n)d[v]&&f.push(d[v]);return f}_serializedAllLayers(){let n=this._serializedLayers;if(n)return n;n=this._serializedLayers={};const d=Object.keys(this._layers);for(const f of d){const v=this._layers[f];"custom"!==v.type&&(n[f]=v.serialize())}return n}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const n in this.sourceCaches)if(this.sourceCaches[n].hasTransition())return!0;for(const n in this._layers)if(this._layers[n].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(n){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),D=Object.keys(this._removedLayers);(v.length||D.length)&&this._updateWorkerLayers(v,D);for(const O in this._updatedSources){const R=this._updatedSources[O];if("reload"===R)this._reloadSource(O);else{if("clear"!==R)throw new Error(`Invalid action ${R}`);this._clearSource(O)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const O in this._updatedPaintProps)this._layers[O].updateTransitions(n);this.light.updateTransitions(n),this._resetUpdates()}const f={};for(const v in this.sourceCaches){const D=this.sourceCaches[v];f[v]=D.used,D.used=!1}for(const v of this._order){const D=this._layers[v];D.recalculate(n,this._availableImages),!D.isHidden(n.zoom)&&D.source&&(this.sourceCaches[D.source].used=!0)}for(const v in f){const D=this.sourceCaches[v];f[v]!==D.used&&D.fire(new g.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(n),this.z=n.zoom,d&&this.fire(new g.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const n=Object.keys(this._changedImages);if(n.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],n);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const n in this.sourceCaches)this.sourceCaches[n].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(n,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(n),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(n,d={}){this._checkLoaded();const f=this.serialize();if(n=d.transformStyle?d.transformStyle(f,n):n,Kt(this,g.y(n)))return!1;(n=g.aD(n)).layers=g.aB(n.layers);const v=g.aE(f,n).filter(O=>!(O.command in Di));if(0===v.length)return!1;const D=v.filter(O=>!(O.command in ui));if(D.length>0)throw new Error(`Unimplemented: ${D.map(O=>O.command).join(", ")}.`);for(const O of v)"setTransition"!==O.command&&this[O.command].apply(this,O.args);return this.stylesheet=n,this._serializedLayers=null,!0}addImage(n,d){if(this.getImage(n))return this.fire(new g.j(new Error(`An image named "${n}" already exists.`)));this.imageManager.addImage(n,d),this._afterImageUpdated(n)}updateImage(n,d){this.imageManager.updateImage(n,d)}getImage(n){return this.imageManager.getImage(n)}removeImage(n){if(!this.getImage(n))return this.fire(new g.j(new Error(`An image named "${n}" does not exist.`)));this.imageManager.removeImage(n),this._afterImageUpdated(n)}_afterImageUpdated(n){this._availableImages=this.imageManager.listImages(),this._changedImages[n]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(n,d,f={}){if(this._checkLoaded(),void 0!==this.sourceCaches[n])throw new Error(`Source "${n}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(g.y.source,`sources.${n}`,d,null,f))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[n]=new pn(n,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:n})),v.onAdd(this.map),this._changed=!0}removeSource(n){if(this._checkLoaded(),void 0===this.sourceCaches[n])throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===n)return this.fire(new g.j(new Error(`Source "${n}" cannot be removed while layer "${f}" is using it.`)));const d=this.sourceCaches[n];delete this.sourceCaches[n],delete this._updatedSources[n],d.fire(new g.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:n})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(n,d){if(this._checkLoaded(),void 0===this.sourceCaches[n])throw new Error(`There is no source with this ID=${n}`);const f=this.sourceCaches[n].getSource();if("geojson"!==f.type)throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(d),this._changed=!0}getSource(n){return this.sourceCaches[n]&&this.sourceCaches[n].getSource()}addLayer(n,d,f={}){this._checkLoaded();const v=n.id;if(this.getLayer(v))return void this.fire(new g.j(new Error(`Layer "${v}" already exists on this map.`)));let D;if("custom"===n.type){if(Kt(this,g.aF(n)))return;D=g.aC(n)}else{if("source"in n&&"object"==typeof n.source&&(this.addSource(v,n.source),n=g.aD(n),n=g.e(n,{source:v})),this._validate(g.y.layer,`layers.${v}`,n,{arrayIndex:-1},f))return;D=g.aC(n),this._validateLayer(D),D.setEventedParent(this,{layer:{id:v}})}const O=d?this._order.indexOf(d):this._order.length;if(d&&-1===O)this.fire(new g.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(O,0,v),this._layerOrderChanged=!0,this._layers[v]=D,this._removedLayers[v]&&D.source&&"custom"!==D.type){const R=this._removedLayers[v];delete this._removedLayers[v],R.type!==D.type?this._updatedSources[D.source]="clear":(this._updatedSources[D.source]="reload",this.sourceCaches[D.source].pause())}this._updateLayer(D),D.onAdd&&D.onAdd(this.map)}}moveLayer(n,d){if(this._checkLoaded(),this._changed=!0,!this._layers[n])return void this.fire(new g.j(new Error(`The layer '${n}' does not exist in the map's style and cannot be moved.`)));if(n===d)return;const f=this._order.indexOf(n);this._order.splice(f,1);const v=d?this._order.indexOf(d):this._order.length;d&&-1===v?this.fire(new g.j(new Error(`Cannot move layer "${n}" before non-existing layer "${d}".`))):(this._order.splice(v,0,n),this._layerOrderChanged=!0)}removeLayer(n){this._checkLoaded();const d=this._layers[n];if(!d)return void this.fire(new g.j(new Error(`Cannot remove non-existing layer "${n}".`)));d.setEventedParent(null);const f=this._order.indexOf(n);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[n]=d,delete this._layers[n],this._serializedLayers&&delete this._serializedLayers[n],delete this._updatedLayers[n],delete this._updatedPaintProps[n],d.onRemove&&d.onRemove(this.map)}getLayer(n){return this._layers[n]}getLayersOrder(){return[...this._order]}hasLayer(n){return n in this._layers}setLayerZoomRange(n,d,f){this._checkLoaded();const v=this.getLayer(n);v?v.minzoom===d&&v.maxzoom===f||(null!=d&&(v.minzoom=d),null!=f&&(v.maxzoom=f),this._updateLayer(v)):this.fire(new g.j(new Error(`Cannot set the zoom range of non-existing layer "${n}".`)))}setFilter(n,d,f={}){this._checkLoaded();const v=this.getLayer(n);if(v){if(!g.aG(v.filter,d))return null==d?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(g.y.filter,`layers.${v.id}.filter`,d,null,f)||(v.filter=g.aD(d),this._updateLayer(v)))}else this.fire(new g.j(new Error(`Cannot filter non-existing layer "${n}".`)))}getFilter(n){return g.aD(this.getLayer(n).filter)}setLayoutProperty(n,d,f,v={}){this._checkLoaded();const D=this.getLayer(n);D?g.aG(D.getLayoutProperty(d),f)||(D.setLayoutProperty(d,f,v),this._updateLayer(D)):this.fire(new g.j(new Error(`Cannot style non-existing layer "${n}".`)))}getLayoutProperty(n,d){const f=this.getLayer(n);if(f)return f.getLayoutProperty(d);this.fire(new g.j(new Error(`Cannot get style of non-existing layer "${n}".`)))}setPaintProperty(n,d,f,v={}){this._checkLoaded();const D=this.getLayer(n);D?g.aG(D.getPaintProperty(d),f)||(D.setPaintProperty(d,f,v)&&this._updateLayer(D),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new g.j(new Error(`Cannot style non-existing layer "${n}".`)))}getPaintProperty(n,d){return this.getLayer(n).getPaintProperty(d)}setFeatureState(n,d){this._checkLoaded();const f=n.source,v=n.sourceLayer,D=this.sourceCaches[f];if(void 0===D)return void this.fire(new g.j(new Error(`The source '${f}' does not exist in the map's style.`)));const O=D.getSource().type;"geojson"===O&&v?this.fire(new g.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==O||v?(void 0===n.id&&this.fire(new g.j(new Error("The feature id parameter must be provided."))),D.setFeatureState(v,n.id,d)):this.fire(new g.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(n,d){this._checkLoaded();const f=n.source,v=this.sourceCaches[f];if(void 0===v)return void this.fire(new g.j(new Error(`The source '${f}' does not exist in the map's style.`)));const D=v.getSource().type,O="vector"===D?n.sourceLayer:void 0;"vector"!==D||O?d&&"string"!=typeof n.id&&"number"!=typeof n.id?this.fire(new g.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(O,n.id,d):this.fire(new g.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(n){this._checkLoaded();const d=n.source,f=n.sourceLayer,v=this.sourceCaches[d];if(void 0!==v)return"vector"!==v.getSource().type||f?(void 0===n.id&&this.fire(new g.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(f,n.id)):void this.fire(new g.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new g.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return g.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const n=g.aH(this.sourceCaches,D=>D.serialize()),d=this._serializeByIds(this._order),f=this.map.getTerrain()||void 0,v=this.stylesheet;return g.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:n,layers:d,terrain:f},D=>void 0!==D)}_updateLayer(n){this._updatedLayers[n.id]=!0,n.source&&!this._updatedSources[n.source]&&"raster"!==this.sourceCaches[n.source].getSource().type&&(this._updatedSources[n.source]="reload",this.sourceCaches[n.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(n){const d=O=>"fill-extrusion"===this._layers[O].type,f={},v=[];for(let O=this._order.length-1;O>=0;O--){const R=this._order[O];if(d(R)){f[R]=O;for(const V of n){const Z=V[R];if(Z)for(const J of Z)v.push(J)}}}v.sort((O,R)=>R.intersectionZ-O.intersectionZ);const D=[];for(let O=this._order.length-1;O>=0;O--){const R=this._order[O];if(d(R))for(let V=v.length-1;V>=0;V--){const Z=v[V].feature;if(f[Z.layer.id]<O)break;D.push(Z),v.pop()}else for(const V of n){const Z=V[R];if(Z)for(const J of Z)D.push(J.feature)}}return D}queryRenderedFeatures(n,d,f){d&&d.filter&&this._validate(g.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new g.j(new Error("parameters.layers must be an Array."))),[];for(const R of d.layers){const V=this._layers[R];if(!V)return this.fire(new g.j(new Error(`The layer '${R}' does not exist in the map's style and cannot be queried for features.`))),[];v[V.source]=!0}}const D=[];d.availableImages=this._availableImages;const O=this._serializedAllLayers();for(const R in this.sourceCaches)d.layers&&!v[R]||D.push(Qi(this.sourceCaches[R],this._layers,O,n,d,f));return this.placement&&D.push(function(R,V,Z,J,ne,ge,Pe){const Fe={},ze=ge.queryRenderedSymbols(J),ke=[];for(const gt of Object.keys(ze).map(Number))ke.push(Pe[gt]);ke.sort(lt);for(const gt of ke){const Rt=gt.featureIndex.lookupSymbolFeatures(ze[gt.bucketInstanceId],V,gt.bucketIndex,gt.sourceLayerIndex,ne.filter,ne.layers,ne.availableImages,R);for(const T in Rt){const P=Fe[T]=Fe[T]||[],I=Rt[T];I.sort((F,$)=>{const se=gt.featureSortOrder;if(se){const be=se.indexOf(F.featureIndex);return se.indexOf($.featureIndex)-be}return $.featureIndex-F.featureIndex});for(const F of I)P.push(F)}}for(const gt in Fe)Fe[gt].forEach(Rt=>{const T=Rt.feature,P=Z[R[gt].source].getFeatureState(T.layer["source-layer"],T.id);T.source=T.layer.source,T.layer["source-layer"]&&(T.sourceLayer=T.layer["source-layer"]),T.state=P});return Fe}(this._layers,O,this.sourceCaches,n,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(D)}querySourceFeatures(n,d){d&&d.filter&&this._validate(g.y.filter,"querySourceFeatures.filter",d.filter,null,d);const f=this.sourceCaches[n];return f?function(v,D){const O=v.getRenderableIds().map(Z=>v.getTileByID(Z)),R=[],V={};for(let Z=0;Z<O.length;Z++){const J=O[Z],ne=J.tileID.canonical.key;V[ne]||(V[ne]=!0,J.querySourceFeatures(R,D))}return R}(f,d):[]}addSourceType(n,d,f){return yi(n)?f(new Error(`A source type called "${n}" already exists.`)):(hi[n]=d,d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:n,url:d.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(n,d={}){this._checkLoaded();const f=this.light.getLight();let v=!1;for(const O in n)if(!g.aG(n[O],f[O])){v=!0;break}if(!v)return;const D={now:g.h.now(),transition:g.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(n,d),this.light.updateTransitions(D)}_validate(n,d,f,v,D={}){return(!D||!1!==D.validate)&&Kt(this,n.call(g.y,g.e({key:d,style:this.serialize(),value:f,styleSpec:g.v},v)))}_remove(n=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),g.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const f=this.sourceCaches[d];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(n)}_clearSource(n){this.sourceCaches[n].clearTiles()}_reloadSource(n){this.sourceCaches[n].resume(),this.sourceCaches[n].reload()}_updateSources(n){for(const d in this.sourceCaches)this.sourceCaches[d].update(n,this.map.terrain)}_generateCollisionBoxes(){for(const n in this.sourceCaches)this._reloadSource(n)}_updatePlacement(n,d,f,v,D=!1){let O=!1,R=!1;const V={};for(const Z of this._order){const J=this._layers[Z];if("symbol"!==J.type)continue;if(!V[J.source]){const ge=this.sourceCaches[J.source];V[J.source]=ge.getRenderableIds(!0).map(Pe=>ge.getTileByID(Pe)).sort((Pe,Fe)=>Fe.tileID.overscaledZ-Pe.tileID.overscaledZ||(Pe.tileID.isLessThan(Fe.tileID)?-1:1))}const ne=this.crossTileSymbolIndex.addLayer(J,V[J.source],n.center.lng);O=O||ne}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((D=D||this._layerOrderChanged||0===f)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(g.h.now(),n.zoom))&&(this.pauseablePlacement=new ir(n,this.map.terrain,this._order,D,d,f,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(g.h.now()),R=!0),O&&this.pauseablePlacement.placement.setStale()),R||O)for(const Z of this._order){const J=this._layers[Z];"symbol"===J.type&&this.placement.updateLayerOpacities(J,V[J.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(g.h.now())}_releaseSymbolFadeTiles(){for(const n in this.sourceCaches)this.sourceCaches[n].releaseSymbolFadeTiles()}getImages(n,d,f){this.imageManager.getImages(d.icons,f),this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(n,d,f){this.glyphManager.getGlyphs(d.stacks,f);const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,[""])}getResource(n,d,f){return g.m(d,f)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(n,d={}){this._checkLoaded(),n&&this._validate(g.y.glyphs,"glyphs",n,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=n,this.glyphManager.entries={},this.glyphManager.setURL(n))}addSprite(n,d,f={},v){this._checkLoaded();const D=[{id:n,url:d}],O=[...jt(this.stylesheet.sprite),...D];this._validate(g.y.sprite,"sprite",O,null,f)||(this.stylesheet.sprite=O,this._loadSprite(D,!0,v))}removeSprite(n){this._checkLoaded();const d=jt(this.stylesheet.sprite);if(d.find(f=>f.id===n)){if(this._spritesImagesIds[n])for(const f of this._spritesImagesIds[n])this.imageManager.removeImage(f),this._changedImages[f]=!0;d.splice(d.findIndex(f=>f.id===n),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[n],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new g.k("data",{dataType:"style"}))}else this.fire(new g.j(new Error(`Sprite "${n}" doesn't exists on this map.`)))}getSprite(){return jt(this.stylesheet.sprite)}setSprite(n,d={},f){this._checkLoaded(),n&&this._validate(g.y.sprite,"sprite",n,null,d)||(this.stylesheet.sprite=n,n?this._loadSprite(n,!0,f):(this._unloadSprite(),f&&f(null)))}}ji.registerForPluginStateChange=g.aK;var ar=g.Q([{name:"a_pos",type:"Int16",components:2}]),Bi="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const ln={prelude:cn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:cn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:cn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:cn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:cn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:cn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:cn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:cn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:cn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:cn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:cn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:cn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:cn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:cn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:cn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:cn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:cn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:cn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:cn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:cn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:cn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:cn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:cn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:cn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Bi),terrainDepth:cn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Bi),terrainCoords:cn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Bi)};function cn(w,n){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=n.match(/attribute ([\w]+) ([\w]+)/g),v=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=n.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),O=D?D.concat(v):v,R={};return{fragmentSource:w=w.replace(d,(V,Z,J,ne,ge)=>(R[ge]=!0,"define"===Z?`\n#ifndef HAS_UNIFORM_u_${ge}\nvarying ${J} ${ne} ${ge};\n#else\nuniform ${J} ${ne} u_${ge};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${ge}\n    ${J} ${ne} ${ge} = u_${ge};\n#endif\n`)),vertexSource:n=n.replace(d,(V,Z,J,ne,ge)=>{const Pe="float"===ne?"vec2":"vec4",Fe=ge.match(/color/)?"color":Pe;return R[ge]?"define"===Z?`\n#ifndef HAS_UNIFORM_u_${ge}\nuniform lowp float u_${ge}_t;\nattribute ${J} ${Pe} a_${ge};\nvarying ${J} ${ne} ${ge};\n#else\nuniform ${J} ${ne} u_${ge};\n#endif\n`:"vec4"===Fe?`\n#ifndef HAS_UNIFORM_u_${ge}\n    ${ge} = a_${ge};\n#else\n    ${J} ${ne} ${ge} = u_${ge};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${ge}\n    ${ge} = unpack_mix_${Fe}(a_${ge}, u_${ge}_t);\n#else\n    ${J} ${ne} ${ge} = u_${ge};\n#endif\n`:"define"===Z?`\n#ifndef HAS_UNIFORM_u_${ge}\nuniform lowp float u_${ge}_t;\nattribute ${J} ${Pe} a_${ge};\n#else\nuniform ${J} ${ne} u_${ge};\n#endif\n`:"vec4"===Fe?`\n#ifndef HAS_UNIFORM_u_${ge}\n    ${J} ${ne} ${ge} = a_${ge};\n#else\n    ${J} ${ne} ${ge} = u_${ge};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${ge}\n    ${J} ${ne} ${ge} = unpack_mix_${Fe}(a_${ge}, u_${ge}_t);\n#else\n    ${J} ${ne} ${ge} = u_${ge};\n#endif\n`}),staticAttributes:f,staticUniforms:O}}class Un{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(n,d,f,v,D,O,R,V,Z){this.context=n;let J=this.boundPaintVertexBuffers.length!==v.length;for(let ne=0;!J&&ne<v.length;ne++)this.boundPaintVertexBuffers[ne]!==v[ne]&&(J=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==f||J||this.boundIndexBuffer!==D||this.boundVertexOffset!==O||this.boundDynamicVertexBuffer!==R||this.boundDynamicVertexBuffer2!==V||this.boundDynamicVertexBuffer3!==Z?this.freshBind(d,f,v,D,O,R,V,Z):(n.bindVertexArray.set(this.vao),R&&R.bind(),D&&D.dynamicDraw&&D.bind(),V&&V.bind(),Z&&Z.bind())}freshBind(n,d,f,v,D,O,R,V){const Z=n.numAttributes,J=this.context,ne=J.gl;this.vao&&this.destroy(),this.vao=J.createVertexArray(),J.bindVertexArray.set(this.vao),this.boundProgram=n,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=v,this.boundVertexOffset=D,this.boundDynamicVertexBuffer=O,this.boundDynamicVertexBuffer2=R,this.boundDynamicVertexBuffer3=V,d.enableAttributes(ne,n);for(const ge of f)ge.enableAttributes(ne,n);O&&O.enableAttributes(ne,n),R&&R.enableAttributes(ne,n),V&&V.enableAttributes(ne,n),d.bind(),d.setVertexAttribPointers(ne,n,D);for(const ge of f)ge.bind(),ge.setVertexAttribPointers(ne,n,D);O&&(O.bind(),O.setVertexAttribPointers(ne,n,D)),v&&v.bind(),R&&(R.bind(),R.setVertexAttribPointers(ne,n,D)),V&&(V.bind(),V.setVertexAttribPointers(ne,n,D)),J.currentNumAttributes=Z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function bn(w){const n=[];for(let d=0;d<w.length;d++){if(null===w[d])continue;const f=w[d].split(" ");n.push(f.pop())}return n}class Vn{constructor(n,d,f,v,D,O){const R=n.gl;this.program=R.createProgram();const V=bn(d.staticAttributes),Z=f?f.getBinderAttributes():[],J=V.concat(Z),ne=ln.prelude.staticUniforms?bn(ln.prelude.staticUniforms):[],ge=d.staticUniforms?bn(d.staticUniforms):[],Pe=f?f.getBinderUniforms():[],Fe=ne.concat(ge).concat(Pe),ze=[];for(const F of Fe)ze.indexOf(F)<0&&ze.push(F);const ke=f?f.defines():[];D&&ke.push("#define OVERDRAW_INSPECTOR;"),O&&ke.push("#define TERRAIN3D;");const gt=ke.concat(ln.prelude.fragmentSource,d.fragmentSource).join("\n"),Rt=ke.concat(ln.prelude.vertexSource,d.vertexSource).join("\n"),T=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);if(R.shaderSource(T,gt),R.compileShader(T),!R.getShaderParameter(T,R.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${R.getShaderInfoLog(T)}`);R.attachShader(this.program,T);const P=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);if(R.shaderSource(P,Rt),R.compileShader(P),!R.getShaderParameter(P,R.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${R.getShaderInfoLog(P)}`);R.attachShader(this.program,P),this.attributes={};const I={};this.numAttributes=J.length;for(let F=0;F<this.numAttributes;F++)J[F]&&(R.bindAttribLocation(this.program,F,J[F]),this.attributes[J[F]]=F);if(R.linkProgram(this.program),!R.getProgramParameter(this.program,R.LINK_STATUS))throw new Error(`Program failed to link: ${R.getProgramInfoLog(this.program)}`);R.deleteShader(P),R.deleteShader(T);for(let F=0;F<ze.length;F++){const $=ze[F];if($&&!I[$]){const se=R.getUniformLocation(this.program,$);se&&(I[$]=se)}}var F,$;this.fixedUniforms=v(n,I),this.terrainUniforms={u_depth:new g.aL(F=n,($=I).u_depth),u_terrain:new g.aL(F,$.u_terrain),u_terrain_dim:new g.aM(F,$.u_terrain_dim),u_terrain_matrix:new g.aN(F,$.u_terrain_matrix),u_terrain_unpack:new g.aO(F,$.u_terrain_unpack),u_terrain_exaggeration:new g.aM(F,$.u_terrain_exaggeration)},this.binderUniforms=f?f.getUniforms(n,I):[]}draw(n,d,f,v,D,O,R,V,Z,J,ne,ge,Pe,Fe,ze,ke,gt,Rt){const T=n.gl;if(this.failedToCreate)return;if(n.program.set(this.program),n.setDepthMode(f),n.setStencilMode(v),n.setColorMode(D),n.setCullFace(O),V){n.activeTexture.set(T.TEXTURE2),T.bindTexture(T.TEXTURE_2D,V.depthTexture),n.activeTexture.set(T.TEXTURE3),T.bindTexture(T.TEXTURE_2D,V.texture);for(const I in this.terrainUniforms)this.terrainUniforms[I].set(V[I])}for(const I in this.fixedUniforms)this.fixedUniforms[I].set(R[I]);ze&&ze.setUniforms(n,this.binderUniforms,Pe,{zoom:Fe});let P=0;switch(d){case T.LINES:P=2;break;case T.TRIANGLES:P=3;break;case T.LINE_STRIP:P=1}for(const I of ge.get()){const F=I.vaos||(I.vaos={});(F[Z]||(F[Z]=new Un)).bind(n,this,J,ze?ze.getPaintVertexBuffers():[],ne,I.vertexOffset,ke,gt,Rt),T.drawElements(d,I.primitiveLength*P,T.UNSIGNED_SHORT,I.primitiveOffset*P*2)}}}function Ji(w,n,d){const f=1/G(d,1,n.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),D=d.tileSize*Math.pow(2,n.transform.tileZoom)/v,O=D*(d.tileID.canonical.x+d.tileID.wrap*v),R=D*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[f,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[O>>16,R>>16],u_pixel_coord_lower:[65535&O,65535&R]}}const Vr=(w,n,d,f)=>{const v=n.style.light,D=v.properties.get("position"),O=[D.x,D.y,D.z],R=(Z=new g.A(9),g.A!=Float32Array&&(Z[1]=0,Z[2]=0,Z[3]=0,Z[5]=0,Z[6]=0,Z[7]=0),Z[0]=1,Z[4]=1,Z[8]=1,Z);var Z;"viewport"===v.properties.get("anchor")&&function(Z,J){var ne=Math.sin(J),ge=Math.cos(J);Z[0]=ge,Z[1]=ne,Z[2]=0,Z[3]=-ne,Z[4]=ge,Z[5]=0,Z[6]=0,Z[7]=0,Z[8]=1}(R,-n.transform.angle),function(Z,J,ne){var ge=J[0],Pe=J[1],Fe=J[2];Z[0]=ge*ne[0]+Pe*ne[3]+Fe*ne[6],Z[1]=ge*ne[1]+Pe*ne[4]+Fe*ne[7],Z[2]=ge*ne[2]+Pe*ne[5]+Fe*ne[8]}(O,O,R);const V=v.properties.get("color");return{u_matrix:w,u_lightpos:O,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[V.r,V.g,V.b],u_vertical_gradient:+d,u_opacity:f}},Kr=(w,n,d,f,v,D,O)=>g.e(Vr(w,n,d,f),Ji(D,n,O),{u_height_factor:-Math.pow(2,v.overscaledZ)/O.tileSize/8}),mn=w=>({u_matrix:w}),No=(w,n,d,f)=>g.e(mn(w),Ji(d,n,f)),Qo=(w,n)=>({u_matrix:w,u_world:n}),bo=(w,n,d,f,v)=>g.e(No(w,n,d,f),{u_world:v}),ho=(w,n,d,f)=>{const v=w.transform;let D,O;if("map"===f.paint.get("circle-pitch-alignment")){const R=G(d,1,v.zoom);D=!0,O=[R,R]}else D=!1,O=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+("map"===f.paint.get("circle-pitch-scale")),u_matrix:w.translatePosMatrix(n.posMatrix,d,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+D,u_device_pixel_ratio:w.pixelRatio,u_extrude_scale:O}},ha=(w,n,d)=>{const f=G(d,1,n.zoom),v=Math.pow(2,n.zoom-d.tileID.overscaledZ),D=d.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:n.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[n.pixelsToGLUnits[0]/(f*v),n.pixelsToGLUnits[1]/(f*v)],u_overscale_factor:D}},Rs=(w,n,d=1)=>({u_matrix:w,u_color:n,u_overlay:0,u_overlay_scale:d}),Zl=w=>({u_matrix:w}),zo=(w,n,d,f)=>({u_matrix:w,u_extrude_scale:G(n,1,d),u_intensity:f});function Al(w,n){const d=Math.pow(2,n.canonical.z),f=n.canonical.y;return[new g.U(0,f/d).toLngLat().lat,new g.U(0,(f+1)/d).toLngLat().lat]}const Ys=(w,n,d,f)=>{const v=w.transform;return{u_matrix:Ma(w,n,d,f),u_ratio:1/G(n,1,v.zoom),u_device_pixel_ratio:w.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},$a=(w,n,d,f,v)=>g.e(Ys(w,n,d,v),{u_image:0,u_image_height:f}),Da=(w,n,d,f,v)=>{const D=w.transform,O=fs(n,D);return{u_matrix:Ma(w,n,d,v),u_texsize:n.imageAtlasTexture.size,u_ratio:1/G(n,1,D.zoom),u_device_pixel_ratio:w.pixelRatio,u_image:0,u_scale:[O,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]]}},Sa=(w,n,d,f,v,D)=>{const O=w.lineAtlas,R=fs(n,w.transform),V="round"===d.layout.get("line-cap"),Z=O.getDash(f.from,V),J=O.getDash(f.to,V),ne=Z.width*v.fromScale,ge=J.width*v.toScale;return g.e(Ys(w,n,d,D),{u_patternscale_a:[R/ne,-Z.height/2],u_patternscale_b:[R/ge,-J.height/2],u_sdfgamma:O.width/(256*Math.min(ne,ge)*w.pixelRatio)/2,u_image:0,u_tex_y_a:Z.y,u_tex_y_b:J.y,u_mix:v.t})};function fs(w,n){return 1/G(w,1,n.tileZoom)}function Ma(w,n,d,f){return w.translatePosMatrix(f?f.posMatrix:n.tileID.posMatrix,n,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ga=(w,n,d,f,v)=>{return{u_matrix:w,u_tl_parent:n,u_scale_parent:d,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(O=v.paint.get("raster-saturation"),O>0?1-1/(1.001-O):-O),u_contrast_factor:(D=v.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:ma(v.paint.get("raster-hue-rotate"))};var D,O};function ma(w){w*=Math.PI/180;const n=Math.sin(w),d=Math.cos(w);return[(2*d+1)/3,(-Math.sqrt(3)*n-d+1)/3,(Math.sqrt(3)*n-d+1)/3]}const io=(w,n,d,f,v,D,O,R,V,Z)=>{const J=v.transform;return{u_is_size_zoom_constant:+("constant"===w||"source"===w),u_is_size_feature_constant:+("constant"===w||"camera"===w),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:J.cameraToCenterDistance,u_pitch:J.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:J.width/J.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:D,u_label_plane_matrix:O,u_coord_matrix:R,u_is_text:+V,u_pitch_with_map:+f,u_texsize:Z,u_texture:0}},Bo=(w,n,d,f,v,D,O,R,V,Z,J)=>{const ne=v.transform;return g.e(io(w,n,d,f,v,D,O,R,V,Z),{u_gamma_scale:f?Math.cos(ne._pitch)*ne.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+J})},Fs=(w,n,d,f,v,D,O,R,V,Z)=>g.e(Bo(w,n,d,f,v,D,O,R,!0,V,!0),{u_texsize_icon:Z,u_texture_icon:1}),Vo=(w,n,d)=>({u_matrix:w,u_opacity:n,u_color:d}),mo=(w,n,d,f,v,D)=>g.e(function(O,R,V,Z){const J=V.imageManager.getPattern(O.from.toString()),ne=V.imageManager.getPattern(O.to.toString()),{width:ge,height:Pe}=V.imageManager.getPixelSize(),Fe=Math.pow(2,Z.tileID.overscaledZ),ze=Z.tileSize*Math.pow(2,V.transform.tileZoom)/Fe,ke=ze*(Z.tileID.canonical.x+Z.tileID.wrap*Fe),gt=ze*Z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:J.tl,u_pattern_br_a:J.br,u_pattern_tl_b:ne.tl,u_pattern_br_b:ne.br,u_texsize:[ge,Pe],u_mix:R.t,u_pattern_size_a:J.displaySize,u_pattern_size_b:ne.displaySize,u_scale_a:R.fromScale,u_scale_b:R.toScale,u_tile_units_to_pixels:1/G(Z,1,V.transform.tileZoom),u_pixel_coord_upper:[ke>>16,gt>>16],u_pixel_coord_lower:[65535&ke,65535&gt]}}(f,D,d,v),{u_matrix:w,u_opacity:n}),yr={fillExtrusion:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_lightpos:new g.aP(w,n.u_lightpos),u_lightintensity:new g.aM(w,n.u_lightintensity),u_lightcolor:new g.aP(w,n.u_lightcolor),u_vertical_gradient:new g.aM(w,n.u_vertical_gradient),u_opacity:new g.aM(w,n.u_opacity)}),fillExtrusionPattern:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_lightpos:new g.aP(w,n.u_lightpos),u_lightintensity:new g.aM(w,n.u_lightintensity),u_lightcolor:new g.aP(w,n.u_lightcolor),u_vertical_gradient:new g.aM(w,n.u_vertical_gradient),u_height_factor:new g.aM(w,n.u_height_factor),u_image:new g.aL(w,n.u_image),u_texsize:new g.aQ(w,n.u_texsize),u_pixel_coord_upper:new g.aQ(w,n.u_pixel_coord_upper),u_pixel_coord_lower:new g.aQ(w,n.u_pixel_coord_lower),u_scale:new g.aP(w,n.u_scale),u_fade:new g.aM(w,n.u_fade),u_opacity:new g.aM(w,n.u_opacity)}),fill:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix)}),fillPattern:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_image:new g.aL(w,n.u_image),u_texsize:new g.aQ(w,n.u_texsize),u_pixel_coord_upper:new g.aQ(w,n.u_pixel_coord_upper),u_pixel_coord_lower:new g.aQ(w,n.u_pixel_coord_lower),u_scale:new g.aP(w,n.u_scale),u_fade:new g.aM(w,n.u_fade)}),fillOutline:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_world:new g.aQ(w,n.u_world)}),fillOutlinePattern:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_world:new g.aQ(w,n.u_world),u_image:new g.aL(w,n.u_image),u_texsize:new g.aQ(w,n.u_texsize),u_pixel_coord_upper:new g.aQ(w,n.u_pixel_coord_upper),u_pixel_coord_lower:new g.aQ(w,n.u_pixel_coord_lower),u_scale:new g.aP(w,n.u_scale),u_fade:new g.aM(w,n.u_fade)}),circle:(w,n)=>({u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_scale_with_map:new g.aL(w,n.u_scale_with_map),u_pitch_with_map:new g.aL(w,n.u_pitch_with_map),u_extrude_scale:new g.aQ(w,n.u_extrude_scale),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_matrix:new g.aN(w,n.u_matrix)}),collisionBox:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_pixels_to_tile_units:new g.aM(w,n.u_pixels_to_tile_units),u_extrude_scale:new g.aQ(w,n.u_extrude_scale),u_overscale_factor:new g.aM(w,n.u_overscale_factor)}),collisionCircle:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_inv_matrix:new g.aN(w,n.u_inv_matrix),u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_viewport_size:new g.aQ(w,n.u_viewport_size)}),debug:(w,n)=>({u_color:new g.aR(w,n.u_color),u_matrix:new g.aN(w,n.u_matrix),u_overlay:new g.aL(w,n.u_overlay),u_overlay_scale:new g.aM(w,n.u_overlay_scale)}),clippingMask:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix)}),heatmap:(w,n)=>({u_extrude_scale:new g.aM(w,n.u_extrude_scale),u_intensity:new g.aM(w,n.u_intensity),u_matrix:new g.aN(w,n.u_matrix)}),heatmapTexture:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_world:new g.aQ(w,n.u_world),u_image:new g.aL(w,n.u_image),u_color_ramp:new g.aL(w,n.u_color_ramp),u_opacity:new g.aM(w,n.u_opacity)}),hillshade:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_image:new g.aL(w,n.u_image),u_latrange:new g.aQ(w,n.u_latrange),u_light:new g.aQ(w,n.u_light),u_shadow:new g.aR(w,n.u_shadow),u_highlight:new g.aR(w,n.u_highlight),u_accent:new g.aR(w,n.u_accent)}),hillshadePrepare:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_image:new g.aL(w,n.u_image),u_dimension:new g.aQ(w,n.u_dimension),u_zoom:new g.aM(w,n.u_zoom),u_unpack:new g.aO(w,n.u_unpack)}),line:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_ratio:new g.aM(w,n.u_ratio),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_units_to_pixels:new g.aQ(w,n.u_units_to_pixels)}),lineGradient:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_ratio:new g.aM(w,n.u_ratio),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_units_to_pixels:new g.aQ(w,n.u_units_to_pixels),u_image:new g.aL(w,n.u_image),u_image_height:new g.aM(w,n.u_image_height)}),linePattern:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_texsize:new g.aQ(w,n.u_texsize),u_ratio:new g.aM(w,n.u_ratio),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_image:new g.aL(w,n.u_image),u_units_to_pixels:new g.aQ(w,n.u_units_to_pixels),u_scale:new g.aP(w,n.u_scale),u_fade:new g.aM(w,n.u_fade)}),lineSDF:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_ratio:new g.aM(w,n.u_ratio),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_units_to_pixels:new g.aQ(w,n.u_units_to_pixels),u_patternscale_a:new g.aQ(w,n.u_patternscale_a),u_patternscale_b:new g.aQ(w,n.u_patternscale_b),u_sdfgamma:new g.aM(w,n.u_sdfgamma),u_image:new g.aL(w,n.u_image),u_tex_y_a:new g.aM(w,n.u_tex_y_a),u_tex_y_b:new g.aM(w,n.u_tex_y_b),u_mix:new g.aM(w,n.u_mix)}),raster:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_tl_parent:new g.aQ(w,n.u_tl_parent),u_scale_parent:new g.aM(w,n.u_scale_parent),u_buffer_scale:new g.aM(w,n.u_buffer_scale),u_fade_t:new g.aM(w,n.u_fade_t),u_opacity:new g.aM(w,n.u_opacity),u_image0:new g.aL(w,n.u_image0),u_image1:new g.aL(w,n.u_image1),u_brightness_low:new g.aM(w,n.u_brightness_low),u_brightness_high:new g.aM(w,n.u_brightness_high),u_saturation_factor:new g.aM(w,n.u_saturation_factor),u_contrast_factor:new g.aM(w,n.u_contrast_factor),u_spin_weights:new g.aP(w,n.u_spin_weights)}),symbolIcon:(w,n)=>({u_is_size_zoom_constant:new g.aL(w,n.u_is_size_zoom_constant),u_is_size_feature_constant:new g.aL(w,n.u_is_size_feature_constant),u_size_t:new g.aM(w,n.u_size_t),u_size:new g.aM(w,n.u_size),u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_pitch:new g.aM(w,n.u_pitch),u_rotate_symbol:new g.aL(w,n.u_rotate_symbol),u_aspect_ratio:new g.aM(w,n.u_aspect_ratio),u_fade_change:new g.aM(w,n.u_fade_change),u_matrix:new g.aN(w,n.u_matrix),u_label_plane_matrix:new g.aN(w,n.u_label_plane_matrix),u_coord_matrix:new g.aN(w,n.u_coord_matrix),u_is_text:new g.aL(w,n.u_is_text),u_pitch_with_map:new g.aL(w,n.u_pitch_with_map),u_texsize:new g.aQ(w,n.u_texsize),u_texture:new g.aL(w,n.u_texture)}),symbolSDF:(w,n)=>({u_is_size_zoom_constant:new g.aL(w,n.u_is_size_zoom_constant),u_is_size_feature_constant:new g.aL(w,n.u_is_size_feature_constant),u_size_t:new g.aM(w,n.u_size_t),u_size:new g.aM(w,n.u_size),u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_pitch:new g.aM(w,n.u_pitch),u_rotate_symbol:new g.aL(w,n.u_rotate_symbol),u_aspect_ratio:new g.aM(w,n.u_aspect_ratio),u_fade_change:new g.aM(w,n.u_fade_change),u_matrix:new g.aN(w,n.u_matrix),u_label_plane_matrix:new g.aN(w,n.u_label_plane_matrix),u_coord_matrix:new g.aN(w,n.u_coord_matrix),u_is_text:new g.aL(w,n.u_is_text),u_pitch_with_map:new g.aL(w,n.u_pitch_with_map),u_texsize:new g.aQ(w,n.u_texsize),u_texture:new g.aL(w,n.u_texture),u_gamma_scale:new g.aM(w,n.u_gamma_scale),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_is_halo:new g.aL(w,n.u_is_halo)}),symbolTextAndIcon:(w,n)=>({u_is_size_zoom_constant:new g.aL(w,n.u_is_size_zoom_constant),u_is_size_feature_constant:new g.aL(w,n.u_is_size_feature_constant),u_size_t:new g.aM(w,n.u_size_t),u_size:new g.aM(w,n.u_size),u_camera_to_center_distance:new g.aM(w,n.u_camera_to_center_distance),u_pitch:new g.aM(w,n.u_pitch),u_rotate_symbol:new g.aL(w,n.u_rotate_symbol),u_aspect_ratio:new g.aM(w,n.u_aspect_ratio),u_fade_change:new g.aM(w,n.u_fade_change),u_matrix:new g.aN(w,n.u_matrix),u_label_plane_matrix:new g.aN(w,n.u_label_plane_matrix),u_coord_matrix:new g.aN(w,n.u_coord_matrix),u_is_text:new g.aL(w,n.u_is_text),u_pitch_with_map:new g.aL(w,n.u_pitch_with_map),u_texsize:new g.aQ(w,n.u_texsize),u_texsize_icon:new g.aQ(w,n.u_texsize_icon),u_texture:new g.aL(w,n.u_texture),u_texture_icon:new g.aL(w,n.u_texture_icon),u_gamma_scale:new g.aM(w,n.u_gamma_scale),u_device_pixel_ratio:new g.aM(w,n.u_device_pixel_ratio),u_is_halo:new g.aL(w,n.u_is_halo)}),background:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_opacity:new g.aM(w,n.u_opacity),u_color:new g.aR(w,n.u_color)}),backgroundPattern:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_opacity:new g.aM(w,n.u_opacity),u_image:new g.aL(w,n.u_image),u_pattern_tl_a:new g.aQ(w,n.u_pattern_tl_a),u_pattern_br_a:new g.aQ(w,n.u_pattern_br_a),u_pattern_tl_b:new g.aQ(w,n.u_pattern_tl_b),u_pattern_br_b:new g.aQ(w,n.u_pattern_br_b),u_texsize:new g.aQ(w,n.u_texsize),u_mix:new g.aM(w,n.u_mix),u_pattern_size_a:new g.aQ(w,n.u_pattern_size_a),u_pattern_size_b:new g.aQ(w,n.u_pattern_size_b),u_scale_a:new g.aM(w,n.u_scale_a),u_scale_b:new g.aM(w,n.u_scale_b),u_pixel_coord_upper:new g.aQ(w,n.u_pixel_coord_upper),u_pixel_coord_lower:new g.aQ(w,n.u_pixel_coord_lower),u_tile_units_to_pixels:new g.aM(w,n.u_tile_units_to_pixels)}),terrain:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_texture:new g.aL(w,n.u_texture),u_ele_delta:new g.aM(w,n.u_ele_delta)}),terrainDepth:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_ele_delta:new g.aM(w,n.u_ele_delta)}),terrainCoords:(w,n)=>({u_matrix:new g.aN(w,n.u_matrix),u_texture:new g.aL(w,n.u_texture),u_terrain_coords_id:new g.aM(w,n.u_terrain_coords_id),u_ele_delta:new g.aM(w,n.u_ele_delta)})};class Ls{constructor(n,d,f){this.context=n;const v=n.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(n){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const jn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Jo{constructor(n,d,f,v){this.length=d.length,this.attributes=f,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=n;const D=n.gl;this.buffer=D.createBuffer(),n.bindVertexBuffer.set(this.buffer),D.bufferData(D.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(n){if(n.length!==this.length)throw new Error(`Length of new data is ${n.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,n.arrayBuffer)}enableAttributes(n,d){for(let f=0;f<this.attributes.length;f++){const v=d.attributes[this.attributes[f].name];void 0!==v&&n.enableVertexAttribArray(v)}}setVertexAttribPointers(n,d,f){for(let v=0;v<this.attributes.length;v++){const D=this.attributes[v],O=d.attributes[D.name];void 0!==O&&n.vertexAttribPointer(O,D.components,n[jn[D.type]],!1,this.itemSize,D.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const es=new WeakMap;function xo(w){var n;if(es.has(w))return es.get(w);{const d=null===(n=w.getParameter(w.VERSION))||void 0===n?void 0:n.startsWith("WebGL 2.0");return es.set(w,d),d}}class Pn{constructor(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(n){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ta extends Pn{getDefault(){return g.aT.transparent}set(n){const d=this.current;(n.r!==d.r||n.g!==d.g||n.b!==d.b||n.a!==d.a||this.dirty)&&(this.gl.clearColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class Xr extends Pn{getDefault(){return 1}set(n){(n!==this.current||this.dirty)&&(this.gl.clearDepth(n),this.current=n,this.dirty=!1)}}class vr extends Pn{getDefault(){return 0}set(n){(n!==this.current||this.dirty)&&(this.gl.clearStencil(n),this.current=n,this.dirty=!1)}}class gs extends Pn{getDefault(){return[!0,!0,!0,!0]}set(n){const d=this.current;(n[0]!==d[0]||n[1]!==d[1]||n[2]!==d[2]||n[3]!==d[3]||this.dirty)&&(this.gl.colorMask(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class Io extends Pn{getDefault(){return!0}set(n){(n!==this.current||this.dirty)&&(this.gl.depthMask(n),this.current=n,this.dirty=!1)}}class Ao extends Pn{getDefault(){return 255}set(n){(n!==this.current||this.dirty)&&(this.gl.stencilMask(n),this.current=n,this.dirty=!1)}}class $n extends Pn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(n){const d=this.current;(n.func!==d.func||n.ref!==d.ref||n.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(n.func,n.ref,n.mask),this.current=n,this.dirty=!1)}}class Ns extends Pn{getDefault(){const n=this.gl;return[n.KEEP,n.KEEP,n.KEEP]}set(n){const d=this.current;(n[0]!==d[0]||n[1]!==d[1]||n[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(n[0],n[1],n[2]),this.current=n,this.dirty=!1)}}class po extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;n?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=n,this.dirty=!1}}class Ks extends Pn{getDefault(){return[0,1]}set(n){const d=this.current;(n[0]!==d[0]||n[1]!==d[1]||this.dirty)&&(this.gl.depthRange(n[0],n[1]),this.current=n,this.dirty=!1)}}class _s extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;n?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=n,this.dirty=!1}}class Uo extends Pn{getDefault(){return this.gl.LESS}set(n){(n!==this.current||this.dirty)&&(this.gl.depthFunc(n),this.current=n,this.dirty=!1)}}class Za extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;n?d.enable(d.BLEND):d.disable(d.BLEND),this.current=n,this.dirty=!1}}class Xs extends Pn{getDefault(){const n=this.gl;return[n.ONE,n.ZERO]}set(n){const d=this.current;(n[0]!==d[0]||n[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(n[0],n[1]),this.current=n,this.dirty=!1)}}class Qs extends Pn{getDefault(){return g.aT.transparent}set(n){const d=this.current;(n.r!==d.r||n.g!==d.g||n.b!==d.b||n.a!==d.a||this.dirty)&&(this.gl.blendColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class kl extends Pn{getDefault(){return this.gl.FUNC_ADD}set(n){(n!==this.current||this.dirty)&&(this.gl.blendEquation(n),this.current=n,this.dirty=!1)}}class _c extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;n?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=n,this.dirty=!1}}class ul extends Pn{getDefault(){return this.gl.BACK}set(n){(n!==this.current||this.dirty)&&(this.gl.cullFace(n),this.current=n,this.dirty=!1)}}class ys extends Pn{getDefault(){return this.gl.CCW}set(n){(n!==this.current||this.dirty)&&(this.gl.frontFace(n),this.current=n,this.dirty=!1)}}class Uc extends Pn{getDefault(){return null}set(n){(n!==this.current||this.dirty)&&(this.gl.useProgram(n),this.current=n,this.dirty=!1)}}class hl extends Pn{getDefault(){return this.gl.TEXTURE0}set(n){(n!==this.current||this.dirty)&&(this.gl.activeTexture(n),this.current=n,this.dirty=!1)}}class Wa extends Pn{getDefault(){const n=this.gl;return[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}set(n){const d=this.current;(n[0]!==d[0]||n[1]!==d[1]||n[2]!==d[2]||n[3]!==d[3]||this.dirty)&&(this.gl.viewport(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class no extends Pn{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,n),this.current=n,this.dirty=!1}}class Js extends Pn{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class Ol extends Pn{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,n),this.current=n,this.dirty=!1}}class vs extends Pn{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class jo extends Pn{getDefault(){return null}set(n){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class Ia extends Pn{getDefault(){return null}set(n){var d;if(n===this.current&&!this.dirty)return;const f=this.gl;xo(f)?f.bindVertexArray(n):null===(d=f.getExtension("OES_vertex_array_object"))||void 0===d||d.bindVertexArrayOES(n),this.current=n,this.dirty=!1}}class ea extends Pn{getDefault(){return 4}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,n),this.current=n,this.dirty=!1}}class ts extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),this.current=n,this.dirty=!1}}class yc extends Pn{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,n),this.current=n,this.dirty=!1}}class pa extends Pn{constructor(n,d){super(n),this.context=n,this.parent=d}getDefault(){return null}}class zs extends pa{setDirty(){this.dirty=!0}set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n,0),this.current=n,this.dirty=!1}}class qa extends pa{set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class Ya extends pa{set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class Yn{constructor(n,d,f,v,D){this.context=n,this.width=d,this.height=f;const O=n.gl,R=this.framebuffer=O.createFramebuffer();if(this.colorAttachment=new zs(n,R),v)this.depthAttachment=D?new Ya(n,R):new qa(n,R);else if(D)throw new Error("Stencil cannot be setted without depth");if(O.checkFramebufferStatus(O.FRAMEBUFFER)!==O.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const n=this.context.gl,d=this.colorAttachment.get();if(d&&n.deleteTexture(d),this.depthAttachment){const f=this.depthAttachment.get();f&&n.deleteRenderbuffer(f)}n.deleteFramebuffer(this.framebuffer)}}class en{constructor(n,d,f){this.blendFunction=n,this.blendColor=d,this.mask=f}}en.Replace=[1,0],en.disabled=new en(en.Replace,g.aT.transparent,[!1,!1,!1,!1]),en.unblended=new en(en.Replace,g.aT.transparent,[!0,!0,!0,!0]),en.alphaBlended=new en([1,771],g.aT.transparent,[!0,!0,!0,!0]);class zr{constructor(n){var d,f;if(this.gl=n,this.clearColor=new Ta(this),this.clearDepth=new Xr(this),this.clearStencil=new vr(this),this.colorMask=new gs(this),this.depthMask=new Io(this),this.stencilMask=new Ao(this),this.stencilFunc=new $n(this),this.stencilOp=new Ns(this),this.stencilTest=new po(this),this.depthRange=new Ks(this),this.depthTest=new _s(this),this.depthFunc=new Uo(this),this.blend=new Za(this),this.blendFunc=new Xs(this),this.blendColor=new Qs(this),this.blendEquation=new kl(this),this.cullFace=new _c(this),this.cullFaceSide=new ul(this),this.frontFace=new ys(this),this.program=new Uc(this),this.activeTexture=new hl(this),this.viewport=new Wa(this),this.bindFramebuffer=new no(this),this.bindRenderbuffer=new Js(this),this.bindTexture=new Ol(this),this.bindVertexBuffer=new vs(this),this.bindElementBuffer=new jo(this),this.bindVertexArray=new Ia(this),this.pixelStoreUnpack=new ea(this),this.pixelStoreUnpackPremultiplyAlpha=new ts(this),this.pixelStoreUnpackFlipY=new yc(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),xo(n)){this.HALF_FLOAT=n.HALF_FLOAT;const v=n.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(d=n.RGBA16F)&&void 0!==d?d:v?.RGBA16F_EXT,this.RGB16F=null!==(f=n.RGB16F)&&void 0!==f?f:v?.RGB16F_EXT,n.getExtension("EXT_color_buffer_float")}else{n.getExtension("EXT_color_buffer_half_float"),n.getExtension("OES_texture_half_float_linear");const v=n.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(n,d){return new Ls(this,n,d)}createVertexBuffer(n,d,f){return new Jo(this,n,d,f)}createRenderbuffer(n,d,f){const v=this.gl,D=v.createRenderbuffer();return this.bindRenderbuffer.set(D),v.renderbufferStorage(v.RENDERBUFFER,n,d,f),this.bindRenderbuffer.set(null),D}createFramebuffer(n,d,f,v){return new Yn(this,n,d,f,v)}clear({color:n,depth:d,stencil:f}){const v=this.gl;let D=0;n&&(D|=v.COLOR_BUFFER_BIT,this.clearColor.set(n),this.colorMask.set([!0,!0,!0,!0])),void 0!==d&&(D|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),void 0!==f&&(D|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),v.clear(D)}setCullFace(n){!1===n.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))}setDepthMode(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)}setStencilMode(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)}setColorMode(n){g.aG(n.blendFunction,en.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}createVertexArray(){var n;return xo(this.gl)?this.gl.createVertexArray():null===(n=this.gl.getExtension("OES_vertex_array_object"))||void 0===n?void 0:n.createVertexArrayOES()}deleteVertexArray(n){var d;return xo(this.gl)?this.gl.deleteVertexArray(n):null===(d=this.gl.getExtension("OES_vertex_array_object"))||void 0===d?void 0:d.deleteVertexArrayOES(n)}unbindVAO(){this.bindVertexArray.set(null)}}class fn{constructor(n,d,f){this.func=n,this.mask=d,this.range=f}}fn.ReadOnly=!1,fn.ReadWrite=!0,fn.disabled=new fn(519,fn.ReadOnly,[0,1]);class kn{constructor(n,d,f,v,D,O){this.test=n,this.ref=d,this.mask=f,this.fail=v,this.depthFail=D,this.pass=O}}kn.disabled=new kn({func:519,mask:0},0,0,7680,7680,7680);class cr{constructor(n,d,f){this.enable=n,this.mode=d,this.frontFace=f}}let Ka;function Pl(w,n,d,f,v,D,O){const R=w.context,V=R.gl,Z=w.useProgram("collisionBox"),J=[];let ne=0,ge=0;for(let T=0;T<f.length;T++){const P=f[T],I=n.getTile(P),F=I.getBucket(d);if(!F)continue;let $=P.posMatrix;0===v[0]&&0===v[1]||($=w.translatePosMatrix(P.posMatrix,I,v,D));const se=O?F.textCollisionBox:F.iconCollisionBox,be=F.collisionCircleArray;if(be.length>0){const Qe=g.Z(),st=$;g.aU(Qe,F.placementInvProjMatrix,w.transform.glCoordMatrix),g.aU(Qe,Qe,F.placementViewportMatrix),J.push({circleArray:be,circleOffset:ge,transform:st,invTransform:Qe,coord:P}),ne+=be.length/4,ge=ne}se&&Z.draw(R,V.LINES,fn.disabled,kn.disabled,w.colorModeForRenderPass(),cr.disabled,ha($,w.transform,I),w.style.map.terrain&&w.style.map.terrain.getTerrainData(P),d.id,se.layoutVertexBuffer,se.indexBuffer,se.segments,null,w.transform.zoom,null,null,se.collisionVertexBuffer)}if(!O||!J.length)return;const Pe=w.useProgram("collisionCircle"),Fe=new g.aV;Fe.resize(4*ne),Fe._trim();let ze=0;for(const T of J)for(let P=0;P<T.circleArray.length/4;P++){const I=4*P,F=T.circleArray[I+0],$=T.circleArray[I+1],se=T.circleArray[I+2],be=T.circleArray[I+3];Fe.emplace(ze++,F,$,se,be,0),Fe.emplace(ze++,F,$,se,be,1),Fe.emplace(ze++,F,$,se,be,2),Fe.emplace(ze++,F,$,se,be,3)}(!Ka||Ka.length<2*ne)&&(Ka=function(T){const P=2*T,I=new g.aX;I.resize(P),I._trim();for(let F=0;F<P;F++){const $=6*F;I.uint16[$+0]=4*F+0,I.uint16[$+1]=4*F+1,I.uint16[$+2]=4*F+2,I.uint16[$+3]=4*F+2,I.uint16[$+4]=4*F+3,I.uint16[$+5]=4*F+0}return I}(ne));const ke=R.createIndexBuffer(Ka,!0),gt=R.createVertexBuffer(Fe,g.aW.members,!0);for(const T of J){const P={u_matrix:T.transform,u_inv_matrix:T.invTransform,u_camera_to_center_distance:(Rt=w.transform).cameraToCenterDistance,u_viewport_size:[Rt.width,Rt.height]};Pe.draw(R,V.TRIANGLES,fn.disabled,kn.disabled,w.colorModeForRenderPass(),cr.disabled,P,w.style.map.terrain&&w.style.map.terrain.getTerrainData(T.coord),d.id,gt,ke,g.S.simpleSegment(0,2*T.circleOffset,T.circleArray.length,T.circleArray.length/2),null,w.transform.zoom,null,null,null)}var Rt;gt.destroy(),ke.destroy()}cr.disabled=new cr(!1,1029,2305),cr.backCCW=new cr(!0,1029,2305);const ae=g.ao(new Float32Array(16));function oe(w,n,d,f,v,D){const{horizontalAlign:O,verticalAlign:R}=g.au(w);return new g.P((-(O-.5)*n/v+f[0])*D,(-(R-.5)*d/v+f[1])*D)}function H(w,n,d,f,v,D,O,R,V,Z,J){const ne=w.text.placedSymbolArray,ge=w.text.dynamicLayoutVertexArray,Pe=w.icon.dynamicLayoutVertexArray,Fe={};ge.clear();for(let ze=0;ze<ne.length;ze++){const ke=ne.get(ze),gt=ke.hidden||!ke.crossTileID||w.allowVerticalPlacement&&!ke.placedOrientation?null:f[ke.crossTileID];if(gt){const Rt=new g.P(ke.anchorX,ke.anchorY),T=Wt(Rt,d?O:D,J),P=ci(v.cameraToCenterDistance,T.signedDistanceFromCamera);let I=g.aj(w.textSizeData,V,ke)*P/g.ap;d&&(I*=w.tilePixelRatio/R);const{width:F,height:$,anchor:se,textOffset:be,textBoxScale:Qe}=gt,st=oe(se,F,$,be,Qe,I),oi=d?Wt(Rt.add(st),D,J).point:T.point.add(n?st.rotate(-v.angle):st),Jt=w.allowVerticalPlacement&&ke.placedOrientation===g.ai.vertical?Math.PI/2:0;for(let bi=0;bi<ke.numGlyphs;bi++)g.ak(ge,oi,Jt);Z&&ke.associatedIconIndex>=0&&(Fe[ke.associatedIconIndex]={shiftedAnchor:oi,angle:Jt})}else ve(ke.numGlyphs,ge)}if(Z){Pe.clear();const ze=w.icon.placedSymbolArray;for(let ke=0;ke<ze.length;ke++){const gt=ze.get(ke);if(gt.hidden)ve(gt.numGlyphs,Pe);else{const Rt=Fe[ke];if(Rt)for(let T=0;T<gt.numGlyphs;T++)g.ak(Pe,Rt.shiftedAnchor,Rt.angle);else ve(gt.numGlyphs,Pe)}}w.icon.dynamicLayoutVertexBuffer.updateData(Pe)}w.text.dynamicLayoutVertexBuffer.updateData(ge)}function ce(w,n,d){return d.iconsInText&&n?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function He(w,n,d,f,v,D,O,R,V,Z,J,ne){const ge=w.context,Pe=ge.gl,Fe=w.transform,ze="map"===R,ke="map"===V,gt="viewport"!==R&&"point"!==d.layout.get("symbol-placement"),Rt=ze&&!ke&&!gt,T=!d.layout.get("symbol-sort-key").isConstant();let P=!1;const I=w.depthModeForSublayer(0,fn.ReadOnly),F=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),$=[];for(const se of f){const be=n.getTile(se),Qe=be.getBucket(d);if(!Qe)continue;const st=v?Qe.text:Qe.icon;if(!st||!st.segments.get().length||!st.hasVisibleVertices)continue;const oi=st.programConfigurations.get(d.id),Jt=v||Qe.sdfIcons,bi=v?Qe.textSizeData:Qe.iconSizeData,Ai=ke||0!==Fe.pitch,er=w.useProgram(ce(Jt,v,Qe),oi),Rn=g.ah(bi,Fe.zoom),qi=w.style.map.terrain&&w.style.map.terrain.getTerrainData(se);let An,Cn,Ir,$o,Do=[0,0],oo=null;if(v)Cn=be.glyphAtlasTexture,Ir=Pe.LINEAR,An=be.glyphAtlasTexture.size,Qe.iconsInText&&(Do=be.imageAtlasTexture.size,oo=be.imageAtlasTexture,$o=Ai||w.options.rotating||w.options.zooming||"composite"===bi.kind||"camera"===bi.kind?Pe.LINEAR:Pe.NEAREST);else{const so=1!==d.layout.get("icon-size").constantOr(0)||Qe.iconsNeedLinear;Cn=be.imageAtlasTexture,Ir=Jt||w.options.rotating||w.options.zooming||so||Ai?Pe.LINEAR:Pe.NEAREST,An=be.imageAtlasTexture.size}const aa=G(be,1,w.transform.zoom),Lr=Me(se.posMatrix,ke,ze,w.transform,aa),Ds=Ft(se.posMatrix,ke,ze,w.transform,aa),ls=F&&Qe.hasTextData(),Xl="none"!==d.layout.get("icon-text-fit")&&ls&&Qe.hasIconData();if(gt){const so=w.style.map.terrain?(Zo,ao)=>w.style.map.terrain.getElevation(se,Zo,ao):null,qr="map"===d.layout.get("text-rotation-alignment");St(Qe,se.posMatrix,w,v,Lr,Ds,ke,Z,qr,so)}const yl=w.translatePosMatrix(se.posMatrix,be,D,O),vl=gt||v&&F||Xl?ae:Lr,Po=w.translatePosMatrix(Ds,be,D,O,!0),Ro=Jt&&0!==d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1);let Go;Go=Jt?Qe.iconsInText?Fs(bi.kind,Rn,Rt,ke,w,yl,vl,Po,An,Do):Bo(bi.kind,Rn,Rt,ke,w,yl,vl,Po,v,An,!0):io(bi.kind,Rn,Rt,ke,w,yl,vl,Po,v,An);const Ql={program:er,buffers:st,uniformValues:Go,atlasTexture:Cn,atlasTextureIcon:oo,atlasInterpolation:Ir,atlasInterpolationIcon:$o,isSDF:Jt,hasHalo:Ro};if(T&&Qe.canOverlap){P=!0;const so=st.segments.get();for(const qr of so)$.push({segments:new g.S([qr]),sortKey:qr.sortKey,state:Ql,terrainData:qi})}else $.push({segments:st.segments,sortKey:0,state:Ql,terrainData:qi})}P&&$.sort((se,be)=>se.sortKey-be.sortKey);for(const se of $){const be=se.state;if(ge.activeTexture.set(Pe.TEXTURE0),be.atlasTexture.bind(be.atlasInterpolation,Pe.CLAMP_TO_EDGE),be.atlasTextureIcon&&(ge.activeTexture.set(Pe.TEXTURE1),be.atlasTextureIcon&&be.atlasTextureIcon.bind(be.atlasInterpolationIcon,Pe.CLAMP_TO_EDGE)),be.isSDF){const Qe=be.uniformValues;be.hasHalo&&(Qe.u_is_halo=1,mi(be.buffers,se.segments,d,w,be.program,I,J,ne,Qe,se.terrainData)),Qe.u_is_halo=0}mi(be.buffers,se.segments,d,w,be.program,I,J,ne,be.uniformValues,se.terrainData)}}function mi(w,n,d,f,v,D,O,R,V,Z){const J=f.context;v.draw(J,J.gl.TRIANGLES,D,O,R,cr.disabled,V,Z,d.id,w.layoutVertexBuffer,w.indexBuffer,n,d.paint,f.transform.zoom,w.programConfigurations.get(d.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function _n(w,n,d,f,v){if(!d||!f||!f.imageAtlas)return;const D=f.imageAtlas.patternPositions;let O=D[d.to.toString()],R=D[d.from.toString()];if(!O||!R){const V=v.getPaintProperty(n);O=D[V],R=D[V]}O&&R&&w.setConstantPatternPositions(O,R)}function nr(w,n,d,f,v,D,O){const R=w.context.gl,V="fill-pattern",Z=d.paint.get(V),J=Z&&Z.constantOr(1),ne=d.getCrossfadeParameters();let ge,Pe,Fe,ze,ke;O?(Pe=J&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ge=R.LINES):(Pe=J?"fillPattern":"fill",ge=R.TRIANGLES);const gt=Z.constantOr(null);for(const Rt of f){const T=n.getTile(Rt);if(J&&!T.patternsLoaded())continue;const P=T.getBucket(d);if(!P)continue;const I=P.programConfigurations.get(d.id),F=w.useProgram(Pe,I),$=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Rt);J&&(w.context.activeTexture.set(R.TEXTURE0),T.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),I.updatePaintBuffers(ne)),_n(I,V,gt,T,d);const se=$?Rt:null,be=w.translatePosMatrix(se?se.posMatrix:Rt.posMatrix,T,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(O){ze=P.indexBuffer2,ke=P.segments2;const Qe=[R.drawingBufferWidth,R.drawingBufferHeight];Fe="fillOutlinePattern"===Pe&&J?bo(be,w,ne,T,Qe):Qo(be,Qe)}else ze=P.indexBuffer,ke=P.segments,Fe=J?No(be,w,ne,T):mn(be);F.draw(w.context,ge,v,w.stencilModeForClipping(Rt),D,cr.disabled,Fe,$,d.id,P.layoutVertexBuffer,ze,ke,d.paint,w.transform.zoom,I)}}function Pr(w,n,d,f,v,D,O){const R=w.context,V=R.gl,Z="fill-extrusion-pattern",J=d.paint.get(Z),ne=J.constantOr(1),ge=d.getCrossfadeParameters(),Pe=d.paint.get("fill-extrusion-opacity"),Fe=J.constantOr(null);for(const ze of f){const ke=n.getTile(ze),gt=ke.getBucket(d);if(!gt)continue;const Rt=w.style.map.terrain&&w.style.map.terrain.getTerrainData(ze),T=gt.programConfigurations.get(d.id),P=w.useProgram(ne?"fillExtrusionPattern":"fillExtrusion",T);ne&&(w.context.activeTexture.set(V.TEXTURE0),ke.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),T.updatePaintBuffers(ge)),_n(T,Z,Fe,ke,d);const I=w.translatePosMatrix(ze.posMatrix,ke,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),F=d.paint.get("fill-extrusion-vertical-gradient"),$=ne?Kr(I,w,F,Pe,ze,ge,ke):Vr(I,w,F,Pe);P.draw(R,R.gl.TRIANGLES,v,D,O,cr.backCCW,$,Rt,d.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,d.paint,w.transform.zoom,T,w.style.map.terrain&&gt.centroidVertexBuffer)}}function Aa(w,n,d,f,v,D,O){const R=w.context,V=R.gl,Z=d.fbo;if(!Z)return;const J=w.useProgram("hillshade"),ne=w.style.map.terrain&&w.style.map.terrain.getTerrainData(n);R.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,Z.colorAttachment.get()),J.draw(R,V.TRIANGLES,v,D,O,cr.disabled,((ge,Pe,Fe,ze)=>{const ke=Fe.paint.get("hillshade-shadow-color"),gt=Fe.paint.get("hillshade-highlight-color"),Rt=Fe.paint.get("hillshade-accent-color");let T=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Fe.paint.get("hillshade-illumination-anchor")&&(T-=ge.transform.angle);const P=!ge.options.moving;return{u_matrix:ze?ze.posMatrix:ge.transform.calculatePosMatrix(Pe.tileID.toUnwrapped(),P),u_image:0,u_latrange:Al(0,Pe.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),T],u_shadow:ke,u_highlight:gt,u_accent:Rt}})(w,d,f,ne?n:null),ne,f.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}function br(w,n,d,f,v,D){const O=w.context,R=O.gl,V=n.dem;if(V&&V.data){const Z=V.dim,J=V.stride,ne=V.getPixels();if(O.activeTexture.set(R.TEXTURE1),O.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||w.getTileTexture(J),n.demTexture){const Pe=n.demTexture;Pe.update(ne,{premultiply:!1}),Pe.bind(R.NEAREST,R.CLAMP_TO_EDGE)}else n.demTexture=new ht(O,ne,R.RGBA,{premultiply:!1}),n.demTexture.bind(R.NEAREST,R.CLAMP_TO_EDGE);O.activeTexture.set(R.TEXTURE0);let ge=n.fbo;if(!ge){const Pe=new ht(O,{width:Z,height:Z,data:null},R.RGBA);Pe.bind(R.LINEAR,R.CLAMP_TO_EDGE),ge=n.fbo=O.createFramebuffer(Z,Z,!0,!1),ge.colorAttachment.set(Pe.texture)}O.bindFramebuffer.set(ge.framebuffer),O.viewport.set([0,0,Z,Z]),w.useProgram("hillshadePrepare").draw(O,R.TRIANGLES,f,v,D,cr.disabled,((Pe,Fe)=>{const ze=Fe.stride,ke=g.Z();return g.aS(ke,0,g.N,-g.N,0,0,1),g.$(ke,ke,[0,-g.N,0]),{u_matrix:ke,u_image:1,u_dimension:[ze,ze],u_zoom:Pe.overscaledZ,u_unpack:Fe.getUnpackVector()}})(n.tileID,V),null,d.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function is(w,n,d,f,v,D){const O=f.paint.get("raster-fade-duration");if(!D&&O>0){const R=g.h.now(),V=(R-w.timeAdded)/O,Z=n?(R-n.timeAdded)/O:-1,J=d.getSource(),ne=v.coveringZoomLevel({tileSize:J.tileSize,roundZoom:J.roundZoom}),ge=!n||Math.abs(n.tileID.overscaledZ-ne)>Math.abs(w.tileID.overscaledZ-ne),Pe=ge&&w.refreshedUponExpiration?1:g.ad(ge?V:1-Z,0,1);return w.refreshedUponExpiration&&V>=1&&(w.refreshedUponExpiration=!1),n?{opacity:1,mix:1-Pe}:{opacity:Pe,mix:0}}return{opacity:1,mix:0}}const ka=new g.aT(1,0,0,1),on=new g.aT(0,1,0,1),ko=new g.aT(0,0,1,1),ro=new g.aT(1,0,1,1),Xa=new g.aT(0,1,1,1);function Qn(w,n,d,f){xr(w,0,n+d/2,w.transform.width,d,f)}function ta(w,n,d,f){xr(w,n-d/2,0,d,w.transform.height,f)}function xr(w,n,d,f,v,D){const O=w.context,R=O.gl;R.enable(R.SCISSOR_TEST),R.scissor(n*w.pixelRatio,d*w.pixelRatio,f*w.pixelRatio,v*w.pixelRatio),O.clear({color:D}),R.disable(R.SCISSOR_TEST)}function Oo(w,n,d){const f=w.context,v=f.gl,D=d.posMatrix,O=w.useProgram("debug"),R=fn.disabled,V=kn.disabled,Z=w.colorModeForRenderPass(),J="$debug",ne=w.style.map.terrain&&w.style.map.terrain.getTerrainData(d);f.activeTexture.set(v.TEXTURE0);const ge=n.getTileByID(d.key).latestRawTileData,Pe=Math.floor((ge&&ge.byteLength||0)/1024),Fe=n.getTile(d).tileSize,ze=512/Math.min(Fe,512)*(d.overscaledZ/w.transform.zoom)*.5;let ke=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ke+=` => ${d.overscaledZ}`),function(gt,Rt){gt.initDebugOverlayCanvas();const T=gt.debugOverlayCanvas,P=gt.context.gl,I=gt.debugOverlayCanvas.getContext("2d");I.clearRect(0,0,T.width,T.height),I.shadowColor="white",I.shadowBlur=2,I.lineWidth=1.5,I.strokeStyle="white",I.textBaseline="top",I.font="bold 36px Open Sans, sans-serif",I.fillText(Rt,5,5),I.strokeText(Rt,5,5),gt.debugOverlayTexture.update(T),gt.debugOverlayTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE)}(w,`${ke} ${Pe}kB`),O.draw(f,v.TRIANGLES,R,V,en.alphaBlended,cr.disabled,Rs(D,g.aT.transparent,ze),null,J,w.debugBuffer,w.quadTriangleIndexBuffer,w.debugSegments),O.draw(f,v.LINE_STRIP,R,V,Z,cr.disabled,Rs(D,g.aT.red),ne,J,w.debugBuffer,w.tileBorderIndexBuffer,w.debugSegments)}function rr(w,n,d){const f=w.context,v=f.gl,D=w.colorModeForRenderPass(),O=new fn(v.LEQUAL,fn.ReadWrite,w.depthRangeFor3D),R=w.useProgram("terrain"),V=n.getTerrainMesh();f.bindFramebuffer.set(null),f.viewport.set([0,0,w.width,w.height]);for(const Z of d){const J=w.renderToTexture.getTexture(Z),ne=n.getTerrainData(Z.tileID);f.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,J.texture);const ge={u_matrix:w.transform.calculatePosMatrix(Z.tileID.toUnwrapped()),u_texture:0,u_ele_delta:n.getMeshFrameDelta(w.transform.zoom)};R.draw(f,v.TRIANGLES,O,kn.disabled,D,cr.backCCW,ge,ne,"terrain",V.vertexBuffer,V.indexBuffer,V.segments)}}class bs{constructor(n,d){this.context=new zr(n),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:g.Z(),renderTime:0},this.setup(),this.numSublayers=pn.maxUnderzooming+pn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Gt}resize(n,d,f){if(this.width=Math.floor(n*f),this.height=Math.floor(d*f),this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const n=this.context,d=new g.a_;d.emplaceBack(0,0),d.emplaceBack(g.N,0),d.emplaceBack(0,g.N),d.emplaceBack(g.N,g.N),this.tileExtentBuffer=n.createVertexBuffer(d,ar.members),this.tileExtentSegments=g.S.simpleSegment(0,0,4,2);const f=new g.a_;f.emplaceBack(0,0),f.emplaceBack(g.N,0),f.emplaceBack(0,g.N),f.emplaceBack(g.N,g.N),this.debugBuffer=n.createVertexBuffer(f,ar.members),this.debugSegments=g.S.simpleSegment(0,0,4,5);const v=new g.V;v.emplaceBack(0,0,0,0),v.emplaceBack(g.N,0,g.N,0),v.emplaceBack(0,g.N,0,g.N),v.emplaceBack(g.N,g.N,g.N,g.N),this.rasterBoundsBuffer=n.createVertexBuffer(v,Ei.members),this.rasterBoundsSegments=g.S.simpleSegment(0,0,4,2);const D=new g.a_;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(D,ar.members),this.viewportSegments=g.S.simpleSegment(0,0,4,2);const O=new g.a$;O.emplaceBack(0),O.emplaceBack(1),O.emplaceBack(3),O.emplaceBack(2),O.emplaceBack(0),this.tileBorderIndexBuffer=n.createIndexBuffer(O);const R=new g.b0;R.emplaceBack(0,1,2),R.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(R);const V=this.context.gl;this.stencilClearMode=new kn({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO)}clearStencil(){const n=this.context,d=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=g.Z();g.aS(f,0,this.width,this.height,0,0,1),g.a0(f,f,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(n,d.TRIANGLES,fn.disabled,this.stencilClearMode,en.disabled,cr.disabled,Zl(f),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(n,d){if(this.currentStencilSource===n.source||!n.isTileClipped()||!d||!d.length)return;this.currentStencilSource=n.source;const f=this.context,v=f.gl;this.nextStencilID+d.length>256&&this.clearStencil(),f.setColorMode(en.disabled),f.setDepthMode(fn.disabled);const D=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const O of d){const R=this._tileClippingMaskIDs[O.key]=this.nextStencilID++,V=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O);D.draw(f,v.TRIANGLES,fn.disabled,new kn({func:v.ALWAYS,mask:0},R,255,v.KEEP,v.KEEP,v.REPLACE),en.disabled,cr.disabled,Zl(O.posMatrix),V,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const n=this.nextStencilID++,d=this.context.gl;return new kn({func:d.NOTEQUAL,mask:255},n,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(n){const d=this.context.gl;return new kn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(n){const d=this.context.gl,f=n.sort((O,R)=>R.overscaledZ-O.overscaledZ),v=f[f.length-1].overscaledZ,D=f[0].overscaledZ-v+1;if(D>1){this.currentStencilSource=void 0,this.nextStencilID+D>256&&this.clearStencil();const O={};for(let R=0;R<D;R++)O[R+v]=new kn({func:d.GEQUAL,mask:255},R+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=D,[O,f]}return[{[v]:kn.disabled},f]}colorModeForRenderPass(){const n=this.context.gl;return this._showOverdrawInspector?new en([n.CONSTANT_COLOR,n.ONE],new g.aT(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?en.unblended:en.alphaBlended}depthModeForSublayer(n,d,f){if(!this.opaquePassEnabledForLayer())return fn.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new fn(f||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(n,d){this.style=n,this.options=d,this.lineAtlas=n.lineAtlas,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(g.h.now()),this.imageManager.beginFrame();const f=this.style._order,v=this.style.sourceCaches,D={},O={},R={};for(const V in v){const Z=v[V];Z.used&&Z.prepare(this.context),D[V]=Z.getVisibleCoordinates(),O[V]=D[V].slice().reverse(),R[V]=Z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<f.length;V++)if(this.style._layers[f[V]].is3D()){this.opaquePassCutoff=V;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const V=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!g.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||V.length)&&(g.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(Z,J){const ne=Z.context,ge=ne.gl,Pe=en.unblended,Fe=new fn(ge.LEQUAL,fn.ReadWrite,[0,1]),ze=J.getTerrainMesh(),ke=J.sourceCache.getRenderableTiles(),gt=Z.useProgram("terrainDepth");ne.bindFramebuffer.set(J.getFramebuffer("depth").framebuffer),ne.viewport.set([0,0,Z.width/devicePixelRatio,Z.height/devicePixelRatio]),ne.clear({color:g.aT.transparent,depth:1});for(const Rt of ke){const T=J.getTerrainData(Rt.tileID),P={u_matrix:Z.transform.calculatePosMatrix(Rt.tileID.toUnwrapped()),u_ele_delta:J.getMeshFrameDelta(Z.transform.zoom)};gt.draw(ne,ge.TRIANGLES,Fe,kn.disabled,Pe,cr.backCCW,P,T,"terrain",ze.vertexBuffer,ze.indexBuffer,ze.segments)}ne.bindFramebuffer.set(null),ne.viewport.set([0,0,Z.width,Z.height])}(this,this.style.map.terrain),function(Z,J){const ne=Z.context,ge=ne.gl,Pe=en.unblended,Fe=new fn(ge.LEQUAL,fn.ReadWrite,[0,1]),ze=J.getTerrainMesh(),ke=J.getCoordsTexture(),gt=J.sourceCache.getRenderableTiles(),Rt=Z.useProgram("terrainCoords");ne.bindFramebuffer.set(J.getFramebuffer("coords").framebuffer),ne.viewport.set([0,0,Z.width/devicePixelRatio,Z.height/devicePixelRatio]),ne.clear({color:g.aT.transparent,depth:1}),J.coordsIndex=[];for(const T of gt){const P=J.getTerrainData(T.tileID);ne.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,ke.texture);const I={u_matrix:Z.transform.calculatePosMatrix(T.tileID.toUnwrapped()),u_terrain_coords_id:(255-J.coordsIndex.length)/255,u_texture:0,u_ele_delta:J.getMeshFrameDelta(Z.transform.zoom)};Rt.draw(ne,ge.TRIANGLES,Fe,kn.disabled,Pe,cr.backCCW,I,P,"terrain",ze.vertexBuffer,ze.indexBuffer,ze.segments),J.coordsIndex.push(T.tileID.key)}ne.bindFramebuffer.set(null),ne.viewport.set([0,0,Z.width,Z.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const V of f){const Z=this.style._layers[V];if(!Z.hasOffscreenPass()||Z.isHidden(this.transform.zoom))continue;const J=O[Z.source];("custom"===Z.type||J.length)&&this.renderLayer(this,v[Z.source],Z,J)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?g.aT.black:g.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(n._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const V=this.style._layers[f[this.currentLayer]],Z=v[V.source],J=D[V.source];this._renderTileClippingMasks(V,J),this.renderLayer(this,Z,V,J)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const V=this.style._layers[f[this.currentLayer]],Z=v[V.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(V))continue;const J=("symbol"===V.type?R:O)[V.source];this._renderTileClippingMasks(V,D[V.source]),this.renderLayer(this,Z,V,J)}if(this.options.showTileBoundaries){const V=function(Z,J){let ne=null;const ge=Object.values(Z._layers).flatMap(ke=>ke.source&&!ke.isHidden(J)?[Z.sourceCaches[ke.source]]:[]),Pe=ge.filter(ke=>"vector"===ke.getSource().type),Fe=ge.filter(ke=>"vector"!==ke.getSource().type),ze=ke=>{(!ne||ne.getSource().maxzoom<ke.getSource().maxzoom)&&(ne=ke)};return Pe.forEach(ke=>ze(ke)),ne||Fe.forEach(ke=>ze(ke)),ne}(this.style,this.transform.zoom);V&&function(Z,J,ne){for(let ge=0;ge<ne.length;ge++)Oo(Z,J,ne[ge])}(this,V,V.getVisibleCoordinates())}this.options.showPadding&&function(V){const Z=V.transform.padding;Qn(V,V.transform.height-(Z.top||0),3,ka),Qn(V,Z.bottom||0,3,on),ta(V,Z.left||0,3,ko),ta(V,V.transform.width-(Z.right||0),3,ro);const J=V.transform.centerPoint;var ne,ge,Pe,Fe;xr(ne=V,(ge=J.x)-1,(Pe=V.transform.height-J.y)-10,2,20,Fe=Xa),xr(ne,ge-10,Pe-1,20,2,Fe)}(this),this.context.setDefault()}renderLayer(n,d,f,v){if(!f.isHidden(this.transform.zoom)&&("background"===f.type||"custom"===f.type||(v||[]).length))switch(this.id=f.id,f.type){case"symbol":!function(D,O,R,V,Z){if("translucent"!==D.renderPass)return;const J=kn.disabled,ne=D.colorModeForRenderPass();(R._unevaluatedLayout.hasValue("text-variable-anchor")||R._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ge,Pe,Fe,ze,ke,gt,Rt){const T=Pe.transform,P="map"===ke,I="map"===gt;for(const F of ge){const $=ze.getTile(F),se=$.getBucket(Fe);if(!se||!se.text||!se.text.segments.get().length)continue;const be=g.ah(se.textSizeData,T.zoom),Qe=G($,1,Pe.transform.zoom),st=Me(F.posMatrix,I,P,Pe.transform,Qe),oi="none"!==Fe.layout.get("icon-text-fit")&&se.hasIconData();if(be){const Jt=Math.pow(2,T.zoom-$.tileID.overscaledZ);H(se,P,I,Rt,T,st,F.posMatrix,Jt,be,oi,Pe.style.map.terrain?(bi,Ai)=>Pe.style.map.terrain.getElevation(F,bi,Ai):null)}}}(V,D,R,O,R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),Z),0!==R.paint.get("icon-opacity").constantOr(1)&&He(D,O,R,V,!1,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),R.layout.get("icon-rotation-alignment"),R.layout.get("icon-pitch-alignment"),R.layout.get("icon-keep-upright"),J,ne),0!==R.paint.get("text-opacity").constantOr(1)&&He(D,O,R,V,!0,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),R.layout.get("text-rotation-alignment"),R.layout.get("text-pitch-alignment"),R.layout.get("text-keep-upright"),J,ne),O.map.showCollisionBoxes&&(Pl(D,O,R,V,R.paint.get("text-translate"),R.paint.get("text-translate-anchor"),!0),Pl(D,O,R,V,R.paint.get("icon-translate"),R.paint.get("icon-translate-anchor"),!1))}(n,d,f,v,this.style.placement.variableOffsets);break;case"circle":!function(D,O,R,V){if("translucent"!==D.renderPass)return;const Z=R.paint.get("circle-opacity"),J=R.paint.get("circle-stroke-width"),ne=R.paint.get("circle-stroke-opacity"),ge=!R.layout.get("circle-sort-key").isConstant();if(0===Z.constantOr(1)&&(0===J.constantOr(1)||0===ne.constantOr(1)))return;const Pe=D.context,Fe=Pe.gl,ze=D.depthModeForSublayer(0,fn.ReadOnly),ke=kn.disabled,gt=D.colorModeForRenderPass(),Rt=[];for(let T=0;T<V.length;T++){const P=V[T],I=O.getTile(P),F=I.getBucket(R);if(!F)continue;const $=F.programConfigurations.get(R.id),se=D.useProgram("circle",$),be=F.layoutVertexBuffer,Qe=F.indexBuffer,st=D.style.map.terrain&&D.style.map.terrain.getTerrainData(P),oi={programConfiguration:$,program:se,layoutVertexBuffer:be,indexBuffer:Qe,uniformValues:ho(D,P,I,R),terrainData:st};if(ge){const Jt=F.segments.get();for(const bi of Jt)Rt.push({segments:new g.S([bi]),sortKey:bi.sortKey,state:oi})}else Rt.push({segments:F.segments,sortKey:0,state:oi})}ge&&Rt.sort((T,P)=>T.sortKey-P.sortKey);for(const T of Rt){const{programConfiguration:P,program:I,layoutVertexBuffer:F,indexBuffer:$,uniformValues:se,terrainData:be}=T.state;I.draw(Pe,Fe.TRIANGLES,ze,ke,gt,cr.disabled,se,be,R.id,F,$,T.segments,R.paint,D.transform.zoom,P)}}(n,d,f,v);break;case"heatmap":!function(D,O,R,V){if(0!==R.paint.get("heatmap-opacity"))if("offscreen"===D.renderPass){const Z=D.context,J=Z.gl,ne=kn.disabled,ge=new en([J.ONE,J.ONE],g.aT.transparent,[!0,!0,!0,!0]);(function(Pe,Fe,ze){const ke=Pe.gl;Pe.activeTexture.set(ke.TEXTURE1),Pe.viewport.set([0,0,Fe.width/4,Fe.height/4]);let gt=ze.heatmapFbo;if(gt)ke.bindTexture(ke.TEXTURE_2D,gt.colorAttachment.get()),Pe.bindFramebuffer.set(gt.framebuffer);else{const Rt=ke.createTexture();ke.bindTexture(ke.TEXTURE_2D,Rt),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_S,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_T,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MIN_FILTER,ke.LINEAR),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MAG_FILTER,ke.LINEAR),gt=ze.heatmapFbo=Pe.createFramebuffer(Fe.width/4,Fe.height/4,!1,!1),function(T,P,I,F){var $,se;const be=T.gl,Qe=null!==($=T.HALF_FLOAT)&&void 0!==$?$:be.UNSIGNED_BYTE,st=null!==(se=T.RGBA16F)&&void 0!==se?se:be.RGBA;be.texImage2D(be.TEXTURE_2D,0,st,P.width/4,P.height/4,0,be.RGBA,Qe,null),F.colorAttachment.set(I)}(Pe,Fe,Rt,gt)}})(Z,D,R),Z.clear({color:g.aT.transparent});for(let Pe=0;Pe<V.length;Pe++){const Fe=V[Pe];if(O.hasRenderableParent(Fe))continue;const ze=O.getTile(Fe),ke=ze.getBucket(R);if(!ke)continue;const gt=ke.programConfigurations.get(R.id),Rt=D.useProgram("heatmap",gt),{zoom:T}=D.transform;Rt.draw(Z,J.TRIANGLES,fn.disabled,ne,ge,cr.disabled,zo(Fe.posMatrix,ze,T,R.paint.get("heatmap-intensity")),null,R.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,R.paint,D.transform.zoom,gt)}Z.viewport.set([0,0,D.width,D.height])}else"translucent"===D.renderPass&&(D.context.setColorMode(D.colorModeForRenderPass()),function(Z,J){const ne=Z.context,ge=ne.gl,Pe=J.heatmapFbo;if(!Pe)return;ne.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,Pe.colorAttachment.get()),ne.activeTexture.set(ge.TEXTURE1);let Fe=J.colorRampTexture;Fe||(Fe=J.colorRampTexture=new ht(ne,J.colorRamp,ge.RGBA)),Fe.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Z.useProgram("heatmapTexture").draw(ne,ge.TRIANGLES,fn.disabled,kn.disabled,Z.colorModeForRenderPass(),cr.disabled,((ze,ke,gt,Rt)=>{const T=g.Z();g.aS(T,0,ze.width,ze.height,0,0,1);const P=ze.context.gl;return{u_matrix:T,u_world:[P.drawingBufferWidth,P.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ke.paint.get("heatmap-opacity")}})(Z,J),null,J.id,Z.viewportBuffer,Z.quadTriangleIndexBuffer,Z.viewportSegments,J.paint,Z.transform.zoom)}(D,R))}(n,d,f,v);break;case"line":!function(D,O,R,V){if("translucent"!==D.renderPass)return;const Z=R.paint.get("line-opacity"),J=R.paint.get("line-width");if(0===Z.constantOr(1)||0===J.constantOr(1))return;const ne=D.depthModeForSublayer(0,fn.ReadOnly),ge=D.colorModeForRenderPass(),Pe=R.paint.get("line-dasharray"),Fe=R.paint.get("line-pattern"),ze=Fe.constantOr(1),ke=R.paint.get("line-gradient"),gt=R.getCrossfadeParameters(),Rt=ze?"linePattern":Pe?"lineSDF":ke?"lineGradient":"line",T=D.context,P=T.gl;let I=!0;for(const F of V){const $=O.getTile(F);if(ze&&!$.patternsLoaded())continue;const se=$.getBucket(R);if(!se)continue;const be=se.programConfigurations.get(R.id),Qe=D.context.program.get(),st=D.useProgram(Rt,be),oi=I||st.program!==Qe,Jt=D.style.map.terrain&&D.style.map.terrain.getTerrainData(F),bi=Fe.constantOr(null);if(bi&&$.imageAtlas){const Rn=$.imageAtlas,qi=Rn.patternPositions[bi.to.toString()],An=Rn.patternPositions[bi.from.toString()];qi&&An&&be.setConstantPatternPositions(qi,An)}const Ai=Jt?F:null,er=ze?Da(D,$,R,gt,Ai):Pe?Sa(D,$,R,Pe,gt,Ai):ke?$a(D,$,R,se.lineClipsArray.length,Ai):Ys(D,$,R,Ai);if(ze)T.activeTexture.set(P.TEXTURE0),$.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),be.updatePaintBuffers(gt);else if(Pe&&(oi||D.lineAtlas.dirty))T.activeTexture.set(P.TEXTURE0),D.lineAtlas.bind(T);else if(ke){const Rn=se.gradients[R.id];let qi=Rn.texture;if(R.gradientVersion!==Rn.version){let An=256;if(R.stepInterpolant){const Cn=O.getSource().maxzoom,Ir=F.canonical.z===Cn?Math.ceil(1<<D.transform.maxZoom-F.canonical.z):1;An=g.ad(g.aY(se.maxLineLength/g.N*1024*Ir),256,T.maxTextureSize)}Rn.gradient=g.aZ({expression:R.gradientExpression(),evaluationKey:"lineProgress",resolution:An,image:Rn.gradient||void 0,clips:se.lineClipsArray}),Rn.texture?Rn.texture.update(Rn.gradient):Rn.texture=new ht(T,Rn.gradient,P.RGBA),Rn.version=R.gradientVersion,qi=Rn.texture}T.activeTexture.set(P.TEXTURE0),qi.bind(R.stepInterpolant?P.NEAREST:P.LINEAR,P.CLAMP_TO_EDGE)}st.draw(T,P.TRIANGLES,ne,D.stencilModeForClipping(F),ge,cr.disabled,er,Jt,R.id,se.layoutVertexBuffer,se.indexBuffer,se.segments,R.paint,D.transform.zoom,be,se.layoutVertexBuffer2),I=!1}}(n,d,f,v);break;case"fill":!function(D,O,R,V){const Z=R.paint.get("fill-color"),J=R.paint.get("fill-opacity");if(0===J.constantOr(1))return;const ne=D.colorModeForRenderPass(),ge=R.paint.get("fill-pattern"),Pe=D.opaquePassEnabledForLayer()&&!ge.constantOr(1)&&1===Z.constantOr(g.aT.transparent).a&&1===J.constantOr(0)?"opaque":"translucent";if(D.renderPass===Pe){const Fe=D.depthModeForSublayer(1,"opaque"===D.renderPass?fn.ReadWrite:fn.ReadOnly);nr(D,O,R,V,Fe,ne,!1)}if("translucent"===D.renderPass&&R.paint.get("fill-antialias")){const Fe=D.depthModeForSublayer(R.getPaintProperty("fill-outline-color")?2:0,fn.ReadOnly);nr(D,O,R,V,Fe,ne,!0)}}(n,d,f,v);break;case"fill-extrusion":!function(D,O,R,V){const Z=R.paint.get("fill-extrusion-opacity");if(0!==Z&&"translucent"===D.renderPass){const J=new fn(D.context.gl.LEQUAL,fn.ReadWrite,D.depthRangeFor3D);if(1!==Z||R.paint.get("fill-extrusion-pattern").constantOr(1))Pr(D,O,R,V,J,kn.disabled,en.disabled),Pr(D,O,R,V,J,D.stencilModeFor3D(),D.colorModeForRenderPass());else{const ne=D.colorModeForRenderPass();Pr(D,O,R,V,J,kn.disabled,ne)}}}(n,d,f,v);break;case"hillshade":!function(D,O,R,V){if("offscreen"!==D.renderPass&&"translucent"!==D.renderPass)return;const Z=D.context,J=D.depthModeForSublayer(0,fn.ReadOnly),ne=D.colorModeForRenderPass(),[ge,Pe]="translucent"===D.renderPass?D.stencilConfigForOverlap(V):[{},V];for(const Fe of Pe){const ze=O.getTile(Fe);void 0!==ze.needsHillshadePrepare&&ze.needsHillshadePrepare&&"offscreen"===D.renderPass?br(D,ze,R,J,kn.disabled,ne):"translucent"===D.renderPass&&Aa(D,Fe,ze,R,J,ge[Fe.overscaledZ],ne)}Z.viewport.set([0,0,D.width,D.height])}(n,d,f,v);break;case"raster":!function(D,O,R,V){if("translucent"!==D.renderPass||0===R.paint.get("raster-opacity")||!V.length)return;const Z=D.context,J=Z.gl,ne=O.getSource(),ge=D.useProgram("raster"),Pe=D.colorModeForRenderPass(),[Fe,ze]=ne instanceof ft?[{},V]:D.stencilConfigForOverlap(V),ke=ze[ze.length-1].overscaledZ,gt=!D.options.moving;for(const Rt of ze){const T=D.depthModeForSublayer(Rt.overscaledZ-ke,1===R.paint.get("raster-opacity")?fn.ReadWrite:fn.ReadOnly,J.LESS),P=O.getTile(Rt);P.registerFadeDuration(R.paint.get("raster-fade-duration"));const I=O.findLoadedParent(Rt,0),F=is(P,I,O,R,D.transform,D.style.map.terrain);let $,se;const be="nearest"===R.paint.get("raster-resampling")?J.NEAREST:J.LINEAR;Z.activeTexture.set(J.TEXTURE0),P.texture.bind(be,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST),Z.activeTexture.set(J.TEXTURE1),I?(I.texture.bind(be,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST),$=Math.pow(2,I.tileID.overscaledZ-P.tileID.overscaledZ),se=[P.tileID.canonical.x*$%1,P.tileID.canonical.y*$%1]):P.texture.bind(be,J.CLAMP_TO_EDGE,J.LINEAR_MIPMAP_NEAREST);const Qe=D.style.map.terrain&&D.style.map.terrain.getTerrainData(Rt),st=Qe?Rt:null,oi=st?st.posMatrix:D.transform.calculatePosMatrix(Rt.toUnwrapped(),gt),Jt=Ga(oi,se||[0,0],$||1,F,R);ne instanceof ft?ge.draw(Z,J.TRIANGLES,T,kn.disabled,Pe,cr.disabled,Jt,Qe,R.id,ne.boundsBuffer,D.quadTriangleIndexBuffer,ne.boundsSegments):ge.draw(Z,J.TRIANGLES,T,Fe[Rt.overscaledZ],Pe,cr.disabled,Jt,Qe,R.id,D.rasterBoundsBuffer,D.quadTriangleIndexBuffer,D.rasterBoundsSegments)}}(n,d,f,v);break;case"background":!function(D,O,R,V){const Z=R.paint.get("background-color"),J=R.paint.get("background-opacity");if(0===J)return;const ne=D.context,ge=ne.gl,Pe=D.transform,Fe=Pe.tileSize,ze=R.paint.get("background-pattern");if(D.isPatternMissing(ze))return;const ke=!ze&&1===Z.a&&1===J&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==ke)return;const gt=kn.disabled,Rt=D.depthModeForSublayer(0,"opaque"===ke?fn.ReadWrite:fn.ReadOnly),T=D.colorModeForRenderPass(),P=D.useProgram(ze?"backgroundPattern":"background"),I=V||Pe.coveringTiles({tileSize:Fe,terrain:D.style.map.terrain});ze&&(ne.activeTexture.set(ge.TEXTURE0),D.imageManager.bind(D.context));const F=R.getCrossfadeParameters();for(const $ of I){const se=V?$.posMatrix:D.transform.calculatePosMatrix($.toUnwrapped()),be=ze?mo(se,J,D,ze,{tileID:$,tileSize:Fe},F):Vo(se,J,Z),Qe=D.style.map.terrain&&D.style.map.terrain.getTerrainData($);P.draw(ne,ge.TRIANGLES,Rt,gt,T,cr.disabled,be,Qe,R.id,D.tileExtentBuffer,D.quadTriangleIndexBuffer,D.tileExtentSegments)}}(n,0,f,v);break;case"custom":!function(D,O,R){const V=D.context,Z=R.implementation;if("offscreen"===D.renderPass){const J=Z.prerender;J&&(D.setCustomLayerDefaults(),V.setColorMode(D.colorModeForRenderPass()),J.call(Z,V.gl,D.transform.customLayerMatrix()),V.setDirty(),D.setBaseState())}else if("translucent"===D.renderPass){D.setCustomLayerDefaults(),V.setColorMode(D.colorModeForRenderPass()),V.setStencilMode(kn.disabled);const J="3d"===Z.renderingMode?new fn(D.context.gl.LEQUAL,fn.ReadWrite,D.depthRangeFor3D):D.depthModeForSublayer(0,fn.ReadOnly);V.setDepthMode(J),Z.render(V.gl,D.transform.customLayerMatrix()),V.setDirty(),D.setBaseState(),V.bindFramebuffer.set(null)}}(n,0,f)}}translatePosMatrix(n,d,f,v,D){if(!f[0]&&!f[1])return n;const O=D?"map"===v?this.transform.angle:0:"viewport"===v?-this.transform.angle:0;if(O){const Z=Math.sin(O),J=Math.cos(O);f=[f[0]*J-f[1]*Z,f[0]*Z+f[1]*J]}const R=[D?f[0]:G(d,f[0],this.transform.zoom),D?f[1]:G(d,f[1],this.transform.zoom),0],V=new Float32Array(16);return g.$(V,n,R),V}saveTileTexture(n){const d=this._tileTextures[n.size[0]];d?d.push(n):this._tileTextures[n.size[0]]=[n]}getTileTexture(n){const d=this._tileTextures[n];return d&&d.length>0?d.pop():null}isPatternMissing(n){if(!n)return!1;if(!n.from||!n.to)return!0;const d=this.imageManager.getPattern(n.from.toString()),f=this.imageManager.getPattern(n.to.toString());return!d||!f}useProgram(n,d){this.cache=this.cache||{};const f=n+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[f]||(this.cache[f]=new Vn(this.context,ln[n],d,yr[n],this._showOverdrawInspector,this.style.map.terrain)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ht(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:n,drawingBufferHeight:d}=this.context.gl;return this.width!==n||this.height!==d}}class Zn{constructor(n,d){this.points=n,this.planes=d}static fromInvProjectionMatrix(n,d,f){const v=Math.pow(2,f),D=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(R=>{const V=1/(R=g.ag([],R,n))[3]/d*v;return g.b3(R,R,[V,V,1/R[3],V])}),O=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(R=>{const V=function(ge,Pe){var Fe=Pe[0],ze=Pe[1],ke=Pe[2],gt=Fe*Fe+ze*ze+ke*ke;return gt>0&&(gt=1/Math.sqrt(gt)),ge[0]=Pe[0]*gt,ge[1]=Pe[1]*gt,ge[2]=Pe[2]*gt,ge}([],(ge=[],Pe=ki([],D[R[0]],D[R[1]]),Fe=ki([],D[R[2]],D[R[1]]),ze=Pe[0],Rt=Fe[0],ge[0]=(ke=Pe[1])*(P=Fe[2])-(gt=Pe[2])*(T=Fe[1]),ge[1]=gt*Rt-ze*P,ge[2]=ze*T-ke*Rt,ge)),Z=-((J=V)[0]*(ne=D[R[1]])[0]+J[1]*ne[1]+J[2]*ne[2]);var ge,Pe,Fe,ze,ke,gt,Rt,T,P,J,ne;return V.concat(Z)});return new Zn(D,O)}}class Ur{constructor(n,d){var f,v,D;this.min=n,this.max=d,this.center=function(f,v,D){return f[0]=.5*v[0],f[1]=.5*v[1],f[2]=.5*v[2],f}([],((f=[])[0]=(v=this.min)[0]+(D=this.max)[0],f[1]=v[1]+D[1],f[2]=v[2]+D[2],f))}quadrant(n){const d=[n%2==0,n<2],f=Zt(this.min),v=Zt(this.max);for(let D=0;D<d.length;D++)f[D]=d[D]?this.min[D]:this.center[D],v[D]=d[D]?this.center[D]:this.max[D];return v[2]=this.max[2],new Ur(f,v)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}intersects(n){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let f=!0;for(let v=0;v<n.planes.length;v++){const D=n.planes[v];let O=0;for(let R=0;R<d.length;R++)g.b4(D,d[R])>=0&&O++;if(0===O)return 0;O!==d.length&&(f=!1)}if(f)return 2;for(let v=0;v<3;v++){let D=Number.MAX_VALUE,O=-Number.MAX_VALUE;for(let R=0;R<n.points.length;R++){const V=n.points[R][v]-this.min[v];D=Math.min(D,V),O=Math.max(O,V)}if(O<0||D>this.max[v]-this.min[v])return 0}return 1}}class Dr{constructor(n=0,d=0,f=0,v=0){if(isNaN(n)||n<0||isNaN(d)||d<0||isNaN(f)||f<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=d,this.left=f,this.right=v}interpolate(n,d,f){return null!=d.top&&null!=n.top&&(this.top=g.B.number(n.top,d.top,f)),null!=d.bottom&&null!=n.bottom&&(this.bottom=g.B.number(n.bottom,d.bottom,f)),null!=d.left&&null!=n.left&&(this.left=g.B.number(n.left,d.left,f)),null!=d.right&&null!=n.right&&(this.right=g.B.number(n.right,d.right,f)),this}getCenter(n,d){const f=g.ad((this.left+n-this.right)/2,0,n),v=g.ad((this.top+d-this.bottom)/2,0,d);return new g.P(f,v)}equals(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right}clone(){return new Dr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Sn{constructor(n,d,f,v,D){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===D||!!D,this._minZoom=n||0,this._maxZoom=d||22,this._minPitch=f??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new g.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Dr,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const n=new Sn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return n.apply(this),n}apply(n){this.tileSize=n.tileSize,this.latRange=n.latRange,this.width=n.width,this.height=n.height,this._center=n._center,this._elevation=n._elevation,this._minEleveationForCurrentTile=n._minEleveationForCurrentTile,this.zoom=n.zoom,this.angle=n.angle,this._fov=n._fov,this._pitch=n._pitch,this._unmodified=n._unmodified,this._edgeInsets=n._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))}get maxZoom(){return this._maxZoom}set maxZoom(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))}get minPitch(){return this._minPitch}set minPitch(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))}get maxPitch(){return this._maxPitch}set maxPitch(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(n){void 0===n?n=!0:null===n&&(n=!1),this._renderWorldCopies=n}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new g.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(n){const d=-g.b5(n,-180,180)*Math.PI/180;var f;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(f=new g.A(4),g.A!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f),function(f,v,D){var O=v[0],R=v[1],V=v[2],Z=v[3],J=Math.sin(D),ne=Math.cos(D);f[0]=O*ne+V*J,f[1]=R*ne+Z*J,f[2]=O*-J+V*ne,f[3]=R*-J+Z*ne}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(n){const d=g.ad(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=n/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(n){const d=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(n){n!==this._elevation&&(this._elevation=n,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(n){return this._edgeInsets.equals(n)}interpolatePadding(n,d,f){this._unmodified=!1,this._edgeInsets.interpolate(n,d,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(n){const d=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(n){const d=[new g.b6(0,n)];if(this._renderWorldCopies){const f=this.pointCoordinate(new g.P(0,0)),v=this.pointCoordinate(new g.P(this.width,0)),D=this.pointCoordinate(new g.P(this.width,this.height)),O=this.pointCoordinate(new g.P(0,this.height)),R=Math.floor(Math.min(f.x,v.x,D.x,O.x)),V=Math.floor(Math.max(f.x,v.x,D.x,O.x)),Z=1;for(let J=R-Z;J<=V+Z;J++)0!==J&&d.push(new g.b6(J,n))}return d}coveringTiles(n){var d,f;let v=this.coveringZoomLevel(n);const D=v;if(void 0!==n.minzoom&&v<n.minzoom)return[];void 0!==n.maxzoom&&v>n.maxzoom&&(v=n.maxzoom);const O=this.pointCoordinate(this.getCameraPoint()),R=g.U.fromLngLat(this.center),V=Math.pow(2,v),Z=[V*O.x,V*O.y,0],J=[V*R.x,V*R.y,0],ne=Zn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let ge=n.minzoom||0;!n.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ge=v);const Pe=n.terrain?2/Math.min(this.tileSize,n.tileSize)*this.tileSize:3,Fe=T=>({aabb:new Ur([T*V,0,0],[(T+1)*V,V,0]),zoom:0,x:0,y:0,wrap:T,fullyVisible:!1}),ze=[],ke=[],gt=v,Rt=n.reparseOverscaled?D:v;if(this._renderWorldCopies)for(let T=1;T<=3;T++)ze.push(Fe(-T)),ze.push(Fe(T));for(ze.push(Fe(0));ze.length>0;){const T=ze.pop(),P=T.x,I=T.y;let F=T.fullyVisible;if(!F){const st=T.aabb.intersects(ne);if(0===st)continue;F=2===st}const $=n.terrain?Z:J,se=T.aabb.distanceX($),be=T.aabb.distanceY($),Qe=Math.max(Math.abs(se),Math.abs(be));if(T.zoom===gt||Qe>Pe+(1<<gt-T.zoom)-2&&T.zoom>=ge){const st=gt-T.zoom,oi=Z[0]-.5-(P<<st),Jt=Z[1]-.5-(I<<st);ke.push({tileID:new g.O(T.zoom===gt?Rt:T.zoom,T.wrap,T.zoom,P,I),distanceSq:Pi([J[0]-.5-P,J[1]-.5-I]),tileDistanceToCamera:Math.sqrt(oi*oi+Jt*Jt)})}else for(let st=0;st<4;st++){const oi=(P<<1)+st%2,Jt=(I<<1)+(st>>1),bi=T.zoom+1;let Ai=T.aabb.quadrant(st);if(n.terrain){const er=new g.O(bi,T.wrap,bi,oi,Jt),Rn=n.terrain.getMinMaxElevation(er),qi=null!==(d=Rn.minElevation)&&void 0!==d?d:this.elevation,An=null!==(f=Rn.maxElevation)&&void 0!==f?f:this.elevation;Ai=new Ur([Ai.min[0],Ai.min[1],qi],[Ai.max[0],Ai.max[1],An])}ze.push({aabb:Ai,zoom:bi,x:oi,y:Jt,wrap:T.wrap,fullyVisible:F})}}return ke.sort((T,P)=>T.distanceSq-P.distanceSq).map(T=>T.tileID)}resize(n,d){this.width=n,this.height=d,this.pixelsToGLUnits=[2/n,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(n){return Math.pow(2,n)}scaleZoom(n){return Math.log(n)/Math.LN2}project(n){const d=g.ad(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new g.P(g.G(n.lng)*this.worldSize,g.H(d)*this.worldSize)}unproject(n){return new g.U(n.x/this.worldSize,n.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(n){const d=this.pointLocation(this.centerPoint,n),f=n.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-f))return;const v=this.getCameraPosition(),D=g.U.fromLngLat(v.lngLat,v.altitude),O=g.U.fromLngLat(d,f),R=D.x-O.x,V=D.y-O.y,Z=D.z-O.z,J=Math.sqrt(R*R+V*V+Z*Z),ne=this.scaleZoom(this.cameraToCenterDistance/J/this.tileSize);this._elevation=f,this._center=d,this.zoom=ne}setLocationAtPoint(n,d){const f=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),D=this.locationCoordinate(n),O=new g.U(D.x-(f.x-v.x),D.y-(f.y-v.y));this.center=this.coordinateLocation(O),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(n,d){return d?this.coordinatePoint(this.locationCoordinate(n),d.getElevationForLngLatZoom(n,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(n))}pointLocation(n,d){return this.coordinateLocation(this.pointCoordinate(n,d))}locationCoordinate(n){return g.U.fromLngLat(n)}coordinateLocation(n){return n&&n.toLngLat()}pointCoordinate(n,d){if(d){const ge=d.pointCoordinate(n);if(null!=ge)return ge}const f=[n.x,n.y,0,1],v=[n.x,n.y,1,1];g.ag(f,f,this.pixelMatrixInverse),g.ag(v,v,this.pixelMatrixInverse);const D=f[3],O=v[3],R=f[1]/D,V=v[1]/O,Z=f[2]/D,J=v[2]/O,ne=Z===J?0:(0-Z)/(J-Z);return new g.U(g.B.number(f[0]/D,v[0]/O,ne)/this.worldSize,g.B.number(R,V,ne)/this.worldSize)}coordinatePoint(n,d=0,f=this.pixelMatrix){const v=[n.x*this.worldSize,n.y*this.worldSize,d,1];return g.ag(v,v,f),new g.P(v[0]/v[3],v[1]/v[3])}getBounds(){const n=Math.max(0,this.height/2-this.getHorizon());return(new Xe).extend(this.pointLocation(new g.P(0,n))).extend(this.pointLocation(new g.P(this.width,n))).extend(this.pointLocation(new g.P(this.width,this.height))).extend(this.pointLocation(new g.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Xe([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(n,d=!1){const f=n.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[f])return v[f];const D=n.canonical,O=this.worldSize/this.zoomScale(D.z),R=D.x+Math.pow(2,D.z)*n.wrap,V=g.ao(new Float64Array(16));return g.$(V,V,[R*O,D.y*O,0]),g.a0(V,V,[O/g.N,O/g.N,1]),g.a1(V,d?this.alignedProjMatrix:this.projMatrix,V),v[f]=new Float32Array(V),v[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let n,d,f,v,D=-90,O=90,R=-180,V=180;const Z=this.size,J=this._unmodified;if(this.latRange){const Pe=this.latRange;D=g.H(Pe[1])*this.worldSize,O=g.H(Pe[0])*this.worldSize,n=O-D<Z.y?Z.y/(O-D):0}if(this.lngRange){const Pe=this.lngRange;R=g.b5(g.G(Pe[0])*this.worldSize,0,this.worldSize),V=g.b5(g.G(Pe[1])*this.worldSize,0,this.worldSize),V<R&&(V+=this.worldSize),d=V-R<Z.x?Z.x/(V-R):0}const ne=this.point,ge=Math.max(d||0,n||0);if(ge)return this.center=this.unproject(new g.P(d?(V+R)/2:ne.x,n?(O+D)/2:ne.y)),this.zoom+=this.scaleZoom(ge),this._unmodified=J,void(this._constraining=!1);if(this.latRange){const Pe=ne.y,Fe=Z.y/2;Pe-Fe<D&&(v=D+Fe),Pe+Fe>O&&(v=O-Fe)}if(this.lngRange){const Pe=(R+V)/2,Fe=g.b5(ne.x,Pe-this.worldSize/2,Pe+this.worldSize/2),ze=Z.x/2;Fe-ze<R&&(f=R+ze),Fe+ze>V&&(f=V-ze)}void 0===f&&void 0===v||(this.center=this.unproject(new g.P(void 0!==f?f:ne.x,void 0!==v?v:ne.y)).wrap()),this._unmodified=J,this._constraining=!1}_calcMatrices(){if(!this.height)return;const n=this.centerOffset,d=this.point.x,f=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=g.b7(1,this.center.lat)*this.worldSize;let v=g.ao(new Float64Array(16));g.a0(v,v,[this.width/2,-this.height/2,1]),g.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=g.ao(new Float64Array(16)),g.a0(v,v,[1,-1,1]),g.$(v,v,[-1,-1,0]),g.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const D=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),O=Math.min(this.elevation,this._minEleveationForCurrentTile),R=D-O*this._pixelPerMeter/Math.cos(this._pitch),V=O<0?R:D,Z=Math.PI/2+this._pitch,J=this._fov*(.5+n.y/this.height),ne=Math.sin(J)*V/Math.sin(g.ad(Math.PI-Z-J,.01,Math.PI-.01)),ge=this.getHorizon(),Pe=2*Math.atan(ge/this.cameraToCenterDistance)*(.5+n.y/(2*ge)),Fe=Math.sin(Pe)*V/Math.sin(g.ad(Math.PI-Z-Pe,.01,Math.PI-.01)),ze=Math.min(ne,Fe),ke=1.01*(Math.cos(Math.PI/2-this._pitch)*ze+V),gt=this.height/50;v=new Float64Array(16),g.b8(v,this._fov,this.width/this.height,gt,ke),v[8]=2*-n.x/this.width,v[9]=2*n.y/this.height,g.a0(v,v,[1,-1,1]),g.$(v,v,[0,0,-this.cameraToCenterDistance]),g.b9(v,v,this._pitch),g.ae(v,v,this.angle),g.$(v,v,[-d,-f,0]),this.mercatorMatrix=g.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),g.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=g.a1(new Float64Array(16),this.labelPlaneMatrix,v),g.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=g.as([],v),this.pixelMatrix3D=g.a1(new Float64Array(16),this.labelPlaneMatrix,v);const Rt=this.width%2/2,T=this.height%2/2,P=Math.cos(this.angle),I=Math.sin(this.angle),F=d-Math.round(d)+P*Rt+I*T,$=f-Math.round(f)+P*T+I*Rt,se=new Float64Array(v);if(g.$(se,se,[F>.5?F-1:F,$>.5?$-1:$,0]),this.alignedProjMatrix=se,v=g.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const n=this.pointCoordinate(new g.P(0,0)),d=[n.x*this.worldSize,n.y*this.worldSize,0,1];return g.ag(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new g.P(0,n))}getCameraQueryGeometry(n){const d=this.getCameraPoint();if(1===n.length)return[n[0],d];{let f=d.x,v=d.y,D=d.x,O=d.y;for(const R of n)f=Math.min(f,R.x),v=Math.min(v,R.y),D=Math.max(D,R.x),O=Math.max(O,R.y);return[new g.P(f,v),new g.P(D,v),new g.P(D,O),new g.P(f,O),new g.P(f,v)]}}}function Qr(w,n){let d,f=!1,v=null,D=null;const O=()=>{v=null,f&&(w.apply(D,d),v=setTimeout(O,n),f=!1)};return(...R)=>(f=!0,D=this,d=R,v||O(),v)}class mr{constructor(n){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let f;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(f=v)}),(f&&f[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:f,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=Qr(this._updateHashUnthrottled,300),this._hashName=n&&encodeURIComponent(n)}addTo(n){return this._map=n,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(n){const d=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,v=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),D=Math.pow(10,v),O=Math.round(d.lng*D)/D,R=Math.round(d.lat*D)/D,V=this._map.getBearing(),Z=this._map.getPitch();let J="";if(J+=n?`/${O}/${R}/${f}`:`${f}/${R}/${O}`,(V||Z)&&(J+="/"+Math.round(10*V)/10),Z&&(J+=`/${Math.round(Z)}`),this._hashName){const ne=this._hashName;let ge=!1;const Pe=window.location.hash.slice(1).split("&").map(Fe=>{const ze=Fe.split("=")[0];return ze===ne?(ge=!0,`${ze}=${J}`):Fe}).filter(Fe=>Fe);return ge||Pe.push(`${ne}=${J}`),`#${Pe.join("&")}`}return`#${J}`}}const Jr={linearity:.3,easing:g.ba(0,0,.3,1)},ml=g.e({deceleration:2500,maxSpeed:1400},Jr),Co=g.e({deceleration:20,maxSpeed:1400},Jr),Or=g.e({deceleration:1e3,maxSpeed:360},Jr),pl=g.e({deceleration:1e3,maxSpeed:90},Jr);class jr{constructor(n){this._map=n,this.clear()}clear(){this._inertiaBuffer=[]}record(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:g.h.now(),settings:n})}_drainInertiaBuffer(){const n=this._inertiaBuffer,d=g.h.now();for(;n.length>0&&d-n[0].time>160;)n.shift()}_onMoveEnd(n){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new g.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:D}of this._inertiaBuffer)d.zoom+=D.zoomDelta||0,d.bearing+=D.bearingDelta||0,d.pitch+=D.pitchDelta||0,D.panDelta&&d.pan._add(D.panDelta),D.around&&(d.around=D.around),D.pinchAround&&(d.pinchAround=D.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const D=Mr(d.pan.mag(),f,g.e({},ml,n||{}));v.offset=d.pan.mult(D.amount/d.pan.mag()),v.center=this._map.transform.center,or(v,D)}if(d.zoom){const D=Mr(d.zoom,f,Co);v.zoom=this._map.transform.zoom+D.amount,or(v,D)}if(d.bearing){const D=Mr(d.bearing,f,Or);v.bearing=this._map.transform.bearing+g.ad(D.amount,-179,179),or(v,D)}if(d.pitch){const D=Mr(d.pitch,f,pl);v.pitch=this._map.transform.pitch+D.amount,or(v,D)}if(v.zoom||v.bearing){const D=void 0===d.pinchAround?d.around:d.pinchAround;v.around=D?this._map.unproject(D):this._map.getCenter()}return this.clear(),g.e(v,{noMoveStart:!0})}}function or(w,n){(!w.duration||w.duration<n.duration)&&(w.duration=n.duration,w.easing=n.easing)}function Mr(w,n,d){const{maxSpeed:f,linearity:v,deceleration:D}=d,O=g.ad(w*v/(n/1e3),-f,f),R=Math.abs(O)/(D*v);return{easing:d.easing,duration:1e3*R,amount:O*(R/2)}}class Zr extends g.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,d,f,v={}){const D=le.mousePos(d.getCanvasContainer(),f),O=d.unproject(D);super(n,g.e({point:D,lngLat:O,originalEvent:f},v)),this._defaultPrevented=!1,this.target=d}}class Oa extends g.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,d,f){const v="touchend"===n?f.changedTouches:f.touches,D=le.touchPos(d.getCanvasContainer(),v),O=D.map(V=>d.unproject(V)),R=D.reduce((V,Z,J,ne)=>V.add(Z.div(ne.length)),new g.P(0,0));super(n,{points:D,point:R,lngLats:O,lngLat:d.unproject(R),originalEvent:f}),this._defaultPrevented=!1}}class Bs extends g.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,d,f){super(n,{originalEvent:f}),this._defaultPrevented=!1}}class jc{constructor(n,d){this._map=n,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(n){return this._firePreventable(new Bs(n.type,this._map,n))}mousedown(n,d){return this._mousedownPos=d,this._firePreventable(new Zr(n.type,this._map,n))}mouseup(n){this._map.fire(new Zr(n.type,this._map,n))}click(n,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Zr(n.type,this._map,n))}dblclick(n){return this._firePreventable(new Zr(n.type,this._map,n))}mouseover(n){this._map.fire(new Zr(n.type,this._map,n))}mouseout(n){this._map.fire(new Zr(n.type,this._map,n))}touchstart(n){return this._firePreventable(new Oa(n.type,this._map,n))}touchmove(n){this._map.fire(new Oa(n.type,this._map,n))}touchend(n){this._map.fire(new Oa(n.type,this._map,n))}touchcancel(n){this._map.fire(new Oa(n.type,this._map,n))}_firePreventable(n){if(this._map.fire(n),n.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class dd{constructor(n){this._map=n}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(n){this._map.fire(new Zr(n.type,this._map,n))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Zr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(n){this._delayContextMenu?this._contextMenuEvent=n:this._ignoreContextMenu||this._map.fire(new Zr(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fa{constructor(n){this._map=n}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(n){return this.transform.pointLocation(g.P.convert(n),this._map.terrain)}}class Hc{constructor(n,d){this._map=n,this._tr=new fa(n),this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(n,d){this.isEnabled()&&n.shiftKey&&0===n.button&&(le.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(n,d){if(!this._active)return;const f=d;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=f,this._box||(this._box=le.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",n));const D=Math.min(v.x,f.x),O=Math.max(v.x,f.x),R=Math.min(v.y,f.y),V=Math.max(v.y,f.y);le.setTransform(this._box,`translate(${D}px,${R}px)`),this._box.style.width=O-D+"px",this._box.style.height=V-R+"px"}mouseupWindow(n,d){if(!this._active||0!==n.button)return;const f=this._startPos,v=d;if(this.reset(),le.suppressClick(),f.x!==v.x||f.y!==v.y)return this._map.fire(new g.k("boxzoomend",{originalEvent:n})),{cameraAnimation:D=>D.fitScreenCoordinates(f,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",n)}keydown(n){this._active&&27===n.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",n))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(le.remove(this._box),this._box=null),le.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(n,d){return this._map.fire(new g.k(n,{originalEvent:d}))}}function ns(w,n){if(w.length!==n.length)throw new Error(`The number of touches and points are not equal - touches ${w.length}, points ${n.length}`);const d={};for(let f=0;f<w.length;f++)d[w[f].identifier]=n[f];return d}class Qa{constructor(n){this.reset(),this.numTouches=n.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(n,d,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=n.timeStamp),f.length===this.numTouches&&(this.centroid=function(v){const D=new g.P(0,0);for(const O of v)D._add(O);return D.div(v.length)}(d),this.touches=ns(f,d)))}touchmove(n,d,f){if(this.aborted||!this.centroid)return;const v=ns(f,d);for(const D in this.touches){const O=v[D];(!O||O.dist(this.touches[D])>30)&&(this.aborted=!0)}}touchend(n,d,f){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),0===f.length){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class ia{constructor(n){this.singleTap=new Qa(n),this.numTaps=n.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(n,d,f){this.singleTap.touchstart(n,d,f)}touchmove(n,d,f){this.singleTap.touchmove(n,d,f)}touchend(n,d,f){const v=this.singleTap.touchend(n,d,f);if(v){const D=n.timeStamp-this.lastTime<500,O=!this.lastTap||this.lastTap.dist(v)<30;if(D&&O||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Ja{constructor(n){this._tr=new fa(n),this._zoomIn=new ia({numTouches:1,numTaps:2}),this._zoomOut=new ia({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(n,d,f){this._zoomIn.touchstart(n,d,f),this._zoomOut.touchstart(n,d,f)}touchmove(n,d,f){this._zoomIn.touchmove(n,d,f),this._zoomOut.touchmove(n,d,f)}touchend(n,d,f){const v=this._zoomIn.touchend(n,d,f),D=this._zoomOut.touchend(n,d,f),O=this._tr;return v?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:O.zoom+1,around:O.unproject(v)},{originalEvent:n})}):D?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:R=>R.easeTo({duration:300,zoom:O.zoom-1,around:O.unproject(D)},{originalEvent:n})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pa{constructor(n){this._enabled=!!n.enable,this._moveStateManager=n.moveStateManager,this._clickTolerance=n.clickTolerance||1,this._moveFunction=n.move,this._activateOnStart=!!n.activateOnStart,n.assignEvents(this),this.reset()}reset(n){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(n)}_move(...n){const d=this._moveFunction(...n);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(n,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(n)&&(this._moveStateManager.startMove(n),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(n,d){if(!this.isEnabled())return;const f=this._lastPoint;if(!f)return;if(n.preventDefault(),!this._moveStateManager.isValidMoveEvent(n))return void this.reset(n);const v=d.length?d[0]:d;return!this._moved&&v.dist(f)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(f,v))}dragEnd(n){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(n)&&(this._moved&&le.suppressClick(),this.reset(n))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const vc={0:1,2:2};class el{constructor(n){this._correctEvent=n.checkCorrectEvent}startMove(n){const d=le.mouseButton(n);this._eventButton=d}endMove(n){delete this._eventButton}isValidStartEvent(n){return this._correctEvent(n)}isValidMoveEvent(n){return!function(d,f){const v=vc[f];return void 0===d.buttons||(d.buttons&v)!==v}(n,this._eventButton)}isValidEndEvent(n){return le.mouseButton(n)===this._eventButton}}class bc{constructor(){this._firstTouch=void 0}_isOneFingerTouch(n){return 1===n.targetTouches.length}_isSameTouchEvent(n){return n.targetTouches[0].identifier===this._firstTouch}startMove(n){this._firstTouch=n.targetTouches[0].identifier}endMove(n){delete this._firstTouch}isValidStartEvent(n){return this._isOneFingerTouch(n)}isValidMoveEvent(n){return this._isOneFingerTouch(n)&&this._isSameTouchEvent(n)}isValidEndEvent(n){return this._isOneFingerTouch(n)&&this._isSameTouchEvent(n)}}const B=w=>{w.mousedown=w.dragStart,w.mousemoveWindow=w.dragMove,w.mouseup=w.dragEnd,w.contextmenu=function(n){n.preventDefault()}},fe=({enable:w,clickTolerance:n,bearingDegreesPerPixelMoved:d=.8})=>{const f=new el({checkCorrectEvent:v=>0===le.mouseButton(v)&&v.ctrlKey||2===le.mouseButton(v)});return new Pa({clickTolerance:n,move:(v,D)=>({bearingDelta:(D.x-v.x)*d}),moveStateManager:f,enable:w,assignEvents:B})},W=({enable:w,clickTolerance:n,pitchDegreesPerPixelMoved:d=-.5})=>{const f=new el({checkCorrectEvent:v=>0===le.mouseButton(v)&&v.ctrlKey||2===le.mouseButton(v)});return new Pa({clickTolerance:n,move:(v,D)=>({pitchDelta:(D.y-v.y)*d}),moveStateManager:f,enable:w,assignEvents:B})};class te{constructor(n,d){this._minTouches=n.cooperativeGestures?2:1,this._clickTolerance=n.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new g.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(n,d,f){return this._calculateTransform(n,d,f)}touchmove(n,d,f){if(this._map._cooperativeGestures&&(2===this._minTouches&&f.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(n,!1,f.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(f.length<this._minTouches))return n.preventDefault(),this._calculateTransform(n,d,f)}touchend(n,d,f){this._calculateTransform(n,d,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(n,d,f){f.length>0&&(this._active=!0);const v=ns(f,d),D=new g.P(0,0),O=new g.P(0,0);let R=0;for(const Z in v){const J=v[Z],ne=this._touches[Z];ne&&(D._add(J),O._add(J.sub(ne)),R++,v[Z]=J)}if(this._touches=v,R<this._minTouches||!O.mag())return;const V=O.div(R);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:D.div(R),panDelta:V}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qe{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(n,d,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([d[0],d[1]]))}touchmove(n,d,f){if(!this._firstTwoTouches)return;n.preventDefault();const[v,D]=this._firstTwoTouches,O=zt(f,d,v),R=zt(f,d,D);if(!O||!R)return;const V=this._aroundCenter?null:O.add(R).div(2);return this._move([O,R],V,n)}touchend(n,d,f){if(!this._firstTwoTouches)return;const[v,D]=this._firstTwoTouches,O=zt(f,d,v),R=zt(f,d,D);O&&R||(this._active&&le.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(n){this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function zt(w,n,d){for(let f=0;f<w.length;f++)if(w[f].identifier===d)return n[f]}function ii(w,n){return Math.log(w/n)/Math.LN2}class $i extends qe{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(n){this._startDistance=this._distance=n[0].dist(n[1])}_move(n,d){const f=this._distance;if(this._distance=n[0].dist(n[1]),this._active||!(Math.abs(ii(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ii(this._distance,f),pinchAround:d}}}function di(w,n){return 180*w.angleWith(n)/Math.PI}class fr extends qe{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(n){this._startVector=this._vector=n[0].sub(n[1]),this._minDiameter=n[0].dist(n[1])}_move(n,d){const f=this._vector;if(this._vector=n[0].sub(n[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:di(this._vector,f),pinchAround:d}}_isBelowThreshold(n){this._minDiameter=Math.min(this._minDiameter,n.mag());const d=25/(Math.PI*this._minDiameter)*360,f=di(n,this._startVector);return Math.abs(f)<d}}function gr(w){return Math.abs(w.y)>Math.abs(w.x)}class Hn extends qe{constructor(n){super(),this._map=n}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(n,d,f){super.touchstart(n,d,f),this._currentTouchCount=f.length}_start(n){this._lastPoints=n,gr(n[0].sub(n[1]))&&(this._valid=!1)}_move(n,d,f){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=n[0].sub(this._lastPoints[0]),D=n[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,D,f.timeStamp),this._valid?(this._lastPoints=n,this._active=!0,{pitchDelta:(v.y+D.y)/2*-.5}):void 0}gestureBeginsVertically(n,d,f){if(void 0!==this._valid)return this._valid;const v=n.mag()>=2,D=d.mag()>=2;if(!v&&!D)return;if(!v||!D)return void 0===this._firstMove&&(this._firstMove=f),f-this._firstMove<100&&void 0;const O=n.y>0==d.y>0;return gr(n)&&gr(d)&&O}}const wr={panStep:100,bearingStep:15,pitchStep:10};class Jn{constructor(n){this._tr=new fa(n);const d=wr;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(n){if(n.altKey||n.ctrlKey||n.metaKey)return;let d=0,f=0,v=0,D=0,O=0;switch(n.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:n.shiftKey?f=-1:(n.preventDefault(),D=-1);break;case 39:n.shiftKey?f=1:(n.preventDefault(),D=1);break;case 38:n.shiftKey?v=1:(n.preventDefault(),O=-1);break;case 40:n.shiftKey?v=-1:(n.preventDefault(),O=1);break;default:return}return this._rotationDisabled&&(f=0,v=0),{cameraAnimation:R=>{const V=this._tr;R.easeTo({duration:300,easeId:"keyboardHandler",easing:Hr,zoom:d?Math.round(V.zoom)+d*(n.shiftKey?2:1):V.zoom,bearing:V.bearing+f*this._bearingStep,pitch:V.pitch+v*this._pitchStep,offset:[-D*this._panStep,-O*this._panStep],center:V.center},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Hr(w){return w*(2-w)}const xs=4.000244140625;class Vs{constructor(n,d){this._onTimeout=f=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)},this._map=n,this._tr=new fa(n),this._el=n.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(n){this._defaultZoomRate=n}setWheelZoomRate(n){this._wheelZoomRate=n}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(n){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!n[this._map._metaKey])return;n.preventDefault()}let d=n.deltaMode===WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY;const f=g.h.now(),v=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,0!==d&&d%xs==0?this._type="wheel":0!==d&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),n.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=n,this._delta-=d,this._active||this._start(n)),n.preventDefault()}_start(n){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=le.mousePos(this._el,n),f=this._tr;this._around=g.L.convert(this._aroundCenter?f.center:f.unproject(d)),this._aroundPoint=f.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const n=this._tr.transform;if(0!==this._delta){const R="wheel"===this._type&&Math.abs(this._delta)>xs?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*R)));this._delta<0&&0!==V&&(V=1/V);const Z="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(Z*V))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d="number"==typeof this._targetZoom?this._targetZoom:n.zoom,f=this._startZoom,v=this._easing;let D,O=!1;if("wheel"===this._type&&f&&v){const R=Math.min((g.h.now()-this._lastWheelEventTime)/200,1),V=v(R);D=g.B.number(f,d,V),R<1?this._frameId||(this._frameId=!0):O=!0}else D=d,O=!0;return this._active=!0,O&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!O,zoomDelta:D-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(n){let d=g.bb;if(this._prevEase){const f=this._prevEase,v=(g.h.now()-f.start)/f.duration,D=f.easing(v+.01)-f.easing(v),O=.27/Math.sqrt(D*D+1e-4)*.01,R=Math.sqrt(.0729-O*O);d=g.ba(O,R,.25,1)}return this._prevEase={start:g.h.now(),duration:n,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class xn{constructor(n,d){this._clickZoom=n,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ho{constructor(n){this._tr=new fa(n),this.reset()}reset(){this._active=!1}dblclick(n,d){return n.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:this._tr.zoom+(n.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class na{constructor(){this._tap=new ia({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(n,d,f){if(!this._swipePoint)if(this._tapTime){const v=d[0],D=n.timeStamp-this._tapTime<500,O=this._tapPoint.dist(v)<30;D&&O?f.length>0&&(this._swipePoint=v,this._swipeTouch=f[0].identifier):this.reset()}else this._tap.touchstart(n,d,f)}touchmove(n,d,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const v=d[0],D=v.y-this._swipePoint.y;return this._swipePoint=v,n.preventDefault(),this._active=!0,{zoomDelta:D/128}}}else this._tap.touchmove(n,d,f)}touchend(n,d,f){if(this._tapTime)this._swipePoint&&0===f.length&&this.reset();else{const v=this._tap.touchend(n,d,f);v&&(this._tapTime=n.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ws{constructor(n,d,f){this._el=n,this._mousePan=d,this._touchPan=f}enable(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class eo{constructor(n,d,f){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=d,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Cs{constructor(n,d,f,v){this._el=n,this._touchZoom=d,this._touchRotate=f,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const rs=w=>w.zoom||w.drag||w.pitch||w.rotate;class ra extends g.k{}function fo(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}class Wl{constructor(n,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,D)=>{if("blur"===v.type)return void this.stop(!0);this._updatingCamera=!0;const O="renderFrame"===v.type?void 0:v,R={needsRenderFrame:!1},V={},Z={},J=v.touches,ne=J?this._getMapTouches(J):void 0,ge=ne?le.touchPos(this._el,ne):le.mousePos(this._el,v);for(const{handlerName:ze,handler:ke,allowed:gt}of this._handlers){if(!ke.isEnabled())continue;let Rt;this._blockedByActive(Z,gt,ze)?ke.reset():ke[D||v.type]&&(Rt=ke[D||v.type](v,ge,ne),this.mergeHandlerResult(R,V,Rt,ze,O),Rt&&Rt.needsRenderFrame&&this._triggerRenderFrame()),(Rt||ke.isActive())&&(Z[ze]=ke)}const Pe={};for(const ze in this._previousActiveHandlers)Z[ze]||(Pe[ze]=O);this._previousActiveHandlers=Z,(Object.keys(Pe).length||fo(R))&&(this._changes.push([R,V,Pe]),this._triggerRenderFrame()),(Object.keys(Z).length||fo(R))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=R;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))},this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new jr(n),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,D,O]of this._listeners)le.addEventListener(v,D,v===document?this.handleWindowEvent:this.handleEvent,O)}destroy(){for(const[n,d,f]of this._listeners)le.removeEventListener(n,d,n===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(n){const d=this._map,f=d.getCanvasContainer();this._add("mapEvent",new jc(d,n));const v=d.boxZoom=new Hc(d,n);this._add("boxZoom",v),n.interactive&&n.boxZoom&&v.enable();const D=new Ja(d),O=new Ho(d);d.doubleClickZoom=new xn(O,D),this._add("tapZoom",D),this._add("clickZoom",O),n.interactive&&n.doubleClickZoom&&d.doubleClickZoom.enable();const R=new na;this._add("tapDragZoom",R);const V=d.touchPitch=new Hn(d);this._add("touchPitch",V),n.interactive&&n.touchPitch&&d.touchPitch.enable(n.touchPitch);const Z=fe(n),J=W(n);d.dragRotate=new eo(n,Z,J),this._add("mouseRotate",Z,["mousePitch"]),this._add("mousePitch",J,["mouseRotate"]),n.interactive&&n.dragRotate&&d.dragRotate.enable();const ne=(({enable:gt,clickTolerance:Rt})=>{const T=new el({checkCorrectEvent:P=>0===le.mouseButton(P)&&!P.ctrlKey});return new Pa({clickTolerance:Rt,move:(P,I)=>({around:I,panDelta:I.sub(P)}),activateOnStart:!0,moveStateManager:T,enable:gt,assignEvents:B})})(n),ge=new te(n,d);d.dragPan=new ws(f,ne,ge),this._add("mousePan",ne),this._add("touchPan",ge,["touchZoom","touchRotate"]),n.interactive&&n.dragPan&&d.dragPan.enable(n.dragPan);const Pe=new fr,Fe=new $i;d.touchZoomRotate=new Cs(f,Fe,Pe,R),this._add("touchRotate",Pe,["touchPan","touchZoom"]),this._add("touchZoom",Fe,["touchPan","touchRotate"]),n.interactive&&n.touchZoomRotate&&d.touchZoomRotate.enable(n.touchZoomRotate);const ze=d.scrollZoom=new Vs(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ze,["mousePan"]),n.interactive&&n.scrollZoom&&d.scrollZoom.enable(n.scrollZoom);const ke=d.keyboard=new Jn(d);this._add("keyboard",ke),n.interactive&&n.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new dd(d))}_add(n,d,f){this._handlers.push({handlerName:n,handler:d,allowed:f}),this._handlersById[n]=d}stop(n){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}}isActive(){for(const{handler:n}of this._handlers)if(n.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!rs(this._eventsInProgress)||this.isZooming()}_blockedByActive(n,d,f){for(const v in n)if(v!==f&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(n){const d=[];for(const f of n)this._el.contains(f.target)&&d.push(f);return d}mergeHandlerResult(n,d,f,v,D){if(!f)return;g.e(n,f);const O={handlerName:v,originalEvent:f.originalEvent||D};void 0!==f.zoomDelta&&(d.zoom=O),void 0!==f.panDelta&&(d.drag=O),void 0!==f.pitchDelta&&(d.pitch=O),void 0!==f.bearingDelta&&(d.rotate=O)}_applyChanges(){const n={},d={},f={};for(const[v,D,O]of this._changes)v.panDelta&&(n.panDelta=(n.panDelta||new g.P(0,0))._add(v.panDelta)),v.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+v.pitchDelta),void 0!==v.around&&(n.around=v.around),void 0!==v.pinchAround&&(n.pinchAround=v.pinchAround),v.noInertia&&(n.noInertia=v.noInertia),g.e(d,D),g.e(f,O);this._updateMapTransform(n,d,f),this._changes=[]}_updateMapTransform(n,d,f){const v=this._map,D=v._getTransformForUpdate(),O=v.terrain;if(!(fo(n)||O&&this._terrainMovement))return this._fireEvents(d,f,!0);let{panDelta:R,zoomDelta:V,bearingDelta:Z,pitchDelta:J,around:ne,pinchAround:ge}=n;void 0!==ge&&(ne=ge),v._stop(!0),ne=ne||v.transform.centerPoint;const Pe=D.pointLocation(R?ne.sub(R):ne);Z&&(D.bearing+=Z),J&&(D.pitch+=J),V&&(D.zoom+=V),O?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?D.center=D.pointLocation(D.centerPoint.sub(R)):D.setLocationAtPoint(Pe,ne):(this._terrainMovement=!0,this._map._elevationFreeze=!0,D.setLocationAtPoint(Pe,ne),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,D.recalculateZoom(v.terrain)})):D.setLocationAtPoint(Pe,ne),v._applyUpdatedTransform(D),this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(d,f,!0)}_fireEvents(n,d,f){const v=rs(this._eventsInProgress),D=rs(n),O={};for(const J in n){const{originalEvent:ne}=n[J];this._eventsInProgress[J]||(O[`${J}start`]=ne),this._eventsInProgress[J]=n[J]}!v&&D&&this._fireEvent("movestart",D.originalEvent);for(const J in O)this._fireEvent(J,O[J]);D&&this._fireEvent("move",D.originalEvent);for(const J in n){const{originalEvent:ne}=n[J];this._fireEvent(J,ne)}const R={};let V;for(const J in this._eventsInProgress){const{handlerName:ne,originalEvent:ge}=this._eventsInProgress[J];this._handlersById[ne].isActive()||(delete this._eventsInProgress[J],V=d[ne]||ge,R[`${J}end`]=V)}for(const J in R)this._fireEvent(J,R[J]);const Z=rs(this._eventsInProgress);if(f&&(v||D)&&!Z){this._updatingCamera=!0;const J=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ne=ge=>0!==ge&&-this._bearingSnap<ge&&ge<this._bearingSnap;!J||!J.essential&&g.h.prefersReducedMotion?(this._map.fire(new g.k("moveend",{originalEvent:V})),ne(this._map.getBearing())&&this._map.resetNorth()):(ne(J.bearing||this._map.getBearing())&&(J.bearing=0),J.freezeElevation=!0,this._map.easeTo(J,{originalEvent:V})),this._updatingCamera=!1}}_fireEvent(n,d){this._map.fire(new g.k(n,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(n=>{delete this._frameId,this.handleEvent(new ra("renderFrame",{timeStamp:n})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Tr extends g.E{constructor(n,d){super(),this._renderFrameCallback=()=>{const f=Math.min((g.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new g.L(this.transform.center.lng,this.transform.center.lat)}setCenter(n,d){return this.jumpTo({center:n},d)}panBy(n,d,f){return n=g.P.convert(n).mult(-1),this.panTo(this.transform.center,g.e({offset:n},d),f)}panTo(n,d,f){return this.easeTo(g.e({center:n},d),f)}getZoom(){return this.transform.zoom}setZoom(n,d){return this.jumpTo({zoom:n},d),this}zoomTo(n,d,f){return this.easeTo(g.e({zoom:n},d),f)}zoomIn(n,d){return this.zoomTo(this.getZoom()+1,n,d),this}zoomOut(n,d){return this.zoomTo(this.getZoom()-1,n,d),this}getBearing(){return this.transform.bearing}setBearing(n,d){return this.jumpTo({bearing:n},d),this}getPadding(){return this.transform.padding}setPadding(n,d){return this.jumpTo({padding:n},d),this}rotateTo(n,d,f){return this.easeTo(g.e({bearing:n},d),f)}resetNorth(n,d){return this.rotateTo(0,g.e({duration:1e3},n),d),this}resetNorthPitch(n,d){return this.easeTo(g.e({bearing:0,pitch:0,duration:1e3},n),d),this}snapToNorth(n,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(n,d):this}getPitch(){return this.transform.pitch}setPitch(n,d){return this.jumpTo({pitch:n},d),this}cameraForBounds(n,d){n=Xe.convert(n);const f=d&&d.bearing||0;return this._cameraForBoxAndBearing(n.getNorthWest(),n.getSouthEast(),f,d)}_cameraForBoxAndBearing(n,d,f,v){const D={top:0,bottom:0,right:0,left:0};if("number"==typeof(v=g.e({padding:D,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding){const I=v.padding;v.padding={top:I,bottom:I,right:I,left:I}}v.padding=g.e(D,v.padding);const O=this.transform,R=O.padding,V=O.project(g.L.convert(n)),Z=O.project(g.L.convert(d)),J=V.rotate(-f*Math.PI/180),ne=Z.rotate(-f*Math.PI/180),ge=new g.P(Math.max(J.x,ne.x),Math.max(J.y,ne.y)),Pe=new g.P(Math.min(J.x,ne.x),Math.min(J.y,ne.y)),Fe=ge.sub(Pe),ze=(O.width-(R.left+R.right+v.padding.left+v.padding.right))/Fe.x,ke=(O.height-(R.top+R.bottom+v.padding.top+v.padding.bottom))/Fe.y;if(ke<0||ze<0)return void g.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const gt=Math.min(O.scaleZoom(O.scale*Math.min(ze,ke)),v.maxZoom),Rt=g.P.convert(v.offset),T=new g.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(f*Math.PI/180),P=Rt.add(T).mult(O.scale/O.zoomScale(gt));return{center:O.unproject(V.add(Z).div(2).sub(P)),zoom:gt,bearing:f}}fitBounds(n,d,f){return this._fitInternal(this.cameraForBounds(n,d),d,f)}fitScreenCoordinates(n,d,f,v,D){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(g.P.convert(n)),this.transform.pointLocation(g.P.convert(d)),f,v),v,D)}_fitInternal(n,d,f){return n?(delete(d=g.e(n,d)).padding,d.linear?this.easeTo(d,f):this.flyTo(d,f)):this}jumpTo(n,d){this.stop();const f=this._getTransformForUpdate();let v=!1,D=!1,O=!1;return"zoom"in n&&f.zoom!==+n.zoom&&(v=!0,f.zoom=+n.zoom),void 0!==n.center&&(f.center=g.L.convert(n.center)),"bearing"in n&&f.bearing!==+n.bearing&&(D=!0,f.bearing=+n.bearing),"pitch"in n&&f.pitch!==+n.pitch&&(O=!0,f.pitch=+n.pitch),null==n.padding||f.isPaddingEqual(n.padding)||(f.padding=n.padding),this._applyUpdatedTransform(f),this.fire(new g.k("movestart",d)).fire(new g.k("move",d)),v&&this.fire(new g.k("zoomstart",d)).fire(new g.k("zoom",d)).fire(new g.k("zoomend",d)),D&&this.fire(new g.k("rotatestart",d)).fire(new g.k("rotate",d)).fire(new g.k("rotateend",d)),O&&this.fire(new g.k("pitchstart",d)).fire(new g.k("pitch",d)).fire(new g.k("pitchend",d)),this.fire(new g.k("moveend",d))}calculateCameraOptionsFromTo(n,d,f,v=0){const D=g.U.fromLngLat(n,d),O=g.U.fromLngLat(f,v),R=O.x-D.x,V=O.y-D.y,Z=O.z-D.z,J=Math.hypot(R,V,Z);if(0===J)throw new Error("Can't calculate camera options with same From and To");const ne=Math.hypot(R,V),ge=this.transform.scaleZoom(this.transform.cameraToCenterDistance/J/this.transform.tileSize),Pe=180*Math.atan2(R,-V)/Math.PI;let Fe=180*Math.acos(ne/J)/Math.PI;return Fe=Z<0?90-Fe:90+Fe,{center:O.toLngLat(),zoom:ge,pitch:Fe,bearing:Pe}}easeTo(n,d){this._stop(!1,n.easeId),(!1===(n=g.e({offset:[0,0],duration:500,easing:g.bb},n)).animate||!n.essential&&g.h.prefersReducedMotion)&&(n.duration=0);const f=this._getTransformForUpdate(),v=this.getZoom(),D=this.getBearing(),O=this.getPitch(),R=this.getPadding(),V="zoom"in n?+n.zoom:v,Z="bearing"in n?this._normalizeBearing(n.bearing,D):D,J="pitch"in n?+n.pitch:O,ne="padding"in n?n.padding:f.padding,ge=g.P.convert(n.offset);let Pe=f.centerPoint.add(ge);const Fe=f.pointLocation(Pe),ze=g.L.convert(n.center||Fe);this._normalizeCenter(ze);const ke=f.project(Fe),gt=f.project(ze).sub(ke),Rt=f.zoomScale(V-v);let T,P;n.around&&(T=g.L.convert(n.around),P=f.locationPoint(T));const I={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||V!==v,this._rotating=this._rotating||D!==Z,this._pitching=this._pitching||J!==O,this._padding=!f.isPaddingEqual(ne),this._easeId=n.easeId,this._prepareEase(d,n.noMoveStart,I),this.terrain&&this._prepareElevation(ze),this._ease(F=>{if(this._zooming&&(f.zoom=g.B.number(v,V,F)),this._rotating&&(f.bearing=g.B.number(D,Z,F)),this._pitching&&(f.pitch=g.B.number(O,J,F)),this._padding&&(f.interpolatePadding(R,ne,F),Pe=f.centerPoint.add(ge)),this.terrain&&!n.freezeElevation&&this._updateElevation(F),T)f.setLocationAtPoint(T,P);else{const $=f.zoomScale(f.zoom-v),se=V>v?Math.min(2,Rt):Math.max(.5,Rt),be=Math.pow(se,1-F),Qe=f.unproject(ke.add(gt.mult(F*be)).mult($));f.setLocationAtPoint(f.renderWorldCopies?Qe.wrap():Qe,Pe)}this._applyUpdatedTransform(f),this._fireMoveEvents(d)},F=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,F)},n),this}_prepareEase(n,d,f={}){this._moving=!0,d||f.moving||this.fire(new g.k("movestart",n)),this._zooming&&!f.zooming&&this.fire(new g.k("zoomstart",n)),this._rotating&&!f.rotating&&this.fire(new g.k("rotatestart",n)),this._pitching&&!f.pitching&&this.fire(new g.k("pitchstart",n))}_prepareElevation(n){this._elevationCenter=n,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(n){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(n<1&&d!==this._elevationTarget){const f=this._elevationTarget-this._elevationStart;this._elevationStart+=n*(f-(d-(f*n+this._elevationStart))/(1-n)),this._elevationTarget=d}this.transform.elevation=g.B.number(this._elevationStart,this._elevationTarget,n)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(n){if(!this.transformCameraUpdate)return;const d=n.clone(),{center:f,zoom:v,pitch:D,bearing:O,elevation:R}=this.transformCameraUpdate(d);f&&(d.center=f),void 0!==v&&(d.zoom=v),void 0!==D&&(d.pitch=D),void 0!==O&&(d.bearing=O),void 0!==R&&(d.elevation=R),this.transform.apply(d)}_fireMoveEvents(n){this.fire(new g.k("move",n)),this._zooming&&this.fire(new g.k("zoom",n)),this._rotating&&this.fire(new g.k("rotate",n)),this._pitching&&this.fire(new g.k("pitch",n))}_afterEase(n,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const f=this._zooming,v=this._rotating,D=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new g.k("zoomend",n)),v&&this.fire(new g.k("rotateend",n)),D&&this.fire(new g.k("pitchend",n)),this.fire(new g.k("moveend",n))}flyTo(n,d){if(!n.essential&&g.h.prefersReducedMotion){const Ai=g.F(n,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ai,d)}this.stop(),n=g.e({offset:[0,0],speed:1.2,curve:1.42,easing:g.bb},n);const f=this._getTransformForUpdate(),v=this.getZoom(),D=this.getBearing(),O=this.getPitch(),R=this.getPadding(),V="zoom"in n?g.ad(+n.zoom,f.minZoom,f.maxZoom):v,Z="bearing"in n?this._normalizeBearing(n.bearing,D):D,J="pitch"in n?+n.pitch:O,ne="padding"in n?n.padding:f.padding,ge=f.zoomScale(V-v),Pe=g.P.convert(n.offset);let Fe=f.centerPoint.add(Pe);const ze=f.pointLocation(Fe),ke=g.L.convert(n.center||ze);this._normalizeCenter(ke);const gt=f.project(ze),Rt=f.project(ke).sub(gt);let T=n.curve;const P=Math.max(f.width,f.height),I=P/ge,F=Rt.mag();if("minZoom"in n){const Ai=g.ad(Math.min(n.minZoom,v,V),f.minZoom,f.maxZoom),er=P/f.zoomScale(Ai-v);T=Math.sqrt(er/F*2)}const $=T*T;function se(Ai){const er=(I*I-P*P+(Ai?-1:1)*$*$*F*F)/(2*(Ai?I:P)*$*F);return Math.log(Math.sqrt(er*er+1)-er)}function be(Ai){return(Math.exp(Ai)-Math.exp(-Ai))/2}function Qe(Ai){return(Math.exp(Ai)+Math.exp(-Ai))/2}const st=se(!1);let oi=function(Ai){return Qe(st)/Qe(st+T*Ai)},Jt=function(Ai){return P*((Qe(st)*(be(er=st+T*Ai)/Qe(er))-be(st))/$)/F;var er},bi=(se(!0)-st)/T;if(Math.abs(F)<1e-6||!isFinite(bi)){if(Math.abs(P-I)<1e-6)return this.easeTo(n,d);const Ai=I<P?-1:1;bi=Math.abs(Math.log(I/P))/T,Jt=function(){return 0},oi=function(er){return Math.exp(Ai*T*er)}}return n.duration="duration"in n?+n.duration:1e3*bi/("screenSpeed"in n?+n.screenSpeed/T:+n.speed),n.maxDuration&&n.duration>n.maxDuration&&(n.duration=0),this._zooming=!0,this._rotating=D!==Z,this._pitching=J!==O,this._padding=!f.isPaddingEqual(ne),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ke),this._ease(Ai=>{const er=Ai*bi,Rn=1/oi(er);f.zoom=1===Ai?V:v+f.scaleZoom(Rn),this._rotating&&(f.bearing=g.B.number(D,Z,Ai)),this._pitching&&(f.pitch=g.B.number(O,J,Ai)),this._padding&&(f.interpolatePadding(R,ne,Ai),Fe=f.centerPoint.add(Pe)),this.terrain&&!n.freezeElevation&&this._updateElevation(Ai);const qi=1===Ai?ke:f.unproject(gt.add(Rt.mult(Jt(er))).mult(Rn));f.setLocationAtPoint(f.renderWorldCopies?qi.wrap():qi,Fe),this._applyUpdatedTransform(f),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},n),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(n,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,d)}if(!n){const f=this.handlers;f&&f.stop(!1)}return this}_ease(n,d,f){!1===f.animate||0===f.duration?(n(1),d()):(this._easeStart=g.h.now(),this._easeOptions=f,this._onEaseFrame=n,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(n,d){n=g.b5(n,-180,180);const f=Math.abs(n-d);return Math.abs(n-360-d)<f&&(n-=360),Math.abs(n+360-d)<f&&(n+=360),n}_normalizeCenter(n){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const f=n.lng-d.center.lng;n.lng+=f>180?-360:f<-180?360:0}queryTerrainElevation(n){return this.terrain?this.terrain.getElevationForLngLatZoom(g.L.convert(n),this.transform.tileZoom)-this.transform.elevation:null}}class os{constructor(n={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||"metadata"!==d.sourceDataType&&"visibility"!==d.sourceDataType&&"style"!==d.dataType&&"terrain"!==d.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=n}getDefaultPosition(){return"bottom-right"}onAdd(n){return this._map=n,this._compact=this.options&&this.options.compact,this._container=le.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=le.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=le.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){le.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(n,d){const f=this._map._getUIString(`AttributionControl.${d}`);n.title=f,n.setAttribute("aria-label",f)}_updateAttributions(){if(!this._map.style)return;let n=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map(v=>"string"!=typeof v?"":v)):"string"==typeof this.options.customAttribution&&n.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const D=d[v];if(D.used||D.usedForTerrain){const O=D.getSource();O.attribution&&n.indexOf(O.attribution)<0&&n.push(O.attribution)}}n=n.filter(v=>String(v).trim()),n.sort((v,D)=>v.length-D.length),n=n.filter((v,D)=>{for(let O=D+1;O<n.length;O++)if(n[O].indexOf(v)>=0)return!1;return!0});const f=n.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,n.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class lr{constructor(n={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const f=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}},this.options=n}getDefaultPosition(){return"bottom-left"}onAdd(n){this._map=n,this._compact=this.options&&this.options.compact,this._container=le.create("div","maplibregl-ctrl");const d=le.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){le.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Cr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(n){const d=++this._id;return this._queue.push({callback:n,id:d,cancelled:!1}),d}remove(n){const d=this._currentlyRunning,f=d?this._queue.concat(d):this._queue;for(const v of f)if(v.id===n)return void(v.cancelled=!0)}run(n=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const f of d)if(!f.cancelled&&(f.callback(n),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ud={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var ql=g.Q([{name:"a_pos3d",type:"Int16",components:3}]);class Ra extends g.E{constructor(n){super(),this.sourceCache=n,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,n.usedForTerrain=!0,n.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(n,d){this.sourceCache.update(n,d),this._renderableTilesKeys=[];const f={};for(const v of n.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))f[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),g.aS(v.posMatrix,0,g.N,0,g.N,0,1),this._tiles[v.key]=new Vt(v,this.tileSize));for(const v in this._tiles)f[v]||delete this._tiles[v]}freeRtt(n){for(const d in this._tiles){const f=this._tiles[d];(!n||f.tileID.equals(n)||f.tileID.isChildOf(n)||n.isChildOf(f.tileID))&&(f.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(n=>this.getTileByID(n))}getTileByID(n){return this._tiles[n]}getTerrainCoords(n){const d={};for(const f of this._renderableTilesKeys){const v=this._tiles[f].tileID;if(v.canonical.equals(n.canonical)){const D=n.clone();D.posMatrix=new Float64Array(16),g.aS(D.posMatrix,0,g.N,0,g.N,0,1),d[f]=D}else if(v.canonical.isChildOf(n.canonical)){const D=n.clone();D.posMatrix=new Float64Array(16);const O=v.canonical.z-n.canonical.z,R=v.canonical.x-(v.canonical.x>>O<<O),V=v.canonical.y-(v.canonical.y>>O<<O),Z=g.N>>O;g.aS(D.posMatrix,0,Z,0,Z,0,1),g.$(D.posMatrix,D.posMatrix,[-R*Z,-V*Z,0]),d[f]=D}else if(n.canonical.isChildOf(v.canonical)){const D=n.clone();D.posMatrix=new Float64Array(16);const O=n.canonical.z-v.canonical.z,R=n.canonical.x-(n.canonical.x>>O<<O),V=n.canonical.y-(n.canonical.y>>O<<O),Z=g.N>>O;g.aS(D.posMatrix,0,g.N,0,g.N,0,1),g.$(D.posMatrix,D.posMatrix,[R*Z,V*Z,0]),g.a0(D.posMatrix,D.posMatrix,[1/2**O,1/2**O,0]),d[f]=D}}return d}getSourceTile(n,d){const f=this.sourceCache._source;let v=n.overscaledZ-this.deltaZoom;if(v>f.maxzoom&&(v=f.maxzoom),v<f.minzoom)return null;this._sourceTileCache[n.key]||(this._sourceTileCache[n.key]=n.scaledTo(v).key);let D=this.sourceCache.getTileByID(this._sourceTileCache[n.key]);if((!D||!D.dem)&&d)for(;v>=f.minzoom&&(!D||!D.dem);)D=this.sourceCache.getTileByID(n.scaledTo(v--).key);return D}tilesAfterTime(n=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=n)}}class ss{constructor(n,d,f){this.painter=n,this.sourceCache=new Ra(d),this.options=f,this.exaggeration="number"==typeof f.exaggeration?f.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(n,d,f,v=g.N){var D;if(!(d>=0&&d<v&&f>=0&&f<v))return 0;const O=this.getTerrainData(n),R=null===(D=O.tile)||void 0===D?void 0:D.dem;if(!R)return 0;const V=((Fe=[])[0]=(ke=O.u_terrain_matrix)[0]*(gt=(ze=[d/v*g.N,f/v*g.N])[0])+ke[4]*(Rt=ze[1])+ke[12],Fe[1]=ke[1]*gt+ke[5]*Rt+ke[13],Fe),Z=[V[0]*R.dim,V[1]*R.dim],J=Math.floor(Z[0]),ne=Math.floor(Z[1]),ge=Z[0]-J,Pe=Z[1]-ne;var Fe,ze,ke,gt,Rt;return R.get(J,ne)*(1-ge)*(1-Pe)+R.get(J+1,ne)*ge*(1-Pe)+R.get(J,ne+1)*(1-ge)*Pe+R.get(J+1,ne+1)*ge*Pe}getElevationForLngLatZoom(n,d){const{tileID:f,mercatorX:v,mercatorY:D}=this._getOverscaledTileIDFromLngLatZoom(n,d);return this.getElevation(f,v%g.N,D%g.N,g.N)}getElevation(n,d,f,v=g.N){return this.getDEMElevation(n,d,f,v)*this.exaggeration}getTerrainData(n){if(!this._emptyDemTexture){const v=this.painter.context,D=new g.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ht(v,D,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ht(v,new g.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=g.ao([])}const d=this.sourceCache.getSourceTile(n,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new ht(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const f=d&&d+d.tileID.key+n.key;if(f&&!this._demMatrixCache[f]){const v=this.sourceCache.sourceCache._source.maxzoom;let D=n.canonical.z-d.tileID.canonical.z;n.overscaledZ>n.canonical.z&&(n.canonical.z>=v?D=n.canonical.z-v:g.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const O=n.canonical.x-(n.canonical.x>>D<<D),R=n.canonical.y-(n.canonical.y>>D<<D),V=g.bc(new Float64Array(16),[1/(g.N<<D),1/(g.N<<D),0]);g.$(V,V,[O*g.N,R*g.N,0]),this._demMatrixCache[n.key]={matrix:V,coord:n}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[n.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(n){const d=this.painter,f=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ht(d.context,{width:f,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ht(d.context,{width:f,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(f,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,f,v))),this._fbo.colorAttachment.set("coords"===n?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const n=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let D=0,O=0;D<this._coordsTextureSize;D++)for(let R=0;R<this._coordsTextureSize;R++,O+=4)d[O+0]=255&R,d[O+1]=255&D,d[O+2]=R>>8<<4|D>>8,d[O+3]=0;const f=new g.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new ht(n,f,n.gl.RGBA,{premultiply:!1});return v.bind(n.gl.NEAREST,n.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(n){const d=new Uint8Array(4),f=this.painter.context,v=f.gl;f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(n.x,this.painter.height/devicePixelRatio-n.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),f.bindFramebuffer.set(null);const D=d[0]+(d[2]>>4<<8),O=d[1]+((15&d[2])<<8),R=this.coordsIndex[255-d[3]],V=R&&this.sourceCache.getTileByID(R);if(!V)return null;const Z=this._coordsTextureSize,J=(1<<V.tileID.canonical.z)*Z;return new g.U((V.tileID.canonical.x*Z+D)/J,(V.tileID.canonical.y*Z+O)/J,this.getElevation(V.tileID,D,O,Z))}getTerrainMesh(){if(this._mesh)return this._mesh;const n=this.painter.context,d=new g.bd,f=new g.b0,v=this.meshSize,D=g.N/v,O=v*v;for(let ne=0;ne<=v;ne++)for(let ge=0;ge<=v;ge++)d.emplaceBack(ge*D,ne*D,0);for(let ne=0;ne<O;ne+=v+1)for(let ge=0;ge<v;ge++)f.emplaceBack(ge+ne,v+ge+ne+1,v+ge+ne+2),f.emplaceBack(ge+ne,v+ge+ne+2,ge+ne+1);const R=d.length,V=R+2*(v+1);for(const ne of[0,1])for(let ge=0;ge<=v;ge++)for(const Pe of[0,1])d.emplaceBack(ge*D,ne*g.N,Pe);for(let ne=0;ne<2*v;ne+=2)f.emplaceBack(V+ne,V+ne+1,V+ne+3),f.emplaceBack(V+ne,V+ne+3,V+ne+2),f.emplaceBack(R+ne,R+ne+3,R+ne+1),f.emplaceBack(R+ne,R+ne+2,R+ne+3);const Z=d.length,J=Z+2*(v+1);for(const ne of[0,1])for(let ge=0;ge<=v;ge++)for(const Pe of[0,1])d.emplaceBack(ne*g.N,ge*D,Pe);for(let ne=0;ne<2*v;ne+=2)f.emplaceBack(Z+ne,Z+ne+1,Z+ne+3),f.emplaceBack(Z+ne,Z+ne+3,Z+ne+2),f.emplaceBack(J+ne,J+ne+3,J+ne+1),f.emplaceBack(J+ne,J+ne+2,J+ne+3);return this._mesh={indexBuffer:n.createIndexBuffer(f),vertexBuffer:n.createVertexBuffer(d,ql.members),segments:g.S.simpleSegment(0,0,d.length,f.length)},this._mesh}getMeshFrameDelta(n){return 2*Math.PI*g.be/Math.pow(2,n)/5}getMinTileElevationForLngLatZoom(n,d){var f;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(n,d);return null!==(f=this.getMinMaxElevation(v).minElevation)&&void 0!==f?f:0}getMinMaxElevation(n){const d=this.getTerrainData(n).tile,f={minElevation:null,maxElevation:null};return d&&d.dem&&(f.minElevation=d.dem.min*this.exaggeration,f.maxElevation=d.dem.max*this.exaggeration),f}_getOverscaledTileIDFromLngLatZoom(n,d){const f=g.U.fromLngLat(n.wrap()),v=(1<<d)*g.N,D=f.x*v,O=f.y*v,R=Math.floor(D/g.N),V=Math.floor(O/g.N);return{tileID:new g.O(d,0,d,R,V),mercatorX:D,mercatorY:O}}}class fu{constructor(n,d,f){this._context=n,this._size=d,this._tileSize=f,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const n of this._objects)n.texture.destroy(),n.fbo.destroy()}_createObject(n){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),f=new ht(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return f.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(f.texture),{id:n,fbo:d,texture:f,stamp:-1,inUse:!1}}getObjectForId(n){return this._objects[n]}useObject(n){n.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>n.id!==d),this._recentlyUsed.push(n.id)}stampObject(n){n.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const n=this._createObject(this._objects.length);return this._objects.push(n),n}freeObject(n){n.inUse=!1}freeAllObjects(){for(const n of this._objects)this.freeObject(n)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(n=>!n.inUse)}}const Eo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class hd{constructor(n,d){this.painter=n,this.terrain=d,this.pool=new fu(n.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(n){return this.pool.getObjectForId(n.rtt[this._stacks.length-1].id).texture}prepareForRender(n,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=n._order.filter(f=>!n._layers[f].isHidden(d)),this._coordsDescendingInv={};for(const f in n.sourceCaches){this._coordsDescendingInv[f]={};const v=n.sourceCaches[f].getVisibleCoordinates();for(const D of v){const O=this.terrain.sourceCache.getTerrainCoords(D);for(const R in O)this._coordsDescendingInv[f][R]||(this._coordsDescendingInv[f][R]=[]),this._coordsDescendingInv[f][R].push(O[R])}}this._coordsDescendingInvStr={};for(const f of n._order){const v=n._layers[f],D=v.source;if(Eo[v.type]&&!this._coordsDescendingInvStr[D]){this._coordsDescendingInvStr[D]={};for(const O in this._coordsDescendingInv[D])this._coordsDescendingInvStr[D][O]=this._coordsDescendingInv[D][O].map(R=>R.key).sort().join()}}for(const f of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const D=this._coordsDescendingInvStr[v][f.tileID.key];D&&D!==f.rttCoords[v]&&(f.rtt=[])}}renderLayer(n){if(n.isHidden(this.painter.transform.zoom))return!1;const d=n.type,f=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===n.id;if(Eo[d]&&(this._prevType&&Eo[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(n.id),!v))return!0;if(Eo[this._prevType]||Eo[d]&&v){this._prevType=d;const D=this._stacks.length-1,O=this._stacks[D]||[];for(const R of this._renderableTiles){if(this.pool.isFull()&&(rr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(R),R.rtt[D]){const Z=this.pool.getObjectForId(R.rtt[D].id);if(Z.stamp===R.rtt[D].stamp){this.pool.useObject(Z);continue}}const V=this.pool.getOrCreateFreeObject();this.pool.useObject(V),this.pool.stampObject(V),R.rtt[D]={id:V.id,stamp:V.stamp},f.context.bindFramebuffer.set(V.fbo.framebuffer),f.context.clear({color:g.aT.transparent,stencil:0}),f.currentStencilSource=void 0;for(let Z=0;Z<O.length;Z++){const J=f.style._layers[O[Z]],ne=J.source?this._coordsDescendingInv[J.source][R.tileID.key]:[R.tileID];f.context.viewport.set([0,0,V.fbo.width,V.fbo.height]),f._renderTileClippingMasks(J,ne),f.renderLayer(f,f.style.sourceCaches[J.source],J,ne),J.source&&(R.rttCoords[J.source]=this._coordsDescendingInvStr[J.source][R.tileID.key])}}return rr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Eo[d]}return!1}}const yn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:g.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},oa=w=>{w.touchstart=w.dragStart,w.touchmoveWindow=w.dragMove,w.touchend=w.dragEnd},xc={showCompass:!0,showZoom:!0,visualizePitch:!1};class fl{constructor(n,d,f=!1){this.mousedown=O=>{this.startMouse(g.e({},O,{ctrlKey:!0,preventDefault:()=>O.preventDefault()}),le.mousePos(this.element,O)),le.addEventListener(window,"mousemove",this.mousemove),le.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=O=>{this.moveMouse(O,le.mousePos(this.element,O))},this.mouseup=O=>{this.mouseRotate.dragEnd(O),this.mousePitch&&this.mousePitch.dragEnd(O),this.offTemp()},this.touchstart=O=>{1!==O.targetTouches.length?this.reset():(this._startPos=this._lastPos=le.touchPos(this.element,O.targetTouches)[0],this.startTouch(O,this._startPos),le.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),le.addEventListener(window,"touchend",this.touchend))},this.touchmove=O=>{1!==O.targetTouches.length?this.reset():(this._lastPos=le.touchPos(this.element,O.targetTouches)[0],this.moveTouch(O,this._lastPos))},this.touchend=O=>{0===O.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=n.dragRotate._mouseRotate.getClickTolerance(),D=n.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=fe({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:O,clickTolerance:R,bearingDegreesPerPixelMoved:V=.8})=>{const Z=new bc;return new Pa({clickTolerance:R,move:(J,ne)=>({bearingDelta:(ne.x-J.x)*V}),moveStateManager:Z,enable:O,assignEvents:oa})})({clickTolerance:v,enable:!0}),this.map=n,f&&(this.mousePitch=W({clickTolerance:D,enable:!0}),this.touchPitch=(({enable:O,clickTolerance:R,pitchDegreesPerPixelMoved:V=-.5})=>{const Z=new bc;return new Pa({clickTolerance:R,move:(J,ne)=>({pitchDelta:(ne.y-J.y)*V}),moveStateManager:Z,enable:O,assignEvents:oa})})({clickTolerance:D,enable:!0})),le.addEventListener(d,"mousedown",this.mousedown),le.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),le.addEventListener(d,"touchcancel",this.reset)}startMouse(n,d){this.mouseRotate.dragStart(n,d),this.mousePitch&&this.mousePitch.dragStart(n,d),le.disableDrag()}startTouch(n,d){this.touchRotate.dragStart(n,d),this.touchPitch&&this.touchPitch.dragStart(n,d),le.disableDrag()}moveMouse(n,d){const f=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(n,d)||{};if(v&&f.setBearing(f.getBearing()+v),this.mousePitch){const{pitchDelta:D}=this.mousePitch.dragMove(n,d)||{};D&&f.setPitch(f.getPitch()+D)}}moveTouch(n,d){const f=this.map,{bearingDelta:v}=this.touchRotate.dragMove(n,d)||{};if(v&&f.setBearing(f.getBearing()+v),this.touchPitch){const{pitchDelta:D}=this.touchPitch.dragMove(n,d)||{};D&&f.setPitch(f.getPitch()+D)}}off(){const n=this.element;le.removeEventListener(n,"mousedown",this.mousedown),le.removeEventListener(n,"touchstart",this.touchstart,{passive:!1}),le.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),le.removeEventListener(window,"touchend",this.touchend),le.removeEventListener(n,"touchcancel",this.reset),this.offTemp()}offTemp(){le.enableDrag(),le.removeEventListener(window,"mousemove",this.mousemove),le.removeEventListener(window,"mouseup",this.mouseup),le.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),le.removeEventListener(window,"touchend",this.touchend)}}let Rr;function as(w,n,d){if(w=new g.L(w.lng,w.lat),n){const f=new g.L(w.lng-360,w.lat),v=new g.L(w.lng+360,w.lat),D=d.locationPoint(w).distSqr(n);d.locationPoint(f).distSqr(n)<D?w=f:d.locationPoint(v).distSqr(n)<D&&(w=v)}for(;Math.abs(w.lng-d.center.lng)>180;){const f=d.locationPoint(w);if(f.x>=0&&f.y>=0&&f.x<=d.width&&f.y<=d.height)break;w.lng>d.center.lng?w.lng-=360:w.lng+=360}return w}const Es={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function In(w,n,d){const f=w.classList;for(const v in Es)f.remove(`maplibregl-${d}-anchor-${v}`);f.add(`maplibregl-${d}-anchor-${n}`)}class Rl extends g.E{constructor(n){if(super(),this._onKeyPress=d=>{const f=d.code,v=d.charCode||d.keyCode;"Space"!==f&&"Enter"!==f&&32!==v&&13!==v||this.togglePopup()},this._onMapClick=d=>{const f=d.originalEvent.target,v=this._element;this._popup&&(f===v||v.contains(f))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const f=this._map.loaded()&&!this._map.isMoving();("terrain"===d?.type||"render"===d?.type&&!f)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=as(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?v=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let D="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?D="rotateX(0deg)":"map"===this._pitchAlignment&&(D=`rotateX(${this._map.getPitch()}deg)`),d&&"moveend"!==d.type||(this._pos=this._pos.round()),le.setTransform(this._element,`${Es[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${D} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const O=this._map.unproject(this._pos),R=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=O.distanceTo(this._lngLat)>20*R?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new g.k("dragstart"))),this.fire(new g.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new g.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=g.P.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=le.create("div"),this._element.setAttribute("aria-label","Map marker");const d=le.createNS("http://www.w3.org/2000/svg","svg"),f=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${f}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${f}`);const D=le.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"stroke","none"),D.setAttributeNS(null,"stroke-width","1"),D.setAttributeNS(null,"fill","none"),D.setAttributeNS(null,"fill-rule","evenodd");const O=le.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"fill-rule","nonzero");const R=le.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"transform","translate(3.0, 29.0)"),R.setAttributeNS(null,"fill","#000000");const V=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const gt of V){const Rt=le.createNS("http://www.w3.org/2000/svg","ellipse");Rt.setAttributeNS(null,"opacity","0.04"),Rt.setAttributeNS(null,"cx","10.5"),Rt.setAttributeNS(null,"cy","5.80029008"),Rt.setAttributeNS(null,"rx",gt.rx),Rt.setAttributeNS(null,"ry",gt.ry),R.appendChild(Rt)}const Z=le.createNS("http://www.w3.org/2000/svg","g");Z.setAttributeNS(null,"fill",this._color);const J=le.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Z.appendChild(J);const ne=le.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"opacity","0.25"),ne.setAttributeNS(null,"fill","#000000");const ge=le.createNS("http://www.w3.org/2000/svg","path");ge.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ne.appendChild(ge);const Pe=le.createNS("http://www.w3.org/2000/svg","g");Pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Pe.setAttributeNS(null,"fill","#FFFFFF");const Fe=le.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ze=le.createNS("http://www.w3.org/2000/svg","circle");ze.setAttributeNS(null,"fill","#000000"),ze.setAttributeNS(null,"opacity","0.25"),ze.setAttributeNS(null,"cx","5.5"),ze.setAttributeNS(null,"cy","5.5"),ze.setAttributeNS(null,"r","5.4999962");const ke=le.createNS("http://www.w3.org/2000/svg","circle");ke.setAttributeNS(null,"fill","#FFFFFF"),ke.setAttributeNS(null,"cx","5.5"),ke.setAttributeNS(null,"cy","5.5"),ke.setAttributeNS(null,"r","5.4999962"),Fe.appendChild(ze),Fe.appendChild(ke),O.appendChild(R),O.appendChild(Z),O.appendChild(ne),O.appendChild(Pe),O.appendChild(Fe),d.appendChild(O),d.setAttributeNS(null,"height",f*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=g.P.convert(n&&n.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),In(this._element,this._anchor,"marker"),n&&n.className)for(const d of n.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(n){return this.remove(),this._map=n,n.getCanvasContainer().appendChild(this._element),n.on("move",this._update),n.on("moveend",this._update),n.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),le.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(n){return this._lngLat=g.L.convert(n),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(n){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),n){if(!("offset"in n.options)){const v=Math.abs(13.5)/Math.SQRT2;n.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(24.6+v)],"bottom-right":[-v,-1*(24.6+v)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=n,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const n=this._popup;return n?(n.isOpen()?n.remove():n.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(n){return this._offset=g.P.convert(n),this._update(),this}addClassName(n){this._element.classList.add(n)}removeClassName(n){this._element.classList.remove(n)}toggleClassName(n){return this._element.classList.toggle(n)}setDraggable(n){return this._draggable=!!n,this._map&&(n?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(n){return this._rotation=n||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(n){return this._rotationAlignment=n||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(n){return this._pitchAlignment=n&&"auto"!==n?n:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Wr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Fr=0,tl=!1;const gl={maxWidth:100,unit:"metric"};function Yl(w,n,d){const f=d&&d.maxWidth||100,v=w._container.clientHeight/2,D=w.unproject([0,v]),O=w.unproject([f,v]),R=D.distanceTo(O);if(d&&"imperial"===d.unit){const V=3.2808*R;V>5280?sa(n,f,V/5280,w._getUIString("ScaleControl.Miles")):sa(n,f,V,w._getUIString("ScaleControl.Feet"))}else d&&"nautical"===d.unit?sa(n,f,R/1852,w._getUIString("ScaleControl.NauticalMiles")):R>=1e3?sa(n,f,R/1e3,w._getUIString("ScaleControl.Kilometers")):sa(n,f,R,w._getUIString("ScaleControl.Meters"))}function sa(w,n,d,f){const v=function(D){const O=Math.pow(10,`${Math.floor(D)}`.length-1);let R=D/O;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(V){const Z=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*Z)/Z}(R),O*R}(d);w.style.width=n*(v/d)+"px",w.innerHTML=`${v}&nbsp;${f}`}const Dd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},$c=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Kl(w){if(w){if("number"==typeof w){const n=Math.round(Math.abs(w)/Math.SQRT2);return{center:new g.P(0,0),top:new g.P(0,w),"top-left":new g.P(n,n),"top-right":new g.P(-n,n),bottom:new g.P(0,-w),"bottom-left":new g.P(n,-n),"bottom-right":new g.P(-n,-n),left:new g.P(w,0),right:new g.P(-w,0)}}if(w instanceof g.P||Array.isArray(w)){const n=g.P.convert(w);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:g.P.convert(w.center||[0,0]),top:g.P.convert(w.top||[0,0]),"top-left":g.P.convert(w["top-left"]||[0,0]),"top-right":g.P.convert(w["top-right"]||[0,0]),bottom:g.P.convert(w.bottom||[0,0]),"bottom-left":g.P.convert(w["bottom-left"]||[0,0]),"bottom-right":g.P.convert(w["bottom-right"]||[0,0]),left:g.P.convert(w.left||[0,0]),right:g.P.convert(w.right||[0,0])}}return Kl(new g.P(0,0))}const _l={extend:(w,...n)=>g.e(w,...n),run(w){w()},logToElement(w,n=!1,d="log"){const f=window.document.getElementById(d);f&&(n&&(f.innerHTML=""),f.innerHTML+=`<br>${w}`)}};class Bt{static get version(){return"3.6.1"}static get workerCount(){return On.workerCount}static set workerCount(n){On.workerCount=n}static get maxParallelImageRequests(){return g.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(n){g.c.MAX_PARALLEL_IMAGE_REQUESTS=n}static get workerUrl(){return g.c.WORKER_URL}static set workerUrl(n){g.c.WORKER_URL=n}static addProtocol(n,d){g.c.REGISTERED_PROTOCOLS[n]=d}static removeProtocol(n){delete g.c.REGISTERED_PROTOCOLS[n]}}return Bt.Map=class extends Tr{constructor(w){if(g.bf.mark(g.bg.create),null!=(w=g.e({},yn,w)).minZoom&&null!=w.maxZoom&&w.minZoom>w.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=w.minPitch&&null!=w.maxPitch&&w.minPitch>w.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=w.minPitch&&w.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=w.maxPitch&&w.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Sn(w.minZoom,w.maxZoom,w.minPitch,w.maxPitch,w.renderWorldCopies),{bearingSnap:w.bearingSnap}),this._cooperativeGesturesOnWheel=n=>{this._onCooperativeGesture(n,n[this._metaKey],1)},this._contextLost=n=>{n.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new g.k("webglcontextlost",{originalEvent:n}))},this._contextRestored=n=>{this._setupPainter(),this.resize(),this._update(),this.fire(new g.k("webglcontextrestored",{originalEvent:n}))},this._onMapScroll=n=>{if(n.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=w.interactive,this._cooperativeGestures=w.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=w.maxTileCacheSize,this._maxTileCacheZoomLevels=w.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=w.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=w.preserveDrawingBuffer,this._antialias=w.antialias,this._trackResize=w.trackResize,this._bearingSnap=w.bearingSnap,this._refreshExpiredTiles=w.refreshExpiredTiles,this._fadeDuration=w.fadeDuration,this._crossSourceCollisions=w.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=w.collectResourceTiming,this._renderTaskQueue=new Cr,this._controls=[],this._mapId=g.a2(),this._locale=g.e({},ud,w.locale),this._clickTolerance=w.clickTolerance,this._overridePixelRatio=w.pixelRatio,this._maxCanvasSize=w.maxCanvasSize,this.transformCameraUpdate=w.transformCameraUpdate,this._imageQueueHandle=ot.addThrottleControl(()=>this.isMoving()),this._requestManager=new pt(w.transformRequest),"string"==typeof w.container){if(this._container=document.getElementById(w.container),!this._container)throw new Error(`Container '${w.container}' not found.`)}else{if(!(w.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=w.container}if(w.maxBounds&&this.setMaxBounds(w.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let n=!1;const d=Qr(f=>{this._trackResize&&!this._removed&&this.resize(f)._update()},50);this._resizeObserver=new ResizeObserver(f=>{n?d(f):n=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Wl(this,w),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=w.hash&&new mr("string"==typeof w.hash&&w.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),w.bounds&&(this.resize(),this.fitBounds(w.bounds,g.e({},w.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=w.localIdeographFontFamily,this._validateStyle=w.validateStyle,w.style&&this.setStyle(w.style,{localIdeographFontFamily:w.localIdeographFontFamily}),w.attributionControl&&this.addControl(new os({customAttribution:w.customAttribution})),w.maplibreLogo&&this.addControl(new lr,w.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",n=>{this._update("style"===n.dataType),this.fire(new g.k(`${n.dataType}data`,n))}),this.on("dataloading",n=>{this.fire(new g.k(`${n.dataType}dataloading`,n))}),this.on("dataabort",n=>{this.fire(new g.k("sourcedataabort",n))})}_getMapId(){return this._mapId}addControl(w,n){if(void 0===n&&(n=w.getDefaultPosition?w.getDefaultPosition():"top-right"),!w||!w.onAdd)return this.fire(new g.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=w.onAdd(this);this._controls.push(w);const f=this._controlPositions[n];return-1!==n.indexOf("bottom")?f.insertBefore(d,f.firstChild):f.appendChild(d),this}removeControl(w){if(!w||!w.onRemove)return this.fire(new g.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(w);return n>-1&&this._controls.splice(n,1),w.onRemove(this),this}hasControl(w){return this._controls.indexOf(w)>-1}calculateCameraOptionsFromTo(w,n,d,f){return null==f&&this.terrain&&(f=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(w,n,d,f)}resize(w){var n;const d=this._containerDimensions(),f=d[0],v=d[1],D=this._getClampedPixelRatio(f,v);if(this._resizeCanvas(f,v,D),this.painter.resize(f,v,D),this.painter.overLimit()){const R=this.painter.context.gl;this._maxCanvasSize=[R.drawingBufferWidth,R.drawingBufferHeight];const V=this._getClampedPixelRatio(f,v);this._resizeCanvas(f,v,V),this.painter.resize(f,v,V)}this.transform.resize(f,v),null===(n=this._requestedCameraState)||void 0===n||n.resize(f,v);const O=!this._moving;return O&&(this.stop(),this.fire(new g.k("movestart",w)).fire(new g.k("move",w))),this.fire(new g.k("resize",w)),O&&this.fire(new g.k("moveend",w)),this}_getClampedPixelRatio(w,n){const{0:d,1:f}=this._maxCanvasSize,v=this.getPixelRatio(),D=w*v,O=n*v;return Math.min(D>d?d/D:1,O>f?f/O:1)*v}getPixelRatio(){var w;return null!==(w=this._overridePixelRatio)&&void 0!==w?w:devicePixelRatio}setPixelRatio(w){this._overridePixelRatio=w,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(w){return this.transform.setMaxBounds(Xe.convert(w)),this._update()}setMinZoom(w){if((w=w??-2)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(w){if((w=w??22)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(w){if((w=w??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(w){if((w=w??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(w){return this.transform.renderWorldCopies=w,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(w){return this._cooperativeGestures=w,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(w){return this.transform.locationPoint(g.L.convert(w),this.style&&this.terrain)}unproject(w){return this.transform.pointLocation(g.P.convert(w),this.terrain)}isMoving(){var w;return this._moving||(null===(w=this.handlers)||void 0===w?void 0:w.isMoving())}isZooming(){var w;return this._zooming||(null===(w=this.handlers)||void 0===w?void 0:w.isZooming())}isRotating(){var w;return this._rotating||(null===(w=this.handlers)||void 0===w?void 0:w.isRotating())}_createDelegatedListener(w,n,d){if("mouseenter"===w||"mouseover"===w){let f=!1;return{layer:n,listener:d,delegates:{mousemove:D=>{const O=this.getLayer(n)?this.queryRenderedFeatures(D.point,{layers:[n]}):[];O.length?f||(f=!0,d.call(this,new Zr(w,this,D.originalEvent,{features:O}))):f=!1},mouseout:()=>{f=!1}}}}if("mouseleave"===w||"mouseout"===w){let f=!1;return{layer:n,listener:d,delegates:{mousemove:O=>{(this.getLayer(n)?this.queryRenderedFeatures(O.point,{layers:[n]}):[]).length?f=!0:f&&(f=!1,d.call(this,new Zr(w,this,O.originalEvent)))},mouseout:O=>{f&&(f=!1,d.call(this,new Zr(w,this,O.originalEvent)))}}}}{const f=v=>{const D=this.getLayer(n)?this.queryRenderedFeatures(v.point,{layers:[n]}):[];D.length&&(v.features=D,d.call(this,v),delete v.features)};return{layer:n,listener:d,delegates:{[w]:f}}}}on(w,n,d){if(void 0===d)return super.on(w,n);const f=this._createDelegatedListener(w,n,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(f);for(const v in f.delegates)this.on(v,f.delegates[v]);return this}once(w,n,d){if(void 0===d)return super.once(w,n);const f=this._createDelegatedListener(w,n,d);for(const v in f.delegates)this.once(v,f.delegates[v]);return this}off(w,n,d){return void 0===d?super.off(w,n):(this._delegatedListeners&&this._delegatedListeners[w]&&(f=>{const v=this._delegatedListeners[w];for(let D=0;D<v.length;D++){const O=v[D];if(O.layer===n&&O.listener===d){for(const R in O.delegates)this.off(R,O.delegates[R]);return v.splice(D,1),this}}})(),this)}queryRenderedFeatures(w,n){if(!this.style)return[];let d;const f=w instanceof g.P||Array.isArray(w),v=f?w:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(f?{}:w)||{},v instanceof g.P||"number"==typeof v[0])d=[g.P.convert(v)];else{const D=g.P.convert(v[0]),O=g.P.convert(v[1]);d=[D,new g.P(O.x,D.y),O,new g.P(D.x,O.y),D]}return this.style.queryRenderedFeatures(d,n,this.transform)}querySourceFeatures(w,n){return this.style.querySourceFeatures(w,n)}setStyle(w,n){return!1!==(n=g.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&w?(this._diffStyle(w,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(w,n))}setTransformRequest(w){return this._requestManager.setTransformRequest(w),this}_getUIString(w){const n=this._locale[w];if(null==n)throw new Error(`Missing UI string '${w}'`);return n}_updateStyle(w,n){if(n.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(w,n));const d=this.style&&n.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!w)),w?(this.style=new ji(this,n||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof w?this.style.loadURL(w,n,d):this.style.loadJSON(w,n,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ji(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(w,n){if("string"==typeof w){const d=this._requestManager.transformRequest(w,Ye.Style);g.f(d,(f,v)=>{f?this.fire(new g.j(f)):v&&this._updateDiff(v,n)})}else"object"==typeof w&&this._updateDiff(w,n)}_updateDiff(w,n){try{this.style.setState(w,n)&&this._update(!0)}catch(d){g.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(w,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():g.w("There is no style added to the map.")}addSource(w,n){return this._lazyInitEmptyStyle(),this.style.addSource(w,n),this._update(!0)}isSourceLoaded(w){const n=this.style&&this.style.sourceCaches[w];if(void 0!==n)return n.loaded();this.fire(new g.j(new Error(`There is no source with ID '${w}'`)))}setTerrain(w){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),w){const n=this.style.sourceCaches[w.source];if(!n)throw new Error(`cannot load terrain, because there exists no source with ID: ${w.source}`);for(const d in this.style._layers){const f=this.style._layers[d];"hillshade"===f.type&&f.source===w.source&&g.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ss(this.painter,n,w),this.painter.renderToTexture=new hd(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{"style"===d.dataType?this.terrain.sourceCache.freeRtt():"source"===d.dataType&&d.tile&&(d.sourceId!==w.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new g.k("terrain",{terrain:w})),this}getTerrain(){var w,n;return null!==(n=null===(w=this.terrain)||void 0===w?void 0:w.options)&&void 0!==n?n:null}areTilesLoaded(){const w=this.style&&this.style.sourceCaches;for(const n in w){const d=w[n]._tiles;for(const f in d){const v=d[f];if("loaded"!==v.state&&"errored"!==v.state)return!1}}return!0}addSourceType(w,n,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,n,d)}removeSource(w){return this.style.removeSource(w),this._update(!0)}getSource(w){return this.style.getSource(w)}addImage(w,n,d={}){const{pixelRatio:f=1,sdf:v=!1,stretchX:D,stretchY:O,content:R}=d;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||g.a(n))){if(void 0===n.width||void 0===n.height)return this.fire(new g.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:V,height:Z,data:J}=n,ne=n;return this.style.addImage(w,{data:new g.R({width:V,height:Z},new Uint8Array(J)),pixelRatio:f,stretchX:D,stretchY:O,content:R,sdf:v,version:0,userImage:ne}),ne.onAdd&&ne.onAdd(this,w),this}}{const{width:V,height:Z,data:J}=g.h.getImageData(n);this.style.addImage(w,{data:new g.R({width:V,height:Z},J),pixelRatio:f,stretchX:D,stretchY:O,content:R,sdf:v,version:0})}}updateImage(w,n){const d=this.style.getImage(w);if(!d)return this.fire(new g.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=n instanceof HTMLImageElement||g.a(n)?g.h.getImageData(n):n,{width:v,height:D,data:O}=f;if(void 0===v||void 0===D)return this.fire(new g.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||D!==d.data.height)return this.fire(new g.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const R=!(n instanceof HTMLImageElement||g.a(n));return d.data.replace(O,R),this.style.updateImage(w,d),this}getImage(w){return this.style.getImage(w)}hasImage(w){return w?!!this.style.getImage(w):(this.fire(new g.j(new Error("Missing required image id"))),!1)}removeImage(w){this.style.removeImage(w)}loadImage(w,n){ot.getImage(this._requestManager.transformRequest(w,Ye.Image),n)}listImages(){return this.style.listImages()}addLayer(w,n){return this._lazyInitEmptyStyle(),this.style.addLayer(w,n),this._update(!0)}moveLayer(w,n){return this.style.moveLayer(w,n),this._update(!0)}removeLayer(w){return this.style.removeLayer(w),this._update(!0)}getLayer(w){return this.style.getLayer(w)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(w,n,d){return this.style.setLayerZoomRange(w,n,d),this._update(!0)}setFilter(w,n,d={}){return this.style.setFilter(w,n,d),this._update(!0)}getFilter(w){return this.style.getFilter(w)}setPaintProperty(w,n,d,f={}){return this.style.setPaintProperty(w,n,d,f),this._update(!0)}getPaintProperty(w,n){return this.style.getPaintProperty(w,n)}setLayoutProperty(w,n,d,f={}){return this.style.setLayoutProperty(w,n,d,f),this._update(!0)}getLayoutProperty(w,n){return this.style.getLayoutProperty(w,n)}setGlyphs(w,n={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(w,n),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(w,n,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(w,n,d,f=>{f||this._update(!0)}),this}removeSprite(w){return this._lazyInitEmptyStyle(),this.style.removeSprite(w),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(w,n={}){return this._lazyInitEmptyStyle(),this.style.setSprite(w,n,d=>{d||this._update(!0)}),this}setLight(w,n={}){return this._lazyInitEmptyStyle(),this.style.setLight(w,n),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(w,n){return this.style.setFeatureState(w,n),this._update()}removeFeatureState(w,n){return this.style.removeFeatureState(w,n),this._update()}getFeatureState(w){return this.style.getFeatureState(w)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let w=0,n=0;return this._container&&(w=this._container.clientWidth||400,n=this._container.clientHeight||300),[w,n]}_setupContainer(){const w=this._container;w.classList.add("maplibregl-map");const n=this._canvasContainer=le.create("div","maplibregl-canvas-container",w);this._interactive&&n.classList.add("maplibregl-interactive"),this._canvas=le.create("canvas","maplibregl-canvas",n),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),f=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],f);const v=this._controlContainer=le.create("div","maplibregl-control-container",w),D=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(O=>{D[O]=le.create("div",`maplibregl-ctrl-${O} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=le.create("div","maplibregl-cooperative-gesture-screen",this._container);let w="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(w="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${w}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){le.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(w,n,d){this._canvas.width=Math.floor(d*w),this._canvas.height=Math.floor(d*n),this._canvas.style.width=`${w}px`,this._canvas.style.height=`${n}px`}_setupPainter(){const w={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let n=null;this._canvas.addEventListener("webglcontextcreationerror",f=>{n={requestedAttributes:w},f&&(n.statusMessage=f.statusMessage,n.type=f.type)},{once:!0});const d=this._canvas.getContext("webgl2",w)||this._canvas.getContext("webgl",w);if(!d){const f="Failed to initialize WebGL";throw n?(n.message=f,new Error(JSON.stringify(n))):new Error(f)}this.painter=new bs(d,this.transform),Ze.testSupport(d)}_onCooperativeGesture(w,n,d){return!n&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(w){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(w){return this._update(),this._renderTaskQueue.add(w)}_cancelRenderFrame(w){this._renderTaskQueue.remove(w)}_render(w){const n=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(w),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,D=g.h.now();this.style.zoomHistory.update(v,D);const O=new g.a8(v,{now:D,fadeDuration:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),R=O.crossFadingFactor();1===R&&R===this._crossFadingFactor||(d=!0,this._crossFadingFactor=R),this.style.update(O)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,showPadding:this.showPadding}),this.fire(new g.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,g.bf.mark(g.bg.load),this.fire(new g.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new g.k("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0,g.bf.mark(g.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var w;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ot.removeThrottleControl(this._imageQueueHandle),null===(w=this._resizeObserver)||void 0===w||w.disconnect();const n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),le.remove(this._canvasContainer),le.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),g.bf.clearMetrics(),this._removed=!0,this.fire(new g.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=g.h.frame(w=>{g.bf.frame(w),this._frame=null,this._render(w)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())}get showPadding(){return!!this._showPadding}set showPadding(w){this._showPadding!==w&&(this._showPadding=w,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())}get repaint(){return!!this._repaint}set repaint(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(w){this._vertices=w,this._update()}get version(){return"3.6.1"}getCameraTargetElevation(){return this.transform.elevation}},Bt.NavigationControl=class{constructor(w){this._updateZoomButtons=()=>{const n=this._map.getZoom(),d=n===this._map.getMaxZoom(),f=n===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},this._rotateCompassArrow=()=>{const n=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=n},this._setButtonTitle=(n,d)=>{const f=this._map._getUIString(`NavigationControl.${d}`);n.title=f,n.setAttribute("aria-label",f)},this.options=g.e({},xc,w),this._container=le.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",n=>this._map.zoomIn({},{originalEvent:n})),le.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",n=>this._map.zoomOut({},{originalEvent:n})),le.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",n=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:n}):this._map.resetNorth({},{originalEvent:n})}),this._compassIcon=le.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){le.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(w,n){const d=le.create("button",w,this._container);return d.type="button",d.addEventListener("click",n),d}},Bt.GeolocateControl=class extends g.E{constructor(w){super(),this._onSuccess=n=>{if(this._map){if(this._isOutOfMapMaxBounds(n))return this._setErrorState(),this.fire(new g.k("outofmaxbounds",n)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=n,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(n),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(n),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new g.k("geolocate",n)),this._finish()}},this._updateCamera=n=>{const d=new g.L(n.coords.longitude,n.coords.latitude),f=n.coords.accuracy,v=this._map.getBearing(),D=g.e({bearing:v},this.options.fitBoundsOptions),O=Xe.fromLngLat(d,f);this._map.fitBounds(O,D,{geolocateSource:!0})},this._updateMarker=n=>{if(n){const d=new g.L(n.coords.longitude,n.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=n.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=n=>{if(this._map){if(this.options.trackUserLocation)if(1===n.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===n.code&&tl)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new g.k("error",n)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=n=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=le.create("button","maplibregl-ctrl-geolocate",this._container),le.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===n){g.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=le.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Rl({element:this._dotElement}),this._circleElement=le.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Rl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||"ACTIVE_LOCK"!==this._watchState||d.originalEvent&&"resize"===d.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new g.k("trackuserlocationend")))})}},this.options=g.e({},Wr,w)}onAdd(w){return this._map=w,this._container=le.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(n,d=!1){void 0===Rr||d?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(f=>{Rr="denied"!==f.state,n(Rr)}).catch(()=>{Rr=!!window.navigator.geolocation,n(Rr)}):(Rr=!!window.navigator.geolocation,n(Rr)):n(Rr)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),le.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fr=0,tl=!1}_isOutOfMapMaxBounds(w){const n=this._map.getMaxBounds(),d=w.coords;return n&&(d.longitude<n.getWest()||d.longitude>n.getEast()||d.latitude<n.getSouth()||d.latitude>n.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const w=this._map.getBounds(),n=w.getSouthEast(),d=w.getNorthEast(),f=n.distanceTo(d),v=Math.ceil(this._accuracy/(f/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return g.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new g.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fr--,tl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new g.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new g.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let w;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Fr++,Fr>1?(w={maximumAge:6e5,timeout:0},tl=!0):(w=this.options.positionOptions,tl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,w)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Bt.AttributionControl=os,Bt.LogoControl=lr,Bt.ScaleControl=class{constructor(w){this._onMove=()=>{Yl(this._map,this._container,this.options)},this.setUnit=n=>{this.options.unit=n,Yl(this._map,this._container,this.options)},this.options=g.e({},gl,w)}getDefaultPosition(){return"bottom-left"}onAdd(w){return this._map=w,this._container=le.create("div","maplibregl-ctrl maplibregl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){le.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Bt.FullscreenControl=class extends g.E{constructor(w={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,w&&w.container&&(w.container instanceof HTMLElement?this._container=w.container:g.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(w){return this._map=w,this._container||(this._container=this._map.getContainer()),this._controlContainer=le.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){le.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const w=this._fullscreenButton=le.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);le.create("span","maplibregl-ctrl-icon",w).setAttribute("aria-hidden","true"),w.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new g.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new g.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Bt.TerrainControl=class{constructor(w){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=w}onAdd(w){return this._map=w,this._container=le.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=le.create("button","maplibregl-ctrl-terrain",this._container),le.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){le.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Bt.Popup=class extends g.E{constructor(w){super(),this.remove=()=>(this._content&&le.remove(this._content),this._container&&(le.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new g.k("close")),this),this._onMouseUp=n=>{this._update(n.point)},this._onMouseMove=n=>{this._update(n.point)},this._onDrag=n=>{this._update(n.point)},this._update=n=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=le.create("div","maplibregl-popup",this._map.getContainer()),this._tip=le.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const O of this.options.className.split(" "))this._container.classList.add(O);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=as(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!n)return;const d=this._pos=this._trackPointer&&n?n:this._map.project(this._lngLat);let f=this.options.anchor;const v=Kl(this.options.offset);if(!f){const O=this._container.offsetWidth,R=this._container.offsetHeight;let V;V=d.y+v.bottom.y<R?["top"]:d.y>this._map.transform.height-R?["bottom"]:[],d.x<O/2?V.push("left"):d.x>this._map.transform.width-O/2&&V.push("right"),f=0===V.length?"bottom":V.join("-")}const D=d.add(v[f]).round();le.setTransform(this._container,`${Es[f]} translate(${D.x}px,${D.y}px)`),In(this._container,f,"popup")},this._onClose=()=>{this.remove()},this.options=g.e(Object.create(Dd),w)}addTo(w){return this._map&&this.remove(),this._map=w,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new g.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(w){return this._lngLat=g.L.convert(w),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(w){return this.setDOMContent(document.createTextNode(w))}setHTML(w){const n=document.createDocumentFragment(),d=document.createElement("body");let f;for(d.innerHTML=w;f=d.firstChild,f;)n.appendChild(f);return this.setDOMContent(n)}getMaxWidth(){var w;return null===(w=this._container)||void 0===w?void 0:w.style.maxWidth}setMaxWidth(w){return this.options.maxWidth=w,this._update(),this}setDOMContent(w){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=le.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(w),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(w){this._container&&this._container.classList.add(w)}removeClassName(w){this._container&&this._container.classList.remove(w)}setOffset(w){return this.options.offset=w,this._update(),this}toggleClassName(w){if(this._container)return this._container.classList.toggle(w)}_createCloseButton(){this.options.closeButton&&(this._closeButton=le.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const w=this._container.querySelector($c);w&&w.focus()}},Bt.Marker=Rl,Bt.Style=ji,Bt.LngLat=g.L,Bt.LngLatBounds=Xe,Bt.Point=g.P,Bt.MercatorCoordinate=g.U,Bt.Evented=g.E,Bt.AJAXError=g.bh,Bt.config=g.c,Bt.CanvasSource=kt,Bt.GeoJSONSource=At,Bt.ImageSource=ft,Bt.RasterDEMTileSource=ai,Bt.RasterTileSource=Lt,Bt.VectorTileSource=Ot,Bt.VideoSource=vt,Bt.setRTLTextPlugin=g.bi,Bt.getRTLTextPluginStatus=g.bj,Bt.prewarm=function(){Ne().acquire(Ii)},Bt.clearPrewarmedResources=function(){const w=Ce;w&&(w.isPreloaded()&&1===w.numActive()?(w.release(Ii),Ce=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},_l.extend(Bt,{isSafari:g.ac,getPerformanceMetrics:g.bf.getPerformanceMetrics}),Bt}),C}()},6825:(xi,Et,U)=>{"use strict";U.d(Et,{IO:()=>ot,SB:()=>Ze,X$:()=>l,ZE:()=>ei,ZN:()=>ht,eR:()=>Ie,jt:()=>me,k1:()=>Nt,l3:()=>C,oB:()=>le,pV:()=>at,vP:()=>Ve});const C="*";function l(Dt,_t){return{type:7,name:Dt,definitions:_t,options:{}}}function me(Dt,_t=null){return{type:4,styles:_t,timings:Dt}}function Ve(Dt,_t=null){return{type:2,steps:Dt,options:_t}}function le(Dt){return{type:6,styles:Dt,offset:null}}function Ze(Dt,_t,Qt){return{type:0,name:Dt,styles:_t,options:Qt}}function Ie(Dt,_t,Qt=null){return{type:1,expr:Dt,animation:_t,options:Qt}}function at(Dt=null){return{type:9,options:Dt}}function ot(Dt,_t,Qt=null){return{type:11,selector:Dt,animation:_t,options:Qt}}class ht{constructor(_t=0,Qt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_t+Qt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_t=>_t()),this._onDoneFns=[])}onStart(_t){this._originalOnStartFns.push(_t),this._onStartFns.push(_t)}onDone(_t){this._originalOnDoneFns.push(_t),this._onDoneFns.push(_t)}onDestroy(_t){this._onDestroyFns.push(_t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_t=>_t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_t=>_t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_t){this._position=this.totalTime?_t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_t){const Qt="start"==_t?this._onStartFns:this._onDoneFns;Qt.forEach(Ri=>Ri()),Qt.length=0}}class ei{constructor(_t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_t;let Qt=0,Ri=0,Fi=0;const En=this.players.length;0==En?queueMicrotask(()=>this._onFinish()):this.players.forEach(Fn=>{Fn.onDone(()=>{++Qt==En&&this._onFinish()}),Fn.onDestroy(()=>{++Ri==En&&this._onDestroy()}),Fn.onStart(()=>{++Fi==En&&this._onStart()})}),this.totalTime=this.players.reduce((Fn,Li)=>Math.max(Fn,Li.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_t=>_t()),this._onDoneFns=[])}init(){this.players.forEach(_t=>_t.init())}onStart(_t){this._onStartFns.push(_t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_t=>_t()),this._onStartFns=[])}onDone(_t){this._onDoneFns.push(_t)}onDestroy(_t){this._onDestroyFns.push(_t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_t=>_t.play())}pause(){this.players.forEach(_t=>_t.pause())}restart(){this.players.forEach(_t=>_t.restart())}finish(){this._onFinish(),this.players.forEach(_t=>_t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_t=>_t.destroy()),this._onDestroyFns.forEach(_t=>_t()),this._onDestroyFns=[])}reset(){this.players.forEach(_t=>_t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_t){const Qt=_t*this.totalTime;this.players.forEach(Ri=>{const Fi=Ri.totalTime?Math.min(1,Qt/Ri.totalTime):1;Ri.setPosition(Fi)})}getPosition(){const _t=this.players.reduce((Qt,Ri)=>null===Qt||Ri.totalTime>Qt.totalTime?Ri:Qt,null);return null!=_t?_t.getPosition():0}beforeDestroy(){this.players.forEach(_t=>{_t.beforeDestroy&&_t.beforeDestroy()})}triggerCallback(_t){const Qt="start"==_t?this._onStartFns:this._onDoneFns;Qt.forEach(Ri=>Ri()),Qt.length=0}}const Nt="!"},7849:(xi,Et,U)=>{"use strict";U.d(Et,{rt:()=>wt,s1:()=>vt,$s:()=>ai,Em:()=>kt,tE:()=>De,qV:()=>Ne,qm:()=>je,ic:()=>yi,Kd:()=>Q,Zf:()=>Li,X6:()=>ci,yG:()=>$t,iD:()=>Bn});var C=U(6814),l=U(9212),me=U(2831),g=U(8645),Ve=U(7394),le=U(5619),Ze=U(2096),nt=U(6028),Ie=U(9397),it=U(3620),at=U(2181),Je=U(7398),ot=U(8180);function Ye(Be){return(0,at.h)((Ue,_e)=>Be<=_e)}var pt=U(3997),Xt=U(9773),Zt=U(7131),ri=U(2495),ki=U(2572),Pi=U(5211),jt=U(5592),rt=U(7921);const ei=new Set;let Nt,Dt=(()=>{class Be{constructor(_e,Ae){this._platform=_e,this._nonce=Ae,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qt}matchMedia(_e){return(this._platform.WEBKIT||this._platform.BLINK)&&function _t(Be,Ue){if(!ei.has(Be))try{Nt||(Nt=document.createElement("style"),Ue&&(Nt.nonce=Ue),Nt.setAttribute("type","text/css"),document.head.appendChild(Nt)),Nt.sheet&&(Nt.sheet.insertRule(`@media ${Be} {body{ }}`,0),ei.add(Be))}catch(_e){console.error(_e)}}(_e,this._nonce),this._matchMedia(_e)}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(me.t4),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function Qt(Be){return{matches:"all"===Be||""===Be,media:Be,addListener:()=>{},removeListener:()=>{}}}let Ri=(()=>{class Be{constructor(_e,Ae){this._mediaMatcher=_e,this._zone=Ae,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(_e){return Fi((0,ri.Eq)(_e)).some(ct=>this._registerQuery(ct).mql.matches)}observe(_e){const ct=Fi((0,ri.Eq)(_e)).map(fi=>this._registerQuery(fi).observable);let Ht=(0,ki.a)(ct);return Ht=(0,Pi.z)(Ht.pipe((0,ot.q)(1)),Ht.pipe(Ye(1),(0,it.b)(0))),Ht.pipe((0,Je.U)(fi=>{const Ui={matches:!1,breakpoints:{}};return fi.forEach(({matches:Yi,query:wn})=>{Ui.matches=Ui.matches||Yi,Ui.breakpoints[wn]=Yi}),Ui}))}_registerQuery(_e){if(this._queries.has(_e))return this._queries.get(_e);const Ae=this._mediaMatcher.matchMedia(_e),Ht={observable:new jt.y(fi=>{const Ui=Yi=>this._zone.run(()=>fi.next(Yi));return Ae.addListener(Ui),()=>{Ae.removeListener(Ui)}}).pipe((0,rt.O)(Ae),(0,Je.U)(({matches:fi})=>({query:_e,matches:fi})),(0,Xt.R)(this._destroySubject)),mql:Ae};return this._queries.set(_e,Ht),Ht}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(Dt),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function Fi(Be){return Be.map(Ue=>Ue.split(",")).reduce((Ue,_e)=>Ue.concat(_e)).map(Ue=>Ue.trim())}const Fn=" ";function Li(Be,Ue,_e){const Ae=_i(Be,Ue);Ae.some(ct=>ct.trim()==_e.trim())||(Ae.push(_e.trim()),Be.setAttribute(Ue,Ae.join(Fn)))}function Bn(Be,Ue,_e){const ct=_i(Be,Ue).filter(Ht=>Ht!=_e.trim());ct.length?Be.setAttribute(Ue,ct.join(Fn)):Be.removeAttribute(Ue)}function _i(Be,Ue){return(Be.getAttribute(Ue)||"").match(/\S+/g)||[]}const Ke="cdk-describedby-message",Ot="cdk-describedby-host";let Lt=0,ai=(()=>{class Be{constructor(_e,Ae){this._platform=Ae,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Lt++,this._document=_e,this._id=(0,l.f3M)(l.AFp)+"-"+Lt++}describe(_e,Ae,ct){if(!this._canBeDescribed(_e,Ae))return;const Ht=At(Ae,ct);"string"!=typeof Ae?(Ei(Ae,this._id),this._messageRegistry.set(Ht,{messageElement:Ae,referenceCount:0})):this._messageRegistry.has(Ht)||this._createMessageElement(Ae,ct),this._isElementDescribedByMessage(_e,Ht)||this._addMessageReference(_e,Ht)}removeDescription(_e,Ae,ct){if(!Ae||!this._isElementNode(_e))return;const Ht=At(Ae,ct);if(this._isElementDescribedByMessage(_e,Ht)&&this._removeMessageReference(_e,Ht),"string"==typeof Ae){const fi=this._messageRegistry.get(Ht);fi&&0===fi.referenceCount&&this._deleteMessageElement(Ht)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const _e=this._document.querySelectorAll(`[${Ot}="${this._id}"]`);for(let Ae=0;Ae<_e.length;Ae++)this._removeCdkDescribedByReferenceIds(_e[Ae]),_e[Ae].removeAttribute(Ot);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(_e,Ae){const ct=this._document.createElement("div");Ei(ct,this._id),ct.textContent=_e,Ae&&ct.setAttribute("role",Ae),this._createMessagesContainer(),this._messagesContainer.appendChild(ct),this._messageRegistry.set(At(_e,Ae),{messageElement:ct,referenceCount:0})}_deleteMessageElement(_e){this._messageRegistry.get(_e)?.messageElement?.remove(),this._messageRegistry.delete(_e)}_createMessagesContainer(){if(this._messagesContainer)return;const _e="cdk-describedby-message-container",Ae=this._document.querySelectorAll(`.${_e}[platform="server"]`);for(let Ht=0;Ht<Ae.length;Ht++)Ae[Ht].remove();const ct=this._document.createElement("div");ct.style.visibility="hidden",ct.classList.add(_e),ct.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ct.setAttribute("platform","server"),this._document.body.appendChild(ct),this._messagesContainer=ct}_removeCdkDescribedByReferenceIds(_e){const Ae=_i(_e,"aria-describedby").filter(ct=>0!=ct.indexOf(Ke));_e.setAttribute("aria-describedby",Ae.join(" "))}_addMessageReference(_e,Ae){const ct=this._messageRegistry.get(Ae);Li(_e,"aria-describedby",ct.messageElement.id),_e.setAttribute(Ot,this._id),ct.referenceCount++}_removeMessageReference(_e,Ae){const ct=this._messageRegistry.get(Ae);ct.referenceCount--,Bn(_e,"aria-describedby",ct.messageElement.id),_e.removeAttribute(Ot)}_isElementDescribedByMessage(_e,Ae){const ct=_i(_e,"aria-describedby"),Ht=this._messageRegistry.get(Ae),fi=Ht&&Ht.messageElement.id;return!!fi&&-1!=ct.indexOf(fi)}_canBeDescribed(_e,Ae){if(!this._isElementNode(_e))return!1;if(Ae&&"object"==typeof Ae)return!0;const ct=null==Ae?"":`${Ae}`.trim(),Ht=_e.getAttribute("aria-label");return!(!ct||Ht&&Ht.trim()===ct)}_isElementNode(_e){return _e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(C.K0),l.LFG(me.t4))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function At(Be,Ue){return"string"==typeof Be?`${Ue||""}/${Be}`:Be}function Ei(Be,Ue){Be.id||(Be.id=`${Ke}-${Ue}-${Lt++}`)}class ft{constructor(Ue){this._items=Ue,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new g.x,this._typeaheadSubscription=Ve.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=_e=>_e.disabled,this._pressedLetters=[],this.tabOut=new g.x,this.change=new g.x,Ue instanceof l.n_E&&(this._itemChangesSubscription=Ue.changes.subscribe(_e=>{if(this._activeItem){const ct=_e.toArray().indexOf(this._activeItem);ct>-1&&ct!==this._activeItemIndex&&(this._activeItemIndex=ct)}}))}skipPredicate(Ue){return this._skipPredicateFn=Ue,this}withWrap(Ue=!0){return this._wrap=Ue,this}withVerticalOrientation(Ue=!0){return this._vertical=Ue,this}withHorizontalOrientation(Ue){return this._horizontal=Ue,this}withAllowedModifierKeys(Ue){return this._allowedModifierKeys=Ue,this}withTypeAhead(Ue=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ie.b)(_e=>this._pressedLetters.push(_e)),(0,it.b)(Ue),(0,at.h)(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(_e=>{const Ae=this._getItemsArray();for(let ct=1;ct<Ae.length+1;ct++){const Ht=(this._activeItemIndex+ct)%Ae.length,fi=Ae[Ht];if(!this._skipPredicateFn(fi)&&0===fi.getLabel().toUpperCase().trim().indexOf(_e)){this.setActiveItem(Ht);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Ue=!0){return this._homeAndEnd=Ue,this}withPageUpDown(Ue=!0,_e=10){return this._pageUpAndDown={enabled:Ue,delta:_e},this}setActiveItem(Ue){const _e=this._activeItem;this.updateActiveItem(Ue),this._activeItem!==_e&&this.change.next(this._activeItemIndex)}onKeydown(Ue){const _e=Ue.keyCode,ct=["altKey","ctrlKey","metaKey","shiftKey"].every(Ht=>!Ue[Ht]||this._allowedModifierKeys.indexOf(Ht)>-1);switch(_e){case nt.Mf:return void this.tabOut.next();case nt.JH:if(this._vertical&&ct){this.setNextItemActive();break}return;case nt.LH:if(this._vertical&&ct){this.setPreviousItemActive();break}return;case nt.SV:if(this._horizontal&&ct){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case nt.oh:if(this._horizontal&&ct){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case nt.Sd:if(this._homeAndEnd&&ct){this.setFirstItemActive();break}return;case nt.uR:if(this._homeAndEnd&&ct){this.setLastItemActive();break}return;case nt.Ku:if(this._pageUpAndDown.enabled&&ct){const Ht=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ht>0?Ht:0,1);break}return;case nt.VM:if(this._pageUpAndDown.enabled&&ct){const Ht=this._activeItemIndex+this._pageUpAndDown.delta,fi=this._getItemsArray().length;this._setActiveItemByIndex(Ht<fi?Ht:fi-1,-1);break}return;default:return void((ct||(0,nt.Vb)(Ue,"shiftKey"))&&(Ue.key&&1===Ue.key.length?this._letterKeyStream.next(Ue.key.toLocaleUpperCase()):(_e>=nt.A&&_e<=nt.Z||_e>=nt.xE&&_e<=nt.aO)&&this._letterKeyStream.next(String.fromCharCode(_e))))}this._pressedLetters=[],Ue.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ue){const _e=this._getItemsArray(),Ae="number"==typeof Ue?Ue:_e.indexOf(Ue);this._activeItem=_e[Ae]??null,this._activeItemIndex=Ae}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Ue){this._wrap?this._setActiveInWrapMode(Ue):this._setActiveInDefaultMode(Ue)}_setActiveInWrapMode(Ue){const _e=this._getItemsArray();for(let Ae=1;Ae<=_e.length;Ae++){const ct=(this._activeItemIndex+Ue*Ae+_e.length)%_e.length;if(!this._skipPredicateFn(_e[ct]))return void this.setActiveItem(ct)}}_setActiveInDefaultMode(Ue){this._setActiveItemByIndex(this._activeItemIndex+Ue,Ue)}_setActiveItemByIndex(Ue,_e){const Ae=this._getItemsArray();if(Ae[Ue]){for(;this._skipPredicateFn(Ae[Ue]);)if(!Ae[Ue+=_e])return;this.setActiveItem(Ue)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class vt extends ft{setActiveItem(Ue){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ue),this.activeItem&&this.activeItem.setActiveStyles()}}class kt extends ft{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ue){return this._origin=Ue,this}setActiveItem(Ue){super.setActiveItem(Ue),this.activeItem&&this.activeItem.focus(this._origin)}}let yi=(()=>{class Be{constructor(_e){this._platform=_e}isDisabled(_e){return _e.hasAttribute("disabled")}isVisible(_e){return function Qi(Be){return!!(Be.offsetWidth||Be.offsetHeight||"function"==typeof Be.getClientRects&&Be.getClientRects().length)}(_e)&&"visible"===getComputedStyle(_e).visibility}isTabbable(_e){if(!this._platform.isBrowser)return!1;const Ae=function si(Be){try{return Be.frameElement}catch{return null}}(function Ut(Be){return Be.ownerDocument&&Be.ownerDocument.defaultView||window}(_e));if(Ae&&(-1===rn(Ae)||!this.isVisible(Ae)))return!1;let ct=_e.nodeName.toLowerCase(),Ht=rn(_e);return _e.hasAttribute("contenteditable")?-1!==Ht:!("iframe"===ct||"object"===ct||this._platform.WEBKIT&&this._platform.IOS&&!function Ii(Be){let Ue=Be.nodeName.toLowerCase(),_e="input"===Ue&&Be.type;return"text"===_e||"password"===_e||"select"===Ue||"textarea"===Ue}(_e))&&("audio"===ct?!!_e.hasAttribute("controls")&&-1!==Ht:"video"===ct?-1!==Ht&&(null!==Ht||this._platform.FIREFOX||_e.hasAttribute("controls")):_e.tabIndex>=0)}isFocusable(_e,Ae){return function On(Be){return!function Vt(Be){return function xt(Be){return"input"==Be.nodeName.toLowerCase()}(Be)&&"hidden"==Be.type}(Be)&&(function lt(Be){let Ue=Be.nodeName.toLowerCase();return"input"===Ue||"select"===Ue||"button"===Ue||"textarea"===Ue}(Be)||function li(Be){return function pn(Be){return"a"==Be.nodeName.toLowerCase()}(Be)&&Be.hasAttribute("href")}(Be)||Be.hasAttribute("contenteditable")||Mn(Be))}(_e)&&!this.isDisabled(_e)&&(Ae?.ignoreVisibility||this.isVisible(_e))}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(me.t4))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function Mn(Be){if(!Be.hasAttribute("tabindex")||void 0===Be.tabIndex)return!1;let Ue=Be.getAttribute("tabindex");return!(!Ue||isNaN(parseInt(Ue,10)))}function rn(Be){if(!Mn(Be))return null;const Ue=parseInt(Be.getAttribute("tabindex")||"",10);return isNaN(Ue)?-1:Ue}class Ce{get enabled(){return this._enabled}set enabled(Ue){this._enabled=Ue,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ue,this._startAnchor),this._toggleAnchorTabIndex(Ue,this._endAnchor))}constructor(Ue,_e,Ae,ct,Ht=!1){this._element=Ue,this._checker=_e,this._ngZone=Ae,this._document=ct,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ht||this.attachAnchors()}destroy(){const Ue=this._startAnchor,_e=this._endAnchor;Ue&&(Ue.removeEventListener("focus",this.startAnchorListener),Ue.remove()),_e&&(_e.removeEventListener("focus",this.endAnchorListener),_e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ue){return new Promise(_e=>{this._executeOnStable(()=>_e(this.focusInitialElement(Ue)))})}focusFirstTabbableElementWhenReady(Ue){return new Promise(_e=>{this._executeOnStable(()=>_e(this.focusFirstTabbableElement(Ue)))})}focusLastTabbableElementWhenReady(Ue){return new Promise(_e=>{this._executeOnStable(()=>_e(this.focusLastTabbableElement(Ue)))})}_getRegionBoundary(Ue){const _e=this._element.querySelectorAll(`[cdk-focus-region-${Ue}], [cdkFocusRegion${Ue}], [cdk-focus-${Ue}]`);return"start"==Ue?_e.length?_e[0]:this._getFirstTabbableElement(this._element):_e.length?_e[_e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ue){const _e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(_e){if(!this._checker.isFocusable(_e)){const Ae=this._getFirstTabbableElement(_e);return Ae?.focus(Ue),!!Ae}return _e.focus(Ue),!0}return this.focusFirstTabbableElement(Ue)}focusFirstTabbableElement(Ue){const _e=this._getRegionBoundary("start");return _e&&_e.focus(Ue),!!_e}focusLastTabbableElement(Ue){const _e=this._getRegionBoundary("end");return _e&&_e.focus(Ue),!!_e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ue){if(this._checker.isFocusable(Ue)&&this._checker.isTabbable(Ue))return Ue;const _e=Ue.children;for(let Ae=0;Ae<_e.length;Ae++){const ct=_e[Ae].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(_e[Ae]):null;if(ct)return ct}return null}_getLastTabbableElement(Ue){if(this._checker.isFocusable(Ue)&&this._checker.isTabbable(Ue))return Ue;const _e=Ue.children;for(let Ae=_e.length-1;Ae>=0;Ae--){const ct=_e[Ae].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(_e[Ae]):null;if(ct)return ct}return null}_createAnchor(){const Ue=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ue),Ue.classList.add("cdk-visually-hidden"),Ue.classList.add("cdk-focus-trap-anchor"),Ue.setAttribute("aria-hidden","true"),Ue}_toggleAnchorTabIndex(Ue,_e){Ue?_e.setAttribute("tabindex","0"):_e.removeAttribute("tabindex")}toggleAnchors(Ue){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ue,this._startAnchor),this._toggleAnchorTabIndex(Ue,this._endAnchor))}_executeOnStable(Ue){this._ngZone.isStable?Ue():this._ngZone.onStable.pipe((0,ot.q)(1)).subscribe(Ue)}}let Ne=(()=>{class Be{constructor(_e,Ae,ct){this._checker=_e,this._ngZone=Ae,this._document=ct}create(_e,Ae=!1){return new Ce(_e,this._checker,this._ngZone,this._document,Ae)}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(yi),l.LFG(l.R0b),l.LFG(C.K0))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();function ci(Be){return 0===Be.buttons||0===Be.detail}function $t(Be){const Ue=Be.touches&&Be.touches[0]||Be.changedTouches&&Be.changedTouches[0];return!(!Ue||-1!==Ue.identifier||null!=Ue.radiusX&&1!==Ue.radiusX||null!=Ue.radiusY&&1!==Ue.radiusY)}const St=new l.OlP("cdk-input-modality-detector-options"),wi={ignoreKeys:[nt.zL,nt.jx,nt.b2,nt.MW,nt.JU]},dn=(0,me.i$)({passive:!0,capture:!0});let Dn=(()=>{class Be{get mostRecentModality(){return this._modality.value}constructor(_e,Ae,ct,Ht){this._platform=_e,this._mostRecentTarget=null,this._modality=new le.X(null),this._lastTouchMs=0,this._onKeydown=fi=>{this._options?.ignoreKeys?.some(Ui=>Ui===fi.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,me.sA)(fi))},this._onMousedown=fi=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ci(fi)?"keyboard":"mouse"),this._mostRecentTarget=(0,me.sA)(fi))},this._onTouchstart=fi=>{$t(fi)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,me.sA)(fi))},this._options={...wi,...Ht},this.modalityDetected=this._modality.pipe(Ye(1)),this.modalityChanged=this.modalityDetected.pipe((0,pt.x)()),_e.isBrowser&&Ae.runOutsideAngular(()=>{ct.addEventListener("keydown",this._onKeydown,dn),ct.addEventListener("mousedown",this._onMousedown,dn),ct.addEventListener("touchstart",this._onTouchstart,dn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dn),document.removeEventListener("mousedown",this._onMousedown,dn),document.removeEventListener("touchstart",this._onTouchstart,dn))}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(me.t4),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(St,8))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const Tt=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Zi(){return null}}),de=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q=0,Q=(()=>{class Be{constructor(_e,Ae,ct,Ht){this._ngZone=Ae,this._defaultOptions=Ht,this._document=ct,this._liveElement=_e||this._createLiveElement()}announce(_e,...Ae){const ct=this._defaultOptions;let Ht,fi;return 1===Ae.length&&"number"==typeof Ae[0]?fi=Ae[0]:[Ht,fi]=Ae,this.clear(),clearTimeout(this._previousTimeout),Ht||(Ht=ct&&ct.politeness?ct.politeness:"polite"),null==fi&&ct&&(fi=ct.duration),this._liveElement.setAttribute("aria-live",Ht),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ui=>this._currentResolve=Ui)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=_e,"number"==typeof fi&&(this._previousTimeout=setTimeout(()=>this.clear(),fi)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const _e="cdk-live-announcer-element",Ae=this._document.getElementsByClassName(_e),ct=this._document.createElement("div");for(let Ht=0;Ht<Ae.length;Ht++)Ae[Ht].remove();return ct.classList.add(_e),ct.classList.add("cdk-visually-hidden"),ct.setAttribute("aria-atomic","true"),ct.setAttribute("aria-live","polite"),ct.id="cdk-live-announcer-"+q++,this._document.body.appendChild(ct),ct}_exposeAnnouncerToModals(_e){const Ae=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ct=0;ct<Ae.length;ct++){const Ht=Ae[ct],fi=Ht.getAttribute("aria-owns");fi?-1===fi.indexOf(_e)&&Ht.setAttribute("aria-owns",fi+" "+_e):Ht.setAttribute("aria-owns",_e)}}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(Tt,8),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(de,8))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const Oe=new l.OlP("cdk-focus-monitor-default-options"),ye=(0,me.i$)({passive:!0,capture:!0});let De=(()=>{class Be{constructor(_e,Ae,ct,Ht,fi){this._ngZone=_e,this._platform=Ae,this._inputModalityDetector=ct,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new g.x,this._rootNodeFocusAndBlurListener=Ui=>{for(let wn=(0,me.sA)(Ui);wn;wn=wn.parentElement)"focus"===Ui.type?this._onFocus(Ui,wn):this._onBlur(Ui,wn)},this._document=Ht,this._detectionMode=fi?.detectionMode||0}monitor(_e,Ae=!1){const ct=(0,ri.fI)(_e);if(!this._platform.isBrowser||1!==ct.nodeType)return(0,Ze.of)();const Ht=(0,me.kV)(ct)||this._getDocument(),fi=this._elementInfo.get(ct);if(fi)return Ae&&(fi.checkChildren=!0),fi.subject;const Ui={checkChildren:Ae,subject:new g.x,rootNode:Ht};return this._elementInfo.set(ct,Ui),this._registerGlobalListeners(Ui),Ui.subject}stopMonitoring(_e){const Ae=(0,ri.fI)(_e),ct=this._elementInfo.get(Ae);ct&&(ct.subject.complete(),this._setClasses(Ae),this._elementInfo.delete(Ae),this._removeGlobalListeners(ct))}focusVia(_e,Ae,ct){const Ht=(0,ri.fI)(_e);Ht===this._getDocument().activeElement?this._getClosestElementsInfo(Ht).forEach(([Ui,Yi])=>this._originChanged(Ui,Ae,Yi)):(this._setOrigin(Ae),"function"==typeof Ht.focus&&Ht.focus(ct))}ngOnDestroy(){this._elementInfo.forEach((_e,Ae)=>this.stopMonitoring(Ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(_e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(_e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:_e&&this._isLastInteractionFromInputLabel(_e)?"mouse":"program"}_shouldBeAttributedToTouch(_e){return 1===this._detectionMode||!!_e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(_e,Ae){_e.classList.toggle("cdk-focused",!!Ae),_e.classList.toggle("cdk-touch-focused","touch"===Ae),_e.classList.toggle("cdk-keyboard-focused","keyboard"===Ae),_e.classList.toggle("cdk-mouse-focused","mouse"===Ae),_e.classList.toggle("cdk-program-focused","program"===Ae)}_setOrigin(_e,Ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=_e,this._originFromTouchInteraction="touch"===_e&&Ae,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(_e,Ae){const ct=this._elementInfo.get(Ae),Ht=(0,me.sA)(_e);!ct||!ct.checkChildren&&Ae!==Ht||this._originChanged(Ae,this._getFocusOrigin(Ht),ct)}_onBlur(_e,Ae){const ct=this._elementInfo.get(Ae);!ct||ct.checkChildren&&_e.relatedTarget instanceof Node&&Ae.contains(_e.relatedTarget)||(this._setClasses(Ae),this._emitOrigin(ct,null))}_emitOrigin(_e,Ae){_e.subject.observers.length&&this._ngZone.run(()=>_e.subject.next(Ae))}_registerGlobalListeners(_e){if(!this._platform.isBrowser)return;const Ae=_e.rootNode,ct=this._rootNodeFocusListenerCount.get(Ae)||0;ct||this._ngZone.runOutsideAngular(()=>{Ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,ye),Ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,ye)}),this._rootNodeFocusListenerCount.set(Ae,ct+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Xt.R)(this._stopInputModalityDetector)).subscribe(Ht=>{this._setOrigin(Ht,!0)}))}_removeGlobalListeners(_e){const Ae=_e.rootNode;if(this._rootNodeFocusListenerCount.has(Ae)){const ct=this._rootNodeFocusListenerCount.get(Ae);ct>1?this._rootNodeFocusListenerCount.set(Ae,ct-1):(Ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ye),Ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ye),this._rootNodeFocusListenerCount.delete(Ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(_e,Ae,ct){this._setClasses(_e,Ae),this._emitOrigin(ct,Ae),this._lastFocusOrigin=Ae}_getClosestElementsInfo(_e){const Ae=[];return this._elementInfo.forEach((ct,Ht)=>{(Ht===_e||ct.checkChildren&&Ht.contains(_e))&&Ae.push([Ht,ct])}),Ae}_isLastInteractionFromInputLabel(_e){const{_mostRecentTarget:Ae,mostRecentModality:ct}=this._inputModalityDetector;if("mouse"!==ct||!Ae||Ae===_e||"INPUT"!==_e.nodeName&&"TEXTAREA"!==_e.nodeName||_e.disabled)return!1;const Ht=_e.labels;if(Ht)for(let fi=0;fi<Ht.length;fi++)if(Ht[fi].contains(Ae))return!0;return!1}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(l.R0b),l.LFG(me.t4),l.LFG(Dn),l.LFG(C.K0,8),l.LFG(Oe,8))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();const Y="cdk-high-contrast-black-on-white",K="cdk-high-contrast-white-on-black",we="cdk-high-contrast-active";let je=(()=>{class Be{constructor(_e,Ae){this._platform=_e,this._document=Ae,this._breakpointSubscription=(0,l.f3M)(Ri).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const _e=this._document.createElement("div");_e.style.backgroundColor="rgb(1,2,3)",_e.style.position="absolute",this._document.body.appendChild(_e);const Ae=this._document.defaultView||window,ct=Ae&&Ae.getComputedStyle?Ae.getComputedStyle(_e):null,Ht=(ct&&ct.backgroundColor||"").replace(/ /g,"");switch(_e.remove(),Ht){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const _e=this._document.body.classList;_e.remove(we,Y,K),this._hasCheckedHighContrastMode=!0;const Ae=this.getHighContrastMode();1===Ae?_e.add(we,Y):2===Ae&&_e.add(we,K)}}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(me.t4),l.LFG(C.K0))};static#t=this.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),wt=(()=>{class Be{constructor(_e){_e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Ae){return new(Ae||Be)(l.LFG(je))};static#t=this.\u0275mod=l.oAB({type:Be});static#i=this.\u0275inj=l.cJS({imports:[Zt.Q8]})}return Be})()},9388:(xi,Et,U)=>{"use strict";U.d(Et,{Is:()=>Ze,vT:()=>Ie});var C=U(9212),l=U(6814);const me=new C.OlP("cdk-dir-doc",{providedIn:"root",factory:function g(){return(0,C.f3M)(l.K0)}}),Ve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ze=(()=>{class it{constructor(Je){this.value="ltr",this.change=new C.vpe,Je&&(this.value=function le(it){const at=it?.toLowerCase()||"";return"auto"===at&&typeof navigator<"u"&&navigator?.language?Ve.test(navigator.language)?"rtl":"ltr":"rtl"===at?"rtl":"ltr"}((Je.body?Je.body.dir:null)||(Je.documentElement?Je.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(ot){return new(ot||it)(C.LFG(me,8))};static#t=this.\u0275prov=C.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),Ie=(()=>{class it{static#e=this.\u0275fac=function(ot){return new(ot||it)};static#t=this.\u0275mod=C.oAB({type:it});static#i=this.\u0275inj=C.cJS({})}return it})()},2495:(xi,Et,U)=>{"use strict";U.d(Et,{Eq:()=>Ve,HM:()=>le,Ig:()=>l,fI:()=>Ze,su:()=>me});var C=U(9212);function l(Ie){return null!=Ie&&"false"!=`${Ie}`}function me(Ie,it=0){return function g(Ie){return!isNaN(parseFloat(Ie))&&!isNaN(Number(Ie))}(Ie)?Number(Ie):it}function Ve(Ie){return Array.isArray(Ie)?Ie:[Ie]}function le(Ie){return null==Ie?"":"string"==typeof Ie?Ie:`${Ie}px`}function Ze(Ie){return Ie instanceof C.SBq?Ie.nativeElement:Ie}},8337:(xi,Et,U)=>{"use strict";U.d(Et,{A8:()=>it,Ov:()=>nt});var C=U(8645),l=U(9212);class nt{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(ot=!1,Ye,pt=!0,Xt){this._multiple=ot,this._emitChanges=pt,this.compareWith=Xt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C.x,Ye&&Ye.length&&(ot?Ye.forEach(Zt=>this._markSelected(Zt)):this._markSelected(Ye[0]),this._selectedToEmit.length=0)}select(...ot){this._verifyValueAssignment(ot),ot.forEach(pt=>this._markSelected(pt));const Ye=this._hasQueuedChanges();return this._emitChangeEvent(),Ye}deselect(...ot){this._verifyValueAssignment(ot),ot.forEach(pt=>this._unmarkSelected(pt));const Ye=this._hasQueuedChanges();return this._emitChangeEvent(),Ye}setSelection(...ot){this._verifyValueAssignment(ot);const Ye=this.selected,pt=new Set(ot);ot.forEach(Zt=>this._markSelected(Zt)),Ye.filter(Zt=>!pt.has(Zt)).forEach(Zt=>this._unmarkSelected(Zt));const Xt=this._hasQueuedChanges();return this._emitChangeEvent(),Xt}toggle(ot){return this.isSelected(ot)?this.deselect(ot):this.select(ot)}clear(ot=!0){this._unmarkAll();const Ye=this._hasQueuedChanges();return ot&&this._emitChangeEvent(),Ye}isSelected(ot){return this._selection.has(this._getConcreteValue(ot))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ot){this._multiple&&this.selected&&this._selected.sort(ot)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ot){ot=this._getConcreteValue(ot),this.isSelected(ot)||(this._multiple||this._unmarkAll(),this.isSelected(ot)||this._selection.add(ot),this._emitChanges&&this._selectedToEmit.push(ot))}_unmarkSelected(ot){ot=this._getConcreteValue(ot),this.isSelected(ot)&&(this._selection.delete(ot),this._emitChanges&&this._deselectedToEmit.push(ot))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ot=>this._unmarkSelected(ot))}_verifyValueAssignment(ot){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(ot){if(this.compareWith){for(let Ye of this._selection)if(this.compareWith(ot,Ye))return Ye;return ot}return ot}}let it=(()=>{class Je{constructor(){this._listeners=[]}notify(Ye,pt){for(let Xt of this._listeners)Xt(Ye,pt)}listen(Ye){return this._listeners.push(Ye),()=>{this._listeners=this._listeners.filter(pt=>Ye!==pt)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(pt){return new(pt||Je)};static#t=this.\u0275prov=l.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"})}return Je})()},6028:(xi,Et,U)=>{"use strict";U.d(Et,{A:()=>Lt,JH:()=>Pi,JU:()=>le,K5:()=>Ve,Ku:()=>ot,LH:()=>ri,L_:()=>Je,MW:()=>Me,Mf:()=>me,SV:()=>ki,Sd:()=>Xt,VM:()=>Ye,Vb:()=>Un,Z:()=>pe,aO:()=>Bn,b2:()=>cn,hY:()=>at,jx:()=>Ze,oh:()=>Zt,uR:()=>pt,xE:()=>Nt,zL:()=>nt});const me=9,Ve=13,le=16,Ze=17,nt=18,at=27,Je=32,ot=33,Ye=34,pt=35,Xt=36,Zt=37,ri=38,ki=39,Pi=40,Nt=48,Bn=57,Lt=65,pe=90,Me=91,cn=224;function Un(bn,...Vn){return Vn.length?Vn.some(Ji=>bn[Ji]):bn.altKey||bn.shiftKey||bn.ctrlKey||bn.metaKey}},7131:(xi,Et,U)=>{"use strict";U.d(Et,{Q8:()=>Ie,wD:()=>nt});var C=U(2495),l=U(9212),me=U(5592),g=U(8645),Ve=U(3620);let le=(()=>{class it{create(Je){return typeof MutationObserver>"u"?null:new MutationObserver(Je)}static#e=this.\u0275fac=function(ot){return new(ot||it)};static#t=this.\u0275prov=l.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),Ze=(()=>{class it{constructor(Je){this._mutationObserverFactory=Je,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Je,ot)=>this._cleanupObserver(ot))}observe(Je){const ot=(0,C.fI)(Je);return new me.y(Ye=>{const Xt=this._observeElement(ot).subscribe(Ye);return()=>{Xt.unsubscribe(),this._unobserveElement(ot)}})}_observeElement(Je){if(this._observedElements.has(Je))this._observedElements.get(Je).count++;else{const ot=new g.x,Ye=this._mutationObserverFactory.create(pt=>ot.next(pt));Ye&&Ye.observe(Je,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Je,{observer:Ye,stream:ot,count:1})}return this._observedElements.get(Je).stream}_unobserveElement(Je){this._observedElements.has(Je)&&(this._observedElements.get(Je).count--,this._observedElements.get(Je).count||this._cleanupObserver(Je))}_cleanupObserver(Je){if(this._observedElements.has(Je)){const{observer:ot,stream:Ye}=this._observedElements.get(Je);ot&&ot.disconnect(),Ye.complete(),this._observedElements.delete(Je)}}static#e=this.\u0275fac=function(ot){return new(ot||it)(l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),nt=(()=>{class it{get disabled(){return this._disabled}set disabled(Je){this._disabled=Je,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Je){this._debounce=(0,C.su)(Je),this._subscribe()}constructor(Je,ot,Ye){this._contentObserver=Je,this._elementRef=ot,this._ngZone=Ye,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Je=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Je.pipe((0,Ve.b)(this.debounce)):Je).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(ot){return new(ot||it)(l.Y36(Ze),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:it,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled",l.VuI],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[l.Xq5]})}return it})(),Ie=(()=>{class it{static#e=this.\u0275fac=function(ot){return new(ot||it)};static#t=this.\u0275mod=l.oAB({type:it});static#i=this.\u0275inj=l.cJS({providers:[le]})}return it})()},3651:(xi,Et,U)=>{"use strict";U.d(Et,{pI:()=>pn,xu:()=>xt,aV:()=>lt,U8:()=>Ii});var C=U(799),l=U(6814),me=U(9212),g=U(2495),Ve=U(2831),le=U(2181),Ze=U(8180),nt=U(9773),Ie=U(9360),it=U(8251),Je=U(9388),ot=U(8484),Ye=U(8645),pt=U(7394),Xt=U(3019),Zt=U(6028);const ri=(0,Ve.Mq)();class ki{constructor(Ce,Ne){this._viewportRuler=Ce,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ne}attach(){}enable(){if(this._canBeEnabled()){const Ce=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ce.style.left||"",this._previousHTMLStyles.top=Ce.style.top||"",Ce.style.left=(0,g.HM)(-this._previousScrollPosition.left),Ce.style.top=(0,g.HM)(-this._previousScrollPosition.top),Ce.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ce=this._document.documentElement,Le=Ce.style,$e=this._document.body.style,pe=Le.scrollBehavior||"",Me=$e.scrollBehavior||"";this._isEnabled=!1,Le.left=this._previousHTMLStyles.left,Le.top=this._previousHTMLStyles.top,Ce.classList.remove("cdk-global-scrollblock"),ri&&(Le.scrollBehavior=$e.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ri&&(Le.scrollBehavior=pe,$e.scrollBehavior=Me)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ne=this._document.body,Le=this._viewportRuler.getViewportSize();return Ne.scrollHeight>Le.height||Ne.scrollWidth>Le.width}}class jt{constructor(Ce,Ne,Le,$e){this._scrollDispatcher=Ce,this._ngZone=Ne,this._viewportRuler=Le,this._config=$e,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ce){this._overlayRef=Ce}enable(){if(this._scrollSubscription)return;const Ce=this._scrollDispatcher.scrolled(0).pipe((0,le.h)(Ne=>!Ne||!this._overlayRef.overlayElement.contains(Ne.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ce.subscribe(()=>{const Ne=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ne-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ce.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rt{enable(){}disable(){}attach(){}}function ht(Ut,Ce){return Ce.some(Ne=>Ut.bottom<Ne.top||Ut.top>Ne.bottom||Ut.right<Ne.left||Ut.left>Ne.right)}function ei(Ut,Ce){return Ce.some(Ne=>Ut.top<Ne.top||Ut.bottom>Ne.bottom||Ut.left<Ne.left||Ut.right>Ne.right)}class Nt{constructor(Ce,Ne,Le,$e){this._scrollDispatcher=Ce,this._viewportRuler=Ne,this._ngZone=Le,this._config=$e,this._scrollSubscription=null}attach(Ce){this._overlayRef=Ce}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ne=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Le,height:$e}=this._viewportRuler.getViewportSize();ht(Ne,[{width:Le,height:$e,bottom:$e,right:Le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Dt=(()=>{class Ut{constructor(Ne,Le,$e,pe){this._scrollDispatcher=Ne,this._viewportRuler=Le,this._ngZone=$e,this.noop=()=>new rt,this.close=Me=>new jt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Me),this.block=()=>new ki(this._viewportRuler,this._document),this.reposition=Me=>new Nt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Me),this._document=pe}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(C.mF),me.LFG(C.rL),me.LFG(me.R0b),me.LFG(l.K0))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();class _t{constructor(Ce){if(this.scrollStrategy=new rt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ce){const Ne=Object.keys(Ce);for(const Le of Ne)void 0!==Ce[Le]&&(this[Le]=Ce[Le])}}}class Fi{constructor(Ce,Ne){this.connectionPair=Ce,this.scrollableViewProperties=Ne}}let Li=(()=>{class Ut{constructor(Ne){this._attachedOverlays=[],this._document=Ne}ngOnDestroy(){this.detach()}add(Ne){this.remove(Ne),this._attachedOverlays.push(Ne)}remove(Ne){const Le=this._attachedOverlays.indexOf(Ne);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(l.K0))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),Bn=(()=>{class Ut extends Li{constructor(Ne,Le){super(Ne),this._ngZone=Le,this._keydownListener=$e=>{const pe=this._attachedOverlays;for(let Me=pe.length-1;Me>-1;Me--)if(pe[Me]._keydownEvents.observers.length>0){const Ft=pe[Me]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ft.next($e)):Ft.next($e);break}}}add(Ne){super.add(Ne),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(l.K0),me.LFG(me.R0b,8))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),_i=(()=>{class Ut extends Li{constructor(Ne,Le,$e){super(Ne),this._platform=Le,this._ngZone=$e,this._cursorStyleIsSet=!1,this._pointerDownListener=pe=>{this._pointerDownEventTarget=(0,Ve.sA)(pe)},this._clickListener=pe=>{const Me=(0,Ve.sA)(pe),Ft="click"===pe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Me;this._pointerDownEventTarget=null;const Wt=this._attachedOverlays.slice();for(let ci=Wt.length-1;ci>-1;ci--){const $t=Wt[ci];if($t._outsidePointerEvents.observers.length<1||!$t.hasAttached())continue;if($t.overlayElement.contains(Me)||$t.overlayElement.contains(Ft))break;const St=$t._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>St.next(pe)):St.next(pe)}}}add(Ne){if(super.add(Ne),!this._isAttached){const Le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Le)):this._addEventListeners(Le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ne=this._document.body;Ne.removeEventListener("pointerdown",this._pointerDownListener,!0),Ne.removeEventListener("click",this._clickListener,!0),Ne.removeEventListener("auxclick",this._clickListener,!0),Ne.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ne.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ne){Ne.addEventListener("pointerdown",this._pointerDownListener,!0),Ne.addEventListener("click",this._clickListener,!0),Ne.addEventListener("auxclick",this._clickListener,!0),Ne.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(l.K0),me.LFG(Ve.t4),me.LFG(me.R0b,8))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),Xe=(()=>{class Ut{constructor(Ne,Le){this._platform=Le,this._document=Ne}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ne="cdk-overlay-container";if(this._platform.isBrowser||(0,Ve.Oy)()){const $e=this._document.querySelectorAll(`.${Ne}[platform="server"], .${Ne}[platform="test"]`);for(let pe=0;pe<$e.length;pe++)$e[pe].remove()}const Le=this._document.createElement("div");Le.classList.add(Ne),(0,Ve.Oy)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(l.K0),me.LFG(Ve.t4))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();class Ke{constructor(Ce,Ne,Le,$e,pe,Me,Ft,Wt,ci,$t=!1){this._portalOutlet=Ce,this._host=Ne,this._pane=Le,this._config=$e,this._ngZone=pe,this._keyboardDispatcher=Me,this._document=Ft,this._location=Wt,this._outsideClickDispatcher=ci,this._animationsDisabled=$t,this._backdropElement=null,this._backdropClick=new Ye.x,this._attachments=new Ye.x,this._detachments=new Ye.x,this._locationChanges=pt.w0.EMPTY,this._backdropClickHandler=St=>this._backdropClick.next(St),this._backdropTransitionendHandler=St=>{this._disposeBackdrop(St.target)},this._keydownEvents=new Ye.x,this._outsidePointerEvents=new Ye.x,$e.scrollStrategy&&(this._scrollStrategy=$e.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=$e.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ce){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ne=this._portalOutlet.attach(Ce);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ze.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ne?.onDestroy&&Ne.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ne}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ce=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ce}dispose(){const Ce=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ce&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ce){Ce!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ce,this.hasAttached()&&(Ce.attach(this),this.updatePosition()))}updateSize(Ce){this._config={...this._config,...Ce},this._updateElementSize()}setDirection(Ce){this._config={...this._config,direction:Ce},this._updateElementDirection()}addPanelClass(Ce){this._pane&&this._toggleClasses(this._pane,Ce,!0)}removePanelClass(Ce){this._pane&&this._toggleClasses(this._pane,Ce,!1)}getDirection(){const Ce=this._config.direction;return Ce?"string"==typeof Ce?Ce:Ce.value:"ltr"}updateScrollStrategy(Ce){Ce!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ce,this.hasAttached()&&(Ce.attach(this),Ce.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ce=this._pane.style;Ce.width=(0,g.HM)(this._config.width),Ce.height=(0,g.HM)(this._config.height),Ce.minWidth=(0,g.HM)(this._config.minWidth),Ce.minHeight=(0,g.HM)(this._config.minHeight),Ce.maxWidth=(0,g.HM)(this._config.maxWidth),Ce.maxHeight=(0,g.HM)(this._config.maxHeight)}_togglePointerEvents(Ce){this._pane.style.pointerEvents=Ce?"":"none"}_attachBackdrop(){const Ce="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ce)})}):this._backdropElement.classList.add(Ce)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ce=this._backdropElement;if(Ce){if(this._animationsDisabled)return void this._disposeBackdrop(Ce);Ce.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ce.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ce.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ce)},500))}}_toggleClasses(Ce,Ne,Le){const $e=(0,g.Eq)(Ne||[]).filter(pe=>!!pe);$e.length&&(Le?Ce.classList.add(...$e):Ce.classList.remove(...$e))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Ce=this._ngZone.onStable.pipe((0,nt.R)((0,Xt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ce.unsubscribe())})})}_disposeScrollStrategy(){const Ce=this._scrollStrategy;Ce&&(Ce.disable(),Ce.detach&&Ce.detach())}_disposeBackdrop(Ce){Ce&&(Ce.removeEventListener("click",this._backdropClickHandler),Ce.removeEventListener("transitionend",this._backdropTransitionendHandler),Ce.remove(),this._backdropElement===Ce&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ot="cdk-overlay-connected-position-bounding-box",Lt=/([A-Za-z%]+)$/;class ai{get positions(){return this._preferredPositions}constructor(Ce,Ne,Le,$e,pe){this._viewportRuler=Ne,this._document=Le,this._platform=$e,this._overlayContainer=pe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ye.x,this._resizeSubscription=pt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ce)}attach(Ce){this._validatePositions(),Ce.hostElement.classList.add(Ot),this._overlayRef=Ce,this._boundingBox=Ce.hostElement,this._pane=Ce.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ce=this._originRect,Ne=this._overlayRect,Le=this._viewportRect,$e=this._containerRect,pe=[];let Me;for(let Ft of this._preferredPositions){let Wt=this._getOriginPoint(Ce,$e,Ft),ci=this._getOverlayPoint(Wt,Ne,Ft),$t=this._getOverlayFit(ci,Ne,Le,Ft);if($t.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ft,Wt);this._canFitWithFlexibleDimensions($t,ci,Le)?pe.push({position:Ft,origin:Wt,overlayRect:Ne,boundingBoxRect:this._calculateBoundingBoxRect(Wt,Ft)}):(!Me||Me.overlayFit.visibleArea<$t.visibleArea)&&(Me={overlayFit:$t,overlayPoint:ci,originPoint:Wt,position:Ft,overlayRect:Ne})}if(pe.length){let Ft=null,Wt=-1;for(const ci of pe){const $t=ci.boundingBoxRect.width*ci.boundingBoxRect.height*(ci.position.weight||1);$t>Wt&&(Wt=$t,Ft=ci)}return this._isPushed=!1,void this._applyPosition(Ft.position,Ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Me.position,Me.originPoint);this._applyPosition(Me.position,Me.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&At(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ot),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ce=this._lastPosition;if(Ce){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ne=this._getOriginPoint(this._originRect,this._containerRect,Ce);this._applyPosition(Ce,Ne)}else this.apply()}withScrollableContainers(Ce){return this._scrollables=Ce,this}withPositions(Ce){return this._preferredPositions=Ce,-1===Ce.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ce){return this._viewportMargin=Ce,this}withFlexibleDimensions(Ce=!0){return this._hasFlexibleDimensions=Ce,this}withGrowAfterOpen(Ce=!0){return this._growAfterOpen=Ce,this}withPush(Ce=!0){return this._canPush=Ce,this}withLockedPosition(Ce=!0){return this._positionLocked=Ce,this}setOrigin(Ce){return this._origin=Ce,this}withDefaultOffsetX(Ce){return this._offsetX=Ce,this}withDefaultOffsetY(Ce){return this._offsetY=Ce,this}withTransformOriginOn(Ce){return this._transformOriginSelector=Ce,this}_getOriginPoint(Ce,Ne,Le){let $e,pe;if("center"==Le.originX)$e=Ce.left+Ce.width/2;else{const Me=this._isRtl()?Ce.right:Ce.left,Ft=this._isRtl()?Ce.left:Ce.right;$e="start"==Le.originX?Me:Ft}return Ne.left<0&&($e-=Ne.left),pe="center"==Le.originY?Ce.top+Ce.height/2:"top"==Le.originY?Ce.top:Ce.bottom,Ne.top<0&&(pe-=Ne.top),{x:$e,y:pe}}_getOverlayPoint(Ce,Ne,Le){let $e,pe;return $e="center"==Le.overlayX?-Ne.width/2:"start"===Le.overlayX?this._isRtl()?-Ne.width:0:this._isRtl()?0:-Ne.width,pe="center"==Le.overlayY?-Ne.height/2:"top"==Le.overlayY?0:-Ne.height,{x:Ce.x+$e,y:Ce.y+pe}}_getOverlayFit(Ce,Ne,Le,$e){const pe=ft(Ne);let{x:Me,y:Ft}=Ce,Wt=this._getOffset($e,"x"),ci=this._getOffset($e,"y");Wt&&(Me+=Wt),ci&&(Ft+=ci);let wi=0-Ft,Ci=Ft+pe.height-Le.height,dn=this._subtractOverflows(pe.width,0-Me,Me+pe.width-Le.width),Dn=this._subtractOverflows(pe.height,wi,Ci),Tt=dn*Dn;return{visibleArea:Tt,isCompletelyWithinViewport:pe.width*pe.height===Tt,fitsInViewportVertically:Dn===pe.height,fitsInViewportHorizontally:dn==pe.width}}_canFitWithFlexibleDimensions(Ce,Ne,Le){if(this._hasFlexibleDimensions){const $e=Le.bottom-Ne.y,pe=Le.right-Ne.x,Me=Ei(this._overlayRef.getConfig().minHeight),Ft=Ei(this._overlayRef.getConfig().minWidth);return(Ce.fitsInViewportVertically||null!=Me&&Me<=$e)&&(Ce.fitsInViewportHorizontally||null!=Ft&&Ft<=pe)}return!1}_pushOverlayOnScreen(Ce,Ne,Le){if(this._previousPushAmount&&this._positionLocked)return{x:Ce.x+this._previousPushAmount.x,y:Ce.y+this._previousPushAmount.y};const $e=ft(Ne),pe=this._viewportRect,Me=Math.max(Ce.x+$e.width-pe.width,0),Ft=Math.max(Ce.y+$e.height-pe.height,0),Wt=Math.max(pe.top-Le.top-Ce.y,0),ci=Math.max(pe.left-Le.left-Ce.x,0);let $t=0,St=0;return $t=$e.width<=pe.width?ci||-Me:Ce.x<this._viewportMargin?pe.left-Le.left-Ce.x:0,St=$e.height<=pe.height?Wt||-Ft:Ce.y<this._viewportMargin?pe.top-Le.top-Ce.y:0,this._previousPushAmount={x:$t,y:St},{x:Ce.x+$t,y:Ce.y+St}}_applyPosition(Ce,Ne){if(this._setTransformOrigin(Ce),this._setOverlayElementStyles(Ne,Ce),this._setBoundingBoxStyles(Ne,Ce),Ce.panelClass&&this._addPanelClasses(Ce.panelClass),this._lastPosition=Ce,this._positionChanges.observers.length){const Le=this._getScrollVisibility(),$e=new Fi(Ce,Le);this._positionChanges.next($e)}this._isInitialRender=!1}_setTransformOrigin(Ce){if(!this._transformOriginSelector)return;const Ne=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Le,$e=Ce.overlayY;Le="center"===Ce.overlayX?"center":this._isRtl()?"start"===Ce.overlayX?"right":"left":"start"===Ce.overlayX?"left":"right";for(let pe=0;pe<Ne.length;pe++)Ne[pe].style.transformOrigin=`${Le} ${$e}`}_calculateBoundingBoxRect(Ce,Ne){const Le=this._viewportRect,$e=this._isRtl();let pe,Me,Ft,$t,St,wi;if("top"===Ne.overlayY)Me=Ce.y,pe=Le.height-Me+this._viewportMargin;else if("bottom"===Ne.overlayY)Ft=Le.height-Ce.y+2*this._viewportMargin,pe=Le.height-Ft+this._viewportMargin;else{const Ci=Math.min(Le.bottom-Ce.y+Le.top,Ce.y),dn=this._lastBoundingBoxSize.height;pe=2*Ci,Me=Ce.y-Ci,pe>dn&&!this._isInitialRender&&!this._growAfterOpen&&(Me=Ce.y-dn/2)}if("end"===Ne.overlayX&&!$e||"start"===Ne.overlayX&&$e)wi=Le.width-Ce.x+this._viewportMargin,$t=Ce.x-this._viewportMargin;else if("start"===Ne.overlayX&&!$e||"end"===Ne.overlayX&&$e)St=Ce.x,$t=Le.right-Ce.x;else{const Ci=Math.min(Le.right-Ce.x+Le.left,Ce.x),dn=this._lastBoundingBoxSize.width;$t=2*Ci,St=Ce.x-Ci,$t>dn&&!this._isInitialRender&&!this._growAfterOpen&&(St=Ce.x-dn/2)}return{top:Me,left:St,bottom:Ft,right:wi,width:$t,height:pe}}_setBoundingBoxStyles(Ce,Ne){const Le=this._calculateBoundingBoxRect(Ce,Ne);!this._isInitialRender&&!this._growAfterOpen&&(Le.height=Math.min(Le.height,this._lastBoundingBoxSize.height),Le.width=Math.min(Le.width,this._lastBoundingBoxSize.width));const $e={};if(this._hasExactPosition())$e.top=$e.left="0",$e.bottom=$e.right=$e.maxHeight=$e.maxWidth="",$e.width=$e.height="100%";else{const pe=this._overlayRef.getConfig().maxHeight,Me=this._overlayRef.getConfig().maxWidth;$e.height=(0,g.HM)(Le.height),$e.top=(0,g.HM)(Le.top),$e.bottom=(0,g.HM)(Le.bottom),$e.width=(0,g.HM)(Le.width),$e.left=(0,g.HM)(Le.left),$e.right=(0,g.HM)(Le.right),$e.alignItems="center"===Ne.overlayX?"center":"end"===Ne.overlayX?"flex-end":"flex-start",$e.justifyContent="center"===Ne.overlayY?"center":"bottom"===Ne.overlayY?"flex-end":"flex-start",pe&&($e.maxHeight=(0,g.HM)(pe)),Me&&($e.maxWidth=(0,g.HM)(Me))}this._lastBoundingBoxSize=Le,At(this._boundingBox.style,$e)}_resetBoundingBoxStyles(){At(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){At(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ce,Ne){const Le={},$e=this._hasExactPosition(),pe=this._hasFlexibleDimensions,Me=this._overlayRef.getConfig();if($e){const $t=this._viewportRuler.getViewportScrollPosition();At(Le,this._getExactOverlayY(Ne,Ce,$t)),At(Le,this._getExactOverlayX(Ne,Ce,$t))}else Le.position="static";let Ft="",Wt=this._getOffset(Ne,"x"),ci=this._getOffset(Ne,"y");Wt&&(Ft+=`translateX(${Wt}px) `),ci&&(Ft+=`translateY(${ci}px)`),Le.transform=Ft.trim(),Me.maxHeight&&($e?Le.maxHeight=(0,g.HM)(Me.maxHeight):pe&&(Le.maxHeight="")),Me.maxWidth&&($e?Le.maxWidth=(0,g.HM)(Me.maxWidth):pe&&(Le.maxWidth="")),At(this._pane.style,Le)}_getExactOverlayY(Ce,Ne,Le){let $e={top:"",bottom:""},pe=this._getOverlayPoint(Ne,this._overlayRect,Ce);return this._isPushed&&(pe=this._pushOverlayOnScreen(pe,this._overlayRect,Le)),"bottom"===Ce.overlayY?$e.bottom=this._document.documentElement.clientHeight-(pe.y+this._overlayRect.height)+"px":$e.top=(0,g.HM)(pe.y),$e}_getExactOverlayX(Ce,Ne,Le){let Me,$e={left:"",right:""},pe=this._getOverlayPoint(Ne,this._overlayRect,Ce);return this._isPushed&&(pe=this._pushOverlayOnScreen(pe,this._overlayRect,Le)),Me=this._isRtl()?"end"===Ce.overlayX?"left":"right":"end"===Ce.overlayX?"right":"left","right"===Me?$e.right=this._document.documentElement.clientWidth-(pe.x+this._overlayRect.width)+"px":$e.left=(0,g.HM)(pe.x),$e}_getScrollVisibility(){const Ce=this._getOriginRect(),Ne=this._pane.getBoundingClientRect(),Le=this._scrollables.map($e=>$e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ei(Ce,Le),isOriginOutsideView:ht(Ce,Le),isOverlayClipped:ei(Ne,Le),isOverlayOutsideView:ht(Ne,Le)}}_subtractOverflows(Ce,...Ne){return Ne.reduce((Le,$e)=>Le-Math.max($e,0),Ce)}_getNarrowedViewportRect(){const Ce=this._document.documentElement.clientWidth,Ne=this._document.documentElement.clientHeight,Le=this._viewportRuler.getViewportScrollPosition();return{top:Le.top+this._viewportMargin,left:Le.left+this._viewportMargin,right:Le.left+Ce-this._viewportMargin,bottom:Le.top+Ne-this._viewportMargin,width:Ce-2*this._viewportMargin,height:Ne-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ce,Ne){return"x"===Ne?null==Ce.offsetX?this._offsetX:Ce.offsetX:null==Ce.offsetY?this._offsetY:Ce.offsetY}_validatePositions(){}_addPanelClasses(Ce){this._pane&&(0,g.Eq)(Ce).forEach(Ne=>{""!==Ne&&-1===this._appliedPanelClasses.indexOf(Ne)&&(this._appliedPanelClasses.push(Ne),this._pane.classList.add(Ne))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ce=>{this._pane.classList.remove(Ce)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ce=this._origin;if(Ce instanceof me.SBq)return Ce.nativeElement.getBoundingClientRect();if(Ce instanceof Element)return Ce.getBoundingClientRect();const Ne=Ce.width||0,Le=Ce.height||0;return{top:Ce.y,bottom:Ce.y+Le,left:Ce.x,right:Ce.x+Ne,height:Le,width:Ne}}}function At(Ut,Ce){for(let Ne in Ce)Ce.hasOwnProperty(Ne)&&(Ut[Ne]=Ce[Ne]);return Ut}function Ei(Ut){if("number"!=typeof Ut&&null!=Ut){const[Ce,Ne]=Ut.split(Lt);return Ne&&"px"!==Ne?null:parseFloat(Ce)}return Ut||null}function ft(Ut){return{top:Math.floor(Ut.top),right:Math.floor(Ut.right),bottom:Math.floor(Ut.bottom),left:Math.floor(Ut.left),width:Math.floor(Ut.width),height:Math.floor(Ut.height)}}const hi="cdk-global-overlay-wrapper";class yi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ce){const Ne=Ce.getConfig();this._overlayRef=Ce,this._width&&!Ne.width&&Ce.updateSize({width:this._width}),this._height&&!Ne.height&&Ce.updateSize({height:this._height}),Ce.hostElement.classList.add(hi),this._isDisposed=!1}top(Ce=""){return this._bottomOffset="",this._topOffset=Ce,this._alignItems="flex-start",this}left(Ce=""){return this._xOffset=Ce,this._xPosition="left",this}bottom(Ce=""){return this._topOffset="",this._bottomOffset=Ce,this._alignItems="flex-end",this}right(Ce=""){return this._xOffset=Ce,this._xPosition="right",this}start(Ce=""){return this._xOffset=Ce,this._xPosition="start",this}end(Ce=""){return this._xOffset=Ce,this._xPosition="end",this}width(Ce=""){return this._overlayRef?this._overlayRef.updateSize({width:Ce}):this._width=Ce,this}height(Ce=""){return this._overlayRef?this._overlayRef.updateSize({height:Ce}):this._height=Ce,this}centerHorizontally(Ce=""){return this.left(Ce),this._xPosition="center",this}centerVertically(Ce=""){return this.top(Ce),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ce=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement.style,Le=this._overlayRef.getConfig(),{width:$e,height:pe,maxWidth:Me,maxHeight:Ft}=Le,Wt=!("100%"!==$e&&"100vw"!==$e||Me&&"100%"!==Me&&"100vw"!==Me),ci=!("100%"!==pe&&"100vh"!==pe||Ft&&"100%"!==Ft&&"100vh"!==Ft),$t=this._xPosition,St=this._xOffset,wi="rtl"===this._overlayRef.getConfig().direction;let Ci="",dn="",Dn="";Wt?Dn="flex-start":"center"===$t?(Dn="center",wi?dn=St:Ci=St):wi?"left"===$t||"end"===$t?(Dn="flex-end",Ci=St):("right"===$t||"start"===$t)&&(Dn="flex-start",dn=St):"left"===$t||"start"===$t?(Dn="flex-start",Ci=St):("right"===$t||"end"===$t)&&(Dn="flex-end",dn=St),Ce.position=this._cssPosition,Ce.marginLeft=Wt?"0":Ci,Ce.marginTop=ci?"0":this._topOffset,Ce.marginBottom=this._bottomOffset,Ce.marginRight=Wt?"0":dn,Ne.justifyContent=Dn,Ne.alignItems=ci?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ce=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement,Le=Ne.style;Ne.classList.remove(hi),Le.justifyContent=Le.alignItems=Ce.marginTop=Ce.marginBottom=Ce.marginLeft=Ce.marginRight=Ce.position="",this._overlayRef=null,this._isDisposed=!0}}let si=(()=>{class Ut{constructor(Ne,Le,$e,pe){this._viewportRuler=Ne,this._document=Le,this._platform=$e,this._overlayContainer=pe}global(){return new yi}flexibleConnectedTo(Ne){return new ai(Ne,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(C.rL),me.LFG(l.K0),me.LFG(Ve.t4),me.LFG(Xe))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),Qi=0,lt=(()=>{class Ut{constructor(Ne,Le,$e,pe,Me,Ft,Wt,ci,$t,St,wi,Ci){this.scrollStrategies=Ne,this._overlayContainer=Le,this._componentFactoryResolver=$e,this._positionBuilder=pe,this._keyboardDispatcher=Me,this._injector=Ft,this._ngZone=Wt,this._document=ci,this._directionality=$t,this._location=St,this._outsideClickDispatcher=wi,this._animationsModuleType=Ci}create(Ne){const Le=this._createHostElement(),$e=this._createPaneElement(Le),pe=this._createPortalOutlet($e),Me=new _t(Ne);return Me.direction=Me.direction||this._directionality.value,new Ke(pe,Le,$e,Me,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ne){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+Qi++,Le.classList.add("cdk-overlay-pane"),Ne.appendChild(Le),Le}_createHostElement(){const Ne=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ne),Ne}_createPortalOutlet(Ne){return this._appRef||(this._appRef=this._injector.get(me.z2F)),new ot.u0(Ne,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.LFG(Dt),me.LFG(Xe),me.LFG(me._Vd),me.LFG(si),me.LFG(Bn),me.LFG(me.zs3),me.LFG(me.R0b),me.LFG(l.K0),me.LFG(Je.Is),me.LFG(l.Ye),me.LFG(_i),me.LFG(me.QbO,8))};static#t=this.\u0275prov=me.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();const Vt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],li=new me.OlP("cdk-connected-overlay-scroll-strategy");let xt=(()=>{class Ut{constructor(Ne){this.elementRef=Ne}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.Y36(me.SBq))};static#t=this.\u0275dir=me.lG2({type:Ut,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ut})(),pn=(()=>{class Ut{get offsetX(){return this._offsetX}set offsetX(Ne){this._offsetX=Ne,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ne){this._offsetY=Ne,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Ne){this._disposeOnNavigation=Ne}constructor(Ne,Le,$e,pe,Me){this._overlay=Ne,this._dir=Me,this._backdropSubscription=pt.w0.EMPTY,this._attachSubscription=pt.w0.EMPTY,this._detachSubscription=pt.w0.EMPTY,this._positionSubscription=pt.w0.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new me.vpe,this.positionChange=new me.vpe,this.attach=new me.vpe,this.detach=new me.vpe,this.overlayKeydown=new me.vpe,this.overlayOutsideClick=new me.vpe,this._templatePortal=new ot.UE(Le,$e),this._scrollStrategyFactory=pe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ne){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ne.origin&&this.open&&this._position.apply()),Ne.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Vt);const Ne=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ne.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ne.detachments().subscribe(()=>this.detach.emit()),Ne.keydownEvents().subscribe(Le=>{this.overlayKeydown.next(Le),Le.keyCode===Zt.hY&&!this.disableClose&&!(0,Zt.Vb)(Le)&&(Le.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Le=>{this.overlayOutsideClick.next(Le)})}_buildConfig(){const Ne=this._position=this.positionStrategy||this._createPositionStrategy(),Le=new _t({direction:this._dir,positionStrategy:Ne,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(Le.width=this.width),(this.height||0===this.height)&&(Le.height=this.height),(this.minWidth||0===this.minWidth)&&(Le.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Le.minHeight=this.minHeight),this.backdropClass&&(Le.backdropClass=this.backdropClass),this.panelClass&&(Le.panelClass=this.panelClass),Le}_updatePositionStrategy(Ne){const Le=this.positions.map($e=>({originX:$e.originX,originY:$e.originY,overlayX:$e.overlayX,overlayY:$e.overlayY,offsetX:$e.offsetX||this.offsetX,offsetY:$e.offsetY||this.offsetY,panelClass:$e.panelClass||void 0}));return Ne.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Le).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ne=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ne),Ne}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof xt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ne=>{this.backdropClick.emit(Ne)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function at(Ut,Ce=!1){return(0,Ie.e)((Ne,Le)=>{let $e=0;Ne.subscribe((0,it.x)(Le,pe=>{const Me=Ut(pe,$e++);(Me||Ce)&&Le.next(pe),!Me&&Le.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Ne=>{this.positionChange.emit(Ne),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Le){return new(Le||Ut)(me.Y36(lt),me.Y36(me.Rgc),me.Y36(me.s_b),me.Y36(li),me.Y36(Je.Is,8))};static#t=this.\u0275dir=me.lG2({type:Ut,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",me.VuI],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",me.VuI],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",me.VuI],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",me.VuI],push:["cdkConnectedOverlayPush","push",me.VuI],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",me.VuI]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[me.Xq5,me.TTD]})}return Ut})();const rn={provide:li,deps:[lt],useFactory:function Mn(Ut){return()=>Ut.scrollStrategies.reposition()}};let Ii=(()=>{class Ut{static#e=this.\u0275fac=function(Le){return new(Le||Ut)};static#t=this.\u0275mod=me.oAB({type:Ut});static#i=this.\u0275inj=me.cJS({providers:[lt,rn],imports:[Je.vT,ot.eL,C.Cl,C.Cl]})}return Ut})()},2831:(xi,Et,U)=>{"use strict";U.d(Et,{Mq:()=>Ye,Oy:()=>jt,_i:()=>pt,ht:()=>ki,i$:()=>at,kV:()=>ri,qK:()=>nt,sA:()=>Pi,t4:()=>g});var C=U(9212),l=U(6814);let me;try{me=typeof Intl<"u"&&Intl.v8BreakIterator}catch{me=!1}let le,g=(()=>{class rt{constructor(ei){this._platformId=ei,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!me)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Nt){return new(Nt||rt)(C.LFG(C.Lbi))};static#t=this.\u0275prov=C.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();const Ze=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nt(){if(le)return le;if("object"!=typeof document||!document)return le=new Set(Ze),le;let rt=document.createElement("input");return le=new Set(Ze.filter(ht=>(rt.setAttribute("type",ht),rt.type===ht))),le}let Ie,Je,ot,Xt;function at(rt){return function it(){if(null==Ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ie=!0}))}finally{Ie=Ie||!1}return Ie}()?rt:!!rt.capture}function Ye(){if(null==ot){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ot=!1,ot;if("scrollBehavior"in document.documentElement.style)ot=!0;else{const rt=Element.prototype.scrollTo;ot=!!rt&&!/\{\s*\[native code\]\s*\}/.test(rt.toString())}}return ot}function pt(){if("object"!=typeof document||!document)return 0;if(null==Je){const rt=document.createElement("div"),ht=rt.style;rt.dir="rtl",ht.width="1px",ht.overflow="auto",ht.visibility="hidden",ht.pointerEvents="none",ht.position="absolute";const ei=document.createElement("div"),Nt=ei.style;Nt.width="2px",Nt.height="1px",rt.appendChild(ei),document.body.appendChild(rt),Je=0,0===rt.scrollLeft&&(rt.scrollLeft=1,Je=0===rt.scrollLeft?1:2),rt.remove()}return Je}function ri(rt){if(function Zt(){if(null==Xt){const rt=typeof document<"u"?document.head:null;Xt=!(!rt||!rt.createShadowRoot&&!rt.attachShadow)}return Xt}()){const ht=rt.getRootNode?rt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ht instanceof ShadowRoot)return ht}return null}function ki(){let rt=typeof document<"u"&&document?document.activeElement:null;for(;rt&&rt.shadowRoot;){const ht=rt.shadowRoot.activeElement;if(ht===rt)break;rt=ht}return rt}function Pi(rt){return rt.composedPath?rt.composedPath()[0]:rt.target}function jt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(xi,Et,U)=>{"use strict";U.d(Et,{C5:()=>Ie,UE:()=>it,bH:()=>Zt,eL:()=>Pi,ig:()=>Xt,u0:()=>Ye});var C=U(9212);class nt{attach(ht){return this._attachedHost=ht,ht.attach(this)}detach(){let ht=this._attachedHost;null!=ht&&(this._attachedHost=null,ht.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ht){this._attachedHost=ht}}class Ie extends nt{constructor(ht,ei,Nt,Dt,_t){super(),this.component=ht,this.viewContainerRef=ei,this.injector=Nt,this.componentFactoryResolver=Dt,this.projectableNodes=_t}}class it extends nt{constructor(ht,ei,Nt,Dt){super(),this.templateRef=ht,this.viewContainerRef=ei,this.context=Nt,this.injector=Dt}get origin(){return this.templateRef.elementRef}attach(ht,ei=this.context){return this.context=ei,super.attach(ht)}detach(){return this.context=void 0,super.detach()}}class at extends nt{constructor(ht){super(),this.element=ht instanceof C.SBq?ht.nativeElement:ht}}class Je{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ht){return ht instanceof Ie?(this._attachedPortal=ht,this.attachComponentPortal(ht)):ht instanceof it?(this._attachedPortal=ht,this.attachTemplatePortal(ht)):this.attachDomPortal&&ht instanceof at?(this._attachedPortal=ht,this.attachDomPortal(ht)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ht){this._disposeFn=ht}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ye extends Je{constructor(ht,ei,Nt,Dt,_t){super(),this.outletElement=ht,this._componentFactoryResolver=ei,this._appRef=Nt,this._defaultInjector=Dt,this.attachDomPortal=Qt=>{const Ri=Qt.element,Fi=this._document.createComment("dom-portal");Ri.parentNode.insertBefore(Fi,Ri),this.outletElement.appendChild(Ri),this._attachedPortal=Qt,super.setDisposeFn(()=>{Fi.parentNode&&Fi.parentNode.replaceChild(Ri,Fi)})},this._document=_t}attachComponentPortal(ht){const Nt=(ht.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ht.component);let Dt;return ht.viewContainerRef?(Dt=ht.viewContainerRef.createComponent(Nt,ht.viewContainerRef.length,ht.injector||ht.viewContainerRef.injector,ht.projectableNodes||void 0),this.setDisposeFn(()=>Dt.destroy())):(Dt=Nt.create(ht.injector||this._defaultInjector||C.zs3.NULL),this._appRef.attachView(Dt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Dt.hostView),Dt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Dt)),this._attachedPortal=ht,Dt}attachTemplatePortal(ht){let ei=ht.viewContainerRef,Nt=ei.createEmbeddedView(ht.templateRef,ht.context,{injector:ht.injector});return Nt.rootNodes.forEach(Dt=>this.outletElement.appendChild(Dt)),Nt.detectChanges(),this.setDisposeFn(()=>{let Dt=ei.indexOf(Nt);-1!==Dt&&ei.remove(Dt)}),this._attachedPortal=ht,Nt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ht){return ht.hostView.rootNodes[0]}}let Xt=(()=>{class rt extends it{constructor(ei,Nt){super(ei,Nt)}static#e=this.\u0275fac=function(Nt){return new(Nt||rt)(C.Y36(C.Rgc),C.Y36(C.s_b))};static#t=this.\u0275dir=C.lG2({type:rt,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[C.qOj]})}return rt})(),Zt=(()=>{class rt extends Xt{static#e=this.\u0275fac=(()=>{let ei;return function(Dt){return(ei||(ei=C.n5z(rt)))(Dt||rt)}})();static#t=this.\u0275dir=C.lG2({type:rt,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[C._Bn([{provide:Xt,useExisting:rt}]),C.qOj]})}return rt})(),Pi=(()=>{class rt{static#e=this.\u0275fac=function(Nt){return new(Nt||rt)};static#t=this.\u0275mod=C.oAB({type:rt});static#i=this.\u0275inj=C.cJS({})}return rt})()},799:(xi,Et,U)=>{"use strict";U.d(Et,{PQ:()=>si,ZD:()=>Ce,mF:()=>yi,Cl:()=>Ne,rL:()=>lt});var C=U(2495),l=U(9212),me=U(8645),g=U(2096),Ve=U(5592),le=U(2438),Ze=U(1954),nt=U(7394);const Ie={schedule(Le){let $e=requestAnimationFrame,pe=cancelAnimationFrame;const{delegate:Me}=Ie;Me&&($e=Me.requestAnimationFrame,pe=Me.cancelAnimationFrame);const Ft=$e(Wt=>{pe=void 0,Le(Wt)});return new nt.w0(()=>pe?.(Ft))},requestAnimationFrame(...Le){const{delegate:$e}=Ie;return($e?.requestAnimationFrame||requestAnimationFrame)(...Le)},cancelAnimationFrame(...Le){const{delegate:$e}=Ie;return($e?.cancelAnimationFrame||cancelAnimationFrame)(...Le)},delegate:void 0};var at=U(2631);new class Je extends at.v{flush($e){this._active=!0;const pe=this._scheduled;this._scheduled=void 0;const{actions:Me}=this;let Ft;$e=$e||Me.shift();do{if(Ft=$e.execute($e.state,$e.delay))break}while(($e=Me[0])&&$e.id===pe&&Me.shift());if(this._active=!1,Ft){for(;($e=Me[0])&&$e.id===pe&&Me.shift();)$e.unsubscribe();throw Ft}}}(class it extends Ze.o{constructor($e,pe){super($e,pe),this.scheduler=$e,this.work=pe}requestAsyncId($e,pe,Me=0){return null!==Me&&Me>0?super.requestAsyncId($e,pe,Me):($e.actions.push(this),$e._scheduled||($e._scheduled=Ie.requestAnimationFrame(()=>$e.flush(void 0))))}recycleAsyncId($e,pe,Me=0){var Ft;if(null!=Me?Me>0:this.delay>0)return super.recycleAsyncId($e,pe,Me);const{actions:Wt}=$e;null!=pe&&(null===(Ft=Wt[Wt.length-1])||void 0===Ft?void 0:Ft.id)!==pe&&(Ie.cancelAnimationFrame(pe),$e._scheduled=void 0)}});let Xt,pt=1;const Zt={};function ri(Le){return Le in Zt&&(delete Zt[Le],!0)}const ki={setImmediate(Le){const $e=pt++;return Zt[$e]=!0,Xt||(Xt=Promise.resolve()),Xt.then(()=>ri($e)&&Le()),$e},clearImmediate(Le){ri(Le)}},{setImmediate:jt,clearImmediate:rt}=ki,ht={setImmediate(...Le){const{delegate:$e}=ht;return($e?.setImmediate||jt)(...Le)},clearImmediate(Le){const{delegate:$e}=ht;return($e?.clearImmediate||rt)(Le)},delegate:void 0};new class Nt extends at.v{flush($e){this._active=!0;const pe=this._scheduled;this._scheduled=void 0;const{actions:Me}=this;let Ft;$e=$e||Me.shift();do{if(Ft=$e.execute($e.state,$e.delay))break}while(($e=Me[0])&&$e.id===pe&&Me.shift());if(this._active=!1,Ft){for(;($e=Me[0])&&$e.id===pe&&Me.shift();)$e.unsubscribe();throw Ft}}}(class ei extends Ze.o{constructor($e,pe){super($e,pe),this.scheduler=$e,this.work=pe}requestAsyncId($e,pe,Me=0){return null!==Me&&Me>0?super.requestAsyncId($e,pe,Me):($e.actions.push(this),$e._scheduled||($e._scheduled=ht.setImmediate($e.flush.bind($e,void 0))))}recycleAsyncId($e,pe,Me=0){var Ft;if(null!=Me?Me>0:this.delay>0)return super.recycleAsyncId($e,pe,Me);const{actions:Wt}=$e;null!=pe&&(null===(Ft=Wt[Wt.length-1])||void 0===Ft?void 0:Ft.id)!==pe&&(ht.clearImmediate(pe),$e._scheduled===pe&&($e._scheduled=void 0))}});var Qt=U(6321),Ri=U(9360),Fi=U(4829),En=U(8251),Li=U(4825);function Bn(Le,$e=Qt.z){return function Fn(Le){return(0,Ri.e)(($e,pe)=>{let Me=!1,Ft=null,Wt=null,ci=!1;const $t=()=>{if(Wt?.unsubscribe(),Wt=null,Me){Me=!1;const wi=Ft;Ft=null,pe.next(wi)}ci&&pe.complete()},St=()=>{Wt=null,ci&&pe.complete()};$e.subscribe((0,En.x)(pe,wi=>{Me=!0,Ft=wi,Wt||(0,Fi.Xf)(Le(wi)).subscribe(Wt=(0,En.x)(pe,$t,St))},()=>{ci=!0,(!Me||!Wt||Wt.closed)&&pe.complete()}))})}(()=>(0,Li.H)(Le,$e))}var _i=U(2181),Xe=U(9773),Ke=U(2831),Ot=U(6814),Lt=U(9388);let yi=(()=>{class Le{constructor(pe,Me,Ft){this._ngZone=pe,this._platform=Me,this._scrolled=new me.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ft}register(pe){this.scrollContainers.has(pe)||this.scrollContainers.set(pe,pe.elementScrolled().subscribe(()=>this._scrolled.next(pe)))}deregister(pe){const Me=this.scrollContainers.get(pe);Me&&(Me.unsubscribe(),this.scrollContainers.delete(pe))}scrolled(pe=20){return this._platform.isBrowser?new Ve.y(Me=>{this._globalSubscription||this._addGlobalListener();const Ft=pe>0?this._scrolled.pipe(Bn(pe)).subscribe(Me):this._scrolled.subscribe(Me);return this._scrolledCount++,()=>{Ft.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,g.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((pe,Me)=>this.deregister(Me)),this._scrolled.complete()}ancestorScrolled(pe,Me){const Ft=this.getAncestorScrollContainers(pe);return this.scrolled(Me).pipe((0,_i.h)(Wt=>!Wt||Ft.indexOf(Wt)>-1))}getAncestorScrollContainers(pe){const Me=[];return this.scrollContainers.forEach((Ft,Wt)=>{this._scrollableContainsElement(Wt,pe)&&Me.push(Wt)}),Me}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(pe,Me){let Ft=(0,C.fI)(Me),Wt=pe.getElementRef().nativeElement;do{if(Ft==Wt)return!0}while(Ft=Ft.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const pe=this._getWindow();return(0,le.R)(pe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Me){return new(Me||Le)(l.LFG(l.R0b),l.LFG(Ke.t4),l.LFG(Ot.K0,8))};static#t=this.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})(),si=(()=>{class Le{constructor(pe,Me,Ft,Wt){this.elementRef=pe,this.scrollDispatcher=Me,this.ngZone=Ft,this.dir=Wt,this._destroyed=new me.x,this._elementScrolled=new Ve.y(ci=>this.ngZone.runOutsideAngular(()=>(0,le.R)(this.elementRef.nativeElement,"scroll").pipe((0,Xe.R)(this._destroyed)).subscribe(ci)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(pe){const Me=this.elementRef.nativeElement,Ft=this.dir&&"rtl"==this.dir.value;null==pe.left&&(pe.left=Ft?pe.end:pe.start),null==pe.right&&(pe.right=Ft?pe.start:pe.end),null!=pe.bottom&&(pe.top=Me.scrollHeight-Me.clientHeight-pe.bottom),Ft&&0!=(0,Ke._i)()?(null!=pe.left&&(pe.right=Me.scrollWidth-Me.clientWidth-pe.left),2==(0,Ke._i)()?pe.left=pe.right:1==(0,Ke._i)()&&(pe.left=pe.right?-pe.right:pe.right)):null!=pe.right&&(pe.left=Me.scrollWidth-Me.clientWidth-pe.right),this._applyScrollToOptions(pe)}_applyScrollToOptions(pe){const Me=this.elementRef.nativeElement;(0,Ke.Mq)()?Me.scrollTo(pe):(null!=pe.top&&(Me.scrollTop=pe.top),null!=pe.left&&(Me.scrollLeft=pe.left))}measureScrollOffset(pe){const Me="left",Wt=this.elementRef.nativeElement;if("top"==pe)return Wt.scrollTop;if("bottom"==pe)return Wt.scrollHeight-Wt.clientHeight-Wt.scrollTop;const ci=this.dir&&"rtl"==this.dir.value;return"start"==pe?pe=ci?"right":Me:"end"==pe&&(pe=ci?Me:"right"),ci&&2==(0,Ke._i)()?pe==Me?Wt.scrollWidth-Wt.clientWidth-Wt.scrollLeft:Wt.scrollLeft:ci&&1==(0,Ke._i)()?pe==Me?Wt.scrollLeft+Wt.scrollWidth-Wt.clientWidth:-Wt.scrollLeft:pe==Me?Wt.scrollLeft:Wt.scrollWidth-Wt.clientWidth-Wt.scrollLeft}static#e=this.\u0275fac=function(Me){return new(Me||Le)(l.Y36(l.SBq),l.Y36(yi),l.Y36(l.R0b),l.Y36(Lt.Is,8))};static#t=this.\u0275dir=l.lG2({type:Le,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Le})(),lt=(()=>{class Le{constructor(pe,Me,Ft){this._platform=pe,this._change=new me.x,this._changeListener=Wt=>{this._change.next(Wt)},this._document=Ft,Me.runOutsideAngular(()=>{if(pe.isBrowser){const Wt=this._getWindow();Wt.addEventListener("resize",this._changeListener),Wt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const pe=this._getWindow();pe.removeEventListener("resize",this._changeListener),pe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const pe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),pe}getViewportRect(){const pe=this.getViewportScrollPosition(),{width:Me,height:Ft}=this.getViewportSize();return{top:pe.top,left:pe.left,bottom:pe.top+Ft,right:pe.left+Me,height:Ft,width:Me}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const pe=this._document,Me=this._getWindow(),Ft=pe.documentElement,Wt=Ft.getBoundingClientRect();return{top:-Wt.top||pe.body.scrollTop||Me.scrollY||Ft.scrollTop||0,left:-Wt.left||pe.body.scrollLeft||Me.scrollX||Ft.scrollLeft||0}}change(pe=20){return pe>0?this._change.pipe(Bn(pe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const pe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:pe.innerWidth,height:pe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Me){return new(Me||Le)(l.LFG(Ke.t4),l.LFG(l.R0b),l.LFG(Ot.K0,8))};static#t=this.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})(),Ce=(()=>{class Le{static#e=this.\u0275fac=function(Me){return new(Me||Le)};static#t=this.\u0275mod=l.oAB({type:Le});static#i=this.\u0275inj=l.cJS({})}return Le})(),Ne=(()=>{class Le{static#e=this.\u0275fac=function(Me){return new(Me||Le)};static#t=this.\u0275mod=l.oAB({type:Le});static#i=this.\u0275inj=l.cJS({imports:[Lt.vT,Ce,Lt.vT,Ce]})}return Le})()},6814:(xi,Et,U)=>{"use strict";U.d(Et,{Do:()=>Xt,EM:()=>_c,HT:()=>g,JF:()=>hl,K0:()=>le,Mx:()=>dt,NF:()=>Uo,O5:()=>cn,Ov:()=>Sa,PC:()=>ha,PM:()=>Za,S$:()=>ot,V_:()=>nt,Ye:()=>Zt,b0:()=>pt,bD:()=>Ns,ez:()=>$n,mk:()=>ui,q:()=>me,sg:()=>ar,tP:()=>Rs,w_:()=>Ve});var C=U(9212);let l=null;function me(){return l}function g(B){l||(l=B)}class Ve{}const le=new C.OlP("DocumentToken");let Ze=(()=>{class B{historyGo(W){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||B)};static#t=this.\u0275prov=C.Yz7({token:B,factory:()=>(0,C.f3M)(Ie),providedIn:"platform"})}return B})();const nt=new C.OlP("Location Initialized");let Ie=(()=>{class B extends Ze{constructor(){super(),this._doc=(0,C.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return me().getBaseHref(this._doc)}onPopState(W){const te=me().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",W,!1),()=>te.removeEventListener("popstate",W)}onHashChange(W){const te=me().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",W,!1),()=>te.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,te,qe){this._history.pushState(W,te,qe)}replaceState(W,te,qe){this._history.replaceState(W,te,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}static#e=this.\u0275fac=function(te){return new(te||B)};static#t=this.\u0275prov=C.Yz7({token:B,factory:()=>new B,providedIn:"platform"})}return B})();function it(B,fe){if(0==B.length)return fe;if(0==fe.length)return B;let W=0;return B.endsWith("/")&&W++,fe.startsWith("/")&&W++,2==W?B+fe.substring(1):1==W?B+fe:B+"/"+fe}function at(B){const fe=B.match(/#|\?|$/),W=fe&&fe.index||B.length;return B.slice(0,W-("/"===B[W-1]?1:0))+B.slice(W)}function Je(B){return B&&"?"!==B[0]?"?"+B:B}let ot=(()=>{class B{historyGo(W){throw new Error("Not implemented")}static#e=this.\u0275fac=function(te){return new(te||B)};static#t=this.\u0275prov=C.Yz7({token:B,factory:()=>(0,C.f3M)(pt),providedIn:"root"})}return B})();const Ye=new C.OlP("appBaseHref");let pt=(()=>{class B extends ot{constructor(W,te){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return it(this._baseHref,W)}path(W=!1){const te=this._platformLocation.pathname+Je(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&W?`${te}${qe}`:te}pushState(W,te,qe,zt){const ii=this.prepareExternalUrl(qe+Je(zt));this._platformLocation.pushState(W,te,ii)}replaceState(W,te,qe,zt){const ii=this.prepareExternalUrl(qe+Je(zt));this._platformLocation.replaceState(W,te,ii)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(te){return new(te||B)(C.LFG(Ze),C.LFG(Ye,8))};static#t=this.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})(),Xt=(()=>{class B extends ot{constructor(W,te){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(W){const te=it(this._baseHref,W);return te.length>0?"#"+te:te}pushState(W,te,qe,zt){let ii=this.prepareExternalUrl(qe+Je(zt));0==ii.length&&(ii=this._platformLocation.pathname),this._platformLocation.pushState(W,te,ii)}replaceState(W,te,qe,zt){let ii=this.prepareExternalUrl(qe+Je(zt));0==ii.length&&(ii=this._platformLocation.pathname),this._platformLocation.replaceState(W,te,ii)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#e=this.\u0275fac=function(te){return new(te||B)(C.LFG(Ze),C.LFG(Ye,8))};static#t=this.\u0275prov=C.Yz7({token:B,factory:B.\u0275fac})}return B})(),Zt=(()=>{class B{constructor(W){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const te=this._locationStrategy.getBaseHref();this._basePath=function jt(B){if(new RegExp("^(https?:)?//").test(B)){const[,W]=B.split(/\/\/[^\/]+/);return W}return B}(at(Pi(te))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,te=""){return this.path()==this.normalize(W+Je(te))}normalize(W){return B.stripTrailingSlash(function ki(B,fe){if(!B||!fe.startsWith(B))return fe;const W=fe.substring(B.length);return""===W||["/",";","?","#"].includes(W[0])?W:fe}(this._basePath,Pi(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,te="",qe=null){this._locationStrategy.pushState(qe,"",W,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Je(te)),qe)}replaceState(W,te="",qe=null){this._locationStrategy.replaceState(qe,"",W,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+Je(te)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",te){this._urlChangeListeners.forEach(qe=>qe(W,te))}subscribe(W,te,qe){return this._subject.subscribe({next:W,error:te,complete:qe})}static#e=this.normalizeQueryParams=Je;static#t=this.joinWithSlash=it;static#i=this.stripTrailingSlash=at;static#n=this.\u0275fac=function(te){return new(te||B)(C.LFG(ot))};static#r=this.\u0275prov=C.Yz7({token:B,factory:()=>function ri(){return new Zt((0,C.LFG)(ot))}(),providedIn:"root"})}return B})();function Pi(B){return B.replace(/\/index.html$/,"")}function dt(B,fe){fe=encodeURIComponent(fe);for(const W of B.split(";")){const te=W.indexOf("="),[qe,zt]=-1==te?[W,""]:[W.slice(0,te),W.slice(te+1)];if(qe.trim()===fe)return decodeURIComponent(zt)}return null}const Gt=/\s+/,Kt=[];let ui=(()=>{class B{constructor(W,te,qe,zt){this._iterableDiffers=W,this._keyValueDiffers=te,this._ngEl=qe,this._renderer=zt,this.initialClasses=Kt,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(Gt):Kt}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(Gt):W}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const te of W)this._updateState(te,!0);else if(null!=W)for(const te of Object.keys(W))this._updateState(te,!!W[te]);this._applyStateDiff()}_updateState(W,te){const qe=this.stateMap.get(W);void 0!==qe?(qe.enabled!==te&&(qe.changed=!0,qe.enabled=te),qe.touched=!0):this.stateMap.set(W,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const te=W[0],qe=W[1];qe.changed?(this._toggleClass(te,qe.enabled),qe.changed=!1):qe.touched||(qe.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),qe.touched=!1}}_toggleClass(W,te){(W=W.trim()).length>0&&W.split(Gt).forEach(qe=>{te?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))};static#t=this.\u0275dir=C.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return B})();class ji{constructor(fe,W,te,qe){this.$implicit=fe,this.ngForOf=W,this.index=te,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ar=(()=>{class B{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,te,qe){this._viewContainer=W,this._template=te,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const te=this._viewContainer;W.forEachOperation((qe,zt,ii)=>{if(null==qe.previousIndex)te.createEmbeddedView(this._template,new ji(qe.item,this._ngForOf,-1,-1),null===ii?void 0:ii);else if(null==ii)te.remove(null===zt?void 0:zt);else if(null!==zt){const $i=te.get(zt);te.move($i,ii),Bi($i,qe)}});for(let qe=0,zt=te.length;qe<zt;qe++){const $i=te.get(qe).context;$i.index=qe,$i.count=zt,$i.ngForOf=this._ngForOf}W.forEachIdentityChange(qe=>{Bi(te.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(W,te){return!0}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))};static#t=this.\u0275dir=C.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return B})();function Bi(B,fe){B.context.$implicit=fe.item}let cn=(()=>{class B{constructor(W,te){this._viewContainer=W,this._context=new Un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){bn("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){bn("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,te){return!0}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.s_b),C.Y36(C.Rgc))};static#t=this.\u0275dir=C.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return B})();class Un{constructor(){this.$implicit=null,this.ngIf=null}}function bn(B,fe){if(fe&&!fe.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,C.AaK)(fe)}'.`)}let ha=(()=>{class B{constructor(W,te,qe){this._ngEl=W,this._differs=te,this._renderer=qe,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,te){const[qe,zt]=W.split("."),ii=-1===qe.indexOf("-")?void 0:C.JOm.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,qe,zt?`${te}${zt}`:te,ii):this._renderer.removeStyle(this._ngEl.nativeElement,qe,ii)}_applyChanges(W){W.forEachRemovedItem(te=>this._setStyle(te.key,null)),W.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),W.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))};static#t=this.\u0275dir=C.lG2({type:B,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return B})(),Rs=(()=>{class B{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(this._shouldRecreateView(W)){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const qe=this._createContextForwardProxy();this._viewRef=te.createEmbeddedView(this.ngTemplateOutlet,qe,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(W){return!!W.ngTemplateOutlet||!!W.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(W,te,qe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,te,qe),get:(W,te,qe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,te,qe)}})}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.s_b))};static#t=this.\u0275dir=C.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.TTD]})}return B})();class Al{createSubscription(fe,W){return(0,C.rg0)(()=>fe.subscribe({next:W,error:te=>{throw te}}))}dispose(fe){(0,C.rg0)(()=>fe.unsubscribe())}}class Ys{createSubscription(fe,W){return fe.then(W,te=>{throw te})}dispose(fe){}}const $a=new Ys,Da=new Al;let Sa=(()=>{class B{constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,te=>this._updateLatestValue(W,te))}_selectStrategy(W){if((0,C.QGY)(W))return $a;if((0,C.F4k)(W))return Da;throw function zo(B,fe){return new C.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,te){W===this._obj&&(this._latestValue=te,this._ref.markForCheck())}static#e=this.\u0275fac=function(te){return new(te||B)(C.Y36(C.sBO,16))};static#t=this.\u0275pipe=C.Yjl({name:"async",type:B,pure:!1,standalone:!0})}return B})(),$n=(()=>{class B{static#e=this.\u0275fac=function(te){return new(te||B)};static#t=this.\u0275mod=C.oAB({type:B});static#i=this.\u0275inj=C.cJS({})}return B})();const Ns="browser",po="server";function Uo(B){return B===Ns}function Za(B){return B===po}let _c=(()=>{class B{static#e=this.\u0275prov=(0,C.Yz7)({token:B,providedIn:"root",factory:()=>new ul((0,C.LFG)(le),window)})}return B})();class ul{constructor(fe,W){this.document=fe,this.window=W,this.offset=()=>[0,0]}setOffset(fe){this.offset=Array.isArray(fe)?()=>fe:fe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(fe){this.supportsScrolling()&&this.window.scrollTo(fe[0],fe[1])}scrollToAnchor(fe){if(!this.supportsScrolling())return;const W=function ys(B,fe){const W=B.getElementById(fe)||B.getElementsByName(fe)[0];if(W)return W;if("function"==typeof B.createTreeWalker&&B.body&&"function"==typeof B.body.attachShadow){const te=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let qe=te.currentNode;for(;qe;){const zt=qe.shadowRoot;if(zt){const ii=zt.getElementById(fe)||zt.querySelector(`[name="${fe}"]`);if(ii)return ii}qe=te.nextNode()}}return null}(this.document,fe);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(fe){this.supportsScrolling()&&(this.window.history.scrollRestoration=fe)}scrollToElement(fe){const W=fe.getBoundingClientRect(),te=W.left+this.window.pageXOffset,qe=W.top+this.window.pageYOffset,zt=this.offset();this.window.scrollTo(te-zt[0],qe-zt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hl{}},9862:(xi,Et,U)=>{"use strict";U.d(Et,{JF:()=>Ue,eN:()=>Ke}),U(5861);var l=U(9212),me=U(2096),g=U(5592),Ve=U(7715),le=U(6328),Ze=U(2181),nt=U(7398),Ie=U(4716),it=U(4664),at=U(6814);class Je{}class ot{}class Ye{constructor(We){this.normalizedNames=new Map,this.lazyUpdate=null,We?"string"==typeof We?this.lazyInit=()=>{this.headers=new Map,We.split("\n").forEach(dt=>{const Gt=dt.indexOf(":");if(Gt>0){const Kt=dt.slice(0,Gt),ui=Kt.toLowerCase(),Di=dt.slice(Gt+1).trim();this.maybeSetNormalizedName(Kt,ui),this.headers.has(ui)?this.headers.get(ui).push(Di):this.headers.set(ui,[Di])}})}:typeof Headers<"u"&&We instanceof Headers?(this.headers=new Map,We.forEach((dt,Gt)=>{this.setHeaderEntries(Gt,dt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(We).forEach(([dt,Gt])=>{this.setHeaderEntries(dt,Gt)})}:this.headers=new Map}has(We){return this.init(),this.headers.has(We.toLowerCase())}get(We){this.init();const dt=this.headers.get(We.toLowerCase());return dt&&dt.length>0?dt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(We){return this.init(),this.headers.get(We.toLowerCase())||null}append(We,dt){return this.clone({name:We,value:dt,op:"a"})}set(We,dt){return this.clone({name:We,value:dt,op:"s"})}delete(We,dt){return this.clone({name:We,value:dt,op:"d"})}maybeSetNormalizedName(We,dt){this.normalizedNames.has(dt)||this.normalizedNames.set(dt,We)}init(){this.lazyInit&&(this.lazyInit instanceof Ye?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(We=>this.applyUpdate(We)),this.lazyUpdate=null))}copyFrom(We){We.init(),Array.from(We.headers.keys()).forEach(dt=>{this.headers.set(dt,We.headers.get(dt)),this.normalizedNames.set(dt,We.normalizedNames.get(dt))})}clone(We){const dt=new Ye;return dt.lazyInit=this.lazyInit&&this.lazyInit instanceof Ye?this.lazyInit:this,dt.lazyUpdate=(this.lazyUpdate||[]).concat([We]),dt}applyUpdate(We){const dt=We.name.toLowerCase();switch(We.op){case"a":case"s":let Gt=We.value;if("string"==typeof Gt&&(Gt=[Gt]),0===Gt.length)return;this.maybeSetNormalizedName(We.name,dt);const Kt=("a"===We.op?this.headers.get(dt):void 0)||[];Kt.push(...Gt),this.headers.set(dt,Kt);break;case"d":const ui=We.value;if(ui){let Di=this.headers.get(dt);if(!Di)return;Di=Di.filter(hn=>-1===ui.indexOf(hn)),0===Di.length?(this.headers.delete(dt),this.normalizedNames.delete(dt)):this.headers.set(dt,Di)}else this.headers.delete(dt),this.normalizedNames.delete(dt)}}setHeaderEntries(We,dt){const Gt=(Array.isArray(dt)?dt:[dt]).map(ui=>ui.toString()),Kt=We.toLowerCase();this.headers.set(Kt,Gt),this.maybeSetNormalizedName(We,Kt)}forEach(We){this.init(),Array.from(this.normalizedNames.keys()).forEach(dt=>We(this.normalizedNames.get(dt),this.headers.get(dt)))}}class Xt{encodeKey(We){return Pi(We)}encodeValue(We){return Pi(We)}decodeKey(We){return decodeURIComponent(We)}decodeValue(We){return decodeURIComponent(We)}}const ri=/%(\d[a-f0-9])/gi,ki={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pi(It){return encodeURIComponent(It).replace(ri,(We,dt)=>ki[dt]??We)}function jt(It){return`${It}`}class rt{constructor(We={}){if(this.updates=null,this.cloneFrom=null,this.encoder=We.encoder||new Xt,We.fromString){if(We.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zt(It,We){const dt=new Map;return It.length>0&&It.replace(/^\?/,"").split("&").forEach(Kt=>{const ui=Kt.indexOf("="),[Di,hn]=-1==ui?[We.decodeKey(Kt),""]:[We.decodeKey(Kt.slice(0,ui)),We.decodeValue(Kt.slice(ui+1))],ji=dt.get(Di)||[];ji.push(hn),dt.set(Di,ji)}),dt}(We.fromString,this.encoder)}else We.fromObject?(this.map=new Map,Object.keys(We.fromObject).forEach(dt=>{const Gt=We.fromObject[dt],Kt=Array.isArray(Gt)?Gt.map(jt):[jt(Gt)];this.map.set(dt,Kt)})):this.map=null}has(We){return this.init(),this.map.has(We)}get(We){this.init();const dt=this.map.get(We);return dt?dt[0]:null}getAll(We){return this.init(),this.map.get(We)||null}keys(){return this.init(),Array.from(this.map.keys())}append(We,dt){return this.clone({param:We,value:dt,op:"a"})}appendAll(We){const dt=[];return Object.keys(We).forEach(Gt=>{const Kt=We[Gt];Array.isArray(Kt)?Kt.forEach(ui=>{dt.push({param:Gt,value:ui,op:"a"})}):dt.push({param:Gt,value:Kt,op:"a"})}),this.clone(dt)}set(We,dt){return this.clone({param:We,value:dt,op:"s"})}delete(We,dt){return this.clone({param:We,value:dt,op:"d"})}toString(){return this.init(),this.keys().map(We=>{const dt=this.encoder.encodeKey(We);return this.map.get(We).map(Gt=>dt+"="+this.encoder.encodeValue(Gt)).join("&")}).filter(We=>""!==We).join("&")}clone(We){const dt=new rt({encoder:this.encoder});return dt.cloneFrom=this.cloneFrom||this,dt.updates=(this.updates||[]).concat(We),dt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(We=>this.map.set(We,this.cloneFrom.map.get(We))),this.updates.forEach(We=>{switch(We.op){case"a":case"s":const dt=("a"===We.op?this.map.get(We.param):void 0)||[];dt.push(jt(We.value)),this.map.set(We.param,dt);break;case"d":if(void 0===We.value){this.map.delete(We.param);break}{let Gt=this.map.get(We.param)||[];const Kt=Gt.indexOf(jt(We.value));-1!==Kt&&Gt.splice(Kt,1),Gt.length>0?this.map.set(We.param,Gt):this.map.delete(We.param)}}}),this.cloneFrom=this.updates=null)}}class ei{constructor(){this.map=new Map}set(We,dt){return this.map.set(We,dt),this}get(We){return this.map.has(We)||this.map.set(We,We.defaultValue()),this.map.get(We)}delete(We){return this.map.delete(We),this}has(We){return this.map.has(We)}keys(){return this.map.keys()}}function Dt(It){return typeof ArrayBuffer<"u"&&It instanceof ArrayBuffer}function _t(It){return typeof Blob<"u"&&It instanceof Blob}function Qt(It){return typeof FormData<"u"&&It instanceof FormData}class Fi{constructor(We,dt,Gt,Kt){let ui;if(this.url=dt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=We.toUpperCase(),function Nt(It){switch(It){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Kt?(this.body=void 0!==Gt?Gt:null,ui=Kt):ui=Gt,ui&&(this.reportProgress=!!ui.reportProgress,this.withCredentials=!!ui.withCredentials,ui.responseType&&(this.responseType=ui.responseType),ui.headers&&(this.headers=ui.headers),ui.context&&(this.context=ui.context),ui.params&&(this.params=ui.params),this.transferCache=ui.transferCache),this.headers||(this.headers=new Ye),this.context||(this.context=new ei),this.params){const Di=this.params.toString();if(0===Di.length)this.urlWithParams=dt;else{const hn=dt.indexOf("?");this.urlWithParams=dt+(-1===hn?"?":hn<dt.length-1?"&":"")+Di}}else this.params=new rt,this.urlWithParams=dt}serializeBody(){return null===this.body?null:Dt(this.body)||_t(this.body)||Qt(this.body)||function Ri(It){return typeof URLSearchParams<"u"&&It instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qt(this.body)?null:_t(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(We={}){const dt=We.method||this.method,Gt=We.url||this.url,Kt=We.responseType||this.responseType,ui=void 0!==We.body?We.body:this.body,Di=void 0!==We.withCredentials?We.withCredentials:this.withCredentials,hn=void 0!==We.reportProgress?We.reportProgress:this.reportProgress;let ji=We.headers||this.headers,ar=We.params||this.params;const Bi=We.context??this.context;return void 0!==We.setHeaders&&(ji=Object.keys(We.setHeaders).reduce((ln,cn)=>ln.set(cn,We.setHeaders[cn]),ji)),We.setParams&&(ar=Object.keys(We.setParams).reduce((ln,cn)=>ln.set(cn,We.setParams[cn]),ar)),new Fi(dt,Gt,ui,{params:ar,headers:ji,context:Bi,reportProgress:hn,responseType:Kt,withCredentials:Di})}}var En=function(It){return It[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It}(En||{});class Fn{constructor(We,dt=200,Gt="OK"){this.headers=We.headers||new Ye,this.status=void 0!==We.status?We.status:dt,this.statusText=We.statusText||Gt,this.url=We.url||null,this.ok=this.status>=200&&this.status<300}}class Li extends Fn{constructor(We={}){super(We),this.type=En.ResponseHeader}clone(We={}){return new Li({headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class Bn extends Fn{constructor(We={}){super(We),this.type=En.Response,this.body=void 0!==We.body?We.body:null}clone(We={}){return new Bn({body:void 0!==We.body?We.body:this.body,headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class _i extends Fn{constructor(We){super(We,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${We.url||"(unknown url)"}`:`Http failure response for ${We.url||"(unknown url)"}: ${We.status} ${We.statusText}`,this.error=We.error||null}}function Xe(It,We){return{body:We,headers:It.headers,context:It.context,observe:It.observe,params:It.params,reportProgress:It.reportProgress,responseType:It.responseType,withCredentials:It.withCredentials,transferCache:It.transferCache}}let Ke=(()=>{class It{constructor(dt){this.handler=dt}request(dt,Gt,Kt={}){let ui;if(dt instanceof Fi)ui=dt;else{let ji,ar;ji=Kt.headers instanceof Ye?Kt.headers:new Ye(Kt.headers),Kt.params&&(ar=Kt.params instanceof rt?Kt.params:new rt({fromObject:Kt.params})),ui=new Fi(dt,Gt,void 0!==Kt.body?Kt.body:null,{headers:ji,context:Kt.context,params:ar,reportProgress:Kt.reportProgress,responseType:Kt.responseType||"json",withCredentials:Kt.withCredentials,transferCache:Kt.transferCache})}const Di=(0,me.of)(ui).pipe((0,le.b)(ji=>this.handler.handle(ji)));if(dt instanceof Fi||"events"===Kt.observe)return Di;const hn=Di.pipe((0,Ze.h)(ji=>ji instanceof Bn));switch(Kt.observe||"body"){case"body":switch(ui.responseType){case"arraybuffer":return hn.pipe((0,nt.U)(ji=>{if(null!==ji.body&&!(ji.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ji.body}));case"blob":return hn.pipe((0,nt.U)(ji=>{if(null!==ji.body&&!(ji.body instanceof Blob))throw new Error("Response is not a Blob.");return ji.body}));case"text":return hn.pipe((0,nt.U)(ji=>{if(null!==ji.body&&"string"!=typeof ji.body)throw new Error("Response is not a string.");return ji.body}));default:return hn.pipe((0,nt.U)(ji=>ji.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${Kt.observe}}`)}}delete(dt,Gt={}){return this.request("DELETE",dt,Gt)}get(dt,Gt={}){return this.request("GET",dt,Gt)}head(dt,Gt={}){return this.request("HEAD",dt,Gt)}jsonp(dt,Gt){return this.request("JSONP",dt,{params:(new rt).append(Gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(dt,Gt={}){return this.request("OPTIONS",dt,Gt)}patch(dt,Gt,Kt={}){return this.request("PATCH",dt,Xe(Kt,Gt))}post(dt,Gt,Kt={}){return this.request("POST",dt,Xe(Kt,Gt))}put(dt,Gt,Kt={}){return this.request("PUT",dt,Xe(Kt,Gt))}static#e=this.\u0275fac=function(Gt){return new(Gt||It)(l.LFG(Je))};static#t=this.\u0275prov=l.Yz7({token:It,factory:It.\u0275fac})}return It})();function kt(It,We){return We(It)}function hi(It,We){return(dt,Gt)=>We.intercept(dt,{handle:Kt=>It(Kt,Gt)})}const si=new l.OlP(""),Qi=new l.OlP(""),lt=new l.OlP(""),Vt=new l.OlP("");function li(){let It=null;return(We,dt)=>{null===It&&(It=((0,l.f3M)(si,{optional:!0})??[]).reduceRight(hi,kt));const Gt=(0,l.f3M)(l.HDt),Kt=Gt.add();return It(We,dt).pipe((0,Ie.x)(()=>Gt.remove(Kt)))}}let Mn=(()=>{class It extends Je{constructor(dt,Gt){super(),this.backend=dt,this.injector=Gt,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt);const Kt=(0,l.f3M)(Vt,{optional:!0});this.backend=Kt??dt}handle(dt){if(null===this.chain){const Kt=Array.from(new Set([...this.injector.get(Qi),...this.injector.get(lt,[])]));this.chain=Kt.reduceRight((ui,Di)=>function yi(It,We,dt){return(Gt,Kt)=>dt.runInContext(()=>We(Gt,ui=>It(ui,Kt)))}(ui,Di,this.injector),kt)}const Gt=this.pendingTasks.add();return this.chain(dt,Kt=>this.backend.handle(Kt)).pipe((0,Ie.x)(()=>this.pendingTasks.remove(Gt)))}static#e=this.\u0275fac=function(Gt){return new(Gt||It)(l.LFG(ot),l.LFG(l.lqb))};static#t=this.\u0275prov=l.Yz7({token:It,factory:It.\u0275fac})}return It})();const Wt=/^\)\]\}',?\n/;let $t=(()=>{class It{constructor(dt){this.xhrFactory=dt}handle(dt){if("JSONP"===dt.method)throw new l.vHH(-2800,!1);const Gt=this.xhrFactory;return(Gt.\u0275loadImpl?(0,Ve.D)(Gt.\u0275loadImpl()):(0,me.of)(null)).pipe((0,it.w)(()=>new g.y(ui=>{const Di=Gt.build();if(Di.open(dt.method,dt.urlWithParams),dt.withCredentials&&(Di.withCredentials=!0),dt.headers.forEach((Vn,Ji)=>Di.setRequestHeader(Vn,Ji.join(","))),dt.headers.has("Accept")||Di.setRequestHeader("Accept","application/json, text/plain, */*"),!dt.headers.has("Content-Type")){const Vn=dt.detectContentTypeHeader();null!==Vn&&Di.setRequestHeader("Content-Type",Vn)}if(dt.responseType){const Vn=dt.responseType.toLowerCase();Di.responseType="json"!==Vn?Vn:"text"}const hn=dt.serializeBody();let ji=null;const ar=()=>{if(null!==ji)return ji;const Vn=Di.statusText||"OK",Ji=new Ye(Di.getAllResponseHeaders()),Vr=function ci(It){return"responseURL"in It&&It.responseURL?It.responseURL:/^X-Request-URL:/m.test(It.getAllResponseHeaders())?It.getResponseHeader("X-Request-URL"):null}(Di)||dt.url;return ji=new Li({headers:Ji,status:Di.status,statusText:Vn,url:Vr}),ji},Bi=()=>{let{headers:Vn,status:Ji,statusText:Vr,url:Kr}=ar(),mn=null;204!==Ji&&(mn=typeof Di.response>"u"?Di.responseText:Di.response),0===Ji&&(Ji=mn?200:0);let No=Ji>=200&&Ji<300;if("json"===dt.responseType&&"string"==typeof mn){const Qo=mn;mn=mn.replace(Wt,"");try{mn=""!==mn?JSON.parse(mn):null}catch(bo){mn=Qo,No&&(No=!1,mn={error:bo,text:mn})}}No?(ui.next(new Bn({body:mn,headers:Vn,status:Ji,statusText:Vr,url:Kr||void 0})),ui.complete()):ui.error(new _i({error:mn,headers:Vn,status:Ji,statusText:Vr,url:Kr||void 0}))},ln=Vn=>{const{url:Ji}=ar(),Vr=new _i({error:Vn,status:Di.status||0,statusText:Di.statusText||"Unknown Error",url:Ji||void 0});ui.error(Vr)};let cn=!1;const Un=Vn=>{cn||(ui.next(ar()),cn=!0);let Ji={type:En.DownloadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(Ji.total=Vn.total),"text"===dt.responseType&&Di.responseText&&(Ji.partialText=Di.responseText),ui.next(Ji)},bn=Vn=>{let Ji={type:En.UploadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(Ji.total=Vn.total),ui.next(Ji)};return Di.addEventListener("load",Bi),Di.addEventListener("error",ln),Di.addEventListener("timeout",ln),Di.addEventListener("abort",ln),dt.reportProgress&&(Di.addEventListener("progress",Un),null!==hn&&Di.upload&&Di.upload.addEventListener("progress",bn)),Di.send(hn),ui.next({type:En.Sent}),()=>{Di.removeEventListener("error",ln),Di.removeEventListener("abort",ln),Di.removeEventListener("load",Bi),Di.removeEventListener("timeout",ln),dt.reportProgress&&(Di.removeEventListener("progress",Un),null!==hn&&Di.upload&&Di.upload.removeEventListener("progress",bn)),Di.readyState!==Di.DONE&&Di.abort()}})))}static#e=this.\u0275fac=function(Gt){return new(Gt||It)(l.LFG(at.JF))};static#t=this.\u0275prov=l.Yz7({token:It,factory:It.\u0275fac})}return It})();const St=new l.OlP("XSRF_ENABLED"),Ci=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dn=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tt{}let Zi=(()=>{class It{constructor(dt,Gt,Kt){this.doc=dt,this.platform=Gt,this.cookieName=Kt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const dt=this.doc.cookie||"";return dt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,at.Mx)(dt,this.cookieName),this.lastCookieString=dt),this.lastToken}static#e=this.\u0275fac=function(Gt){return new(Gt||It)(l.LFG(at.K0),l.LFG(l.Lbi),l.LFG(Ci))};static#t=this.\u0275prov=l.Yz7({token:It,factory:It.\u0275fac})}return It})();function de(It,We){const dt=It.url.toLowerCase();if(!(0,l.f3M)(St)||"GET"===It.method||"HEAD"===It.method||dt.startsWith("http://")||dt.startsWith("https://"))return We(It);const Gt=(0,l.f3M)(Tt).getToken(),Kt=(0,l.f3M)(Dn);return null!=Gt&&!It.headers.has(Kt)&&(It=It.clone({headers:It.headers.set(Kt,Gt)})),We(It)}var Q=function(It){return It[It.Interceptors=0]="Interceptors",It[It.LegacyInterceptors=1]="LegacyInterceptors",It[It.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",It[It.NoXsrfProtection=3]="NoXsrfProtection",It[It.JsonpSupport=4]="JsonpSupport",It[It.RequestsMadeViaParent=5]="RequestsMadeViaParent",It[It.Fetch=6]="Fetch",It}(Q||{});function Oe(...It){const We=[Ke,$t,Mn,{provide:Je,useExisting:Mn},{provide:ot,useExisting:$t},{provide:Qi,useValue:de,multi:!0},{provide:St,useValue:!0},{provide:Tt,useClass:Zi}];for(const dt of It)We.push(...dt.\u0275providers);return(0,l.MR2)(We)}const De=new l.OlP("LEGACY_INTERCEPTOR_FN");function G(){return function ve(It,We){return{\u0275kind:It,\u0275providers:We}}(Q.LegacyInterceptors,[{provide:De,useFactory:li},{provide:Qi,useExisting:De,multi:!0}])}let Ue=(()=>{class It{static#e=this.\u0275fac=function(Gt){return new(Gt||It)};static#t=this.\u0275mod=l.oAB({type:It});static#i=this.\u0275inj=l.cJS({providers:[Oe(G())]})}return It})()},9212:(xi,Et,U)=>{"use strict";U.d(Et,{QbO:()=>Vg,tb:()=>NC,AFp:()=>vh,ip1:()=>KD,hGG:()=>iI,z2F:()=>yg,Ojb:()=>ff,sBO:()=>hv,Sil:()=>mT,_Vd:()=>cp,EJc:()=>aT,Xts:()=>Na,SBq:()=>dp,lqb:()=>Nl,qLn:()=>ou,vpe:()=>ad,XFs:()=>Bi,OlP:()=>mn,zs3:()=>rl,ZZ4:()=>hp,aQg:()=>uc,soG:()=>D0,YKP:()=>iD,h0i:()=>Bp,R0b:()=>As,FiY:()=>wl,Lbi:()=>Vm,g9A:()=>pf,n_E:()=>w0,Qsj:()=>j0,FYo:()=>zy,JOm:()=>kc,q3G:()=>Ws,tp0:()=>oc,Rgc:()=>by,dDg:()=>zT,eoX:()=>sS,GfV:()=>By,s_b:()=>Xf,ifc:()=>Io,T8G:()=>Cv,VuI:()=>CI,MMx:()=>rD,Lck:()=>sM,eFA:()=>dS,G48:()=>KT,Gpc:()=>$e,f3M:()=>jn,$WT:()=>wo,MR2:()=>Om,Cb_:()=>EI,_c5:()=>tI,qFp:()=>SI,r_H:()=>af,rg0:()=>W0,c2e:()=>XD,zSh:()=>Lm,HDt:()=>JD,wAp:()=>Xu,vHH:()=>$t,lri:()=>rS,rWj:()=>oS,JZr:()=>ci,EiD:()=>us,mCW:()=>Ar,qzn:()=>ti,JVY:()=>nn,pB0:()=>Ki,eBb:()=>Oi,L6k:()=>Ni,LAX:()=>Mi,cg1:()=>cg,kuF:()=>St,kL8:()=>Kb,dqk:()=>Ji,Z0I:()=>dt,eJc:()=>Mc,QGY:()=>ms,F4k:()=>cl,RDi:()=>mf,AaK:()=>Ut,z3N:()=>Pt,qOj:()=>M_,Xq5:()=>Lv,TTD:()=>xs,_Bn:()=>tD,jDz:()=>oD,xp6:()=>Qy,uIk:()=>T_,Tol:()=>Qv,Gre:()=>ob,ekj:()=>P_,um2:()=>Cb,Suo:()=>ID,Xpm:()=>ts,lG2:()=>Ya,Yz7:()=>ir,cJS:()=>It,oAB:()=>zs,Yjl:()=>Yn,Y36:()=>Wh,_UZ:()=>sy,GkF:()=>ay,BQk:()=>lg,ynx:()=>ag,qZA:()=>sg,TgZ:()=>og,EpF:()=>Yb,n5z:()=>Zp,Ikx:()=>ly,LFG:()=>yr,$8M:()=>sh,$Z:()=>Jy,NdJ:()=>hu,CRH:()=>AD,kcU:()=>Do,O4$:()=>Ir,oxw:()=>dl,ALo:()=>CD,lcZ:()=>ED,Hsn:()=>$r,F$t:()=>Tl,Q6J:()=>A_,DdM:()=>mD,VKq:()=>pD,WLB:()=>fD,kEZ:()=>gD,rFY:()=>_D,iGM:()=>MD,MAs:()=>_y,wJu:()=>Db,SjG:()=>Ap,x6l:()=>Eb,KtG:()=>d,Jf7:()=>gd,CHM:()=>n,oJD:()=>Dl,P3R:()=>Vh,Akn:()=>zc,Udp:()=>O_,WFA:()=>an,d8E:()=>cy,YNc:()=>lm,W1O:()=>RD,_uU:()=>$E,Oqu:()=>gC,hij:()=>v0,Gf:()=>TD});let l=null,g=1;function le(e){const t=l;return l=e,t}function ot(e){if((!ht(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==g)){if(!e.producerMustRecompute(e)&&!ki(e))return e.dirty=!1,void(e.lastCleanEpoch=g);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=g}}function ki(e){ei(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],c=e.producerLastReadVersion[t];if(c!==r.version||(ot(r),c!==r.version))return!0}return!1}function rt(e,t){if(function Nt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ei(e),1===e.liveConsumerNode.length)for(let c=0;c<e.producerNode.length;c++)rt(e.producerNode[c],e.producerIndexOfThis[c]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const c=e.liveConsumerIndexOfThis[t],p=e.liveConsumerNode[t];ei(p),p.producerIndexOfThis[c]=t}}function ht(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ei(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Fn=null;var si=U(8645),Qi=U(7394),lt=U(5592),Vt=U(3019),li=U(5619),xt=U(2096),pn=U(3020),Mn=U(4664),rn=U(3997);function Ii(e){for(let t in e)if(e[t]===Ii)return t;throw Error("Could not find renamed property on target object.")}function On(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Le=Ii({__forward_ref__:Ii});function $e(e){return e.__forward_ref__=$e,e.toString=function(){return Ut(this())},e}function pe(e){return Me(e)?e():e}function Me(e){return"function"==typeof e&&e.hasOwnProperty(Le)&&e.__forward_ref__===$e}function Ft(e){return e&&!!e.\u0275providers}const ci="https://g.co/ng/security#xss";class $t extends Error{constructor(t,r){super(St(t,r)),this.code=t}}function St(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const wi=Ii({\u0275cmp:Ii}),Ci=Ii({\u0275dir:Ii}),dn=Ii({\u0275pipe:Ii}),Dn=Ii({\u0275mod:Ii}),Tt=Ii({\u0275fac:Ii}),Zi=Ii({__NG_ELEMENT_ID__:Ii}),de=Ii({__NG_ENV_ID__:Ii});function q(e){return"string"==typeof e?e:null==e?"":String(e)}function Y(e,t){throw new $t(-201,!1)}function wn(e,t){null==e&&function Si(e,t,r,c){throw new Error(`ASSERTION ERROR: ${e}`+(null==c?"":` [Expected=> ${r} ${c} ${t} <=Actual]`))}(t,e,null,"!=")}function ir(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function We(e){return Gt(e,Di)||Gt(e,ji)}function dt(e){return null!==We(e)}function Gt(e,t){return e.hasOwnProperty(t)?e[t]:null}function ui(e){return e&&(e.hasOwnProperty(hn)||e.hasOwnProperty(ar))?e[hn]:null}const Di=Ii({\u0275prov:Ii}),hn=Ii({\u0275inj:Ii}),ji=Ii({ngInjectableDef:Ii}),ar=Ii({ngInjectorDef:Ii});var Bi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Bi||{});let ln;function cn(){return ln}function Un(e){const t=ln;return ln=e,t}function bn(e,t,r){const c=We(e);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:r&Bi.Optional?null:void 0!==t?t:void Y(Ut(e))}const Ji=globalThis;class mn{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=ir({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Da={},Sa="__NG_DI_FLAG__",fs="ngTempTokenPath",Ga=/\n/gm,io="__source";let Bo;function Vo(e){const t=Bo;return Bo=e,t}function mo(e,t=Bi.Default){if(void 0===Bo)throw new $t(-203,!1);return null===Bo?bn(e,void 0,t):Bo.get(e,t&Bi.Optional?null:void 0,t)}function yr(e,t=Bi.Default){return(cn()||mo)(pe(e),t)}function jn(e,t=Bi.Default){return yr(e,Jo(t))}function Jo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function es(e){const t=[];for(let r=0;r<e.length;r++){const c=pe(e[r]);if(Array.isArray(c)){if(0===c.length)throw new $t(900,!1);let p,y=Bi.Default;for(let M=0;M<c.length;M++){const A=c[M],z=Pn(A);"number"==typeof z?-1===z?p=A.token:y|=z:p=A}t.push(yr(p,y))}else t.push(yr(c))}return t}function xo(e,t){return e[Sa]=t,e.prototype[Sa]=t,e}function Pn(e){return e[Sa]}function vr(e){return{toString:e}.toString()}var gs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(gs||{}),Io=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Io||{});const Ao={},$n=[];function Ns(e,t,r){let c=e.length;for(;;){const p=e.indexOf(t,r);if(-1===p)return p;if(0===p||e.charCodeAt(p-1)<=32){const y=t.length;if(p+y===c||e.charCodeAt(p+y)<=32)return p}r=p+1}}function po(e,t,r){let c=0;for(;c<r.length;){const p=r[c];if("number"==typeof p){if(0!==p)break;c++;const y=r[c++],M=r[c++],A=r[c++];e.setAttribute(t,M,A,y)}else{const y=p,M=r[++c];_s(y)?e.setProperty(t,y,M):e.setAttribute(t,y,M),c++}}return c}function Ks(e){return 3===e||4===e||6===e}function _s(e){return 64===e.charCodeAt(0)}function Uo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let c=0;c<t.length;c++){const p=t[c];"number"==typeof p?r=p:0===r||Za(e,r,p,null,-1===r||2===r?t[++c]:null)}}return e}function Za(e,t,r,c,p){let y=0,M=e.length;if(-1===t)M=-1;else for(;y<e.length;){const A=e[y++];if("number"==typeof A){if(A===t){M=-1;break}if(A>t){M=y-1;break}}}for(;y<e.length;){const A=e[y];if("number"==typeof A)break;if(A===r){if(null===c)return void(null!==p&&(e[y+1]=p));if(c===e[y+1])return void(e[y+2]=p)}y++,null!==c&&y++,null!==p&&y++}-1!==M&&(e.splice(M,0,t),y=M+1),e.splice(y++,0,r),null!==c&&e.splice(y++,0,c),null!==p&&e.splice(y++,0,p)}const Xs="ng-template";function Qs(e,t,r){let c=0,p=!0;for(;c<e.length;){let y=e[c++];if("string"==typeof y&&p){const M=e[c++];if(r&&"class"===y&&-1!==Ns(M.toLowerCase(),t,0))return!0}else{if(1===y){for(;c<e.length&&"string"==typeof(y=e[c++]);)if(y.toLowerCase()===t)return!0;return!1}"number"==typeof y&&(p=!1)}}return!1}function kl(e){return 4===e.type&&e.value!==Xs}function _c(e,t,r){return t===(4!==e.type||r?e.value:Xs)}function ul(e,t,r){let c=4;const p=e.attrs||[],y=function no(e){for(let t=0;t<e.length;t++)if(Ks(e[t]))return t;return e.length}(p);let M=!1;for(let A=0;A<t.length;A++){const z=t[A];if("number"!=typeof z){if(!M)if(4&c){if(c=2|1&c,""!==z&&!_c(e,z,r)||""===z&&1===t.length){if(ys(c))return!1;M=!0}}else{const ie=8&c?z:t[++A];if(8&c&&null!==e.attrs){if(!Qs(e.attrs,ie,r)){if(ys(c))return!1;M=!0}continue}const Te=Uc(8&c?"class":z,p,kl(e),r);if(-1===Te){if(ys(c))return!1;M=!0;continue}if(""!==ie){let ut;ut=Te>y?"":p[Te+1].toLowerCase();const yt=8&c?ut:null;if(yt&&-1!==Ns(yt,ie,0)||2&c&&ie!==ut){if(ys(c))return!1;M=!0}}}}else{if(!M&&!ys(c)&&!ys(z))return!1;if(M&&ys(z))continue;M=!1,c=z|1&c}}return ys(c)||M}function ys(e){return 0==(1&e)}function Uc(e,t,r,c){if(null===t)return-1;let p=0;if(c||!r){let y=!1;for(;p<t.length;){const M=t[p];if(M===e)return p;if(3===M||6===M)y=!0;else{if(1===M||2===M){let A=t[++p];for(;"string"==typeof A;)A=t[++p];continue}if(4===M)break;if(0===M){p+=4;continue}}p+=y?1:2}return-1}return function Js(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const c=e[r];if("number"==typeof c)return-1;if(c===t)return r;r++}return-1}(t,e)}function hl(e,t,r=!1){for(let c=0;c<t.length;c++)if(ul(e,t[c],r))return!0;return!1}function Ol(e,t){e:for(let r=0;r<t.length;r++){const c=t[r];if(e.length===c.length){for(let p=0;p<e.length;p++)if(e[p]!==c[p])continue e;return!0}}return!1}function vs(e,t){return e?":not("+t.trim()+")":t}function jo(e){let t=e[0],r=1,c=2,p="",y=!1;for(;r<e.length;){let M=e[r];if("string"==typeof M)if(2&c){const A=e[++r];p+="["+M+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?p+="."+M:4&c&&(p+=" "+M);else""!==p&&!ys(M)&&(t+=vs(y,p),p=""),c=M,y=y||!ys(c);r++}return""!==p&&(t+=vs(y,p)),t}function ts(e){return vr(()=>{const t=cr(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===gs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Io.Emulated,styles:e.styles||$n,_:null,schemas:e.schemas||null,tView:null,id:""};Ka(r);const c=e.dependencies;return r.directiveDefs=Pl(c,!1),r.pipeDefs=Pl(c,!0),r.id=function oe(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const p of r)t=Math.imul(31,t)+p.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function yc(e){return en(e)||zr(e)}function pa(e){return null!==e}function zs(e){return vr(()=>({type:e.type,bootstrap:e.bootstrap||$n,declarations:e.declarations||$n,imports:e.imports||$n,exports:e.exports||$n,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qa(e,t){if(null==e)return Ao;const r={};for(const c in e)if(e.hasOwnProperty(c)){let p=e[c],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),r[p]=c,t&&(t[p]=y)}return r}function Ya(e){return vr(()=>{const t=cr(e);return Ka(t),t})}function Yn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function en(e){return e[wi]||null}function zr(e){return e[Ci]||null}function fn(e){return e[dn]||null}function wo(e){const t=en(e)||zr(e)||fn(e);return null!==t&&t.standalone}function kn(e,t){const r=e[Dn]||null;if(!r&&!0===t)throw new Error(`Type ${Ut(e)} does not have '\u0275mod' property.`);return r}function cr(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ao,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||$n,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qa(e.inputs,t),outputs:qa(e.outputs),debugInfo:null}}function Ka(e){e.features?.forEach(t=>t(e))}function Pl(e,t){if(!e)return null;const r=t?fn:yc;return()=>("function"==typeof e?e():e).map(c=>r(c)).filter(pa)}const H=0,ce=1,He=2,mi=3,_n=4,nr=5,Pr=6,Aa=7,br=8,is=9,ka=10,on=11,ko=12,ro=13,Xa=14,Qn=15,ta=16,xr=17,Oo=18,rr=19,bs=20,Zn=21,Ur=22,Dr=23,Sn=25,Qr=1,Jr=7,Co=9,Or=10;var pl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(pl||{});function jr(e){return Array.isArray(e)&&"object"==typeof e[Qr]}function or(e){return Array.isArray(e)&&!0===e[Qr]}function Mr(e){return 0!=(4&e.flags)}function Zr(e){return e.componentOffset>-1}function Oa(e){return 1==(1&e.flags)}function Bs(e){return!!e.template}function jc(e){return 0!=(512&e[He])}function Jn(e,t){return e.hasOwnProperty(Tt)?e[Tt]:null}class Hr{constructor(t,r,c){this.previousValue=t,this.currentValue=r,this.firstChange=c}isFirstChange(){return this.firstChange}}function xs(){return Vs}function Vs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ho),xn}function xn(){const e=ws(this),t=e?.current;if(t){const r=e.previous;if(r===Ao)e.previous=t;else for(let c in t)r[c]=t[c];e.current=null,this.ngOnChanges(t)}}function Ho(e,t,r,c){const p=this.declaredInputs[r],y=ws(e)||function eo(e,t){return e[na]=t}(e,{previous:Ao,current:null}),M=y.current||(y.current={}),A=y.previous,z=A[p];M[p]=new Hr(z&&z.currentValue,t,A===Ao),e[c]=t}xs.ngInherit=!0;const na="__ngSimpleChanges__";function ws(e){return e[na]||null}const ra=function(e,t,r){},fo="svg";function Tr(e){for(;Array.isArray(e);)e=e[H];return e}function lr(e,t){return Tr(t[e])}function Cr(e,t){return Tr(t[e.index])}function ql(e,t){return e.data[t]}function Ra(e,t){return e[t]}function ss(e,t){const r=t[e];return jr(r)?r:r[H]}function Eo(e){return 128==(128&e[He])}function Wi(e,t){return null==t?null:e[t]}function yn(e){e[xr]=0}function oa(e){1024&e[He]||(e[He]|=1024,Eo(e)&&Rr(e))}function fl(e){9216&e[He]&&Rr(e)}function Rr(e){let t=e[mi];for(;null!==t&&!(or(t)&&t[He]&pl.HasChildViewsToRefresh||jr(t)&&8192&t[He]);){if(or(t))t[He]|=pl.HasChildViewsToRefresh;else if(t[He]|=8192,!Eo(t))break;t=t[mi]}}function as(e,t){if(256==(256&e[He]))throw new $t(911,!1);null===e[Zn]&&(e[Zn]=[]),e[Zn].push(t)}const In={lFrame:Jt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yl(){return In.bindingsEnabled}function sa(){return null!==In.skipHydrationRootTNode}function Bt(){return In.lFrame.lView}function w(){return In.lFrame.tView}function n(e){return In.lFrame.contextLView=e,e[br]}function d(e){return In.lFrame.contextLView=null,e}function f(){let e=v();for(;null!==e&&64===e.type;)e=e.parent;return e}function v(){return In.lFrame.currentTNode}function O(e,t){const r=In.lFrame;r.currentTNode=e,r.isParent=t}function R(){return In.lFrame.isParent}function V(){In.lFrame.isParent=!1}function ge(){const e=In.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ze(){return In.lFrame.bindingIndex++}function ke(e){const t=In.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function T(e,t){const r=In.lFrame;r.bindingIndex=r.bindingRootIndex=e,I(t)}function I(e){In.lFrame.currentDirectiveIndex=e}function F(e){const t=In.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function $(){return In.lFrame.currentQueryIndex}function se(e){In.lFrame.currentQueryIndex=e}function be(e){const t=e[ce];return 2===t.type?t.declTNode:1===t.type?e[nr]:null}function Qe(e,t,r){if(r&Bi.SkipSelf){let p=t,y=e;for(;!(p=p.parent,null!==p||r&Bi.Host||(p=be(y),null===p||(y=y[Xa],10&p.type))););if(null===p)return!1;t=p,e=y}const c=In.lFrame=oi();return c.currentTNode=t,c.lView=e,!0}function st(e){const t=oi(),r=e[ce];In.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function oi(){const e=In.lFrame,t=null===e?null:e.child;return null===t?Jt(e):t}function Jt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function bi(){const e=In.lFrame;return In.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ai=bi;function er(){const e=bi();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qi(){return In.lFrame.selectedIndex}function An(e){In.lFrame.selectedIndex=e}function Cn(){const e=In.lFrame;return ql(e.tView,e.selectedIndex)}function Ir(){In.lFrame.currentNamespace=fo}function Do(){!function oo(){In.lFrame.currentNamespace=null}()}let Lr=!0;function Ds(){return Lr}function ls(e){Lr=e}function yl(e,t){for(let r=t.directiveStart,c=t.directiveEnd;r<c;r++){const y=e.data[r].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:A,ngAfterViewInit:z,ngAfterViewChecked:ie,ngOnDestroy:ue}=y;M&&(e.contentHooks??=[]).push(-r,M),A&&((e.contentHooks??=[]).push(r,A),(e.contentCheckHooks??=[]).push(r,A)),z&&(e.viewHooks??=[]).push(-r,z),ie&&((e.viewHooks??=[]).push(r,ie),(e.viewCheckHooks??=[]).push(r,ie)),null!=ue&&(e.destroyHooks??=[]).push(r,ue)}}function vl(e,t,r){Go(e,t,3,r)}function Po(e,t,r,c){(3&e[He])===r&&Go(e,t,r,c)}function Ro(e,t){let r=e[He];(3&r)===t&&(r&=16383,r+=1,e[He]=r)}function Go(e,t,r,c){const y=c??-1,M=t.length-1;let A=0;for(let z=void 0!==c?65535&e[xr]:0;z<M;z++)if("number"==typeof t[z+1]){if(A=t[z],null!=c&&A>=c)break}else t[z]<0&&(e[xr]+=65536),(A<y||-1==y)&&(so(e,r,t,z),e[xr]=(4294901760&e[xr])+z+2),z++}function Ql(e,t){ra(4,e,t);const r=le(null);try{t.call(e)}finally{le(r),ra(5,e,t)}}function so(e,t,r,c){const p=r[c]<0,y=r[c+1],A=e[p?-r[c]:r[c]];p?e[He]>>14<e[xr]>>16&&(3&e[He])===t&&(e[He]+=16384,Ql(A,y)):Ql(A,y)}const qr=-1;class Zo{constructor(t,r,c){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=c}}function Fa(e){return e!==qr}function il(e){return 32767&e}function Ss(e,t){let r=function bl(e){return e>>16}(e),c=t;for(;r>0;)c=c[Xa],r--;return c}let La=!0;function Gc(e){const t=La;return La=e,t}const Hp=255,xm=5;let So=0;const xl={};function ec(e,t){const r=gu(e,t);if(-1!==r)return r;const c=t[ce];c.firstCreatePass&&(e.injectorIndex=t.length,Er(c.data,e),Er(t,null),Er(c.blueprint,null));const p=Td(e,t),y=e.injectorIndex;if(Fa(p)){const M=il(p),A=Ss(p,t),z=A[ce].data;for(let ie=0;ie<8;ie++)t[y+ie]=A[M+ie]|z[M+ie]}return t[y+8]=p,y}function Er(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Td(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,c=null,p=t;for(;null!==p;){if(c=_u(p),null===c)return qr;if(r++,p=p[Xa],-1!==c.injectorIndex)return c.injectorIndex|r<<16}return qr}function ih(e,t,r){!function $p(e,t,r){let c;"string"==typeof r?c=r.charCodeAt(0)||0:r.hasOwnProperty(Zi)&&(c=r[Zi]),null==c&&(c=r[Zi]=So++);const p=c&Hp;t.data[e+(p>>xm)]|=1<<p}(e,t,r)}function nh(e,t,r){if(r&Bi.Optional||void 0!==e)return e;Y()}function Id(e,t,r,c){if(r&Bi.Optional&&void 0===c&&(c=null),!(r&(Bi.Self|Bi.Host))){const p=e[is],y=Un(void 0);try{return p?p.get(t,c,r&Bi.Optional):bn(t,c,r&Bi.Optional)}finally{Un(y)}}return nh(c,0,r)}function rh(e,t,r,c=Bi.Default,p){if(null!==e){if(2048&t[He]&&!(c&Bi.Self)){const M=function Od(e,t,r,c,p){let y=e,M=t;for(;null!==y&&null!==M&&2048&M[He]&&!(512&M[He]);){const A=oh(y,M,r,c|Bi.Self,xl);if(A!==xl)return A;let z=y.parent;if(!z){const ie=M[bs];if(ie){const ue=ie.get(r,xl,c);if(ue!==xl)return ue}z=_u(M),M=M[Xa]}y=z}return p}(e,t,r,c,xl);if(M!==xl)return M}const y=oh(e,t,r,c,xl);if(y!==xl)return y}return Id(t,r,c,p)}function oh(e,t,r,c,p){const y=function Ad(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Zi)?e[Zi]:void 0;return"number"==typeof t?t>=0?t&Hp:Gp:t}(r);if("function"==typeof y){if(!Qe(t,e,c))return c&Bi.Host?nh(p,0,c):Id(t,r,c,p);try{let M;if(M=y(c),null!=M||c&Bi.Optional)return M;Y()}finally{Ai()}}else if("number"==typeof y){let M=null,A=gu(e,t),z=qr,ie=c&Bi.Host?t[Qn][nr]:null;for((-1===A||c&Bi.SkipSelf)&&(z=-1===A?Td(e,t):t[A+8],z!==qr&&kd(c,!1)?(M=t[ce],A=il(z),t=Ss(z,t)):A=-1);-1!==A;){const ue=t[ce];if(Em(y,A,ue.data)){const Te=Cm(A,t,r,M,c,ie);if(Te!==xl)return Te}z=t[A+8],z!==qr&&kd(c,t[ce].data[A+8]===ie)&&Em(y,A,t)?(M=ue,A=il(z),t=Ss(z,t)):A=-1}}return p}function Cm(e,t,r,c,p,y){const M=t[ce],A=M.data[e+8],ue=tc(A,M,r,null==c?Zr(A)&&La:c!=M&&0!=(3&A.type),p&Bi.Host&&y===A);return null!==ue?wc(t,M,ue,A):xl}function tc(e,t,r,c,p){const y=e.providerIndexes,M=t.data,A=1048575&y,z=e.directiveStart,ue=y>>20,ut=p?A+ue:e.directiveEnd;for(let yt=c?A:A+ue;yt<ut;yt++){const Yt=M[yt];if(yt<z&&r===Yt||yt>=z&&Yt.type===r)return yt}if(p){const yt=M[z];if(yt&&Bs(yt)&&yt.type===r)return z}return null}function wc(e,t,r,c){let p=e[r];const y=t.data;if(function ao(e){return e instanceof Zo}(p)){const M=p;M.resolving&&function ye(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new $t(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Q(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(y[r]));const A=Gc(M.canSeeViewProviders);M.resolving=!0;const ie=M.injectImpl?Un(M.injectImpl):null;Qe(e,c,Bi.Default);try{p=e[r]=M.factory(void 0,y,e,c),t.firstCreatePass&&r>=c.directiveStart&&function Xl(e,t,r){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:y}=t.type.prototype;if(c){const M=Vs(t);(r.preOrderHooks??=[]).push(e,M),(r.preOrderCheckHooks??=[]).push(e,M)}p&&(r.preOrderHooks??=[]).push(0-e,p),y&&((r.preOrderHooks??=[]).push(e,y),(r.preOrderCheckHooks??=[]).push(e,y))}(r,y[r],t)}finally{null!==ie&&Un(ie),Gc(A),M.resolving=!1,Ai()}}return p}function Em(e,t,r){return!!(r[t+(e>>xm)]&1<<e)}function kd(e,t){return!(e&Bi.Self||e&Bi.Host&&t)}class Fo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,c){return rh(this._tNode,this._lView,t,Jo(c),r)}}function Gp(){return new Fo(f(),Bt())}function Zp(e){return vr(()=>{const t=e.prototype.constructor,r=t[Tt]||Wo(t),c=Object.prototype;let p=Object.getPrototypeOf(e.prototype).constructor;for(;p&&p!==c;){const y=p[Tt]||Wo(p);if(y&&y!==r)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Wo(e){return Me(e)?()=>{const t=Wo(pe(e));return t&&t()}:Jn(e)}function _u(e){const t=e[ce],r=t.type;return 2===r?t.declTNode:1===r?e[nr]:null}function sh(e){return function wm(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const c=r.length;let p=0;for(;p<c;){const y=r[p];if(Ks(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<c&&"string"==typeof r[p];)p++;else{if(y===t)return r[p+1];p+=2}}}return null}(f(),e)}const Pd="__parameters__";function md(e,t,r){return vr(()=>{const c=function ah(e){return function(...r){if(e){const c=e(...r);for(const p in c)this[p]=c[p]}}}(t);function p(...y){if(this instanceof p)return c.apply(this,y),this;const M=new p(...y);return A.annotation=M,A;function A(z,ie,ue){const Te=z.hasOwnProperty(Pd)?z[Pd]:Object.defineProperty(z,Pd,{value:[]})[Pd];for(;Te.length<=ue;)Te.push(null);return(Te[ue]=Te[ue]||[]).push(M),z}}return r&&(p.prototype=Object.create(r.prototype)),p.prototype.ngMetadataName=e,p.annotationCls=p,p})}function nc(e,t){e.forEach(r=>Array.isArray(r)?nc(r,t):t(r))}function Zc(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Wc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bu(e,t){const r=[];for(let c=0;c<e;c++)r.push(t);return r}function nl(e,t,r){let c=qc(e,t);return c>=0?e[1|c]=r:(c=~c,function Kp(e,t,r,c){let p=e.length;if(p==t)e.push(r,c);else if(1===p)e.push(c,e[0]),e[0]=r;else{for(p--,e.push(e[p-1],e[p]);p>t;)e[p]=e[p-2],p--;e[t]=r,e[t+1]=c}}(e,c,t,r)),c}function Mm(e,t){const r=qc(e,t);if(r>=0)return e[1|r]}function qc(e,t){return function rc(e,t,r){let c=0,p=e.length>>r;for(;p!==c;){const y=c+(p-c>>1),M=e[y<<r];if(t===M)return y<<r;M>t?p=y:c=y+1}return~(p<<r)}(e,t,1)}const wl=xo(md("Optional"),8),oc=xo(md("SkipSelf"),4),Na=new mn("ENVIRONMENT_INITIALIZER"),nf=new mn("INJECTOR",-1),mh=new mn("INJECTOR_DEF_TYPES");class Sc{get(t,r=Da){if(r===Da){const c=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw c.name="NullInjectorError",c}return r}}function Om(e){return{\u0275providers:e}}function kg(...e){return{\u0275providers:Cu(0,e),\u0275fromNgModule:!0}}function Cu(e,...t){const r=[],c=new Set;let p;const y=M=>{r.push(M)};return nc(t,M=>{const A=M;Eu(A,y,[],c)&&(p||=[],p.push(A))}),void 0!==p&&Pm(p,y),r}function Pm(e,t){for(let r=0;r<e.length;r++){const{ngModule:c,providers:p}=e[r];Rm(p,y=>{t(y,c)})}}function Eu(e,t,r,c){if(!(e=pe(e)))return!1;let p=null,y=ui(e);const M=!y&&en(e);if(y||M){if(M&&!M.standalone)return!1;p=e}else{const z=e.ngModule;if(y=ui(z),!y)return!1;p=z}const A=c.has(p);if(M){if(A)return!1;if(c.add(p),M.dependencies){const z="function"==typeof M.dependencies?M.dependencies():M.dependencies;for(const ie of z)Eu(ie,t,r,c)}}else{if(!y)return!1;{if(null!=y.imports&&!A){let ie;c.add(p);try{nc(y.imports,ue=>{Eu(ue,t,r,c)&&(ie||=[],ie.push(ue))})}finally{}void 0!==ie&&Pm(ie,t)}if(!A){const ie=Jn(p)||(()=>new p);t({provide:p,useFactory:ie,deps:$n},p),t({provide:mh,useValue:p,multi:!0},p),t({provide:Na,useValue:()=>yr(p),multi:!0},p)}const z=y.providers;if(null!=z&&!A){const ie=e;Rm(z,ue=>{t(ue,ie)})}}}return p!==e&&void 0!==e.providers}function Rm(e,t){for(let r of e)Ft(r)&&(r=r.\u0275providers),Array.isArray(r)?Rm(r,t):t(r)}const Og=Ii({provide:String,useValue:Ii});function Fm(e){return null!==e&&"object"==typeof e&&Og in e}function za(e){return"function"==typeof e}const Lm=new mn("Set Injector scope."),Du={},Pg={};let Xc;function Cl(){return void 0===Xc&&(Xc=new Sc),Xc}class Nl{}class zd extends Nl{get destroyed(){return this._destroyed}constructor(t,r,c,p){super(),this.parent=r,this.source=c,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gh(t,M=>this.processProvider(M)),this.records.set(nf,Bd(void 0,this)),p.has("environment")&&this.records.set(Nl,Bd(void 0,this));const y=this.records.get(Lm);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(mh,$n,Bi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Vo(this),c=Un(void 0);try{return t()}finally{Vo(r),Un(c)}}get(t,r=Da,c=Bi.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(de))return t[de](this);c=Jo(c);const y=Vo(this),M=Un(void 0);try{if(!(c&Bi.SkipSelf)){let z=this.records.get(t);if(void 0===z){const ie=function sf(e){return"function"==typeof e||"object"==typeof e&&e instanceof mn}(t)&&We(t);z=ie&&this.injectableDefInScope(ie)?Bd(Nm(t),Du):null,this.records.set(t,z)}if(null!=z)return this.hydrate(t,z)}return(c&Bi.Self?Cl():this.parent).get(t,r=c&Bi.Optional&&r===Da?null:r)}catch(A){if("NullInjectorError"===A.name){if((A[fs]=A[fs]||[]).unshift(Ut(t)),y)throw A;return function Ta(e,t,r,c){const p=e[fs];throw t[io]&&p.unshift(t[io]),e.message=function Xr(e,t,r,c=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let p=Ut(t);if(Array.isArray(t))p=t.map(Ut).join(" -> ");else if("object"==typeof t){let y=[];for(let M in t)if(t.hasOwnProperty(M)){let A=t[M];y.push(M+":"+("string"==typeof A?JSON.stringify(A):Ut(A)))}p=`{${y.join(", ")}}`}return`${r}${c?"("+c+")":""}[${p}]: ${e.replace(Ga,"\n  ")}`}("\n"+e.message,p,r,c),e.ngTokenPath=p,e[fs]=null,e}(A,t,"R3InjectorError",this.source)}throw A}finally{Un(M),Vo(y)}}resolveInjectorInitializers(){const t=Vo(this),r=Un(void 0);try{const p=this.get(Na,$n,Bi.Self);for(const y of p)y()}finally{Vo(t),Un(r)}}toString(){const t=[],r=this.records;for(const c of r.keys())t.push(Ut(c));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $t(205,!1)}processProvider(t){let r=za(t=pe(t))?t:pe(t&&t.provide);const c=function Fg(e){return Fm(e)?Bd(void 0,e.useValue):Bd(Su(e),Du)}(t);if(za(t)||!0!==t.multi)this.records.get(r);else{let p=this.records.get(r);p||(p=Bd(void 0,Du,!0),p.factory=()=>es(p.multi),this.records.set(r,p)),r=t,p.multi.push(t)}this.records.set(r,c)}hydrate(t,r){return r.value===Du&&(r.value=Pg,r.value=r.factory()),"object"==typeof r.value&&r.value&&function zm(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=pe(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Nm(e){const t=We(e),r=null!==t?t.factory:Jn(e);if(null!==r)return r;if(e instanceof mn)throw new $t(204,!1);if(e instanceof Function)return function Rg(e){const t=e.length;if(t>0)throw bu(t,"?"),new $t(204,!1);const r=function Kt(e){return e&&(e[Di]||e[ji])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new $t(204,!1)}function Su(e,t,r){let c;if(za(e)){const p=pe(e);return Jn(p)||Nm(p)}if(Fm(e))c=()=>pe(e.useValue);else if(function Nd(e){return!(!e||!e.useFactory)}(e))c=()=>e.useFactory(...es(e.deps||[]));else if(function ph(e){return!(!e||!e.useExisting)}(e))c=()=>yr(pe(e.useExisting));else{const p=pe(e&&(e.useClass||e.provide));if(!function rf(e){return!!e.deps}(e))return Jn(p)||Nm(p);c=()=>new p(...es(e.deps))}return c}function Bd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function gh(e,t){for(const r of e)Array.isArray(r)?gh(r,t):r&&Ft(r)?gh(r.\u0275providers,t):t(r)}function af(e,t){e instanceof zd&&e.assertNotDestroyed();const c=Vo(e),p=Un(void 0);try{return t()}finally{Vo(c),Un(p)}}function Vd(e,t=null,r=null,c){const p=Mo(e,t,r,c);return p.resolveInjectorInitializers(),p}function Mo(e,t=null,r=null,c,p=new Set){const y=[r||$n,kg(e)];return c=c||("object"==typeof e?void 0:Ut(e)),new zd(y,t||Cl(),c||null,p)}let Qc,rl=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Da;static#t=this.NULL=new Sc;static create(r,c){if(Array.isArray(r))return Vd({name:""},c,r,"");{const p=r.name??"";return Vd({name:p},r.parent,r.providers,p)}}static#i=this.\u0275prov=ir({token:e,providedIn:"any",factory:()=>yr(nf)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function Mc(e){return!!kn(e)}function mf(e){Qc=e}function Ic(){if(void 0!==Qc)return Qc;if(typeof document<"u")return document;throw new $t(210,!1)}const vh=new mn("AppId",{providedIn:"root",factory:()=>zg}),zg="ng",pf=new mn("Platform Initializer"),Vm=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vg=new mn("AnimationModuleType"),ff=new mn("CSP nonce",{providedIn:"root",factory:()=>Ic().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function gd(e){return e.ownerDocument.defaultView}function Ba(e){return e instanceof Function?e():e}function $d(e){return 128==(128&e.flags)}var kc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kc||{});const vf=/^>|^->|<!--|-->|--!>|<!-$/g,Gm=/(<|>)/g,Sh="\u200b$1\u200b";const Gd=new Map;let bf=0;const ac="__ngContext__";function js(e,t){jr(t)?(e[ac]=t[rr],function Wg(e){Gd.set(e[rr],e)}(t)):e[ac]=t}let kh;function Oh(e,t){return kh(e,t)}function qd(e){const t=e[mi];return or(t)?t[mi]:t}function Df(e){return lc(e[ko])}function Km(e){return lc(e[_n])}function lc(e){for(;null!==e&&!or(e);)e=e[_n];return e}function td(e,t,r,c,p){if(null!=c){let y,M=!1;or(c)?y=c:jr(c)&&(M=!0,c=c[H]);const A=Tr(c);0===e&&null!==r?null==p?Oc(t,r,A):lo(t,r,A,p||null,!0):1===e&&null!==r?lo(t,r,A,p||null,!0):2===e?function Hu(e,t,r){const c=Qd(e,t);c&&function Tf(e,t,r,c){e.removeChild(t,r,c)}(e,c,t,r)}(t,A,M):3===e&&t.destroyNode(A),null!=y&&function rp(e,t,r,c,p){const y=r[Jr];y!==Tr(r)&&td(t,e,c,y,p);for(let A=Or;A<r.length;A++){const z=r[A];Pc(z[ce],z,e,t,c,y)}}(t,e,y,r,p)}}function Ph(e,t){return e.createComment(function Zm(e){return e.replace(vf,t=>t.replace(Gm,Sh))}(t))}function Rh(e,t,r){return e.createElement(t,r)}function Xd(e,t){const r=e[Co],c=r.indexOf(t);r.splice(c,1)}function id(e,t){if(e.length<=Or)return;const r=Or+t,c=e[r];if(c){const p=c[ta];null!==p&&p!==e&&Xd(p,c),t>0&&(e[r-1][_n]=c[_n]);const y=Wc(e,Or+t);!function Kg(e,t){Pc(e,t,t[on],2,null,null),t[H]=null,t[nr]=null}(c[ce],c);const M=y[Oo];null!==M&&M.detachView(y[ce]),c[mi]=null,c[_n]=null,c[He]&=-129}return c}function bd(e,t){if(!(256&t[He])){const r=t[on];t[Dr]&&function Pi(e){if(ei(e),ht(e))for(let t=0;t<e.producerNode.length;t++)rt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Dr]),r.destroyNode&&Pc(e,t,r,3,null,null),function Sf(e){let t=e[ko];if(!t)return Jm(e[ce],e);for(;t;){let r=null;if(jr(t))r=t[ko];else{const c=t[Or];c&&(r=c)}if(!r){for(;t&&!t[_n]&&t!==e;)jr(t)&&Jm(t[ce],t),t=t[mi];null===t&&(t=e),jr(t)&&Jm(t[ce],t),r=t&&t[_n]}t=r}}(t)}}function Jm(e,t){if(!(256&t[He])){t[He]&=-129,t[He]|=256,function Qg(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let c=0;c<r.length;c+=2){const p=t[r[c]];if(!(p instanceof Zo)){const y=r[c+1];if(Array.isArray(y))for(let M=0;M<y.length;M+=2){const A=p[y[M]],z=y[M+1];ra(4,A,z);try{z.call(A)}finally{ra(5,A,z)}}else{ra(4,p,y);try{y.call(p)}finally{ra(5,p,y)}}}}}(e,t),function Xg(e,t){const r=e.cleanup,c=t[Aa];if(null!==r)for(let y=0;y<r.length-1;y+=2)if("string"==typeof r[y]){const M=r[y+3];M>=0?c[M]():c[-M].unsubscribe(),y+=2}else r[y].call(c[r[y+1]]);null!==c&&(t[Aa]=null);const p=t[Zn];if(null!==p){t[Zn]=null;for(let y=0;y<p.length;y++)(0,p[y])()}}(e,t),1===t[ce].type&&t[on].destroy();const r=t[ta];if(null!==r&&or(t[mi])){r!==t[mi]&&Xd(r,t);const c=t[Oo];null!==c&&c.detachView(e)}!function qg(e){Gd.delete(e[rr])}(t)}}function ep(e,t,r){return function xd(e,t,r){let c=t;for(;null!==c&&40&c.type;)c=(t=c).parent;if(null===c)return r[H];{const{componentOffset:p}=c;if(p>-1){const{encapsulation:y}=e.data[c.directiveStart+p];if(y===Io.None||y===Io.Emulated)return null}return Cr(c,r)}}(e,t.parent,r)}function lo(e,t,r,c,p){e.insertBefore(t,r,c,p)}function Oc(e,t,r){e.appendChild(t,r)}function Fh(e,t,r,c,p){null!==c?lo(e,t,r,c,p):Oc(e,t,r)}function Qd(e,t){return e.parentNode(t)}function tp(e,t,r){return If(e,t,r)}let Lh,m,X,If=function ip(e,t,r){return 40&e.type?Cr(e,r):null};function Jd(e,t,r,c){const p=ep(e,c,t),y=t[on],A=tp(c.parent||t[nr],c,t);if(null!=p)if(Array.isArray(r))for(let z=0;z<r.length;z++)Fh(y,p,r[z],A,!1);else Fh(y,p,r,A,!1);void 0!==Lh&&Lh(y,c,t,r,p)}function eu(e,t){if(null!==t){const r=t.type;if(3&r)return Cr(t,e);if(4&r)return ju(-1,e[t.index]);if(8&r){const c=t.child;if(null!==c)return eu(e,c);{const p=e[t.index];return or(p)?ju(-1,p):Tr(p)}}if(32&r)return Oh(t,e)()||Tr(e[t.index]);{const c=tu(e,t);return null!==c?Array.isArray(c)?c[0]:eu(qd(e[Qn]),c):eu(e,t.next)}}return null}function tu(e,t){return null!==t?e[Qn][nr].projection[t.projection]:null}function ju(e,t){const r=Or+e+1;if(r<t.length){const c=t[r],p=c[ce].firstChild;if(null!==p)return eu(c,p)}return t[Jr]}function iu(e,t,r,c,p,y,M){for(;null!=r;){const A=c[r.index],z=r.type;if(M&&0===t&&(A&&js(Tr(A),c),r.flags|=2),32!=(32&r.flags))if(8&z)iu(e,t,r.child,c,p,y,!1),td(t,e,p,A,y);else if(32&z){const ie=Oh(r,c);let ue;for(;ue=ie();)td(t,e,p,ue,y);td(t,e,p,A,y)}else 16&z?Bh(e,t,c,r,p,y):td(t,e,p,A,y);r=M?r.projectionNext:r.next}}function Pc(e,t,r,c,p,y){iu(r,c,e.firstChild,t,p,y,!1)}function Bh(e,t,r,c,p,y){const M=r[Qn],z=M[nr].projection[c.projection];if(Array.isArray(z))for(let ie=0;ie<z.length;ie++)td(t,e,p,z[ie],y);else{let ie=z;const ue=M[mi];$d(c)&&(ie.flags|=128),iu(e,t,ie,ue,p,y,!0)}}function i(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function a(e,t,r){const{mergedAttrs:c,classes:p,styles:y}=r;null!==c&&po(e,t,c),null!==p&&i(e,t,p),null!==y&&function s(e,t,r){e.setAttribute(t,"style",r)}(e,t,y)}function E(e){return function _(){if(void 0===m&&(m=null,Ji.trustedTypes))try{m=Ji.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return m}()?.createHTML(e)||e}function re(){if(void 0===X&&(X=null,Ji.trustedTypes))try{X=Ji.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return X}function he(e){return re()?.createHTML(e)||e}function Ee(e){return re()?.createScriptURL(e)||e}class Re{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ci})`}}class Ge extends Re{getTypeName(){return"HTML"}}class tt extends Re{getTypeName(){return"Style"}}class Ct extends Re{getTypeName(){return"Script"}}class mt extends Re{getTypeName(){return"URL"}}class Mt extends Re{getTypeName(){return"ResourceURL"}}function Pt(e){return e instanceof Re?e.changingThisBreaksApplicationSecurity:e}function ti(e,t){const r=function Vi(e){return e instanceof Re&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${ci})`)}return r===t}function nn(e){return new Ge(e)}function Ni(e){return new tt(e)}function Oi(e){return new Ct(e)}function Mi(e){return new mt(e)}function Ki(e){return new Mt(e)}class gi{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(E(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class gn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=E(t),r}}const Gn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ar(e){return(e=String(e)).match(Gn)?e:"unsafe:"+e}function pr(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function to(...e){const t={};for(const r of e)for(const c in r)r.hasOwnProperty(c)&&(t[c]=!0);return t}const ga=pr("area,br,col,hr,img,wbr"),Hs=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_o=pr("rp,rt"),Ts=to(ga,to(Hs,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),to(_o,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),to(_o,Hs)),yo=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zs=to(yo,pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Is=pr("script,style,template");class ca{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,c=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?c=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,c&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let p=this.checkClobberedElement(r,r.nextSibling);if(p){r=p;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Ts.hasOwnProperty(r))return this.sanitizedSomething=!0,!Is.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const c=t.attributes;for(let p=0;p<c.length;p++){const y=c.item(p),M=y.name,A=M.toLowerCase();if(!Zs.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let z=y.value;yo[A]&&(z=Ar(z)),this.buf.push(" ",M,'="',Kn(z),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Ts.hasOwnProperty(r)&&!ga.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Kn(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const _a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lo=/([^\#-~ |!])/g;function Kn(e){return e.replace(/&/g,"&amp;").replace(_a,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Lo,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yo;function us(e,t){let r=null;try{Yo=Yo||function Ti(e){const t=new gn(e);return function sn(){try{return!!(new window.DOMParser).parseFromString(E(""),"text/html")}catch{return!1}}()?new gi(t):t}(e);let c=t?String(t):"";r=Yo.getInertBodyElement(c);let p=5,y=c;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,c=y,y=r.innerHTML,r=Yo.getInertBodyElement(c)}while(c!==y);return E((new ca).sanitizeChildren(vo(r)||r))}finally{if(r){const c=vo(r)||r;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function vo(e){return"content"in e&&function El(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ws=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ws||{});function Dl(e){const t=nu();return t?he(t.sanitize(Ws.HTML,e)||""):ti(e,"HTML")?he(Pt(e)):us(Ic(),q(e))}function al(e){const t=nu();return t?t.sanitize(Ws.URL,e)||"":ti(e,"URL")?Pt(e):Ar(q(e))}function Ua(e){const t=nu();if(t)return Ee(t.sanitize(Ws.RESOURCE_URL,e)||"");if(ti(e,"ResourceURL"))return Ee(Pt(e));throw new $t(904,!1)}function Vh(e,t,r){return function Af(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ua:al}(t,r)(e)}function nu(){const e=Bt();return e&&e[ka].sanitizer}let Lc=(e,t,r)=>null;function r_(e,t,r=!1){return Lc(e,t,r)}class Fy{}class Ly{}class B0{resolveComponentFactory(t){throw function z0(e){const t=Error(`No component factory found for ${Ut(e)}.`);return t.ngComponent=e,t}(t)}}let cp=(()=>{class e{static#e=this.NULL=new B0}return e})();function V0(){return Gh(f(),Bt())}function Gh(e,t){return new dp(Cr(e,t))}let dp=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=V0}return e})();function U0(e){return e instanceof dp?e.nativeElement:e}class zy{}let j0=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function H0(){const e=Bt(),r=ss(f().index,e);return(jr(r)?r:e)[on]}()}return e})(),$0=(()=>{class e{static#e=this.\u0275prov=ir({token:e,providedIn:"root",factory:()=>null})}return e})();class By{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const G0=new By("17.0.4"),Yr={};function W0(e){const t=le(null);try{return e()}finally{le(t)}}function up(e){return!!Zh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Zh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}class Uy{constructor(){}supports(t){return up(t)}create(t){return new q0(t)}}const jy=(e,t)=>t;class q0{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||jy}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,c=this._removalsHead,p=0,y=null;for(;r||c;){const M=!c||r&&r.currentIndex<$y(c,p,y)?r:c,A=$y(M,p,y),z=M.currentIndex;if(M===c)p--,c=c._nextRemoved;else if(r=r._next,null==M.previousIndex)p++;else{y||(y=[]);const ie=A-p,ue=z-p;if(ie!=ue){for(let ut=0;ut<ie;ut++){const yt=ut<y.length?y[ut]:y[ut]=0,Yt=yt+ut;ue<=Yt&&Yt<ie&&(y[ut]=yt+1)}y[M.previousIndex]=ue-ie}}A!==z&&t(M,A,z)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!up(t))throw new $t(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let p,y,M,r=this._itHead,c=!1;if(Array.isArray(t)){this.length=t.length;for(let A=0;A<this.length;A++)y=t[A],M=this._trackByFn(A,y),null!==r&&Object.is(r.trackById,M)?(c&&(r=this._verifyReinsertion(r,y,M,A)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,M,A),c=!0),r=r._next}else p=0,function l_(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let c;for(;!(c=r.next()).done;)t(c.value)}}(t,A=>{M=this._trackByFn(p,A),null!==r&&Object.is(r.trackById,M)?(c&&(r=this._verifyReinsertion(r,A,M,p)),Object.is(r.item,A)||this._addIdentityChange(r,A)):(r=this._mismatch(r,A,M,p),c=!0),r=r._next,p++}),this.length=p;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,c,p){let y;return null===t?y=this._itTail:(y=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,y,p)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,y,p)):t=this._addAfter(new Y0(r,c),y,p),t}_verifyReinsertion(t,r,c,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?t=this._reinsertAfter(y,t._prev,p):t.currentIndex!=p&&(t.currentIndex=p,this._addToMoves(t,p)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const p=t._prevRemoved,y=t._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(t,r,c),this._addToMoves(t,c),t}_moveAfter(t,r,c){return this._unlink(t),this._insertAfter(t,r,c),this._addToMoves(t,c),t}_addAfter(t,r,c){return this._insertAfter(t,r,c),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,c){const p=null===r?this._itHead:r._next;return t._next=p,t._prev=r,null===p?this._itTail=t:p._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new xa),this._linkedRecords.put(t),t.currentIndex=c,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,c=t._next;return null===r?this._itHead=c:r._next=c,null===c?this._itTail=r:c._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Y0{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hy{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===r||r<=c.currentIndex)&&Object.is(c.trackById,t))return c;return null}remove(t){const r=t._prevDup,c=t._nextDup;return null===r?this._head=c:r._nextDup=c,null===c?this._tail=r:c._prevDup=r,null===this._head}}class xa{constructor(){this.map=new Map}put(t){const r=t.trackById;let c=this.map.get(r);c||(c=new Hy,this.map.set(r,c)),c.add(t)}get(t,r){const p=this.map.get(t);return p?p.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $y(e,t,r){const c=e.previousIndex;if(null===c)return c;let p=0;return r&&c<r.length&&(p=r[c]),c+t+p}class rd{constructor(){}supports(t){return t instanceof Map||Zh(t)}create(){return new Xn}}class Xn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Zh(t)))throw new $t(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(c,p)=>{if(r&&r.key===p)this._maybeAddToChanges(r,c),this._appendAfter=r,r=r._next;else{const y=this._getOrCreateRecordForKey(p,c);r=this._insertBeforeOrAppend(r,y)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let c=r;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const c=t._prev;return r._next=t,r._prev=c,t._prev=r,c&&(c._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const p=this._records.get(t);this._maybeAddToChanges(p,r);const y=p._prev,M=p._next;return y&&(y._next=M),M&&(M._prev=y),p._next=null,p._prev=null,p}const c=new dc(t);return this._records.set(t,c),c.currentValue=r,this._addToAdditions(c),c}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(c=>r(t[c],c))}}class dc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dr(){return new hp([new Uy])}let hp=(()=>{class e{static#e=this.\u0275prov=ir({token:e,providedIn:"root",factory:dr});constructor(r){this.factories=r}static create(r,c){if(null!=c){const p=c.factories.slice();r=r.concat(p)}return new e(r)}static extend(r){return{provide:e,useFactory:c=>e.create(r,c||dr()),deps:[[e,new oc,new wl]]}}find(r){const c=this.factories.find(p=>p.supports(r));if(null!=c)return c;throw new $t(901,!1)}}return e})();function Gy(){return new uc([new rd])}let uc=(()=>{class e{static#e=this.\u0275prov=ir({token:e,providedIn:"root",factory:Gy});constructor(r){this.factories=r}static create(r,c){if(c){const p=c.factories.slice();r=r.concat(p)}return new e(r)}static extend(r){return{provide:e,useFactory:c=>e.create(r,c||Gy()),deps:[[e,new oc,new wl]]}}find(r){const c=this.factories.find(p=>p.supports(r));if(c)return c;throw new $t(901,!1)}}return e})();function hc(e,t,r,c,p=!1){for(;null!==r;){const y=t[r.index];null!==y&&c.push(Tr(y)),or(y)&&Ff(y,c);const M=r.type;if(8&M)hc(e,t,r.child,c);else if(32&M){const A=Oh(r,t);let z;for(;z=A();)c.push(z)}else if(16&M){const A=tu(t,r);if(Array.isArray(A))c.push(...A);else{const z=qd(t[Qn]);hc(z[ce],z,A,c,!0)}}r=p?r.projectionNext:r.next}return c}function Ff(e,t){for(let r=Or;r<e.length;r++){const c=e[r],p=c[ce].firstChild;null!==p&&hc(c[ce],c,p,t)}e[Jr]!==e[H]&&t.push(e[Jr])}let Lf=[];const Q0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Rr(e.lView)},consumerOnSignalRead(){this.lView[Dr]=this}};function c_(e){return e.ngOriginalError}class ou{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&c_(t);for(;r&&c_(r);)r=c_(r);return r||null}}const Yy=new mn("",{providedIn:"root",factory:()=>!1}),Wn={};function Qy(e){u_(w(),Bt(),qi()+e,!1)}function u_(e,t,r,c){if(!c)if(3==(3&t[He])){const y=e.preOrderCheckHooks;null!==y&&vl(t,y,r)}else{const y=e.preOrderHooks;null!==y&&Po(t,y,0,r)}An(r)}function Wh(e,t=Bi.Default){const r=Bt();return null===r?yr(e,t):rh(f(),r,pe(e),t)}function Jy(){throw new Error("invalid")}function Nc(e,t,r,c,p,y,M,A,z,ie,ue){const Te=t.blueprint.slice();return Te[H]=p,Te[He]=140|c,(null!==ie||e&&2048&e[He])&&(Te[He]|=2048),yn(Te),Te[mi]=Te[Xa]=e,Te[br]=r,Te[ka]=M||e&&e[ka],Te[on]=A||e&&e[on],Te[is]=z||e&&e[is]||null,Te[nr]=y,Te[rr]=function Zg(){return bf++}(),Te[Pr]=ue,Te[bs]=ie,Te[Qn]=2==t.type?e[Qn]:Te,Te}function su(e,t,r,c,p){let y=e.data[t];if(null===y)y=function ev(e,t,r,c,p){const y=v(),M=R(),z=e.data[t]=function nv(e,t,r,c,p,y){let M=t?t.injectorIndex:-1,A=0;return sa()&&(A|=128),{type:r,index:c,insertBeforeIndex:null,injectorIndex:M,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?y:y&&y.parent,r,t,c,p);return null===e.firstChild&&(e.firstChild=z),null!==y&&(M?null==y.child&&null!==z.parent&&(y.child=z):null===y.next&&(y.next=z,z.prev=y)),z}(e,t,r,c,p),function gt(){return In.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=r,y.value=c,y.attrs=p;const M=function D(){const e=In.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();y.injectorIndex=null===M?-1:M.injectorIndex}return O(y,!0),y}function zf(e,t,r,c){if(0===r)return-1;const p=t.length;for(let y=0;y<r;y++)t.push(c),e.blueprint.push(c),e.data.push(null);return p}function sx(e,t,r,c,p){const y=qi(),M=2&c;try{An(-1),M&&t.length>Sn&&u_(e,t,Sn,!1),ra(M?2:0,p),r(c,p)}finally{An(y),ra(M?3:1,p)}}function h_(e,t,r){if(Mr(t)){const c=le(null);try{const y=t.directiveEnd;for(let M=t.directiveStart;M<y;M++){const A=e.data[M];A.contentQueries&&A.contentQueries(1,r[M],M)}}finally{le(c)}}}function Bf(e,t,r){Yl()&&(function mc(e,t,r,c){const p=r.directiveStart,y=r.directiveEnd;Zr(r)&&function wx(e,t,r){const c=Cr(t,e),p=tv(r);let M=16;r.signals?M=4096:r.onPush&&(M=64);const A=Uf(e,Nc(e,p,null,M,c,t,null,e[ka].rendererFactory.createRenderer(c,r),null,null,null));e[t.index]=A}(t,r,e.data[p+r.componentOffset]),e.firstCreatePass||ec(r,t),js(c,t);const M=r.initialInputs;for(let A=p;A<y;A++){const z=e.data[A],ie=wc(t,e,A,r);js(ie,t),null!==M&&Cx(0,A-p,ie,z,0,M),Bs(z)&&(ss(r.index,t)[br]=wc(t,e,A,r))}}(e,t,r,Cr(r,t)),64==(64&r.flags)&&f_(e,t,r))}function Vf(e,t,r=Cr){const c=t.localNames;if(null!==c){let p=t.index+1;for(let y=0;y<c.length;y+=2){const M=c[y+1],A=-1===M?r(t,e):e[M];e[p++]=A}}}function tv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=m_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function m_(e,t,r,c,p,y,M,A,z,ie,ue){const Te=Sn+c,ut=Te+p,yt=function oE(e,t){const r=[];for(let c=0;c<t;c++)r.push(c<e?null:Wn);return r}(Te,ut),Yt="function"==typeof ie?ie():ie;return yt[ce]={type:e,blueprint:yt,template:r,queries:null,viewQuery:A,declTNode:t,data:yt.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:z,consts:Yt,incompleteFirstPass:!1,ssrId:ue}}let iv=e=>null;function rv(e,t,r,c){for(let p in e)if(e.hasOwnProperty(p)){r=null===r?{}:r;const y=e[p];null===c?hx(r,t,p,y):c.hasOwnProperty(p)&&hx(r,t,c[p],y)}return r}function hx(e,t,r,c){e.hasOwnProperty(r)?e[r].push(t,c):e[r]=[t,c]}function qs(e,t,r,c,p,y,M,A){const z=Cr(t,r);let ue,ie=t.inputs;!A&&null!=ie&&(ue=ie[c])?(jf(e,r,ue,c,p),Zr(t)&&function aE(e,t){const r=ss(t,e);16&r[He]||(r[He]|=64)}(r,t.index)):3&t.type&&(c=function mx(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(c),p=null!=M?M(p,t.value||"",c):p,y.setProperty(z,c,p))}function p_(e,t,r,c){if(Yl()){const p=null===c?null:{"":-1},y=function _x(e,t){const r=e.directiveRegistry;let c=null,p=null;if(r)for(let y=0;y<r.length;y++){const M=r[y];if(hl(t,M.selectors,!1))if(c||(c=[]),Bs(M))if(null!==M.findHostDirectiveDefs){const A=[];p=p||new Map,M.findHostDirectiveDefs(M,A,p),c.unshift(...A,M),qh(e,t,A.length)}else c.unshift(M),qh(e,t,0);else p=p||new Map,M.findHostDirectiveDefs?.(M,c,p),c.push(M)}return null===c?null:[c,p]}(e,r);let M,A;null===y?M=A=null:[M,A]=y,null!==M&&ov(e,t,r,M,p,A),p&&function yx(e,t,r){if(t){const c=e.localNames=[];for(let p=0;p<t.length;p+=2){const y=r[t[p+1]];if(null==y)throw new $t(-301,!1);c.push(t[p],y)}}}(r,c,p)}r.mergedAttrs=Uo(r.mergedAttrs,r.attrs)}function ov(e,t,r,c,p,y){for(let ie=0;ie<c.length;ie++)ih(ec(r,t),e,c[ie].type);!function bx(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,c.length);for(let ie=0;ie<c.length;ie++){const ue=c[ie];ue.providersResolver&&ue.providersResolver(ue)}let M=!1,A=!1,z=zf(e,t,c.length,null);for(let ie=0;ie<c.length;ie++){const ue=c[ie];r.mergedAttrs=Uo(r.mergedAttrs,ue.hostAttrs),xx(e,r,t,z,ue),vx(z,ue,p),null!==ue.contentQueries&&(r.flags|=4),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(r.flags|=64);const Te=ue.type.prototype;!M&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),M=!0),!A&&(Te.ngOnChanges||Te.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),A=!0),z++}!function sE(e,t,r){const p=t.directiveEnd,y=e.data,M=t.attrs,A=[];let z=null,ie=null;for(let ue=t.directiveStart;ue<p;ue++){const Te=y[ue],ut=r?r.get(Te):null,Yt=ut?ut.outputs:null;z=rv(Te.inputs,ue,z,ut?ut.inputs:null),ie=rv(Te.outputs,ue,ie,Yt);const vi=null===z||null===M||kl(t)?null:Ex(z,ue,M);A.push(vi)}null!==z&&(z.hasOwnProperty("class")&&(t.flags|=8),z.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=A,t.inputs=z,t.outputs=ie}(e,r,y)}function f_(e,t,r){const c=r.directiveStart,p=r.directiveEnd,y=r.index,M=function P(){return In.lFrame.currentDirectiveIndex}();try{An(y);for(let A=c;A<p;A++){const z=e.data[A],ie=t[A];I(A),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&sv(z,ie)}}finally{An(-1),I(M)}}function sv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qh(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function vx(e,t,r){if(r){if(t.exportAs)for(let c=0;c<t.exportAs.length;c++)r[t.exportAs[c]]=e;Bs(t)&&(r[""]=e)}}function xx(e,t,r,c,p){e.data[c]=p;const y=p.factory||(p.factory=Jn(p.type)),M=new Zo(y,Bs(p),Wh);e.blueprint[c]=M,r[c]=M,function fx(e,t,r,c,p){const y=p.hostBindings;if(y){let M=e.hostBindingOpCodes;null===M&&(M=e.hostBindingOpCodes=[]);const A=~t.index;(function gx(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(M)!=A&&M.push(A),M.push(r,c,y)}}(e,t,c,zf(e,r,p.hostVars,Wn),p)}function od(e,t,r,c,p,y){const M=Cr(e,t);!function g_(e,t,r,c,p,y,M){if(null==y)e.removeAttribute(t,p,r);else{const A=null==M?q(y):M(y,c||"",p);e.setAttribute(t,p,A,r)}}(t[on],M,y,e.value,r,c,p)}function Cx(e,t,r,c,p,y){const M=y[t];if(null!==M)for(let A=0;A<M.length;)av(c,r,M[A++],M[A++],M[A++])}function av(e,t,r,c,p){const y=le(null);try{const M=e.inputTransforms;null!==M&&M.hasOwnProperty(c)&&(p=M[c].call(t,p)),null!==e.setInput?e.setInput(t,p,r,c):t[c]=p}finally{le(y)}}function Ex(e,t,r){let c=null,p=0;for(;p<r.length;){const y=r[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(e.hasOwnProperty(y)){null===c&&(c=[]);const M=e[y];for(let A=0;A<M.length;A+=2)if(M[A]===t){c.push(y,M[A+1],r[p+1]);break}}p+=2}else p+=2;else p+=4}return c}function __(e,t,r,c){return[e,!0,0,t,null,c,null,r,null,null]}function Dx(e,t){const r=e.contentQueries;if(null!==r){const c=le(null);try{for(let p=0;p<r.length;p+=2){const M=r[p+1];if(-1!==M){const A=e.data[M];se(r[p]),A.contentQueries(2,t[M],M)}}}finally{le(c)}}}function Uf(e,t){return e[ko]?e[ro][_n]=t:e[ko]=t,e[ro]=t,t}function mp(e,t,r){se(0);const c=le(null);try{t(e,r)}finally{le(c)}}function pp(e){return e[Aa]||(e[Aa]=[])}function y_(e){return e.cleanup||(e.cleanup=[])}function v_(e,t,r){return(null===e||Bs(e))&&(r=function os(e){for(;Array.isArray(e);){if("object"==typeof e[Qr])return e;e=e[H]}return null}(r[t.index])),r[on]}function Yh(e,t){const r=e[is],c=r?r.get(ou,null):null;c&&c.handleError(t)}function jf(e,t,r,c,p){for(let y=0;y<r.length;){const M=r[y++],A=r[y++];av(e.data[M],t[M],c,A,p)}}function lv(e,t,r,c){const p=t[He];if(256==(256&p))return;t[ka].inlineEffectRunner?.flush(),st(t);let M=null,A=null;(function Tx(e){return 2!==e.type})(e)&&(A=function Zy(e){return e[Dr]??function K0(e){const t=Lf.pop()??Object.create(Q0);return t.lView=e,t}(e)}(t),M=function Zt(e){return e&&(e.nextProducerIndex=0),le(e)}(A));try{yn(t),function Fe(e){return In.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&sx(e,t,r,2,c);const z=3==(3&p);if(z){const Te=e.preOrderCheckHooks;null!==Te&&vl(t,Te,null)}else{const Te=e.preOrderHooks;null!==Te&&Po(t,Te,0,null),Ro(t,0)}if(function Ix(e){for(let t=Df(e);null!==t;t=Km(t)){if(!(t[He]&pl.HasTransplantedViews))continue;const r=t[Co];for(let c=0;c<r.length;c++){oa(r[c])}}}(t),x_(t,0),null!==e.contentQueries&&Dx(e,t),z){const Te=e.contentCheckHooks;null!==Te&&vl(t,Te)}else{const Te=e.contentHooks;null!==Te&&Po(t,Te,1),Ro(t,1)}!function ox(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let c=0;c<r.length;c++){const p=r[c];if(p<0)An(~p);else{const y=p,M=r[++c],A=r[++c];T(M,y),A(2,t[y])}}}finally{An(-1)}}(e,t);const ie=e.components;null!==ie&&w_(t,ie,0);const ue=e.viewQuery;if(null!==ue&&mp(2,ue,c),z){const Te=e.viewCheckHooks;null!==Te&&vl(t,Te)}else{const Te=e.viewHooks;null!==Te&&Po(t,Te,2),Ro(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ur]){for(const Te of t[Ur])Te();t[Ur]=null}t[He]&=-73}catch(z){throw Rr(t),z}finally{null!==A&&(function ri(e,t){if(le(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ht(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)rt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(A,M),function X0(e){e.lView[Dr]!==e&&(e.lView=null,Lf.push(e))}(A)),er()}}function x_(e,t){for(let r=Df(e);null!==r;r=Km(r)){r[He]&=~pl.HasChildViewsToRefresh;for(let c=Or;c<r.length;c++)dv(r[c],t)}}function cv(e,t,r){dv(ss(t,e),r)}function dv(e,t){Eo(e)&&uv(e,t)}function uv(e,t){const c=e[ce],p=e[He],y=e[Dr];let M=!!(0===t&&16&p);if(M||=!!(64&p&&0===t),M||=!!(1024&p),M||=!(!y?.dirty||!ki(y)),y&&(y.dirty=!1),e[He]&=-9217,M)lv(c,e,c.template,e[br]);else if(8192&p){x_(e,1);const A=c.components;null!==A&&w_(e,A,1)}}function w_(e,t,r){for(let c=0;c<t.length;c++)cv(e,t[c],r)}function fp(e){for(;e;){e[He]|=64;const t=qd(e);if(jc(e)&&!t)return e;e=t}return null}class gp{get rootNodes(){const t=this._lView,r=t[ce];return hc(r,t,r.firstChild,[])}constructor(t,r,c=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(t){this._lView[br]=t}get destroyed(){return 256==(256&this._lView[He])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mi];if(or(t)){const r=t[8],c=r?r.indexOf(this):-1;c>-1&&(id(t,c),Wc(r,c))}this._attachedToViewContainer=!1}bd(this._lView[ce],this._lView)}onDestroy(t){as(this._lView,t)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[He]&=-129}reattach(){fl(this._lView),this._lView[He]|=128}detectChanges(){!function b_(e,t=!0){const r=e[ka],c=r.rendererFactory,p=r.afterRenderEventManager;c.begin?.(),p?.begin();try{const M=e[ce];lv(M,e,M.template,e[br]),function Mx(e){let t=0;for(;9216&e[He]||e[Dr]?.dirty;){if(100===t)throw new $t(103,!1);t++,uv(e,1)}}(e)}catch(M){throw t&&Yh(e,M),M}finally{c.end?.(),r.inlineEffectRunner?.flush(),p?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kd(e,t){Pc(e,t,t[on],2,null,null)}(this._lView[ce],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $t(902,!1);this._appRef=t}}let hv=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Ax}return e})();function Ax(e){return function kx(e,t,r){if(Zr(e)&&!r){const c=ss(e.index,t);return new gp(c,c)}return 47&e.type?new gp(t[Qn],t):null}(f(),Bt(),16==(16&e))}let qn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Fx;static#t=this.__NG_ENV_ID__=r=>r}return e})();class Rx extends qn{constructor(t){super(),this._lView=t}onDestroy(t){return as(this._lView,t),()=>function Es(e,t){if(null===e[Zn])return;const r=e[Zn].indexOf(t);-1!==r&&e[Zn].splice(r,1)}(this._lView,t)}}function Fx(){return new Rx(Bt())}const fv=new Set;function Gu(e){fv.has(e)||(fv.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}function C_(e){return t=>{setTimeout(e,void 0,t)}}const ad=class Ux extends si.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,c){let p=t,y=r||(()=>null),M=c;if(t&&"object"==typeof t){const z=t;p=z.next?.bind(z),y=z.error?.bind(z),M=z.complete?.bind(z)}this.__isAsync&&(y=C_(y),p&&(p=C_(p)),M&&(M=C_(M)));const A=super.subscribe({next:p,error:y,complete:M});return t instanceof Qi.w0&&t.add(A),A}};function gv(...e){}class As{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ad(!1),this.onMicrotaskEmpty=new ad(!1),this.onStable=new ad(!1),this.onError=new ad(!1),typeof Zone>"u")throw new $t(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&r,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function jx(){const e="function"==typeof Ji.requestAnimationFrame;let t=Ji[e?"requestAnimationFrame":"setTimeout"],r=Ji[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const c=t[Zone.__symbol__("OriginalDelegate")];c&&(t=c);const p=r[Zone.__symbol__("OriginalDelegate")];p&&(r=p)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function $x(e){const t=()=>{!function D_(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ji,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_p(e),e.isCheckStableRunning=!0,E_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_p(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,c,p,y,M,A)=>{if(function Zx(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(A))return r.invokeTask(p,y,M,A);try{return _v(e),r.invokeTask(p,y,M,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||e.shouldCoalesceRunChangeDetection)&&t(),yv(e)}},onInvoke:(r,c,p,y,M,A,z)=>{try{return _v(e),r.invoke(p,y,M,A,z)}finally{e.shouldCoalesceRunChangeDetection&&t(),yv(e)}},onHasTask:(r,c,p,y)=>{r.hasTask(p,y),c===p&&("microTask"==y.change?(e._hasPendingMicrotasks=y.microTask,_p(e),E_(e)):"macroTask"==y.change&&(e.hasPendingMacrotasks=y.macroTask))},onHandleError:(r,c,p,y)=>(r.handleError(p,y),e.runOutsideAngular(()=>e.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!As.isInAngularZone())throw new $t(909,!1)}static assertNotInAngularZone(){if(As.isInAngularZone())throw new $t(909,!1)}run(t,r,c){return this._inner.run(t,r,c)}runTask(t,r,c,p){const y=this._inner,M=y.scheduleEventTask("NgZoneEvent: "+p,t,Hx,gv,gv);try{return y.runTask(M,r,c)}finally{y.cancelTask(M)}}runGuarded(t,r,c){return this._inner.runGuarded(t,r,c)}runOutsideAngular(t){return this._outer.run(t)}}const Hx={};function E_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _p(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _v(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yv(e){e._nesting--,E_(e)}class Gx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ad,this.onMicrotaskEmpty=new ad,this.onStable=new ad,this.onError=new ad}run(t,r,c){return t.apply(r,c)}runGuarded(t,r,c){return t.apply(r,c)}runOutsideAngular(t){return t()}runTask(t,r,c,p){return t.apply(r,c)}}const vv=new mn("",{providedIn:"root",factory:bv});function bv(){const e=jn(As);let t=!0;const r=new lt.y(p=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{p.next(t),p.complete()})}),c=new lt.y(p=>{let y;e.runOutsideAngular(()=>{y=e.onStable.subscribe(()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,p.next(!0))})})});const M=e.onUnstable.subscribe(()=>{As.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{p.next(!1)}))});return()=>{y.unsubscribe(),M.unsubscribe()}});return(0,Vt.T)(r,c.pipe((0,pn.B)()))}var Zu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Zu||{});const xv={destroy(){}};function Cv(e,t){!t&&function Bm(e){if(!cn()&&!function Fs(){return Bo}())throw new $t(-203,!1)}();const r=t?.injector??jn(rl);if(!function ed(e){return"browser"===(e??jn(rl)).get(Vm)}(r))return xv;Gu("NgAfterNextRender");const c=r.get(Hf),p=c.handler??=new Dv,y=t?.phase??Zu.MixedReadWrite,M=()=>{p.unregister(z),A()},A=r.get(qn).onDestroy(M),z=new Ev(r,y,()=>{M(),e()});return p.register(z),{destroy:M}}class Ev{constructor(t,r,c){this.phase=r,this.callbackFn=c,this.zone=t.get(As),this.errorHandler=t.get(ou,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class Dv{constructor(){this.executingCallbacks=!1,this.buckets={[Zu.EarlyRead]:new Set,[Zu.Write]:new Set,[Zu.MixedReadWrite]:new Set,[Zu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new $t(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Hf=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ir({token:e,providedIn:"root",factory:()=>new e})}return e})();function qx(e,t){const r=ss(t,e),c=r[ce];!function Yx(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(c,r);const p=r[H];null!==p&&null===r[Pr]&&(r[Pr]=r_(p,r[is])),S_(c,r,r[br])}function S_(e,t,r){st(t);try{const c=e.viewQuery;null!==c&&mp(1,c,r);const p=e.template;null!==p&&sx(e,t,p,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dx(e,t),e.staticViewQueries&&mp(2,e.viewQuery,r);const y=e.components;null!==y&&function Kx(e,t){for(let r=0;r<t.length;r++)qx(e,t[r])}(t,y)}catch(c){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),c}finally{t[He]&=-5,er()}}function $f(e,t,r){let c=r?e.styles:null,p=r?e.classes:null,y=0;if(null!==t)for(let M=0;M<t.length;M++){const A=t[M];"number"==typeof A?y=A:1==y?p=Ce(p,A):2==y&&(c=Ce(c,A+": "+t[++M]+";"))}r?e.styles=c:e.stylesWithoutHost=c,r?e.classes=p:e.classesWithoutHost=p}class Sv extends cp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=en(t);return new yp(r,this.ngModule)}}function Mv(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class Qx{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,c){c=Jo(c);const p=this.injector.get(t,Yr,c);return p!==Yr||r===Yr?p:this.parentInjector.get(t,r,c)}}class yp extends Ly{get inputs(){const t=this.componentDef,r=t.inputTransforms,c=Mv(t.inputs);if(null!==r)for(const p of c)r.hasOwnProperty(p.propName)&&(p.transform=r[p.propName]);return c}get outputs(){return Mv(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ia(e){return e.map(jo).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,c,p){let y=(p=p||this.ngModule)instanceof Nl?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const M=y?new Qx(t,y):t,A=M.get(zy,null);if(null===A)throw new $t(407,!1);const ue={rendererFactory:A,sanitizer:M.get($0,null),inlineEffectRunner:null,afterRenderEventManager:M.get(Hf,null)},Te=A.createRenderer(null,this.componentDef),ut=this.componentDef.selectors[0][0]||"div",yt=c?function ax(e,t,r,c){const y=c.get(Yy,!1)||r===Io.ShadowDom,M=e.selectRootElement(t,y);return function lx(e){iv(e)}(M),M}(Te,c,this.componentDef.encapsulation,M):Rh(Te,ut,function Xx(e){const t=e.toLowerCase();return"svg"===t?fo:"math"===t?"math":null}(ut)),Gi=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let vn=null;null!==yt&&(vn=r_(yt,M,!0));const pi=m_(0,null,null,1,0,null,null,null,null,null,null),zn=Nc(null,pi,null,Gi,null,null,ue,Te,M,null,vn);let kr,Gr;st(zn);try{const Ha=this.componentDef;let Up,qC=null;Ha.findHostDirectiveDefs?(Up=[],qC=new Map,Ha.findHostDirectiveDefs(Ha,Up,qC),Up.push(Ha)):Up=[Ha];const MI=function ew(e,t){const r=e[ce],c=Sn;return e[c]=t,su(r,c,2,"#host",null)}(zn,yt),TI=function tw(e,t,r,c,p,y,M){const A=p[ce];!function iw(e,t,r,c){for(const p of e)t.mergedAttrs=Uo(t.mergedAttrs,p.hostAttrs);null!==t.mergedAttrs&&($f(t,t.mergedAttrs,!0),null!==r&&a(c,r,t))}(c,e,t,M);let z=null;null!==t&&(z=r_(t,p[is]));const ie=y.rendererFactory.createRenderer(t,r);let ue=16;r.signals?ue=4096:r.onPush&&(ue=64);const Te=Nc(p,tv(r),null,ue,p[e.index],e,y,ie,null,null,z);return A.firstCreatePass&&qh(A,e,c.length-1),Uf(p,Te),p[e.index]=Te}(MI,yt,Ha,Up,zn,ue,Te);Gr=ql(pi,Sn),yt&&function rw(e,t,r,c){if(c)po(e,r,["ng-version",G0.full]);else{const{attrs:p,classes:y}=function ea(e){const t=[],r=[];let c=1,p=2;for(;c<e.length;){let y=e[c];if("string"==typeof y)2===p?""!==y&&t.push(y,e[++c]):8===p&&r.push(y);else{if(!ys(p))break;p=y}c++}return{attrs:t,classes:r}}(t.selectors[0]);p&&po(e,r,p),y&&y.length>0&&i(e,r,y.join(" "))}}(Te,Ha,yt,c),void 0!==r&&function Tv(e,t,r){const c=e.projection=[];for(let p=0;p<t.length;p++){const y=r[p];c.push(null!=y?Array.from(y):null)}}(Gr,this.ngContentSelectors,r),kr=function nw(e,t,r,c,p,y){const M=f(),A=p[ce],z=Cr(M,p);ov(A,p,M,r,null,c);for(let ue=0;ue<r.length;ue++)js(wc(p,A,M.directiveStart+ue,M),p);f_(A,p,M),z&&js(z,p);const ie=wc(p,A,M.directiveStart+M.componentOffset,M);if(e[br]=p[br]=ie,null!==y)for(const ue of y)ue(ie,t);return h_(A,M,e),ie}(TI,Ha,Up,qC,zn,[ow]),S_(pi,zn,null)}finally{er()}return new Jx(this.componentType,kr,Gh(Gr,zn),zn,Gr)}}class Jx extends Fy{constructor(t,r,c,p,y){super(),this.location=c,this._rootLView=p,this._tNode=y,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new gp(p,void 0,!1),this.componentType=t}setInput(t,r){const c=this._tNode.inputs;let p;if(null!==c&&(p=c[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const y=this._rootLView;jf(y[ce],y,p,t,r),this.previousInputValues.set(t,r),fp(ss(this._tNode.index,y))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ow(){const e=f();yl(Bt()[ce],e)}function M_(e){let t=function Iv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const c=[e];for(;t;){let p;if(Bs(e))p=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $t(903,!1);p=t.\u0275dir}if(p){if(r){c.push(p);const M=e;M.inputs=Gf(e.inputs),M.inputTransforms=Gf(e.inputTransforms),M.declaredInputs=Gf(e.declaredInputs),M.outputs=Gf(e.outputs);const A=p.hostBindings;A&&aw(e,A);const z=p.viewQuery,ie=p.contentQueries;if(z&&sw(e,z),ie&&Av(e,ie),On(e.inputs,p.inputs),On(e.declaredInputs,p.declaredInputs),On(e.outputs,p.outputs),null!==p.inputTransforms&&(null===M.inputTransforms&&(M.inputTransforms={}),On(M.inputTransforms,p.inputTransforms)),Bs(p)&&p.data.animation){const ue=e.data;ue.animation=(ue.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let M=0;M<y.length;M++){const A=y[M];A&&A.ngInherit&&A(e),A===M_&&(r=!1)}}t=Object.getPrototypeOf(t)}!function Kh(e){let t=0,r=null;for(let c=e.length-1;c>=0;c--){const p=e[c];p.hostVars=t+=p.hostVars,p.hostAttrs=Uo(p.hostAttrs,r=Uo(r,p.hostAttrs))}}(c)}function Gf(e){return e===Ao?{}:e===$n?[]:e}function sw(e,t){const r=e.viewQuery;e.viewQuery=r?(c,p)=>{t(c,p),r(c,p)}:t}function Av(e,t){const r=e.contentQueries;e.contentQueries=r?(c,p,y)=>{t(c,p,y),r(c,p,y)}:t}function aw(e,t){const r=e.hostBindings;e.hostBindings=r?(c,p)=>{t(c,p),r(c,p)}:t}function Lv(e){const t=e.inputConfig,r={};for(const c in t)if(t.hasOwnProperty(c)){const p=t[c];Array.isArray(p)&&p[2]&&(r[c]=p[2])}e.inputTransforms=r}function ld(e,t,r){return e[t]=r}function ks(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Wu(e,t,r,c){const p=ks(e,t,r);return ks(e,t+1,c)||p}function T_(e,t,r,c){const p=Bt();return ks(p,ze(),t)&&(w(),od(Cn(),p,e,t,r,c)),T_}function Qh(e,t,r,c){return ks(e,ze(),r)?t+q(r)+c:Wn}function Wf(e,t){return e<<17|t<<2}function au(e){return e>>17&32767}function I_(e){return 2|e}function qu(e){return(131068&e)>>2}function bp(e,t){return-131069&e|t<<2}function Zv(e){return 1|e}function mw(e,t,r,c,p){const y=e[r+1],M=null===t;let A=c?au(y):qu(y),z=!1;for(;0!==A&&(!1===z||M);){const ue=e[A+1];_E(e[A],t)&&(z=!0,e[A+1]=c?Zv(ue):I_(ue)),A=c?au(ue):qu(ue)}z&&(e[r+1]=c?I_(y):Zv(y))}function _E(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qc(e,t)>=0}const ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pw(e){return e.substring(ua.key,ua.keyEnd)}function yE(e){return e.substring(ua.value,ua.valueEnd)}function fw(e,t){const r=ua.textEnd;return r===t?-1:(t=ua.keyEnd=function Yv(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,ua.key=t,r),sm(e,t,r))}function Wv(e,t){const r=ua.textEnd;let c=ua.key=sm(e,t,r);return r===c?-1:(c=ua.keyEnd=function gw(e,t,r){let c;for(;t<r&&(45===(c=e.charCodeAt(t))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)t++;return t}(e,c,r),c=Kv(e,c,r),c=ua.value=sm(e,c,r),c=ua.valueEnd=function _w(e,t,r){let c=-1,p=-1,y=-1,M=t,A=M;for(;M<r;){const z=e.charCodeAt(M++);if(59===z)return A;34===z||39===z?A=M=Xv(e,z,M,r):t===M-4&&85===y&&82===p&&76===c&&40===z?A=M=Xv(e,41,M,r):z>32&&(A=M),y=p,p=c,c=-33&z}return A}(e,c,r),Kv(e,c,r))}function qv(e){ua.key=0,ua.keyEnd=0,ua.value=0,ua.valueEnd=0,ua.textEnd=e.length}function sm(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Kv(e,t,r,c){return(t=sm(e,t,r))<r&&t++,t}function Xv(e,t,r,c){let p=-1,y=r;for(;y<c;){const M=e.charCodeAt(y++);if(M==t&&92!==p)return y;p=92==M&&92===p?0:M}throw new Error}function A_(e,t,r){const c=Bt();return ks(c,ze(),t)&&qs(w(),Cn(),c,e,t,c[on],r,!1),A_}function k_(e,t,r,c,p){const M=p?"class":"style";jf(e,r,t.inputs[M],M,c)}function O_(e,t,r){return Bc(e,t,r,!1),O_}function P_(e,t){return Bc(e,t,null,!0),P_}function zc(e){Vc(tb,yw,e,!1)}function yw(e,t){for(let r=function bE(e){return qv(e),Wv(e,sm(e,0,ua.textEnd))}(t);r>=0;r=Wv(t,r))tb(e,pw(t),yE(t))}function Qv(e){Vc(Ew,cd,e,!0)}function cd(e,t){for(let r=function vE(e){return qv(e),fw(e,sm(e,0,ua.textEnd))}(t);r>=0;r=fw(t,r))nl(e,pw(t),!0)}function Bc(e,t,r,c){const p=Bt(),y=w(),M=ke(2);y.firstUpdatePass&&eb(y,e,M,c),t!==Wn&&ks(p,M,t)&&ib(y,y.data[qi()],p,p[on],e,p[M+1]=function Sw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ut(Pt(e)))),e}(t,r),c,M)}function Vc(e,t,r,c){const p=w(),y=ke(2);p.firstUpdatePass&&eb(p,null,y,c);const M=Bt();if(r!==Wn&&ks(M,y,r)){const A=p.data[qi()];if(rb(A,c)&&!Jv(p,y)){let z=c?A.classesWithoutHost:A.stylesWithoutHost;null!==z&&(r=Ce(z,r||"")),k_(p,A,M,r,c)}else!function Dw(e,t,r,c,p,y,M,A){p===Wn&&(p=$n);let z=0,ie=0,ue=0<p.length?p[0]:null,Te=0<y.length?y[0]:null;for(;null!==ue||null!==Te;){const ut=z<p.length?p[z+1]:void 0,yt=ie<y.length?y[ie+1]:void 0;let vi,Yt=null;ue===Te?(z+=2,ie+=2,ut!==yt&&(Yt=Te,vi=yt)):null===Te||null!==ue&&ue<Te?(z+=2,Yt=ue):(ie+=2,Yt=Te,vi=yt),null!==Yt&&ib(e,t,r,c,Yt,vi,M,A),ue=z<p.length?p[z]:null,Te=ie<y.length?y[ie]:null}}(p,A,M,M[on],M[y+1],M[y+1]=function Cw(e,t,r){if(null==r||""===r)return $n;const c=[],p=Pt(r);if(Array.isArray(p))for(let y=0;y<p.length;y++)e(c,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&e(c,y,p[y]);else"string"==typeof p&&t(c,p);return c}(e,t,r),c,y)}}function Jv(e,t){return t>=e.expandoStartIndex}function eb(e,t,r,c){const p=e.data;if(null===p[r+1]){const y=p[qi()],M=Jv(e,r);rb(y,c)&&null===t&&!M&&(t=!1),t=function vw(e,t,r,c){const p=F(e);let y=c?t.residualClasses:t.residualStyles;if(null===p)0===(c?t.classBindings:t.styleBindings)&&(r=xp(r=R_(null,e,t,r,c),t.attrs,c),y=null);else{const M=t.directiveStylingLast;if(-1===M||e[M]!==p)if(r=R_(p,e,t,r,c),null===y){let z=function bw(e,t,r){const c=r?t.classBindings:t.styleBindings;if(0!==qu(c))return e[au(c)]}(e,t,c);void 0!==z&&Array.isArray(z)&&(z=R_(null,e,t,z[1],c),z=xp(z,t.attrs,c),function xw(e,t,r,c){e[au(r?t.classBindings:t.styleBindings)]=c}(e,t,c,z))}else y=function ww(e,t,r){let c;const p=t.directiveEnd;for(let y=1+t.directiveStylingLast;y<p;y++)c=xp(c,e[y].hostAttrs,r);return xp(c,t.attrs,r)}(e,t,c)}return void 0!==y&&(c?t.residualClasses=y:t.residualStyles=y),r}(p,y,t,c),function fE(e,t,r,c,p,y){let M=y?t.classBindings:t.styleBindings,A=au(M),z=qu(M);e[c]=r;let ue,ie=!1;if(Array.isArray(r)?(ue=r[1],(null===ue||qc(r,ue)>0)&&(ie=!0)):ue=r,p)if(0!==z){const ut=au(e[A+1]);e[c+1]=Wf(ut,A),0!==ut&&(e[ut+1]=bp(e[ut+1],c)),e[A+1]=function hw(e,t){return 131071&e|t<<17}(e[A+1],c)}else e[c+1]=Wf(A,0),0!==A&&(e[A+1]=bp(e[A+1],c)),A=c;else e[c+1]=Wf(z,0),0===A?A=c:e[z+1]=bp(e[z+1],c),z=c;ie&&(e[c+1]=I_(e[c+1])),mw(e,ue,c,!0),mw(e,ue,c,!1),function gE(e,t,r,c,p){const y=p?e.residualClasses:e.residualStyles;null!=y&&"string"==typeof t&&qc(y,t)>=0&&(r[c+1]=Zv(r[c+1]))}(t,ue,e,c,y),M=Wf(A,z),y?t.classBindings=M:t.styleBindings=M}(p,y,t,r,M,c)}}function R_(e,t,r,c,p){let y=null;const M=r.directiveEnd;let A=r.directiveStylingLast;for(-1===A?A=r.directiveStart:A++;A<M&&(y=t[A],c=xp(c,y.hostAttrs,p),y!==e);)A++;return null!==e&&(r.directiveStylingLast=A),c}function xp(e,t,r){const c=r?1:2;let p=-1;if(null!==t)for(let y=0;y<t.length;y++){const M=t[y];"number"==typeof M?p=M:p===c&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),nl(e,M,!!r||t[++y]))}return void 0===e?null:e}function tb(e,t,r){nl(e,t,Pt(r))}function Ew(e,t,r){const c=String(t);""!==c&&!c.includes(" ")&&nl(e,c,r)}function ib(e,t,r,c,p,y,M,A){if(!(3&t.type))return;const z=e.data,ie=z[A+1],ue=function pE(e){return 1==(1&e)}(ie)?nb(z,t,r,p,qu(ie),M):void 0;qf(ue)||(qf(y)||function uw(e){return 2==(2&e)}(ie)&&(y=nb(z,null,r,p,A,M)),function t_(e,t,r,c,p){if(t)p?e.addClass(r,c):e.removeClass(r,c);else{let y=-1===c.indexOf("-")?void 0:kc.DashCase;null==p?e.removeStyle(r,c,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=kc.Important),e.setStyle(r,c,p,y))}}(c,M,lr(qi(),r),p,y))}function nb(e,t,r,c,p,y){const M=null===t;let A;for(;p>0;){const z=e[p],ie=Array.isArray(z),ue=ie?z[1]:z,Te=null===ue;let ut=r[p+1];ut===Wn&&(ut=Te?$n:void 0);let yt=Te?Mm(ut,c):ue===c?ut:void 0;if(ie&&!qf(yt)&&(yt=Mm(z,c)),qf(yt)&&(A=yt,M))return A;const Yt=e[p+1];p=M?au(Yt):qu(Yt)}if(null!==t){let z=y?t.residualClasses:t.residualStyles;null!=z&&(A=Mm(z,c))}return A}function qf(e){return void 0!==e}function rb(e,t){return 0!=(e.flags&(t?8:16))}function ob(e,t,r){Vc(nl,cd,Qh(Bt(),e,t,r),!0)}let ub=(e,t)=>null;function Yu(e,t){return ub(e,t)}class hb{destroy(t){}updateValue(t,r){}swap(t,r){const c=Math.min(t,r),p=Math.max(t,r),y=this.detach(p);if(p-c>1){const M=this.detach(c);this.attach(c,y),this.attach(p,M)}else this.attach(c,y)}move(t,r){this.attach(r,this.detach(t))}}function U_(e,t,r,c,p){return e===r&&Object.is(t,c)?1:Object.is(p(e,t),p(r,c))?-1:0}function j_(e,t,r,c){return!(void 0===t||!t.has(c)||(e.attach(r,t.get(c)),t.delete(c),0))}function mb(e,t,r,c,p){if(j_(e,t,c,r(c,p)))e.updateValue(c,p);else{const y=e.create(c,p);e.attach(c,y)}}function pb(e,t,r,c){const p=new Set;for(let y=t;y<=r;y++)p.add(c(y,e.at(y)));return p}class fb{constructor(){this.map=new Map}has(t){const r=this.map.get(t);return void 0!==r&&r.length>0}delete(t){const r=this.map.get(t);return void 0!==r&&(r.shift(),!0)}get(t){const r=this.map.get(t);return void 0!==r&&r.length>0?r[0]:void 0}set(t,r){this.map.has(t)?this.map.get(t)?.push(r):this.map.set(t,[r])}forEach(t){for(const[r,c]of this.map)for(const p of c)t(p,r)}}function Mp(e,t,r,c){const p=t.tView,A=Nc(e,p,r,4096&e[He]?4096:16,null,t,null,null,null,c?.injector??null,c?.dehydratedView??null);A[ta]=e[t.index];const ie=e[Oo];return null!==ie&&(A[Oo]=ie.createEmbeddedView(p)),S_(p,A,r),A}function n1(e,t){const r=Or+t;if(r<e.length)return e[r]}function am(e,t){return!t||$d(e)}function Tp(e,t,r,c=!0){const p=t[ce];if(function vd(e,t,r,c){const p=Or+c,y=r.length;c>0&&(r[p-1][_n]=t),c<y-Or?(t[_n]=r[p],Zc(r,Or+c,t)):(r.push(t),t[_n]=null),t[mi]=r;const M=t[ta];null!==M&&r!==M&&function Mf(e,t){const r=e[Co];t[Qn]!==t[mi][mi][Qn]&&(e[He]|=pl.HasTransplantedViews),null===r?e[Co]=[t]:r.push(t)}(M,t);const A=t[Oo];null!==A&&A.insertView(e),fl(t),t[He]|=128}(p,t,e,r),c){const y=ju(r,e),M=t[on],A=Qd(M,e[Jr]);null!==A&&function Qm(e,t,r,c,p,y){c[H]=p,c[nr]=t,Pc(e,c,r,1,p,y)}(p,e[nr],M,t,A,y)}}function H_(e,t){const r=id(e,t);return void 0!==r&&bd(r[ce],r),r}let Xf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=r1}return e})();function r1(){return _b(f(),Bt())}const o1=Xf,gb=class extends o1{constructor(t,r,c){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=c}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Td(this._hostTNode,this._hostLView);if(Fa(t)){const r=Ss(t,this._hostLView),c=il(t);return new Fo(r[ce].data[c+8],r)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=Ip(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(t,r,c){let p,y;"number"==typeof c?p=c:null!=c&&(p=c.index,y=c.injector);const M=Yu(this._lContainer,t.ssrId),A=t.createEmbeddedViewImpl(r||{},y,M);return this.insertImpl(A,p,am(this._hostTNode,M)),A}createComponent(t,r,c,p,y){const M=t&&!function yu(e){return"function"==typeof e}(t);let A;if(M)A=r;else{const Yt=r||{};A=Yt.index,c=Yt.injector,p=Yt.projectableNodes,y=Yt.environmentInjector||Yt.ngModuleRef}const z=M?t:new yp(en(t)),ie=c||this.parentInjector;if(!y&&null==z.ngModule){const vi=(M?ie:this.parentInjector).get(Nl,null);vi&&(y=vi)}const ue=en(z.componentType??{}),Te=Yu(this._lContainer,ue?.id??null),yt=z.create(ie,p,Te?.firstChild??null,y);return this.insertImpl(yt.hostView,A,am(this._hostTNode,Te)),yt}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,c){const p=t._lView;if(function hd(e){return or(e[mi])}(p)){const A=this.indexOf(t);if(-1!==A)this.detach(A);else{const z=p[mi],ie=new gb(z,z[nr],z[mi]);ie.detach(ie.indexOf(t))}}const y=this._adjustIndex(r),M=this._lContainer;return Tp(M,p,y,c),t.attachToViewContainerRef(),Zc($_(M),y,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=Ip(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),c=id(this._lContainer,r);c&&(Wc($_(this._lContainer),r),bd(c[ce],c))}detach(t){const r=this._adjustIndex(t,-1),c=id(this._lContainer,r);return c&&null!=Wc($_(this._lContainer),r)?new gp(c):null}_adjustIndex(t,r=0){return t??this.length+r}};function Ip(e){return e[8]}function $_(e){return e[8]||(e[8]=[])}function _b(e,t){let r;const c=t[e.index];return or(c)?r=c:(r=__(c,t,null,e),t[e.index]=r,Uf(t,r)),a1(r,t,e,c),new gb(r,e,t)}let a1=function vb(e,t,r,c){if(e[Jr])return;let p;p=8&r.type?Tr(c):function s1(e,t){const r=e[on],c=r.createComment(""),p=Cr(t,e);return lo(r,Qd(r,p),c,function e_(e,t){return e.nextSibling(t)}(r,p),!1),c}(t,r),e[Jr]=p},G_=(e,t,r)=>!1;function lm(e,t,r,c,p,y,M,A){const z=Bt(),ie=w(),ue=e+Sn,Te=ie.firstCreatePass?function d1(e,t,r,c,p,y,M,A,z){const ie=t.consts,ue=su(t,e,4,M||null,Wi(ie,A));p_(t,r,ue,Wi(ie,z)),yl(t,ue);const Te=ue.tView=m_(2,ue,c,p,y,t.directiveRegistry,t.pipeRegistry,null,t.schemas,ie,null);return null!==t.queries&&(t.queries.template(t,ue),Te.queries=t.queries.embeddedTView(ue)),ue}(ue,ie,z,t,r,c,p,y,M):ie.data[ue];O(Te,!1);const ut=xb(ie,z,Te,e);Ds()&&Jd(ie,z,ut,Te),js(ut,z);const yt=__(ut,z,ut,Te);return z[ue]=yt,Uf(z,yt),function yb(e,t,r){return G_(e,t,r)}(yt,Te,z),Oa(Te)&&Bf(ie,z,Te),null!=M&&Vf(z,Te,A),lm}let xb=function wb(e,t,r,c){return ls(!0),t[on].createComment("")};function Cb(e,t,r){Gu("NgControlFlow");const c=Bt(),p=ze(),y=Qf(c,Sn+e);if(ks(c,p,t)){const A=le(null);try{if(H_(y,0),-1!==t){const z=Z_(c[ce],Sn+t),ie=Yu(y,z.tView.ssrId);Tp(y,Mp(c,z,r,{dehydratedView:ie}),0,am(z,ie))}}finally{le(A)}}else{const A=n1(y,0);void 0!==A&&(A[br]=r)}}class m1{constructor(t,r,c){this.lContainer=t,this.$implicit=r,this.$index=c}get $count(){return this.lContainer.length-Or}}function Eb(e,t){return t}class f1{constructor(t,r,c){this.hasEmptyBlock=t,this.trackByFn=r,this.liveCollection=c}}function Ap(e,t,r,c,p,y,M,A,z,ie,ue){Gu("NgControlFlow");const Te=void 0!==z,ut=Bt(),yt=A?M.bind(ut[Qn][br]):M,Yt=new f1(Te,yt);ut[Sn+e]=Yt,lm(e+1,t,r,c,p,y),Te&&lm(e+2,z,ie,ue)}class g1 extends hb{constructor(t,r,c){super(),this.lContainer=t,this.hostLView=r,this.templateTNode=c,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Or}at(t){return this.getLView(t)[br].$implicit}attach(t,r){const c=r[Pr];this.needsIndexUpdate||=t!==this.length,Tp(this.lContainer,r,t,am(this.templateTNode,c))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function _1(e,t){return id(e,t)}(this.lContainer,t)}create(t,r){const c=Yu(this.lContainer,this.templateTNode.tView.ssrId);return Mp(this.hostLView,this.templateTNode,new m1(this.lContainer,r,t),{dehydratedView:c})}destroy(t){bd(t[ce],t)}updateValue(t,r){this.getLView(t)[br].$implicit=r}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[br].$index=t}getLView(t){return function y1(e,t){return n1(e,t)}(this.lContainer,t)}}function Db(e){const t=le(null),r=qi();try{const c=Bt(),p=c[ce],y=c[r];if(void 0===y.liveCollection){const A=r+1,z=Qf(c,A),ie=Z_(p,A);y.liveCollection=new g1(z,c,ie)}else y.liveCollection.reset();const M=y.liveCollection;if(function t1(e,t,r){let c,p,y=0,M=e.length-1;if(Array.isArray(t)){let A=t.length-1;for(;y<=M&&y<=A;){const z=e.at(y),ie=t[y],ue=U_(y,z,y,ie,r);if(0!==ue){ue<0&&e.updateValue(y,ie),y++;continue}const Te=e.at(M),ut=t[A],yt=U_(M,Te,A,ut,r);if(0!==yt){yt<0&&e.updateValue(M,ut),M--,A--;continue}const Yt=r(y,z),vi=r(M,Te),Gi=r(y,ie);if(Object.is(Gi,vi)){const vn=r(A,ut);Object.is(vn,Yt)?(e.swap(y,M),e.updateValue(M,ut),A--,M--):e.move(M,y),e.updateValue(y,ie),y++}else if(c??=new fb,p??=pb(e,y,M,r),j_(e,c,y,Gi))e.updateValue(y,ie),y++,M++;else if(p.has(Gi))c.set(Yt,e.detach(y)),M--;else{const vn=e.create(y,t[y]);e.attach(y,vn),y++,M++}}for(;y<=A;)mb(e,c,r,y,t[y]),y++}else if(null!=t){const A=t[Symbol.iterator]();let z=A.next();for(;!z.done&&y<=M;){const ie=e.at(y),ue=z.value,Te=U_(y,ie,y,ue,r);if(0!==Te)Te<0&&e.updateValue(y,ue),y++,z=A.next();else{c??=new fb,p??=pb(e,y,M,r);const ut=r(y,ue);if(j_(e,c,y,ut))e.updateValue(y,ue),y++,M++,z=A.next();else if(p.has(ut)){const yt=r(y,ie);c.set(yt,e.detach(y)),M--}else e.attach(y,e.create(y,ue)),y++,M++,z=A.next()}}for(;!z.done;)mb(e,c,r,e.length,z.value),z=A.next()}for(;y<=M;)e.destroy(e.detach(M--));c?.forEach(A=>{e.destroy(A)})}(M,e,y.trackByFn),M.updateIndexes(),y.hasEmptyBlock){const A=ze(),z=0===M.length;if(ks(c,A,z)){const ie=r+2,ue=Qf(c,ie);if(z){const Te=Z_(p,ie),ut=Yu(ue,Te.tView.ssrId);Tp(ue,Mp(c,Te,void 0,{dehydratedView:ut}),0,am(Te,ut))}else H_(ue,0)}}}finally{le(t)}}function Qf(e,t){return e[t]}function Z_(e,t){return ql(e,t)}function og(e,t,r,c){const p=Bt(),y=w(),M=Sn+e,A=p[on],z=y.firstCreatePass?function G1(e,t,r,c,p,y){const M=t.consts,z=su(t,e,2,c,Wi(M,p));return p_(t,r,z,Wi(M,y)),null!==z.attrs&&$f(z,z.attrs,!1),null!==z.mergedAttrs&&$f(z,z.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,z),z}(M,y,p,t,r,c):y.data[M],ie=Zb(y,p,z,A,t,e);p[M]=ie;const ue=Oa(z);return O(z,!0),a(A,ie,z),32!=(32&z.flags)&&Ds()&&Jd(y,p,ie,z),0===function Fr(){return In.lFrame.elementDepthCount}()&&js(ie,p),function tl(){In.lFrame.elementDepthCount++}(),ue&&(Bf(y,p,z),h_(y,z,p)),null!==c&&Vf(p,z),og}function sg(){let e=f();R()?V():(e=e.parent,O(e,!1));const t=e;(function Dd(e){return In.skipHydrationRootTNode===e})(t)&&function Sd(){In.skipHydrationRootTNode=null}(),function gl(){In.lFrame.elementDepthCount--}();const r=w();return r.firstCreatePass&&(yl(r,e),Mr(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Ju(e){return 0!=(8&e.flags)}(t)&&k_(r,t,Bt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function eh(e){return 0!=(16&e.flags)}(t)&&k_(r,t,Bt(),t.stylesWithoutHost,!1),sg}function sy(e,t,r,c){return og(e,t,r,c),sg(),sy}let Zb=(e,t,r,c,p,y)=>(ls(!0),Rh(c,p,function aa(){return In.lFrame.currentNamespace}()));function ag(e,t,r){const c=Bt(),p=w(),y=e+Sn,M=p.firstCreatePass?function q1(e,t,r,c,p){const y=t.consts,M=Wi(y,c),A=su(t,e,8,"ng-container",M);return null!==M&&$f(A,M,!0),p_(t,r,A,Wi(y,p)),null!==t.queries&&t.queries.elementStart(t,A),A}(y,p,c,t,r):p.data[y];O(M,!0);const A=Wb(p,c,M,e);return c[y]=A,Ds()&&Jd(p,c,A,M),js(A,c),Oa(M)&&(Bf(p,c,M),h_(p,M,c)),null!=r&&Vf(c,M),ag}function lg(){let e=f();const t=w();return R()?V():(e=e.parent,O(e,!1)),t.firstCreatePass&&(yl(t,e),Mr(e)&&t.queries.elementEnd(e)),lg}function ay(e,t,r){return ag(e,t,r),lg(),ay}let Wb=(e,t,r,c)=>(ls(!0),Ph(t[on],""));function Yb(){return Bt()}function ly(e,t,r){const c=Bt();return ks(c,ze(),t)&&qs(w(),Cn(),c,e,t,c[on],r,!0),ly}function cy(e,t,r){const c=Bt();if(ks(c,ze(),t)){const y=w(),M=Cn();qs(y,M,c,e,t,v_(F(y.data),M,c),r,!0)}return cy}const cu=void 0;var X1=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K1(e){const r=Math.floor(Math.abs(e)),c=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===c?1:5}];let gm={};function cg(e){const t=function Qb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=dy(t);if(r)return r;const c=t.split("-")[0];if(r=dy(c),r)return r;if("en"===c)return X1;throw new $t(701,!1)}function Kb(e){return cg(e)[Xu.PluralCase]}function dy(e){return e in gm||(gm[e]=Ji.ng&&Ji.ng.common&&Ji.ng.common.locales&&Ji.ng.common.locales[e]),gm[e]}var Xu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Xu||{});const Qu="en-US";let Jb=Qu;function ms(e){return!!e&&"function"==typeof e.then}function cl(e){return!!e&&"function"==typeof e.subscribe}function hu(e,t,r,c){const p=Bt(),y=w(),M=f();return Tn(y,p,p[on],M,e,t,c),hu}function an(e,t){const r=f(),c=Bt(),p=w();return Tn(p,c,v_(F(p.data),r,c),r,e,t),an}function Tn(e,t,r,c,p,y,M){const A=Oa(c),ie=e.firstCreatePass&&y_(e),ue=t[br],Te=pp(t);let ut=!0;if(3&c.type||M){const vi=Cr(c,t),Gi=M?M(vi):vi,vn=Te.length,pi=M?kr=>M(Tr(kr[c.index])):c.index;let zn=null;if(!M&&A&&(zn=function Xi(e,t,r,c){const p=e.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const M=p[y];if(M===r&&p[y+1]===c){const A=t[Aa],z=p[y+2];return A.length>z?A[z]:null}"string"==typeof M&&(y+=2)}return null}(e,t,p,c.index)),null!==zn)(zn.__ngLastListenerFn__||zn).__ngNextListenerFn__=y,zn.__ngLastListenerFn__=y,ut=!1;else{y=To(c,t,ue,y,!1);const kr=r.listen(Gi,p,y);Te.push(y,kr),ie&&ie.push(p,pi,vn,vn+1)}}else y=To(c,t,ue,y,!1);const yt=c.outputs;let Yt;if(ut&&null!==yt&&(Yt=yt[p])){const vi=Yt.length;if(vi)for(let Gi=0;Gi<vi;Gi+=2){const Gr=t[Yt[Gi]][Yt[Gi+1]].subscribe(y),Ha=Te.length;Te.push(y,Gr),ie&&ie.push(p,c.index,Ha,-(Ha+1))}}}function ur(e,t,r,c){try{return ra(6,t,r),!1!==r(c)}catch(p){return Yh(e,p),!1}finally{ra(7,t,r)}}function To(e,t,r,c,p){return function y(M){if(M===Function)return c;fp(e.componentOffset>-1?ss(e.index,t):t);let z=ur(t,r,c,M),ie=y.__ngNextListenerFn__;for(;ie;)z=ur(t,r,ie,M)&&z,ie=ie.__ngNextListenerFn__;return p&&!1===z&&M.preventDefault(),z}}function dl(e=1){return function Rn(e){return(In.lFrame.contextLView=function xc(e,t){for(;e>0;)t=t[Xa],e--;return t}(e,In.lFrame.contextLView))[br]}(e)}function wa(e,t){let r=null;const c=function Wa(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let p=0;p<t.length;p++){const y=t[p];if("*"!==y){if(null===c?hl(e,y,!0):Ol(c,y))return p}else r=p}return r}function Tl(e){const t=Bt()[Qn][nr];if(!t.projection){const c=t.projection=bu(e?e.length:1,null),p=c.slice();let y=t.child;for(;null!==y;){const M=e?wa(y,e):0;null!==M&&(p[M]?p[M].projectionNext=y:c[M]=y,p[M]=y),y=y.next}}}function $r(e,t=0,r){const c=Bt(),p=w(),y=su(p,Sn+e,16,null,r||null);null===y.projection&&(y.projection=t),V(),(!c[Pr]||sa())&&32!=(32&y.flags)&&function np(e,t,r){Bh(t[on],0,t,r,ep(e,r,t),tp(r.parent||t[nr],r,t))}(p,c,y)}function _y(e){return Ra(function Z(){return In.lFrame.contextLView}(),Sn+e)}function $E(e,t=""){const r=Bt(),c=w(),p=e+Sn,y=c.firstCreatePass?su(c,p,1,t,null):c.data[p],M=GE(c,r,y,t,e);r[p]=M,Ds()&&Jd(c,r,M,y),O(y,!1)}let GE=(e,t,r,c,p)=>(ls(!0),function Yd(e,t){return e.createText(t)}(t[on],c));function gC(e){return v0("",e,""),gC}function v0(e,t,r){const c=Bt(),p=Qh(c,e,t,r);return p!==Wn&&function sd(e,t,r){const c=lr(t,e);!function Xm(e,t,r){e.setValue(t,r)}(e[on],c,r)}(c,qi(),p),v0}function _C(e,t,r,c,p){if(e=pe(e),Array.isArray(e))for(let y=0;y<e.length;y++)_C(e[y],t,r,c,p);else{const y=w(),M=Bt(),A=f();let z=za(e)?e:pe(e.provide);const ie=Su(e),ue=1048575&A.providerIndexes,Te=A.directiveStart,ut=A.providerIndexes>>20;if(za(e)||!e.multi){const yt=new Zo(ie,p,Wh),Yt=vC(z,t,p?ue:ue+ut,Te);-1===Yt?(ih(ec(A,M),y,z),yC(y,e,t.length),t.push(z),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),r.push(yt),M.push(yt)):(r[Yt]=yt,M[Yt]=yt)}else{const yt=vC(z,t,ue+ut,Te),Yt=vC(z,t,ue,ue+ut),Gi=Yt>=0&&r[Yt];if(p&&!Gi||!p&&!(yt>=0&&r[yt])){ih(ec(A,M),y,z);const vn=function oM(e,t,r,c,p){const y=new Zo(e,r,Wh);return y.multi=[],y.index=t,y.componentProviders=0,eD(y,p,c&&!r),y}(p?rM:nM,r.length,p,c,ie);!p&&Gi&&(r[Yt].providerFactory=vn),yC(y,e,t.length,0),t.push(z),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),r.push(vn),M.push(vn)}else yC(y,e,yt>-1?yt:Yt,eD(r[p?Yt:yt],ie,!p&&c));!p&&c&&Gi&&r[Yt].componentProviders++}}}function yC(e,t,r,c){const p=za(t),y=function fh(e){return!!e.useClass}(t);if(p||y){const z=(y?pe(t.useClass):t).prototype.ngOnDestroy;if(z){const ie=e.destroyHooks||(e.destroyHooks=[]);if(!p&&t.multi){const ue=ie.indexOf(r);-1===ue?ie.push(r,[c,z]):ie[ue+1].push(c,z)}else ie.push(r,z)}}}function eD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function vC(e,t,r,c){for(let p=r;p<c;p++)if(t[p]===e)return p;return-1}function nM(e,t,r,c){return bC(this.multi,[])}function rM(e,t,r,c){const p=this.multi;let y;if(this.providerFactory){const M=this.providerFactory.componentProviders,A=wc(r,r[ce],this.providerFactory.index,c);y=A.slice(0,M),bC(p,y);for(let z=M;z<A.length;z++)y.push(A[z])}else y=[],bC(p,y);return y}function bC(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function tD(e,t=[]){return r=>{r.providersResolver=(c,p)=>function iM(e,t,r){const c=w();if(c.firstCreatePass){const p=Bs(e);_C(r,c.data,c.blueprint,p,!0),_C(t,c.data,c.blueprint,p,!1)}}(c,p?p(e):e,t)}}class Bp{}class iD{}function sM(e,t){return new xC(e,t??null,[])}class xC extends Bp{constructor(t,r,c){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const p=kn(t);this._bootstrapComponents=Ba(p.bootstrap),this._r3Injector=Mo(t,r,[{provide:Bp,useValue:this},{provide:cp,useValue:this.componentFactoryResolver},...c],Ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wC extends iD{constructor(t){super(),this.moduleType=t}create(t){return new xC(this.moduleType,t,[])}}class nD extends Bp{constructor(t){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const r=new zd([...t.providers,{provide:Bp,useValue:this},{provide:cp,useValue:this.componentFactoryResolver}],t.parent||Cl(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rD(e,t,r=null){return new nD({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let lM=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const c=Cu(0,r.type),p=c.length>0?rD([c],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,p)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ir({token:e,providedIn:"environment",factory:()=>new e(yr(Nl))})}return e})();function oD(e){Gu("NgStandalone"),e.getStandaloneInjector=t=>t.get(lM).getOrCreateStandaloneInjector(e)}function mD(e,t,r){const c=ge()+e,p=Bt();return p[c]===Wn?ld(p,c,r?t.call(r):t()):function vp(e,t){return e[t]}(p,c)}function pD(e,t,r,c){return yD(Bt(),ge(),e,t,r,c)}function fD(e,t,r,c,p){return function vD(e,t,r,c,p,y,M){const A=t+r;return Wu(e,A,p,y)?ld(e,A+2,M?c.call(M,p,y):c(p,y)):yy(e,A+2)}(Bt(),ge(),e,t,r,c,p)}function gD(e,t,r,c,p,y){return function bD(e,t,r,c,p,y,M,A){const z=t+r;return function Zf(e,t,r,c,p){const y=Wu(e,t,r,c);return ks(e,t+2,p)||y}(e,z,p,y,M)?ld(e,z+3,A?c.call(A,p,y,M):c(p,y,M)):yy(e,z+3)}(Bt(),ge(),e,t,r,c,p,y)}function _D(e,t,r,c){return function wD(e,t,r,c,p,y){let M=t+r,A=!1;for(let z=0;z<p.length;z++)ks(e,M++,p[z])&&(A=!0);return A?ld(e,M,c.apply(y,p)):yy(e,M)}(Bt(),ge(),e,t,r,c)}function yy(e,t){const r=e[t];return r===Wn?void 0:r}function yD(e,t,r,c,p,y){const M=t+r;return ks(e,M,p)?ld(e,M+1,y?c.call(y,p):c(p)):yy(e,M+1)}function CD(e,t){const r=w();let c;const p=e+Sn;r.firstCreatePass?(c=function EM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const c=t[r];if(e===c.name)return c}}(t,r.pipeRegistry),r.data[p]=c,c.onDestroy&&(r.destroyHooks??=[]).push(p,c.onDestroy)):c=r.data[p];const y=c.factory||(c.factory=Jn(c.type)),A=Un(Wh);try{const z=Gc(!1),ie=y();return Gc(z),function y0(e,t,r,c){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=c}(r,Bt(),p,ie),ie}finally{Un(A)}}function ED(e,t,r){const c=e+Sn,p=Bt(),y=Ra(p,c);return function vy(e,t){return e[ce].data[t].pure}(p,c)?yD(p,ge(),t,y.transform,r,y):y.transform(r)}function IM(){return this._results[Symbol.iterator]()}class w0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ad)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=w0.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=IM)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const c=function Us(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function vu(e,t,r){if(e.length!==t.length)return!1;for(let c=0;c<e.length;c++){let p=e[c],y=t[c];if(r&&(p=r(p),y=r(y)),y!==p)return!1}return!0}(this._results,c,r))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let by=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=OM}return e})();const AM=by,kM=class extends AM{constructor(t,r,c){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,c){const p=Mp(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:c});return new gp(p)}};function OM(){return C0(f(),Bt())}function C0(e,t){return 4&e.type?new kM(t,e,Gh(e,t)):null}class EC{constructor(t){this.queryList=t,this.matches=null}clone(){return new EC(this.queryList)}setDirty(){this.queryList.setDirty()}}class DC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const c=null!==t.contentQueries?t.contentQueries[0]:r.length,p=[];for(let y=0;y<c;y++){const M=r.getByIndex(y);p.push(this.queries[M.indexInDeclarationView].clone())}return new DC(p)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==PD(t,r).matches&&this.queries[r].setDirty()}}class DD{constructor(t,r,c=null){this.predicate=t,this.flags=r,this.read=c}}class SC{constructor(t=[]){this.queries=t}elementStart(t,r){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let c=0;c<this.length;c++){const p=null!==r?r.length:0,y=this.getByIndex(c).embeddedTView(t,p);y&&(y.indexInDeclarationView=c,null!==r?r.push(y):r=[y])}return null!==r?new SC(r):null}template(t,r){for(let c=0;c<this.queries.length;c++)this.queries[c].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class MC{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new MC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let c=t.parent;for(;null!==c&&8&c.type&&c.index!==r;)c=c.parent;return r===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const y=c[p];this.matchTNodeWithReadOption(t,r,PM(r,y)),this.matchTNodeWithReadOption(t,r,tc(r,t,y,!1,!1))}else c===by?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,tc(r,t,c,!1,!1))}matchTNodeWithReadOption(t,r,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===dp||p===Xf||p===by&&4&r.type)this.addMatch(r.index,-2);else{const y=tc(r,t,p,!1,!1);null!==y&&this.addMatch(r.index,y)}else this.addMatch(r.index,c)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function PM(e,t){const r=e.localNames;if(null!==r)for(let c=0;c<r.length;c+=2)if(r[c]===t)return r[c+1];return null}function FM(e,t,r,c){return-1===r?function RM(e,t){return 11&e.type?Gh(e,t):4&e.type?C0(e,t):null}(t,e):-2===r?function LM(e,t,r){return r===dp?Gh(t,e):r===by?C0(t,e):r===Xf?_b(t,e):void 0}(e,t,c):wc(e,e[ce],r,t)}function SD(e,t,r,c){const p=t[Oo].queries[c];if(null===p.matches){const y=e.data,M=r.matches,A=[];for(let z=0;z<M.length;z+=2){const ie=M[z];A.push(ie<0?null:FM(t,y[ie],M[z+1],r.metadata.read))}p.matches=A}return p.matches}function TC(e,t,r,c){const p=e.queries.getByIndex(r),y=p.matches;if(null!==y){const M=SD(e,t,p,r);for(let A=0;A<y.length;A+=2){const z=y[A];if(z>0)c.push(M[A/2]);else{const ie=y[A+1],ue=t[-z];for(let Te=Or;Te<ue.length;Te++){const ut=ue[Te];ut[ta]===ut[mi]&&TC(ut[ce],ut,ie,c)}if(null!==ue[Co]){const Te=ue[Co];for(let ut=0;ut<Te.length;ut++){const yt=Te[ut];TC(yt[ce],yt,ie,c)}}}}}return c}function MD(e){const t=Bt(),r=w(),c=$();se(c+1);const p=PD(r,c);if(e.dirty&&function fu(e){return 4==(4&e[He])}(t)===(2==(2&p.metadata.flags))){if(null===p.matches)e.reset([]);else{const y=p.crossesNgTemplate?TC(r,t,c,[]):SD(r,t,p,c);e.reset(y,U0),e.notifyOnChanges()}return!0}return!1}function TD(e,t,r){const c=w();c.firstCreatePass&&(OD(c,new DD(e,t,r),-1),2==(2&t)&&(c.staticViewQueries=!0)),kD(c,Bt(),t)}function ID(e,t,r,c){const p=w();if(p.firstCreatePass){const y=f();OD(p,new DD(t,r,c),y.index),function zM(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(p,e),2==(2&r)&&(p.staticContentQueries=!0)}kD(p,Bt(),r)}function AD(){return function NM(e,t){return e[Oo].queries[t].queryList}(Bt(),$())}function kD(e,t,r){const c=new w0(4==(4&r));(function ux(e,t,r,c){const p=pp(t);p.push(r),e.firstCreatePass&&y_(e).push(c,p.length-1)})(e,t,c,c.destroy),null===t[Oo]&&(t[Oo]=new DC),t[Oo].queries.push(new EC(c))}function OD(e,t,r){null===e.queries&&(e.queries=new SC),e.queries.track(new MC(t,r))}function PD(e,t){return e.queries.getByIndex(t)}function RD(e,t){return C0(e,t)}const KD=new mn("Application Initializer");let PC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,c)=>{this.resolve=r,this.reject=c}),this.appInits=jn(KD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const p of this.appInits){const y=p();if(ms(y))r.push(y);else if(cl(y)){const M=new Promise((A,z)=>{y.subscribe({complete:A,error:z})});r.push(M)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{c()}).catch(p=>{this.reject(p)}),0===r.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),XD=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const D0=new mn("LocaleId",{providedIn:"root",factory:()=>jn(D0,Bi.Optional|Bi.SkipSelf)||function sT(){return typeof $localize<"u"&&$localize.locale||Qu}()}),aT=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let JD=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new li.X(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class hT{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let mT=(()=>{class e{compileModuleSync(r){return new wC(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const c=this.compileModuleSync(r),y=Ba(kn(r).declarations).reduce((M,A)=>{const z=en(A);return z&&M.push(new yp(z)),M},[]);return new hT(c,y)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rS=new mn(""),oS=new mn("");let FC,zT=(()=>{class e{constructor(r,c,p){this._ngZone=r,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FC||(function BT(e){FC=e}(p),p.addToWindow(c)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{As.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(r)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,c,p){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==y),r(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:r,timeoutId:y,updateCb:p})}whenStable(r,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,c,p){return[]}static#e=this.\u0275fac=function(c){return new(c||e)(yr(As),yr(sS),yr(oS))};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac})}return e})(),sS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,c){this._applications.set(r,c)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,c=!0){return FC?.findTestabilityInTree(this,r,c)??null}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),bm=null;const aS=new mn("AllowMultipleToken"),LC=new mn("PlatformDestroyListeners"),NC=new mn("appBootstrapListener");function dS(e,t,r=[]){const c=`Platform: ${t}`,p=new mn(c);return(y=[])=>{let M=zC();if(!M||M.injector.get(aS,!1)){const A=[...r,...y,{provide:p,useValue:!0}];e?e(A):function jT(e){if(bm&&!bm.get(aS,!1))throw new $t(400,!1);(function lS(){!function Bn(e){Fn=e}(()=>{throw new $t(600,!1)})})(),bm=e;const t=e.get(hS);(function cS(e){e.get(pf,null)?.forEach(r=>r())})(e)}(function uS(e=[],t){return rl.create({name:t,providers:[{provide:Lm,useValue:"platform"},{provide:LC,useValue:new Set([()=>bm=null])},...e]})}(A,c))}return function $T(e){const t=zC();if(!t)throw new $t(401,!1);return t}()}}function zC(){return bm?.get(hS)??null}let hS=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,c){const p=function GT(e="zone.js",t){return"noop"===e?new Gx:"zone.js"===e?new As(t):e}(c?.ngZone,function mS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return p.run(()=>{const y=function aM(e,t,r){return new xC(e,t,r)}(r.moduleType,this.injector,function yS(e){return[{provide:As,useFactory:e},{provide:Na,multi:!0,useFactory:()=>{const t=jn(WT,{optional:!0});return()=>t.initialize()}},{provide:_S,useFactory:ZT},{provide:vv,useFactory:bv}]}(()=>p)),M=y.injector.get(ou,null);return p.runOutsideAngular(()=>{const A=p.onError.subscribe({next:z=>{M.handleError(z)}});y.onDestroy(()=>{M0(this._modules,y),A.unsubscribe()})}),function pS(e,t,r){try{const c=r();return ms(c)?c.catch(p=>{throw t.runOutsideAngular(()=>e.handleError(p)),p}):c}catch(c){throw t.runOutsideAngular(()=>e.handleError(c)),c}}(M,p,()=>{const A=y.injector.get(PC);return A.runInitializers(),A.donePromise.then(()=>(function e0(e){wn(e,"Expected localeId to be defined"),"string"==typeof e&&(Jb=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(D0,Qu)||Qu),this._moduleDoBootstrap(y),y))})})}bootstrapModule(r,c=[]){const p=fS({},c);return function VT(e,t,r){const c=new wC(r);return Promise.resolve(c)}(0,0,r).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(r){const c=r.injector.get(yg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!r.instance.ngDoBootstrap)throw new $t(-403,!1);r.instance.ngDoBootstrap(c)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $t(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const r=this._injector.get(LC,null);r&&(r.forEach(c=>c()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||e)(yr(rl))};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function fS(e,t){return Array.isArray(t)?t.reduce(fS,e):{...e,...t}}let yg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jn(_S),this.zoneIsStable=jn(vv),this.componentTypes=[],this.components=[],this.isStable=jn(JD).hasPendingTasks.pipe((0,Mn.w)(r=>r?(0,xt.of)(!1):this.zoneIsStable),(0,rn.x)(),(0,pn.B)()),this._injector=jn(Nl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,c){const p=r instanceof Ly;if(!this._injector.get(PC).done)throw!p&&wo(r),new $t(405,!1);let M;M=p?r:this._injector.get(cp).resolveComponentFactory(r),this.componentTypes.push(M.componentType);const A=function UT(e){return e.isBoundToModule}(M)?void 0:this._injector.get(Bp),ie=M.create(rl.NULL,[],c||M.selector,A),ue=ie.location.nativeElement,Te=ie.injector.get(rS,null);return Te?.registerApplication(ue),ie.onDestroy(()=>{this.detachView(ie.hostView),M0(this.components,ie),Te?.unregisterApplication(ue)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new $t(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const c=r;this._views.push(c),c.attachToAppRef(this)}detachView(r){const c=r;M0(this._views,c),c.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const c=this._injector.get(NC,[]);[...this._bootstrapListeners,...c].forEach(p=>p(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>M0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $t(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const _S=new mn("",{providedIn:"root",factory:()=>jn(ou).handleError.bind(void 0)});function ZT(){const e=jn(As),t=jn(ou);return r=>e.runOutsideAngular(()=>t.handleError(r))}let WT=(()=>{class e{constructor(){this.zone=jn(As),this.applicationRef=jn(yg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||e)};static#t=this.\u0275prov=ir({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KT(){}const tI=dS(null,"core",[]);let iI=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(c){return new(c||e)(yr(yg))};static#t=this.\u0275mod=zs({type:e});static#i=this.\u0275inj=It({})}return e})();function CI(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function EI(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}function SI(e){const t=en(e);if(!t)return null;const r=new yp(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},6223:(xi,Et,U)=>{"use strict";U.d(Et,{Cf:()=>Zt,F:()=>ln,Fj:()=>Ye,JJ:()=>xt,JU:()=>nt,On:()=>Zl,Zs:()=>Wa,a5:()=>Qi,kI:()=>Pi,sg:()=>mo,u5:()=>Ka});var C=U(9212),l=U(6814),me=U(7715),g=U(9315),Ve=U(7398);let le=(()=>{class ae{constructor(H,ce){this._renderer=H,this._elementRef=ce,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(H,ce){this._renderer.setProperty(this._elementRef.nativeElement,H,ce)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(C.Qsj),C.Y36(C.SBq))};static#t=this.\u0275dir=C.lG2({type:ae})}return ae})(),Ze=(()=>{class ae extends le{static#e=this.\u0275fac=(()=>{let H;return function(He){return(H||(H=C.n5z(ae)))(He||ae)}})();static#t=this.\u0275dir=C.lG2({type:ae,features:[C.qOj]})}return ae})();const nt=new C.OlP("NgValueAccessor"),at={provide:nt,useExisting:(0,C.Gpc)(()=>Ye),multi:!0},ot=new C.OlP("CompositionEventMode");let Ye=(()=>{class ae extends le{constructor(H,ce,He){super(H,ce),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Je(){const ae=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(ae.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(ot,8))};static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,He){1&ce&&C.NdJ("input",function(_n){return He._handleInput(_n.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(_n){return He._compositionEnd(_n.target.value)})},features:[C._Bn([at]),C.qOj]})}return ae})();function pt(ae){return null==ae||("string"==typeof ae||Array.isArray(ae))&&0===ae.length}function Xt(ae){return null!=ae&&"number"==typeof ae.length}const Zt=new C.OlP("NgValidators"),ri=new C.OlP("NgAsyncValidators"),ki=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pi{static min(oe){return function jt(ae){return oe=>{if(pt(oe.value)||pt(ae))return null;const H=parseFloat(oe.value);return!isNaN(H)&&H<ae?{min:{min:ae,actual:oe.value}}:null}}(oe)}static max(oe){return function rt(ae){return oe=>{if(pt(oe.value)||pt(ae))return null;const H=parseFloat(oe.value);return!isNaN(H)&&H>ae?{max:{max:ae,actual:oe.value}}:null}}(oe)}static required(oe){return ht(oe)}static requiredTrue(oe){return ei(oe)}static email(oe){return function Nt(ae){return pt(ae.value)||ki.test(ae.value)?null:{email:!0}}(oe)}static minLength(oe){return function Dt(ae){return oe=>pt(oe.value)||!Xt(oe.value)?null:oe.value.length<ae?{minlength:{requiredLength:ae,actualLength:oe.value.length}}:null}(oe)}static maxLength(oe){return function _t(ae){return oe=>Xt(oe.value)&&oe.value.length>ae?{maxlength:{requiredLength:ae,actualLength:oe.value.length}}:null}(oe)}static pattern(oe){return function Qt(ae){if(!ae)return Ri;let oe,H;return"string"==typeof ae?(H="","^"!==ae.charAt(0)&&(H+="^"),H+=ae,"$"!==ae.charAt(ae.length-1)&&(H+="$"),oe=new RegExp(H)):(H=ae.toString(),oe=ae),ce=>{if(pt(ce.value))return null;const He=ce.value;return oe.test(He)?null:{pattern:{requiredPattern:H,actualValue:He}}}}(oe)}static nullValidator(oe){return null}static compose(oe){return Xe(oe)}static composeAsync(oe){return Ot(oe)}}function ht(ae){return pt(ae.value)?{required:!0}:null}function ei(ae){return!0===ae.value?null:{required:!0}}function Ri(ae){return null}function Fi(ae){return null!=ae}function En(ae){return(0,C.QGY)(ae)?(0,me.D)(ae):ae}function Fn(ae){let oe={};return ae.forEach(H=>{oe=null!=H?{...oe,...H}:oe}),0===Object.keys(oe).length?null:oe}function Li(ae,oe){return oe.map(H=>H(ae))}function _i(ae){return ae.map(oe=>function Bn(ae){return!ae.validate}(oe)?oe:H=>oe.validate(H))}function Xe(ae){if(!ae)return null;const oe=ae.filter(Fi);return 0==oe.length?null:function(H){return Fn(Li(H,oe))}}function Ke(ae){return null!=ae?Xe(_i(ae)):null}function Ot(ae){if(!ae)return null;const oe=ae.filter(Fi);return 0==oe.length?null:function(H){const ce=Li(H,oe).map(En);return(0,g.D)(ce).pipe((0,Ve.U)(Fn))}}function Lt(ae){return null!=ae?Ot(_i(ae)):null}function ai(ae,oe){return null===ae?[oe]:Array.isArray(ae)?[...ae,oe]:[ae,oe]}function At(ae){return ae._rawValidators}function Ei(ae){return ae._rawAsyncValidators}function ft(ae){return ae?Array.isArray(ae)?ae:[ae]:[]}function vt(ae,oe){return Array.isArray(ae)?ae.includes(oe):ae===oe}function kt(ae,oe){const H=ft(oe);return ft(ae).forEach(He=>{vt(H,He)||H.push(He)}),H}function hi(ae,oe){return ft(oe).filter(H=>!vt(ae,H))}class yi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(oe){this._rawValidators=oe||[],this._composedValidatorFn=Ke(this._rawValidators)}_setAsyncValidators(oe){this._rawAsyncValidators=oe||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(oe){this._onDestroyCallbacks.push(oe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(oe=>oe()),this._onDestroyCallbacks=[]}reset(oe=void 0){this.control&&this.control.reset(oe)}hasError(oe,H){return!!this.control&&this.control.hasError(oe,H)}getError(oe,H){return this.control?this.control.getError(oe,H):null}}class si extends yi{get formDirective(){return null}get path(){return null}}class Qi extends yi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lt{constructor(oe){this._cd=oe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xt=(()=>{class ae extends lt{constructor(H){super(H)}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(Qi,2))};static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,He){2&ce&&C.ekj("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[C.qOj]})}return ae})();const Ci="VALID",dn="INVALID",Dn="PENDING",Tt="DISABLED";function Zi(ae){return(ve(ae)?ae.validators:ae)||null}function q(ae,oe){return(ve(oe)?oe.asyncValidators:ae)||null}function ve(ae){return null!=ae&&!Array.isArray(ae)&&"object"==typeof ae}class De{constructor(oe,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(oe),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(oe){this._rawValidators=this._composedValidatorFn=oe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(oe){this._rawAsyncValidators=this._composedAsyncValidatorFn=oe}get parent(){return this._parent}get valid(){return this.status===Ci}get invalid(){return this.status===dn}get pending(){return this.status==Dn}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(oe){this._assignValidators(oe)}setAsyncValidators(oe){this._assignAsyncValidators(oe)}addValidators(oe){this.setValidators(kt(oe,this._rawValidators))}addAsyncValidators(oe){this.setAsyncValidators(kt(oe,this._rawAsyncValidators))}removeValidators(oe){this.setValidators(hi(oe,this._rawValidators))}removeAsyncValidators(oe){this.setAsyncValidators(hi(oe,this._rawAsyncValidators))}hasValidator(oe){return vt(this._rawValidators,oe)}hasAsyncValidator(oe){return vt(this._rawAsyncValidators,oe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(oe={}){this.touched=!0,this._parent&&!oe.onlySelf&&this._parent.markAsTouched(oe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(oe=>oe.markAllAsTouched())}markAsUntouched(oe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}markAsDirty(oe={}){this.pristine=!1,this._parent&&!oe.onlySelf&&this._parent.markAsDirty(oe)}markAsPristine(oe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}markAsPending(oe={}){this.status=Dn,!1!==oe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!oe.onlySelf&&this._parent.markAsPending(oe)}disable(oe={}){const H=this._parentMarkedDirty(oe.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(ce=>{ce.disable({...oe,onlySelf:!0})}),this._updateValue(),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...oe,skipPristineCheck:H}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(oe={}){const H=this._parentMarkedDirty(oe.onlySelf);this.status=Ci,this._forEachChild(ce=>{ce.enable({...oe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent}),this._updateAncestors({...oe,skipPristineCheck:H}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(oe){this._parent&&!oe.onlySelf&&(this._parent.updateValueAndValidity(oe),oe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(oe){this._parent=oe}getRawValue(){return this.value}updateValueAndValidity(oe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ci||this.status===Dn)&&this._runAsyncValidator(oe.emitEvent)),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!oe.onlySelf&&this._parent.updateValueAndValidity(oe)}_updateTreeValidity(oe={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(oe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:Ci}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(oe){if(this.asyncValidator){this.status=Dn,this._hasOwnPendingAsyncValidator=!0;const H=En(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:oe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(oe,H={}){this.errors=oe,this._updateControlsErrors(!1!==H.emitEvent)}get(oe){let H=oe;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((ce,He)=>ce&&ce._find(He),this)}getError(oe,H){const ce=H?this.get(H):this;return ce&&ce.errors?ce.errors[oe]:null}hasError(oe,H){return!!this.getError(oe,H)}get root(){let oe=this;for(;oe._parent;)oe=oe._parent;return oe}_updateControlsErrors(oe){this.status=this._calculateStatus(),oe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(oe)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dn)?Dn:this._anyControlsHaveStatus(dn)?dn:Ci}_anyControlsHaveStatus(oe){return this._anyControls(H=>H.status===oe)}_anyControlsDirty(){return this._anyControls(oe=>oe.dirty)}_anyControlsTouched(){return this._anyControls(oe=>oe.touched)}_updatePristine(oe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}_updateTouched(oe={}){this.touched=this._anyControlsTouched(),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}_registerOnCollectionChange(oe){this._onCollectionChange=oe}_setUpdateStrategy(oe){ve(oe)&&null!=oe.updateOn&&(this._updateOn=oe.updateOn)}_parentMarkedDirty(oe){return!oe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(oe){return null}_assignValidators(oe){this._rawValidators=Array.isArray(oe)?oe.slice():oe,this._composedValidatorFn=function de(ae){return Array.isArray(ae)?Ke(ae):ae||null}(this._rawValidators)}_assignAsyncValidators(oe){this._rawAsyncValidators=Array.isArray(oe)?oe.slice():oe,this._composedAsyncValidatorFn=function Q(ae){return Array.isArray(ae)?Lt(ae):ae||null}(this._rawAsyncValidators)}}class G extends De{constructor(oe,H,ce){super(Zi(H),q(ce,H)),this.controls=oe,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(oe,H){return this.controls[oe]?this.controls[oe]:(this.controls[oe]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(oe,H,ce={}){this.registerControl(oe,H),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(oe,H={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(oe,H,ce={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],H&&this.registerControl(oe,H),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(oe){return this.controls.hasOwnProperty(oe)&&this.controls[oe].enabled}setValue(oe,H={}){(function ye(ae,oe,H){ae._forEachChild((ce,He)=>{if(void 0===H[He])throw new C.vHH(1002,"")})})(this,0,oe),Object.keys(oe).forEach(ce=>{(function Oe(ae,oe,H){const ce=ae.controls;if(!(oe?Object.keys(ce):ce).length)throw new C.vHH(1e3,"");if(!ce[H])throw new C.vHH(1001,"")})(this,!0,ce),this.controls[ce].setValue(oe[ce],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(oe,H={}){null!=oe&&(Object.keys(oe).forEach(ce=>{const He=this.controls[ce];He&&He.patchValue(oe[ce],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(oe={},H={}){this._forEachChild((ce,He)=>{ce.reset(oe?oe[He]:null,{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(oe,H,ce)=>(oe[ce]=H.getRawValue(),oe))}_syncPendingControls(){let oe=this._reduceChildren(!1,(H,ce)=>!!ce._syncPendingControls()||H);return oe&&this.updateValueAndValidity({onlySelf:!0}),oe}_forEachChild(oe){Object.keys(this.controls).forEach(H=>{const ce=this.controls[H];ce&&oe(ce,H)})}_setUpControls(){this._forEachChild(oe=>{oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(oe){for(const[H,ce]of Object.entries(this.controls))if(this.contains(H)&&oe(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,ce,He)=>((ce.enabled||this.disabled)&&(H[He]=ce.value),H))}_reduceChildren(oe,H){let ce=oe;return this._forEachChild((He,mi)=>{ce=H(ce,He,mi)}),ce}_allControlsDisabled(){for(const oe of Object.keys(this.controls))if(this.controls[oe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(oe){return this.controls.hasOwnProperty(oe)?this.controls[oe]:null}}const Be=new C.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ue}),Ue="always";function Ae(ae,oe,H=Ue){Ui(ae,oe),oe.valueAccessor.writeValue(ae.value),(ae.disabled||"always"===H)&&oe.valueAccessor.setDisabledState?.(ae.disabled),function wn(ae,oe){oe.valueAccessor.registerOnChange(H=>{ae._pendingValue=H,ae._pendingChange=!0,ae._pendingDirty=!0,"change"===ae.updateOn&&hr(ae,oe)})}(ae,oe),function Nr(ae,oe){const H=(ce,He)=>{oe.valueAccessor.writeValue(ce),He&&oe.viewToModelUpdate(ce)};ae.registerOnChange(H),oe._registerOnDestroy(()=>{ae._unregisterOnChange(H)})}(ae,oe),function Si(ae,oe){oe.valueAccessor.registerOnTouched(()=>{ae._pendingTouched=!0,"blur"===ae.updateOn&&ae._pendingChange&&hr(ae,oe),"submit"!==ae.updateOn&&ae.markAsTouched()})}(ae,oe),function fi(ae,oe){if(oe.valueAccessor.setDisabledState){const H=ce=>{oe.valueAccessor.setDisabledState(ce)};ae.registerOnDisabledChange(H),oe._registerOnDestroy(()=>{ae._unregisterOnDisabledChange(H)})}}(ae,oe)}function ct(ae,oe,H=!0){const ce=()=>{};oe.valueAccessor&&(oe.valueAccessor.registerOnChange(ce),oe.valueAccessor.registerOnTouched(ce)),Yi(ae,oe),ae&&(oe._invokeOnDestroyCallbacks(),ae._registerOnCollectionChange(()=>{}))}function Ht(ae,oe){ae.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(oe)})}function Ui(ae,oe){const H=At(ae);null!==oe.validator?ae.setValidators(ai(H,oe.validator)):"function"==typeof H&&ae.setValidators([H]);const ce=Ei(ae);null!==oe.asyncValidator?ae.setAsyncValidators(ai(ce,oe.asyncValidator)):"function"==typeof ce&&ae.setAsyncValidators([ce]);const He=()=>ae.updateValueAndValidity();Ht(oe._rawValidators,He),Ht(oe._rawAsyncValidators,He)}function Yi(ae,oe){let H=!1;if(null!==ae){if(null!==oe.validator){const He=At(ae);if(Array.isArray(He)&&He.length>0){const mi=He.filter(_n=>_n!==oe.validator);mi.length!==He.length&&(H=!0,ae.setValidators(mi))}}if(null!==oe.asyncValidator){const He=Ei(ae);if(Array.isArray(He)&&He.length>0){const mi=He.filter(_n=>_n!==oe.asyncValidator);mi.length!==He.length&&(H=!0,ae.setAsyncValidators(mi))}}}const ce=()=>{};return Ht(oe._rawValidators,ce),Ht(oe._rawAsyncValidators,ce),H}function hr(ae,oe){ae._pendingDirty&&ae.markAsDirty(),ae.setValue(ae._pendingValue,{emitModelToViewChange:!1}),oe.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1}function uo(ae,oe){Ui(ae,oe)}function ui(ae,oe){ae._syncPendingControls(),oe.forEach(H=>{const ce=H.control;"submit"===ce.updateOn&&ce._pendingChange&&(H.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}const ar={provide:si,useExisting:(0,C.Gpc)(()=>ln)},Bi=(()=>Promise.resolve())();let ln=(()=>{class ae extends si{constructor(H,ce,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new G({},Ke(H),Lt(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){Bi.then(()=>{const ce=this._findContainer(H.path);H.control=ce.registerControl(H.name,H.control),Ae(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){Bi.then(()=>{const ce=this._findContainer(H.path);ce&&ce.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){Bi.then(()=>{const ce=this._findContainer(H.path),He=new G({});uo(He,H),ce.registerControl(H.name,He),He.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){Bi.then(()=>{const ce=this._findContainer(H.path);ce&&ce.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,ce){Bi.then(()=>{this.form.get(H.path).setValue(ce)})}setValue(H){this.control.setValue(H)}onSubmit(H){return this.submitted=!0,ui(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(Zt,10),C.Y36(ri,10),C.Y36(Be,8))};static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,He){1&ce&&C.NdJ("submit",function(_n){return He.onSubmit(_n)})("reset",function(){return He.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([ar]),C.qOj]})}return ae})();function cn(ae,oe){const H=ae.indexOf(oe);H>-1&&ae.splice(H,1)}function Un(ae){return"object"==typeof ae&&null!==ae&&2===Object.keys(ae).length&&"value"in ae&&"disabled"in ae}const bn=class extends De{constructor(oe=null,H,ce){super(Zi(H),q(ce,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(oe),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ve(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=Un(oe)?oe.value:oe)}setValue(oe,H={}){this.value=this._pendingValue=oe,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(oe,H={}){this.setValue(oe,H)}reset(oe=this.defaultValue,H={}){this._applyFormState(oe),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(oe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(oe){this._onChange.push(oe)}_unregisterOnChange(oe){cn(this._onChange,oe)}registerOnDisabledChange(oe){this._onDisabledChange.push(oe)}_unregisterOnDisabledChange(oe){cn(this._onDisabledChange,oe)}_forEachChild(oe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(oe){Un(oe)?(this.value=this._pendingValue=oe.value,oe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=oe}},ha={provide:Qi,useExisting:(0,C.Gpc)(()=>Zl)},Rs=(()=>Promise.resolve())();let Zl=(()=>{class ae extends Qi{constructor(H,ce,He,mi,_n,nr){super(),this._changeDetectorRef=_n,this.callSetDisabledState=nr,this.control=new bn,this._registered=!1,this.name="",this.update=new C.vpe,this._parent=H,this._setValidators(ce),this._setAsyncValidators(He),this.valueAccessor=function Di(ae,oe){if(!oe)return null;let H,ce,He;return Array.isArray(oe),oe.forEach(mi=>{mi.constructor===Ye?H=mi:function Kt(ae){return Object.getPrototypeOf(ae.constructor)===Ze}(mi)?ce=mi:He=mi}),He||ce||H||null}(0,mi)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const ce=H.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),function Gt(ae,oe){if(!ae.hasOwnProperty("model"))return!1;const H=ae.model;return!!H.isFirstChange()||!Object.is(oe,H.currentValue)}(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ae(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){Rs.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(H){const ce=H.isDisabled.currentValue,He=0!==ce&&(0,C.VuI)(ce);Rs.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(H){return this._parent?function _e(ae,oe){return[...oe.path,ae]}(H,this._parent):[H]}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(si,9),C.Y36(Zt,10),C.Y36(ri,10),C.Y36(nt,10),C.Y36(C.sBO,8),C.Y36(Be,8))};static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([ha]),C.qOj,C.TTD]})}return ae})(),Sa=(()=>{class ae{static#e=this.\u0275fac=function(ce){return new(ce||ae)};static#t=this.\u0275mod=C.oAB({type:ae});static#i=this.\u0275inj=C.cJS({})}return ae})();const Vo={provide:si,useExisting:(0,C.Gpc)(()=>mo)};let mo=(()=>{class ae extends si{constructor(H,ce,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(H),this._setAsyncValidators(ce)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const ce=this.form.get(H.path);return Ae(ce,H,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),ce}getControl(H){return this.form.get(H.path)}removeControl(H){ct(H.control||null,H,!1),function hn(ae,oe){const H=ae.indexOf(oe);H>-1&&ae.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,ce){this.form.get(H.path).setValue(ce)}onSubmit(H){return this.submitted=!0,ui(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const ce=H.control,He=this.form.get(H.path);ce!==He&&(ct(ce||null,H),(ae=>ae instanceof bn)(He)&&(Ae(He,H,this.callSetDisabledState),H.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const ce=this.form.get(H.path);uo(ce,H),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const ce=this.form.get(H.path);ce&&function Ea(ae,oe){return Yi(ae,oe)}(ce,H)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ui(this.form,this),this._oldForm&&Yi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ce){return new(ce||ae)(C.Y36(Zt,10),C.Y36(ri,10),C.Y36(Be,8))};static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["","formGroup",""]],hostBindings:function(ce,He){1&ce&&C.NdJ("submit",function(_n){return He.onSubmit(_n)})("reset",function(){return He.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([Vo]),C.qOj,C.TTD]})}return ae})(),Xs=(()=>{class ae{constructor(){this._validator=Ri}ngOnChanges(H){if(this.inputName in H){const ce=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):Ri,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}static#e=this.\u0275fac=function(ce){return new(ce||ae)};static#t=this.\u0275dir=C.lG2({type:ae,features:[C.TTD]})}return ae})();const ys={provide:Zt,useExisting:(0,C.Gpc)(()=>hl),multi:!0},Uc={provide:Zt,useExisting:(0,C.Gpc)(()=>Wa),multi:!0};let hl=(()=>{class ae extends Xs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C.VuI,this.createValidator=H=>ht}enabled(H){return H}static#e=this.\u0275fac=(()=>{let H;return function(He){return(H||(H=C.n5z(ae)))(He||ae)}})();static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,He){2&ce&&C.uIk("required",He._enabled?"":null)},inputs:{required:"required"},features:[C._Bn([ys]),C.qOj]})}return ae})(),Wa=(()=>{class ae extends hl{constructor(){super(...arguments),this.createValidator=H=>ei}static#e=this.\u0275fac=(()=>{let H;return function(He){return(H||(H=C.n5z(ae)))(He||ae)}})();static#t=this.\u0275dir=C.lG2({type:ae,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ce,He){2&ce&&C.uIk("required",He._enabled?"":null)},features:[C._Bn([Uc]),C.qOj]})}return ae})(),qa=(()=>{class ae{static#e=this.\u0275fac=function(ce){return new(ce||ae)};static#t=this.\u0275mod=C.oAB({type:ae});static#i=this.\u0275inj=C.cJS({imports:[Sa]})}return ae})(),Ka=(()=>{class ae{static withConfig(H){return{ngModule:ae,providers:[{provide:Be,useValue:H.callSetDisabledState??Ue}]}}static#e=this.\u0275fac=function(ce){return new(ce||ae)};static#t=this.\u0275mod=C.oAB({type:ae});static#i=this.\u0275inj=C.cJS({imports:[qa]})}return ae})()},2296:(xi,Et,U)=>{"use strict";U.d(Et,{RK:()=>Fi,cs:()=>Dt,lW:()=>jt,o6:()=>En,ot:()=>Fn,zs:()=>rt});var C=U(2831),l=U(9212),me=U(7849),g=U(3680);const Ve=["mat-button",""],le=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ze=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ie=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",it=["mat-fab",""],ot=["mat-icon-button",""],Ye=["*"],Zt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ri=(()=>{class Li{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(_i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,_i)}get disableRipple(){return this._disableRipple}set disableRipple(_i){this._disableRipple=_i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(_i){this._disabled=_i,this._updateRippleDisabled()}constructor(_i,Xe,Ke,Ot){this._elementRef=_i,this._platform=Xe,this._ngZone=Ke,this._animationMode=Ot,this._focusMonitor=(0,l.f3M)(me.tE),this._rippleLoader=(0,l.f3M)(g.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Lt=this._elementRef.nativeElement,ai=Lt.classList;for(const{attribute:At,mdcClasses:Ei}of Zt)Lt.hasAttribute(At)&&ai.add(...Ei)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(_i="program",Xe){_i?this._focusMonitor.focusVia(this._elementRef.nativeElement,_i,Xe):this._elementRef.nativeElement.focus(Xe)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(Xe){l.$Z()};static#t=this.\u0275dir=l.lG2({type:Li,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",l.VuI],disabled:["disabled","disabled",l.VuI]},features:[l.Xq5]})}return Li})(),Pi=(()=>{class Li extends ri{constructor(_i,Xe,Ke,Ot){super(_i,Xe,Ke,Ot),this._haltDisabledEvents=Lt=>{this.disabled&&(Lt.preventDefault(),Lt.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(Xe){l.$Z()};static#t=this.\u0275dir=l.lG2({type:Li,inputs:{tabIndex:["tabIndex","tabIndex",_i=>null==_i?void 0:(0,l.Cb_)(_i)]},features:[l.Xq5,l.qOj]})}return Li})(),jt=(()=>{class Li extends ri{constructor(_i,Xe,Ke,Ot){super(_i,Xe,Ke,Ot)}static#e=this.\u0275fac=function(Xe){return new(Xe||Li)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:Li,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(Xe,Ke){2&Xe&&(l.uIk("disabled",Ke.disabled||null),l.Tol(Ke.color?"mat-"+Ke.color:""),l.ekj("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)("mat-unthemed",!Ke.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[l.qOj],attrs:Ve,ngContentSelectors:Ze,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,Ke){1&Xe&&(l.F$t(le),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Xe&&l.ekj("mdc-button__ripple",!Ke._isFab)("mdc-fab__ripple",Ke._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Li})(),rt=(()=>{class Li extends Pi{constructor(_i,Xe,Ke,Ot){super(_i,Xe,Ke,Ot)}static#e=this.\u0275fac=function(Xe){return new(Xe||Li)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:Li,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:11,hostBindings:function(Xe,Ke){2&Xe&&(l.uIk("disabled",Ke.disabled||null)("tabindex",Ke.disabled?-1:Ke.tabIndex)("aria-disabled",Ke.disabled.toString()),l.Tol(Ke.color?"mat-"+Ke.color:""),l.ekj("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)("mat-unthemed",!Ke.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:Ve,ngContentSelectors:Ze,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,Ke){1&Xe&&(l.F$t(le),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Xe&&l.ekj("mdc-button__ripple",!Ke._isFab)("mdc-fab__ripple",Ke._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Ie],encapsulation:2,changeDetection:0})}return Li})();const ht=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:ei});function ei(){return{color:"accent"}}const Nt=ei();let Dt=(()=>{class Li extends ri{constructor(_i,Xe,Ke,Ot,Lt){super(_i,Xe,Ke,Ot),this._options=Lt,this._isFab=!0,this._options=this._options||Nt,this.color=this._options.color||Nt.color}static#e=this.\u0275fac=function(Xe){return new(Xe||Li)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(ht,8))};static#t=this.\u0275cmp=l.Xpm({type:Li,selectors:[["button","mat-fab",""]],hostVars:13,hostBindings:function(Xe,Ke){2&Xe&&(l.uIk("disabled",Ke.disabled||null),l.Tol(Ke.color?"mat-"+Ke.color:""),l.ekj("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)("mat-unthemed",!Ke.color)("mat-mdc-button-base",!0)("mdc-fab--extended",Ke.extended)("mat-mdc-extended-fab",Ke.extended))},inputs:{extended:["extended","extended",l.VuI]},exportAs:["matButton"],features:[l.Xq5,l.qOj],attrs:it,ngContentSelectors:Ze,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,Ke){1&Xe&&(l.F$t(le),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Xe&&l.ekj("mdc-button__ripple",!Ke._isFab)("mdc-fab__ripple",Ke._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);flex-shrink:0;color:var(--mat-fab-foreground-color, inherit)}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return Li})(),Fi=(()=>{class Li extends ri{constructor(_i,Xe,Ke,Ot){super(_i,Xe,Ke,Ot),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(Xe){return new(Xe||Li)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:Li,selectors:[["button","mat-icon-button",""]],hostVars:9,hostBindings:function(Xe,Ke){2&Xe&&(l.uIk("disabled",Ke.disabled||null),l.Tol(Ke.color?"mat-"+Ke.color:""),l.ekj("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)("mat-unthemed",!Ke.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[l.qOj],attrs:ot,ngContentSelectors:Ye,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,Ke){1&Xe&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Ie],encapsulation:2,changeDetection:0})}return Li})(),En=(()=>{class Li extends Pi{constructor(_i,Xe,Ke,Ot){super(_i,Xe,Ke,Ot)}static#e=this.\u0275fac=function(Xe){return new(Xe||Li)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:Li,selectors:[["a","mat-icon-button",""]],hostVars:11,hostBindings:function(Xe,Ke){2&Xe&&(l.uIk("disabled",Ke.disabled||null)("tabindex",Ke.disabled?-1:Ke.tabIndex)("aria-disabled",Ke.disabled.toString()),l.Tol(Ke.color?"mat-"+Ke.color:""),l.ekj("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)("mat-unthemed",!Ke.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:ot,ngContentSelectors:Ze,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Xe,Ke){1&Xe&&(l.F$t(le),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Xe&&l.ekj("mdc-button__ripple",!Ke._isFab)("mdc-fab__ripple",Ke._isFab)},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Ie],encapsulation:2,changeDetection:0})}return Li})(),Fn=(()=>{class Li{static#e=this.\u0275fac=function(Xe){return new(Xe||Li)};static#t=this.\u0275mod=l.oAB({type:Li});static#i=this.\u0275inj=l.cJS({imports:[g.BQ,g.si,g.BQ]})}return Li})()},3680:(xi,Et,U)=>{"use strict";U.d(Et,{rD:()=>kt,K7:()=>Wt,HF:()=>Me,Y2:()=>Ce,BQ:()=>ei,ey:()=>wi,Ng:()=>Dn,us:()=>pe,wG:()=>Ne,Fq:()=>Oe,si:()=>Le,IR:()=>On,CB:()=>Ci,jH:()=>dn,pj:()=>Ri,Kr:()=>Fi,Id:()=>Qt,FD:()=>Fn,dB:()=>Li,sb:()=>En});var C=U(9212),l=U(7849),me=U(9388),Ve=U(6814),le=U(2831),Ze=U(2495),nt=U(5592),Ie=U(8645),it=U(6028);const ot=["text"];function Ye(ye,De){if(1&ye&&C._UZ(0,"mat-pseudo-checkbox",6),2&ye){const G=C.oxw();C.Q6J("disabled",G.disabled)("state",G.selected?"checked":"unchecked")}}function pt(ye,De){if(1&ye&&C._UZ(0,"mat-pseudo-checkbox",7),2&ye){const G=C.oxw();C.Q6J("disabled",G.disabled)}}function Xt(ye,De){if(1&ye&&(C.TgZ(0,"span",8),C._uU(1),C.qZA()),2&ye){const G=C.oxw();C.xp6(1),C.hij("(",G.group.label,")")}}const Zt=[[["mat-icon"]],"*"],ri=["mat-icon","*"],ht=new C.OlP("mat-sanity-checks",{providedIn:"root",factory:function rt(){return!0}});let ei=(()=>{class ye{constructor(G,Y,K){this._sanityChecks=Y,this._document=K,this._hasDoneGlobalChecks=!1,G._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(G){return!(0,le.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[G])}static#e=this.\u0275fac=function(Y){return new(Y||ye)(C.LFG(l.qm),C.LFG(ht,8),C.LFG(Ve.K0))};static#t=this.\u0275mod=C.oAB({type:ye});static#i=this.\u0275inj=C.cJS({imports:[me.vT,me.vT]})}return ye})();function Qt(ye){return class extends ye{get disabled(){return this._disabled}set disabled(De){this._disabled=(0,Ze.Ig)(De)}constructor(...De){super(...De),this._disabled=!1}}}function Ri(ye,De){return class extends ye{get color(){return this._color}set color(G){const Y=G||this.defaultColor;Y!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Y&&this._elementRef.nativeElement.classList.add(`mat-${Y}`),this._color=Y)}constructor(...G){super(...G),this.defaultColor=De,this.color=De}}}function Fi(ye){return class extends ye{get disableRipple(){return this._disableRipple}set disableRipple(De){this._disableRipple=(0,Ze.Ig)(De)}constructor(...De){super(...De),this._disableRipple=!1}}}function En(ye,De=0){return class extends ye{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(G){this._tabIndex=null!=G?(0,Ze.su)(G):this.defaultTabIndex}constructor(...G){super(...G),this._tabIndex=De,this.defaultTabIndex=De}}}function Fn(ye){return class extends ye{updateErrorState(){const De=this.errorState,we=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);we!==De&&(this.errorState=we,this.stateChanges.next())}constructor(...De){super(...De),this.errorState=!1}}}function Li(ye){return class extends ye{constructor(...De){super(...De),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new nt.y(G=>{this._isInitialized?this._notifySubscriber(G):this._pendingSubscribers.push(G)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(De){De.next(),De.complete()}}}let kt=(()=>{class ye{isErrorState(G,Y){return!!(G&&G.invalid&&(G.touched||Y&&Y.submitted))}static#e=this.\u0275fac=function(Y){return new(Y||ye)};static#t=this.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();class lt{constructor(De,G,Y,K=!1){this._renderer=De,this.element=G,this.config=Y,this._animationForciblyDisabledThroughCss=K,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Vt=(0,le.i$)({passive:!0,capture:!0});class li{constructor(){this._events=new Map,this._delegateEventHandler=De=>{const G=(0,le.sA)(De);G&&this._events.get(De.type)?.forEach((Y,K)=>{(K===G||K.contains(G))&&Y.forEach(we=>we.handleEvent(De))})}}addHandler(De,G,Y,K){const we=this._events.get(G);if(we){const je=we.get(Y);je?je.add(K):we.set(Y,new Set([K]))}else this._events.set(G,new Map([[Y,new Set([K])]])),De.runOutsideAngular(()=>{document.addEventListener(G,this._delegateEventHandler,Vt)})}removeHandler(De,G,Y){const K=this._events.get(De);if(!K)return;const we=K.get(G);we&&(we.delete(Y),0===we.size&&K.delete(G),0===K.size&&(this._events.delete(De),document.removeEventListener(De,this._delegateEventHandler,Vt)))}}const xt={enterDuration:225,exitDuration:150},Mn=(0,le.i$)({passive:!0,capture:!0}),rn=["mousedown","touchstart"],Ii=["mouseup","mouseleave","touchend","touchcancel"];class On{static#e=this._eventManager=new li;constructor(De,G,Y,K){this._target=De,this._ngZone=G,this._platform=K,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,K.isBrowser&&(this._containerElement=(0,Ze.fI)(Y))}fadeInRipple(De,G,Y={}){const K=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),we={...xt,...Y.animation};Y.centered&&(De=K.left+K.width/2,G=K.top+K.height/2);const je=Y.radius||function Ut(ye,De,G){const Y=Math.max(Math.abs(ye-G.left),Math.abs(ye-G.right)),K=Math.max(Math.abs(De-G.top),Math.abs(De-G.bottom));return Math.sqrt(Y*Y+K*K)}(De,G,K),wt=De-K.left,Be=G-K.top,Ue=we.enterDuration,_e=document.createElement("div");_e.classList.add("mat-ripple-element"),_e.style.left=wt-je+"px",_e.style.top=Be-je+"px",_e.style.height=2*je+"px",_e.style.width=2*je+"px",null!=Y.color&&(_e.style.backgroundColor=Y.color),_e.style.transitionDuration=`${Ue}ms`,this._containerElement.appendChild(_e);const Ae=window.getComputedStyle(_e),Ht=Ae.transitionDuration,fi="none"===Ae.transitionProperty||"0s"===Ht||"0s, 0s"===Ht||0===K.width&&0===K.height,Ui=new lt(this,_e,Y,fi);_e.style.transform="scale3d(1, 1, 1)",Ui.state=0,Y.persistent||(this._mostRecentTransientRipple=Ui);let Yi=null;return!fi&&(Ue||we.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wn=()=>this._finishRippleTransition(Ui),Si=()=>this._destroyRipple(Ui);_e.addEventListener("transitionend",wn),_e.addEventListener("transitioncancel",Si),Yi={onTransitionEnd:wn,onTransitionCancel:Si}}),this._activeRipples.set(Ui,Yi),(fi||!Ue)&&this._finishRippleTransition(Ui),Ui}fadeOutRipple(De){if(2===De.state||3===De.state)return;const G=De.element,Y={...xt,...De.config.animation};G.style.transitionDuration=`${Y.exitDuration}ms`,G.style.opacity="0",De.state=2,(De._animationForciblyDisabledThroughCss||!Y.exitDuration)&&this._finishRippleTransition(De)}fadeOutAll(){this._getActiveRipples().forEach(De=>De.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(De=>{De.config.persistent||De.fadeOut()})}setupTriggerEvents(De){const G=(0,Ze.fI)(De);!this._platform.isBrowser||!G||G===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=G,rn.forEach(Y=>{On._eventManager.addHandler(this._ngZone,Y,G,this)}))}handleEvent(De){"mousedown"===De.type?this._onMousedown(De):"touchstart"===De.type?this._onTouchStart(De):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ii.forEach(G=>{this._triggerElement.addEventListener(G,this,Mn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(De){0===De.state?this._startFadeOutTransition(De):2===De.state&&this._destroyRipple(De)}_startFadeOutTransition(De){const G=De===this._mostRecentTransientRipple,{persistent:Y}=De.config;De.state=1,!Y&&(!G||!this._isPointerDown)&&De.fadeOut()}_destroyRipple(De){const G=this._activeRipples.get(De)??null;this._activeRipples.delete(De),this._activeRipples.size||(this._containerRect=null),De===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),De.state=3,null!==G&&(De.element.removeEventListener("transitionend",G.onTransitionEnd),De.element.removeEventListener("transitioncancel",G.onTransitionCancel)),De.element.remove()}_onMousedown(De){const G=(0,l.X6)(De),Y=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!G&&!Y&&(this._isPointerDown=!0,this.fadeInRipple(De.clientX,De.clientY,this._target.rippleConfig))}_onTouchStart(De){if(!this._target.rippleDisabled&&!(0,l.yG)(De)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const G=De.changedTouches;if(G)for(let Y=0;Y<G.length;Y++)this.fadeInRipple(G[Y].clientX,G[Y].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(De=>{!De.config.persistent&&(1===De.state||De.config.terminateOnPointerUp&&0===De.state)&&De.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const De=this._triggerElement;De&&(rn.forEach(G=>On._eventManager.removeHandler(G,De,this)),this._pointerUpEventsRegistered&&Ii.forEach(G=>De.removeEventListener(G,this,Mn)))}}const Ce=new C.OlP("mat-ripple-global-options");let Ne=(()=>{class ye{get disabled(){return this._disabled}set disabled(G){G&&this.fadeOutAllNonPersistent(),this._disabled=G,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(G){this._trigger=G,this._setupTriggerEventsIfEnabled()}constructor(G,Y,K,we,je){this._elementRef=G,this._animationMode=je,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=we||{},this._rippleRenderer=new On(this,Y,G,K)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(G,Y=0,K){return"number"==typeof G?this._rippleRenderer.fadeInRipple(G,Y,{...this.rippleConfig,...K}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...G})}static#e=this.\u0275fac=function(Y){return new(Y||ye)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(le.t4),C.Y36(Ce,8),C.Y36(C.QbO,8))};static#t=this.\u0275dir=C.lG2({type:ye,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Y,K){2&Y&&C.ekj("mat-ripple-unbounded",K.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ye})(),Le=(()=>{class ye{static#e=this.\u0275fac=function(Y){return new(Y||ye)};static#t=this.\u0275mod=C.oAB({type:ye});static#i=this.\u0275inj=C.cJS({imports:[ei,ei]})}return ye})(),$e=(()=>{class ye{constructor(G){this._animationMode=G,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Y){return new(Y||ye)(C.Y36(C.QbO,8))};static#t=this.\u0275cmp=C.Xpm({type:ye,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Y,K){2&Y&&C.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===K.state)("mat-pseudo-checkbox-checked","checked"===K.state)("mat-pseudo-checkbox-disabled",K.disabled)("mat-pseudo-checkbox-minimal","minimal"===K.appearance)("mat-pseudo-checkbox-full","full"===K.appearance)("_mat-animation-noopable","NoopAnimations"===K._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(Y,K){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ye})(),pe=(()=>{class ye{static#e=this.\u0275fac=function(Y){return new(Y||ye)};static#t=this.\u0275mod=C.oAB({type:ye});static#i=this.\u0275inj=C.cJS({imports:[ei]})}return ye})();const Me=new C.OlP("MAT_OPTION_PARENT_COMPONENT"),Wt=new C.OlP("MatOptgroup");let $t=0;class St{constructor(De,G=!1){this.source=De,this.isUserInput=G}}let wi=(()=>{class ye{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(G){this._disabled=G}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(G,Y,K,we){this._element=G,this._changeDetectorRef=Y,this._parent=K,this.group=we,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+$t++,this.onSelectionChange=new C.vpe,this._stateChanges=new Ie.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(G=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),G&&this._emitSelectionChangeEvent())}deselect(G=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),G&&this._emitSelectionChangeEvent())}focus(G,Y){const K=this._getHostElement();"function"==typeof K.focus&&K.focus(Y)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(G){(G.keyCode===it.K5||G.keyCode===it.L_)&&!(0,it.Vb)(G)&&(this._selectViaInteraction(),G.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const G=this.viewValue;G!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=G)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(G=!1){this.onSelectionChange.emit(new St(this,G))}static#e=this.\u0275fac=function(Y){return new(Y||ye)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Me,8),C.Y36(Wt,8))};static#t=this.\u0275cmp=C.Xpm({type:ye,selectors:[["mat-option"]],viewQuery:function(Y,K){if(1&Y&&C.Gf(ot,7),2&Y){let we;C.iGM(we=C.CRH())&&(K._text=we.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Y,K){1&Y&&C.NdJ("click",function(){return K._selectViaInteraction()})("keydown",function(je){return K._handleKeydown(je)}),2&Y&&(C.Ikx("id",K.id),C.uIk("aria-selected",K.selected)("aria-disabled",K.disabled.toString()),C.ekj("mdc-list-item--selected",K.selected)("mat-mdc-option-multiple",K.multiple)("mat-mdc-option-active",K.active)("mdc-list-item--disabled",K.disabled))},inputs:{value:"value",id:"id",disabled:["disabled","disabled",C.VuI]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[C.Xq5],ngContentSelectors:ri,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(Y,K){1&Y&&(C.F$t(Zt),C.YNc(0,Ye,1,2,"mat-pseudo-checkbox",0),C.Hsn(1),C.TgZ(2,"span",1,2),C.Hsn(4,1),C.qZA(),C.YNc(5,pt,1,1,"mat-pseudo-checkbox",3)(6,Xt,2,1,"span",4),C._UZ(7,"div",5)),2&Y&&(C.um2(0,K.multiple?0:-1),C.xp6(5),C.um2(5,K.multiple||!K.selected||K.hideSingleSelectionIndicator?-1:5),C.xp6(1),C.um2(6,K.group&&K.group._inert?6:-1),C.xp6(1),C.Q6J("matRippleTrigger",K._getHostElement())("matRippleDisabled",K.disabled||K.disableRipple))},dependencies:[Ne,$e],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ye})();function Ci(ye,De,G){if(G.length){let Y=De.toArray(),K=G.toArray(),we=0;for(let je=0;je<ye+1;je++)Y[je].group&&Y[je].group===K[we]&&we++;return we}return 0}function dn(ye,De,G,Y){return ye<G?ye:ye+De>G+Y?Math.max(0,ye-Y+De):G}let Dn=(()=>{class ye{static#e=this.\u0275fac=function(Y){return new(Y||ye)};static#t=this.\u0275mod=C.oAB({type:ye});static#i=this.\u0275inj=C.cJS({imports:[Le,ei,pe]})}return ye})();const Tt={capture:!0},Zi=["focus","click","mouseenter","touchstart"],de="mat-ripple-loader-uninitialized",q="mat-ripple-loader-class-name",Q="mat-ripple-loader-centered",ve="mat-ripple-loader-disabled";let Oe=(()=>{class ye{constructor(){this._document=(0,C.f3M)(Ve.K0,{optional:!0}),this._animationMode=(0,C.f3M)(C.QbO,{optional:!0}),this._globalRippleOptions=(0,C.f3M)(Ce,{optional:!0}),this._platform=(0,C.f3M)(le.t4),this._ngZone=(0,C.f3M)(C.R0b),this._onInteraction=G=>{if(!(G.target instanceof HTMLElement))return;const K=G.target.closest(`[${de}]`);K&&this.createRipple(K)},this._ngZone.runOutsideAngular(()=>{for(const G of Zi)this._document?.addEventListener(G,this._onInteraction,Tt)})}ngOnDestroy(){for(const G of Zi)this._document?.removeEventListener(G,this._onInteraction,Tt)}configureRipple(G,Y){G.setAttribute(de,""),(Y.className||!G.hasAttribute(q))&&G.setAttribute(q,Y.className||""),Y.centered&&G.setAttribute(Q,""),Y.disabled&&G.setAttribute(ve,"")}getRipple(G){return G.matRipple?G.matRipple:this.createRipple(G)}setDisabled(G,Y){const K=G.matRipple;K?K.disabled=Y:Y?G.setAttribute(ve,""):G.removeAttribute(ve)}createRipple(G){if(!this._document)return;G.querySelector(".mat-ripple")?.remove();const Y=this._document.createElement("span");Y.classList.add("mat-ripple",G.getAttribute(q)),G.append(Y);const K=new Ne(new C.SBq(Y),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return K._isInitialized=!0,K.trigger=G,K.centered=G.hasAttribute(Q),K.disabled=G.hasAttribute(ve),this.attachRipple(G,K),K}attachRipple(G,Y){G.removeAttribute(de),G.matRipple=Y}static#e=this.\u0275fac=function(Y){return new(Y||ye)};static#t=this.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},4170:(xi,Et,U)=>{"use strict";U.d(Et,{G_:()=>Ft,KE:()=>dn,Eo:()=>Le,lN:()=>Dn,R9:()=>xt});var C=U(9212),l=U(9388),me=U(2831),g=U(7394),Ve=U(8645),le=U(3019),Ze=U(9773),nt=U(5592),Ie=U(2181),it=U(940);class Je{constructor(Zi){this._box=Zi,this._destroyed=new Ve.x,this._resizeSubject=new Ve.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(de=>this._resizeSubject.next(de)))}observe(Zi){return this._elementObservables.has(Zi)||this._elementObservables.set(Zi,new nt.y(de=>{const q=this._resizeSubject.subscribe(de);return this._resizeObserver?.observe(Zi,{box:this._box}),()=>{this._resizeObserver?.unobserve(Zi),q.unsubscribe(),this._elementObservables.delete(Zi)}}).pipe((0,Ie.h)(de=>de.some(q=>q.target===Zi)),(0,it.d)({bufferSize:1,refCount:!0}),(0,Ze.R)(this._destroyed))),this._elementObservables.get(Zi)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let ot=(()=>{class Tt{constructor(){this._observers=new Map,this._ngZone=(0,C.f3M)(C.R0b)}ngOnDestroy(){for(const[,de]of this._observers)de.destroy();this._observers.clear()}observe(de,q){const Q=q?.box||"content-box";return this._observers.has(Q)||this._observers.set(Q,new Je(Q)),this._observers.get(Q).observe(de)}static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275prov=C.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})();var Ye=U(2495),pt=U(6825),Xt=U(6814),Zt=U(7131),ri=U(3680);const ki=["notch"],Pi=["matFormFieldNotchedOutline",""],jt=["*"],rt=["textField"],ht=["iconPrefixContainer"],ei=["textPrefixContainer"];function Nt(Tt,Zi){1&Tt&&C._UZ(0,"span",16)}function Dt(Tt,Zi){if(1&Tt&&(C.TgZ(0,"label",14),C.Hsn(1,1),C.YNc(2,Nt,1,0,"span",15),C.qZA()),2&Tt){const de=C.oxw(2);C.Q6J("floating",de._shouldLabelFloat())("monitorResize",de._hasOutline())("id",de._labelId),C.uIk("for",de._control.id),C.xp6(2),C.um2(2,!de.hideRequiredMarker&&de._control.required?2:-1)}}function _t(Tt,Zi){if(1&Tt&&C.YNc(0,Dt,3,5,"label",14),2&Tt){const de=C.oxw();C.um2(0,de._hasFloatingLabel()?0:-1)}}function Qt(Tt,Zi){1&Tt&&C._UZ(0,"div",17)}function Ri(Tt,Zi){}function Fi(Tt,Zi){if(1&Tt&&C.YNc(0,Ri,0,0,"ng-template",9),2&Tt){C.oxw(2);const de=C.MAs(1);C.Q6J("ngTemplateOutlet",de)}}function En(Tt,Zi){if(1&Tt&&(C.TgZ(0,"div",5),C.YNc(1,Fi,1,1,null,9),C.qZA()),2&Tt){const de=C.oxw();C.Q6J("matFormFieldNotchedOutlineOpen",de._shouldLabelFloat()),C.xp6(1),C.um2(1,de._forceDisplayInfixLabel()?-1:1)}}function Fn(Tt,Zi){1&Tt&&(C.TgZ(0,"div",18,19),C.Hsn(2,2),C.qZA())}function Li(Tt,Zi){1&Tt&&(C.TgZ(0,"div",20,21),C.Hsn(2,3),C.qZA())}function Bn(Tt,Zi){}function _i(Tt,Zi){if(1&Tt&&C.YNc(0,Bn,0,0,"ng-template",9),2&Tt){C.oxw();const de=C.MAs(1);C.Q6J("ngTemplateOutlet",de)}}function Xe(Tt,Zi){1&Tt&&(C.TgZ(0,"div",22),C.Hsn(1,4),C.qZA())}function Ke(Tt,Zi){1&Tt&&(C.TgZ(0,"div",23),C.Hsn(1,5),C.qZA())}function Ot(Tt,Zi){1&Tt&&C._UZ(0,"div",12)}function Lt(Tt,Zi){if(1&Tt&&(C.TgZ(0,"div",24),C.Hsn(1,6),C.qZA()),2&Tt){const de=C.oxw();C.Q6J("@transitionMessages",de._subscriptAnimationState)}}function ai(Tt,Zi){if(1&Tt&&(C.TgZ(0,"mat-hint",26),C._uU(1),C.qZA()),2&Tt){const de=C.oxw(2);C.Q6J("id",de._hintLabelId),C.xp6(1),C.Oqu(de.hintLabel)}}function At(Tt,Zi){if(1&Tt&&(C.TgZ(0,"div",25),C.YNc(1,ai,2,2,"mat-hint",26),C.Hsn(2,7),C._UZ(3,"div",27),C.Hsn(4,8),C.qZA()),2&Tt){const de=C.oxw();C.Q6J("@transitionMessages",de._subscriptAnimationState),C.xp6(1),C.um2(1,de.hintLabel?1:-1)}}const Ei=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ft=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let vt=(()=>{class Tt{static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275dir=C.lG2({type:Tt,selectors:[["mat-label"]]})}return Tt})();const hi=new C.OlP("MatError");let si=0,Qi=(()=>{class Tt{constructor(){this.align="start",this.id="mat-mdc-hint-"+si++}static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275dir=C.lG2({type:Tt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(q,Q){2&q&&(C.Ikx("id",Q.id),C.uIk("align",null),C.ekj("mat-mdc-form-field-hint-end","end"===Q.align))},inputs:{align:"align",id:"id"}})}return Tt})();const lt=new C.OlP("MatPrefix"),li=new C.OlP("MatSuffix");let xt=(()=>{class Tt{constructor(){this._isText=!1}set _isTextSelector(de){this._isText=!0}static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275dir=C.lG2({type:Tt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[C._Bn([{provide:li,useExisting:Tt}])]})}return Tt})();const pn=new C.OlP("FloatingLabelParent");let Mn=(()=>{class Tt{get floating(){return this._floating}set floating(de){this._floating=de,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(de){this._monitorResize=de,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(de){this._elementRef=de,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,C.f3M)(ot),this._ngZone=(0,C.f3M)(C.R0b),this._parent=(0,C.f3M)(pn),this._resizeSubscription=new g.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function rn(Tt){if(null!==Tt.offsetParent)return Tt.scrollWidth;const de=Tt.cloneNode(!0);de.style.setProperty("position","absolute"),de.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(de);const q=de.scrollWidth;return de.remove(),q}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(q){return new(q||Tt)(C.Y36(C.SBq))};static#t=this.\u0275dir=C.lG2({type:Tt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(q,Q){2&q&&C.ekj("mdc-floating-label--float-above",Q.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Tt})();const Ii="mdc-line-ripple--active",On="mdc-line-ripple--deactivating";let Ut=(()=>{class Tt{constructor(de,q){this._elementRef=de,this._handleTransitionEnd=Q=>{const ve=this._elementRef.nativeElement.classList,Oe=ve.contains(On);"opacity"===Q.propertyName&&Oe&&ve.remove(Ii,On)},q.runOutsideAngular(()=>{de.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const de=this._elementRef.nativeElement.classList;de.remove(On),de.add(Ii)}deactivate(){this._elementRef.nativeElement.classList.add(On)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(q){return new(q||Tt)(C.Y36(C.SBq),C.Y36(C.R0b))};static#t=this.\u0275dir=C.lG2({type:Tt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Tt})(),Ce=(()=>{class Tt{constructor(de,q){this._elementRef=de,this._ngZone=q,this.open=!1}ngAfterViewInit(){const de=this._elementRef.nativeElement.querySelector(".mdc-floating-label");de?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(de.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>de.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(de){this._notch.nativeElement.style.width=this.open&&de?`calc(${de}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(q){return new(q||Tt)(C.Y36(C.SBq),C.Y36(C.R0b))};static#t=this.\u0275cmp=C.Xpm({type:Tt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(q,Q){if(1&q&&C.Gf(ki,5),2&q){let ve;C.iGM(ve=C.CRH())&&(Q._notch=ve.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(q,Q){2&q&&C.ekj("mdc-notched-outline--notched",Q.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Pi,ngContentSelectors:jt,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(q,Q){1&q&&(C.F$t(),C._UZ(0,"div",0),C.TgZ(1,"div",1,2),C.Hsn(3),C.qZA(),C._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Tt})();const Ne={transitionMessages:(0,pt.X$)("transitionMessages",[(0,pt.SB)("enter",(0,pt.oB)({opacity:1,transform:"translateY(0%)"})),(0,pt.eR)("void => enter",[(0,pt.oB)({opacity:0,transform:"translateY(-5px)"}),(0,pt.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Le=(()=>{class Tt{static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275dir=C.lG2({type:Tt})}return Tt})();const Ft=new C.OlP("MatFormField"),Wt=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ci=0,dn=(()=>{class Tt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(de){this._hideRequiredMarker=(0,Ye.Ig)(de)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(de){de!==this._floatLabel&&(this._floatLabel=de,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(de){const q=this._appearance;this._appearance=de||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==q&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(de){this._subscriptSizing=de||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(de){this._hintLabel=de,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(de){this._explicitFormFieldControl=de}constructor(de,q,Q,ve,Oe,ye,De,G){this._elementRef=de,this._changeDetectorRef=q,this._ngZone=Q,this._dir=ve,this._platform=Oe,this._defaults=ye,this._animationMode=De,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ci++,this._hintLabelId="mat-mdc-hint-"+ci++,this._subscriptAnimationState="",this._destroyed=new Ve.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,ye&&(ye.appearance&&(this.appearance=ye.appearance),this._hideRequiredMarker=!!ye?.hideRequiredMarker,ye.color&&(this.color=ye.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const de=this._control;de.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${de.controlType}`),de.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),de.ngControl&&de.ngControl.valueChanges&&de.ngControl.valueChanges.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(de=>!de._isText),this._hasTextPrefix=!!this._prefixChildren.find(de=>de._isText),this._hasIconSuffix=!!this._suffixChildren.find(de=>!de._isText),this._hasTextSuffix=!!this._suffixChildren.find(de=>de._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,le.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Ze.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(de){const q=this._control?this._control.ngControl:null;return q&&q[de]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let de=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&de.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const q=this._hintChildren?this._hintChildren.find(ve=>"start"===ve.align):null,Q=this._hintChildren?this._hintChildren.find(ve=>"end"===ve.align):null;q?de.push(q.id):this._hintLabel&&de.push(this._hintLabelId),Q&&de.push(Q.id)}else this._errorChildren&&de.push(...this._errorChildren.map(q=>q.id));this._control.setDescribedByIds(de)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const de=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(de.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const q=this._iconPrefixContainer?.nativeElement,Q=this._textPrefixContainer?.nativeElement,ve=q?.getBoundingClientRect().width??0,Oe=Q?.getBoundingClientRect().width??0;de.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${ve+Oe}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const de=this._elementRef.nativeElement;if(de.getRootNode){const q=de.getRootNode();return q&&q!==de}return document.documentElement.contains(de)}static#e=this.\u0275fac=function(q){return new(q||Tt)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(C.R0b),C.Y36(l.Is),C.Y36(me.t4),C.Y36(Wt,8),C.Y36(C.QbO,8),C.Y36(Xt.K0))};static#t=this.\u0275cmp=C.Xpm({type:Tt,selectors:[["mat-form-field"]],contentQueries:function(q,Q,ve){if(1&q&&(C.Suo(ve,vt,5),C.Suo(ve,vt,7),C.Suo(ve,Le,5),C.Suo(ve,lt,5),C.Suo(ve,li,5),C.Suo(ve,hi,5),C.Suo(ve,Qi,5)),2&q){let Oe;C.iGM(Oe=C.CRH())&&(Q._labelChildNonStatic=Oe.first),C.iGM(Oe=C.CRH())&&(Q._labelChildStatic=Oe.first),C.iGM(Oe=C.CRH())&&(Q._formFieldControl=Oe.first),C.iGM(Oe=C.CRH())&&(Q._prefixChildren=Oe),C.iGM(Oe=C.CRH())&&(Q._suffixChildren=Oe),C.iGM(Oe=C.CRH())&&(Q._errorChildren=Oe),C.iGM(Oe=C.CRH())&&(Q._hintChildren=Oe)}},viewQuery:function(q,Q){if(1&q&&(C.Gf(rt,5),C.Gf(ht,5),C.Gf(ei,5),C.Gf(Mn,5),C.Gf(Ce,5),C.Gf(Ut,5)),2&q){let ve;C.iGM(ve=C.CRH())&&(Q._textField=ve.first),C.iGM(ve=C.CRH())&&(Q._iconPrefixContainer=ve.first),C.iGM(ve=C.CRH())&&(Q._textPrefixContainer=ve.first),C.iGM(ve=C.CRH())&&(Q._floatingLabel=ve.first),C.iGM(ve=C.CRH())&&(Q._notchedOutline=ve.first),C.iGM(ve=C.CRH())&&(Q._lineRipple=ve.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(q,Q){2&q&&C.ekj("mat-mdc-form-field-label-always-float",Q._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Q._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Q._hasIconSuffix)("mat-form-field-invalid",Q._control.errorState)("mat-form-field-disabled",Q._control.disabled)("mat-form-field-autofilled",Q._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Q._animationMode)("mat-form-field-appearance-fill","fill"==Q.appearance)("mat-form-field-appearance-outline","outline"==Q.appearance)("mat-form-field-hide-placeholder",Q._hasFloatingLabel()&&!Q._shouldLabelFloat())("mat-focused",Q._control.focused)("mat-primary","accent"!==Q.color&&"warn"!==Q.color)("mat-accent","accent"===Q.color)("mat-warn","warn"===Q.color)("ng-untouched",Q._shouldForward("untouched"))("ng-touched",Q._shouldForward("touched"))("ng-pristine",Q._shouldForward("pristine"))("ng-dirty",Q._shouldForward("dirty"))("ng-valid",Q._shouldForward("valid"))("ng-invalid",Q._shouldForward("invalid"))("ng-pending",Q._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:Ft,useExisting:Tt},{provide:pn,useExisting:Tt}])],ngContentSelectors:ft,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(q,Q){if(1&q&&(C.F$t(Ei),C.YNc(0,_t,1,1,"ng-template",null,0,C.W1O),C.TgZ(2,"div",1,2),C.NdJ("click",function(Oe){return Q._control.onContainerClick(Oe)}),C.YNc(4,Qt,1,0,"div",3),C.TgZ(5,"div",4),C.YNc(6,En,2,2,"div",5)(7,Fn,3,0,"div",6)(8,Li,3,0,"div",7),C.TgZ(9,"div",8),C.YNc(10,_i,1,1,null,9),C.Hsn(11),C.qZA(),C.YNc(12,Xe,2,0,"div",10)(13,Ke,2,0,"div",11),C.qZA(),C.YNc(14,Ot,1,0,"div",12),C.qZA(),C.TgZ(15,"div",13),C.YNc(16,Lt,2,1)(17,At,5,2),C.qZA()),2&q){let ve;C.xp6(2),C.ekj("mdc-text-field--filled",!Q._hasOutline())("mdc-text-field--outlined",Q._hasOutline())("mdc-text-field--no-label",!Q._hasFloatingLabel())("mdc-text-field--disabled",Q._control.disabled)("mdc-text-field--invalid",Q._control.errorState),C.xp6(2),C.um2(4,Q._hasOutline()||Q._control.disabled?-1:4),C.xp6(2),C.um2(6,Q._hasOutline()?6:-1),C.xp6(1),C.um2(7,Q._hasIconPrefix?7:-1),C.xp6(1),C.um2(8,Q._hasTextPrefix?8:-1),C.xp6(2),C.um2(10,!Q._hasOutline()||Q._forceDisplayInfixLabel()?10:-1),C.xp6(2),C.um2(12,Q._hasTextSuffix?12:-1),C.xp6(1),C.um2(13,Q._hasIconSuffix?13:-1),C.xp6(1),C.um2(14,Q._hasOutline()?-1:14),C.xp6(1),C.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Q.subscriptSizing),C.xp6(1),C.um2(16,"error"===(ve=Q._getDisplayedMessages())?16:"hint"===ve?17:-1)}},dependencies:[Xt.tP,Qi,Mn,Ce,Ut],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ne.transitionMessages]},changeDetection:0})}return Tt})(),Dn=(()=>{class Tt{static#e=this.\u0275fac=function(q){return new(q||Tt)};static#t=this.\u0275mod=C.oAB({type:Tt});static#i=this.\u0275inj=C.cJS({imports:[ri.BQ,Xt.ez,Zt.Q8,ri.BQ]})}return Tt})()},617:(xi,Et,U)=>{"use strict";U.d(Et,{Hw:()=>Lt,Ps:()=>ai,jv:()=>Dt});var C=U(9212),l=U(3680),me=U(2495),g=U(6814),Ve=U(2096),le=U(8504),Ze=U(9315),nt=U(7394),Ie=U(9397),it=U(7398),at=U(6306),Je=U(4716),ot=U(3020),Ye=U(8180),pt=U(9862),Xt=U(6593);const Zt=["*"];let ri;function Pi(At){return function ki(){if(void 0===ri&&(ri=null,typeof window<"u")){const At=window;void 0!==At.trustedTypes&&(ri=At.trustedTypes.createPolicy("angular#components",{createHTML:Ei=>Ei}))}return ri}()?.createHTML(At)||At}function jt(At){return Error(`Unable to find icon with the name "${At}"`)}function ht(At){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${At}".`)}function ei(At){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${At}".`)}class Nt{constructor(Ei,ft,vt){this.url=Ei,this.svgText=ft,this.options=vt}}let Dt=(()=>{class At{constructor(ft,vt,kt,hi){this._httpClient=ft,this._sanitizer=vt,this._errorHandler=hi,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=kt}addSvgIcon(ft,vt,kt){return this.addSvgIconInNamespace("",ft,vt,kt)}addSvgIconLiteral(ft,vt,kt){return this.addSvgIconLiteralInNamespace("",ft,vt,kt)}addSvgIconInNamespace(ft,vt,kt,hi){return this._addSvgIconConfig(ft,vt,new Nt(kt,null,hi))}addSvgIconResolver(ft){return this._resolvers.push(ft),this}addSvgIconLiteralInNamespace(ft,vt,kt,hi){const yi=this._sanitizer.sanitize(C.q3G.HTML,kt);if(!yi)throw ei(kt);const si=Pi(yi);return this._addSvgIconConfig(ft,vt,new Nt("",si,hi))}addSvgIconSet(ft,vt){return this.addSvgIconSetInNamespace("",ft,vt)}addSvgIconSetLiteral(ft,vt){return this.addSvgIconSetLiteralInNamespace("",ft,vt)}addSvgIconSetInNamespace(ft,vt,kt){return this._addSvgIconSetConfig(ft,new Nt(vt,null,kt))}addSvgIconSetLiteralInNamespace(ft,vt,kt){const hi=this._sanitizer.sanitize(C.q3G.HTML,vt);if(!hi)throw ei(vt);const yi=Pi(hi);return this._addSvgIconSetConfig(ft,new Nt("",yi,kt))}registerFontClassAlias(ft,vt=ft){return this._fontCssClassesByAlias.set(ft,vt),this}classNameForFontAlias(ft){return this._fontCssClassesByAlias.get(ft)||ft}setDefaultFontSetClass(...ft){return this._defaultFontSetClass=ft,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ft){const vt=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,ft);if(!vt)throw ht(ft);const kt=this._cachedIconsByUrl.get(vt);return kt?(0,Ve.of)(Ri(kt)):this._loadSvgIconFromConfig(new Nt(ft,null)).pipe((0,Ie.b)(hi=>this._cachedIconsByUrl.set(vt,hi)),(0,it.U)(hi=>Ri(hi)))}getNamedSvgIcon(ft,vt=""){const kt=Fi(vt,ft);let hi=this._svgIconConfigs.get(kt);if(hi)return this._getSvgFromConfig(hi);if(hi=this._getIconConfigFromResolvers(vt,ft),hi)return this._svgIconConfigs.set(kt,hi),this._getSvgFromConfig(hi);const yi=this._iconSetConfigs.get(vt);return yi?this._getSvgFromIconSetConfigs(ft,yi):(0,le._)(jt(kt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ft){return ft.svgText?(0,Ve.of)(Ri(this._svgElementFromConfig(ft))):this._loadSvgIconFromConfig(ft).pipe((0,it.U)(vt=>Ri(vt)))}_getSvgFromIconSetConfigs(ft,vt){const kt=this._extractIconWithNameFromAnySet(ft,vt);if(kt)return(0,Ve.of)(kt);const hi=vt.filter(yi=>!yi.svgText).map(yi=>this._loadSvgIconSetFromConfig(yi).pipe((0,at.K)(si=>{const lt=`Loading icon set URL: ${this._sanitizer.sanitize(C.q3G.RESOURCE_URL,yi.url)} failed: ${si.message}`;return this._errorHandler.handleError(new Error(lt)),(0,Ve.of)(null)})));return(0,Ze.D)(hi).pipe((0,it.U)(()=>{const yi=this._extractIconWithNameFromAnySet(ft,vt);if(!yi)throw jt(ft);return yi}))}_extractIconWithNameFromAnySet(ft,vt){for(let kt=vt.length-1;kt>=0;kt--){const hi=vt[kt];if(hi.svgText&&hi.svgText.toString().indexOf(ft)>-1){const yi=this._svgElementFromConfig(hi),si=this._extractSvgIconFromSet(yi,ft,hi.options);if(si)return si}}return null}_loadSvgIconFromConfig(ft){return this._fetchIcon(ft).pipe((0,Ie.b)(vt=>ft.svgText=vt),(0,it.U)(()=>this._svgElementFromConfig(ft)))}_loadSvgIconSetFromConfig(ft){return ft.svgText?(0,Ve.of)(null):this._fetchIcon(ft).pipe((0,Ie.b)(vt=>ft.svgText=vt))}_extractSvgIconFromSet(ft,vt,kt){const hi=ft.querySelector(`[id="${vt}"]`);if(!hi)return null;const yi=hi.cloneNode(!0);if(yi.removeAttribute("id"),"svg"===yi.nodeName.toLowerCase())return this._setSvgAttributes(yi,kt);if("symbol"===yi.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(yi),kt);const si=this._svgElementFromString(Pi("<svg></svg>"));return si.appendChild(yi),this._setSvgAttributes(si,kt)}_svgElementFromString(ft){const vt=this._document.createElement("DIV");vt.innerHTML=ft;const kt=vt.querySelector("svg");if(!kt)throw Error("<svg> tag not found");return kt}_toSvgElement(ft){const vt=this._svgElementFromString(Pi("<svg></svg>")),kt=ft.attributes;for(let hi=0;hi<kt.length;hi++){const{name:yi,value:si}=kt[hi];"id"!==yi&&vt.setAttribute(yi,si)}for(let hi=0;hi<ft.childNodes.length;hi++)ft.childNodes[hi].nodeType===this._document.ELEMENT_NODE&&vt.appendChild(ft.childNodes[hi].cloneNode(!0));return vt}_setSvgAttributes(ft,vt){return ft.setAttribute("fit",""),ft.setAttribute("height","100%"),ft.setAttribute("width","100%"),ft.setAttribute("preserveAspectRatio","xMidYMid meet"),ft.setAttribute("focusable","false"),vt&&vt.viewBox&&ft.setAttribute("viewBox",vt.viewBox),ft}_fetchIcon(ft){const{url:vt,options:kt}=ft,hi=kt?.withCredentials??!1;if(!this._httpClient)throw function rt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==vt)throw Error(`Cannot fetch icon from URL "${vt}".`);const yi=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,vt);if(!yi)throw ht(vt);const si=this._inProgressUrlFetches.get(yi);if(si)return si;const Qi=this._httpClient.get(yi,{responseType:"text",withCredentials:hi}).pipe((0,it.U)(lt=>Pi(lt)),(0,Je.x)(()=>this._inProgressUrlFetches.delete(yi)),(0,ot.B)());return this._inProgressUrlFetches.set(yi,Qi),Qi}_addSvgIconConfig(ft,vt,kt){return this._svgIconConfigs.set(Fi(ft,vt),kt),this}_addSvgIconSetConfig(ft,vt){const kt=this._iconSetConfigs.get(ft);return kt?kt.push(vt):this._iconSetConfigs.set(ft,[vt]),this}_svgElementFromConfig(ft){if(!ft.svgElement){const vt=this._svgElementFromString(ft.svgText);this._setSvgAttributes(vt,ft.options),ft.svgElement=vt}return ft.svgElement}_getIconConfigFromResolvers(ft,vt){for(let kt=0;kt<this._resolvers.length;kt++){const hi=this._resolvers[kt](vt,ft);if(hi)return En(hi)?new Nt(hi.url,null,hi.options):new Nt(hi,null)}}static#e=this.\u0275fac=function(vt){return new(vt||At)(C.LFG(pt.eN,8),C.LFG(Xt.H7),C.LFG(g.K0,8),C.LFG(C.qLn))};static#t=this.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"})}return At})();function Ri(At){return At.cloneNode(!0)}function Fi(At,Ei){return At+":"+Ei}function En(At){return!(!At.url||!At.options)}const Fn=(0,l.pj)(class{constructor(At){this._elementRef=At}}),Li=new C.OlP("MAT_ICON_DEFAULT_OPTIONS"),Bn=new C.OlP("mat-icon-location",{providedIn:"root",factory:function _i(){const At=(0,C.f3M)(g.K0),Ei=At?At.location:null;return{getPathname:()=>Ei?Ei.pathname+Ei.search:""}}}),Xe=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ke=Xe.map(At=>`[${At}]`).join(", "),Ot=/^url\(['"]?#(.*?)['"]?\)$/;let Lt=(()=>{class At extends Fn{get inline(){return this._inline}set inline(ft){this._inline=(0,me.Ig)(ft)}get svgIcon(){return this._svgIcon}set svgIcon(ft){ft!==this._svgIcon&&(ft?this._updateSvgIcon(ft):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ft)}get fontSet(){return this._fontSet}set fontSet(ft){const vt=this._cleanupFontValue(ft);vt!==this._fontSet&&(this._fontSet=vt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ft){const vt=this._cleanupFontValue(ft);vt!==this._fontIcon&&(this._fontIcon=vt,this._updateFontIconClasses())}constructor(ft,vt,kt,hi,yi,si){super(ft),this._iconRegistry=vt,this._location=hi,this._errorHandler=yi,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=nt.w0.EMPTY,si&&(si.color&&(this.color=this.defaultColor=si.color),si.fontSet&&(this.fontSet=si.fontSet)),kt||ft.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ft){if(!ft)return["",""];const vt=ft.split(":");switch(vt.length){case 1:return["",vt[0]];case 2:return vt;default:throw Error(`Invalid icon name: "${ft}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ft=this._elementsWithExternalReferences;if(ft&&ft.size){const vt=this._location.getPathname();vt!==this._previousPath&&(this._previousPath=vt,this._prependPathToReferences(vt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ft){this._clearSvgElement();const vt=this._location.getPathname();this._previousPath=vt,this._cacheChildrenWithExternalReferences(ft),this._prependPathToReferences(vt),this._elementRef.nativeElement.appendChild(ft)}_clearSvgElement(){const ft=this._elementRef.nativeElement;let vt=ft.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();vt--;){const kt=ft.childNodes[vt];(1!==kt.nodeType||"svg"===kt.nodeName.toLowerCase())&&kt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ft=this._elementRef.nativeElement,vt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(kt=>kt.length>0);this._previousFontSetClass.forEach(kt=>ft.classList.remove(kt)),vt.forEach(kt=>ft.classList.add(kt)),this._previousFontSetClass=vt,this.fontIcon!==this._previousFontIconClass&&!vt.includes("mat-ligature-font")&&(this._previousFontIconClass&&ft.classList.remove(this._previousFontIconClass),this.fontIcon&&ft.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ft){return"string"==typeof ft?ft.trim().split(" ")[0]:ft}_prependPathToReferences(ft){const vt=this._elementsWithExternalReferences;vt&&vt.forEach((kt,hi)=>{kt.forEach(yi=>{hi.setAttribute(yi.name,`url('${ft}#${yi.value}')`)})})}_cacheChildrenWithExternalReferences(ft){const vt=ft.querySelectorAll(Ke),kt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let hi=0;hi<vt.length;hi++)Xe.forEach(yi=>{const si=vt[hi],Qi=si.getAttribute(yi),lt=Qi?Qi.match(Ot):null;if(lt){let Vt=kt.get(si);Vt||(Vt=[],kt.set(si,Vt)),Vt.push({name:yi,value:lt[1]})}})}_updateSvgIcon(ft){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ft){const[vt,kt]=this._splitIconName(ft);vt&&(this._svgNamespace=vt),kt&&(this._svgName=kt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(kt,vt).pipe((0,Ye.q)(1)).subscribe(hi=>this._setSvgElement(hi),hi=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${vt}:${kt}! ${hi.message}`))})}}static#e=this.\u0275fac=function(vt){return new(vt||At)(C.Y36(C.SBq),C.Y36(Dt),C.$8M("aria-hidden"),C.Y36(Bn),C.Y36(C.qLn),C.Y36(Li,8))};static#t=this.\u0275cmp=C.Xpm({type:At,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(vt,kt){2&vt&&(C.uIk("data-mat-icon-type",kt._usingFontIcon()?"font":"svg")("data-mat-icon-name",kt._svgName||kt.fontIcon)("data-mat-icon-namespace",kt._svgNamespace||kt.fontSet)("fontIcon",kt._usingFontIcon()?kt.fontIcon:null),C.ekj("mat-icon-inline",kt.inline)("mat-icon-no-color","primary"!==kt.color&&"accent"!==kt.color&&"warn"!==kt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[C.qOj],ngContentSelectors:Zt,decls:1,vars:0,template:function(vt,kt){1&vt&&(C.F$t(),C.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return At})(),ai=(()=>{class At{static#e=this.\u0275fac=function(vt){return new(vt||At)};static#t=this.\u0275mod=C.oAB({type:At});static#i=this.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]})}return At})()},8525:(xi,Et,U)=>{"use strict";U.d(Et,{LD:()=>yi,gD:()=>kt});var C=U(3651),l=U(6814),me=U(9212),g=U(3680),Ve=U(4170),le=U(799),Ze=U(7849),nt=U(9388),Ie=U(2495),it=U(8337),at=U(6028),Je=U(6223),ot=U(8645),Ye=U(4911),pt=U(3019),Xt=U(7921),Zt=U(4664),ri=U(8180),ki=U(2181),Pi=U(7398),jt=U(3997),rt=U(9773),ht=U(6825);const ei=["trigger"],Nt=["panel"];function Dt(si,Qi){if(1&si&&(me.TgZ(0,"span",9),me._uU(1),me.qZA()),2&si){const lt=me.oxw();me.xp6(1),me.Oqu(lt.placeholder)}}function _t(si,Qi){1&si&&me.Hsn(0)}function Qt(si,Qi){if(1&si&&(me.TgZ(0,"span",11),me._uU(1),me.qZA()),2&si){const lt=me.oxw(2);me.xp6(1),me.Oqu(lt.triggerValue)}}function Ri(si,Qi){if(1&si&&(me.TgZ(0,"span",10),me.YNc(1,_t,1,0)(2,Qt,2,1),me.qZA()),2&si){const lt=me.oxw();me.xp6(1),me.um2(1,lt.customTrigger?1:2)}}function Fi(si,Qi){if(1&si){const lt=me.EpF();me.O4$(),me.kcU(),me.TgZ(0,"div",12,13),me.NdJ("@transformPanel.done",function(li){me.CHM(lt);const xt=me.oxw();return me.KtG(xt._panelDoneAnimatingStream.next(li.toState))})("keydown",function(li){me.CHM(lt);const xt=me.oxw();return me.KtG(xt._handleKeydown(li))}),me.Hsn(2,1),me.qZA()}if(2&si){const lt=me.oxw();me.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",lt._getPanelTheme(),""),me.Q6J("ngClass",lt.panelClass)("@transformPanel","showing"),me.uIk("id",lt.id+"-panel")("aria-multiselectable",lt.multiple)("aria-label",lt.ariaLabel||null)("aria-labelledby",lt._getPanelAriaLabelledby())}}const En=[[["mat-select-trigger"]],"*"],Fn=["mat-select-trigger","*"],Li={transformPanelWrap:(0,ht.X$)("transformPanelWrap",[(0,ht.eR)("* => void",(0,ht.IO)("@transformPanel",[(0,ht.pV)()],{optional:!0}))]),transformPanel:(0,ht.X$)("transformPanel",[(0,ht.SB)("void",(0,ht.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,ht.eR)("void => showing",(0,ht.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ht.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,ht.eR)("* => void",(0,ht.jt)("100ms linear",(0,ht.oB)({opacity:0})))])};let Ke=0;const Ot=new me.OlP("mat-select-scroll-strategy"),ai=new me.OlP("MAT_SELECT_CONFIG"),At={provide:Ot,deps:[C.aV],useFactory:function Lt(si){return()=>si.scrollStrategies.reposition()}},Ei=new me.OlP("MatSelectTrigger");class ft{constructor(Qi,lt){this.source=Qi,this.value=lt}}const vt=(0,g.Kr)((0,g.sb)((0,g.Id)((0,g.FD)(class{constructor(si,Qi,lt,Vt,li){this._elementRef=si,this._defaultErrorStateMatcher=Qi,this._parentForm=lt,this._parentFormGroup=Vt,this.ngControl=li,this.stateChanges=new ot.x}}))));let kt=(()=>{class si extends vt{_scrollOptionIntoView(lt){const Vt=this.options.toArray()[lt];if(Vt){const li=this.panel.nativeElement,xt=(0,g.CB)(lt,this.options,this.optionGroups),pn=Vt._getHostElement();li.scrollTop=0===lt&&1===xt?0:(0,g.jH)(pn.offsetTop,pn.offsetHeight,li.scrollTop,li.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(lt){return new ft(this,lt)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(lt){this._hideSingleSelectionIndicator=(0,Ie.Ig)(lt),this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(lt){this._placeholder=lt,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Je.kI.required)??!1}set required(lt){this._required=(0,Ie.Ig)(lt),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(lt){this._multiple=(0,Ie.Ig)(lt)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(lt){this._disableOptionCentering=(0,Ie.Ig)(lt)}get compareWith(){return this._compareWith}set compareWith(lt){this._compareWith=lt,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(lt){this._assignValue(lt)&&this._onChange(lt)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(lt){this._typeaheadDebounceInterval=(0,Ie.su)(lt)}get id(){return this._id}set id(lt){this._id=lt||this._uid,this.stateChanges.next()}constructor(lt,Vt,li,xt,pn,Mn,rn,Ii,On,Ut,Ce,Ne,Le,$e){super(pn,xt,rn,Ii,Ut),this._viewportRuler=lt,this._changeDetectorRef=Vt,this._ngZone=li,this._dir=Mn,this._parentFormField=On,this._liveAnnouncer=Le,this._defaultOptions=$e,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(pe,Me)=>pe===Me,this._uid="mat-select-"+Ke++,this._triggerAriaLabelledBy=null,this._destroy=new ot.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Ke++,this._panelDoneAnimatingStream=new ot.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=(0,Ye.P)(()=>{const pe=this.options;return pe?pe.changes.pipe((0,Xt.O)(pe),(0,Zt.w)(()=>(0,pt.T)(...pe.map(Me=>Me.onSelectionChange)))):this._ngZone.onStable.pipe((0,ri.q)(1),(0,Zt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new me.vpe,this._openedStream=this.openedChange.pipe((0,ki.h)(pe=>pe),(0,Pi.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,ki.h)(pe=>!pe),(0,Pi.U)(()=>{})),this.selectionChange=new me.vpe,this.valueChange=new me.vpe,this._trackedModal=null,this._skipPredicate=pe=>!this.panelOpen&&pe.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=$e?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=$e.typeaheadDebounceInterval),this._scrollStrategyFactory=Ne,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new it.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,jt.x)(),(0,rt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,rt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,rt.R)(this._destroy)).subscribe(lt=>{lt.added.forEach(Vt=>Vt.select()),lt.removed.forEach(Vt=>Vt.deselect())}),this.options.changes.pipe((0,Xt.O)(null),(0,rt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const lt=this._getTriggerAriaLabelledby(),Vt=this.ngControl;if(lt!==this._triggerAriaLabelledBy){const li=this._elementRef.nativeElement;this._triggerAriaLabelledBy=lt,lt?li.setAttribute("aria-labelledby",lt):li.removeAttribute("aria-labelledby")}Vt&&(this._previousControl!==Vt.control&&(void 0!==this._previousControl&&null!==Vt.disabled&&Vt.disabled!==this.disabled&&(this.disabled=Vt.disabled),this._previousControl=Vt.control),this.updateErrorState())}ngOnChanges(lt){(lt.disabled||lt.userAriaDescribedBy)&&this.stateChanges.next(),lt.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck()),this.stateChanges.next()}_applyModalPanelOwnership(){const lt=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!lt)return;const Vt=`${this.id}-panel`;this._trackedModal&&(0,Ze.iD)(this._trackedModal,"aria-owns",Vt),(0,Ze.Zf)(lt,"aria-owns",Vt),this._trackedModal=lt}_clearFromModal(){this._trackedModal&&((0,Ze.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched()),this.stateChanges.next()}writeValue(lt){this._assignValue(lt)}registerOnChange(lt){this._onChange=lt}registerOnTouched(lt){this._onTouched=lt}setDisabledState(lt){this.disabled=lt,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const lt=this._selectionModel.selected.map(Vt=>Vt.viewValue);return this._isRtl()&&lt.reverse(),lt.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(lt){this.disabled||(this.panelOpen?this._handleOpenKeydown(lt):this._handleClosedKeydown(lt))}_handleClosedKeydown(lt){const Vt=lt.keyCode,li=Vt===at.JH||Vt===at.LH||Vt===at.oh||Vt===at.SV,xt=Vt===at.K5||Vt===at.L_,pn=this._keyManager;if(!pn.isTyping()&&xt&&!(0,at.Vb)(lt)||(this.multiple||lt.altKey)&&li)lt.preventDefault(),this.open();else if(!this.multiple){const Mn=this.selected;pn.onKeydown(lt);const rn=this.selected;rn&&Mn!==rn&&this._liveAnnouncer.announce(rn.viewValue,1e4)}}_handleOpenKeydown(lt){const Vt=this._keyManager,li=lt.keyCode,xt=li===at.JH||li===at.LH,pn=Vt.isTyping();if(xt&&lt.altKey)lt.preventDefault(),this.close();else if(pn||li!==at.K5&&li!==at.L_||!Vt.activeItem||(0,at.Vb)(lt))if(!pn&&this._multiple&&li===at.A&&lt.ctrlKey){lt.preventDefault();const Mn=this.options.some(rn=>!rn.disabled&&!rn.selected);this.options.forEach(rn=>{rn.disabled||(Mn?rn.select():rn.deselect())})}else{const Mn=Vt.activeItemIndex;Vt.onKeydown(lt),this._multiple&&xt&&lt.shiftKey&&Vt.activeItem&&Vt.activeItemIndex!==Mn&&Vt.activeItem._selectViaInteraction()}else lt.preventDefault(),Vt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ri.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(lt){if(this.options.forEach(Vt=>Vt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&lt)Array.isArray(lt),lt.forEach(Vt=>this._selectOptionByValue(Vt)),this._sortValues();else{const Vt=this._selectOptionByValue(lt);Vt?this._keyManager.updateActiveItem(Vt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(lt){const Vt=this.options.find(li=>{if(this._selectionModel.isSelected(li))return!1;try{return null!=li.value&&this._compareWith(li.value,lt)}catch{return!1}});return Vt&&this._selectionModel.select(Vt),Vt}_assignValue(lt){return!!(lt!==this._value||this._multiple&&Array.isArray(lt))&&(this.options&&this._setSelectionByValue(lt),this._value=lt,!0)}_getOverlayWidth(lt){return"auto"===this.panelWidth?(lt instanceof C.xu?lt.elementRef:lt||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const lt of this.options)lt._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ze.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const lt=(0,pt.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,rt.R)(lt)).subscribe(Vt=>{this._onSelect(Vt.source,Vt.isUserInput),Vt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,pt.T)(...this.options.map(Vt=>Vt._stateChanges)).pipe((0,rt.R)(lt)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(lt,Vt){const li=this._selectionModel.isSelected(lt);null!=lt.value||this._multiple?(li!==lt.selected&&(lt.selected?this._selectionModel.select(lt):this._selectionModel.deselect(lt)),Vt&&this._keyManager.setActiveItem(lt),this.multiple&&(this._sortValues(),Vt&&this.focus())):(lt.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(lt.value)),li!==this._selectionModel.isSelected(lt)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const lt=this.options.toArray();this._selectionModel.sort((Vt,li)=>this.sortComparator?this.sortComparator(Vt,li,lt):lt.indexOf(Vt)-lt.indexOf(li)),this.stateChanges.next()}}_propagateChanges(lt){let Vt;Vt=this.multiple?this.selected.map(li=>li.value):this.selected?this.selected.value:lt,this._value=Vt,this.valueChange.emit(Vt),this._onChange(Vt),this.selectionChange.emit(this._getChangeEvent(Vt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let lt=-1;for(let Vt=0;Vt<this.options.length;Vt++)if(!this.options.get(Vt).disabled){lt=Vt;break}this._keyManager.setActiveItem(lt)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(lt){this._elementRef.nativeElement.focus(lt)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const lt=this._parentFormField?.getLabelId();return this.ariaLabelledby?(lt?lt+" ":"")+this.ariaLabelledby:lt}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const lt=this._parentFormField?.getLabelId();let Vt=(lt?lt+" ":"")+this._valueId;return this.ariaLabelledby&&(Vt+=" "+this.ariaLabelledby),Vt}_panelDoneAnimating(lt){this.openedChange.emit(lt)}setDescribedByIds(lt){lt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",lt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Vt){return new(Vt||si)(me.Y36(le.rL),me.Y36(me.sBO),me.Y36(me.R0b),me.Y36(g.rD),me.Y36(me.SBq),me.Y36(nt.Is,8),me.Y36(Je.F,8),me.Y36(Je.sg,8),me.Y36(Ve.G_,8),me.Y36(Je.a5,10),me.$8M("tabindex"),me.Y36(Ot),me.Y36(Ze.Kd),me.Y36(ai,8))};static#t=this.\u0275cmp=me.Xpm({type:si,selectors:[["mat-select"]],contentQueries:function(Vt,li,xt){if(1&Vt&&(me.Suo(xt,Ei,5),me.Suo(xt,g.ey,5),me.Suo(xt,g.K7,5)),2&Vt){let pn;me.iGM(pn=me.CRH())&&(li.customTrigger=pn.first),me.iGM(pn=me.CRH())&&(li.options=pn),me.iGM(pn=me.CRH())&&(li.optionGroups=pn)}},viewQuery:function(Vt,li){if(1&Vt&&(me.Gf(ei,5),me.Gf(Nt,5),me.Gf(C.pI,5)),2&Vt){let xt;me.iGM(xt=me.CRH())&&(li.trigger=xt.first),me.iGM(xt=me.CRH())&&(li.panel=xt.first),me.iGM(xt=me.CRH())&&(li._overlayDir=xt.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Vt,li){1&Vt&&me.NdJ("keydown",function(pn){return li._handleKeydown(pn)})("focus",function(){return li._onFocus()})("blur",function(){return li._onBlur()}),2&Vt&&(me.uIk("id",li.id)("tabindex",li.tabIndex)("aria-controls",li.panelOpen?li.id+"-panel":null)("aria-expanded",li.panelOpen)("aria-label",li.ariaLabel||null)("aria-required",li.required.toString())("aria-disabled",li.disabled.toString())("aria-invalid",li.errorState)("aria-activedescendant",li._getAriaActiveDescendant()),me.ekj("mat-mdc-select-disabled",li.disabled)("mat-mdc-select-invalid",li.errorState)("mat-mdc-select-required",li.required)("mat-mdc-select-empty",li.empty)("mat-mdc-select-multiple",li.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[me._Bn([{provide:Ve.Eo,useExisting:si},{provide:g.HF,useExisting:si}]),me.qOj,me.TTD],ngContentSelectors:Fn,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Vt,li){if(1&Vt&&(me.F$t(En),me.TgZ(0,"div",0,1),me.NdJ("click",function(){return li.toggle()}),me.TgZ(3,"div",2),me.YNc(4,Dt,2,1,"span",3)(5,Ri,3,1),me.qZA(),me.TgZ(6,"div",4)(7,"div",5),me.O4$(),me.TgZ(8,"svg",6),me._UZ(9,"path",7),me.qZA()()()(),me.YNc(10,Fi,3,9,"ng-template",8),me.NdJ("backdropClick",function(){return li.close()})("attach",function(){return li._onAttached()})("detach",function(){return li.close()})),2&Vt){const xt=me.MAs(1);me.xp6(3),me.uIk("id",li._valueId),me.xp6(1),me.um2(4,li.empty?4:5),me.xp6(6),me.Q6J("cdkConnectedOverlayPanelClass",li._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",li._scrollStrategy)("cdkConnectedOverlayOrigin",li._preferredOverlayOrigin||xt)("cdkConnectedOverlayOpen",li.panelOpen)("cdkConnectedOverlayPositions",li._positions)("cdkConnectedOverlayWidth",li._overlayWidth)}},dependencies:[l.mk,C.pI,C.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Li.transformPanel]},changeDetection:0})}return si})(),yi=(()=>{class si{static#e=this.\u0275fac=function(Vt){return new(Vt||si)};static#t=this.\u0275mod=me.oAB({type:si});static#i=this.\u0275inj=me.cJS({providers:[At],imports:[l.ez,C.U8,g.Ng,g.BQ,le.ZD,Ve.lN,g.Ng,g.BQ]})}return si})()},1274:(xi,Et,U)=>{"use strict";U.d(Et,{Ye:()=>Ie,g0:()=>at});var C=U(9212),l=U(3680),me=U(2831),g=U(6814);const Ve=["*",[["mat-toolbar-row"]]],le=["*","mat-toolbar-row"],Ze=(0,l.pj)(class{constructor(Je){this._elementRef=Je}});let nt=(()=>{class Je{static#e=this.\u0275fac=function(pt){return new(pt||Je)};static#t=this.\u0275dir=C.lG2({type:Je,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return Je})(),Ie=(()=>{class Je extends Ze{constructor(Ye,pt,Xt){super(Ye),this._platform=pt,this._document=Xt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(pt){return new(pt||Je)(C.Y36(C.SBq),C.Y36(me.t4),C.Y36(g.K0))};static#t=this.\u0275cmp=C.Xpm({type:Je,selectors:[["mat-toolbar"]],contentQueries:function(pt,Xt,Zt){if(1&pt&&C.Suo(Zt,nt,5),2&pt){let ri;C.iGM(ri=C.CRH())&&(Xt._toolbarRows=ri)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(pt,Xt){2&pt&&C.ekj("mat-toolbar-multiple-rows",Xt._toolbarRows.length>0)("mat-toolbar-single-row",0===Xt._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[C.qOj],ngContentSelectors:le,decls:2,vars:0,template:function(pt,Xt){1&pt&&(C.F$t(Ve),C.Hsn(0),C.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return Je})(),at=(()=>{class Je{static#e=this.\u0275fac=function(pt){return new(pt||Je)};static#t=this.\u0275mod=C.oAB({type:Je});static#i=this.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]})}return Je})()},6593:(xi,Et,U)=>{"use strict";U.d(Et,{Dx:()=>rn,H7:()=>dn,b2:()=>Vt,q6:()=>yi,se:()=>Dt});var C=U(9212),l=U(6814);class me extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends me{static makeCurrent(){(0,l.HT)(new g)}onAndCancel(Y,K,we){return Y.addEventListener(K,we),()=>{Y.removeEventListener(K,we)}}dispatchEvent(Y,K){Y.dispatchEvent(K)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,K){return(K=K||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,K){return"window"===K?window:"document"===K?Y:"body"===K?Y.body:null}getBaseHref(Y){const K=function le(){return Ve=Ve||document.querySelector("base"),Ve?Ve.getAttribute("href"):null}();return null==K?null:function nt(G){Ze=Ze||document.createElement("a"),Ze.setAttribute("href",G);const Y=Ze.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(K)}resetBaseElement(){Ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,l.Mx)(document.cookie,Y)}}let Ze,Ve=null,it=(()=>{class G{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(we){return new(we||G)};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();const at=new C.OlP("EventManagerPlugins");let Je=(()=>{class G{constructor(K,we){this._zone=we,this._eventNameToPlugin=new Map,K.forEach(je=>{je.manager=this}),this._plugins=K.slice().reverse()}addEventListener(K,we,je){return this._findPluginFor(we).addEventListener(K,we,je)}getZone(){return this._zone}_findPluginFor(K){let we=this._eventNameToPlugin.get(K);if(we)return we;if(we=this._plugins.find(wt=>wt.supports(K)),!we)throw new C.vHH(5101,!1);return this._eventNameToPlugin.set(K,we),we}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(at),C.LFG(C.R0b))};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();class ot{constructor(Y){this._doc=Y}}const Ye="ng-app-id";let pt=(()=>{class G{constructor(K,we,je,wt={}){this.doc=K,this.appId=we,this.nonce=je,this.platformId=wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(wt),this.resetHostNodes()}addStyles(K){for(const we of K)1===this.changeUsageCount(we,1)&&this.onStyleAdded(we)}removeStyles(K){for(const we of K)this.changeUsageCount(we,-1)<=0&&this.onStyleRemoved(we)}ngOnDestroy(){const K=this.styleNodesInDOM;K&&(K.forEach(we=>we.remove()),K.clear());for(const we of this.getAllStyles())this.onStyleRemoved(we);this.resetHostNodes()}addHost(K){this.hostNodes.add(K);for(const we of this.getAllStyles())this.addStyleToHost(K,we)}removeHost(K){this.hostNodes.delete(K)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(K){for(const we of this.hostNodes)this.addStyleToHost(we,K)}onStyleRemoved(K){const we=this.styleRef;we.get(K)?.elements?.forEach(je=>je.remove()),we.delete(K)}collectServerRenderedStyles(){const K=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(K?.length){const we=new Map;return K.forEach(je=>{null!=je.textContent&&we.set(je.textContent,je)}),we}return null}changeUsageCount(K,we){const je=this.styleRef;if(je.has(K)){const wt=je.get(K);return wt.usage+=we,wt.usage}return je.set(K,{usage:we,elements:[]}),we}getStyleElement(K,we){const je=this.styleNodesInDOM,wt=je?.get(we);if(wt?.parentNode===K)return je.delete(we),wt.removeAttribute(Ye),wt;{const Be=this.doc.createElement("style");return this.nonce&&Be.setAttribute("nonce",this.nonce),Be.textContent=we,this.platformIsServer&&Be.setAttribute(Ye,this.appId),K.appendChild(Be),Be}}addStyleToHost(K,we){const je=this.getStyleElement(K,we),wt=this.styleRef,Be=wt.get(we)?.elements;Be?Be.push(je):wt.set(we,{elements:[je],usage:1})}resetHostNodes(){const K=this.hostNodes;K.clear(),K.add(this.doc.head)}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(l.K0),C.LFG(C.AFp),C.LFG(C.Ojb,8),C.LFG(C.Lbi))};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();const Xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zt=/%COMP%/g,rt=new C.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Nt(G,Y){return Y.map(K=>K.replace(Zt,G))}let Dt=(()=>{class G{constructor(K,we,je,wt,Be,Ue,_e,Ae=null){this.eventManager=K,this.sharedStylesHost=we,this.appId=je,this.removeStylesOnCompDestroy=wt,this.doc=Be,this.platformId=Ue,this.ngZone=_e,this.nonce=Ae,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(Ue),this.defaultRenderer=new _t(K,Be,_e,this.platformIsServer)}createRenderer(K,we){if(!K||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===C.ifc.ShadowDom&&(we={...we,encapsulation:C.ifc.Emulated});const je=this.getOrCreateRenderer(K,we);return je instanceof Li?je.applyToHost(K):je instanceof Fn&&je.applyStyles(),je}getOrCreateRenderer(K,we){const je=this.rendererByCompId;let wt=je.get(we.id);if(!wt){const Be=this.doc,Ue=this.ngZone,_e=this.eventManager,Ae=this.sharedStylesHost,ct=this.removeStylesOnCompDestroy,Ht=this.platformIsServer;switch(we.encapsulation){case C.ifc.Emulated:wt=new Li(_e,Ae,we,this.appId,ct,Be,Ue,Ht);break;case C.ifc.ShadowDom:return new En(_e,Ae,K,we,Be,Ue,this.nonce,Ht);default:wt=new Fn(_e,Ae,we,ct,Be,Ue,Ht)}je.set(we.id,wt)}return wt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(Je),C.LFG(pt),C.LFG(C.AFp),C.LFG(rt),C.LFG(l.K0),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(C.Ojb))};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();class _t{constructor(Y,K,we,je){this.eventManager=Y,this.doc=K,this.ngZone=we,this.platformIsServer=je,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Y,K){return K?this.doc.createElementNS(Xt[K]||K,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,K){(Fi(Y)?Y.content:Y).appendChild(K)}insertBefore(Y,K,we){Y&&(Fi(Y)?Y.content:Y).insertBefore(K,we)}removeChild(Y,K){Y&&Y.removeChild(K)}selectRootElement(Y,K){let we="string"==typeof Y?this.doc.querySelector(Y):Y;if(!we)throw new C.vHH(-5104,!1);return K||(we.textContent=""),we}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,K,we,je){if(je){K=je+":"+K;const wt=Xt[je];wt?Y.setAttributeNS(wt,K,we):Y.setAttribute(K,we)}else Y.setAttribute(K,we)}removeAttribute(Y,K,we){if(we){const je=Xt[we];je?Y.removeAttributeNS(je,K):Y.removeAttribute(`${we}:${K}`)}else Y.removeAttribute(K)}addClass(Y,K){Y.classList.add(K)}removeClass(Y,K){Y.classList.remove(K)}setStyle(Y,K,we,je){je&(C.JOm.DashCase|C.JOm.Important)?Y.style.setProperty(K,we,je&C.JOm.Important?"important":""):Y.style[K]=we}removeStyle(Y,K,we){we&C.JOm.DashCase?Y.style.removeProperty(K):Y.style[K]=""}setProperty(Y,K,we){null!=Y&&(Y[K]=we)}setValue(Y,K){Y.nodeValue=K}listen(Y,K,we){if("string"==typeof Y&&!(Y=(0,l.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${K}`);return this.eventManager.addEventListener(Y,K,this.decoratePreventDefault(we))}decoratePreventDefault(Y){return K=>{if("__ngUnwrap__"===K)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(K)):Y(K))&&K.preventDefault()}}}function Fi(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class En extends _t{constructor(Y,K,we,je,wt,Be,Ue,_e){super(Y,wt,Be,_e),this.sharedStylesHost=K,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ae=Nt(je.id,je.styles);for(const ct of Ae){const Ht=document.createElement("style");Ue&&Ht.setAttribute("nonce",Ue),Ht.textContent=ct,this.shadowRoot.appendChild(Ht)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,K){return super.appendChild(this.nodeOrShadowRoot(Y),K)}insertBefore(Y,K,we){return super.insertBefore(this.nodeOrShadowRoot(Y),K,we)}removeChild(Y,K){return super.removeChild(this.nodeOrShadowRoot(Y),K)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fn extends _t{constructor(Y,K,we,je,wt,Be,Ue,_e){super(Y,wt,Be,Ue),this.sharedStylesHost=K,this.removeStylesOnCompDestroy=je,this.styles=_e?Nt(_e,we.styles):we.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Li extends Fn{constructor(Y,K,we,je,wt,Be,Ue,_e){const Ae=je+"-"+we.id;super(Y,K,we,wt,Be,Ue,_e,Ae),this.contentAttr=function ht(G){return"_ngcontent-%COMP%".replace(Zt,G)}(Ae),this.hostAttr=function ei(G){return"_nghost-%COMP%".replace(Zt,G)}(Ae)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,K){const we=super.createElement(Y,K);return super.setAttribute(we,this.contentAttr,""),we}}let Bn=(()=>{class G extends ot{constructor(K){super(K)}supports(K){return!0}addEventListener(K,we,je){return K.addEventListener(we,je,!1),()=>this.removeEventListener(K,we,je)}removeEventListener(K,we,je){return K.removeEventListener(we,je)}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(l.K0))};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();const _i=["alt","control","meta","shift"],Xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let Ot=(()=>{class G extends ot{constructor(K){super(K)}supports(K){return null!=G.parseEventName(K)}addEventListener(K,we,je){const wt=G.parseEventName(we),Be=G.eventCallback(wt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(K,wt.domEventName,Be))}static parseEventName(K){const we=K.toLowerCase().split("."),je=we.shift();if(0===we.length||"keydown"!==je&&"keyup"!==je)return null;const wt=G._normalizeKey(we.pop());let Be="",Ue=we.indexOf("code");if(Ue>-1&&(we.splice(Ue,1),Be="code."),_i.forEach(Ae=>{const ct=we.indexOf(Ae);ct>-1&&(we.splice(ct,1),Be+=Ae+".")}),Be+=wt,0!=we.length||0===wt.length)return null;const _e={};return _e.domEventName=je,_e.fullKey=Be,_e}static matchEventFullKeyCode(K,we){let je=Xe[K.key]||K.key,wt="";return we.indexOf("code.")>-1&&(je=K.code,wt="code."),!(null==je||!je)&&(je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),_i.forEach(Be=>{Be!==je&&(0,Ke[Be])(K)&&(wt+=Be+".")}),wt+=je,wt===we)}static eventCallback(K,we,je){return wt=>{G.matchEventFullKeyCode(wt,K)&&je.runGuarded(()=>we(wt))}}static _normalizeKey(K){return"esc"===K?"escape":K}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(l.K0))};static#t=this.\u0275prov=C.Yz7({token:G,factory:G.\u0275fac})}return G})();const yi=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:l.bD},{provide:C.g9A,useValue:function ft(){g.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function kt(){return(0,C.RDi)(document),document},deps:[]}]),si=new C.OlP(""),Qi=[{provide:C.rWj,useClass:class Ie{addToWindow(Y){C.dqk.getAngularTestability=(we,je=!0)=>{const wt=Y.findTestabilityInTree(we,je);if(null==wt)throw new C.vHH(5103,!1);return wt},C.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(we=>{const je=C.dqk.getAllAngularTestabilities();let wt=je.length,Be=!1;const Ue=function(_e){Be=Be||_e,wt--,0==wt&&we(Be)};je.forEach(_e=>{_e.whenStable(Ue)})})}findTestabilityInTree(Y,K,we){return null==K?null:Y.getTestability(K)??(we?(0,l.q)().isShadowRoot(K)?this.findTestabilityInTree(Y,K.host,!0):this.findTestabilityInTree(Y,K.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],lt=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function vt(){return new C.qLn},deps:[]},{provide:at,useClass:Bn,multi:!0,deps:[l.K0,C.R0b,C.Lbi]},{provide:at,useClass:Ot,multi:!0,deps:[l.K0]},Dt,pt,Je,{provide:C.FYo,useExisting:Dt},{provide:l.JF,useClass:it,deps:[]},[]];let Vt=(()=>{class G{constructor(K){}static withServerTransition(K){return{ngModule:G,providers:[{provide:C.AFp,useValue:K.appId}]}}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(si,12))};static#t=this.\u0275mod=C.oAB({type:G});static#i=this.\u0275inj=C.cJS({providers:[...lt,...Qi],imports:[l.ez,C.hGG]})}return G})(),rn=(()=>{class G{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(l.K0))};static#t=this.\u0275prov=C.Yz7({token:G,factory:function(we){let je=null;return je=we?new we:function Mn(){return new rn((0,C.LFG)(l.K0))}(),je},providedIn:"root"})}return G})();typeof window<"u"&&window;let dn=(()=>{class G{static#e=this.\u0275fac=function(we){return new(we||G)};static#t=this.\u0275prov=C.Yz7({token:G,factory:function(we){let je=null;return je=we?new(we||G):C.LFG(Tt),je},providedIn:"root"})}return G})(),Tt=(()=>{class G extends dn{constructor(K){super(),this._doc=K}sanitize(K,we){if(null==we)return null;switch(K){case C.q3G.NONE:return we;case C.q3G.HTML:return(0,C.qzn)(we,"HTML")?(0,C.z3N)(we):(0,C.EiD)(this._doc,String(we)).toString();case C.q3G.STYLE:return(0,C.qzn)(we,"Style")?(0,C.z3N)(we):we;case C.q3G.SCRIPT:if((0,C.qzn)(we,"Script"))return(0,C.z3N)(we);throw new C.vHH(5200,!1);case C.q3G.URL:return(0,C.qzn)(we,"URL")?(0,C.z3N)(we):(0,C.mCW)(String(we));case C.q3G.RESOURCE_URL:if((0,C.qzn)(we,"ResourceURL"))return(0,C.z3N)(we);throw new C.vHH(5201,!1);default:throw new C.vHH(5202,!1)}}bypassSecurityTrustHtml(K){return(0,C.JVY)(K)}bypassSecurityTrustStyle(K){return(0,C.L6k)(K)}bypassSecurityTrustScript(K){return(0,C.eBb)(K)}bypassSecurityTrustUrl(K){return(0,C.LAX)(K)}bypassSecurityTrustResourceUrl(K){return(0,C.pB0)(K)}static#e=this.\u0275fac=function(we){return new(we||G)(C.LFG(l.K0))};static#t=this.\u0275prov=C.Yz7({token:G,factory:function(we){let je=null;return je=we?new we:function Dn(G){return new Tt(G.get(l.K0))}(C.LFG(C.zs3)),je},providedIn:"root"})}return G})()},8184:(xi,Et,U)=>{"use strict";U.d(Et,{gz:()=>yr,F0:()=>Cr,rH:()=>Ra,Od:()=>ss,Bz:()=>D,lC:()=>vr});var C=U(9212),l=U(5592),me=U(4674),Ve=U(7715),le=U(2096),Ze=U(5619),nt=U(2572),Ie=U(6973),it=U(5211),at=U(4911),Je=U(8407),ot=U(8504),Ye=U(6232),pt=U(7394),Xt=U(9360),Zt=U(8251);function ri(){return(0,Xt.e)((T,P)=>{let I=null;T._refCount++;const F=(0,Zt.x)(P,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const $=T._connection,se=I;I=null,$&&(!se||$===se)&&$.unsubscribe(),P.unsubscribe()});T.subscribe(F),F.closed||(I=T.connect())})}class ki extends l.y{constructor(P,I){super(),this.source=P,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Xt.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new pt.w0;const I=this.getSubject();P.add(this.source.subscribe((0,Zt.x)(I,void 0,()=>{this._teardown(),I.complete()},F=>{this._teardown(),I.error(F)},()=>this._teardown()))),P.closed&&(this._connection=null,P=pt.w0.EMPTY)}return P}refCount(){return ri()(this)}}var Pi=U(8645),jt=U(6814),rt=U(7398),ht=U(4664),ei=U(8180),Nt=U(7921),Dt=U(2181),_t=U(1631),Qt=U(1374),Ri=U(6328),Fi=U(9397),En=U(6306);var Bn=U(3572);function _i(T){return T<=0?()=>Ye.E:(0,Xt.e)((P,I)=>{let F=[];P.subscribe((0,Zt.x)(I,$=>{F.push($),T<F.length&&F.shift()},()=>{for(const $ of F)I.next($);I.complete()},void 0,()=>{F=null}))})}var Xe=U(3026),Ke=U(2737),Lt=U(975),ai=U(4716),At=U(9773),Ei=U(7537),ft=U(6593);const vt="primary",kt=Symbol("RouteTitle");class hi{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const I=this.params[P];return Array.isArray(I)?I[0]:I}return null}getAll(P){if(this.has(P)){const I=this.params[P];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function yi(T){return new hi(T)}function si(T,P,I){const F=I.path.split("/");if(F.length>T.length||"full"===I.pathMatch&&(P.hasChildren()||F.length<T.length))return null;const $={};for(let se=0;se<F.length;se++){const be=F[se],Qe=T[se];if(be.startsWith(":"))$[be.substring(1)]=Qe;else if(be!==Qe.path)return null}return{consumed:T.slice(0,F.length),posParams:$}}function lt(T,P){const I=T?Vt(T):void 0,F=P?Vt(P):void 0;if(!I||!F||I.length!=F.length)return!1;let $;for(let se=0;se<I.length;se++)if($=I[se],!li(T[$],P[$]))return!1;return!0}function Vt(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function li(T,P){if(Array.isArray(T)&&Array.isArray(P)){if(T.length!==P.length)return!1;const I=[...T].sort(),F=[...P].sort();return I.every(($,se)=>F[se]===$)}return T===P}function xt(T){return T.length>0?T[T.length-1]:null}function pn(T){return function g(T){return!!T&&(T instanceof l.y||(0,me.m)(T.lift)&&(0,me.m)(T.subscribe))}(T)?T:(0,C.QGY)(T)?(0,Ve.D)(Promise.resolve(T)):(0,le.of)(T)}const Mn={exact:function Ut(T,P,I){if(!ci(T.segments,P.segments)||!$e(T.segments,P.segments,I)||T.numberOfChildren!==P.numberOfChildren)return!1;for(const F in P.children)if(!T.children[F]||!Ut(T.children[F],P.children[F],I))return!1;return!0},subset:Ne},rn={exact:function On(T,P){return lt(T,P)},subset:function Ce(T,P){return Object.keys(P).length<=Object.keys(T).length&&Object.keys(P).every(I=>li(T[I],P[I]))},ignored:()=>!0};function Ii(T,P,I){return Mn[I.paths](T.root,P.root,I.matrixParams)&&rn[I.queryParams](T.queryParams,P.queryParams)&&!("exact"===I.fragment&&T.fragment!==P.fragment)}function Ne(T,P,I){return Le(T,P,P.segments,I)}function Le(T,P,I,F){if(T.segments.length>I.length){const $=T.segments.slice(0,I.length);return!(!ci($,I)||P.hasChildren()||!$e($,I,F))}if(T.segments.length===I.length){if(!ci(T.segments,I)||!$e(T.segments,I,F))return!1;for(const $ in P.children)if(!T.children[$]||!Ne(T.children[$],P.children[$],F))return!1;return!0}{const $=I.slice(0,T.segments.length),se=I.slice(T.segments.length);return!!(ci(T.segments,$)&&$e(T.segments,$,F)&&T.children[vt])&&Le(T.children[vt],P,se,F)}}function $e(T,P,I){return P.every((F,$)=>rn[I](T[$].parameters,F.parameters))}class pe{constructor(P=new Me([],{}),I={},F=null){this.root=P,this.queryParams=I,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return Ci.serialize(this)}}class Me{constructor(P,I){this.segments=P,this.children=I,this.parent=null,Object.values(I).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class Ft{constructor(P,I){this.path=P,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=yi(this.parameters)),this._parameterMap}toString(){return Oe(this)}}function ci(T,P){return T.length===P.length&&T.every((I,F)=>I.path===P[F].path)}let St=(()=>{class T{static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:()=>new wi,providedIn:"root"})}return T})();class wi{parse(P){const I=new _e(P);return new pe(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(P){const I=`/${Dn(P.root,!0)}`,F=function De(T){const P=Object.keys(T).map(I=>{const F=T[I];return Array.isArray(F)?F.map($=>`${Zi(I)}=${Zi($)}`).join("&"):`${Zi(I)}=${Zi(F)}`}).filter(I=>!!I);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${I}${F}${"string"==typeof P.fragment?`#${function de(T){return encodeURI(T)}(P.fragment)}`:""}`}}const Ci=new wi;function dn(T){return T.segments.map(P=>Oe(P)).join("/")}function Dn(T,P){if(!T.hasChildren())return dn(T);if(P){const I=T.children[vt]?Dn(T.children[vt],!1):"",F=[];return Object.entries(T.children).forEach(([$,se])=>{$!==vt&&F.push(`${$}:${Dn(se,!1)}`)}),F.length>0?`${I}(${F.join("//")})`:I}{const I=function $t(T,P){let I=[];return Object.entries(T.children).forEach(([F,$])=>{F===vt&&(I=I.concat(P($,F)))}),Object.entries(T.children).forEach(([F,$])=>{F!==vt&&(I=I.concat(P($,F)))}),I}(T,(F,$)=>$===vt?[Dn(T.children[vt],!1)]:[`${$}:${Dn(F,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[vt]?`${dn(T)}/${I[0]}`:`${dn(T)}/(${I.join("//")})`}}function Tt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zi(T){return Tt(T).replace(/%3B/gi,";")}function q(T){return Tt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Q(T){return decodeURIComponent(T)}function ve(T){return Q(T.replace(/\+/g,"%20"))}function Oe(T){return`${q(T.path)}${function ye(T){return Object.keys(T).map(P=>`;${q(P)}=${q(T[P])}`).join("")}(T.parameters)}`}const G=/^[^\/()?;#]+/;function Y(T){const P=T.match(G);return P?P[0]:""}const K=/^[^\/()?;=#]+/,je=/^[^=?&#]+/,Be=/^[^&#]+/;class _e{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(P.length>0||Object.keys(I).length>0)&&(F[vt]=new Me(P,I)),F}parseSegment(){const P=Y(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(P),new Ft(Q(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const I=function we(T){const P=T.match(K);return P?P[0]:""}(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const $=Y(this.remaining);$&&(F=$,this.capture(F))}P[Q(I)]=Q(F)}parseQueryParam(P){const I=function wt(T){const P=T.match(je);return P?P[0]:""}(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const be=function Ue(T){const P=T.match(Be);return P?P[0]:""}(this.remaining);be&&(F=be,this.capture(F))}const $=ve(I),se=ve(F);if(P.hasOwnProperty($)){let be=P[$];Array.isArray(be)||(be=[be],P[$]=be),be.push(se)}else P[$]=se}parseParens(P){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Y(this.remaining),$=this.remaining[F.length];if("/"!==$&&")"!==$&&";"!==$)throw new C.vHH(4010,!1);let se;F.indexOf(":")>-1?(se=F.slice(0,F.indexOf(":")),this.capture(se),this.capture(":")):P&&(se=vt);const be=this.parseChildren();I[se]=1===Object.keys(be).length?be[vt]:new Me([],be),this.consumeOptional("//")}return I}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new C.vHH(4011,!1)}}function Ae(T){return T.segments.length>0?new Me([],{[vt]:T}):T}function ct(T){const P={};for(const F of Object.keys(T.children)){const se=ct(T.children[F]);if(F===vt&&0===se.segments.length&&se.hasChildren())for(const[be,Qe]of Object.entries(se.children))P[be]=Qe;else(se.segments.length>0||se.hasChildren())&&(P[F]=se)}return function Ht(T){if(1===T.numberOfChildren&&T.children[vt]){const P=T.children[vt];return new Me(T.segments.concat(P.segments),P.children)}return T}(new Me(T.segments,P))}function fi(T){return T instanceof pe}function Yi(T){let P;const $=Ae(function I(se){const be={};for(const st of se.children){const oi=I(st);be[st.outlet]=oi}const Qe=new Me(se.url,be);return se===T&&(P=Qe),Qe}(T.root));return P??$}function wn(T,P,I,F){let $=T;for(;$.parent;)$=$.parent;if(0===P.length)return Nr($,$,$,I,F);const se=function ir(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Ea(!0,0,T);let P=0,I=!1;const F=T.reduce(($,se,be)=>{if("object"==typeof se&&null!=se){if(se.outlets){const Qe={};return Object.entries(se.outlets).forEach(([st,oi])=>{Qe[st]="string"==typeof oi?oi.split("/"):oi}),[...$,{outlets:Qe}]}if(se.segmentPath)return[...$,se.segmentPath]}return"string"!=typeof se?[...$,se]:0===be?(se.split("/").forEach((Qe,st)=>{0==st&&"."===Qe||(0==st&&""===Qe?I=!0:".."===Qe?P++:""!=Qe&&$.push(Qe))}),$):[...$,se]},[]);return new Ea(I,P,F)}(P);if(se.toRoot())return Nr($,$,new Me([],{}),I,F);const be=function It(T,P,I){if(T.isAbsolute)return new ps(P,!0,0);if(!I)return new ps(P,!1,NaN);if(null===I.parent)return new ps(I,!0,0);const F=Si(T.commands[0])?0:1;return function We(T,P,I){let F=T,$=P,se=I;for(;se>$;){if(se-=$,F=F.parent,!F)throw new C.vHH(4005,!1);$=F.segments.length}return new ps(F,!1,$-se)}(I,I.segments.length-1+F,T.numberOfDoubleDots)}(se,$,T),Qe=be.processChildren?Kt(be.segmentGroup,be.index,se.commands):Gt(be.segmentGroup,be.index,se.commands);return Nr($,be.segmentGroup,Qe,I,F)}function Si(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function hr(T){return"object"==typeof T&&null!=T&&T.outlets}function Nr(T,P,I,F,$){let be,se={};F&&Object.entries(F).forEach(([st,oi])=>{se[st]=Array.isArray(oi)?oi.map(Jt=>`${Jt}`):`${oi}`}),be=T===P?I:uo(T,P,I);const Qe=Ae(ct(be));return new pe(Qe,se,$)}function uo(T,P,I){const F={};return Object.entries(T.children).forEach(([$,se])=>{F[$]=se===P?I:uo(se,P,I)}),new Me(T.segments,F)}class Ea{constructor(P,I,F){if(this.isAbsolute=P,this.numberOfDoubleDots=I,this.commands=F,P&&F.length>0&&Si(F[0]))throw new C.vHH(4003,!1);const $=F.find(hr);if($&&$!==xt(F))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(P,I,F){this.segmentGroup=P,this.processChildren=I,this.index=F}}function Gt(T,P,I){if(T||(T=new Me([],{})),0===T.segments.length&&T.hasChildren())return Kt(T,P,I);const F=function ui(T,P,I){let F=0,$=P;const se={match:!1,pathIndex:0,commandIndex:0};for(;$<T.segments.length;){if(F>=I.length)return se;const be=T.segments[$],Qe=I[F];if(hr(Qe))break;const st=`${Qe}`,oi=F<I.length-1?I[F+1]:null;if($>0&&void 0===st)break;if(st&&oi&&"object"==typeof oi&&void 0===oi.outlets){if(!ar(st,oi,be))return se;F+=2}else{if(!ar(st,{},be))return se;F++}$++}return{match:!0,pathIndex:$,commandIndex:F}}(T,P,I),$=I.slice(F.commandIndex);if(F.match&&F.pathIndex<T.segments.length){const se=new Me(T.segments.slice(0,F.pathIndex),{});return se.children[vt]=new Me(T.segments.slice(F.pathIndex),T.children),Kt(se,0,$)}return F.match&&0===$.length?new Me(T.segments,{}):F.match&&!T.hasChildren()?Di(T,P,I):F.match?Kt(T,0,$):Di(T,P,I)}function Kt(T,P,I){if(0===I.length)return new Me(T.segments,{});{const F=function dt(T){return hr(T[0])?T[0].outlets:{[vt]:T}}(I),$={};if(Object.keys(F).some(se=>se!==vt)&&T.children[vt]&&1===T.numberOfChildren&&0===T.children[vt].segments.length){const se=Kt(T.children[vt],P,I);return new Me(T.segments,se.children)}return Object.entries(F).forEach(([se,be])=>{"string"==typeof be&&(be=[be]),null!==be&&($[se]=Gt(T.children[se],P,be))}),Object.entries(T.children).forEach(([se,be])=>{void 0===F[se]&&($[se]=be)}),new Me(T.segments,$)}}function Di(T,P,I){const F=T.segments.slice(0,P);let $=0;for(;$<I.length;){const se=I[$];if(hr(se)){const st=hn(se.outlets);return new Me(F,st)}if(0===$&&Si(I[0])){F.push(new Ft(T.segments[P].path,ji(I[0]))),$++;continue}const be=hr(se)?se.outlets[vt]:`${se}`,Qe=$<I.length-1?I[$+1]:null;be&&Qe&&Si(Qe)?(F.push(new Ft(be,ji(Qe))),$+=2):(F.push(new Ft(be,{})),$++)}return new Me(F,{})}function hn(T){const P={};return Object.entries(T).forEach(([I,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(P[I]=Di(new Me([],{}),0,F))}),P}function ji(T){const P={};return Object.entries(T).forEach(([I,F])=>P[I]=`${F}`),P}function ar(T,P,I){return T==I.path&&lt(P,I.parameters)}const Bi="imperative";class ln{constructor(P,I){this.id=P,this.url=I}}class cn extends ln{constructor(P,I,F="imperative",$=null){super(P,I),this.type=0,this.navigationTrigger=F,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Un extends ln{constructor(P,I,F){super(P,I),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bn extends ln{constructor(P,I,F,$){super(P,I),this.reason=F,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vn extends ln{constructor(P,I,F,$){super(P,I),this.reason=F,this.code=$,this.type=16}}class Ji extends ln{constructor(P,I,F,$){super(P,I),this.error=F,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vr extends ln{constructor(P,I,F,$){super(P,I),this.urlAfterRedirects=F,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends ln{constructor(P,I,F,$){super(P,I),this.urlAfterRedirects=F,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends ln{constructor(P,I,F,$,se){super(P,I),this.urlAfterRedirects=F,this.state=$,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class No extends ln{constructor(P,I,F,$){super(P,I),this.urlAfterRedirects=F,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qo extends ln{constructor(P,I,F,$){super(P,I),this.urlAfterRedirects=F,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ho{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ha{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Al{constructor(P,I,F){this.routerEvent=P,this.position=I,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ys{}class $a{constructor(P){this.url=P}}class Sa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fs,this.attachRef=null}}let fs=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,F){const $=this.getOrCreateContext(I);$.outlet=F,this.contexts.set(I,$)}onChildOutletDestroyed(I){const F=this.getContext(I);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let F=this.getContext(I);return F||(F=new Sa,this.contexts.set(I,F)),F}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class Ma{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const I=this.pathFromRoot(P);return I.length>1?I[I.length-2]:null}children(P){const I=Ga(P,this._root);return I?I.children.map(F=>F.value):[]}firstChild(P){const I=Ga(P,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(P){const I=ma(P,this._root);return I.length<2?[]:I[I.length-2].children.map($=>$.value).filter($=>$!==P)}pathFromRoot(P){return ma(P,this._root).map(I=>I.value)}}function Ga(T,P){if(T===P.value)return P;for(const I of P.children){const F=Ga(T,I);if(F)return F}return null}function ma(T,P){if(T===P.value)return[P];for(const I of P.children){const F=ma(T,I);if(F.length)return F.unshift(P),F}return[]}class io{constructor(P,I){this.value=P,this.children=I}toString(){return`TreeNode(${this.value})`}}function Bo(T){const P={};return T&&T.children.forEach(I=>P[I.value.outlet]=I),P}class Fs extends Ma{constructor(P,I){super(P),this.snapshot=I,es(this,P)}toString(){return this.snapshot.toString()}}function Vo(T,P){const I=function mo(T,P){const be=new jn([],{},{},"",{},vt,P,null,{});return new Jo("",new io(be,[]))}(0,P),F=new Ze.X([new Ft("",{})]),$=new Ze.X({}),se=new Ze.X({}),be=new Ze.X({}),Qe=new Ze.X(""),st=new yr(F,$,be,Qe,se,vt,P,I.root);return st.snapshot=I.root,new Fs(new io(st,[]),I)}class yr{constructor(P,I,F,$,se,be,Qe,st){this.urlSubject=P,this.paramsSubject=I,this.queryParamsSubject=F,this.fragmentSubject=$,this.dataSubject=se,this.outlet=be,this.component=Qe,this._futureSnapshot=st,this.title=this.dataSubject?.pipe((0,rt.U)(oi=>oi[kt]))??(0,le.of)(void 0),this.url=P,this.params=I,this.queryParams=F,this.fragment=$,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(P=>yi(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(P=>yi(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ls(T,P,I="emptyOnly"){let F;const{routeConfig:$}=T;return F=null===P||"always"!==I&&""!==$?.path&&(P.component||P.routeConfig?.loadComponent)?{params:T.params,data:T.data,resolve:{...T.data,...T._resolvedData??{}}}:{params:{...P.params,...T.params},data:{...P.data,...T.data},resolve:{...T.data,...P.data,...$?.data,...T._resolvedData}},$&&Xr($)&&(F.resolve[kt]=$.title),F}class jn{get title(){return this.data?.[kt]}constructor(P,I,F,$,se,be,Qe,st,oi){this.url=P,this.params=I,this.queryParams=F,this.fragment=$,this.data=se,this.outlet=be,this.component=Qe,this.routeConfig=st,this._resolve=oi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jo extends Ma{constructor(P,I){super(I),this.url=P,es(this,I)}toString(){return xo(this._root)}}function es(T,P){P.value._routerState=T,P.children.forEach(I=>es(T,I))}function xo(T){const P=T.children.length>0?` { ${T.children.map(xo).join(", ")} } `:"";return`${T.value}${P}`}function Pn(T){if(T.snapshot){const P=T.snapshot,I=T._futureSnapshot;T.snapshot=I,lt(P.queryParams,I.queryParams)||T.queryParamsSubject.next(I.queryParams),P.fragment!==I.fragment&&T.fragmentSubject.next(I.fragment),lt(P.params,I.params)||T.paramsSubject.next(I.params),function Qi(T,P){if(T.length!==P.length)return!1;for(let I=0;I<T.length;++I)if(!lt(T[I],P[I]))return!1;return!0}(P.url,I.url)||T.urlSubject.next(I.url),lt(P.data,I.data)||T.dataSubject.next(I.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Ta(T,P){const I=lt(T.params,P.params)&&function Wt(T,P){return ci(T,P)&&T.every((I,F)=>lt(I.parameters,P[F].parameters))}(T.url,P.url);return I&&!(!T.parent!=!P.parent)&&(!T.parent||Ta(T.parent,P.parent))}function Xr(T){return"string"==typeof T.title||null===T.title}let vr=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(fs),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb),this.inputBinder=(0,C.f3M)(Io,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:F,previousValue:$}=I.name;if(F)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,F){this.activated=I,this._activatedRoute=F,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){if(this.isActivated)throw new C.vHH(4013,!1);this._activatedRoute=I;const $=this.location,be=I.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,st=new gs(I,Qe,$.injector);this.activated=$.createComponent(be,{index:$.length,injector:st,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275dir=C.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]})}return T})();class gs{constructor(P,I,F){this.route=P,this.childContexts=I,this.parent=F}get(P,I){return P===yr?this.route:P===fs?this.childContexts:this.parent.get(P,I)}}const Io=new C.OlP("");let Ao=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:F}=I,$=(0,nt.a)([F.queryParams,F.params,F.data]).pipe((0,ht.w)(([se,be,Qe],st)=>(Qe={...se,...be,...Qe},0===st?(0,le.of)(Qe):Promise.resolve(Qe)))).subscribe(se=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(I);const be=(0,C.qFp)(F.component);if(be)for(const{templateName:Qe}of be.inputs)I.activatedComponentRef.setInput(Qe,se[Qe]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,$)}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac})}return T})();function Ns(T,P,I){if(I&&T.shouldReuseRoute(P.value,I.value.snapshot)){const F=I.value;F._futureSnapshot=P.value;const $=function po(T,P,I){return P.children.map(F=>{for(const $ of I.children)if(T.shouldReuseRoute(F.value,$.value.snapshot))return Ns(T,F,$);return Ns(T,F)})}(T,P,I);return new io(F,$)}{if(T.shouldAttach(P.value)){const se=T.retrieve(P.value);if(null!==se){const be=se.route;return be.value._futureSnapshot=P.value,be.children=P.children.map(Qe=>Ns(T,Qe)),be}}const F=function Ks(T){return new yr(new Ze.X(T.url),new Ze.X(T.params),new Ze.X(T.queryParams),new Ze.X(T.fragment),new Ze.X(T.data),T.outlet,T.component,T)}(P.value),$=P.children.map(se=>Ns(T,se));return new io(F,$)}}const _s="ngNavigationCancelingError";function Uo(T,P){const{redirectTo:I,navigationBehaviorOptions:F}=fi(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,$=Za(!1,0,P);return $.url=I,$.navigationBehaviorOptions=F,$}function Za(T,P,I){const F=new Error("NavigationCancelingError: "+(T||""));return F[_s]=!0,F.cancellationCode=P,I&&(F.url=I),F}function Qs(T){return T&&T[_s]}let kl=(()=>{class T{static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275cmp=C.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(F,$){1&F&&C._UZ(0,"router-outlet")},dependencies:[vr],encapsulation:2})}return T})();function vs(T){const P=T.children&&T.children.map(vs),I=P?{...T,children:P}:{...T};return!I.component&&!I.loadComponent&&(P||I.loadChildren)&&I.outlet&&I.outlet!==vt&&(I.component=kl),I}function jo(T){return T.outlet||vt}function ea(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let P=T.parent;P;P=P.parent){const I=P.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class pa{constructor(P,I,F,$,se){this.routeReuseStrategy=P,this.futureState=I,this.currState=F,this.forwardEvent=$,this.inputBindingEnabled=se}activate(P){const I=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,F,P),Pn(this.futureState.root),this.activateChildRoutes(I,F,P)}deactivateChildRoutes(P,I,F){const $=Bo(I);P.children.forEach(se=>{const be=se.value.outlet;this.deactivateRoutes(se,$[be],F),delete $[be]}),Object.values($).forEach(se=>{this.deactivateRouteAndItsChildren(se,F)})}deactivateRoutes(P,I,F){const $=P.value,se=I?I.value:null;if($===se)if($.component){const be=F.getContext($.outlet);be&&this.deactivateChildRoutes(P,I,be.children)}else this.deactivateChildRoutes(P,I,F);else se&&this.deactivateRouteAndItsChildren(I,F)}deactivateRouteAndItsChildren(P,I){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,I):this.deactivateRouteAndOutlet(P,I)}detachAndStoreRouteSubtree(P,I){const F=I.getContext(P.value.outlet),$=F&&P.value.component?F.children:I,se=Bo(P);for(const be of Object.keys(se))this.deactivateRouteAndItsChildren(se[be],$);if(F&&F.outlet){const be=F.outlet.detach(),Qe=F.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:be,route:P,contexts:Qe})}}deactivateRouteAndOutlet(P,I){const F=I.getContext(P.value.outlet),$=F&&P.value.component?F.children:I,se=Bo(P);for(const be of Object.keys(se))this.deactivateRouteAndItsChildren(se[be],$);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(P,I,F){const $=Bo(I);P.children.forEach(se=>{this.activateRoutes(se,$[se.value.outlet],F),this.forwardEvent(new zo(se.value.snapshot))}),P.children.length&&this.forwardEvent(new Rs(P.value.snapshot))}activateRoutes(P,I,F){const $=P.value,se=I?I.value:null;if(Pn($),$===se)if($.component){const be=F.getOrCreateContext($.outlet);this.activateChildRoutes(P,I,be.children)}else this.activateChildRoutes(P,I,F);else if($.component){const be=F.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Qe=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),be.children.onOutletReAttached(Qe.contexts),be.attachRef=Qe.componentRef,be.route=Qe.route.value,be.outlet&&be.outlet.attach(Qe.componentRef,Qe.route.value),Pn(Qe.route.value),this.activateChildRoutes(P,null,be.children)}else{const Qe=ea($.snapshot);be.attachRef=null,be.route=$,be.injector=Qe,be.outlet&&be.outlet.activateWith($,be.injector),this.activateChildRoutes(P,null,be.children)}}else this.activateChildRoutes(P,null,F)}}class zs{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class qa{constructor(P,I){this.component=P,this.route=I}}function Ya(T,P,I){const F=T._root;return zr(F,P?P._root:null,I,[F.value])}function en(T,P){const I=Symbol(),F=P.get(T,I);return F===I?"function"!=typeof T||(0,C.Z0I)(T)?P.get(T):T:F}function zr(T,P,I,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const se=Bo(P);return T.children.forEach(be=>{(function fn(T,P,I,F,$={canDeactivateChecks:[],canActivateChecks:[]}){const se=T.value,be=P?P.value:null,Qe=I?I.getContext(T.value.outlet):null;if(be&&se.routeConfig===be.routeConfig){const st=function wo(T,P,I){if("function"==typeof I)return I(T,P);switch(I){case"pathParamsChange":return!ci(T.url,P.url);case"pathParamsOrQueryParamsChange":return!ci(T.url,P.url)||!lt(T.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ta(T,P)||!lt(T.queryParams,P.queryParams);default:return!Ta(T,P)}}(be,se,se.routeConfig.runGuardsAndResolvers);st?$.canActivateChecks.push(new zs(F)):(se.data=be.data,se._resolvedData=be._resolvedData),zr(T,P,se.component?Qe?Qe.children:null:I,F,$),st&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&$.canDeactivateChecks.push(new qa(Qe.outlet.component,be))}else be&&kn(P,Qe,$),$.canActivateChecks.push(new zs(F)),zr(T,null,se.component?Qe?Qe.children:null:I,F,$)})(be,se[be.value.outlet],I,F.concat([be.value]),$),delete se[be.value.outlet]}),Object.entries(se).forEach(([be,Qe])=>kn(Qe,I.getContext(be),$)),$}function kn(T,P,I){const F=Bo(T),$=T.value;Object.entries(F).forEach(([se,be])=>{kn(be,$.component?P?P.children.getContext(se):null:P,I)}),I.canDeactivateChecks.push(new qa($.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,$))}function cr(T){return"function"==typeof T}function _n(T){return T instanceof Ie.K||"EmptyError"===T?.name}const nr=Symbol("INITIAL_VALUE");function Pr(){return(0,ht.w)(T=>(0,nt.a)(T.map(P=>P.pipe((0,ei.q)(1),(0,Nt.O)(nr)))).pipe((0,rt.U)(P=>{for(const I of P)if(!0!==I){if(I===nr)return nr;if(!1===I||I instanceof pe)return I}return!0}),(0,Dt.h)(P=>P!==nr),(0,ei.q)(1)))}function ta(T){return(0,Je.z)((0,Fi.b)(P=>{if(fi(P))throw Uo(0,P)}),(0,rt.U)(P=>!0===P))}class Oo{constructor(P){this.segmentGroup=P||null}}class rr extends Error{constructor(P){super(),this.urlTree=P}}function bs(T){return(0,ot._)(new Oo(T))}class Sn{constructor(P,I){this.urlSerializer=P,this.urlTree=I}noMatchError(P){return new C.vHH(4002,!1)}lineralizeSegments(P,I){let F=[],$=I.root;for(;;){if(F=F.concat($.segments),0===$.numberOfChildren)return(0,le.of)(F);if($.numberOfChildren>1||!$.children[vt])return(0,ot._)(new C.vHH(4e3,!1));$=$.children[vt]}}applyRedirectCommands(P,I,F){const $=this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),P,F);if(I.startsWith("/"))throw new rr($);return $}applyRedirectCreateUrlTree(P,I,F,$){const se=this.createSegmentGroup(P,I.root,F,$);return new pe(se,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(P,I){const F={};return Object.entries(P).forEach(([$,se])=>{if("string"==typeof se&&se.startsWith(":")){const Qe=se.substring(1);F[$]=I[Qe]}else F[$]=se}),F}createSegmentGroup(P,I,F,$){const se=this.createSegments(P,I.segments,F,$);let be={};return Object.entries(I.children).forEach(([Qe,st])=>{be[Qe]=this.createSegmentGroup(P,st,F,$)}),new Me(se,be)}createSegments(P,I,F,$){return I.map(se=>se.path.startsWith(":")?this.findPosParam(P,se,$):this.findOrReturn(se,F))}findPosParam(P,I,F){const $=F[I.path.substring(1)];if(!$)throw new C.vHH(4001,!1);return $}findOrReturn(P,I){let F=0;for(const $ of I){if($.path===P.path)return I.splice(F),$;F++}return P}}const Qr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mr(T,P,I,F,$){const se=Jr(T,P,I);return se.matched?(F=function _c(T,P){return T.providers&&!T._injector&&(T._injector=(0,C.MMx)(T.providers,P,`Route: ${T.path}`)),T._injector??P}(P,F),function xr(T,P,I,F){const $=P.canMatch;if(!$||0===$.length)return(0,le.of)(!0);const se=$.map(be=>{const Qe=en(be,T);return pn(function ce(T){return T&&cr(T.canMatch)}(Qe)?Qe.canMatch(P,I):T.runInContext(()=>Qe(P,I)))});return(0,le.of)(se).pipe(Pr(),ta())}(F,P,I).pipe((0,rt.U)(be=>!0===be?se:{...Qr}))):(0,le.of)(se)}function Jr(T,P,I){if(""===P.path)return"full"===P.pathMatch&&(T.hasChildren()||I.length>0)?{...Qr}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const $=(P.matcher||si)(I,T,P);if(!$)return{...Qr};const se={};Object.entries($.posParams??{}).forEach(([Qe,st])=>{se[Qe]=st.path});const be=$.consumed.length>0?{...se,...$.consumed[$.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:$.consumed,remainingSegments:I.slice($.consumed.length),parameters:be,positionalParamSegments:$.posParams??{}}}function ml(T,P,I,F){return I.length>0&&function pl(T,P,I){return I.some(F=>or(T,P,F)&&jo(F)!==vt)}(T,I,F)?{segmentGroup:new Me(P,Or(F,new Me(I,T.children))),slicedSegments:[]}:0===I.length&&function jr(T,P,I){return I.some(F=>or(T,P,F))}(T,I,F)?{segmentGroup:new Me(T.segments,Co(T,0,I,F,T.children)),slicedSegments:I}:{segmentGroup:new Me(T.segments,T.children),slicedSegments:I}}function Co(T,P,I,F,$){const se={};for(const be of F)if(or(T,I,be)&&!$[jo(be)]){const Qe=new Me([],{});se[jo(be)]=Qe}return{...$,...se}}function Or(T,P){const I={};I[vt]=P;for(const F of T)if(""===F.path&&jo(F)!==vt){const $=new Me([],{});I[jo(F)]=$}return I}function or(T,P,I){return(!(T.hasChildren()||P.length>0)||"full"!==I.pathMatch)&&""===I.path}class Oa{}class dd{constructor(P,I,F,$,se,be,Qe){this.injector=P,this.configLoader=I,this.rootComponentType=F,this.config=$,this.urlTree=se,this.paramsInheritanceStrategy=be,this.urlSerializer=Qe,this.applyRedirects=new Sn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new C.vHH(4002,!1)}recognize(){const P=ml(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,rt.U)(I=>{const F=new jn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,{}),$=new io(F,I),se=new Jo("",$),be=function Ui(T,P,I=null,F=null){return wn(Yi(T),P,I,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return be.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(be),this.inheritParamsAndData(se._root,null),{state:se,tree:be}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P,vt).pipe((0,En.K)(F=>{if(F instanceof rr)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof Oo?this.noMatchError(F):F}))}inheritParamsAndData(P,I){const F=P.value,$=Ls(F,I,this.paramsInheritanceStrategy);F.params=Object.freeze($.params),F.data=Object.freeze($.data),P.children.forEach(se=>this.inheritParamsAndData(se,F))}processSegmentGroup(P,I,F,$){return 0===F.segments.length&&F.hasChildren()?this.processChildren(P,I,F):this.processSegment(P,I,F,F.segments,$,!0).pipe((0,rt.U)(se=>se instanceof io?[se]:[]))}processChildren(P,I,F){const $=[];for(const se of Object.keys(F.children))"primary"===se?$.unshift(se):$.push(se);return(0,Ve.D)($).pipe((0,Ri.b)(se=>{const be=F.children[se],Qe=function Ia(T,P){const I=T.filter(F=>jo(F)===P);return I.push(...T.filter(F=>jo(F)!==P)),I}(I,se);return this.processSegmentGroup(P,Qe,be,se)}),function Li(T,P){return(0,Xt.e)(function Fn(T,P,I,F,$){return(se,be)=>{let Qe=I,st=P,oi=0;se.subscribe((0,Zt.x)(be,Jt=>{const bi=oi++;st=Qe?T(st,Jt,bi):(Qe=!0,Jt),F&&be.next(st)},$&&(()=>{Qe&&be.next(st),be.complete()})))}}(T,P,arguments.length>=2,!0))}((se,be)=>(se.push(...be),se)),(0,Bn.d)(null),function Ot(T,P){const I=arguments.length>=2;return F=>F.pipe(T?(0,Dt.h)(($,se)=>T($,se,F)):Ke.y,_i(1),I?(0,Bn.d)(P):(0,Xe.T)(()=>new Ie.K))}(),(0,_t.z)(se=>{if(null===se)return bs(F);const be=ns(se);return function fa(T){T.sort((P,I)=>P.value.outlet===vt?-1:I.value.outlet===vt?1:P.value.outlet.localeCompare(I.value.outlet))}(be),(0,le.of)(be)}))}processSegment(P,I,F,$,se,be){return(0,Ve.D)(I).pipe((0,Ri.b)(Qe=>this.processSegmentAgainstRoute(Qe._injector??P,I,Qe,F,$,se,be).pipe((0,En.K)(st=>{if(st instanceof Oo)return(0,le.of)(null);throw st}))),(0,Qt.P)(Qe=>!!Qe),(0,En.K)(Qe=>{if(_n(Qe))return function Zr(T,P,I){return 0===P.length&&!T.children[I]}(F,$,se)?(0,le.of)(new Oa):bs(F);throw Qe}))}processSegmentAgainstRoute(P,I,F,$,se,be,Qe){return function Mr(T,P,I,F){return!!(jo(T)===F||F!==vt&&or(P,I,T))&&("**"===T.path||Jr(P,T,I).matched)}(F,$,se,be)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(P,$,F,se,be):this.allowRedirects&&Qe?this.expandSegmentAgainstRouteUsingRedirect(P,$,I,F,se,be):bs($):bs($)}expandSegmentAgainstRouteUsingRedirect(P,I,F,$,se,be){const{matched:Qe,consumedSegments:st,positionalParamSegments:oi,remainingSegments:Jt}="**"===$.path?Pa(se):Jr(I,$,se);if(!Qe)return bs(I);$.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const bi=this.applyRedirects.applyRedirectCommands(st,$.redirectTo,oi);return this.applyRedirects.lineralizeSegments($,bi).pipe((0,_t.z)(Ai=>this.processSegment(P,F,I,Ai.concat(Jt),be,!1)))}matchSegmentAgainstRoute(P,I,F,$,se){let be;return"**"===F.path?(be=(0,le.of)(Pa($)),I.children={}):be=mr(I,F,$,P),be.pipe((0,ht.w)(Qe=>Qe.matched?this.getChildConfig(P=F._injector??P,F,$).pipe((0,ht.w)(({routes:st})=>{const oi=F._loadedInjector??P,{consumedSegments:Jt,remainingSegments:bi,parameters:Ai}=Qe,er=new jn(Jt,Ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ia(T){return T.data||{}}(F),jo(F),F.component??F._loadedComponent??null,F,function Ja(T){return T.resolve||{}}(F)),{segmentGroup:Rn,slicedSegments:qi}=ml(I,Jt,bi,st);if(0===qi.length&&Rn.hasChildren())return this.processChildren(oi,st,Rn).pipe((0,rt.U)(Cn=>null===Cn?null:new io(er,Cn)));if(0===st.length&&0===qi.length)return(0,le.of)(new io(er,[]));const An=jo(F)===se;return this.processSegment(oi,st,Rn,qi,An?vt:se,!0).pipe((0,rt.U)(Cn=>new io(er,Cn instanceof io?[Cn]:[])))})):bs(I)))}getChildConfig(P,I,F){return I.children?(0,le.of)({routes:I.children,injector:P}):I.loadChildren?void 0!==I._loadedRoutes?(0,le.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Qn(T,P,I,F){const $=P.canLoad;if(void 0===$||0===$.length)return(0,le.of)(!0);const se=$.map(be=>{const Qe=en(be,T);return pn(function Pl(T){return T&&cr(T.canLoad)}(Qe)?Qe.canLoad(P,I):T.runInContext(()=>Qe(P,I)))});return(0,le.of)(se).pipe(Pr(),ta())}(P,I,F).pipe((0,_t.z)($=>$?this.configLoader.loadChildren(P,I).pipe((0,Fi.b)(se=>{I._loadedRoutes=se.routes,I._loadedInjector=se.injector})):function Dr(T){return(0,ot._)(Za(!1,3))}())):(0,le.of)({routes:[],injector:P})}}function Hc(T){const P=T.value.routeConfig;return P&&""===P.path}function ns(T){const P=[],I=new Set;for(const F of T){if(!Hc(F)){P.push(F);continue}const $=P.find(se=>F.value.routeConfig===se.value.routeConfig);void 0!==$?($.children.push(...F.children),I.add($)):P.push(F)}for(const F of I){const $=ns(F.children);P.push(new io(F.value,$))}return P.filter(F=>!I.has(F))}function Pa(T){return{matched:!0,parameters:T.length>0?xt(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}function el(T,P){return(0,_t.z)(I=>{const{targetSnapshot:F,guards:{canActivateChecks:$}}=I;if(!$.length)return(0,le.of)(I);const se=$.map(oi=>oi.route),be=new Set(se),Qe=bc(se[0].parent).slice(1);let st=0;return(0,Ve.D)(Qe).pipe((0,Ri.b)(oi=>be.has(oi)?function B(T,P,I,F){const $=T.routeConfig,se=T._resolve;return void 0!==$?.title&&!Xr($)&&(se[kt]=$.title),function fe(T,P,I,F){const $=Vt(T);if(0===$.length)return(0,le.of)({});const se={};return(0,Ve.D)($).pipe((0,_t.z)(be=>function W(T,P,I,F){const $=ea(P)??F,se=en(T,$);return pn(se.resolve?se.resolve(P,I):$.runInContext(()=>se(P,I)))}(T[be],P,I,F).pipe((0,Qt.P)(),(0,Fi.b)(Qe=>{se[be]=Qe}))),_i(1),(0,Lt.h)(se),(0,En.K)(be=>_n(be)?Ye.E:(0,ot._)(be)))}(se,T,P,F).pipe((0,rt.U)(be=>(T._resolvedData=be,T.data=Ls(T,T.parent,I).resolve,null)))}(oi,F,T,P):(oi.data=Ls(oi,oi.parent,T).resolve,(0,le.of)(void 0))),(0,Fi.b)(()=>st++),_i(1),(0,_t.z)(oi=>st===Qe.length?(0,le.of)(I):Ye.E))})}function bc(T){const P=T.children.map(I=>bc(I)).flat();return[T,...P]}function te(T){return(0,ht.w)(P=>{const I=T(P);return I?(0,Ve.D)(I).pipe((0,rt.U)(()=>P)):(0,le.of)(P)})}let qe=(()=>{class T{buildTitle(I){let F,$=I.root;for(;void 0!==$;)F=this.getResolvedTitleForRoute($)??F,$=$.children.find(se=>se.outlet===vt);return F}getResolvedTitleForRoute(I){return I.data[kt]}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:()=>(0,C.f3M)(zt),providedIn:"root"})}return T})(),zt=(()=>{class T extends qe{constructor(I){super(),this.title=I}updateTitle(I){const F=this.buildTitle(I);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||T)(C.LFG(ft.Dx))};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const ii=new C.OlP("",{providedIn:"root",factory:()=>({})}),$i=new C.OlP("ROUTES");let di=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,le.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const F=pn(I.loadComponent()).pipe((0,rt.U)(Hn),(0,Fi.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=se}),(0,ai.x)(()=>{this.componentLoaders.delete(I)})),$=new ki(F,()=>new Pi.x).pipe(ri());return this.componentLoaders.set(I,$),$}loadChildren(I,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,le.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const se=function fr(T,P,I,F){return pn(T.loadChildren()).pipe((0,rt.U)(Hn),(0,_t.z)($=>$ instanceof C.YKP||Array.isArray($)?(0,le.of)($):(0,Ve.D)(P.compileModuleAsync($))),(0,rt.U)($=>{F&&F(T);let se,be,Qe=!1;return Array.isArray($)?(be=$,!0):(se=$.create(I).injector,be=se.get($i,[],{optional:!0,self:!0}).flat()),{routes:be.map(vs),injector:se}}))}(F,this.compiler,I,this.onLoadEndListener).pipe((0,ai.x)(()=>{this.childrenLoaders.delete(F)})),be=new ki(se,()=>new Pi.x).pipe(ri());return this.childrenLoaders.set(F,be),be}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Hn(T){return function gr(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let wr=(()=>{class T{static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:()=>(0,C.f3M)(Jn),providedIn:"root"})}return T})(),Jn=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,F){return I}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Hr=new C.OlP(""),xs=new C.OlP("");function Vs(T,P,I){const F=T.get(xs),$=T.get(jt.K0);return T.get(C.R0b).runOutsideAngular(()=>{if(!$.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,Promise.resolve();let se;const be=new Promise(oi=>{se=oi}),Qe=$.startViewTransition(()=>(se(),function xn(T){return new Promise(P=>{(0,C.T8G)(P,{injector:T})})}(T))),{onViewTransitionCreated:st}=F;return st&&(0,C.r_H)(T,()=>st({transition:Qe,from:P,to:I})),be})}let Ho=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pi.x,this.transitionAbortSubject=new Pi.x,this.configLoader=(0,C.f3M)(di),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(St),this.rootContexts=(0,C.f3M)(fs),this.location=(0,C.f3M)(jt.Ye),this.inputBindingEnabled=null!==(0,C.f3M)(Io,{optional:!0}),this.titleStrategy=(0,C.f3M)(qe),this.options=(0,C.f3M)(ii,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,C.f3M)(wr),this.createViewTransition=(0,C.f3M)(Hr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new ho($)),this.configLoader.onLoadStartListener=$=>this.events.next(new bo($))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:F})}setupNavigations(I,F,$){return this.transitions=new Ze.X({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bi,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.h)(se=>0!==se.id),(0,rt.U)(se=>({...se,extractedUrl:this.urlHandlingStrategy.extract(se.rawUrl)})),(0,ht.w)(se=>{this.currentTransition=se;let be=!1,Qe=!1;return(0,le.of)(se).pipe((0,Fi.b)(st=>{this.currentNavigation={id:st.id,initialUrl:st.rawUrl,extractedUrl:st.extractedUrl,trigger:st.source,extras:st.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ht.w)(st=>{const oi=!I.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!oi&&"reload"!==(st.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const bi="";return this.events.next(new Vn(st.id,this.urlSerializer.serialize(st.rawUrl),bi,0)),st.resolve(null),Ye.E}if(this.urlHandlingStrategy.shouldProcessUrl(st.rawUrl))return(0,le.of)(st).pipe((0,ht.w)(bi=>{const Ai=this.transitions?.getValue();return this.events.next(new cn(bi.id,this.urlSerializer.serialize(bi.extractedUrl),bi.source,bi.restoredState)),Ai!==this.transitions?.getValue()?Ye.E:Promise.resolve(bi)}),function vc(T,P,I,F,$,se){return(0,_t.z)(be=>function Bs(T,P,I,F,$,se,be="emptyOnly"){return new dd(T,P,I,F,$,be,se).recognize()}(T,P,I,F,be.extractedUrl,$,se).pipe((0,rt.U)(({state:Qe,tree:st})=>({...be,targetSnapshot:Qe,urlAfterRedirects:st}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Fi.b)(bi=>{se.targetSnapshot=bi.targetSnapshot,se.urlAfterRedirects=bi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:bi.urlAfterRedirects};const Ai=new Vr(bi.id,this.urlSerializer.serialize(bi.extractedUrl),this.urlSerializer.serialize(bi.urlAfterRedirects),bi.targetSnapshot);this.events.next(Ai)}));if(oi&&this.urlHandlingStrategy.shouldProcessUrl(st.currentRawUrl)){const{id:bi,extractedUrl:Ai,source:er,restoredState:Rn,extras:qi}=st,An=new cn(bi,this.urlSerializer.serialize(Ai),er,Rn);this.events.next(An);const Cn=Vo(0,this.rootComponentType).snapshot;return this.currentTransition=se={...st,targetSnapshot:Cn,urlAfterRedirects:Ai,extras:{...qi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ai,(0,le.of)(se)}{const bi="";return this.events.next(new Vn(st.id,this.urlSerializer.serialize(st.extractedUrl),bi,1)),st.resolve(null),Ye.E}}),(0,Fi.b)(st=>{const oi=new Kr(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot);this.events.next(oi)}),(0,rt.U)(st=>(this.currentTransition=se={...st,guards:Ya(st.targetSnapshot,st.currentSnapshot,this.rootContexts)},se)),function Aa(T,P){return(0,_t.z)(I=>{const{targetSnapshot:F,currentSnapshot:$,guards:{canActivateChecks:se,canDeactivateChecks:be}}=I;return 0===be.length&&0===se.length?(0,le.of)({...I,guardsResult:!0}):function br(T,P,I,F){return(0,Ve.D)(T).pipe((0,_t.z)($=>function Xa(T,P,I,F,$){const se=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,le.of)(!0);const be=se.map(Qe=>{const st=ea(P)??$,oi=en(Qe,st);return pn(function H(T){return T&&cr(T.canDeactivate)}(oi)?oi.canDeactivate(T,P,I,F):st.runInContext(()=>oi(T,P,I,F))).pipe((0,Qt.P)())});return(0,le.of)(be).pipe(Pr())}($.component,$.route,I,P,F)),(0,Qt.P)($=>!0!==$,!0))}(be,F,$,T).pipe((0,_t.z)(Qe=>Qe&&function Ka(T){return"boolean"==typeof T}(Qe)?function is(T,P,I,F){return(0,Ve.D)(P).pipe((0,Ri.b)($=>(0,it.z)(function on(T,P){return null!==T&&P&&P(new ha(T)),(0,le.of)(!0)}($.route.parent,F),function ka(T,P){return null!==T&&P&&P(new Zl(T)),(0,le.of)(!0)}($.route,F),function ro(T,P,I){const F=P[P.length-1],se=P.slice(0,P.length-1).reverse().map(be=>function Yn(T){const P=T.routeConfig?T.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:T,guards:P}:null}(be)).filter(be=>null!==be).map(be=>(0,at.P)(()=>{const Qe=be.guards.map(st=>{const oi=ea(be.node)??I,Jt=en(st,oi);return pn(function oe(T){return T&&cr(T.canActivateChild)}(Jt)?Jt.canActivateChild(F,T):oi.runInContext(()=>Jt(F,T))).pipe((0,Qt.P)())});return(0,le.of)(Qe).pipe(Pr())}));return(0,le.of)(se).pipe(Pr())}(T,$.path,I),function ko(T,P,I){const F=P.routeConfig?P.routeConfig.canActivate:null;if(!F||0===F.length)return(0,le.of)(!0);const $=F.map(se=>(0,at.P)(()=>{const be=ea(P)??I,Qe=en(se,be);return pn(function ae(T){return T&&cr(T.canActivate)}(Qe)?Qe.canActivate(P,T):be.runInContext(()=>Qe(P,T))).pipe((0,Qt.P)())}));return(0,le.of)($).pipe(Pr())}(T,$.route,I))),(0,Qt.P)($=>!0!==$,!0))}(F,se,T,P):(0,le.of)(Qe)),(0,rt.U)(Qe=>({...I,guardsResult:Qe})))})}(this.environmentInjector,st=>this.events.next(st)),(0,Fi.b)(st=>{if(se.guardsResult=st.guardsResult,fi(st.guardsResult))throw Uo(0,st.guardsResult);const oi=new mn(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects),st.targetSnapshot,!!st.guardsResult);this.events.next(oi)}),(0,Dt.h)(st=>!!st.guardsResult||(this.cancelNavigationTransition(st,"",3),!1)),te(st=>{if(st.guards.canActivateChecks.length)return(0,le.of)(st).pipe((0,Fi.b)(oi=>{const Jt=new No(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(Jt)}),(0,ht.w)(oi=>{let Jt=!1;return(0,le.of)(oi).pipe(el(this.paramsInheritanceStrategy,this.environmentInjector),(0,Fi.b)({next:()=>Jt=!0,complete:()=>{Jt||this.cancelNavigationTransition(oi,"",2)}}))}),(0,Fi.b)(oi=>{const Jt=new Qo(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(Jt)}))}),te(st=>{const oi=Jt=>{const bi=[];Jt.routeConfig?.loadComponent&&!Jt.routeConfig._loadedComponent&&bi.push(this.configLoader.loadComponent(Jt.routeConfig).pipe((0,Fi.b)(Ai=>{Jt.component=Ai}),(0,rt.U)(()=>{})));for(const Ai of Jt.children)bi.push(...oi(Ai));return bi};return(0,nt.a)(oi(st.targetSnapshot.root)).pipe((0,Bn.d)(),(0,ei.q)(1))}),te(()=>this.afterPreactivation()),(0,ht.w)(()=>{const{currentSnapshot:st,targetSnapshot:oi}=se,Jt=this.createViewTransition?.(this.environmentInjector,st.root,oi.root);return Jt?(0,Ve.D)(Jt).pipe((0,rt.U)(()=>se)):(0,le.of)(se)}),(0,rt.U)(st=>{const oi=function $n(T,P,I){const F=Ns(T,P._root,I?I._root:void 0);return new Fs(F,P)}(I.routeReuseStrategy,st.targetSnapshot,st.currentRouterState);return this.currentTransition=se={...st,targetRouterState:oi},this.currentNavigation.targetRouterState=oi,se}),(0,Fi.b)(()=>{this.events.next(new Ys)}),((T,P,I,F)=>(0,rt.U)($=>(new pa(P,$.targetRouterState,$.currentRouterState,I,F).activate(T),$)))(this.rootContexts,I.routeReuseStrategy,st=>this.events.next(st),this.inputBindingEnabled),(0,ei.q)(1),(0,Fi.b)({next:st=>{be=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(st.id,this.urlSerializer.serialize(st.extractedUrl),this.urlSerializer.serialize(st.urlAfterRedirects))),this.titleStrategy?.updateTitle(st.targetRouterState.snapshot),st.resolve(!0)},complete:()=>{be=!0}}),(0,At.R)(this.transitionAbortSubject.pipe((0,Fi.b)(st=>{throw st}))),(0,ai.x)(()=>{be||Qe||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),(0,En.K)(st=>{if(Qe=!0,Qs(st))this.events.next(new bn(se.id,this.urlSerializer.serialize(se.extractedUrl),st.message,st.cancellationCode)),function Xs(T){return Qs(T)&&fi(T.url)}(st)?this.events.next(new $a(st.url)):se.resolve(!1);else{this.events.next(new Ji(se.id,this.urlSerializer.serialize(se.extractedUrl),st,se.targetSnapshot??void 0));try{se.resolve(I.errorHandler(st))}catch(oi){se.reject(oi)}}return Ye.E}))}))}cancelNavigationTransition(I,F,$){const se=new bn(I.id,this.urlSerializer.serialize(I.extractedUrl),F,$);this.events.next(se),I.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function na(T){return T!==Bi}let ws=(()=>{class T{static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:()=>(0,C.f3M)(Cs),providedIn:"root"})}return T})();class eo{shouldDetach(P){return!1}store(P,I){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,I){return P.routeConfig===I.routeConfig}}let Cs=(()=>{class T extends eo{static#e=this.\u0275fac=(()=>{let I;return function($){return(I||(I=C.n5z(T)))($||T)}})();static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),rs=(()=>{class T{static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:()=>(0,C.f3M)(ra),providedIn:"root"})}return T})(),ra=(()=>{class T extends rs{constructor(){super(...arguments),this.location=(0,C.f3M)(jt.Ye),this.urlSerializer=(0,C.f3M)(St),this.options=(0,C.f3M)(ii,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,C.f3M)(wr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pe,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vo(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(I){return this.location.subscribe(F=>{"popstate"===F.type&&I(F.url,F.state)})}handleRouterEvent(I,F){if(I instanceof cn)this.stateMemento=this.createStateMemento();else if(I instanceof Vn)this.rawUrlTree=F.initialUrl;else if(I instanceof Vr){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl($,F)}}else I instanceof Ys?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):I instanceof bn&&(3===I.code||2===I.code)?this.restoreHistory(F):I instanceof Ji?this.restoreHistory(F,!0):I instanceof Un&&(this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId)}setBrowserUrl(I,F){const $=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo($)||F.extras.replaceUrl){const be={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState($,"",be)}else{const se={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go($,"",se)}}restoreHistory(I,F=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===I.finalUrl&&0===se&&(this.resetState(I),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,F){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:F}:{navigationId:I}}static#e=this.\u0275fac=(()=>{let I;return function($){return(I||(I=C.n5z(T)))($||T)}})();static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var fo=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(fo||{});function Wl(T,P){T.events.pipe((0,Dt.h)(I=>I instanceof Un||I instanceof bn||I instanceof Ji||I instanceof Vn),(0,rt.U)(I=>I instanceof Un||I instanceof Vn?fo.COMPLETE:I instanceof bn&&(0===I.code||1===I.code)?fo.REDIRECTING:fo.FAILED),(0,Dt.h)(I=>I!==fo.REDIRECTING),(0,ei.q)(1)).subscribe(()=>{P()})}function Tr(T){throw T}const os={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class T{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,C.f3M)(C.c2e),this.stateManager=(0,C.f3M)(rs),this.options=(0,C.f3M)(ii,{optional:!0})||{},this.pendingTasks=(0,C.f3M)(C.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,C.f3M)(Ho),this.urlSerializer=(0,C.f3M)(St),this.location=(0,C.f3M)(jt.Ye),this.urlHandlingStrategy=(0,C.f3M)(wr),this._events=new Pi.x,this.errorHandler=this.options.errorHandler||Tr,this.navigated=!1,this.routeReuseStrategy=(0,C.f3M)(ws),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,C.f3M)($i,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,C.f3M)(Io,{optional:!0}),this.eventsSubscription=new pt.w0,this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:I=>{this.console.warn(I)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(F=>{try{const $=this.navigationTransitions.currentTransition,se=this.navigationTransitions.currentNavigation;if(null!==$&&null!==se)if(this.stateManager.handleRouterEvent(F,se),F instanceof bn&&0!==F.code&&1!==F.code)this.navigated=!0;else if(F instanceof Un)this.navigated=!0;else if(F instanceof $a){const be=this.urlHandlingStrategy.merge(F.url,$.currentRawUrl),Qe={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||na($.source)};this.scheduleNavigation(be,Bi,null,Qe,{resolve:$.resolve,reject:$.reject,promise:$.promise})}(function ql(T){return!(T instanceof Ys||T instanceof $a)})(F)&&this._events.next(F)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((I,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(I,"popstate",F)},0)}))}navigateToSyncWithBrowser(I,F,$){const se={replaceUrl:!0},be=$?.navigationId?$:null;if($){const st={...$};delete st.navigationId,delete st.\u0275routerPageId,0!==Object.keys(st).length&&(se.state=st)}const Qe=this.parseUrl(I);this.scheduleNavigation(Qe,F,be,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(vs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,F={}){const{relativeTo:$,queryParams:se,fragment:be,queryParamsHandling:Qe,preserveFragment:st}=F,oi=st?this.currentUrlTree.fragment:be;let bi,Jt=null;switch(Qe){case"merge":Jt={...this.currentUrlTree.queryParams,...se};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=se||null}null!==Jt&&(Jt=this.removeEmptyProps(Jt));try{bi=Yi($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),bi=this.currentUrlTree.root}return wn(bi,I,Jt,oi??null)}navigateByUrl(I,F={skipLocationChange:!1}){const $=fi(I)?I:this.parseUrl(I),se=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(se,Bi,null,F)}navigate(I,F={skipLocationChange:!1}){return function ud(T){for(let P=0;P<T.length;P++)if(null==T[P])throw new C.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,F),F)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){try{return this.urlSerializer.parse(I)}catch{return this.urlSerializer.parse("/")}}isActive(I,F){let $;if($=!0===F?{...os}:!1===F?{...lr}:F,fi(I))return Ii(this.currentUrlTree,I,$);const se=this.parseUrl(I);return Ii(this.currentUrlTree,se,$)}removeEmptyProps(I){return Object.keys(I).reduce((F,$)=>{const se=I[$];return null!=se&&(F[$]=se),F},{})}scheduleNavigation(I,F,$,se,be){if(this.disposed)return Promise.resolve(!1);let Qe,st,oi;be?(Qe=be.resolve,st=be.reject,oi=be.promise):oi=new Promise((bi,Ai)=>{Qe=bi,st=Ai});const Jt=this.pendingTasks.add();return Wl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jt))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:I,extras:se,resolve:Qe,reject:st,promise:oi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),oi.catch(bi=>Promise.reject(bi))}static#e=this.\u0275fac=function(F){return new(F||T)};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Ra=(()=>{class T{constructor(I,F,$,se,be,Qe){this.router=I,this.route=F,this.tabIndexAttribute=$,this.renderer=se,this.el=be,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new Pi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const st=be.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===st||"area"===st,this.isAnchorElement?this.subscription=I.events.subscribe(oi=>{oi instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,F,$,se,be){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||F||$||se||be||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,C.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,F){const $=this.renderer,se=this.el.nativeElement;null!==F?$.setAttribute(se,I,F):$.removeAttribute(se,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||T)(C.Y36(Cr),C.Y36(yr),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(jt.S$))};static#t=this.\u0275dir=C.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,$){1&F&&C.NdJ("click",function(be){return $.onClick(be.button,be.ctrlKey,be.shiftKey,be.altKey,be.metaKey)}),2&F&&C.uIk("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",C.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",C.VuI],replaceUrl:["replaceUrl","replaceUrl",C.VuI],routerLink:"routerLink"},standalone:!0,features:[C.Xq5,C.TTD]})}return T})(),ss=(()=>{class T{get isActive(){return this._isActive}constructor(I,F,$,se,be){this.router=I,this.element=F,this.renderer=$,this.cdr=se,this.link=be,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new C.vpe,this.routerEventsSubscription=I.events.subscribe(Qe=>{Qe instanceof Un&&this.update()})}ngAfterContentInit(){(0,le.of)(this.links.changes,(0,le.of)(null)).pipe((0,Ei.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const I=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,Ve.D)(I).pipe((0,Ei.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(I){const F=Array.isArray(I)?I:I.split(" ");this.classes=F.filter($=>!!$)}ngOnChanges(I){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const I=this.hasActiveLinks();this._isActive!==I&&(this._isActive=I,this.cdr.markForCheck(),this.classes.forEach(F=>{I?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),I&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(I))})}isLinkActive(I){const F=function fu(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&I.isActive($.urlTree,F)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.links.some(I)}static#e=this.\u0275fac=function(F){return new(F||T)(C.Y36(Cr),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(C.sBO),C.Y36(Ra,8))};static#t=this.\u0275dir=C.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(F,$,se){if(1&F&&C.Suo(se,Ra,5),2&F){let be;C.iGM(be=C.CRH())&&($.links=be)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[C.TTD]})}return T})();class Eo{}let yn=(()=>{class T{constructor(I,F,$,se,be){this.router=I,this.injector=$,this.preloadingStrategy=se,this.loader=be}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(I=>I instanceof Un),(0,Ri.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,F){const $=[];for(const se of F){se.providers&&!se._injector&&(se._injector=(0,C.MMx)(se.providers,I,`Route: ${se.path}`));const be=se._injector??I,Qe=se._loadedInjector??be;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&$.push(this.preloadConfig(be,se)),(se.children||se._loadedRoutes)&&$.push(this.processRoutes(Qe,se.children??se._loadedRoutes))}return(0,Ve.D)($).pipe((0,Ei.J)())}preloadConfig(I,F){return this.preloadingStrategy.preload(F,()=>{let $;$=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(I,F):(0,le.of)(null);const se=$.pipe((0,_t.z)(be=>null===be?(0,le.of)(void 0):(F._loadedRoutes=be.routes,F._loadedInjector=be.injector,this.processRoutes(be.injector??I,be.routes))));if(F.loadComponent&&!F._loadedComponent){const be=this.loader.loadComponent(F);return(0,Ve.D)([se,be]).pipe((0,Ei.J)())}return se})}static#e=this.\u0275fac=function(F){return new(F||T)(C.LFG(Cr),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(Eo),C.LFG(di))};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const oa=new C.OlP("");let xc=(()=>{class T{constructor(I,F,$,se,be={}){this.urlSerializer=I,this.transitions=F,this.viewportScroller=$,this.zone=se,this.options=be,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},be.scrollPositionRestoration=be.scrollPositionRestoration||"disabled",be.anchorScrolling=be.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Un?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Vn&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Al&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Al(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){C.$Z()};static#t=this.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac})}return T})();function as(T,P){return{\u0275kind:T,\u0275providers:P}}function Fr(){const T=(0,C.f3M)(C.zs3);return P=>{const I=T.get(C.z2F);if(P!==I.components[0])return;const F=T.get(Cr),$=T.get(tl);1===T.get(gl)&&F.initialNavigation(),T.get($c,null,C.XFs.Optional)?.setUpPreloading(),T.get(oa,null,C.XFs.Optional)?.init(),F.resetRootComponentType(I.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const tl=new C.OlP("",{factory:()=>new Pi.x}),gl=new C.OlP("",{providedIn:"root",factory:()=>1}),$c=new C.OlP("");function Kl(T){return as(0,[{provide:$c,useExisting:yn},{provide:Eo,useExisting:T}])}function n(T){return as(9,[{provide:Hr,useValue:Vs},{provide:xs,useValue:{skipNextTransition:!!T?.skipInitialTransition,...T}}])}const f=new C.OlP("ROUTER_FORROOT_GUARD"),v=[jt.Ye,{provide:St,useClass:wi},Cr,fs,{provide:yr,useFactory:function Rr(T){return T.routerState.root},deps:[Cr]},di,[]];let D=(()=>{class T{constructor(I){}static forRoot(I,F){return{ngModule:T,providers:[v,[],{provide:$i,multi:!0,useValue:I},{provide:f,useFactory:Z,deps:[[Cr,new C.FiY,new C.tp0]]},{provide:ii,useValue:F||{}},F?.useHash?{provide:jt.S$,useClass:jt.Do}:{provide:jt.S$,useClass:jt.b0},{provide:oa,useFactory:()=>{const T=(0,C.f3M)(jt.EM),P=(0,C.f3M)(C.R0b),I=(0,C.f3M)(ii),F=(0,C.f3M)(Ho),$=(0,C.f3M)(St);return I.scrollOffset&&T.setOffset(I.scrollOffset),new xc($,F,T,P,I)}},F?.preloadingStrategy?Kl(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?J(F):[],F?.bindToComponentInputs?as(8,[Ao,{provide:Io,useExisting:Ao}]).\u0275providers:[],F?.enableViewTransitions?n().\u0275providers:[],[{provide:ne,useFactory:Fr},{provide:C.tb,multi:!0,useExisting:ne}]]}}static forChild(I){return{ngModule:T,providers:[{provide:$i,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(F){return new(F||T)(C.LFG(f,8))};static#t=this.\u0275mod=C.oAB({type:T});static#i=this.\u0275inj=C.cJS({})}return T})();function Z(T){return"guarded"}function J(T){return["disabled"===T.initialNavigation?as(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const P=(0,C.f3M)(Cr);return()=>{P.setUpLocationChangeListener()}}},{provide:gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?as(2,[{provide:gl,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:P=>{const I=P.get(jt.V_,Promise.resolve());return()=>I.then(()=>new Promise(F=>{const $=P.get(Cr),se=P.get(tl);Wl($,()=>{F(!0)}),P.get(Ho).afterPreactivation=()=>(F(!0),se.closed?(0,le.of)(void 0):se),$.initialNavigation()}))}}]).\u0275providers:[]]}const ne=new C.OlP("")},5861:(xi,Et,U)=>{"use strict";function C(me,g,Ve,le,Ze,nt,Ie){try{var it=me[nt](Ie),at=it.value}catch(Je){return void Ve(Je)}it.done?g(at):Promise.resolve(at).then(le,Ze)}function l(me){return function(){var g=this,Ve=arguments;return new Promise(function(le,Ze){var nt=me.apply(g,Ve);function Ie(at){C(nt,le,Ze,Ie,it,"next",at)}function it(at){C(nt,le,Ze,Ie,it,"throw",at)}Ie(void 0)})}}U.d(Et,{Z:()=>l})},7582:(xi,Et,U)=>{"use strict";function Je(Xe,Ke,Ot,Lt){return new(Ot||(Ot=Promise))(function(At,Ei){function ft(hi){try{kt(Lt.next(hi))}catch(yi){Ei(yi)}}function vt(hi){try{kt(Lt.throw(hi))}catch(yi){Ei(yi)}}function kt(hi){hi.done?At(hi.value):function ai(At){return At instanceof Ot?At:new Ot(function(Ei){Ei(At)})}(hi.value).then(ft,vt)}kt((Lt=Lt.apply(Xe,Ke||[])).next())})}function jt(Xe){return this instanceof jt?(this.v=Xe,this):new jt(Xe)}function rt(Xe,Ke,Ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ai,Lt=Ot.apply(Xe,Ke||[]),At=[];return ai={},Ei("next"),Ei("throw"),Ei("return"),ai[Symbol.asyncIterator]=function(){return this},ai;function Ei(si){Lt[si]&&(ai[si]=function(Qi){return new Promise(function(lt,Vt){At.push([si,Qi,lt,Vt])>1||ft(si,Qi)})})}function ft(si,Qi){try{!function vt(si){si.value instanceof jt?Promise.resolve(si.value.v).then(kt,hi):yi(At[0][2],si)}(Lt[si](Qi))}catch(lt){yi(At[0][3],lt)}}function kt(si){ft("next",si)}function hi(si){ft("throw",si)}function yi(si,Qi){si(Qi),At.shift(),At.length&&ft(At[0][0],At[0][1])}}function ei(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,Ke=Xe[Symbol.asyncIterator];return Ke?Ke.call(Xe):(Xe=function Xt(Xe){var Ke="function"==typeof Symbol&&Symbol.iterator,Ot=Ke&&Xe[Ke],Lt=0;if(Ot)return Ot.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&Lt>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[Lt++],done:!Xe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),Ot={},Lt("next"),Lt("throw"),Lt("return"),Ot[Symbol.asyncIterator]=function(){return this},Ot);function Lt(At){Ot[At]=Xe[At]&&function(Ei){return new Promise(function(ft,vt){!function ai(At,Ei,ft,vt){Promise.resolve(vt).then(function(kt){At({value:kt,done:ft})},Ei)}(ft,vt,(Ei=Xe[At](Ei)).done,Ei.value)})}}}U.d(Et,{FC:()=>rt,KL:()=>ei,mG:()=>Je,qq:()=>jt}),"function"==typeof SuppressedError&&SuppressedError}},xi=>{xi(xi.s=8702)}]);