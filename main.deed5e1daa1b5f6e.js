(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[179],{6637:(yi,_t,H)=>{"use strict";H.d(_t,{a:()=>Ve});var C=H(8484),l=H(5879);function le(ne,$e){1&ne&&l.Hsn(0)}const v=["*"];let Ve=(()=>{class ne{constructor(Qe,Se,Be){this.componentFactoryResolver=Qe,this.injector=Se,this.appRef=Be}ngAfterViewInit(){this.portalOutlet=new C.u0(document.querySelector("left"===this.position?"#layout-left-custom-items":"#layout-right-custom-items"),this.componentFactoryResolver,this.appRef,this.injector),this.portalOutlet.attach(this.portal)}ngOnDestroy(){this.portalOutlet.detach()}}return ne.\u0275fac=function(Qe){return new(Qe||ne)(l.Y36(l._Vd),l.Y36(l.zs3),l.Y36(l.z2F))},ne.\u0275cmp=l.Xpm({type:ne,selectors:[["showcase-layout-toolbar-menu"]],viewQuery:function(Qe,Se){if(1&Qe&&l.Gf(C.ig,5),2&Qe){let Be;l.iGM(Be=l.CRH())&&(Se.portal=Be.first)}},inputs:{position:"position"},ngContentSelectors:v,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(Qe,Se){1&Qe&&(l.F$t(),l.YNc(0,le,1,0,"ng-template",0))},dependencies:[C.bH],encapsulation:2}),ne})()},2627:(yi,_t,H)=>{"use strict";H.d(_t,{$:()=>ne});var C=H(5879),l=H(8184),le=H(1274),v=H(617),Ve=H(2296);let ne=(()=>{class $e{}return $e.\u0275fac=function(Se){return new(Se||$e)},$e.\u0275cmp=C.Xpm({type:$e,selectors:[["ng-component"]],decls:18,vars:0,consts:[["color","primary"],["id","layout-left-custom-items"],["mat-icon-button","","routerLink","/"],["svgIcon","ngx-maplibre-gl"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/demo"],["mat-button","","routerLink","/doc"],["id","layout-right-custom-items"],["mat-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["mat-icon-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["svgIcon","github"]],template:function(Se,Be){1&Se&&(C.TgZ(0,"mat-toolbar",0)(1,"div"),C._UZ(2,"div",1),C.TgZ(3,"a",2),C._UZ(4,"mat-icon",3),C.qZA(),C.TgZ(5,"a",4),C._uU(6," ngx-maplibre-gl "),C.qZA(),C.TgZ(7,"a",5),C._uU(8," Demo "),C.qZA(),C.TgZ(9,"a",6),C._uU(10," Documentation "),C.qZA()(),C.TgZ(11,"div"),C._UZ(12,"div",7),C.TgZ(13,"a",8),C._uU(14," Github "),C.qZA(),C.TgZ(15,"a",9),C._UZ(16,"mat-icon",10),C.qZA()()(),C._UZ(17,"router-outlet"))},dependencies:[l.lC,l.rH,le.Ye,v.Hw,Ve.zs,Ve.o6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px 0 0}div[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.menu-button[_ngcontent-%COMP%]{height:100%}"]}),$e})()},877:(yi,_t,H)=>{"use strict";H.d(_t,{x:()=>nt});var C=H(8484),l=H(6814),le=H(2296),v=H(617),Ve=H(1274),ne=H(8184),Se=(H(6637),H(2627),H(5879));let nt=(()=>{class Le{}return Le.\u0275fac=function(Ke){return new(Ke||Le)},Le.\u0275mod=Se.oAB({type:Le}),Le.\u0275inj=Se.cJS({imports:[l.ez,ne.Bz,Ve.g0,v.Ps,le.ot,C.eL]}),Le})()},4772:(yi,_t,H)=>{"use strict";var C=H(6593),l=H(5879),le=H(8184);let v=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-root"]],decls:1,vars:0,template:function(r,h){1&r&&l._UZ(0,"router-outlet")},dependencies:[le.lC],encapsulation:2}),c})();var Ve=H(617),ne=H(6825);function Qe(c){return new l.vHH(3e3,!1)}function pt(c){switch(c.length){case 0:return new ne.ZN;case 1:return c[0];default:return new ne.ZE(c)}}function ct(c,p,r=new Map,h=new Map){const A=[],z=[];let re=-1,_e=null;if(p.forEach(Ze=>{const ht=Ze.get("offset"),Ht=ht==re,Xt=Ht&&_e||new Map;Ze.forEach((Ri,Ki)=>{let ki=Ki,ji=Ri;if("offset"!==Ki)switch(ki=c.normalizePropertyName(ki,A),ji){case ne.k1:ji=r.get(Ki);break;case ne.l3:ji=h.get(Ki);break;default:ji=c.normalizeStyleValue(Ki,ki,ji,A)}Xt.set(ki,ji)}),Ht||z.push(Xt),_e=Xt,re=ht}),A.length)throw function qn(c){return new l.vHH(3502,!1)}();return z}function ft(c,p,r,h){switch(p){case"start":c.onStart(()=>h(r&&Yt(r,"start",c)));break;case"done":c.onDone(()=>h(r&&Yt(r,"done",c)));break;case"destroy":c.onDestroy(()=>h(r&&Yt(r,"destroy",c)))}}function Yt(c,p,r){const z=qt(c.element,c.triggerName,c.fromState,c.toState,p||c.phaseName,r.totalTime??c.totalTime,!!r.disabled),re=c._data;return null!=re&&(z._data=re),z}function qt(c,p,r,h,A="",z=0,re){return{element:c,triggerName:p,fromState:r,toState:h,phaseName:A,totalTime:z,disabled:!!re}}function gi(c,p,r){let h=c.get(p);return h||c.set(p,h=r),h}function ot(c){const p=c.indexOf(":");return[c.substring(1,p),c.slice(p+1)]}const Tt=(()=>typeof document>"u"?null:document.documentElement)();function bi(c){const p=c.parentNode||c.host||null;return p===Tt?null:p}let rn=null,zn=!1;function ue(c,p){for(;p;){if(p===c)return!0;p=bi(p)}return!1}function Te(c,p,r){if(r)return Array.from(c.querySelectorAll(p));const h=c.querySelector(p);return h?[h]:[]}let Ie=(()=>{class c{validateStyleProperty(r){return function Hi(c){rn||(rn=function wt(){return typeof document<"u"?document.body:null}()||{},zn=!!rn.style&&"WebkitAppearance"in rn.style);let p=!0;return rn.style&&!function bt(c){return"ebkit"==c.substring(1,6)}(c)&&(p=c in rn.style,!p&&zn&&(p="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in rn.style)),p}(r)}matchesElement(r,h){return!1}containsElement(r,h){return ue(r,h)}getParentElement(r){return bi(r)}query(r,h,A){return Te(r,h,A)}computeStyle(r,h,A){return A||""}animate(r,h,A,z,re,_e=[],Ze){return new ne.ZN(A,z)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),be=(()=>{class c{}return c.NOOP=new Ie,c})();const et=1e3,ii="ng-enter",wi="ng-leave",pi="ng-trigger",$t=".ng-trigger",Ci="ng-animating",Ei=".ng-animating";function Qi(c){if("number"==typeof c)return c;const p=c.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Pt(parseFloat(p[1]),p[2])}function Pt(c,p){return"s"===p?c*et:c}function Ut(c,p,r){return c.hasOwnProperty("duration")?c:function Et(c,p,r){let A,z=0,re="";if("string"==typeof c){const _e=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return p.push(Qe()),{duration:0,delay:0,easing:""};A=Pt(parseFloat(_e[1]),_e[2]);const Ze=_e[3];null!=Ze&&(z=Pt(parseFloat(Ze),_e[4]));const ht=_e[5];ht&&(re=ht)}else A=c;if(!r){let _e=!1,Ze=p.length;A<0&&(p.push(function Se(){return new l.vHH(3100,!1)}()),_e=!0),z<0&&(p.push(function Be(){return new l.vHH(3101,!1)}()),_e=!0),_e&&p.splice(Ze,0,Qe())}return{duration:A,delay:z,easing:re}}(c,p,r)}function Y(c,p={}){return Object.keys(c).forEach(r=>{p[r]=c[r]}),p}function V(c){const p=new Map;return Object.keys(c).forEach(r=>{p.set(r,c[r])}),p}function de(c,p=new Map,r){if(r)for(let[h,A]of r)p.set(h,A);for(let[h,A]of c)p.set(h,A);return p}function Me(c,p,r){p.forEach((h,A)=>{const z=ce(A);r&&!r.has(A)&&r.set(A,c.style[z]),c.style[z]=h})}function fe(c,p){p.forEach((r,h)=>{const A=ce(h);c.style[A]=""})}function se(c){return Array.isArray(c)?1==c.length?c[0]:(0,ne.vP)(c):c}const he=new RegExp("{{\\s*(.+?)\\s*}}","g");function qe(c){let p=[];if("string"==typeof c){let r;for(;r=he.exec(c);)p.push(r[1]);he.lastIndex=0}return p}function lt(c,p,r){const h=c.toString(),A=h.replace(he,(z,re)=>{let _e=p[re];return null==_e&&(r.push(function Le(c){return new l.vHH(3003,!1)}()),_e=""),_e.toString()});return A==h?c:A}function we(c){const p=[];let r=c.next();for(;!r.done;)p.push(r.value),r=c.next();return p}const De=/-+([a-z0-9])/g;function ce(c){return c.replace(De,(...p)=>p[1].toUpperCase())}function Fe(c,p,r){switch(p.type){case 7:return c.visitTrigger(p,r);case 0:return c.visitState(p,r);case 1:return c.visitTransition(p,r);case 2:return c.visitSequence(p,r);case 3:return c.visitGroup(p,r);case 4:return c.visitAnimate(p,r);case 5:return c.visitKeyframes(p,r);case 6:return c.visitStyle(p,r);case 8:return c.visitReference(p,r);case 9:return c.visitAnimateChild(p,r);case 10:return c.visitAnimateRef(p,r);case 11:return c.visitQuery(p,r);case 12:return c.visitStagger(p,r);default:throw function tt(c){return new l.vHH(3004,!1)}()}}function Ae(c,p){return window.getComputedStyle(c)[p]}const Yi="*";function _r(c,p){const r=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function Mr(c,p,r){if(":"==c[0]){const Ze=function ho(c,p){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,h)=>parseFloat(h)>parseFloat(r);case":decrement":return(r,h)=>parseFloat(h)<parseFloat(r);default:return p.push(function fi(c){return new l.vHH(3016,!1)}()),"* => *"}}(c,r);if("function"==typeof Ze)return void p.push(Ze);c=Ze}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return r.push(function ui(c){return new l.vHH(3015,!1)}()),p;const A=h[1],z=h[2],re=h[3];p.push(Ao(A,re));"<"==z[0]&&!(A==Yi&&re==Yi)&&p.push(Ao(re,A))}(h,r,p)):r.push(c),r}const oo=new Set(["true","1"]),fn=new Set(["false","0"]);function Ao(c,p){const r=oo.has(c)||fn.has(c),h=oo.has(p)||fn.has(p);return(A,z)=>{let re=c==Yi||c==A,_e=p==Yi||p==z;return!re&&r&&"boolean"==typeof A&&(re=A?oo.has(c):fn.has(c)),!_e&&h&&"boolean"==typeof z&&(_e=z?oo.has(p):fn.has(p)),re&&_e}}const cn=new RegExp("s*:selfs*,?","g");function dr(c,p,r,h){return new In(c).build(p,r,h)}class In{constructor(p){this._driver=p}build(p,r,h){const A=new Ur(r);return this._resetContextStyleTimingState(A),Fe(this,se(p),A)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,r){let h=r.queryCount=0,A=r.depCount=0;const z=[],re=[];return"@"==p.name.charAt(0)&&r.errors.push(function ut(){return new l.vHH(3006,!1)}()),p.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(r),0==_e.type){const Ze=_e,ht=Ze.name;ht.toString().split(/\s*,\s*/).forEach(Ht=>{Ze.name=Ht,z.push(this.visitState(Ze,r))}),Ze.name=ht}else if(1==_e.type){const Ze=this.visitTransition(_e,r);h+=Ze.queryCount,A+=Ze.depCount,re.push(Ze)}else r.errors.push(function Mt(){return new l.vHH(3007,!1)}())}),{type:7,name:p.name,states:z,transitions:re,queryCount:h,depCount:A,options:null}}visitState(p,r){const h=this.visitStyle(p.styles,r),A=p.options&&p.options.params||null;if(h.containsDynamicStyles){const z=new Set,re=A||{};h.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(Ze=>{qe(Ze).forEach(ht=>{re.hasOwnProperty(ht)||z.add(ht)})})}),z.size&&(we(z.values()),r.errors.push(function Vt(c,p){return new l.vHH(3008,!1)}()))}return{type:0,name:p.name,style:h,options:A?{params:A}:null}}visitTransition(p,r){r.queryCount=0,r.depCount=0;const h=Fe(this,se(p.animation),r);return{type:1,matchers:_r(p.expr,r.errors),animation:h,queryCount:r.queryCount,depCount:r.depCount,options:yr(p.options)}}visitSequence(p,r){return{type:2,steps:p.steps.map(h=>Fe(this,h,r)),options:yr(p.options)}}visitGroup(p,r){const h=r.currentTime;let A=0;const z=p.steps.map(re=>{r.currentTime=h;const _e=Fe(this,re,r);return A=Math.max(A,r.currentTime),_e});return r.currentTime=A,{type:3,steps:z,options:yr(p.options)}}visitAnimate(p,r){const h=function Uo(c,p){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return Qn(Ut(c,p).duration,0,"");const r=c;if(r.split(/\s+/).some(z=>"{"==z.charAt(0)&&"{"==z.charAt(1))){const z=Qn(0,0,"");return z.dynamic=!0,z.strValue=r,z}const A=Ut(r,p);return Qn(A.duration,A.delay,A.easing)}(p.timings,r.errors);r.currentAnimateTimings=h;let A,z=p.styles?p.styles:(0,ne.oB)({});if(5==z.type)A=this.visitKeyframes(z,r);else{let re=p.styles,_e=!1;if(!re){_e=!0;const ht={};h.easing&&(ht.easing=h.easing),re=(0,ne.oB)(ht)}r.currentTime+=h.duration+h.delay;const Ze=this.visitStyle(re,r);Ze.isEmptyStep=_e,A=Ze}return r.currentAnimateTimings=null,{type:4,timings:h,style:A,options:null}}visitStyle(p,r){const h=this._makeStyleAst(p,r);return this._validateStyleAst(h,r),h}_makeStyleAst(p,r){const h=[],A=Array.isArray(p.styles)?p.styles:[p.styles];for(let _e of A)"string"==typeof _e?_e===ne.l3?h.push(_e):r.errors.push(new l.vHH(3002,!1)):h.push(V(_e));let z=!1,re=null;return h.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(re=_e.get("easing"),_e.delete("easing")),!z))for(let Ze of _e.values())if(Ze.toString().indexOf("{{")>=0){z=!0;break}}),{type:6,styles:h,easing:re,offset:p.offset,containsDynamicStyles:z,options:null}}_validateStyleAst(p,r){const h=r.currentAnimateTimings;let A=r.currentTime,z=r.currentTime;h&&z>0&&(z-=h.duration+h.delay),p.styles.forEach(re=>{"string"!=typeof re&&re.forEach((_e,Ze)=>{const ht=r.collectedStyles.get(r.currentQuerySelector),Ht=ht.get(Ze);let Xt=!0;Ht&&(z!=A&&z>=Ht.startTime&&A<=Ht.endTime&&(r.errors.push(function ti(c,p,r,h,A){return new l.vHH(3010,!1)}()),Xt=!1),z=Ht.startTime),Xt&&ht.set(Ze,{startTime:z,endTime:A}),r.options&&function X(c,p,r){const h=p.params||{},A=qe(c);A.length&&A.forEach(z=>{h.hasOwnProperty(z)||r.push(function nt(c){return new l.vHH(3001,!1)}())})}(_e,r.options,r.errors)})})}visitKeyframes(p,r){const h={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Oe(){return new l.vHH(3011,!1)}()),h;let z=0;const re=[];let _e=!1,Ze=!1,ht=0;const Ht=p.steps.map(Wn=>{const rr=this._makeStyleAst(Wn,r);let bo=null!=rr.offset?rr.offset:function Xi(c){if("string"==typeof c)return null;let p=null;if(Array.isArray(c))c.forEach(r=>{if(r instanceof Map&&r.has("offset")){const h=r;p=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const r=c;p=parseFloat(r.get("offset")),r.delete("offset")}return p}(rr.styles),Yr=0;return null!=bo&&(z++,Yr=rr.offset=bo),Ze=Ze||Yr<0||Yr>1,_e=_e||Yr<ht,ht=Yr,re.push(Yr),rr});Ze&&r.errors.push(function We(){return new l.vHH(3012,!1)}()),_e&&r.errors.push(function Re(){return new l.vHH(3200,!1)}());const Xt=p.steps.length;let Ri=0;z>0&&z<Xt?r.errors.push(function Ft(){return new l.vHH(3202,!1)}()):0==z&&(Ri=1/(Xt-1));const Ki=Xt-1,ki=r.currentTime,ji=r.currentAnimateTimings,Mn=ji.duration;return Ht.forEach((Wn,rr)=>{const bo=Ri>0?rr==Ki?1:Ri*rr:re[rr],Yr=bo*Mn;r.currentTime=ki+ji.delay+Yr,ji.duration=Yr,this._validateStyleAst(Wn,r),Wn.offset=bo,h.styles.push(Wn)}),h}visitReference(p,r){return{type:8,animation:Fe(this,se(p.animation),r),options:yr(p.options)}}visitAnimateChild(p,r){return r.depCount++,{type:9,options:yr(p.options)}}visitAnimateRef(p,r){return{type:10,animation:this.visitReference(p.animation,r),options:yr(p.options)}}visitQuery(p,r){const h=r.currentQuerySelector,A=p.options||{};r.queryCount++,r.currentQuery=p;const[z,re]=function Bn(c){const p=!!c.split(/\s*,\s*/).find(r=>":self"==r);return p&&(c=c.replace(cn,"")),c=c.replace(/@\*/g,$t).replace(/@\w+/g,r=>$t+"-"+r.slice(1)).replace(/:animating/g,Ei),[c,p]}(p.selector);r.currentQuerySelector=h.length?h+" "+z:z,gi(r.collectedStyles,r.currentQuerySelector,new Map);const _e=Fe(this,se(p.animation),r);return r.currentQuery=null,r.currentQuerySelector=h,{type:11,selector:z,limit:A.limit||0,optional:!!A.optional,includeSelf:re,animation:_e,originalSelector:p.selector,options:yr(p.options)}}visitStagger(p,r){r.currentQuery||r.errors.push(function Ot(){return new l.vHH(3013,!1)}());const h="full"===p.timings?{duration:0,delay:0,easing:"full"}:Ut(p.timings,r.errors,!0);return{type:12,animation:Fe(this,se(p.animation),r),timings:h,options:null}}}class Ur{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yr(c){return c?(c=Y(c)).params&&(c.params=function ko(c){return c?Y(c):null}(c.params)):c={},c}function Qn(c,p,r){return{duration:c,delay:p,easing:r}}function Po(c,p,r,h,A,z,re=null,_e=!1){return{type:1,element:c,keyframes:p,preStyleProps:r,postStyleProps:h,duration:A,delay:z,totalTime:A+z,easing:re,subTimeline:_e}}class xo{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,r){let h=this._map.get(p);h||this._map.set(p,h=[]),h.push(...r)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const $a=new RegExp(":enter","g"),oa=new RegExp(":leave","g");function js(c,p,r,h,A,z=new Map,re=new Map,_e,Ze,ht=[]){return(new Ds).buildKeyframes(c,p,r,h,A,z,re,_e,Ze,ht)}class Ds{buildKeyframes(p,r,h,A,z,re,_e,Ze,ht,Ht=[]){ht=ht||new xo;const Xt=new vr(p,r,ht,A,z,Ht,[]);Xt.options=Ze;const Ri=Ze.delay?Qi(Ze.delay):0;Xt.currentTimeline.delayNextStep(Ri),Xt.currentTimeline.setStyles([re],null,Xt.errors,Ze),Fe(this,h,Xt);const Ki=Xt.timelines.filter(ki=>ki.containsAnimation());if(Ki.length&&_e.size){let ki;for(let ji=Ki.length-1;ji>=0;ji--){const Mn=Ki[ji];if(Mn.element===r){ki=Mn;break}}ki&&!ki.allowOnlyTimelineStyles()&&ki.setStyles([_e],null,Xt.errors,Ze)}return Ki.length?Ki.map(ki=>ki.buildKeyframes()):[Po(r,[],[],[],0,Ri,"",!1)]}visitTrigger(p,r){}visitState(p,r){}visitTransition(p,r){}visitAnimateChild(p,r){const h=r.subInstructions.get(r.element);if(h){const A=r.createSubContext(p.options),z=r.currentTimeline.currentTime,re=this._visitSubInstructions(h,A,A.options);z!=re&&r.transformIntoNewTimeline(re)}r.previousNode=p}visitAnimateRef(p,r){const h=r.createSubContext(p.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],r,h),this.visitReference(p.animation,h),r.transformIntoNewTimeline(h.currentTimeline.currentTime),r.previousNode=p}_applyAnimationRefDelays(p,r,h){for(const A of p){const z=A?.delay;if(z){const re="number"==typeof z?z:Qi(lt(z,A?.params??{},r.errors));h.delayNextStep(re)}}}_visitSubInstructions(p,r,h){let z=r.currentTimeline.currentTime;const re=null!=h.duration?Qi(h.duration):null,_e=null!=h.delay?Qi(h.delay):null;return 0!==re&&p.forEach(Ze=>{const ht=r.appendInstructionToTimeline(Ze,re,_e);z=Math.max(z,ht.duration+ht.delay)}),z}visitReference(p,r){r.updateOptions(p.options,!0),Fe(this,p.animation,r),r.previousNode=p}visitSequence(p,r){const h=r.subContextCount;let A=r;const z=p.options;if(z&&(z.params||z.delay)&&(A=r.createSubContext(z),A.transformIntoNewTimeline(),null!=z.delay)){6==A.previousNode.type&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=dn);const re=Qi(z.delay);A.delayNextStep(re)}p.steps.length&&(p.steps.forEach(re=>Fe(this,re,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>h&&A.transformIntoNewTimeline()),r.previousNode=p}visitGroup(p,r){const h=[];let A=r.currentTimeline.currentTime;const z=p.options&&p.options.delay?Qi(p.options.delay):0;p.steps.forEach(re=>{const _e=r.createSubContext(p.options);z&&_e.delayNextStep(z),Fe(this,re,_e),A=Math.max(A,_e.currentTimeline.currentTime),h.push(_e.currentTimeline)}),h.forEach(re=>r.currentTimeline.mergeTimelineCollectedStyles(re)),r.transformIntoNewTimeline(A),r.previousNode=p}_visitTiming(p,r){if(p.dynamic){const h=p.strValue;return Ut(r.params?lt(h,r.params,r.errors):h,r.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,r){const h=r.currentAnimateTimings=this._visitTiming(p.timings,r),A=r.currentTimeline;h.delay&&(r.incrementTime(h.delay),A.snapshotCurrentStyles());const z=p.style;5==z.type?this.visitKeyframes(z,r):(r.incrementTime(h.duration),this.visitStyle(z,r),A.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=p}visitStyle(p,r){const h=r.currentTimeline,A=r.currentAnimateTimings;!A&&h.hasCurrentStyleProperties()&&h.forwardFrame();const z=A&&A.easing||p.easing;p.isEmptyStep?h.applyEmptyStep(z):h.setStyles(p.styles,z,r.errors,r.options),r.previousNode=p}visitKeyframes(p,r){const h=r.currentAnimateTimings,A=r.currentTimeline.duration,z=h.duration,_e=r.createSubContext().currentTimeline;_e.easing=h.easing,p.styles.forEach(Ze=>{_e.forwardTime((Ze.offset||0)*z),_e.setStyles(Ze.styles,Ze.easing,r.errors,r.options),_e.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(_e),r.transformIntoNewTimeline(A+z),r.previousNode=p}visitQuery(p,r){const h=r.currentTimeline.currentTime,A=p.options||{},z=A.delay?Qi(A.delay):0;z&&(6===r.previousNode.type||0==h&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dn);let re=h;const _e=r.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!A.optional,r.errors);r.currentQueryTotal=_e.length;let Ze=null;_e.forEach((ht,Ht)=>{r.currentQueryIndex=Ht;const Xt=r.createSubContext(p.options,ht);z&&Xt.delayNextStep(z),ht===r.element&&(Ze=Xt.currentTimeline),Fe(this,p.animation,Xt),Xt.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Xt.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(re),Ze&&(r.currentTimeline.mergeTimelineCollectedStyles(Ze),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=p}visitStagger(p,r){const h=r.parentContext,A=r.currentTimeline,z=p.timings,re=Math.abs(z.duration),_e=re*(r.currentQueryTotal-1);let Ze=re*r.currentQueryIndex;switch(z.duration<0?"reverse":z.easing){case"reverse":Ze=_e-Ze;break;case"full":Ze=h.currentStaggerTime}const Ht=r.currentTimeline;Ze&&Ht.delayNextStep(Ze);const Xt=Ht.currentTime;Fe(this,p.animation,r),r.previousNode=p,h.currentStaggerTime=A.currentTime-Xt+(A.startTime-h.currentTimeline.startTime)}}const dn={};class vr{constructor(p,r,h,A,z,re,_e,Ze){this._driver=p,this.element=r,this.subInstructions=h,this._enterClassName=A,this._leaveClassName=z,this.errors=re,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ze||new mo(this._driver,r,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,r){if(!p)return;const h=p;let A=this.options;null!=h.duration&&(A.duration=Qi(h.duration)),null!=h.delay&&(A.delay=Qi(h.delay));const z=h.params;if(z){let re=A.params;re||(re=this.options.params={}),Object.keys(z).forEach(_e=>{(!r||!re.hasOwnProperty(_e))&&(re[_e]=lt(z[_e],re,this.errors))})}}_copyOptions(){const p={};if(this.options){const r=this.options.params;if(r){const h=p.params={};Object.keys(r).forEach(A=>{h[A]=r[A]})}}return p}createSubContext(p=null,r,h){const A=r||this.element,z=new vr(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,h||0));return z.previousNode=this.previousNode,z.currentAnimateTimings=this.currentAnimateTimings,z.options=this._copyOptions(),z.updateOptions(p),z.currentQueryIndex=this.currentQueryIndex,z.currentQueryTotal=this.currentQueryTotal,z.parentContext=this,this.subContextCount++,z}transformIntoNewTimeline(p){return this.previousNode=dn,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,r,h){const A={duration:r??p.duration,delay:this.currentTimeline.currentTime+(h??0)+p.delay,easing:""},z=new sa(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,A,p.stretchStartingKeyframe);return this.timelines.push(z),A}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,r,h,A,z,re){let _e=[];if(A&&_e.push(this.element),p.length>0){p=(p=p.replace($a,"."+this._enterClassName)).replace(oa,"."+this._leaveClassName);let ht=this._driver.query(this.element,p,1!=h);0!==h&&(ht=h<0?ht.slice(ht.length+h,ht.length):ht.slice(0,h)),_e.push(...ht)}return!z&&0==_e.length&&re.push(function Bt(c){return new l.vHH(3014,!1)}()),_e}}class mo{constructor(p,r,h,A){this._driver=p,this.element=r,this.startTime=h,this._elementTimelineStylesLookup=A,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+p),r&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,r){return this.applyStylesToKeyframe(),new mo(this._driver,p,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,r){this._localTimelineStyles.set(p,r),this._globalTimelineStyles.set(p,r),this._styleSummary.set(p,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[r,h]of this._globalTimelineStyles)this._backFill.set(r,h||ne.l3),this._currentKeyframe.set(r,ne.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,r,h,A){r&&this._previousKeyframe.set("easing",r);const z=A&&A.params||{},re=function sl(c,p){const r=new Map;let h;return c.forEach(A=>{if("*"===A){h=h||p.keys();for(let z of h)r.set(z,ne.l3)}else de(A,r)}),r}(p,this._globalTimelineStyles);for(let[_e,Ze]of re){const ht=lt(Ze,z,h);this._pendingStyles.set(_e,ht),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??ne.l3),this._updateStyle(_e,ht)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,r)=>{this._currentKeyframe.set(r,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,p)}))}snapshotCurrentStyles(){for(let[p,r]of this._localTimelineStyles)this._pendingStyles.set(p,r),this._updateStyle(p,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let r in this._currentKeyframe)p.push(r);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((r,h)=>{const A=this._styleSummary.get(h);(!A||r.time>A.time)&&this._updateStyle(h,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,r=new Set,h=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((_e,Ze)=>{const ht=de(_e,new Map,this._backFill);ht.forEach((Ht,Xt)=>{Ht===ne.k1?p.add(Xt):Ht===ne.l3&&r.add(Xt)}),h||ht.set("offset",Ze/this.duration),A.push(ht)});const z=p.size?we(p.values()):[],re=r.size?we(r.values()):[];if(h){const _e=A[0],Ze=new Map(_e);_e.set("offset",0),Ze.set("offset",1),A=[_e,Ze]}return Po(this.element,A,z,re,this.duration,this.startTime,this.easing,!1)}}class sa extends mo{constructor(p,r,h,A,z,re,_e=!1){super(p,r,re.delay),this.keyframes=h,this.preStyleProps=A,this.postStyleProps=z,this._stretchStartingKeyframe=_e,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:r,duration:h,easing:A}=this.timings;if(this._stretchStartingKeyframe&&r){const z=[],re=h+r,_e=r/re,Ze=de(p[0]);Ze.set("offset",0),z.push(Ze);const ht=de(p[0]);ht.set("offset",Dr(_e)),z.push(ht);const Ht=p.length-1;for(let Xt=1;Xt<=Ht;Xt++){let Ri=de(p[Xt]);const Ki=Ri.get("offset");Ri.set("offset",Dr((r+Ki*h)/re)),z.push(Ri)}h=re,r=0,A="",p=z}return Po(this.element,p,this.preStyleProps,this.postStyleProps,h,r,A,!0)}}function Dr(c,p=3){const r=Math.pow(10,p-1);return Math.round(c*r)/r}class Hs{}const aa=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class br extends Hs{normalizePropertyName(p,r){return ce(p)}normalizeStyleValue(p,r,h,A){let z="";const re=h.toString().trim();if(aa.has(r)&&0!==h&&"0"!==h)if("number"==typeof h)z="px";else{const _e=h.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&A.push(function Ke(c,p){return new l.vHH(3005,!1)}())}return re+z}}function Oi(c,p,r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri){return{type:0,element:c,triggerName:p,isRemovalTransition:A,fromState:r,fromStyles:z,toState:h,toStyles:re,timelines:_e,queriedElements:Ze,preStyleProps:ht,postStyleProps:Ht,totalTime:Xt,errors:Ri}}const mn={};class Gn{constructor(p,r,h){this._triggerName=p,this.ast=r,this._stateStyles=h}match(p,r,h,A){return function Oo(c,p,r,h,A){return c.some(z=>z(p,r,h,A))}(this.ast.matchers,p,r,h,A)}buildStyles(p,r,h){let A=this._stateStyles.get("*");return void 0!==p&&(A=this._stateStyles.get(p?.toString())||A),A?A.buildStyles(r,h):new Map}build(p,r,h,A,z,re,_e,Ze,ht,Ht){const Xt=[],Ri=this.ast.options&&this.ast.options.params||mn,ki=this.buildStyles(h,_e&&_e.params||mn,Xt),ji=Ze&&Ze.params||mn,Mn=this.buildStyles(A,ji,Xt),Wn=new Set,rr=new Map,bo=new Map,Yr="void"===A,ja={params:Sr(ji,Ri),delay:this.ast.options?.delay},nl=Ht?[]:js(p,r,this.ast.animation,z,re,ki,Mn,ja,ht,Xt);let Cs=0;if(nl.forEach(cs=>{Cs=Math.max(cs.duration+cs.delay,Cs)}),Xt.length)return Oi(r,this._triggerName,h,A,Yr,ki,Mn,[],[],rr,bo,Cs,Xt);nl.forEach(cs=>{const ds=cs.element,np=gi(rr,ds,new Set);cs.preStyleProps.forEach(no=>np.add(no));const vc=gi(bo,ds,new Set);cs.postStyleProps.forEach(no=>vc.add(no)),ds!==r&&Wn.add(ds)});const rl=we(Wn.values());return Oi(r,this._triggerName,h,A,Yr,ki,Mn,nl,rl,rr,bo,Cs)}}function Sr(c,p){const r=Y(p);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(r[h]=c[h]);return r}class Or{constructor(p,r,h){this.styles=p,this.defaultParams=r,this.normalizer=h}buildStyles(p,r){const h=new Map,A=Y(this.defaultParams);return Object.keys(p).forEach(z=>{const re=p[z];null!==re&&(A[z]=re)}),this.styles.styles.forEach(z=>{"string"!=typeof z&&z.forEach((re,_e)=>{re&&(re=lt(re,A,r));const Ze=this.normalizer.normalizePropertyName(_e,r);re=this.normalizer.normalizeStyleValue(_e,Ze,re,r),h.set(_e,re)})}),h}}class Zo{constructor(p,r,h){this.name=p,this.ast=r,this._normalizer=h,this.transitionFactories=[],this.states=new Map,r.states.forEach(A=>{this.states.set(A.name,new Or(A.style,A.options&&A.options.params||{},h))}),on(this.states,"true","1"),on(this.states,"false","0"),r.transitions.forEach(A=>{this.transitionFactories.push(new Gn(p,A,this.states))}),this.fallbackTransition=function wo(c,p,r){return new Gn(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,_e)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,r,h,A){return this.transitionFactories.find(re=>re.match(p,r,h,A))||null}matchStyles(p,r,h){return this.fallbackTransition.buildStyles(p,r,h)}}function on(c,p,r){c.has(p)?c.has(r)||c.set(r,c.get(p)):c.has(r)&&c.set(p,c.get(r))}const Ro=new xo;class kn{constructor(p,r,h){this.bodyNode=p,this._driver=r,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,r){const h=[],z=dr(this._driver,r,h,[]);if(h.length)throw function vn(c){return new l.vHH(3503,!1)}();this._animations.set(p,z)}_buildPlayer(p,r,h){const A=p.element,z=ct(this._normalizer,p.keyframes,r,h);return this._driver.animate(A,z,p.duration,p.delay,p.easing,[],!0)}create(p,r,h={}){const A=[],z=this._animations.get(p);let re;const _e=new Map;if(z?(re=js(this._driver,r,z,ii,wi,new Map,new Map,h,Ro,A),re.forEach(Ht=>{const Xt=gi(_e,Ht.element,new Map);Ht.postStyleProps.forEach(Ri=>Xt.set(Ri,null))})):(A.push(function Fn(){return new l.vHH(3300,!1)}()),re=[]),A.length)throw function Pn(c){return new l.vHH(3504,!1)}();_e.forEach((Ht,Xt)=>{Ht.forEach((Ri,Ki)=>{Ht.set(Ki,this._driver.computeStyle(Xt,Ki,ne.l3))})});const ht=pt(re.map(Ht=>{const Xt=_e.get(Ht.element);return this._buildPlayer(Ht,new Map,Xt)}));return this._playersById.set(p,ht),ht.onDestroy(()=>this.destroy(p)),this.players.push(ht),ht}destroy(p){const r=this._getPlayer(p);r.destroy(),this._playersById.delete(p);const h=this.players.indexOf(r);h>=0&&this.players.splice(h,1)}_getPlayer(p){const r=this._playersById.get(p);if(!r)throw function vt(c){return new l.vHH(3301,!1)}();return r}listen(p,r,h,A){const z=qt(r,"","","");return ft(this._getPlayer(p),h,z,A),()=>{}}command(p,r,h,A){if("register"==h)return void this.register(p,A[0]);if("create"==h)return void this.create(p,r,A[0]||{});const z=this._getPlayer(p);switch(h){case"play":z.play();break;case"pause":z.pause();break;case"reset":z.reset();break;case"restart":z.restart();break;case"finish":z.finish();break;case"init":z.init();break;case"setPosition":z.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(p)}}}const jr="ng-animate-queued",Rr="ng-animate-disabled",la=[],is={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kr="__ng_removed";class hs{get params(){return this.options.params}constructor(p,r=""){this.namespaceId=r;const h=p&&p.hasOwnProperty("value");if(this.value=function wa(c){return c??null}(h?p.value:p),h){const z=Y(p);delete z.value,this.options=z}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const r=p.params;if(r){const h=this.options.params;Object.keys(r).forEach(A=>{null==h[A]&&(h[A]=r[A])})}}}const yn="void",ms=new hs(yn);class Ml{constructor(p,r,h){this.id=p,this.hostElement=r,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,so(r,this._hostClassName)}listen(p,r,h,A){if(!this._triggers.has(r))throw function Ct(c,p){return new l.vHH(3302,!1)}();if(null==h||0==h.length)throw function Rt(c){return new l.vHH(3303,!1)}();if(!function Xr(c){return"start"==c||"done"==c}(h))throw function zt(c,p){return new l.vHH(3400,!1)}();const z=gi(this._elementListeners,p,[]),re={name:r,phase:h,callback:A};z.push(re);const _e=gi(this._engine.statesByElement,p,new Map);return _e.has(r)||(so(p,pi),so(p,pi+"-"+r),_e.set(r,ms)),()=>{this._engine.afterFlush(()=>{const Ze=z.indexOf(re);Ze>=0&&z.splice(Ze,1),this._triggers.has(r)||_e.delete(r)})}}register(p,r){return!this._triggers.has(p)&&(this._triggers.set(p,r),!0)}_getTrigger(p){const r=this._triggers.get(p);if(!r)throw function Jt(c){return new l.vHH(3401,!1)}();return r}trigger(p,r,h,A=!0){const z=this._getTrigger(r),re=new po(this.id,r,p);let _e=this._engine.statesByElement.get(p);_e||(so(p,pi),so(p,pi+"-"+r),this._engine.statesByElement.set(p,_e=new Map));let Ze=_e.get(r);const ht=new hs(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&Ze&&ht.absorbOptions(Ze.options),_e.set(r,ht),Ze||(Ze=ms),ht.value!==yn&&Ze.value===ht.value){if(!function ll(c,p){const r=Object.keys(c),h=Object.keys(p);if(r.length!=h.length)return!1;for(let A=0;A<r.length;A++){const z=r[A];if(!p.hasOwnProperty(z)||c[z]!==p[z])return!1}return!0}(Ze.params,ht.params)){const ji=[],Mn=z.matchStyles(Ze.value,Ze.params,ji),Wn=z.matchStyles(ht.value,ht.params,ji);ji.length?this._engine.reportError(ji):this._engine.afterFlush(()=>{fe(p,Mn),Me(p,Wn)})}return}const Ri=gi(this._engine.playersByElement,p,[]);Ri.forEach(ji=>{ji.namespaceId==this.id&&ji.triggerName==r&&ji.queued&&ji.destroy()});let Ki=z.matchTransition(Ze.value,ht.value,p,ht.params),ki=!1;if(!Ki){if(!A)return;Ki=z.fallbackTransition,ki=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:r,transition:Ki,fromState:Ze,toState:ht,player:re,isFallbackTransition:ki}),ki||(so(p,jr),re.onStart(()=>{Hr(p,jr)})),re.onDone(()=>{let ji=this.players.indexOf(re);ji>=0&&this.players.splice(ji,1);const Mn=this._engine.playersByElement.get(p);if(Mn){let Wn=Mn.indexOf(re);Wn>=0&&Mn.splice(Wn,1)}}),this.players.push(re),Ri.push(re),re}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(r=>r.delete(p)),this._elementListeners.forEach((r,h)=>{this._elementListeners.set(h,r.filter(A=>A.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const r=this._engine.playersByElement.get(p);r&&(r.forEach(h=>h.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,r){const h=this._engine.driver.query(p,$t,!0);h.forEach(A=>{if(A[Kr])return;const z=this._engine.fetchNamespacesByElement(A);z.size?z.forEach(re=>re.triggerLeaveAnimation(A,r,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(p,r,h,A){const z=this._engine.statesByElement.get(p),re=new Map;if(z){const _e=[];if(z.forEach((Ze,ht)=>{if(re.set(ht,Ze.value),this._triggers.has(ht)){const Ht=this.trigger(p,ht,yn,A);Ht&&_e.push(Ht)}}),_e.length)return this._engine.markElementAsRemoved(this.id,p,!0,r,re),h&&pt(_e).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const r=this._elementListeners.get(p),h=this._engine.statesByElement.get(p);if(r&&h){const A=new Set;r.forEach(z=>{const re=z.name;if(A.has(re))return;A.add(re);const Ze=this._triggers.get(re).fallbackTransition,ht=h.get(re)||ms,Ht=new hs(yn),Xt=new po(this.id,re,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:re,transition:Ze,fromState:ht,toState:Ht,player:Xt,isFallbackTransition:!0})})}}removeNode(p,r){const h=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,r),this.triggerLeaveAnimation(p,r,!0))return;let A=!1;if(h.totalAnimations){const z=h.players.length?h.playersByQueriedElement.get(p):[];if(z&&z.length)A=!0;else{let re=p;for(;re=re.parentNode;)if(h.statesByElement.get(re)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(p),A)h.markElementAsRemoved(this.id,p,!1,r);else{const z=p[Kr];(!z||z===is)&&(h.afterFlush(()=>this.clearElementCache(p)),h.destroyInnerAnimations(p),h._onRemovalComplete(p,r))}}insertNode(p,r){so(p,this._hostClassName)}drainQueuedTransitions(p){const r=[];return this._queue.forEach(h=>{const A=h.player;if(A.destroyed)return;const z=h.element,re=this._elementListeners.get(z);re&&re.forEach(_e=>{if(_e.name==h.triggerName){const Ze=qt(z,h.triggerName,h.fromState.value,h.toState.value);Ze._data=p,ft(h.player,_e.phase,Ze,_e.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):r.push(h)}),this._queue=[],r.sort((h,A)=>{const z=h.transition.ast.depCount,re=A.transition.ast.depCount;return 0==z||0==re?z-re:this._engine.driver.containsElement(h.element,A.element)?1:-1})}destroy(p){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}}class al{_onRemovalComplete(p,r){this.onRemovalComplete(p,r)}constructor(p,r,h){this.bodyNode=p,this.driver=r,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,z)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(r=>{r.players.forEach(h=>{h.queued&&p.push(h)})}),p}createNamespace(p,r){const h=new Ml(p,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(h,r):(this.newHostElements.set(r,h),this.collectEnterElement(r)),this._namespaceLookup[p]=h}_balanceNamespaceList(p,r){const h=this._namespaceList,A=this.namespacesByHostElement;if(h.length-1>=0){let re=!1,_e=this.driver.getParentElement(r);for(;_e;){const Ze=A.get(_e);if(Ze){const ht=h.indexOf(Ze);h.splice(ht+1,0,p),re=!0;break}_e=this.driver.getParentElement(_e)}re||h.unshift(p)}else h.push(p);return A.set(r,p),p}register(p,r){let h=this._namespaceLookup[p];return h||(h=this.createNamespace(p,r)),h}registerTrigger(p,r,h){let A=this._namespaceLookup[p];A&&A.register(r,h)&&this.totalAnimations++}destroy(p,r){p&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(p);this.namespacesByHostElement.delete(h.hostElement);const A=this._namespaceList.indexOf(h);A>=0&&this._namespaceList.splice(A,1),h.destroy(r),delete this._namespaceLookup[p]}))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const r=new Set,h=this.statesByElement.get(p);if(h)for(let A of h.values())if(A.namespaceId){const z=this._fetchNamespace(A.namespaceId);z&&r.add(z)}return r}trigger(p,r,h,A){if(Ca(r)){const z=this._fetchNamespace(p);if(z)return z.trigger(r,h,A),!0}return!1}insertNode(p,r,h,A){if(!Ca(r))return;const z=r[Kr];if(z&&z.setForRemoval){z.setForRemoval=!1,z.setForMove=!0;const re=this.collectedLeaveElements.indexOf(r);re>=0&&this.collectedLeaveElements.splice(re,1)}if(p){const re=this._fetchNamespace(p);re&&re.insertNode(r,h)}A&&this.collectEnterElement(r)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,r){r?this.disabledNodes.has(p)||(this.disabledNodes.add(p),so(p,Rr)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Hr(p,Rr))}removeNode(p,r,h){if(Ca(r)){const A=p?this._fetchNamespace(p):null;A?A.removeNode(r,h):this.markElementAsRemoved(p,r,!1,h);const z=this.namespacesByHostElement.get(r);z&&z.id!==p&&z.removeNode(r,h)}else this._onRemovalComplete(r,h)}markElementAsRemoved(p,r,h,A,z){this.collectedLeaveElements.push(r),r[Kr]={namespaceId:p,setForRemoval:A,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:z}}listen(p,r,h,A,z){return Ca(r)?this._fetchNamespace(p).listen(r,h,A,z):()=>{}}_buildInstruction(p,r,h,A,z){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,h,A,p.fromState.options,p.toState.options,r,z)}destroyInnerAnimations(p){let r=this.driver.query(p,$t,!0);r.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(p,Ei,!0),r.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(p){const r=this.playersByElement.get(p);r&&r.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(p){const r=this.playersByQueriedElement.get(p);r&&r.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return pt(this.players).onDone(()=>p());p()})}processLeaveNode(p){const r=p[Kr];if(r&&r.setForRemoval){if(p[Kr]=is,r.namespaceId){this.destroyInnerAnimations(p);const h=this._fetchNamespace(r.namespaceId);h&&h.clearElementCache(p)}this._onRemovalComplete(p,r.setForRemoval)}p.classList?.contains(Rr)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(p=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,A)=>this._balanceNamespaceList(h,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)so(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{r=this._flushAnimations(h,p)}finally{for(let A=0;A<h.length;A++)h[A]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],r.length?pt(r).onDone(()=>{h.forEach(A=>A())}):h.forEach(A=>A())}}reportError(p){throw function Dt(c){return new l.vHH(3402,!1)}()}_flushAnimations(p,r){const h=new xo,A=[],z=new Map,re=[],_e=new Map,Ze=new Map,ht=new Map,Ht=new Set;this.disabledNodes.forEach(zi=>{Ht.add(zi);const pn=this.driver.query(zi,".ng-animate-queued",!0);for(let bn=0;bn<pn.length;bn++)Ht.add(pn[bn])});const Xt=this.bodyNode,Ri=Array.from(this.statesByElement.keys()),Ki=nr(Ri,this.collectedEnterElements),ki=new Map;let ji=0;Ki.forEach((zi,pn)=>{const bn=ii+ji++;ki.set(pn,bn),zi.forEach(or=>so(or,bn))});const Mn=[],Wn=new Set,rr=new Set;for(let zi=0;zi<this.collectedLeaveElements.length;zi++){const pn=this.collectedLeaveElements[zi],bn=pn[Kr];bn&&bn.setForRemoval&&(Mn.push(pn),Wn.add(pn),bn.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(or=>Wn.add(or)):rr.add(pn))}const bo=new Map,Yr=nr(Ri,Array.from(Wn));Yr.forEach((zi,pn)=>{const bn=wi+ji++;bo.set(pn,bn),zi.forEach(or=>so(or,bn))}),p.push(()=>{Ki.forEach((zi,pn)=>{const bn=ki.get(pn);zi.forEach(or=>Hr(or,bn))}),Yr.forEach((zi,pn)=>{const bn=bo.get(pn);zi.forEach(or=>Hr(or,bn))}),Mn.forEach(zi=>{this.processLeaveNode(zi)})});const ja=[],nl=[];for(let zi=this._namespaceList.length-1;zi>=0;zi--)this._namespaceList[zi].drainQueuedTransitions(r).forEach(bn=>{const or=bn.player,sr=bn.element;if(ja.push(or),this.collectedEnterElements.length){const es=sr[Kr];if(es&&es.setForMove){if(es.previousTriggersValues&&es.previousTriggersValues.has(bn.triggerName)){const ql=es.previousTriggersValues.get(bn.triggerName),Ia=this.statesByElement.get(bn.element);if(Ia&&Ia.has(bn.triggerName)){const qd=Ia.get(bn.triggerName);qd.value=ql,Ia.set(bn.triggerName,qd)}}return void or.destroy()}}const Ha=!Xt||!this.driver.containsElement(Xt,sr),Es=bo.get(sr),xl=ki.get(sr),ro=this._buildInstruction(bn,h,xl,Es,Ha);if(ro.errors&&ro.errors.length)return void nl.push(ro);if(Ha)return or.onStart(()=>fe(sr,ro.fromStyles)),or.onDestroy(()=>Me(sr,ro.toStyles)),void A.push(or);if(bn.isFallbackTransition)return or.onStart(()=>fe(sr,ro.fromStyles)),or.onDestroy(()=>Me(sr,ro.toStyles)),void A.push(or);const wl=[];ro.timelines.forEach(es=>{es.stretchStartingKeyframe=!0,this.disabledNodes.has(es.element)||wl.push(es)}),ro.timelines=wl,h.append(sr,ro.timelines),re.push({instruction:ro,player:or,element:sr}),ro.queriedElements.forEach(es=>gi(_e,es,[]).push(or)),ro.preStyleProps.forEach((es,ql)=>{if(es.size){let Ia=Ze.get(ql);Ia||Ze.set(ql,Ia=new Set),es.forEach((qd,Fu)=>Ia.add(Fu))}}),ro.postStyleProps.forEach((es,ql)=>{let Ia=ht.get(ql);Ia||ht.set(ql,Ia=new Set),es.forEach((qd,Fu)=>Ia.add(Fu))})});if(nl.length){const zi=[];nl.forEach(pn=>{zi.push(function Ne(c,p){return new l.vHH(3505,!1)}())}),ja.forEach(pn=>pn.destroy()),this.reportError(zi)}const Cs=new Map,rl=new Map;re.forEach(zi=>{const pn=zi.element;h.has(pn)&&(rl.set(pn,pn),this._beforeAnimationBuild(zi.player.namespaceId,zi.instruction,Cs))}),A.forEach(zi=>{const pn=zi.element;this._getPreviousPlayers(pn,!1,zi.namespaceId,zi.triggerName,null).forEach(or=>{gi(Cs,pn,[]).push(or),or.destroy()})});const cs=Mn.filter(zi=>Ea(zi,Ze,ht)),ds=new Map;Jr(ds,this.driver,rr,ht,ne.l3).forEach(zi=>{Ea(zi,Ze,ht)&&cs.push(zi)});const vc=new Map;Ki.forEach((zi,pn)=>{Jr(vc,this.driver,new Set(zi),Ze,ne.k1)}),cs.forEach(zi=>{const pn=ds.get(zi),bn=vc.get(zi);ds.set(zi,new Map([...pn?.entries()??[],...bn?.entries()??[]]))});const no=[],Wd=[],Fh={};re.forEach(zi=>{const{element:pn,player:bn,instruction:or}=zi;if(h.has(pn)){if(Ht.has(pn))return bn.onDestroy(()=>Me(pn,or.toStyles)),bn.disabled=!0,bn.overrideTotalTime(or.totalTime),void A.push(bn);let sr=Fh;if(rl.size>1){let Es=pn;const xl=[];for(;Es=Es.parentNode;){const ro=rl.get(Es);if(ro){sr=ro;break}xl.push(Es)}xl.forEach(ro=>rl.set(ro,sr))}const Ha=this._buildAnimation(bn.namespaceId,or,Cs,z,vc,ds);if(bn.setRealPlayer(Ha),sr===Fh)no.push(bn);else{const Es=this.playersByElement.get(sr);Es&&Es.length&&(bn.parentPlayer=pt(Es)),A.push(bn)}}else fe(pn,or.fromStyles),bn.onDestroy(()=>Me(pn,or.toStyles)),Wd.push(bn),Ht.has(pn)&&A.push(bn)}),Wd.forEach(zi=>{const pn=z.get(zi.element);if(pn&&pn.length){const bn=pt(pn);zi.setRealPlayer(bn)}}),A.forEach(zi=>{zi.parentPlayer?zi.syncPlayerEvents(zi.parentPlayer):zi.destroy()});for(let zi=0;zi<Mn.length;zi++){const pn=Mn[zi],bn=pn[Kr];if(Hr(pn,wi),bn&&bn.hasAnimation)continue;let or=[];if(_e.size){let Ha=_e.get(pn);Ha&&Ha.length&&or.push(...Ha);let Es=this.driver.query(pn,Ei,!0);for(let xl=0;xl<Es.length;xl++){let ro=_e.get(Es[xl]);ro&&ro.length&&or.push(...ro)}}const sr=or.filter(Ha=>!Ha.destroyed);sr.length?Pa(this,pn,sr):this.processLeaveNode(pn)}return Mn.length=0,no.forEach(zi=>{this.players.push(zi),zi.onDone(()=>{zi.destroy();const pn=this.players.indexOf(zi);this.players.splice(pn,1)}),zi.play()}),no}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,r,h,A,z){let re=[];if(r){const _e=this.playersByQueriedElement.get(p);_e&&(re=_e)}else{const _e=this.playersByElement.get(p);if(_e){const Ze=!z||z==yn;_e.forEach(ht=>{ht.queued||!Ze&&ht.triggerName!=A||re.push(ht)})}}return(h||A)&&(re=re.filter(_e=>!(h&&h!=_e.namespaceId||A&&A!=_e.triggerName))),re}_beforeAnimationBuild(p,r,h){const z=r.element,re=r.isRemovalTransition?void 0:p,_e=r.isRemovalTransition?void 0:r.triggerName;for(const Ze of r.timelines){const ht=Ze.element,Ht=ht!==z,Xt=gi(h,ht,[]);this._getPreviousPlayers(ht,Ht,re,_e,r.toState).forEach(Ki=>{const ki=Ki.getRealPlayer();ki.beforeDestroy&&ki.beforeDestroy(),Ki.destroy(),Xt.push(Ki)})}fe(z,r.fromStyles)}_buildAnimation(p,r,h,A,z,re){const _e=r.triggerName,Ze=r.element,ht=[],Ht=new Set,Xt=new Set,Ri=r.timelines.map(ki=>{const ji=ki.element;Ht.add(ji);const Mn=ji[Kr];if(Mn&&Mn.removedBeforeQueried)return new ne.ZN(ki.duration,ki.delay);const Wn=ji!==Ze,rr=function Fr(c){const p=[];return Oa(c,p),p}((h.get(ji)||la).map(Cs=>Cs.getRealPlayer())).filter(Cs=>!!Cs.element&&Cs.element===ji),bo=z.get(ji),Yr=re.get(ji),ja=ct(this._normalizer,ki.keyframes,bo,Yr),nl=this._buildPlayer(ki,ja,rr);if(ki.subTimeline&&A&&Xt.add(ji),Wn){const Cs=new po(p,_e,ji);Cs.setRealPlayer(nl),ht.push(Cs)}return nl});ht.forEach(ki=>{gi(this.playersByQueriedElement,ki.element,[]).push(ki),ki.onDone(()=>function ka(c,p,r){let h=c.get(p);if(h){if(h.length){const A=h.indexOf(r);h.splice(A,1)}0==h.length&&c.delete(p)}return h}(this.playersByQueriedElement,ki.element,ki))}),Ht.forEach(ki=>so(ki,Ci));const Ki=pt(Ri);return Ki.onDestroy(()=>{Ht.forEach(ki=>Hr(ki,Ci)),Me(Ze,r.toStyles)}),Xt.forEach(ki=>{gi(A,ki,[]).push(Ki)}),Ki}_buildPlayer(p,r,h){return r.length>0?this.driver.animate(p.element,r,p.duration,p.delay,p.easing,h):new ne.ZN(p.duration,p.delay)}}class po{constructor(p,r,h){this.namespaceId=p,this.triggerName=r,this.element=h,this._player=new ne.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((r,h)=>{r.forEach(A=>ft(p,h,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const r=this._player;r.triggerCallback&&p.onStart(()=>r.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,r){gi(this._queuedCallbacks,p,[]).push(r)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const r=this._player;r.triggerCallback&&r.triggerCallback(p)}}function Ca(c){return c&&1===c.nodeType}function Dl(c,p){const r=c.style.display;return c.style.display=p??"none",r}function Jr(c,p,r,h,A){const z=[];r.forEach(Ze=>z.push(Dl(Ze)));const re=[];h.forEach((Ze,ht)=>{const Ht=new Map;Ze.forEach(Xt=>{const Ri=p.computeStyle(ht,Xt,A);Ht.set(Xt,Ri),(!Ri||0==Ri.length)&&(ht[Kr]=Fo,re.push(ht))}),c.set(ht,Ht)});let _e=0;return r.forEach(Ze=>Dl(Ze,z[_e++])),re}function nr(c,p){const r=new Map;if(c.forEach(_e=>r.set(_e,[])),0==p.length)return r;const A=new Set(p),z=new Map;function re(_e){if(!_e)return 1;let Ze=z.get(_e);if(Ze)return Ze;const ht=_e.parentNode;return Ze=r.has(ht)?ht:A.has(ht)?1:re(ht),z.set(_e,Ze),Ze}return p.forEach(_e=>{const Ze=re(_e);1!==Ze&&r.get(Ze).push(_e)}),r}function so(c,p){c.classList?.add(p)}function Hr(c,p){c.classList?.remove(p)}function Pa(c,p,r){pt(r).onDone(()=>c.processLeaveNode(p))}function Oa(c,p){for(let r=0;r<c.length;r++){const h=c[r];h instanceof ne.ZE?Oa(h.players,p):p.push(h)}}function Ea(c,p,r){const h=r.get(c);if(!h)return!1;let A=p.get(c);return A?h.forEach(z=>A.add(z)):p.set(c,h),r.delete(c),!0}class $s{constructor(p,r,h){this.bodyNode=p,this._driver=r,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(A,z)=>{},this._transitionEngine=new al(p,r,h),this._timelineEngine=new kn(p,r,h),this._transitionEngine.onRemovalComplete=(A,z)=>this.onRemovalComplete(A,z)}registerTrigger(p,r,h,A,z){const re=p+"-"+A;let _e=this._triggerCache[re];if(!_e){const Ze=[],Ht=dr(this._driver,z,Ze,[]);if(Ze.length)throw function Tn(c,p){return new l.vHH(3404,!1)}();_e=function ar(c,p,r){return new Zo(c,p,r)}(A,Ht,this._normalizer),this._triggerCache[re]=_e}this._transitionEngine.registerTrigger(r,A,_e)}register(p,r){this._transitionEngine.register(p,r)}destroy(p,r){this._transitionEngine.destroy(p,r)}onInsert(p,r,h,A){this._transitionEngine.insertNode(p,r,h,A)}onRemove(p,r,h){this._transitionEngine.removeNode(p,r,h)}disableAnimations(p,r){this._transitionEngine.markElementAsDisabled(p,r)}process(p,r,h,A){if("@"==h.charAt(0)){const[z,re]=ot(h);this._timelineEngine.command(z,r,re,A)}else this._transitionEngine.trigger(p,r,h,A)}listen(p,r,h,A,z){if("@"==h.charAt(0)){const[re,_e]=ot(h);return this._timelineEngine.listen(re,r,_e,z)}return this._transitionEngine.listen(p,r,h,A,z)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(p){this._transitionEngine.afterFlushAnimationsDone(p)}}let ps=(()=>{class c{constructor(r,h,A){this._element=r,this._startStyles=h,this._endStyles=A,this._state=0;let z=c.initialStylesByElement.get(r);z||c.initialStylesByElement.set(r,z=new Map),this._initialStyles=z}start(){this._state<1&&(this._startStyles&&Me(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Me(this._element,this._initialStyles),this._endStyles&&(Me(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),Me(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function ns(c){let p=null;return c.forEach((r,h)=>{(function xc(c){return"display"===c||"position"===c})(h)&&(p=p||new Map,p.set(h,r))}),p}class Tl{constructor(p,r,h,A){this.element=p,this.keyframes=r,this.options=h,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const r=[];return p.forEach(h=>{r.push(Object.fromEntries(h))}),r}_triggerWebAnimation(p,r,h){return p.animate(this._convertKeyframesToObject(r),h)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,A)=>{"offset"!==A&&p.set(A,this._finished?h:Ae(this.element,A))}),this.currentSnapshot=p}triggerCallback(p){const r="start"===p?this._onStartFns:this._onDoneFns;r.forEach(h=>h()),r.length=0}}class nn{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,r){return!1}containsElement(p,r){return ue(p,r)}getParentElement(p){return bi(p)}query(p,r,h){return Te(p,r,h)}computeStyle(p,r,h){return window.getComputedStyle(p)[r]}animate(p,r,h,A,z,re=[]){const Ze={duration:h,delay:A,fill:0==A?"both":"forwards"};z&&(Ze.easing=z);const ht=new Map,Ht=re.filter(Ki=>Ki instanceof Tl);(function Xe(c,p){return 0===c||0===p})(h,A)&&Ht.forEach(Ki=>{Ki.currentSnapshot.forEach((ki,ji)=>ht.set(ji,ki))});let Xt=function U(c){return c.length?c[0]instanceof Map?c:c.map(p=>V(p)):[]}(r).map(Ki=>de(Ki));Xt=function It(c,p,r){if(r.size&&p.length){let h=p[0],A=[];if(r.forEach((z,re)=>{h.has(re)||A.push(re),h.set(re,z)}),A.length)for(let z=1;z<p.length;z++){let re=p[z];A.forEach(_e=>re.set(_e,Ae(c,_e)))}}return p}(p,Xt,ht);const Ri=function Sl(c,p){let r=null,h=null;return Array.isArray(p)&&p.length?(r=ns(p[0]),p.length>1&&(h=ns(p[p.length-1]))):p instanceof Map&&(r=ns(p)),r||h?new ps(c,r,h):null}(p,Xt);return new Tl(p,Xt,Ze,Ri)}}var an=H(6814);let Ln=(()=>{class c extends ne._j{constructor(r,h){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(h.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(r){const h=this._nextAnimationId.toString();this._nextAnimationId++;const A=Array.isArray(r)?(0,ne.vP)(r):r;return hr(this._renderer,null,h,"register",[A]),new Il(h,this._renderer)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG(an.K0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class Il extends ne.LC{constructor(p,r){super(),this._id=p,this._renderer=r}create(p,r){return new lr(this._id,p,r||{},this._renderer)}}class lr{constructor(p,r,h,A){this.id=p,this.element=r,this._renderer=A,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(p,r){return this._renderer.listen(this.element,`@@${this.id}:${p}`,r)}_command(p,...r){return hr(this._renderer,this.element,this.id,p,r)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hr(c,p,r,h,A){return c.setProperty(p,`@@${r}:${h}`,A)}const K="@.disabled";let W=(()=>{class c{constructor(r,h,A){this.delegate=r,this.engine=h,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(z,re)=>{const _e=re?.parentNode(z);_e&&re.removeChild(_e,z)}}createRenderer(r,h){const z=this.delegate.createRenderer(r,h);if(!(r&&h&&h.data&&h.data.animation)){let Ht=this._rendererCache.get(z);return Ht||(Ht=new G("",z,this.engine,()=>this._rendererCache.delete(z)),this._rendererCache.set(z,Ht)),Ht}const re=h.id,_e=h.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,r);const Ze=Ht=>{Array.isArray(Ht)?Ht.forEach(Ze):this.engine.registerTrigger(re,_e,r,Ht.name,Ht)};return h.data.animation.forEach(Ze),new xe(this,_e,z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,h,A){r>=0&&r<this._microtaskId?this._zone.run(()=>h(A)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(z=>{const[re,_e]=z;re(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,A]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG($s),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class G{constructor(p,r,h,A){this.namespaceId=p,this.delegate=r,this.engine=h,this._onDestroy=A}get data(){return this.delegate.data}destroyNode(p){this.delegate.destroyNode?.(p)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(p,r){return this.delegate.createElement(p,r)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,r){this.delegate.appendChild(p,r),this.engine.onInsert(this.namespaceId,r,p,!1)}insertBefore(p,r,h,A=!0){this.delegate.insertBefore(p,r,h),this.engine.onInsert(this.namespaceId,r,p,A)}removeChild(p,r,h){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(p,r){return this.delegate.selectRootElement(p,r)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,r,h,A){this.delegate.setAttribute(p,r,h,A)}removeAttribute(p,r,h){this.delegate.removeAttribute(p,r,h)}addClass(p,r){this.delegate.addClass(p,r)}removeClass(p,r){this.delegate.removeClass(p,r)}setStyle(p,r,h,A){this.delegate.setStyle(p,r,h,A)}removeStyle(p,r,h){this.delegate.removeStyle(p,r,h)}setProperty(p,r,h){"@"==r.charAt(0)&&r==K?this.disableAnimations(p,!!h):this.delegate.setProperty(p,r,h)}setValue(p,r){this.delegate.setValue(p,r)}listen(p,r,h){return this.delegate.listen(p,r,h)}disableAnimations(p,r){this.engine.disableAnimations(p,r)}}class xe extends G{constructor(p,r,h,A,z){super(r,h,A,z),this.factory=p,this.namespaceId=r}setProperty(p,r,h){"@"==r.charAt(0)?"."==r.charAt(1)&&r==K?this.disableAnimations(p,h=void 0===h||!!h):this.engine.process(this.namespaceId,p,r.slice(1),h):this.delegate.setProperty(p,r,h)}listen(p,r,h){if("@"==r.charAt(0)){const A=function jt(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(p);let z=r.slice(1),re="";return"@"!=z.charAt(0)&&([z,re]=function Ii(c){const p=c.indexOf(".");return[c.substring(0,p),c.slice(p+1)]}(z)),this.engine.listen(this.namespaceId,A,z,re,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,h,_e)})}return this.delegate.listen(p,r,h)}}let $r=(()=>{class c extends $s{constructor(r,h,A,z){super(r.body,h,A)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(an.K0),l.LFG(be),l.LFG(Hs),l.LFG(l.z2F))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const ca=[{provide:ne._j,useClass:Ln},{provide:Hs,useFactory:function fo(){return new br}},{provide:$s,useClass:$r},{provide:l.FYo,useFactory:function Gs(c,p,r){return new W(c,p,r)},deps:[C.se,$s,l.R0b]}],Za=[{provide:be,useFactory:()=>new nn},{provide:l.QbO,useValue:"BrowserAnimations"},...ca],wc=[{provide:be,useClass:Ie},{provide:l.QbO,useValue:"NoopAnimations"},...ca];let Yl=(()=>{class c{static withConfig(r){return{ngModule:c,providers:r.disableAnimations?wc:Za}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:Za,imports:[C.b2]}),c})(),Wa=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[an.ez]}),c})();function jo(c,p,r,h,A,z,re){try{var _e=c[z](re),Ze=_e.value}catch(ht){return void r(ht)}_e.done?p(Ze):Promise.resolve(Ze).then(h,A)}function kr(c){return function(){var p=this,r=arguments;return new Promise(function(h,A){var z=c.apply(p,r);function re(Ze){jo(z,h,A,re,_e,"next",Ze)}function _e(Ze){jo(z,h,A,re,_e,"throw",Ze)}re(void 0)})}}var Rn=H(5624),cr=H(8645);class md extends cr.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(p){const{hasError:r,_hasValue:h,_value:A,thrownError:z,isStopped:re,_isComplete:_e}=this;r?p.error(z):(re||_e)&&(h&&p.next(A),p.complete())}next(p){this.isStopped||(this._value=p,this._hasValue=!0)}complete(){const{_hasValue:p,_value:r,_isComplete:h}=this;h||(this._isComplete=!0,p&&super.next(r),super.complete())}}var Ss=H(7394),mr=H(1374);let Yn=(()=>{class c{constructor(r){this.zone=r,this.mapCreated=new md,this.mapLoaded=new md,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new Ss.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(r){this.zone.onStable.pipe((0,mr.P)()).subscribe(()=>{this.createMap(r.mapOptions),this.hookEvents(r.mapEvents),this.mapEvents=r.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),r.mapOptions.terrain&&this.mapInstance.on("load",()=>{this.updateTerrain(r.mapOptions.terrain)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateMinZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(r)})}updateMaxZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(r)})}updateMinPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(r)})}updateMaxPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(r)})}updateRenderWorldCopies(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(r)})}updateScrollZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(r)})}updateMaxBounds(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(r)})}updateTerrain(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setTerrain(r)})}getTerrain(){return this.zone.runOutsideAngular(()=>this.mapInstance.getTerrain())}changeCanvasCursor(r){this.mapInstance.getCanvasContainer().style.cursor=r}queryRenderedFeatures(r,h){return this.mapInstance.queryRenderedFeatures(r,h)}panTo(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(r,h)})}move(r,h,A,z,re,_e){return this.zone.runOutsideAngular(()=>{this.mapInstance[r]({...h,zoom:A??this.mapInstance.getZoom(),center:z??this.mapInstance.getCenter(),bearing:re??this.mapInstance.getBearing(),pitch:_e??this.mapInstance.getPitch()})})}addLayer(r,h,A){this.zone.runOutsideAngular(()=>{Object.keys(r.layerOptions).forEach(z=>{void 0===r.layerOptions[z]&&delete r.layerOptions[z]}),this.mapInstance.addLayer(r.layerOptions,A),h&&(r.layerEvents.layerClick.observers.length&&this.mapInstance.on("click",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerClick.emit(z)})}),r.layerEvents.layerDblClick.observers.length&&this.mapInstance.on("dblclick",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerDblClick.emit(z)})}),r.layerEvents.layerMouseDown.observers.length&&this.mapInstance.on("mousedown",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseDown.emit(z)})}),r.layerEvents.layerMouseUp.observers.length&&this.mapInstance.on("mouseup",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseUp.emit(z)})}),r.layerEvents.layerMouseEnter.observers.length&&this.mapInstance.on("mouseenter",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseEnter.emit(z)})}),r.layerEvents.layerMouseLeave.observers.length&&this.mapInstance.on("mouseleave",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseLeave.emit(z)})}),r.layerEvents.layerMouseMove.observers.length&&this.mapInstance.on("mousemove",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseMove.emit(z)})}),r.layerEvents.layerMouseOver.observers.length&&this.mapInstance.on("mouseover",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseOver.emit(z)})}),r.layerEvents.layerMouseOut.observers.length&&this.mapInstance.on("mouseout",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseOut.emit(z)})}),r.layerEvents.layerContextMenu.observers.length&&this.mapInstance.on("contextmenu",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerContextMenu.emit(z)})}),r.layerEvents.layerTouchStart.observers.length&&this.mapInstance.on("touchstart",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchStart.emit(z)})}),r.layerEvents.layerTouchEnd.observers.length&&this.mapInstance.on("touchend",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchEnd.emit(z)})}),r.layerEvents.layerTouchCancel.observers.length&&this.mapInstance.on("touchcancel",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchCancel.emit(z)})}))})}removeLayer(r){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(r)&&this.mapInstance.removeLayer(r)})}addMarker(r){const h={offset:r.markersOptions.offset,anchor:r.markersOptions.anchor,draggable:!!r.markersOptions.draggable,rotationAlignment:r.markersOptions.rotationAlignment,pitchAlignment:r.markersOptions.pitchAlignment,clickTolerance:r.markersOptions.clickTolerance};r.markersOptions.element.childNodes.length>0&&(h.element=r.markersOptions.element);const A=new Rn.Marker(h);return r.markersEvents.markerDragStart.observers.length&&A.on("dragstart",re=>{if(re){const{target:_e}=re;this.zone.run(()=>{r.markersEvents.markerDragStart.emit(_e)})}}),r.markersEvents.markerDrag.observers.length&&A.on("drag",re=>{if(re){const{target:_e}=re;this.zone.run(()=>{r.markersEvents.markerDrag.emit(_e)})}}),r.markersEvents.markerDragEnd.observers.length&&A.on("dragend",re=>{if(re){const{target:_e}=re;this.zone.run(()=>{r.markersEvents.markerDragEnd.emit(_e)})}}),A.setLngLat(r.markersOptions.feature?r.markersOptions.feature.geometry.coordinates:r.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(A.addTo(this.mapInstance),A))}removeMarker(r){this.markersToRemove.push(r)}createPopup(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(r.popupOptions).forEach(z=>void 0===r.popupOptions[z]&&delete r.popupOptions[z]);const A=new Rn.Popup(r.popupOptions);return A.setDOMContent(h),r.popupEvents.popupClose.observers.length&&A.on("close",()=>{this.zone.run(()=>{r.popupEvents.popupClose.emit()})}),r.popupEvents.popupOpen.observers.length&&A.on("open",()=>{this.zone.run(()=>{r.popupEvents.popupOpen.emit()})}),A})}addPopupToMap(r,h,A=!1){return this.zone.runOutsideAngular(()=>{A&&r._listeners&&delete r._listeners.open,r.setLngLat(h),r.addTo(this.mapInstance)})}addPopupToMarker(r,h){return this.zone.runOutsideAngular(()=>{r.setPopup(h)})}removePopupFromMap(r,h=!1){h&&r._listeners&&delete r._listeners.close,this.popupsToRemove.push(r)}removePopupFromMarker(r){return this.zone.runOutsideAngular(()=>{r.setPopup(void 0)})}addControl(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(r,h)})}removeControl(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(r)})}loadAndAddImage(r,h,A){var z=this;return kr(function*(){return z.zone.runOutsideAngular(()=>new Promise((re,_e)=>{z.mapInstance.loadImage(h,(Ze,ht)=>{Ze?_e(Ze):(z.addImage(r,ht,A),re())})}))})()}addImage(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(r,h,A)})}removeImage(r){this.imageIdsToRemove.push(r)}addSource(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>void 0===h[A]&&delete h[A]),this.mapInstance.addSource(r,h)})}getSource(r){return this.mapInstance.getSource(r)}removeSource(r){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(r).forEach(h=>this.mapInstance.removeLayer(h.id)),this.mapInstance.removeSource(r)})}setAllLayerPaintProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>{this.mapInstance.setPaintProperty(r,A,h[A])})})}setAllLayerLayoutProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>{this.mapInstance.setLayoutProperty(r,A,h[A])})})}setLayerFilter(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(r,h)})}setLayerBefore(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(r,h)})}setLayerZoomRange(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(r,h||0,A||20)})}fitBounds(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(r,h)})}fitScreenCoordinates(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(r[0],r[1],h,A)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(r){l.R0b.assertNotInAngularZone(),Object.keys(r).forEach(A=>{void 0===r[A]&&delete r[A]}),this.mapInstance=new Rn.Map(r),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(r.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const r of this.markersToRemove)r.remove();this.markersToRemove=[]}removePopups(){for(const r of this.popupsToRemove)r.remove();this.popupsToRemove=[]}removeImages(){for(const r of this.imageIdsToRemove)this.mapInstance.removeImage(r);this.imageIdsToRemove=[]}findLayersBySourceId(r){const h=this.mapInstance.getStyle().layers;return null==h?[]:h.filter(A=>"source"in A&&A.source===r)}hookEvents(r){this.mapInstance.on("load",h=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{r.mapLoad.emit(h.target)})}),r.mapResize.observers.length&&this.mapInstance.on("resize",h=>this.zone.run(()=>{r.mapResize.emit(h)})),r.mapRemove.observers.length&&this.mapInstance.on("remove",h=>this.zone.run(()=>{r.mapRemove.emit(h)})),r.mapMouseDown.observers.length&&this.mapInstance.on("mousedown",h=>this.zone.run(()=>{r.mapMouseDown.emit(h)})),r.mapMouseUp.observers.length&&this.mapInstance.on("mouseup",h=>this.zone.run(()=>{r.mapMouseUp.emit(h)})),r.mapMouseMove.observers.length&&this.mapInstance.on("mousemove",h=>this.zone.run(()=>{r.mapMouseMove.emit(h)})),r.mapClick.observers.length&&this.mapInstance.on("click",h=>this.zone.run(()=>{r.mapClick.emit(h)})),r.mapDblClick.observers.length&&this.mapInstance.on("dblclick",h=>this.zone.run(()=>{r.mapDblClick.emit(h)})),r.mapMouseOver.observers.length&&this.mapInstance.on("mouseover",h=>this.zone.run(()=>{r.mapMouseOver.emit(h)})),r.mapMouseOut.observers.length&&this.mapInstance.on("mouseout",h=>this.zone.run(()=>{r.mapMouseOut.emit(h)})),r.mapContextMenu.observers.length&&this.mapInstance.on("contextmenu",h=>this.zone.run(()=>{r.mapContextMenu.emit(h)})),r.mapTouchStart.observers.length&&this.mapInstance.on("touchstart",h=>this.zone.run(()=>{r.mapTouchStart.emit(h)})),r.mapTouchEnd.observers.length&&this.mapInstance.on("touchend",h=>this.zone.run(()=>{r.mapTouchEnd.emit(h)})),r.mapTouchMove.observers.length&&this.mapInstance.on("touchmove",h=>this.zone.run(()=>{r.mapTouchMove.emit(h)})),r.mapTouchCancel.observers.length&&this.mapInstance.on("touchcancel",h=>this.zone.run(()=>{r.mapTouchCancel.emit(h)})),r.mapWheel.observers.length&&this.mapInstance.on("wheel",h=>this.zone.run(()=>{r.mapWheel.emit(h)})),r.moveStart.observers.length&&this.mapInstance.on("movestart",h=>this.zone.run(()=>r.moveStart.emit(h))),r.move.observers.length&&this.mapInstance.on("move",h=>this.zone.run(()=>r.move.emit(h))),r.moveEnd.observers.length&&this.mapInstance.on("moveend",h=>this.zone.run(()=>r.moveEnd.emit(h))),r.mapDragStart.observers.length&&this.mapInstance.on("dragstart",h=>this.zone.run(()=>{r.mapDragStart.emit(h)})),r.mapDrag.observers.length&&this.mapInstance.on("drag",h=>this.zone.run(()=>{r.mapDrag.emit(h)})),r.mapDragEnd.observers.length&&this.mapInstance.on("dragend",h=>this.zone.run(()=>{r.mapDragEnd.emit(h)})),r.zoomStart.observers.length&&this.mapInstance.on("zoomstart",h=>this.zone.run(()=>r.zoomStart.emit(h))),r.zoomEvt.observers.length&&this.mapInstance.on("zoom",h=>this.zone.run(()=>r.zoomEvt.emit(h))),r.zoomEnd.observers.length&&this.mapInstance.on("zoomend",h=>this.zone.run(()=>r.zoomEnd.emit(h))),r.rotateStart.observers.length&&this.mapInstance.on("rotatestart",h=>this.zone.run(()=>r.rotateStart.emit(h))),r.rotate.observers.length&&this.mapInstance.on("rotate",h=>this.zone.run(()=>r.rotate.emit(h))),r.rotateEnd.observers.length&&this.mapInstance.on("rotateend",h=>this.zone.run(()=>r.rotateEnd.emit(h))),r.pitchStart.observers.length&&this.mapInstance.on("pitchstart",h=>this.zone.run(()=>r.pitchStart.emit(h))),r.pitchEvt.observers.length&&this.mapInstance.on("pitch",h=>this.zone.run(()=>r.pitchEvt.emit(h))),r.pitchEnd.observers.length&&this.mapInstance.on("pitchend",h=>this.zone.run(()=>r.pitchEnd.emit(h))),r.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",h=>this.zone.run(()=>r.boxZoomStart.emit(h))),r.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",h=>this.zone.run(()=>r.boxZoomEnd.emit(h))),r.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",h=>this.zone.run(()=>r.boxZoomCancel.emit(h))),r.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",h=>this.zone.run(()=>r.webGlContextLost.emit(h))),r.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",h=>this.zone.run(()=>r.webGlContextRestored.emit(h))),r.render.observers.length&&this.mapInstance.on("render",h=>this.zone.run(()=>r.render.emit(h))),r.mapError.observers.length&&this.mapInstance.on("error",h=>this.zone.run(()=>{r.mapError.emit(h)})),r.data.observers.length&&this.mapInstance.on("data",h=>this.zone.run(()=>r.data.emit(h))),r.styleData.observers.length&&this.mapInstance.on("styledata",h=>this.zone.run(()=>r.styleData.emit(h))),r.sourceData.observers.length&&this.mapInstance.on("sourcedata",h=>this.zone.run(()=>r.sourceData.emit(h))),r.dataLoading.observers.length&&this.mapInstance.on("dataloading",h=>this.zone.run(()=>r.dataLoading.emit(h))),r.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",h=>this.zone.run(()=>r.styleDataLoading.emit(h))),r.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",h=>this.zone.run(()=>r.sourceDataLoading.emit(h))),r.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",h=>this.zone.run(()=>r.styleImageMissing.emit(h))),r.idle.observers.length&&this.mapInstance.on("idle",h=>this.zone.run(()=>r.idle.emit(h)))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const qo=["content"],cl=["*"];class Ra{constructor(p){this.container=p}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}}let Tr=(()=>{class c{constructor(r){this.mapService=r}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new Ra(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position)}))}ngOnDestroy(){this.mapService.mapInstance.hasControl(this.control)&&this.mapService.removeControl(this.control)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-control"]],viewQuery:function(r,h){if(1&r&&l.Gf(qo,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{position:"position"},ngContentSelectors:cl,decls:3,vars:0,consts:[[1,"maplibregl-ctrl"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})();var Lo=H(2438),Ir=H(2181),Al=H(9397),fs=H(4664),Qr=H(9773),kl=H(8180),Kl=H(3620);let Yo=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.type="geojson",this.updateFeatureData=new cr.x,this.sub=new Ss.w0,this.sourceAdded=!1,this.featureIdCounter=0}ngOnInit(){this.data||(this.data={type:"FeatureCollection",features:[]});const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Lo.R)(this.mapService.mapInstance,"styledata").pipe((0,Ir.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded&&((r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.buffer&&!r.buffer.isFirstChange()||r.tolerance&&!r.tolerance.isFirstChange()||r.cluster&&!r.cluster.isFirstChange()||r.clusterRadius&&!r.clusterRadius.isFirstChange()||r.clusterMaxZoom&&!r.clusterMaxZoom.isFirstChange()||r.clusterMinPoints&&!r.clusterMinPoints.isFirstChange()||r.clusterProperties&&!r.clusterProperties.isFirstChange()||r.lineMetrics&&!r.lineMetrics.isFirstChange()||r.generateId&&!r.generateId.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange()||r.filter&&!r.filter.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit()),r.data&&!r.data.isFirstChange())){const h=this.mapService.getSource(this.id);if(void 0===h)return;h.setData(this.data)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}getClusterExpansionZoom(r){var h=this;return kr(function*(){const A=h.mapService.getSource(h.id);return h.zone.run(kr(function*(){return new Promise((z,re)=>{A.getClusterExpansionZoom(r,(_e,Ze)=>{_e?re(_e):z(Ze)})})}))})()}getClusterChildren(r){var h=this;return kr(function*(){const A=h.mapService.getSource(h.id);return h.zone.run(kr(function*(){return new Promise((z,re)=>{A.getClusterChildren(r,(_e,Ze)=>{_e?re(_e):z(Ze)})})}))})()}getClusterLeaves(r,h,A){var z=this;return kr(function*(){const re=z.mapService.getSource(z.id);return z.zone.run(kr(function*(){return new Promise((_e,Ze)=>{re.getClusterLeaves(r,h,A,(ht,Ht)=>{ht?Ze(ht):_e(Ht)})})}))})()}_addFeature(r){this.data.features.push(r),this.updateFeatureData.next(void 0)}_removeFeature(r){const h=this.data,A=h.features.indexOf(r);A>-1&&h.features.splice(A,1),this.updateFeatureData.next(void 0)}_getNewFeatureId(){return++this.featureIdCounter}init(){this.mapService.addSource(this.id,{type:"geojson",data:this.data,maxzoom:this.maxzoom,attribution:this.attribution,buffer:this.buffer,tolerance:this.tolerance,cluster:this.cluster,clusterRadius:this.clusterRadius,clusterMaxZoom:this.clusterMaxZoom,clusterMinPoints:this.clusterMinPoints,clusterProperties:this.clusterProperties,lineMetrics:this.lineMetrics,generateId:this.generateId,promoteId:this.promoteId,filter:this.filter});const h=this.updateFeatureData.pipe((0,Kl.b)(0)).subscribe(()=>{const A=this.mapService.getSource(this.id);void 0!==A&&A.setData(this.data)});this.sub.add(h),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-geojson-source"]],inputs:{id:"id",data:"data",maxzoom:"maxzoom",attribution:"attribution",buffer:"buffer",tolerance:"tolerance",cluster:"cluster",clusterRadius:"clusterRadius",clusterMaxZoom:"clusterMaxZoom",clusterMinPoints:"clusterMinPoints",clusterProperties:"clusterProperties",lineMetrics:"lineMetrics",generateId:"generateId",promoteId:"promoteId",filter:"filter"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),rs=(()=>{class c{constructor(r){this.geoJSONSourceComponent=r,this.type="Feature"}ngOnInit(){this.id||(this.id=this.geoJSONSourceComponent._getNewFeatureId()),this.feature={type:this.type,geometry:this.geometry,properties:this.properties?this.properties:{}},this.feature.id=this.id,this.geoJSONSourceComponent._addFeature(this.feature)}ngOnDestroy(){this.geoJSONSourceComponent._removeFeature(this.feature)}updateCoordinates(r){this.feature.geometry.coordinates=r,this.geoJSONSourceComponent.updateFeatureData.next(void 0)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36((0,l.Gpc)(()=>Yo)))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-feature"]],inputs:{id:"id",geometry:"geometry",properties:"properties"},decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),Ko=(()=>{class c{constructor(r,h,A){this.mapService=r,this.ngZone=h,this.featureComponent=A,this.featureDragStart=new l.vpe,this.featureDragEnd=new l.vpe,this.featureDrag=new l.vpe,this.sub=new Ss.w0}ngOnInit(){let r,h,A;if(!this.featureComponent||!this.layer)throw new Error("mglDraggable can only be used on Feature (with a layer as input) or Marker");if(r=this.layer.layerMouseEnter,h=this.layer.layerMouseLeave,A=this.featureComponent.updateCoordinates.bind(this.featureComponent),"Point"!==this.featureComponent.geometry.type)throw new Error("mglDraggable only support point feature");this.handleDraggable(r,h,A)}ngOnDestroy(){this.sub.unsubscribe()}handleDraggable(r,h,A){let z=!1,re=!1;this.mapService.mapCreated$.subscribe(()=>{const _e=(0,Lo.R)(this.mapService.mapInstance,"mouseup"),Ze=r.pipe((0,Ir.h)(()=>!z),(0,Ir.h)(Xt=>this.filterFeature(Xt)),(0,Al.b)(()=>{re=!0,this.mapService.changeCanvasCursor("move"),this.mapService.updateDragPan(!1)}),(0,fs.w)(()=>(0,Lo.R)(this.mapService.mapInstance,"mousedown").pipe((0,Qr.R)(h)))),ht=Ze.pipe((0,fs.w)(()=>(0,Lo.R)(this.mapService.mapInstance,"mousemove").pipe((0,Qr.R)(_e)))),Ht=Ze.pipe((0,fs.w)(()=>_e.pipe((0,kl.q)(1))));this.sub.add(Ze.subscribe(Xt=>{z=!0,this.featureDragStart.observers.length&&this.ngZone.run(()=>{this.featureDragStart.emit(Xt)})})),this.sub.add(ht.subscribe(Xt=>{A([Xt.lngLat.lng,Xt.lngLat.lat]),this.featureDrag.observers.length&&this.ngZone.run(()=>{this.featureDrag.emit(Xt)})})),this.sub.add(Ht.subscribe(Xt=>{z=!1,this.featureDragEnd.observers.length&&this.ngZone.run(()=>{this.featureDragEnd.emit(Xt)}),re||(this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0))})),this.sub.add(h.pipe((0,Al.b)(()=>re=!1),(0,Ir.h)(()=>!z)).subscribe(()=>{this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0)}))})}filterFeature(r){return!(this.featureComponent&&this.layer&&!this.mapService.queryRenderedFeatures(r.point,{layers:[this.layer.id],filter:["all",["==","$type","Point"],["==","$id",this.featureComponent.id]]})[0])}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(l.R0b),l.Y36(rs,9))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglDraggable",""]],inputs:{layer:["mglDraggable","layer"]},outputs:{featureDragStart:"featureDragStart",featureDragEnd:"featureDragEnd",featureDrag:"featureDrag"}}),c})();var Ts=H(7398),dl=H(7921);let eo=(()=>{class c{constructor(r){this.mapService=r,this.layerClick=new l.vpe,this.layerDblClick=new l.vpe,this.layerMouseDown=new l.vpe,this.layerMouseUp=new l.vpe,this.layerMouseEnter=new l.vpe,this.layerMouseLeave=new l.vpe,this.layerMouseMove=new l.vpe,this.layerMouseOver=new l.vpe,this.layerMouseOut=new l.vpe,this.layerContextMenu=new l.vpe,this.layerTouchStart=new l.vpe,this.layerTouchEnd=new l.vpe,this.layerTouchCancel=new l.vpe,this.layerAdded=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,fs.w)(()=>(0,Lo.R)(this.mapService.mapInstance,"styledata").pipe((0,Ts.U)(()=>!1),(0,Ir.h)(()=>!this.mapService.mapInstance.getLayer(this.id)),(0,dl.O)(!0)))).subscribe(r=>this.init(r))}ngOnChanges(r){this.layerAdded&&(r.paint&&!r.paint.isFirstChange()&&this.mapService.setAllLayerPaintProperty(this.id,r.paint.currentValue),r.layout&&!r.layout.isFirstChange()&&this.mapService.setAllLayerLayoutProperty(this.id,r.layout.currentValue),r.filter&&!r.filter.isFirstChange()&&this.mapService.setLayerFilter(this.id,r.filter.currentValue),r.before&&!r.before.isFirstChange()&&this.mapService.setLayerBefore(this.id,r.before.currentValue),(r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange())&&this.mapService.setLayerZoomRange(this.id,this.minzoom,this.maxzoom))}ngOnDestroy(){this.layerAdded&&(this.mapService.removeLayer(this.id),void 0!==this.sourceIdAdded&&this.mapService.getSource(this.sourceIdAdded)&&this.mapService.removeSource(this.sourceIdAdded)),this.sub&&this.sub.unsubscribe()}init(r){const h={layerOptions:{id:this.id,type:this.type,source:this.source,metadata:this.metadata,"source-layer":this.sourceLayer,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this.layout,paint:this.paint},layerEvents:{layerClick:this.layerClick,layerDblClick:this.layerDblClick,layerMouseDown:this.layerMouseDown,layerMouseUp:this.layerMouseUp,layerMouseEnter:this.layerMouseEnter,layerMouseLeave:this.layerMouseLeave,layerMouseMove:this.layerMouseMove,layerMouseOver:this.layerMouseOver,layerMouseOut:this.layerMouseOut,layerContextMenu:this.layerContextMenu,layerTouchStart:this.layerTouchStart,layerTouchEnd:this.layerTouchEnd,layerTouchCancel:this.layerTouchCancel}};this.removeSource&&"string"!=typeof this.source&&void 0===this.mapService.getSource(this.id)&&(this.sourceIdAdded=this.id),this.mapService.addLayer(h,r,this.before),void 0!==this.sourceIdAdded&&void 0===this.mapService.getSource(this.sourceIdAdded)&&(this.sourceIdAdded=void 0),this.layerAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-layer"]],inputs:{id:"id",source:"source",type:"type",metadata:"metadata",sourceLayer:"sourceLayer",removeSource:"removeSource",filter:"filter",layout:"layout",paint:"paint",before:"before",minzoom:"minzoom",maxzoom:"maxzoom"},outputs:{layerClick:"layerClick",layerDblClick:"layerDblClick",layerMouseDown:"layerMouseDown",layerMouseUp:"layerMouseUp",layerMouseEnter:"layerMouseEnter",layerMouseLeave:"layerMouseLeave",layerMouseMove:"layerMouseMove",layerMouseOver:"layerMouseOver",layerMouseOut:"layerMouseOut",layerContextMenu:"layerContextMenu",layerTouchStart:"layerTouchStart",layerTouchEnd:"layerTouchEnd",layerTouchCancel:"layerTouchCancel"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2}),c})(),ul=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.imageError=new l.vpe,this.imageLoaded=new l.vpe,this.isAdded=!1,this.isAdding=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,fs.w)(()=>(0,Lo.R)(this.mapService.mapInstance,"styledata").pipe((0,dl.O)(void 0),(0,Ir.h)(()=>!this.isAdding&&!this.mapService.mapInstance.hasImage(this.id))))).subscribe(()=>this.init())}ngOnChanges(r){(r.data&&!r.data.isFirstChange()||r.options&&!r.options.isFirstChange()||r.url&&!r.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.isAdded&&this.mapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}init(){var r=this;return kr(function*(){if(r.isAdding=!0,r.data)r.mapService.addImage(r.id,r.data,r.options),r.isAdded=!0,r.isAdding=!1;else if(r.url)try{yield r.mapService.loadAndAddImage(r.id,r.url,r.options),r.isAdded=!0,r.isAdding=!1,r.zone.run(()=>{r.imageLoaded.emit()})}catch(h){r.zone.run(()=>{r.imageError.emit(h)})}})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2}),c})(),qa=(()=>{class c{constructor(r){this.mapService=r,this.type="vector",this.sourceAdded=!1,this.sub=new Ss.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Lo.R)(this.mapService.mapInstance,"styledata").pipe((0,Ir.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded)if(r.bounds&&!r.bounds.isFirstChange()||r.scheme&&!r.scheme.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange())this.ngOnDestroy(),this.ngOnInit();else if(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()){const h=this.mapService.getSource(this.id);if(void 0===h)return;r.url&&this.url&&h.setUrl(this.url),r.tiles&&this.tiles&&h.setTiles(this.tiles)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,scheme:this.scheme,minzoom:this.minzoom,maxzoom:this.maxzoom,attribution:this.attribution,promoteId:this.promoteId}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-vector-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",scheme:"scheme",minzoom:"minzoom",maxzoom:"maxzoom",attribution:"attribution",promoteId:"promoteId"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),da=(()=>{class c{constructor(r){this.mapService=r,this.type="image"}ngOnInit(){this.sub=this.mapService.mapLoaded$.subscribe(()=>this.init())}ngOnChanges(r){if(void 0===this.sourceId)return;const h=this.mapService.getSource(this.sourceId);void 0!==h&&h.updateImage({url:void 0===r.url?void 0:this.url,coordinates:void 0===r.coordinates?void 0:this.coordinates})}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe(),void 0!==this.sourceId&&(this.mapService.removeSource(this.sourceId),this.sourceId=void 0)}init(){this.mapService.addSource(this.id,{type:"image",url:this.url,coordinates:this.coordinates}),this.sourceId=this.id}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image-source"]],inputs:{id:"id",url:"url",coordinates:"coordinates"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),to=(()=>{class c{constructor(r){this.mapService=r,this.type="raster-dem",this.sourceAdded=!1,this.sub=new Ss.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,Lo.R)(this.mapService.mapInstance,"styledata").pipe((0,Ir.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){this.sourceAdded&&(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()||r.bounds&&!r.bounds.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.tileSize&&!r.tileSize.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.encoding&&!r.encoding.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,minzoom:this.minzoom,maxzoom:this.maxzoom,tileSize:this.tileSize,attribution:this.attribution,encoding:this.encoding}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-raster-dem-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",minzoom:"minzoom",maxzoom:"maxzoom",tileSize:"tileSize",attribution:"attribution",encoding:"encoding"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})();const Xo=["content"],er=["*"];let No=(()=>{class c{constructor(r){this.mapService=r,this.markerDragStart=new l.vpe,this.markerDragEnd=new l.vpe,this.markerDrag=new l.vpe}ngOnInit(){if(this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(r){r.lngLat&&!r.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),r.feature&&!r.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),r.draggable&&!r.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),r.popupShown&&!r.popupShown.isFirstChange()&&(r.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),r.pitchAlignment&&!r.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(r.pitchAlignment.currentValue),r.rotationAlignment&&!r.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(r.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(r){this.markerInstance.setLngLat(r)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-marker"]],viewQuery:function(r,h){if(1&r&&l.Gf(Xo,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag"},features:[l.TTD],ngContentSelectors:er,decls:3,vars:2,consts:[["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA()),2&r&&l.Tol(h.className)},encapsulation:2,changeDetection:0}),c})();const F=["content"],ee=["*"];let Z=(()=>{class c{constructor(r){this.mapService=r,this.popupClose=new l.vpe,this.popupOpen=new l.vpe}ngOnInit(){if(this.lngLat&&this.marker||this.feature&&this.lngLat||this.feature&&this.marker)throw new Error("marker, lngLat, feature input are mutually exclusive")}ngOnChanges(r){if(r.feature&&!r.feature.isFirstChange()){const h=r.lngLat?this.lngLat:this.feature.geometry.coordinates;this.mapService.removePopupFromMap(this.popupInstance,!0);const A=this.createPopup();this.mapService.addPopupToMap(A,h,this.popupInstance.isOpen()),this.popupInstance=A}if(r.lngLat&&!r.lngLat.isFirstChange()&&this.popupInstance.setLngLat(this.lngLat),r.marker&&!r.marker.isFirstChange()){const h=r.marker.previousValue;h.markerInstance&&this.mapService.removePopupFromMarker(h.markerInstance),this.marker&&this.marker.markerInstance&&this.popupInstance&&this.mapService.addPopupToMarker(this.marker.markerInstance,this.popupInstance)}r.offset&&!r.offset.isFirstChange()&&this.popupInstance&&this.popupInstance.setOffset(this.offset)}ngAfterViewInit(){this.popupInstance=this.createPopup(),this.addPopup(this.popupInstance)}ngOnDestroy(){this.popupInstance&&(this.lngLat||this.feature?this.mapService.removePopupFromMap(this.popupInstance):this.marker&&this.marker.markerInstance&&this.mapService.removePopupFromMarker(this.marker.markerInstance)),this.popupInstance=void 0}createPopup(){return this.mapService.createPopup({popupOptions:{closeButton:this.closeButton,closeOnClick:this.closeOnClick,closeOnMove:this.closeOnMove,focusAfterOpen:this.focusAfterOpen,anchor:this.anchor,offset:this.offset,className:this.className,maxWidth:this.maxWidth},popupEvents:{popupOpen:this.popupOpen,popupClose:this.popupClose}},this.content.nativeElement)}addPopup(r){this.mapService.mapCreated$.subscribe(()=>{if(this.lngLat||this.feature)this.mapService.addPopupToMap(r,this.lngLat?this.lngLat:this.feature.geometry.coordinates);else{if(!this.marker||!this.marker.markerInstance)throw new Error("mgl-popup need either lngLat/marker/feature to be set");this.mapService.addPopupToMarker(this.marker.markerInstance,r)}})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-popup"]],viewQuery:function(r,h){if(1&r&&l.Gf(F,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{closeButton:"closeButton",closeOnClick:"closeOnClick",closeOnMove:"closeOnMove",focusAfterOpen:"focusAfterOpen",anchor:"anchor",className:"className",maxWidth:"maxWidth",feature:"feature",lngLat:"lngLat",marker:"marker",offset:"offset"},outputs:{popupClose:"popupClose",popupOpen:"popupOpen"},features:[l.TTD],ngContentSelectors:ee,decls:3,vars:0,consts:[["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})(),me=(()=>{class c{onFullscreen(){this.mapService.mapInstance.resize()}constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Rn.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglFullscreen",""]],hostBindings:function(r,h){1&r&&l.NdJ("webkitfullscreenchange",function(z){return h.onFullscreen(z.target)},!1,l.Jf7)},inputs:{container:"container"}}),c})(),Ue=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h,this.geolocate=new l.vpe}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation};Object.keys(r).forEach(h=>{void 0===r[h]&&delete r[h]}),this.controlComponent.control=new Rn.GeolocateControl(r),this.controlComponent.control.on("geolocate",h=>{this.geolocate.emit(h)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation"},outputs:{geolocate:"geolocate"}}),c})(),it=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.showCompass&&(r.showCompass=this.showCompass),void 0!==this.showZoom&&(r.showZoom=this.showZoom),null!=this.visualizePitch&&(r.visualizePitch=this.visualizePitch),this.controlComponent.control=new Rn.NavigationControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom",visualizePitch:"visualizePitch"}}),c})(),Wt=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.compact&&(r.compact=this.compact),void 0!==this.customAttribution&&(r.customAttribution=this.customAttribution),this.controlComponent.control=new Rn.AttributionControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}}),c})(),Vi=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngOnChanges(r){r.unit&&!r.unit.isFirstChange()&&this.controlComponent.control.setUnit(r.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.maxWidth&&(r.maxWidth=this.maxWidth),void 0!==this.unit&&(r.unit=this.unit),this.controlComponent.control=new Rn.ScaleControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[l.TTD]}),c})();var Kn=H(3019);function Vn(c,p){1&c&&l.GkF(0)}const Qt=function(c){return{$implicit:c}};function Dn(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,Vn,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.clusterPointTpl)("ngTemplateOutletContext",l.VKq(3,Qt,r))}}function Lr(c,p){1&c&&l.GkF(0)}function Jn(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,Lr,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.pointTpl)("ngTemplateOutletContext",l.VKq(3,Qt,r))}}function Nr(c,p){if(1&c&&(l.ynx(0),l.YNc(1,Dn,3,5,"ng-container",2),l.YNc(2,Jn,3,5,"ng-container",2),l.BQk()),2&c){const r=p.$implicit;l.xp6(1),l.Q6J("ngIf",r.properties.cluster),l.xp6(1),l.Q6J("ngIf",!r.properties.cluster)}}const ua=function(){return{"circle-radius":0}};let Ji=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglPoint",""]]}),c})(),ha=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglClusterPoint",""]]}),c})(),Zs=0,zr=(()=>{class c{constructor(r,h,A){this.mapService=r,this.changeDetectorRef=h,this.ngZone=A,this.layerId="mgl-markers-for-clusters-"+Zs++,this.sub=new Ss.w0}ngAfterContentInit(){const h=this.mapService.mapCreated$.pipe((0,fs.w)(()=>(0,Lo.R)(this.mapService.mapInstance,"data").pipe((0,Ir.h)(A=>A.sourceId===this.source&&"metadata"!==A.sourceDataType&&this.mapService.mapInstance.isSourceLoaded(this.source)))),(0,fs.w)(()=>(0,Kn.T)((0,Lo.R)(this.mapService.mapInstance,"move"),(0,Lo.R)(this.mapService.mapInstance,"moveend")).pipe((0,dl.O)(void 0)))).subscribe(()=>{this.ngZone.run(()=>{this.updateCluster()})});this.sub.add(h)}ngOnDestroy(){this.sub.unsubscribe()}trackByClusterPoint(r,h){return h.id}updateCluster(){const r={layers:[this.layerId]};this.pointTpl||(r.filter=["==","cluster",!0]),this.clusterPoints=this.mapService.mapInstance.queryRenderedFeatures(r),this.changeDetectorRef.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(l.sBO),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-markers-for-clusters"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Ji,5,l.Rgc),l.Suo(A,ha,5,l.Rgc)),2&r){let z;l.iGM(z=l.CRH())&&(h.pointTpl=z.first),l.iGM(z=l.CRH())&&(h.clusterPointTpl=z.first)}},inputs:{source:"source"},decls:2,vars:6,consts:[["type","circle",3,"id","source","paint"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,h){1&r&&(l._UZ(0,"mgl-layer",0),l.YNc(1,Nr,3,2,"ng-container",1)),2&r&&(l.Q6J("id",h.layerId)("source",h.source)("paint",l.DdM(5,ua)),l.xp6(1),l.Q6J("ngForOf",h.clusterPoints)("ngForTrackBy",h.trackByClusterPoint))},dependencies:[an.sg,an.O5,an.tP,eo,No],encapsulation:2,changeDetection:0}),c})(),ma=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Rn.TerrainControl({source:this.source,exaggeration:this.exaggeration??1}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglTerrain",""]],inputs:{source:"source",exaggeration:"exaggeration"}}),c})();const Is=["container"];let gn=(()=>{class c{get mapInstance(){return this.mapService.mapInstance}constructor(r){this.mapService=r,this.movingMethod="flyTo",this.mapResize=new l.vpe,this.mapRemove=new l.vpe,this.mapMouseDown=new l.vpe,this.mapMouseUp=new l.vpe,this.mapMouseMove=new l.vpe,this.mapClick=new l.vpe,this.mapDblClick=new l.vpe,this.mapMouseOver=new l.vpe,this.mapMouseOut=new l.vpe,this.mapContextMenu=new l.vpe,this.mapTouchStart=new l.vpe,this.mapTouchEnd=new l.vpe,this.mapTouchMove=new l.vpe,this.mapTouchCancel=new l.vpe,this.mapWheel=new l.vpe,this.moveStart=new l.vpe,this.move=new l.vpe,this.moveEnd=new l.vpe,this.mapDragStart=new l.vpe,this.mapDrag=new l.vpe,this.mapDragEnd=new l.vpe,this.zoomStart=new l.vpe,this.zoomEvt=new l.vpe,this.zoomEnd=new l.vpe,this.rotateStart=new l.vpe,this.rotate=new l.vpe,this.rotateEnd=new l.vpe,this.pitchStart=new l.vpe,this.pitchEvt=new l.vpe,this.pitchEnd=new l.vpe,this.boxZoomStart=new l.vpe,this.boxZoomEnd=new l.vpe,this.boxZoomCancel=new l.vpe,this.webGlContextLost=new l.vpe,this.webGlContextRestored=new l.vpe,this.mapLoad=new l.vpe,this.idle=new l.vpe,this.render=new l.vpe,this.mapError=new l.vpe,this.data=new l.vpe,this.styleData=new l.vpe,this.sourceData=new l.vpe,this.dataLoading=new l.vpe,this.styleDataLoading=new l.vpe,this.sourceDataLoading=new l.vpe,this.styleImageMissing=new l.vpe}ngAfterViewInit(){this.mapService.setup({mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,terrain:this.terrain},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(r){var h=this;return kr(function*(){yield h.mapService.mapCreated$.toPromise(),r.cursorStyle&&!r.cursorStyle.isFirstChange()&&h.mapService.changeCanvasCursor(r.cursorStyle.currentValue),r.minZoom&&!r.minZoom.isFirstChange()&&h.mapService.updateMinZoom(r.minZoom.currentValue),r.maxZoom&&!r.maxZoom.isFirstChange()&&h.mapService.updateMaxZoom(r.maxZoom.currentValue),r.minPitch&&!r.minPitch.isFirstChange()&&h.mapService.updateMinPitch(r.minPitch.currentValue),r.maxPitch&&!r.maxPitch.isFirstChange()&&h.mapService.updateMaxPitch(r.maxPitch.currentValue),r.renderWorldCopies&&!r.renderWorldCopies.isFirstChange()&&h.mapService.updateRenderWorldCopies(r.renderWorldCopies.currentValue),r.scrollZoom&&!r.scrollZoom.isFirstChange()&&h.mapService.updateScrollZoom(r.scrollZoom.currentValue),r.dragRotate&&!r.dragRotate.isFirstChange()&&h.mapService.updateDragRotate(r.dragRotate.currentValue),r.touchPitch&&!r.touchPitch.isFirstChange()&&h.mapService.updateTouchPitch(r.touchPitch.currentValue),r.touchZoomRotate&&!r.touchZoomRotate.isFirstChange()&&h.mapService.updateTouchZoomRotate(r.touchZoomRotate.currentValue),r.doubleClickZoom&&!r.doubleClickZoom.isFirstChange()&&h.mapService.updateDoubleClickZoom(r.doubleClickZoom.currentValue),r.keyboard&&!r.keyboard.isFirstChange()&&h.mapService.updateKeyboard(r.keyboard.currentValue),r.dragPan&&!r.dragPan.isFirstChange()&&h.mapService.updateDragPan(r.dragPan.currentValue),r.boxZoom&&!r.boxZoom.isFirstChange()&&h.mapService.updateBoxZoom(r.boxZoom.currentValue),r.style&&!r.style.isFirstChange()&&h.mapService.updateStyle(r.style.currentValue),r.maxBounds&&!r.maxBounds.isFirstChange()&&h.mapService.updateMaxBounds(r.maxBounds.currentValue),r.fitBounds&&r.fitBounds.currentValue&&!r.fitBounds.isFirstChange()&&h.mapService.fitBounds(r.fitBounds.currentValue,h.fitBoundsOptions),r.fitScreenCoordinates&&r.fitScreenCoordinates.currentValue&&((h.center||h.zoom||h.pitch||h.fitBounds)&&r.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),h.mapService.fitScreenCoordinates(r.fitScreenCoordinates.currentValue,h.bearing?h.bearing[0]:0,h.movingOptions)),!h.centerWithPanTo||!r.center||r.center.isFirstChange()||r.zoom||r.bearing||r.pitch?(r.center&&!r.center.isFirstChange()||r.zoom&&!r.zoom.isFirstChange()||r.bearing&&!r.bearing.isFirstChange()&&!r.fitScreenCoordinates||r.pitch&&!r.pitch.isFirstChange())&&h.mapService.move(h.movingMethod,h.movingOptions,r.zoom&&h.zoom?h.zoom[0]:void 0,r.center?h.center:void 0,r.bearing&&h.bearing?h.bearing[0]:void 0,r.pitch&&h.pitch?h.pitch[0]:void 0):h.mapService.panTo(h.center,h.panToOptions),r.terrain&&!r.terrain.isFirstChange()&&h.mapService.updateTerrain(r.terrain.currentValue)})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Yn))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-map"]],viewQuery:function(r,h){if(1&r&&l.Gf(Is,7),2&r){let A;l.iGM(A=l.CRH())&&(h.mapContainer=A.first)}},inputs:{collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",terrain:"terrain",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing"},features:[l._Bn([Yn]),l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(r,h){1&r&&l._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),c})();var go=H(877);const pd="object"==typeof global&&global&&global.Object===Object&&global;var Ec="object"==typeof self&&self&&self.Object===Object&&self;const gs=pd||Ec||Function("return this")(),ln=gs.Symbol;var pr=Object.prototype,As=pr.hasOwnProperty,Co=pr.toString,Ol=ln?ln.toStringTag:void 0;var ks=Object.prototype.toString;var Ps=ln?ln.toStringTag:void 0;const Br=function pa(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":Ps&&Ps in Object(c)?function Jl(c){var p=As.call(c,Ol),r=c[Ol];try{c[Ol]=void 0;var h=!0}catch{}var A=Co.call(c);return h&&(p?c[Ol]=r:delete c[Ol]),A}(c):function Rl(c){return ks.call(c)}(c)},os=function fa(c){var p=typeof c;return null!=c&&("object"==p||"function"==p)},Ya=function Sc(c){if(!os(c))return!1;var p=Br(c);return"[object Function]"==p||"[object GeneratorFunction]"==p||"[object AsyncFunction]"==p||"[object Proxy]"==p};var c,Da=gs["__core-js_shared__"],ec=(c=/[^.]+$/.exec(Da&&Da.keys&&Da.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var Xn=Function.prototype.toString;const i=function E(c){if(null!=c){try{return Xn.call(c)}catch{}try{return c+""}catch{}}return""};var _=/^\[object .+?Constructor\]$/,y=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const k=function S(c){return!(!os(c)||function Fl(c){return!!ec&&ec in c}(c))&&(Ya(c)?y:_).test(i(c))},ae=function te(c,p){var r=function R(c,p){return c?.[p]}(c,p);return k(r)?r:void 0};var Ce=function(){try{var c=ae(Object,"defineProperty");return c({},"",{}),c}catch{}}();const ve=Ce,xt=function rt(c,p,r){"__proto__"==p&&ve?ve(c,p,{configurable:!0,enumerable:!0,value:r,writable:!0}):c[p]=r},dt=function Ge(c,p,r,h){for(var A=-1,z=null==c?0:c.length;++A<z;){var re=c[A];p(h,re,r(re),c)}return h};var Gt=function kt(c){return function(p,r,h){for(var A=-1,z=Object(p),re=h(p),_e=re.length;_e--;){var Ze=re[c?_e:++A];if(!1===r(z[Ze],Ze,z))break}return p}}();const ai=Gt,Sn=function Ui(c){return null!=c&&"object"==typeof c},Wi=function sn(c){return Sn(c)&&"[object Arguments]"==Br(c)};var Gr=Object.prototype,wn=Gr.hasOwnProperty,xn=Gr.propertyIsEnumerable,Un=Wi(function(){return arguments}())?Wi:function(c){return Sn(c)&&wn.call(c,"callee")&&!xn.call(c,"callee")};const Zr=Un,Wr=Array.isArray;var Os="object"==typeof exports&&exports&&!exports.nodeType&&exports,La=Os&&"object"==typeof module&&module&&!module.nodeType&&module,hl=La&&La.exports===Os?gs.Buffer:void 0;const Ba=(hl?hl.isBuffer:void 0)||function Eo(){return!1};var $o=/^(?:0|[1-9]\d*)$/;const ic=function _s(c,p){var r=typeof c;return!!(p=p??9007199254740991)&&("number"==r||"symbol"!=r&&$o.test(c))&&c>-1&&c%1==0&&c<p},ys=function yo(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991};var ao={};ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Arguments]"]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object Boolean]"]=ao["[object DataView]"]=ao["[object Date]"]=ao["[object Error]"]=ao["[object Function]"]=ao["[object Map]"]=ao["[object Number]"]=ao["[object Object]"]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object WeakMap]"]=!1;const Jd=function yd(c){return function(p){return c(p)}};var sp="object"==typeof exports&&exports&&!exports.nodeType&&exports,lo=sp&&"object"==typeof module&&module&&!module.nodeType&&module,Ac=lo&&lo.exports===sp&&pd.process;const Rs=function(){try{return lo&&lo.require&&lo.require("util").types||Ac&&Ac.binding&&Ac.binding("util")}catch{}}();var zl=Rs&&Rs.isTypedArray;const kc=zl?Jd(zl):function H_(c){return Sn(c)&&ys(c.length)&&!!ao[Br(c)]};var lp=Object.prototype.hasOwnProperty;const Fs=function $_(c,p){var r=Wr(c),h=!r&&Zr(c),A=!r&&!h&&Ba(c),z=!r&&!h&&!A&&kc(c),re=r||h||A||z,_e=re?function ri(c,p){for(var r=-1,h=Array(c);++r<c;)h[r]=p(r);return h}(c.length,String):[],Ze=_e.length;for(var ht in c)(p||lp.call(c,ht))&&(!re||!("length"==ht||A&&("offset"==ht||"parent"==ht)||z&&("buffer"==ht||"byteLength"==ht||"byteOffset"==ht)||ic(ht,Ze)))&&_e.push(ht);return _e};var eu=Object.prototype;const xd=function _a(c){var p=c&&c.constructor;return c===("function"==typeof p&&p.prototype||eu)},Xf=function Bl(c,p){return function(r){return c(p(r))}},Jf=Xf(Object.keys,Object);var dp=Object.prototype.hasOwnProperty;const wd=function Bh(c){return null!=c&&ys(c.length)&&!Ya(c)},oc=function Cd(c){return wd(c)?Fs(c):function up(c){if(!xd(c))return Jf(c);var p=[];for(var r in Object(c))dp.call(c,r)&&"constructor"!=r&&p.push(r);return p}(c)};var mp=function Lu(c,p){return function(r,h){if(null==r)return r;if(!wd(r))return c(r,h);for(var A=r.length,z=p?A:-1,re=Object(r);(p?z--:++z<A)&&!1!==h(re[z],z,re););return r}}(function Ys(c,p){return c&&ai(c,p,oc)});const Vh=mp,pp=function Nu(c,p,r,h){return Vh(c,function(A,z,re){p(h,A,r(A),re)}),h},Ua=function Xc(c,p){return c===p||c!=c&&p!=p},jh=function iu(c,p){for(var r=c.length;r--;)if(Ua(c[r][0],p))return r;return-1};var tg=Array.prototype.splice;function qr(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var h=c[p];this.set(h[0],h[1])}}qr.prototype.clear=function Uh(){this.__data__=[],this.size=0},qr.prototype.delete=function G_(c){var p=this.__data__,r=jh(p,c);return!(r<0||(r==p.length-1?p.pop():tg.call(p,r,1),--this.size,0))},qr.prototype.get=function ng(c){var p=this.__data__,r=jh(p,c);return r<0?void 0:p[r][1]},qr.prototype.has=function Ed(c){return jh(this.__data__,c)>-1},qr.prototype.set=function Md(c,p){var r=this.__data__,h=jh(r,c);return h<0?(++this.size,r.push([c,p])):r[h][1]=p,this};const Pc=qr,nu=ae(gs,"Map"),ru=ae(Object,"create");var Oc=Object.prototype.hasOwnProperty;var Gu=Object.prototype.hasOwnProperty;function sc(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var h=c[p];this.set(h[0],h[1])}}sc.prototype.clear=function ou(){this.__data__=ru?ru(null):{},this.size=0},sc.prototype.delete=function Dd(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p},sc.prototype.get=function Hh(c){var p=this.__data__;if(ru){var r=p[c];return"__lodash_hash_undefined__"===r?void 0:r}return Oc.call(p,c)?p[c]:void 0},sc.prototype.has=function Zu(c){var p=this.__data__;return ru?void 0!==p[c]:Gu.call(p,c)},sc.prototype.set=function Rc(c,p){var r=this.__data__;return this.size+=this.has(c)?0:1,r[c]=ru&&void 0===p?"__lodash_hash_undefined__":p,this};const ed=sc,Ls=function Ep(c,p){var r=c.__data__;return function wp(c){var p=typeof c;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==c:null===c}(p)?r["string"==typeof p?"string":"hash"]:r.map};function Fc(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var h=c[p];this.set(h[0],h[1])}}Fc.prototype.clear=function dg(){this.size=0,this.__data__={hash:new ed,map:new(nu||Pc),string:new ed}},Fc.prototype.delete=function Gh(c){var p=Ls(this,c).delete(c);return this.size-=p?1:0,p},Fc.prototype.get=function Zh(c){return Ls(this,c).get(c)},Fc.prototype.has=function ac(c){return Ls(this,c).has(c)},Fc.prototype.set=function Dp(c,p){var r=Ls(this,c),h=r.size;return r.set(c,p),this.size+=r.size==h?0:1,this};const qu=Fc;function Sd(c){var p=this.__data__=new Pc(c);this.size=p.size}Sd.prototype.clear=function og(){this.__data__=new Pc,this.size=0},Sd.prototype.delete=function Vu(c){var p=this.__data__,r=p.delete(c);return this.size=p.size,r},Sd.prototype.get=function sg(c){return this.__data__.get(c)},Sd.prototype.has=function Qc(c){return this.__data__.has(c)},Sd.prototype.set=function su(c,p){var r=this.__data__;if(r instanceof Pc){var h=r.__data__;if(!nu||h.length<199)return h.push([c,p]),this.size=++r.size,this;r=this.__data__=new qu(h)}return r.set(c,p),this.size=r.size,this};const au=Sd;function Td(c){var p=-1,r=null==c?0:c.length;for(this.__data__=new qu;++p<r;)this.add(c[p])}Td.prototype.add=Td.prototype.push=function Yh(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},Td.prototype.has=function lu(c){return this.__data__.has(c)};const Kh=Td,Jh=function Xh(c,p){for(var r=-1,h=null==c?0:c.length;++r<h;)if(p(c[r],r,c))return!0;return!1},td=function Id(c,p){return c.has(p)},Ap=function Ku(c,p,r,h,A,z){var re=1&r,_e=c.length,Ze=p.length;if(_e!=Ze&&!(re&&Ze>_e))return!1;var ht=z.get(c),Ht=z.get(p);if(ht&&Ht)return ht==p&&Ht==c;var Xt=-1,Ri=!0,Ki=2&r?new Kh:void 0;for(z.set(c,p),z.set(p,c);++Xt<_e;){var ki=c[Xt],ji=p[Xt];if(h)var Mn=re?h(ji,ki,Xt,p,c,z):h(ki,ji,Xt,c,p,z);if(void 0!==Mn){if(Mn)continue;Ri=!1;break}if(Ki){if(!Jh(p,function(Wn,rr){if(!td(Ki,rr)&&(ki===Wn||A(ki,Wn,r,h,z)))return Ki.push(rr)})){Ri=!1;break}}else if(ki!==ji&&!A(ki,ji,r,h,z)){Ri=!1;break}}return z.delete(c),z.delete(p),Ri},cu=gs.Uint8Array,gg=function fg(c){var p=-1,r=Array(c.size);return c.forEach(function(h,A){r[++p]=[A,h]}),r},zo=function du(c){var p=-1,r=Array(c.size);return c.forEach(function(h){r[++p]=h}),r};var kp=ln?ln.prototype:void 0,th=kp?kp.valueOf:void 0;const rm=function nm(c,p){for(var r=-1,h=p.length,A=c.length;++r<h;)c[A+r]=p[r];return c},fl=function nd(c,p,r){var h=p(c);return Wr(c)?h:rm(h,r(c))},sm=function Ad(){return[]};var hu=Object.prototype.propertyIsEnumerable,lm=Object.getOwnPropertySymbols,cm=lm?function(c){return null==c?[]:(c=Object(c),function om(c,p){for(var r=-1,h=null==c?0:c.length,A=0,z=[];++r<h;){var re=c[r];p(re,r,c)&&(z[A++]=re)}return z}(lm(c),function(p){return hu.call(c,p)}))}:sm;const Ns=cm,ih=function dm(c){return fl(c,oc,Ns)};var Lc=Object.prototype.hasOwnProperty;const um=ae(gs,"DataView"),rh=ae(gs,"Promise"),oh=ae(gs,"Set"),zc=ae(gs,"WeakMap");var Od="[object Map]",mm="[object Promise]",sh="[object Set]",Ja="[object WeakMap]",gl="[object DataView]",Bc=i(um),Fp=i(nu),pm=i(rh),vg=i(oh),dc=i(zc),va=Br;(um&&va(new um(new ArrayBuffer(1)))!=gl||nu&&va(new nu)!=Od||rh&&va(rh.resolve())!=mm||oh&&va(new oh)!=sh||zc&&va(new zc)!=Ja)&&(va=function(c){var p=Br(c),r="[object Object]"==p?c.constructor:void 0,h=r?i(r):"";if(h)switch(h){case Bc:return gl;case Fp:return Od;case pm:return mm;case vg:return sh;case dc:return Ja}return p});const rd=va;var ah="[object Arguments]",lh="[object Array]",uc="[object Object]",ch=Object.prototype.hasOwnProperty;const Np=function fm(c,p,r,h,A,z){var re=Wr(c),_e=Wr(p),Ze=re?lh:rd(c),ht=_e?lh:rd(p),Ht=(Ze=Ze==ah?uc:Ze)==uc,Xt=(ht=ht==ah?uc:ht)==uc,Ri=Ze==ht;if(Ri&&Ba(c)){if(!Ba(p))return!1;re=!0,Ht=!1}if(Ri&&!Ht)return z||(z=new au),re||kc(c)?Ap(c,p,r,h,A,z):function Pp(c,p,r,h,A,z,re){switch(r){case"[object DataView]":if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=p.byteLength||!z(new cu(c),new cu(p)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ua(+c,+p);case"[object Error]":return c.name==p.name&&c.message==p.message;case"[object RegExp]":case"[object String]":return c==p+"";case"[object Map]":var _e=gg;case"[object Set]":if(_e||(_e=zo),c.size!=p.size&&!(1&h))return!1;var ht=re.get(c);if(ht)return ht==p;h|=2,re.set(c,p);var Ht=Ap(_e(c),_e(p),h,A,z,re);return re.delete(c),Ht;case"[object Symbol]":if(th)return th.call(c)==th.call(p)}return!1}(c,p,Ze,r,h,A,z);if(!(1&r)){var Ki=Ht&&ch.call(c,"__wrapped__"),ki=Xt&&ch.call(p,"__wrapped__");if(Ki||ki){var ji=Ki?c.value():c,Mn=ki?p.value():p;return z||(z=new au),A(ji,Mn,r,h,z)}}return!!Ri&&(z||(z=new au),function Nc(c,p,r,h,A,z){var re=1&r,_e=ih(c),Ze=_e.length;if(Ze!=ih(p).length&&!re)return!1;for(var Xt=Ze;Xt--;){var Ri=_e[Xt];if(!(re?Ri in p:Lc.call(p,Ri)))return!1}var Ki=z.get(c),ki=z.get(p);if(Ki&&ki)return Ki==p&&ki==c;var ji=!0;z.set(c,p),z.set(p,c);for(var Mn=re;++Xt<Ze;){var Wn=c[Ri=_e[Xt]],rr=p[Ri];if(h)var bo=re?h(rr,Wn,Ri,p,c,z):h(Wn,rr,Ri,c,p,z);if(!(void 0===bo?Wn===rr||A(Wn,rr,r,h,z):bo)){ji=!1;break}Mn||(Mn="constructor"==Ri)}if(ji&&!Mn){var Yr=c.constructor,ja=p.constructor;Yr!=ja&&"constructor"in c&&"constructor"in p&&!("function"==typeof Yr&&Yr instanceof Yr&&"function"==typeof ja&&ja instanceof ja)&&(ji=!1)}return z.delete(c),z.delete(p),ji}(c,p,r,h,A,z))},gm=function mu(c,p,r,h,A){return c===p||(null==c||null==p||!Sn(c)&&!Sn(p)?c!=c&&p!=p:Np(c,p,r,h,mu,A))},_m=function Bp(c){return c==c&&!os(c)},pu=function od(c,p){return function(r){return null!=r&&r[c]===p&&(void 0!==p||c in Object(r))}},xg=function uh(c){var p=function q_(c){for(var p=oc(c),r=p.length;r--;){var h=p[r],A=c[h];p[r]=[h,A,_m(A)]}return p}(c);return 1==p.length&&p[0][2]?pu(p[0][0],p[0][1]):function(r){return r===c||function Rd(c,p,r,h){var A=r.length,z=A,re=!h;if(null==c)return!z;for(c=Object(c);A--;){var _e=r[A];if(re&&_e[2]?_e[1]!==c[_e[0]]:!(_e[0]in c))return!1}for(;++A<z;){var Ze=(_e=r[A])[0],ht=c[Ze],Ht=_e[1];if(re&&_e[2]){if(void 0===ht&&!(Ze in c))return!1}else{var Xt=new au;if(h)var Ri=h(ht,Ht,Ze,c,p,Xt);if(!(void 0===Ri?gm(Ht,ht,3,h,Xt):Ri))return!1}}return!0}(r,c,p)}},fu=function ym(c){return"symbol"==typeof c||Sn(c)&&"[object Symbol]"==Br(c)};var hh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Up=/^\w*$/;const gu=function vm(c,p){if(Wr(c))return!1;var r=typeof c;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=c&&!fu(c))||Up.test(c)||!hh.test(c)||null!=p&&c in Object(p)};function Vc(c,p){if("function"!=typeof c||null!=p&&"function"!=typeof p)throw new TypeError("Expected a function");var r=function(){var h=arguments,A=p?p.apply(this,h):h[0],z=r.cache;if(z.has(A))return z.get(A);var re=c.apply(this,h);return r.cache=z.set(A,re)||z,re};return r.cache=new(Vc.Cache||qu),r}Vc.Cache=qu;const mh=Vc;var Hp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xm=/\\(\\)?/g,$p=function Uc(c){var p=mh(c,function(h){return 500===r.size&&r.clear(),h}),r=p.cache;return p}(function(c){var p=[];return 46===c.charCodeAt(0)&&p.push(""),c.replace(Hp,function(r,h,A,z){p.push(A?z.replace(xm,"$1"):h||r)}),p});const Gp=$p;var ph=ln?ln.prototype:void 0,qp=ph?ph.toString:void 0;const _u=function Cg(c){if("string"==typeof c)return c;if(Wr(c))return function jc(c,p){for(var r=-1,h=null==c?0:c.length,A=Array(h);++r<h;)A[r]=p(c[r],r,c);return A}(c,Cg)+"";if(fu(c))return qp?qp.call(c):"";var p=c+"";return"0"==p&&1/c==-1/0?"-0":p},Fd=function wm(c,p){return Wr(c)?c:gu(c,p)?[c]:Gp(function gr(c){return null==c?"":_u(c)}(c))},sd=function Ld(c){if("string"==typeof c||fu(c))return c;var p=c+"";return"0"==p&&1/c==-1/0?"-0":p},Em=function yu(c,p){for(var r=0,h=(p=Fd(p,c)).length;null!=c&&r<h;)c=c[sd(p[r++])];return r&&r==h?c:void 0},Nd=function Dm(c,p){return null!=c&&p in Object(c)},Hc=function fh(c,p){return null!=c&&function Jo(c,p,r){for(var h=-1,A=(p=Fd(p,c)).length,z=!1;++h<A;){var re=sd(p[h]);if(!(z=null!=c&&r(c,re)))break;c=c[re]}return z||++h!=A?z:!!(A=null==c?0:c.length)&&ys(A)&&ic(re,A)&&(Wr(c)||Zr(c))}(c,p,Nd)},Kp=function gh(c,p){return gu(c)&&_m(p)?pu(sd(c),p):function(r){var h=function Mm(c,p,r){var h=null==c?void 0:Em(c,p);return void 0===h?r:h}(r,c);return void 0===h&&h===p?Hc(r,c):gm(p,h,3)}},yh=function _h(c){return c},vh=function wu(c){return gu(c)?function $c(c){return function(p){return p?.[c]}}(sd(c)):function xu(c){return function(p){return Em(p,c)}}(c)};var xh=Object.prototype.hasOwnProperty,Tm=function bh(c,p){return function(r,h){var A=Wr(r)?dt:pp,z=p?p():{};return A(r,c,function ad(c){return"function"==typeof c?c:null==c?yh:"object"==typeof c?Wr(c)?Kp(c[0],c[1]):xg(c):vh(c)}(h),z)}}(function(c,p,r){xh.call(c,r)?c[r].push(p):xt(c,r,[p])});const Jp=Tm;var m=Object.prototype.hasOwnProperty;const D=function x(c,p,r){var h=c[p];(!m.call(c,p)||!Ua(h,r)||void 0===r&&!(p in c))&&xt(c,p,r)},O=function I(c,p,r,h){var A=!r;r||(r={});for(var z=-1,re=p.length;++z<re;){var _e=p[z],Ze=h?h(r[_e],c[_e],_e,r,c):void 0;void 0===Ze&&(Ze=c[_e]),A?xt(r,_e,Ze):D(r,_e,Ze)}return r};var pe=Object.prototype.hasOwnProperty;const ke=function ye(c){if(!os(c))return function q(c){var p=[];if(null!=c)for(var r in Object(c))p.push(r);return p}(c);var p=xd(c),r=[];for(var h in c)"constructor"==h&&(p||!pe.call(c,h))||r.push(h);return r},Je=function He(c){return wd(c)?Fs(c,!0):ke(c)};var yt="object"==typeof exports&&exports&&!exports.nodeType&&exports,At=yt&&"object"==typeof module&&module&&!module.nodeType&&module,Ai=At&&At.exports===yt?gs.Buffer:void 0,Gi=Ai?Ai.allocUnsafe:void 0;const Zi=Xf(Object.getPrototypeOf,Object);var Vr=Object.getOwnPropertySymbols?function(c){for(var p=[];c;)rm(p,Ns(c)),c=Zi(c);return p}:sm;const Pr=Vr,So=function Xs(c){return fl(c,Je,Pr)};var ls=Object.prototype.hasOwnProperty;const To=function co(c){var p=new c.constructor(c.byteLength);return new cu(p).set(new cu(c)),p};var Bs=/\w*$/;var Vo=ln?ln.prototype:void 0,jn=Vo?Vo.valueOf:void 0;const J_=function X_(c,p,r){var h=c.constructor;switch(p){case"[object ArrayBuffer]":return To(c);case"[object Boolean]":case"[object Date]":return new h(+c);case"[object DataView]":return function Bo(c,p){var r=p?To(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.byteLength)}(c,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Io(c,p){var r=p?To(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.length)}(c,r);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(c);case"[object RegExp]":return function Qs(c){var p=new c.constructor(c.source,Bs.exec(c));return p.lastIndex=c.lastIndex,p}(c);case"[object Symbol]":return function bs(c){return jn?Object(jn.call(c)):{}}(c)}};var Pm=Object.create,el=function(){function c(){}return function(p){if(!os(p))return{};if(Pm)return Pm(p);c.prototype=p;var r=new c;return c.prototype=void 0,r}}();const Om=el;var un=Rs&&Rs.isMap;const tl=un?Jd(un):function rf(c){return Sn(c)&&"[object Map]"==rd(c)};var ey=Rs&&Rs.isSet;const ty=ey?Jd(ey):function $l(c){return Sn(c)&&"[object Set]"==rd(c)};var ny="[object Arguments]",Du="[object Function]",Su="[object Object]",uo={};uo[ny]=uo["[object Array]"]=uo["[object ArrayBuffer]"]=uo["[object DataView]"]=uo["[object Boolean]"]=uo["[object Date]"]=uo["[object Float32Array]"]=uo["[object Float64Array]"]=uo["[object Int8Array]"]=uo["[object Int16Array]"]=uo["[object Int32Array]"]=uo["[object Map]"]=uo["[object Number]"]=uo[Su]=uo["[object RegExp]"]=uo["[object Set]"]=uo["[object String]"]=uo["[object Symbol]"]=uo["[object Uint8Array]"]=uo["[object Uint8ClampedArray]"]=uo["[object Uint16Array]"]=uo["[object Uint32Array]"]=!0,uo["[object Error]"]=uo[Du]=uo["[object WeakMap]"]=!1;const v0=function Lm(c,p,r,h,A,z){var re,_e=1&p,Ze=2&p,ht=4&p;if(r&&(re=A?r(c,h,A,z):r(c)),void 0!==re)return re;if(!os(c))return c;var Ht=Wr(c);if(Ht){if(re=function ba(c){var p=c.length,r=new c.constructor(p);return p&&"string"==typeof c[0]&&ls.call(c,"index")&&(r.index=c.index,r.input=c.input),r}(c),!_e)return function xi(c,p){var r=-1,h=c.length;for(p||(p=Array(h));++r<h;)p[r]=c[r];return p}(c,re)}else{var Xt=rd(c),Ri=Xt==Du||"[object GeneratorFunction]"==Xt;if(Ba(c))return function Pi(c,p){if(p)return c.slice();var r=c.length,h=Gi?Gi(r):new c.constructor(r);return c.copy(h),h}(c,_e);if(Xt==Su||Xt==ny||Ri&&!A){if(re=Ze||Ri?{}:function Rm(c){return"function"!=typeof c.constructor||xd(c)?{}:Om(Zi(c))}(c),!_e)return Ze?function Do(c,p){return O(c,Pr(c),p)}(c,function mt(c,p){return c&&O(p,Je(p),c)}(re,c)):function Mi(c,p){return O(c,Ns(c),p)}(c,function L(c,p){return c&&O(p,oc(p),c)}(re,c))}else{if(!uo[Xt])return A?c:{};re=J_(c,Xt,_e)}}z||(z=new au);var Ki=z.get(c);if(Ki)return Ki;z.set(c,re),ty(c)?c.forEach(function(Mn){re.add(Lm(Mn,p,r,Mn,c,z))}):tl(c)&&c.forEach(function(Mn,Wn){re.set(Wn,Lm(Mn,p,r,Wn,c,z))});var ji=Ht?void 0:(ht?Ze?So:ih:Ze?Je:oc)(c);return function o(c,p){for(var r=-1,h=null==c?0:c.length;++r<h&&!1!==p(c[r],r,c););}(ji||c,function(Mn,Wn){ji&&(Mn=c[Wn=Mn]),D(re,Wn,Lm(Mn,p,r,Wn,c,z))}),re},C0=c=>"object"==typeof c&&null!=c&&1===c.nodeType,af=(c,p)=>(!p||"hidden"!==c)&&"visible"!==c&&"clip"!==c,lf=(c,p)=>{if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){const r=getComputedStyle(c,null);return af(r.overflowY,p)||af(r.overflowX,p)||(h=>{const A=(z=>{if(!z.ownerDocument||!z.ownerDocument.defaultView)return null;try{return z.ownerDocument.defaultView.frameElement}catch{return null}})(h);return!!A&&(A.clientHeight<h.scrollHeight||A.clientWidth<h.scrollWidth)})(c)}return!1},cf=(c,p,r,h,A,z,re,_e)=>z<c&&re>p||z>c&&re<p?0:z<=c&&_e<=r||re>=p&&_e>=r?z-c-h:re>p&&_e<r||z<c&&_e>r?re-p+A:0,E0=c=>c.parentElement??(c.getRootNode().host||null),dy=(c,p)=>{var r,h,A,z;if(typeof document>"u")return[];const{scrollMode:re,block:_e,inline:Ze,boundary:ht,skipOverflowHiddenElements:Ht}=p,Xt="function"==typeof ht?ht:vc=>vc!==ht;if(!C0(c))throw new TypeError("Invalid target");const Ri=document.scrollingElement||document.documentElement,Ki=[];let ki=c;for(;C0(ki)&&Xt(ki);){if(ki=E0(ki),ki===Ri){Ki.push(ki);break}null!=ki&&ki===document.body&&lf(ki)&&!lf(document.documentElement)||null!=ki&&lf(ki,Ht)&&Ki.push(ki)}const ji=null!=(h=null==(r=window.visualViewport)?void 0:r.width)?h:innerWidth,Mn=null!=(z=null==(A=window.visualViewport)?void 0:A.height)?z:innerHeight,{scrollX:Wn,scrollY:rr}=window,{height:bo,width:Yr,top:ja,right:nl,bottom:Cs,left:rl}=c.getBoundingClientRect();let cs="start"===_e||"nearest"===_e?ja:"end"===_e?Cs:ja+bo/2,ds="center"===Ze?rl+Yr/2:"end"===Ze?nl:rl;const np=[];for(let vc=0;vc<Ki.length;vc++){const no=Ki[vc],{height:Wd,width:Fh,top:zi,right:pn,bottom:bn,left:or}=no.getBoundingClientRect();if("if-needed"===re&&ja>=0&&rl>=0&&Cs<=Mn&&nl<=ji&&ja>=zi&&Cs<=bn&&rl>=or&&nl<=pn)return np;const sr=getComputedStyle(no),Ha=parseInt(sr.borderLeftWidth,10),Es=parseInt(sr.borderTopWidth,10),xl=parseInt(sr.borderRightWidth,10),ro=parseInt(sr.borderBottomWidth,10);let wl=0,bc=0;const es="offsetWidth"in no?no.offsetWidth-no.clientWidth-Ha-xl:0,ql="offsetHeight"in no?no.offsetHeight-no.clientHeight-Es-ro:0,Ia="offsetWidth"in no?0===no.offsetWidth?0:Fh/no.offsetWidth:0,qd="offsetHeight"in no?0===no.offsetHeight?0:Wd/no.offsetHeight:0;if(Ri===no)wl="start"===_e?cs:"end"===_e?cs-Mn:"nearest"===_e?cf(rr,rr+Mn,Mn,Es,ro,rr+cs,rr+cs+bo,bo):cs-Mn/2,bc="start"===Ze?ds:"center"===Ze?ds-ji/2:"end"===Ze?ds-ji:cf(Wn,Wn+ji,ji,Ha,xl,Wn+ds,Wn+ds+Yr,Yr),wl=Math.max(0,wl+rr),bc=Math.max(0,bc+Wn);else{wl="start"===_e?cs-zi-Es:"end"===_e?cs-bn+ro+ql:"nearest"===_e?cf(zi,bn,Wd,Es,ro+ql,cs,cs+bo,bo):cs-(zi+Wd/2)+ql/2,bc="start"===Ze?ds-or-Ha:"center"===Ze?ds-(or+Fh/2)+es/2:"end"===Ze?ds-pn+xl+es:cf(or,pn,Fh,Ha,xl+es,ds,ds+Yr,Yr);const{scrollLeft:Fu,scrollTop:j_}=no;wl=Math.max(0,Math.min(j_+wl/qd,no.scrollHeight-Wd/qd+ql)),bc=Math.max(0,Math.min(Fu+bc/Ia,no.scrollWidth-Fh/Ia+es)),cs+=j_-wl,ds+=Fu-bc}np.push({el:no,top:wl,left:bc})}return np};let hy=(()=>{class c{constructor(){this.resize$=new cr.x}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var na=H(6223),D0=H(6637),ld=H(2296),Cn=H(2495),Gl=H(2831),Zn=H(3680),Zl=H(7131);let Ag=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,Cn.Ig)(r)}get inset(){return this._inset}set inset(r){this._inset=(0,Cn.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,h){2&r&&(l.uIk("aria-orientation",h.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",h.vertical)("mat-divider-horizontal",!h.vertical)("mat-divider-inset",h.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,h){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),c})(),S0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zn.BQ,Zn.BQ]}),c})();var fc=H(7849),df=H(8337),cd=H(6028);const uf=["*"],Ch='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',hf=["unscopedContent"],lC=["text"],my=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],py=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],yy=new l.OlP("ListOption");let Og=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),c})(),Rg=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),c})(),R0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),c})(),vy=(()=>{class c{constructor(r){this._listOption=r}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(yy,8))},c.\u0275dir=l.lG2({type:c,hostVars:4,hostBindings:function(r,h){2&r&&l.ekj("mdc-list-item__start",h._isAlignedAtStart())("mdc-list-item__end",!h._isAlignedAtStart())}}),c})(),by=(()=>{class c extends vy{}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]}),c})(),xy=(()=>{class c extends vy{}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]}),c})();const zm=new l.OlP("MAT_LIST_CONFIG");let Ud=(()=>{class c{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(zm,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,Cn.Ig)(r)}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,hostVars:1,hostBindings:function(r,h){2&r&&l.uIk("aria-disabled",h.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),c})(),ff=(()=>{class c{set lines(r){this._explicitLines=(0,Cn.su)(r,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(r){this._disableRipple=(0,Cn.Ig)(r)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(r,h,A,z,re,_e){this._elementRef=r,this._ngZone=h,this._listBase=A,this._platform=z,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ss.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=re||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===_e,A&&!A._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Zn.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Kn.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(r){if(!this._lines||!this._titles||!this._unscopedContent)return;r&&this._checkDomForUnscopedTextContent();const h=this._explicitLines??this._inferLinesFromContent(),A=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===h),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===h),this._hasUnscopedTextContent){const z=0===this._titles.length&&1===h;A.classList.toggle("mdc-list-item__primary-text",z),A.classList.toggle("mdc-list-item__secondary-text",!z)}else A.classList.remove("mdc-list-item__primary-text"),A.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let r=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(r+=1),r}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(r=>r.nodeType!==r.COMMENT_NODE).some(r=>!(!r.textContent||!r.textContent.trim()))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ud,8),l.Y36(Gl.t4),l.Y36(Zn.Y2,8),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c,contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,by,4),l.Suo(A,xy,4)),2&r){let z;l.iGM(z=l.CRH())&&(h._avatars=z),l.iGM(z=l.CRH())&&(h._icons=z)}},hostVars:4,hostBindings:function(r,h){2&r&&(l.uIk("aria-disabled",h.disabled)("disabled",h._isButtonElement&&h.disabled||null),l.ekj("mdc-list-item--disabled",h.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),c})(),Bm=(()=>{class c extends Ud{}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:Ud,useExisting:c}]),l.qOj],ngContentSelectors:uf,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:[Ch],encapsulation:2,changeDetection:0}),c})(),wy=(()=>{class c extends ff{get activated(){return this._activated}set activated(r){this._activated=(0,Cn.Ig)(r)}constructor(r,h,A,z,re,_e){super(r,h,A,z,re,_e),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ud,8),l.Y36(Gl.t4),l.Y36(Zn.Y2,8),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Rg,5),l.Suo(A,Og,5),l.Suo(A,R0,5)),2&r){let z;l.iGM(z=l.CRH())&&(h._lines=z),l.iGM(z=l.CRH())&&(h._titles=z),l.iGM(z=l.CRH())&&(h._meta=z)}},viewQuery:function(r,h){if(1&r&&(l.Gf(hf,5),l.Gf(lC,5)),2&r){let A;l.iGM(A=l.CRH())&&(h._unscopedContent=A.first),l.iGM(A=l.CRH())&&(h._itemText=A.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,h){2&r&&(l.uIk("aria-current",h._getAriaCurrent()),l.ekj("mdc-list-item--activated",h.activated)("mdc-list-item--with-leading-avatar",0!==h._avatars.length)("mdc-list-item--with-leading-icon",0!==h._icons.length)("mdc-list-item--with-trailing-meta",0!==h._meta.length)("_mat-animation-noopable",h._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:py,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(r,h){1&r&&(l.F$t(my),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return h._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[Zl.wD],encapsulation:2,changeDetection:0}),c})(),z0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]}),c})(),B0=(()=>{class c extends Ud{constructor(){super(...arguments),this._isNonInteractive=!1}}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:Ud,useExisting:c}]),l.qOj],ngContentSelectors:uf,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:[Ch],encapsulation:2,changeDetection:0}),c})(),Cy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zl.Q8,an.ez,Zn.BQ,Zn.si,Zn.us,S0]}),c})();var Fg=H(6232);const Ey=(0,Gl.i$)({passive:!0});let gf=(()=>{class c{constructor(r,h){this._platform=r,this._ngZone=h,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Fg.E;const h=(0,Cn.fI)(r),A=this._monitoredElements.get(h);if(A)return A.subject;const z=new cr.x,re="cdk-text-field-autofilled",_e=Ze=>{"cdk-text-field-autofill-start"!==Ze.animationName||h.classList.contains(re)?"cdk-text-field-autofill-end"===Ze.animationName&&h.classList.contains(re)&&(h.classList.remove(re),this._ngZone.run(()=>z.next({target:Ze.target,isAutofilled:!1}))):(h.classList.add(re),this._ngZone.run(()=>z.next({target:Ze.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",_e,Ey),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:z,unlisten:()=>{h.removeEventListener("animationstart",_e,Ey)}}),z}stopMonitoring(r){const h=(0,Cn.fI)(r),A=this._monitoredElements.get(h);A&&(A.unlisten(),A.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((r,h)=>this.stopMonitoring(h))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Gl.t4),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),H0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();var Tu=H(4170);const $0=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),G0=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let My=0;const Dy=(0,Zn.FD)(class{constructor(c,p,r,h){this._defaultErrorStateMatcher=c,this._parentForm=p,this._parentFormGroup=r,this.ngControl=h,this.stateChanges=new cr.x}});let Z0=(()=>{class c extends Dy{get disabled(){return this._disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(na.kI.required)??!1}set required(r){this._required=(0,Cn.Ig)(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&(0,Gl.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=(0,Cn.Ig)(r)}constructor(r,h,A,z,re,_e,Ze,ht,Ht,Xt){super(_e,z,re,A),this._elementRef=r,this._platform=h,this._autofillMonitor=ht,this._formField=Xt,this._uid="mat-input-"+My++,this.focused=!1,this.stateChanges=new cr.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ki=>(0,Gl.qK)().has(ki)),this._iOSKeyupListener=ki=>{const ji=ki.target;!ji.value&&0===ji.selectionStart&&0===ji.selectionEnd&&(ji.setSelectionRange(1,1),ji.setSelectionRange(0,0))};const Ri=this._elementRef.nativeElement,Ki=Ri.nodeName.toLowerCase();this._inputValueAccessor=Ze||Ri,this._previousNativeValue=this.value,this.id=this.id,h.IOS&&Ht.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ki,this._isTextarea="textarea"===Ki,this._isInFormField=!!Xt,this._isNativeSelect&&(this.controlType=Ri.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){const r=this._getPlaceholder();if(r!==this._previousPlaceholder){const h=this._elementRef.nativeElement;this._previousPlaceholder=r,r?h.setAttribute("placeholder",r):h.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){G0.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,h=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&h&&h.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(Gl.t4),l.Y36(na.a5,10),l.Y36(na.F,8),l.Y36(na.sg,8),l.Y36(Zn.rD),l.Y36($0,10),l.Y36(gf),l.Y36(l.R0b),l.Y36(Tu.G_,8))},c.\u0275dir=l.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h._focusChanged(!0)})("blur",function(){return h._focusChanged(!1)})("input",function(){return h._onInput()}),2&r&&(l.Ikx("id",h.id)("disabled",h.disabled)("required",h.required),l.uIk("name",h.name||null)("readonly",h.readonly&&!h._isNativeSelect||null)("aria-invalid",h.empty&&h.required?null:h.errorState)("aria-required",h.required)("id",h.id),l.ekj("mat-input-server",h._isServer)("mat-mdc-form-field-textarea-control",h._isInFormField&&h._isTextarea)("mat-mdc-form-field-input-control",h._isInFormField)("mdc-text-field__input",h._isInFormField)("mat-mdc-native-select-inline",h._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Tu.Eo,useExisting:c}]),l.qOj,l.TTD]}),c})(),_C=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zn.BQ,Tu.lN,Tu.lN,H0,Zn.BQ]}),c})();var vl=H(799),Lg=H(9388),W0=H(975),_f=H(3997);const yf=["*"],q0=["content"];function Ng(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Y0(c,p){1&c&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const Zc=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Vm=["mat-drawer","mat-drawer-content","*"];function Sa(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Iu(c,p){1&c&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const vf=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Wl=["mat-sidenav","mat-sidenav-content","*"],Au={transformDrawer:(0,ne.X$)("transform",[(0,ne.SB)("open, open-instant",(0,ne.oB)({transform:"none",visibility:"visible"})),(0,ne.SB)("void",(0,ne.oB)({"box-shadow":"none",visibility:"hidden"})),(0,ne.eR)("void => open-instant",(0,ne.jt)("0ms")),(0,ne.eR)("void <=> open, open-instant => void",(0,ne.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Eh=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Mh(){return!1}}),jd=new l.OlP("MAT_DRAWER_CONTAINER");let ud=(()=>{class c extends vl.PQ{constructor(r,h,A,z,re){super(A,z,re),this._changeDetectorRef=r,this._container=h}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Pu)),l.Y36(l.SBq),l.Y36(vl.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,h){2&r&&l.Udp("margin-left",h._container._contentMargins.left,"px")("margin-right",h._container._contentMargins.right,"px")},features:[l._Bn([{provide:vl.PQ,useExisting:c}]),l.qOj],ngContentSelectors:yf,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),ku=(()=>{class c{get position(){return this._position}set position(r){(r="end"===r?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=(0,Cn.Ig)(r)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(r){("true"===r||"false"===r||null==r)&&(r=(0,Cn.Ig)(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle((0,Cn.Ig)(r))}constructor(r,h,A,z,re,_e,Ze,ht){this._elementRef=r,this._focusTrapFactory=h,this._focusMonitor=A,this._platform=z,this._ngZone=re,this._interactivityChecker=_e,this._doc=Ze,this._container=ht,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new cr.x,this._animationEnd=new cr.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,Ir.h)(Ht=>Ht),(0,Ts.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Ir.h)(Ht=>Ht.fromState!==Ht.toState&&0===Ht.toState.indexOf("open")),(0,W0.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Ir.h)(Ht=>!Ht),(0,Ts.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Ir.h)(Ht=>Ht.fromState!==Ht.toState&&"void"===Ht.toState),(0,W0.h)(void 0)),this._destroyed=new cr.x,this.onPositionChanged=new l.vpe,this._modeChanged=new cr.x,this.openedChange.subscribe(Ht=>{Ht?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Lo.R)(this._elementRef.nativeElement,"keydown").pipe((0,Ir.h)(Ht=>Ht.keyCode===cd.hY&&!this.disableClose&&!(0,cd.Vb)(Ht)),(0,Qr.R)(this._destroyed)).subscribe(Ht=>this._ngZone.run(()=>{this.close(),Ht.stopPropagation(),Ht.preventDefault()}))}),this._animationEnd.pipe((0,_f.x)((Ht,Xt)=>Ht.fromState===Xt.fromState&&Ht.toState===Xt.toState)).subscribe(Ht=>{const{fromState:Xt,toState:Ri}=Ht;(0===Ri.indexOf("open")&&"void"===Xt||"void"===Ri&&0===Xt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(r,h){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const A=()=>{r.removeEventListener("blur",A),r.removeEventListener("mousedown",A),r.removeAttribute("tabindex")};r.addEventListener("blur",A),r.addEventListener("mousedown",A)})),r.focus(h)}_focusByCssSelector(r,h){let A=this._elementRef.nativeElement.querySelector(r);A&&this._forceFocus(A,h)}_takeFocus(){if(!this._focusTrap)return;const r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(h=>{!h&&"function"==typeof this._elementRef.nativeElement.focus&&r.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(r){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,h){r&&h&&(this._openedVia=h);const A=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),A}_setOpen(r,h,A){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",h&&this._restoreFocus(A)),this._updateFocusTrapState(),new Promise(z=>{this.openedChange.pipe((0,kl.q)(1)).subscribe(re=>z(re?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(r){const h=this._elementRef.nativeElement,A=h.parentNode;"end"===r?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),A.insertBefore(this._anchor,h)),A.appendChild(h)):this._anchor&&this._anchor.parentNode.insertBefore(h,this._anchor)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(fc.qV),l.Y36(fc.tE),l.Y36(Gl.t4),l.Y36(l.R0b),l.Y36(fc.ic),l.Y36(an.K0,8),l.Y36(jd,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer"]],viewQuery:function(r,h){if(1&r&&l.Gf(q0,5),2&r){let A;l.iGM(A=l.CRH())&&(h._content=A.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(r,h){1&r&&l.WFA("@transform.start",function(z){return h._animationStarted.next(z)})("@transform.done",function(z){return h._animationEnd.next(z)}),2&r&&(l.uIk("align",null),l.d8E("@transform",h._animationState),l.ekj("mat-drawer-end","end"===h.position)("mat-drawer-over","over"===h.mode)("mat-drawer-push","push"===h.mode)("mat-drawer-side","side"===h.mode)("mat-drawer-opened",h.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:yf,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[vl.PQ],encapsulation:2,data:{animation:[Au.transformDrawer]},changeDetection:0}),c})(),Pu=(()=>{class c{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=(0,Cn.Ig)(r)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(r){this._backdropOverride=null==r?null:(0,Cn.Ig)(r)}get scrollable(){return this._userContent||this._content}constructor(r,h,A,z,re,_e=!1,Ze){this._dir=r,this._element=h,this._ngZone=A,this._changeDetectorRef=z,this._animationMode=Ze,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new cr.x,this._doCheckSubject=new cr.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new cr.x,r&&r.change.pipe((0,Qr.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),re.change().pipe((0,Qr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=_e}ngAfterContentInit(){this._allDrawers.changes.pipe((0,dl.O)(this._allDrawers),(0,Qr.R)(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(h=>!h._container||h._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,dl.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Kl.b)(10),(0,Qr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,h=0;if(this._left&&this._left.opened)if("side"==this._left.mode)r+=this._left._getWidth();else if("push"==this._left.mode){const A=this._left._getWidth();r+=A,h-=A}if(this._right&&this._right.opened)if("side"==this._right.mode)h+=this._right._getWidth();else if("push"==this._right.mode){const A=this._right._getWidth();h+=A,r-=A}r=r||null,h=h||null,(r!==this._contentMargins.left||h!==this._contentMargins.right)&&(this._contentMargins={left:r,right:h},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe((0,Ir.h)(h=>h.fromState!==h.toState),(0,Qr.R)(this._drawers.changes)).subscribe(h=>{"open-instant"!==h.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==r.mode&&r.openedChange.pipe((0,Qr.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r&&r.onPositionChanged.pipe((0,Qr.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,kl.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(r){r&&r._modeChanged.pipe((0,Qr.R)((0,Kn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){const h=this._element.nativeElement.classList,A="mat-drawer-container-has-open";r?h.add(A):h.remove(A)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{"end"==r.position?this._end=r:this._start=r}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._canHaveBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(r){return"side"!==r.mode||!!this._backdropOverride}_isDrawerOpen(r){return null!=r&&r.opened}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Lg.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(vl.rL),l.Y36(Eh),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-container"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,ud,5),l.Suo(A,ku,5)),2&r){let z;l.iGM(z=l.CRH())&&(h._content=z.first),l.iGM(z=l.CRH())&&(h._allDrawers=z)}},viewQuery:function(r,h){if(1&r&&l.Gf(ud,5),2&r){let A;l.iGM(A=l.CRH())&&(h._userContent=A.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",h._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:jd,useExisting:c}])],ngContentSelectors:Vm,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,h){1&r&&(l.F$t(Zc),l.YNc(0,Ng,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Y0,2,0,"mat-drawer-content",1)),2&r&&(l.Q6J("ngIf",h.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!h._content))},dependencies:[an.O5,ud],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),Hd=(()=>{class c extends ud{constructor(r,h,A,z,re){super(r,h,A,z,re)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Vg)),l.Y36(l.SBq),l.Y36(vl.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,h){2&r&&l.Udp("margin-left",h._container._contentMargins.left,"px")("margin-right",h._container._contentMargins.right,"px")},features:[l._Bn([{provide:vl.PQ,useExisting:c}]),l.qOj],ngContentSelectors:yf,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),Bg=(()=>{class c extends ku{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=(0,Cn.Ig)(r)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=(0,Cn.su)(r)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=(0,Cn.su)(r)}}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,h){2&r&&(l.uIk("align",null),l.Udp("top",h.fixedInViewport?h.fixedTopGap:null,"px")("bottom",h.fixedInViewport?h.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===h.position)("mat-drawer-over","over"===h.mode)("mat-drawer-push","push"===h.mode)("mat-drawer-side","side"===h.mode)("mat-drawer-opened",h.opened)("mat-sidenav-fixed",h.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:yf,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[vl.PQ],encapsulation:2,data:{animation:[Au.transformDrawer]},changeDetection:0}),c})(),Vg=(()=>{class c extends Pu{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-container"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Hd,5),l.Suo(A,Bg,5)),2&r){let z;l.iGM(z=l.CRH())&&(h._content=z.first),l.iGM(z=l.CRH())&&(h._allDrawers=z)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",h._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:jd,useExisting:c}]),l.qOj],ngContentSelectors:Wl,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,h){1&r&&(l.F$t(vf),l.YNc(0,Sa,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Iu,2,0,"mat-sidenav-content",1)),2&r&&(l.Q6J("ngIf",h.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!h._content))},dependencies:[an.O5,Hd],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),Sy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[an.ez,Zn.BQ,vl.ZD,vl.ZD,Zn.BQ]}),c})();const Ty=["switch"],Iy=["*"],Ay=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),ky={provide:na.JU,useExisting:(0,l.Gpc)(()=>X0),multi:!0};class Ug{constructor(p,r){this.source=p,this.checked=r}}let Py=0;const jg=(0,Zn.sb)((0,Zn.pj)((0,Zn.Kr)((0,Zn.Id)(class{constructor(c){this._elementRef=c}}))));let K0=(()=>{class c extends jg{get required(){return this._required}set required(r){this._required=(0,Cn.Ig)(r)}get checked(){return this._checked}set checked(r){this._checked=(0,Cn.Ig)(r),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,A,z,re,_e,Ze){super(r),this._focusMonitor=h,this._changeDetectorRef=A,this.defaults=re,this._onChange=ht=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(z)||0,this.color=this.defaultColor=re.color||"accent",this._noopAnimations="NoopAnimations"===_e,this.id=this._uniqueId=`${Ze}${++Py}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{"keyboard"===r||"program"===r?(this._focused=!0,this._changeDetectorRef.markForCheck()):r||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(r){this.checked=!!r}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]}),c})(),X0=(()=>{class c extends K0{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(r,h,A,z,re,_e){super(r,h,A,z,re,_e,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Ug(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(r){return new Ug(this,r)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(fc.tE),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(Ay),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-slide-toggle"]],viewQuery:function(r,h){if(1&r&&l.Gf(Ty,5),2&r){let A;l.iGM(A=l.CRH())&&(h._switchElement=A.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(r,h){2&r&&(l.Ikx("id",h.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",h._focused)("mat-mdc-slide-toggle-checked",h.checked)("_mat-animation-noopable",h._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([ky]),l.qOj],ngContentSelectors:Iy,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[1,"mdc-label",3,"for","click"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return h._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.TgZ(10,"div",10),l.O4$(),l.TgZ(11,"svg",11),l._UZ(12,"path",12),l.qZA(),l.TgZ(13,"svg",13),l._UZ(14,"path",14),l.qZA()()()()(),l.kcU(),l.TgZ(15,"label",15),l.NdJ("click",function(z){return z.stopPropagation()}),l.Hsn(16),l.qZA()()),2&r){const A=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==h.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",h.checked)("mdc-switch--unselected",!h.checked)("mdc-switch--checked",h.checked)("mdc-switch--disabled",h.disabled),l.Q6J("tabIndex",h.tabIndex)("disabled",h.disabled),l.uIk("id",h.buttonId)("name",h.name)("aria-label",h.ariaLabel)("aria-labelledby",h._getAriaLabelledBy())("aria-describedby",h.ariaDescribedby)("aria-required",h.required||null)("aria-checked",h.checked),l.xp6(8),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h.disableRipple||h.disabled)("matRippleCentered",!0),l.xp6(6),l.Q6J("for",h.buttonId),l.uIk("id",h._labelId)}},dependencies:[Zn.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0}),c})(),Oy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})(),vC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Oy,Zn.BQ,Zn.si,an.ez,Oy,Zn.BQ]}),c})();const Q0=["exampleLink"];function bC(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.clearSearch())}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}const ex=function(c){return{_routerLinkActiveWakeUpHack_:c}};function tx(c,p){if(1&c&&(l.TgZ(0,"a",14,15),l._uU(2),l.qZA()),2&c){const r=l.oxw().$implicit,h=l.oxw(2);l.Q6J("routerLink","/demo/"+(h.isEditMode?"/edit/":"")+r.path)("routerLinkActiveOptions",l.VKq(3,ex,h.isEditMode)),l.xp6(2),l.hij(" ",r.data.label," ")}}function ix(c,p){if(1&c&&(l.ynx(0),l.YNc(1,tx,3,5,"a",13),l.BQk()),2&c){const r=p.$implicit;l.xp6(1),l.Q6J("ngIf",r)}}function Hg(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"h3",12),l._uU(2),l.qZA(),l.YNc(3,ix,2,1,"ng-container",9),l._UZ(4,"mat-divider"),l.BQk()),2&c){const r=p.$implicit,h=l.oxw();l.xp6(2),l.Oqu(r),l.xp6(1),l.Q6J("ngForOf",h.routes[r])}}let jm=(()=>{class c{constructor(r,h,A,z){this.zone=r,this.router=h,this.activatedRoute=A,this.mapResizeService=z,this.sidenavIsOpen=!0,this.isEditMode=!!this.activatedRoute.snapshot.firstChild.params.demoUrl,this.originalRoutes=Jp(Wf[0].children,re=>re.data?re.data.cat:null),this.categories=[En.STYLES,En.LAYERS,En.SOURCES,En.USER_INTERACTION,En.CAMERA,En.CONTROLS_AND_OVERLAYS,En.TERRAIN]}ngOnInit(){this.routes=this.originalRoutes}ngAfterViewInit(){this.scrollInToActiveExampleLink()}toggleSidenav(){this.sidenavIsOpen=!this.sidenavIsOpen}toggleEdit(r){const h=this.activatedRoute.snapshot.firstChild;this.router.navigate(r.checked?["demo","edit",h.url[0].path]:["demo",h.params.demoUrl])}onSidenavChange(){this.mapResizeService.resize$.next(void 0)}search(){this.routes=function x0(c){return v0(c,5)}(this.originalRoutes),Object.values(this.routes).forEach(r=>{r.forEach((h,A)=>{h.data&&!h.data.label.toLowerCase().includes(this.searchTerm.toLowerCase())&&delete r[A]})})}clearSearch(){this.searchTerm="",this.routes=this.originalRoutes}scrollInToActiveExampleLink(){this.zone.onStable.pipe((0,mr.P)()).subscribe(()=>{const r=this.exampleLinks.find(h=>h.nativeElement.classList.contains("active"));r&&function M0(c,p){if(!c.isConnected||!(h=>{let A=h;for(;A&&A.parentNode;){if(A.parentNode===document)return!0;A=A.parentNode instanceof ShadowRoot?A.parentNode.host:A.parentNode}return!1})(c))return;if("object"==typeof(h=p)&&"function"==typeof h.behavior)return p.behavior(dy(c,p));var h;const r="boolean"==typeof p||null==p?void 0:p.behavior;for(const{el:h,top:A,left:z}of dy(c,(c=>{return!1===c?{block:"end",inline:"nearest"}:(p=c)===Object(p)&&0!==Object.keys(p).length?c:{block:"start",inline:"nearest"};var p})(p)))h.scroll({top:A,left:z,behavior:r})}(r.nativeElement,{block:"center",scrollMode:"if-needed"})})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(le.F0),l.Y36(le.gz),l.Y36(hy))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(Q0,5,l.SBq),2&r){let A;l.iGM(A=l.CRH())&&(h.exampleLinks=A)}},decls:18,vars:5,consts:[["position","left"],["mat-button","",1,"menu-button",3,"click"],["position","right"],["color","accent",3,"ngModel","ngModelChange","change"],["mode","side",3,"opened","openedChange"],["sidenav",""],[1,"search"],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSubheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["exampleLink",""]],template:function(r,h){1&r&&(l.TgZ(0,"showcase-layout-toolbar-menu",0)(1,"button",1),l.NdJ("click",function(){return h.toggleSidenav()}),l.TgZ(2,"mat-icon"),l._uU(3,"menu"),l.qZA()()(),l.TgZ(4,"showcase-layout-toolbar-menu",2)(5,"mat-slide-toggle",3),l.NdJ("ngModelChange",function(z){return h.isEditMode=z})("change",function(z){return h.toggleEdit(z)}),l._uU(6," Edit! "),l.qZA()(),l.TgZ(7,"mat-sidenav-container")(8,"mat-sidenav",4,5),l.NdJ("openedChange",function(){return h.onSidenavChange()}),l.TgZ(10,"mat-form-field",6)(11,"input",7),l.NdJ("ngModelChange",function(z){return h.searchTerm=z})("ngModelChange",function(){return h.search()}),l.qZA(),l.YNc(12,bC,3,0,"button",8),l.qZA(),l.TgZ(13,"mat-nav-list"),l.YNc(14,Hg,5,2,"ng-container",9),l.qZA()(),l.TgZ(15,"mat-sidenav-content")(16,"section",10),l._UZ(17,"router-outlet"),l.qZA()()()),2&r&&(l.xp6(5),l.Q6J("ngModel",h.isEditMode),l.xp6(3),l.Q6J("opened",h.sidenavIsOpen),l.xp6(3),l.Q6J("ngModel",h.searchTerm),l.xp6(1),l.Q6J("ngIf",h.searchTerm),l.xp6(2),l.Q6J("ngForOf",h.categories))},dependencies:[le.lC,le.rH,le.Od,an.sg,an.O5,na.Fj,na.JJ,na.On,D0.a,ld.lW,ld.RK,B0,wy,z0,Ag,Z0,Tu.KE,Tu.R9,Ve.Hw,Bg,Vg,Hd,X0],styles:["[_nghost-%COMP%], .content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:345px;display:flex;flex-direction:column;flex:1}mat-nav-list[_ngcontent-%COMP%]{overflow-y:auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{height:100%}mat-form-field.search[_ngcontent-%COMP%]{width:100%;margin-bottom:-1.25em}a.active[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5!important}"]}),c})(),Hn=(()=>{class c{constructor(r,h){this.mapResizeService=r,this.map=h,this.sub=new Ss.w0}ngOnInit(){this.sub.add(this.mapResizeService.resize$.subscribe(()=>{this.map.mapInstance.resize()}))}ngOnDestroy(){this.sub.unsubscribe()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hy),l.Y36(gn))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]]}),c})(),Nn=(()=>{class c{constructor(r){this.map=r,null!=window.Cypress&&(console.info("Cypress detected. Setting preserveDrawingBuffer=true"),this.map.preserveDrawingBuffer=!0)}onMapIdle(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!0}onMapRender(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!1}onMapLoad(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.loaded=!0}ngOnInit(){window.mglMapTestHelper={mapComponent:this.map}}ngOnDestroy(){window.mglMapTestHelper=void 0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(gn))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]],hostBindings:function(r,h){1&r&&l.NdJ("idle",function(z){return h.onMapIdle(z)})("render",function(z){return h.onMapRender(z)})("mapLoad",function(z){return h.onMapLoad(z)})}}),c})();const Ry=function(c){return[c,40.7135]},Hm=function(){return["==","extrude","true"]},$g=function(){return["linear"]},Fy=function(){return["zoom"]},$m=function(){return["get","height"]},Ly=function(c,p,r){return["interpolate",c,p,15,0,15.05,r]},nx=function(){return["get","min_height"]},rx=function(c,p){return{"fill-extrusion-color":"#aaa","fill-extrusion-height":c,"fill-extrusion-base":p,"fill-extrusion-opacity":.6}};let ox=(()=>{class c{onLoad(r){const h=r.getStyle().layers;for(let A=0;A<h.length;A++)if("symbol"===h[A].type&&h[A].layout["text-field"]){this.labelLayerId=h[A].id;break}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:30,consts:[[3,"zoom","center","pitch","bearing","mapLoad"],["id","3d-buildings","source","openmaptiles","sourceLayer","building","type","fill-extrusion",3,"filter","minzoom","paint","before"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return h.onLoad(z)}),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",15.5)("center",l.VKq(10,Ry,-74.0066))("pitch",45)("bearing",-17.6),l.xp6(1),l.Q6J("filter",l.DdM(12,Hm))("minzoom",15)("paint",l.WLB(27,rx,l.kEZ(16,Ly,l.DdM(13,$g),l.DdM(14,Fy),l.DdM(15,$m)),l.kEZ(23,Ly,l.DdM(20,$g),l.DdM(21,Fy),l.DdM(22,nx))))("before",h.labelLayerId))},dependencies:[gn,eo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Gg=function(c){return{width:64,height:64,data:c}},bf=function(){return[0,0]},xf=function(c){return{type:"Point",coordinates:c}},xC=function(c){return{type:"Feature",geometry:c}},sx=function(c){return[c]},ax=function(c){return{type:"FeatureCollection",features:c}},Zg=function(c){return{type:"geojson",data:c}},lx=function(){return{"icon-image":"gradient"}};let Ny=(()=>{class c{ngOnInit(){this.imageData=this.generateImage()}generateImage(){const A=new Uint8Array(16384);for(let z=0;z<64;z++)for(let re=0;re<64;re++){const _e=4*(64*re+z);A[_e+0]=re/64*255,A[_e+1]=z/64*255,A[_e+2]=128,A[_e+3]=255}return A}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:19,consts:[["id","gradient",3,"data"],["id","points","type","symbol",3,"source","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-image",0)(2,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("data",l.VKq(5,Gg,h.imageData)),l.xp6(1),l.Q6J("source",l.VKq(16,Zg,l.VKq(14,ax,l.VKq(12,sx,l.VKq(10,xC,l.VKq(8,xf,l.DdM(7,bf)))))))("layout",l.DdM(18,lx)))},dependencies:[gn,eo,ul,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function cx(c,p){if(1&c&&l._UZ(0,"mgl-image",3),2&c){const r=p.$implicit;l.Q6J("id",r.id)("data",r)}}const dx=function(){return[0,0]},wf=function(c){return{type:"Point",coordinates:c}},zy=function(){return{color:"255,0,0"}},Cf=function(c,p){return{type:"Feature",geometry:c,properties:p}},ux=function(){return[50,0]},hx=function(){return{color:"255,209,28"}},mx=function(c){return[c,0]},By=function(){return{color:"242,127,32"}},Wg=function(c,p,r){return[c,p,r]},qg=function(c){return{type:"FeatureCollection",features:c}},px=function(c){return{type:"geojson",data:c}},Ef=function(){return["get","color"]},Mf=function(c){return["concat","square-rgb-",c]},Yg=function(c){return{"icon-image":c}};let Vy=(()=>{class c{constructor(){this.imagesData=[]}generateImage({id:r}){const h="square-rgb-";if(0!==r.indexOf(h))return;const A=r.replace(h,"").split(",").map(Number),_e=new Uint8Array(16384);for(let ht=0;ht<64;ht++)for(let Ht=0;Ht<64;Ht++){const Xt=4*(64*Ht+ht);_e[Xt+0]=A[0],_e[Xt+1]=A[1],_e[Xt+2]=A[2],_e[Xt+3]=255}this.imagesData=[...this.imagesData,{id:r,width:64,height:64,data:_e}]}trackByImage(r,h){return h.id}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:41,consts:[[3,"styleImageMissing"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],["id","points","type","symbol",3,"source","layout"],[3,"id","data"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("styleImageMissing",function(z){return h.generateImage(z)}),l.YNc(1,cx,1,2,"mgl-image",1),l._UZ(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngForOf",h.imagesData)("ngForTrackBy",h.trackByImage),l.xp6(1),l.Q6J("source",l.VKq(34,px,l.VKq(32,qg,l.kEZ(28,Wg,l.WLB(10,Cf,l.VKq(7,wf,l.DdM(6,dx)),l.DdM(9,zy)),l.WLB(17,Cf,l.VKq(14,wf,l.DdM(13,ux)),l.DdM(16,hx)),l.WLB(25,Cf,l.VKq(22,wf,l.VKq(20,mx,-50)),l.DdM(24,By))))))("layout",l.VKq(39,Yg,l.VKq(37,Mf,l.DdM(36,Ef)))))},dependencies:[an.sg,gn,eo,ul,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const fx=function(){return[0,0]},gx=function(c){return{type:"Point",coordinates:c}},_x=function(c){return{type:"Feature",geometry:c}},Df=function(c){return[c]},Sf=function(c){return{type:"FeatureCollection",features:c}},Kg=function(c){return{type:"geojson",data:c}},Uy=function(){return{"icon-image":"cat","icon-size":.25}};function yx(c,p){1&c&&l._UZ(0,"mgl-layer",2),2&c&&l.Q6J("source",l.VKq(11,Kg,l.VKq(9,Sf,l.VKq(7,Df,l.VKq(5,_x,l.VKq(3,gx,l.DdM(2,fx)))))))("layout",l.DdM(13,Uy))}let vx=(()=>{class c{constructor(){this.imageLoaded=!1}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:3,consts:[["id","cat","url","https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png",3,"imageLoaded"],["id","points","type","symbol",3,"source","layout",4,"ngIf"],["id","points","type","symbol",3,"source","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map")(1,"mgl-image",0),l.NdJ("imageLoaded",function(){return h.imageLoaded=!0}),l.qZA(),l.YNc(2,yx,1,14,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(2),l.Q6J("ngIf",h.imageLoaded))},dependencies:[an.O5,gn,eo,ul,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const jy=function(c){return[c,38.907]},Xg=function(){return[11.15]};let Hy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","top-left"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(5,jy,-77.04))("zoom",l.DdM(7,Xg))("attributionControl",!1))},dependencies:[gn,Tr,Wt,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Jg(c,p){1&c&&l._UZ(0,"mgl-feature",4),2&c&&l.Q6J("geometry",p.$implicit)}const Qg=function(){return[8]},bx=function(){return{"icon-image":"oneway"}};let $y=(()=>{class c{constructor(){this.center=[-90.96,-.47],this.geometries=[{type:"Point",coordinates:[-91.395263671875,-.9145729757782163]},{type:"Point",coordinates:[-90.32958984375,-.6344474832838974]},{type:"Point",coordinates:[-91.34033203125,.01647949196029245]}]}centerMapTo(r){this.center=r.features[0].geometry.coordinates}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:9,consts:[[3,"zoom","center","cursorStyle","mapLoad"],["id","symbols-source"],[3,"geometry",4,"ngFor","ngForOf"],["id","symbols","type","symbol","source","symbols-source",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"geometry"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return h.map=z}),l.TgZ(1,"mgl-geojson-source",1),l.YNc(2,Jg,1,1,"mgl-feature",2),l.qZA(),l.TgZ(3,"mgl-layer",3),l.NdJ("layerClick",function(z){return h.centerMapTo(z)})("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""}),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Qg))("center",h.center)("cursorStyle",h.cursorStyle),l.xp6(2),l.Q6J("ngForOf",h.geometries),l.xp6(1),l.Q6J("layout",l.DdM(8,bx)))},dependencies:[an.sg,gn,eo,Yo,rs,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Gy(c,p){1&c&&l._UZ(0,"showcase-cluster-point",6),2&c&&l.Q6J("properties",p.$implicit.properties)}const Zy=function(){return[.3]},Wy=function(){return[0,20]},qy=function(){return["!=","cluster",!0]},Yy=function(c){return{fill:c}};function Ky(c,p){if(1&c&&(l.O4$(),l._UZ(0,"path",4)),2&c){const r=p.$implicit;l.Q6J("ngStyle",l.VKq(2,Yy,r.fill)),l.uIk("d",r.d)}}const e_=function(c){return{font:c}},$d=["#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c"];let Xy=(()=>{class c{constructor(){const r=["<",["get","mag"],2],h=["all",[">=",["get","mag"],2],["<",["get","mag"],3]],A=["all",[">=",["get","mag"],3],["<",["get","mag"],4]],z=["all",[">=",["get","mag"],4],["<",["get","mag"],5]];this.clusterProperties={mag1:["+",["case",r,1,0]],mag2:["+",["case",h,1,0]],mag3:["+",["case",A,1,0]],mag4:["+",["case",z,1,0]],mag5:["+",["case",[">=",["get","mag"],5],1,0]]},this.circlePaint={"circle-color":["case",r,$d[0],h,$d[1],A,$d[2],z,$d[3],$d[4]],"circle-opacity":.6,"circle-radius":12},this.labelLayout={"text-field":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":10},this.labelPaint={"text-color":["case",["<",["get","mag"],3],"black","white"]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:16,consts:[[3,"zoom","center"],["id","earthquakes","data","https://maplibre.org/maplibre-gl-js/docs/assets/earthquakes.geojson",3,"cluster","clusterRadius","clusterProperties"],["source","earthquakes"],["mglClusterPoint",""],["id","earthquake_circle","type","circle","source","earthquakes",3,"filter","paint"],["id","earthquake_label","type","symbol","source","earthquakes",3,"filter","layout","paint"],[3,"properties"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-markers-for-clusters",2),l.YNc(3,Gy,1,1,"ng-template",3),l.qZA(),l._UZ(4,"mgl-layer",4)(5,"mgl-layer",5),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(12,Zy))("center",l.DdM(13,Wy)),l.xp6(1),l.Q6J("cluster",!0)("clusterRadius",80)("clusterProperties",h.clusterProperties),l.xp6(3),l.Q6J("filter",l.DdM(14,qy))("paint",h.circlePaint),l.xp6(1),l.Q6J("filter",l.DdM(15,qy))("layout",h.labelLayout)("paint",h.labelPaint))},dependencies:function(){return[gn,eo,Yo,ha,zr,Hn,Jy,Nn]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Jy=(()=>{class c{ngOnInit(){const r=[],h=[this.properties.mag1,this.properties.mag2,this.properties.mag3,this.properties.mag4,this.properties.mag5];let A=0;for(let re=0;re<h.length;re++)r.push(A),A+=h[re];this.font=(A>=1e3?22:A>=100?20:A>=10?18:16)+"px sans-serif",this.r=A>=1e3?50:A>=100?32:A>=10?24:18,this.r0=Math.round(.6*this.r),this.w=2*this.r,this.viewbox=`0 0 ${this.w} ${this.w}`,this.textTransform=`translate(${this.r}, ${this.r})`,this.segments=[];for(let re=0;re<h.length;re++)this.segments.push(this.donutSegment(r[re]/A,(r[re]+h[re])/A,$d[re]));this.totalString=A.toLocaleString()}donutSegment(r,h,A){h-r==1&&(h-=1e-5);const z=2*Math.PI*(r-.25),re=2*Math.PI*(h-.25),_e=Math.cos(z),Ze=Math.sin(z),ht=Math.cos(re),Ht=Math.sin(re),Xt=h-r>.5?1:0;return{d:`M ${this.r+this.r0*_e} ${this.r+this.r0*Ze} L ${this.r+this.r*_e} ${this.r+this.r*Ze} A ${this.r} ${this.r} 0 ${Xt} 1 ${this.r+this.r*ht} ${this.r+this.r*Ht} L ${this.r+this.r0*ht} ${this.r+this.r0*Ht} A ${this.r0} ${this.r0} 0 ${Xt} 0 ${this.r+this.r0*_e} ${this.r+this.r0*Ze}`,fill:A}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-point"]],inputs:{properties:"properties"},decls:5,vars:12,consts:[["text-anchor","middle",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],["fill","white"],["dominant-baseline","central"],[3,"ngStyle"]],template:function(r,h){1&r&&(l.O4$(),l.TgZ(0,"svg",0),l.YNc(1,Ky,1,4,"path",1),l._UZ(2,"circle",2),l.TgZ(3,"text",3),l._uU(4),l.qZA()()),2&r&&(l.Q6J("ngStyle",l.VKq(10,e_,h.font)),l.uIk("width",h.w)("height",h.w)("viewbox",h.viewbox),l.xp6(1),l.Q6J("ngForOf",h.segments),l.xp6(1),l.uIk("cx",h.r)("cy",h.r)("r",h.r0),l.xp6(1),l.uIk("transform",h.textTransform),l.xp6(1),l.hij(" ",h.totalString," "))},dependencies:[an.sg,an.PC],encapsulation:2}),c})();const t_=function(){return["has","point_count"]},Qy=function(){return[0,"#51bbd6"]},ev=function(){return[100,"#f1f075"]},tv=function(){return[750,"#f28cb1"]},i_=function(c,p,r){return[c,p,r]},n_=function(c){return{property:"point_count",type:"interval",stops:c}},Tf=function(){return[0,20]},Gd=function(){return[100,30]},xx=function(){return[750,40]},wx=function(c,p){return{"circle-color":c,"circle-radius":p}},r_=function(){return["DIN Offc Pro Medium","Arial Unicode MS Bold"]},Ou=function(c){return{"text-field":"{point_count_abbreviated}","text-font":c,"text-size":12}},o_=function(){return["!has","point_count"]},Cx=function(){return{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};function s_(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2)(2,"mgl-layer",3)(3,"mgl-layer",4)(4,"mgl-layer",5),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",14)("clusterRadius",50),l.xp6(1),l.Q6J("filter",l.DdM(10,t_))("paint",l.WLB(29,wx,l.VKq(18,n_,l.kEZ(14,i_,l.DdM(11,Qy),l.DdM(12,ev),l.DdM(13,tv))),l.VKq(27,n_,l.kEZ(23,i_,l.DdM(20,Tf),l.DdM(21,Gd),l.DdM(22,xx))))),l.xp6(1),l.Q6J("filter",l.DdM(32,t_))("layout",l.VKq(34,Ou,l.DdM(33,r_))),l.xp6(1),l.Q6J("filter",l.DdM(36,o_))("paint",l.DdM(37,Cx))}}const wC=function(){return[3]},CC=function(c){return[c,40.66995747013945]};let Ex=(()=>{class c{ngOnInit(){var r=this;return kr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["id","clusters","type","circle","source","earthquakes",3,"filter","paint"],["id","cluster-count","type","symbol","source","earthquakes",3,"filter","layout"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,s_,5,38,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,wC))("center",l.VKq(6,CC,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:[an.O5,gn,eo,Yo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Mx=function(c){return[c,38.907]},iv=function(){return[11.15]},Us=function(){return['<a href="https://github.com/Wykks/ngx-mapbox-gl" target="_blank">Maps made awesome in Angular</a>',"Hello World"]};let nv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","bottom-right",3,"customAttribution"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(6,Mx,-77.04))("zoom",l.DdM(8,iv))("attributionControl",!1),l.xp6(1),l.Q6J("customAttribution",l.DdM(9,Us)))},dependencies:[gn,Tr,Wt,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Sx=function(){return[36.235656,50.00387]},Tx=function(){return[11.15]};let rv=(()=>{class c{constructor(){this.locale={"FullscreenControl.Enter":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c","FullscreenControl.Exit":"\u0412\u0438\u0439\u0442\u0438 \u0437 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0443","GeolocateControl.FindMyLocation":"\u0417\u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f","GeolocateControl.LocationNotAvailable":"\u041c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435","LogoControl.Title":"\u041b\u043e\u0433\u043e Mapbox","NavigationControl.ResetBearing":"C\u043a\u0438\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u0441","NavigationControl.ZoomIn":"\u041d\u0430\u0431\u043b\u0438\u0437\u0438\u0442\u0438","NavigationControl.ZoomOut":"\u0412\u0456\u0434\u0434\u0430\u043b\u0438\u0442\u0438","ScaleControl.Feet":"\u0444","ScaleControl.Meters":"\u043c","ScaleControl.Kilometers":"\u043a\u043c","ScaleControl.Miles":"\u043c\u0438","ScaleControl.NauticalMiles":"\u043d\u043c"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:7,consts:[[3,"center","zoom","locale"],["mglFullscreen","","position","top-left"],["mglGeolocate","","position","top-left"],["mglNavigation","","position","top-left"],["mglScale",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1)(2,"mgl-control",2)(3,"mgl-control",3)(4,"mgl-control",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.DdM(5,Sx))("zoom",l.DdM(6,Tx))("locale",h.locale))},dependencies:[gn,Tr,me,it,Ue,Vi,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ix=function(c,p,r){return{"background-image":c,width:p,height:r}};function ov(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"mgl-marker",2)(1,"div",3),l.NdJ("click",function(){const z=l.CHM(r).$implicit,re=l.oxw();return l.KtG(re.alert(z.properties.message))}),l.qZA()()}if(2&c){const r=p.$implicit;l.Q6J("feature",r),l.xp6(1),l.Q6J("ngStyle",l.kEZ(2,Ix,"url(https://placekitten.com/g/"+r.properties.iconSize.join("/")+"/)",r.properties.iconSize[0]+"px",r.properties.iconSize[1]+"px"))}}const sv=function(){return[5]},Dh=function(c,p){return[c,p]};let Ax=(()=>{class c{constructor(){this.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{message:"Foo",iconSize:[60,60]},geometry:{type:"Point",coordinates:[-66.324462890625,-16.024695711685304]}},{type:"Feature",properties:{message:"Bar",iconSize:[50,50]},geometry:{type:"Point",coordinates:[-61.2158203125,-15.97189158092897]}},{type:"Feature",properties:{message:"Baz",iconSize:[40,40]},geometry:{type:"Point",coordinates:[-63.29223632812499,-18.28151823530889]}}]}}alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:9,consts:[[3,"zoom","center"],[3,"feature",4,"ngFor","ngForOf"],[3,"feature"],[1,"marker",3,"ngStyle","click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,ov,2,6,"mgl-marker",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,sv))("center",l.WLB(6,Dh,-65.017,-16.457)),l.xp6(1),l.Q6J("ngForOf",h.geojson.features))},dependencies:[an.sg,an.PC,gn,No,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const kx=function(){return[3]},av=function(c){return[c,39]};let Px=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,kx))("center",l.VKq(5,av,-77.38)))},dependencies:[gn,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const lv=function(){return[9]},EC=function(c){return[c,40]};let a_=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,lv))("center",l.VKq(5,EC,-74.5)))},dependencies:[gn,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const l_=["*"],_c=new l.OlP("MAT_CARD_CONFIG");let bl=(()=>{class c{constructor(r){this.appearance=r?.appearance||"raised"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(_c,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,h){2&r&&l.ekj("mat-mdc-card-outlined","outlined"===h.appearance)("mdc-card--outlined","outlined"===h.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:l_,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),c})(),Af=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zn.BQ,an.ez,Zn.BQ]}),c})();function Bx(c,p){if(1&c&&(l.TgZ(0,"mgl-control",3)(1,"mat-card",4)(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.qZA()()()),2&c){const r=l.oxw();l.xp6(3),l.hij("Longitude:\xa0",r.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",r.coordinates[1],"")}}const uv=function(){return[2]},c_=function(){return[0,0]};let hv=(()=>{class c{constructor(){this.color="#3887be"}onDragEnd(r){this.coordinates=r.getLngLat().toArray()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:10,consts:[[3,"zoom","center"],[3,"lngLat","draggable","markerDragEnd"],["position","bottom-left",4,"ngIf"],["position","bottom-left"],["appearance","outlined"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1),l.NdJ("markerDragEnd",function(z){return h.onDragEnd(z)}),l.qZA(),l.YNc(2,Bx,6,2,"mgl-control",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,uv))("center",l.DdM(8,c_)),l.xp6(1),l.Q6J("lngLat",l.DdM(9,c_))("draggable",!0),l.xp6(1),l.Q6J("ngIf",h.coordinates))},dependencies:[an.O5,gn,No,Tr,bl,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Vx=function(){return[13]},Ux=function(){return[11.255,43.77]};let d_=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:6,consts:[[3,"zoom","center"],["mglFullscreen",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Vx))("center",l.DdM(5,Ux)))},dependencies:[gn,Tr,me,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const kf=function(){return[15]},mv=function(c){return[c,37.830348]},pv=function(){return{}},fv=function(c){return[c,37.83381888486939]},gv=function(c){return[c,37.83317489144141]},_v=function(c){return[c,37.83270036637107]},yv=function(c){return[c,37.832056363179625]},vv=function(c){return[c,37.83114119107971]},bv=function(c){return[c,37.83049717427869]},xv=function(c){return[c,37.829920943955045]},jx=function(c){return[c,37.82954808664175]},Hx=function(c){return[c,37.82944639795659]},$x=function(c){return[c,37.82880236636284]},Gx=function(c){return[c,37.82931081282506]},Zx=function(c){return[c,37.83080223556934]},Wx=function(c){return[c,37.83168351665737]},qx=function(c){return[c,37.832158048267786]},Yx=function(c){return[c,37.83297152392784]},Kx=function(c){return[c,37.83263257682617]},Xx=function(c){return[c,37.832937629287755]},Jx=function(c){return[c,37.832429207817725]},Qx=function(c){return[c,37.832564787218985]},ew=function(c){return[c,37.83337825839438]},tw=function(c){return[c,37.83368330777276]},iw=function(c,p,r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri,Ki,ki,ji,Mn,Wn,rr,bo,Yr){return[c,p,r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri,Ki,ki,ji,Mn,Wn,rr,bo,Yr]},nw=function(c){return{type:"LineString",coordinates:c}},rw=function(c,p){return{type:"Feature",properties:c,geometry:p}},wv=function(c){return{type:"geojson",data:c}},Cv=function(){return{"line-join":"round","line-cap":"round"}},Ev=function(){return{"line-color":"#888","line-width":8}};let Mv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:84,consts:[[3,"zoom","center"],["id","route","type","line",3,"source","layout","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,kf))("center",l.VKq(8,mv,-122.486052)),l.xp6(1),l.Q6J("source",l.VKq(80,wv,l.WLB(77,rw,l.DdM(10,pv),l.VKq(75,nw,l.rFY(53,iw,[l.VKq(11,fv,-122.48369693756104),l.VKq(13,gv,-122.48348236083984),l.VKq(15,_v,-122.48339653015138),l.VKq(17,yv,-122.48356819152832),l.VKq(19,vv,-122.48404026031496),l.VKq(21,bv,-122.48404026031496),l.VKq(23,xv,-122.48348236083984),l.VKq(25,jx,-122.48356819152832),l.VKq(27,Hx,-122.48507022857666),l.VKq(29,$x,-122.48610019683838),l.VKq(31,Gx,-122.48695850372314),l.VKq(33,Zx,-122.48700141906738),l.VKq(35,Wx,-122.48751640319824),l.VKq(37,qx,-122.48803138732912),l.VKq(39,Yx,-122.48888969421387),l.VKq(41,Kx,-122.48987674713133),l.VKq(43,Xx,-122.49043464660643),l.VKq(45,Jx,-122.49125003814696),l.VKq(47,Qx,-122.49163627624512),l.VKq(49,ew,-122.49223709106445),l.VKq(51,tw,-122.49378204345702)])))))("layout",l.DdM(82,Cv))("paint",l.DdM(83,Ev)))},dependencies:[gn,eo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Dv(c,p){if(1&c&&l._UZ(0,"mgl-layer",5),2&c){const r=p.$implicit;l.Q6J("id",r.id)("type",r.type)("filter",r.filter)("paint",r.paint)}}const Sv=function(){return["!=","cluster",!0]},Tv=function(){return{"circle-color":"rgba(0,255,0,0.5)","circle-radius":20,"circle-blur":1}};function Iv(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2),l.YNc(2,Dv,1,4,"mgl-layer",3),l._UZ(3,"mgl-layer",4),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",15)("clusterRadius",20),l.xp6(1),l.Q6J("ngForOf",r.clusterLayers),l.xp6(1),l.Q6J("filter",l.DdM(7,Sv))("paint",l.DdM(8,Tv))}}const Av=function(){return[3]},u_=function(c){return[c,40.66995747013945]};let h_=(()=>{class c{ngOnInit(){var r=this;return kr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19));const h=[[0,"green"],[20,"orange"],[200,"red"]];r.clusterLayers=h.map((A,z)=>({type:"circle",id:`cluster-${z}`,paint:{"circle-color":A[1],"circle-radius":70,"circle-blur":1},filter:z===h.length-1?[">=","point_count",A[0]]:["all",[">=","point_count",A[0]],["<","point_count",h[z+1][0]]]}))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["source","earthquakes",3,"id","type","filter","paint",4,"ngFor","ngForOf"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"],["source","earthquakes",3,"id","type","filter","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Iv,4,9,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Av))("center",l.VKq(6,u_,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:[an.sg,an.O5,gn,eo,Yo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ru=function(){return[2]},ow=function(c){return[c,37.830348]},sw=function(){return{"fill-color":"#627BC1","fill-opacity":.5}},Sh=function(){return{"line-color":"#627BC1","line-width":2}},PC=function(){return{"fill-color":"#627BC1","fill-opacity":1}};let m_=(()=>{class c{constructor(){this.hoverFilter=["==","name",""]}activateHoverOn(r){this.hoverFilter=["==","name",r.features[0].properties.name]}disableHover(){this.hoverFilter=["==","name",""]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:14,consts:[[3,"zoom","center"],["id","states","data","https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson"],["id","state-fills","type","fill","source","states",3,"paint","layerMouseMove","layerMouseLeave"],["id","state-borders","type","line","source","states",3,"paint"],["id","state-fills-hover","type","fill","source","states",3,"paint","filter"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerMouseMove",function(z){return h.activateHoverOn(z)})("layerMouseLeave",function(){return h.disableHover()}),l.qZA(),l._UZ(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Ru))("center",l.VKq(9,ow,-100.486052)),l.xp6(2),l.Q6J("paint",l.DdM(11,sw)),l.xp6(1),l.Q6J("paint",l.DdM(12,Sh)),l.xp6(1),l.Q6J("paint",l.DdM(13,PC))("filter",h.hoverFilter))},dependencies:[gn,eo,Yo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const OC=function(){return[9]},kv=function(c){return[c,40]};let Pv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:8,consts:[[3,"zoom","center","interactive"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,OC))("center",l.VKq(6,kv,-74.5))("interactive",!1))},dependencies:[gn,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const RC=function(){return[2.9]},Th=function(){return[16.05,48]};let aw=(()=>{class c{changeLangTo(r){this.map&&(this.map.setLayoutProperty("country_1","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_2","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_3","text-field","{name:"+r+"}"))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:6,consts:[[3,"zoom","center","mapLoad"],["mat-raised-button","",1,"lang-button",3,"click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return h.map=z}),l.TgZ(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return h.changeLangTo("fr")}),l._uU(3," French "),l.qZA(),l.TgZ(4,"button",1),l.NdJ("click",function(){return h.changeLangTo("ru")}),l._uU(5," Russian "),l.qZA(),l.TgZ(6,"button",1),l.NdJ("click",function(){return h.changeLangTo("de")}),l._uU(7," German "),l.qZA(),l.TgZ(8,"button",1),l.NdJ("click",function(){return h.changeLangTo("es")}),l._uU(9," Spanish "),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,RC))("center",l.DdM(5,Th)))},dependencies:[gn,Tr,ld.lW,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function lw(c,p){if(1&c&&l._UZ(0,"mgl-geojson-source",3),2&c){const r=l.oxw();l.Q6J("data",r.data)}}const cw=function(){return{"line-color":"yellow","line-opacity":.75,"line-width":5}};function Ih(c,p){1&c&&l._UZ(0,"mgl-layer",4),2&c&&l.Q6J("paint",l.DdM(1,cw))}let dw=(()=>{class c{constructor(){this.zoom=[0]}ngOnInit(){var r=this;return kr(function*(){const h=yield H.e(330).then(H.t.bind(H,3330,19)),A=h.features[0].geometry.coordinates;h.features[0].geometry.coordinates=[A[0]],r.data=h,r.center=A[0],r.zoom=[14],r.pitch=30;let z=0;r.timer=window.setInterval(()=>{z<A.length?(r.center=A[z],h.features[0].geometry.coordinates.push(A[z]),r.data={...r.data},z++):window.clearInterval(r.timer)},10)})()}ngOnDestroy(){window.clearInterval(this.timer)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:8,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch"],["id","trace",3,"data",4,"ngIf"],["id","trace","type","line","source","trace",3,"paint",4,"ngIf"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,lw,1,1,"mgl-geojson-source",1),l.YNc(2,Ih,1,2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",h.zoom)("center",h.center)("centerWithPanTo",!0)("pitch",h.pitch),l.xp6(1),l.Q6J("ngIf",h.data),l.xp6(1),l.Q6J("ngIf",h.data))},dependencies:[an.O5,gn,eo,Yo,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var Pf=H(6321),Of=H(4825);const FC=function(){return[14]},Ov=function(){return{"raster-fade-duration":0}};let Rv=(()=>{class c{constructor(){this.size=.001,this.url="assets/red.png"}ngOnInit(){var r=this;return kr(function*(){const A=(yield H.e(330).then(H.t.bind(H,3330,19))).features[0].geometry.coordinates,z=A.map(_e=>r.makeRectangle(_e));r.center=A[0],r.coordinates=z[0];let re=0;r.sub=function il(c=0,p=Pf.z){return c<0&&(c=0),(0,Of.H)(c,c,p)}(250).subscribe(()=>{r.url=Math.random()<.5?"assets/red.png":"assets/blue.png",r.coordinates=z[re],re=(re+1)%z.length})})()}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}makeRectangle([r,h]){return[[r,h],[r+this.size,h],[r+this.size,h-this.size],[r,h-this.size]]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:9,consts:[["movingMethod","jumpTo",3,"center","zoom"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-image-source",1)(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",h.center)("zoom",l.DdM(7,FC)),l.xp6(1),l.Q6J("url",h.url)("coordinates",h.coordinates),l.xp6(1),l.Q6J("paint",l.DdM(8,Ov)))},dependencies:[gn,eo,da,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const uw=function(){return{enableHighAccuracy:!0}};let Fv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:5,consts:[["mglGeolocate","",3,"positionOptions","trackUserLocation"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("positionOptions",l.DdM(4,uw))("trackUserLocation",!0))},dependencies:[gn,Tr,Ue,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const p_=function(c){return[c]},Lv=function(){return[17]},Nv=function(){return[4.577979,51.038189]},hw=function(){return[4.577979,51.03816]};let mw=(()=>{class c{constructor(){this.pitch=50,this.bearing=-97}ngOnInit(){let r=0;setInterval(()=>{r+=.01,1===r&&(r=0),this.pitch=45+15*Math.cos(r),this.bearing=20*Math.sin(r)-103},20)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:15,consts:[["movingMethod","jumpTo",3,"interactive","pitch","bearing","zoom","center"],["rotationAlignment","map","pitchAlignment","map",3,"lngLat"],[1,"arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 434 437"],["points","37.5 437.18 218 350.75 217.49 -0.37 37.5 437.18",2,"fill","#579120"],["points","397.55 437.13 218 350.75 217.49 -0.37 397.55 437.13",2,"fill","#6fad2d"],["points","217.22 391.46 397.55 437.13 218 350.75 37.5 437.18 217.22 391.46",2,"fill","#315112"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"polygon",4)(5,"polygon",5)(6,"polygon",6),l.qZA()()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("interactive",!1)("pitch",l.VKq(8,p_,h.pitch))("bearing",l.VKq(10,p_,h.bearing))("zoom",l.DdM(12,Lv))("center",l.DdM(13,Nv)),l.xp6(1),l.Q6J("lngLat",l.DdM(14,hw)))},dependencies:[gn,No,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".arrow[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-97deg)}"]}),c})();const pw=function(){return[9]},Gm=function(c){return[c,40]};let fw=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:7,consts:[[3,"zoom","center"],["mglNavigation",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,pw))("center",l.VKq(5,Gm,-74.5)))},dependencies:[gn,Tr,it,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var zv=H(8525),f_=H(3651),Rf=H(8484);const Bv=["tooltip"],Uv=new l.OlP("mat-tooltip-scroll-strategy"),Wm={provide:Uv,deps:[f_.aV],useFactory:function Zm(c){return()=>c.scrollStrategies.reposition({scrollThrottle:20})}},yw=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function _w(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),g_="tooltip-panel",__=(0,Gl.i$)({passive:!0});let NC=(()=>{class c{get position(){return this._position}set position(r){r!==this._position&&(this._position=r,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(r){this._positionAtOrigin=(0,Cn.Ig)(r),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(r){this._showDelay=(0,Cn.su)(r)}get hideDelay(){return this._hideDelay}set hideDelay(r){this._hideDelay=(0,Cn.su)(r),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=r?String(r).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(r){this._tooltipClass=r,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri,Ki){this._overlay=r,this._elementRef=h,this._scrollDispatcher=A,this._viewContainerRef=z,this._ngZone=re,this._platform=_e,this._ariaDescriber=Ze,this._focusMonitor=ht,this._dir=Xt,this._defaultOptions=Ri,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new cr.x,this._scrollStrategy=Ht,this._document=Ki,Ri&&(this._showDelay=Ri.showDelay,this._hideDelay=Ri.hideDelay,Ri.position&&(this.position=Ri.position),Ri.positionAtOrigin&&(this.positionAtOrigin=Ri.positionAtOrigin),Ri.touchGestures&&(this.touchGestures=Ri.touchGestures)),Xt.change.pipe((0,Qr.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Qr.R)(this._destroyed)).subscribe(r=>{r?"keyboard"===r&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const r=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([h,A])=>{r.removeEventListener(h,A,__)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(r,this.message,"tooltip"),this._focusMonitor.stopMonitoring(r)}show(r=this.showDelay,h){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const A=this._createOverlay(h);this._detach(),this._portal=this._portal||new Rf.C5(this._tooltipComponent,this._viewContainerRef);const z=this._tooltipInstance=A.attach(this._portal).instance;z._triggerElement=this._elementRef.nativeElement,z._mouseLeaveHideDelay=this._hideDelay,z.afterHidden().pipe((0,Qr.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),z.show(r)}hide(r=this.hideDelay){const h=this._tooltipInstance;h&&(h.isVisible()?h.hide(r):(h._cancelPendingAnimations(),this._detach()))}toggle(r){this._isTooltipVisible()?this.hide():this.show(void 0,r)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(r){if(this._overlayRef){const z=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!r)&&z._origin instanceof l.SBq)return this._overlayRef;this._detach()}const h=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),A=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&r||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(h);return A.positionChanges.pipe((0,Qr.R)(this._destroyed)).subscribe(z=>{this._updateCurrentPositionClass(z.connectionPair),this._tooltipInstance&&z.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:A,panelClass:`${this._cssClassPrefix}-${g_}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Qr.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Qr.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Qr.R)(this._destroyed)).subscribe(z=>{this._isTooltipVisible()&&z.keyCode===cd.hY&&!(0,cd.Vb)(z)&&(z.preventDefault(),z.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(r){const h=r.getConfig().positionStrategy,A=this._getOrigin(),z=this._getOverlayPosition();h.withPositions([this._addOffset({...A.main,...z.main}),this._addOffset({...A.fallback,...z.fallback})])}_addOffset(r){return r}_getOrigin(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let A;"above"==h||"below"==h?A={originX:"center",originY:"above"==h?"top":"bottom"}:"before"==h||"left"==h&&r||"right"==h&&!r?A={originX:"start",originY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(A={originX:"end",originY:"center"});const{x:z,y:re}=this._invertPosition(A.originX,A.originY);return{main:A,fallback:{originX:z,originY:re}}}_getOverlayPosition(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let A;"above"==h?A={overlayX:"center",overlayY:"bottom"}:"below"==h?A={overlayX:"center",overlayY:"top"}:"before"==h||"left"==h&&r||"right"==h&&!r?A={overlayX:"end",overlayY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(A={overlayX:"start",overlayY:"center"});const{x:z,y:re}=this._invertPosition(A.overlayX,A.overlayY);return{main:A,fallback:{overlayX:z,overlayY:re}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,kl.q)(1),(0,Qr.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(r){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=r,this._tooltipInstance._markForCheck())}_invertPosition(r,h){return"above"===this.position||"below"===this.position?"top"===h?h="bottom":"bottom"===h&&(h="top"):"end"===r?r="start":"start"===r&&(r="end"),{x:r,y:h}}_updateCurrentPositionClass(r){const{overlayY:h,originX:A,originY:z}=r;let re;if(re="center"===h?this._dir&&"rtl"===this._dir.value?"end"===A?"left":"right":"start"===A?"left":"right":"bottom"===h&&"top"===z?"above":"below",re!==this._currentPosition){const _e=this._overlayRef;if(_e){const Ze=`${this._cssClassPrefix}-${g_}-`;_e.removePanelClass(Ze+this._currentPosition),_e.addPanelClass(Ze+re)}this._currentPosition=re}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",r=>{let h;this._setupPointerExitEventsIfNeeded(),void 0!==r.x&&void 0!==r.y&&(h=r),this.show(void 0,h)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",r=>{const h=r.targetTouches?.[0],A=h?{x:h.clientX,y:h.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,A),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const r=[];if(this._platformSupportsMouseEvents())r.push(["mouseleave",h=>{const A=h.relatedTarget;(!A||!this._overlayRef?.overlayElement.contains(A))&&this.hide()}],["wheel",h=>this._wheelListener(h)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const h=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};r.push(["touchend",h],["touchcancel",h])}this._addListeners(r),this._passiveListeners.push(...r)}_addListeners(r){r.forEach(([h,A])=>{this._elementRef.nativeElement.addEventListener(h,A,__)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(r){if(this._isTooltipVisible()){const h=this._document.elementFromPoint(r.clientX,r.clientY),A=this._elementRef.nativeElement;h!==A&&!A.contains(h)&&this.hide()}}_disableNativeGesturesIfNecessary(){const r=this.touchGestures;if("off"!==r){const h=this._elementRef.nativeElement,A=h.style;("on"===r||"INPUT"!==h.nodeName&&"TEXTAREA"!==h.nodeName)&&(A.userSelect=A.msUserSelect=A.webkitUserSelect=A.MozUserSelect="none"),("on"===r||!h.draggable)&&(A.webkitUserDrag="none"),A.touchAction="none",A.webkitTapHighlightColor="transparent"}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),c})(),zC=(()=>{class c extends NC{constructor(r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri,Ki){super(r,h,A,z,re,_e,Ze,ht,Ht,Xt,Ri,Ki),this._tooltipComponent=VC,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(r){const A=!this._dir||"ltr"==this._dir.value;return"top"===r.originY?r.offsetY=-8:"bottom"===r.originY?r.offsetY=8:"start"===r.originX?r.offsetX=A?-8:8:"end"===r.originX&&(r.offsetX=A?8:-8),r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(f_.aV),l.Y36(l.SBq),l.Y36(vl.mF),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(Gl.t4),l.Y36(fc.$s),l.Y36(fc.tE),l.Y36(Uv),l.Y36(Lg.Is,8),l.Y36(yw,8),l.Y36(an.K0))},c.\u0275dir=l.lG2({type:c,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-mdc-tooltip-disabled",h.disabled)},exportAs:["matTooltip"],features:[l.qOj]}),c})(),BC=(()=>{class c{constructor(r,h){this._changeDetectorRef=r,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new cr.x,this._animationsDisabled="NoopAnimations"===h}show(r){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},r)}hide(r){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},r)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:r}){(!r||!this._triggerElement.contains(r))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:r}){(r===this._showAnimation||r===this._hideAnimation)&&this._finalizeAnimation(r===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(r){r?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(r){const h=this._tooltip.nativeElement,A=this._showAnimation,z=this._hideAnimation;if(h.classList.remove(r?z:A),h.classList.add(r?A:z),this._isVisible=r,r&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const re=getComputedStyle(h);("0s"===re.getPropertyValue("animation-duration")||"none"===re.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}r&&this._onShow(),this._animationsDisabled&&(h.classList.add("_mat-animation-noopable"),this._finalizeAnimation(r))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c}),c})(),VC=(()=>{class c extends BC{constructor(r,h,A){super(r,A),this._elementRef=h,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const r=this._elementRef.nativeElement.getBoundingClientRect();return r.height>24&&r.width>=200}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-tooltip-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(Bv,7),2&r){let A;l.iGM(A=l.CRH())&&(h._tooltip=A.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,h){1&r&&l.NdJ("mouseleave",function(z){return h._handleMouseLeave(z)}),2&r&&l.Udp("zoom",h.isVisible()?1:null)},features:[l.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,h){1&r&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(z){return h._handleAnimationEnd(z)}),l.TgZ(2,"div",2),l._uU(3),l.qZA()()),2&r&&(l.ekj("mdc-tooltip--multiline",h._isMultiline),l.Q6J("ngClass",h.tooltipClass),l.xp6(3),l.Oqu(h.message))},dependencies:[an.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),c})(),Ff=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[Wm],imports:[fc.rt,an.ez,f_.U8,Zn.BQ,Zn.BQ,vl.ZD]}),c})();function Cw(c,p){if(1&c&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.Q6J("value",r),l.xp6(1),l.hij(" ",r," ")}}function Ew(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(A){l.CHM(r);const z=l.oxw(2);return l.KtG(z._changePageSize(A.value))}),l.YNc(2,Cw,2,2,"mat-option",18),l.qZA()()}if(2&c){const r=l.oxw(2);l.Q6J("appearance",r._formFieldAppearance)("color",r.color),l.xp6(1),l.Q6J("value",r.pageSize)("disabled",r.disabled)("aria-labelledby",r._pageSizeLabelId)("panelClass",r.selectConfig.panelClass||"")("disableOptionCentering",r.selectConfig.disableOptionCentering),l.xp6(1),l.Q6J("ngForOf",r._displayedPageSizeOptions)}}function $v(c,p){if(1&c&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&c){const r=l.oxw(2);l.xp6(1),l.Oqu(r.pageSize)}}function qm(c,p){if(1&c&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,Ew,3,8,"mat-form-field",14),l.YNc(4,$v,2,1,"div",15),l.qZA()),2&c){const r=l.oxw();l.xp6(1),l.s9C("id",r._pageSizeLabelId),l.xp6(1),l.hij(" ",r._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length<=1)}}function Mw(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),l.uIk("aria-label",r._intl.firstPageLabel)}}function Dw(c,p){if(1&c){const r=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),l.uIk("aria-label",r._intl.lastPageLabel)}}let Lf=(()=>{class c{constructor(){this.changes=new cr.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(r,h,A)=>{if(0==A||0==h)return`0 of ${A}`;const z=r*h;return`${z+1} \u2013 ${z<(A=Math.max(A,0))?Math.min(z+h,A):z+h} of ${A}`}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const UC={provide:Lf,deps:[[new l.FiY,new l.tp0,Lf]],useFactory:function Sw(c){return c||new Lf}},Aw=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),kw=(0,Zn.Id)((0,Zn.dB)(class{}));let Ym=(()=>{class c extends kw{get pageIndex(){return this._pageIndex}set pageIndex(r){this._pageIndex=Math.max((0,Cn.su)(r),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(r){this._length=(0,Cn.su)(r),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(r){this._pageSize=Math.max((0,Cn.su)(r),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(r){this._pageSizeOptions=(r||[]).map(h=>(0,Cn.su)(h)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(r){this._hidePageSize=(0,Cn.Ig)(r)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(r){this._showFirstLastButtons=(0,Cn.Ig)(r)}constructor(r,h,A){if(super(),this._intl=r,this._changeDetectorRef=h,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=r.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),A){const{pageSize:z,pageSizeOptions:re,hidePageSize:_e,showFirstLastButtons:Ze}=A;null!=z&&(this._pageSize=z),null!=re&&(this._pageSizeOptions=re),null!=_e&&(this._hidePageSize=_e),null!=Ze&&(this._showFirstLastButtons=Ze)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(r)}previousPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(r)}firstPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=0,this._emitPageEvent(r)}lastPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(r)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const r=this.getNumberOfPages()-1;return this.pageIndex<r&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(r){const A=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/r)||0,this.pageSize=r,this._emitPageEvent(A)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((r,h)=>r-h),this._changeDetectorRef.markForCheck())}_emitPageEvent(r){this.page.emit({previousPageIndex:r,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[l.qOj]}),c})(),Pw=0,y_=(()=>{class c extends Ym{constructor(r,h,A){super(r,h,A),this._pageSizeLabelId="mat-paginator-page-size-label-"+Pw++,this._formFieldAppearance=A?.formFieldAppearance||"outline"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Lf),l.Y36(l.sBO),l.Y36(Aw,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,h){1&r&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,qm,5,4,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,Mw,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return h.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return h.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,Dw,3,5,"button",11),l.qZA()()()),2&r&&(l.xp6(2),l.Q6J("ngIf",!h.hidePageSize),l.xp6(3),l.hij(" ",h._intl.getRangeLabel(h.pageIndex,h.pageSize,h.length)," "),l.xp6(1),l.Q6J("ngIf",h.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",h._intl.previousPageLabel)("matTooltipDisabled",h._previousButtonsDisabled())("matTooltipPosition","above")("disabled",h._previousButtonsDisabled()),l.uIk("aria-label",h._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",h._intl.nextPageLabel)("matTooltipDisabled",h._nextButtonsDisabled())("matTooltipPosition","above")("disabled",h._nextButtonsDisabled()),l.uIk("aria-label",h._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",h.showFirstLastButtons))},dependencies:[an.sg,an.O5,ld.RK,Tu.KE,zv.gD,Zn.ey,zC],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),c})(),Ow=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[UC],imports:[an.ez,ld.ot,zv.LD,Ff]}),c})();function Gv(c,p){if(1&c&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.Q6J("title",r.properties["Secondary ID"]),l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}function Rw(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",9),l.NdJ("click",function(A){const re=l.CHM(r).$implicit,_e=l.oxw(2);return l.KtG(_e.selectCluster(A,re))}),l._uU(1),l.qZA()}if(2&c){const r=p.$implicit;l.xp6(1),l.hij(" ",null==r.properties?null:r.properties.point_count," ")}}function Zv(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",10),l._UZ(1,"showcase-cluster-popup",11),l.qZA()),2&c){l.oxw();const r=l.MAs(2),h=l.oxw();l.Q6J("feature",h.selectedCluster),l.xp6(1),l.Q6J("clusterComponent",r)("selectedCluster",h.selectedCluster)}}function Fw(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2,3),l.TgZ(3,"mgl-markers-for-clusters",4),l.YNc(4,Gv,2,2,"ng-template",5),l.YNc(5,Rw,2,1,"ng-template",6),l.qZA(),l.YNc(6,Zv,2,3,"mgl-popup",7),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterRadius",50)("clusterMaxZoom",14),l.xp6(5),l.Q6J("ngIf",r.selectedCluster)}}const v_=function(){return[3]},Lw=function(c){return[c,40.66995747013945]};function Wv(c,p){if(1&c&&(l.TgZ(0,"mat-list-item"),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}let qv=(()=>{class c{ngOnInit(){var r=this;return kr(function*(){const h=yield H.e(45).then(H.t.bind(H,3045,19));setInterval(()=>{h.features.length&&h.features.pop(),r.earthquakes={...h}},500)})()}selectCluster(r,h){r.stopPropagation(),this.selectedCluster={geometry:h.geometry,properties:h.properties}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterRadius","clusterMaxZoom"],["clusterComponent",""],["source","earthquakes"],["mglPoint",""],["mglClusterPoint",""],[3,"feature",4,"ngIf"],[1,"marker",3,"title"],[1,"marker-cluster",3,"click"],[3,"feature"],[3,"clusterComponent","selectedCluster"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Fw,7,5,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,v_))("center",l.VKq(6,Lw,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:function(){return[an.O5,gn,Yo,Z,Ji,ha,zr,Hn,Nw,Nn]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker-cluster{width:30px;height:30px;border-radius:50%;background-color:#4f615a;display:flex;justify-content:center;align-items:center;color:#fff;border:2px solid #56c498;cursor:pointer}.marker[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#7d7d7d;display:flex;justify-content:center;align-items:center;border:2px solid #c9c9c9}"]}),c})(),Nw=(()=>{class c{ngOnChanges(r){this.changePage(),r.selectedCluster&&!r.selectedCluster.isFirstChange()&&this.paginator.firstPage()}changePage(r){var h=this;return kr(function*(){let A=0;r&&(A=5*r.pageIndex),h.leaves=yield h.clusterComponent.getClusterLeaves(h.selectedCluster.properties.cluster_id,5,A)})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-popup"]],viewQuery:function(r,h){if(1&r&&l.Gf(y_,7),2&r){let A;l.iGM(A=l.CRH())&&(h.paginator=A.first)}},inputs:{selectedCluster:"selectedCluster",clusterComponent:"clusterComponent"},features:[l.TTD],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"length","pageSize","page"]],template:function(r,h){1&r&&(l.TgZ(0,"mat-list"),l.YNc(1,Wv,2,1,"mat-list-item",0),l.qZA(),l.TgZ(2,"mat-paginator",1),l.NdJ("page",function(z){return h.changePage(z)}),l.qZA()),2&r&&(l.xp6(1),l.Q6J("ngForOf",h.leaves),l.xp6(1),l.Q6J("length",null==h.selectedCluster.properties?null:h.selectedCluster.properties.point_count)("pageSize",5))},dependencies:[an.sg,Bm,wy,y_],encapsulation:2}),c})();function zw(c,p){if(1&c){const r=l.EpF();l.ynx(0),l.TgZ(1,"mgl-control")(2,"button",3),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.alert("Hello"))}),l._uU(3," Hello "),l.qZA()(),l._UZ(4,"mgl-control",4)(5,"mgl-control",5),l.TgZ(6,"mgl-control",6),l.NdJ("geolocate",function(A){l.CHM(r);const z=l.oxw();return l.KtG(z.onGeolocate(A))}),l.qZA(),l._UZ(7,"mgl-control",7)(8,"mgl-control",8),l.BQk()}}let Bw=(()=>{class c{constructor(){this.visible=!0}alert(r){alert(r)}onGeolocate(r){console.log("geolocate",r)}toggleControls(){this.visible=!this.visible}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:4,consts:[[4,"ngIf"],["position","bottom-right"],["mat-flat-button","","color","accent",3,"click"],["mat-fab","","color","primary",1,"custom-control",3,"click"],["mglAttribution","","position","top-right"],["mglFullscreen","","position","top-right"],["mglGeolocate","","position","top-right",3,"geolocate"],["mglNavigation","","position","top-right"],["mglScale","","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l.YNc(1,zw,9,0,"ng-container",0),l.TgZ(2,"mgl-control",1)(3,"button",2),l.NdJ("click",function(){return h.toggleControls()}),l._uU(4),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngIf",h.visible),l.xp6(3),l.hij(" ",h.visible?"Hide Controls":"Show Controls"," "))},dependencies:[an.O5,gn,Tr,me,it,Ue,Wt,Vi,ld.lW,ld.cs,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const b_=function(){return[5]},Nf=function(c,p){return[c,p]};let Yv=(()=>{class c{alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:20,consts:[[3,"zoom","center"],[3,"lngLat"],[1,"marker",2,"background-image","url(https://placekitten.com/g/60/60/)","width","60px","height","60px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/50/50/)","width","50px","height","50px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/40/40/)","width","40px","height","40px",3,"click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.NdJ("click",function(){return h.alert("Foo")}),l.qZA()(),l.TgZ(3,"mgl-marker",1)(4,"div",3),l.NdJ("click",function(){return h.alert("Bar")}),l.qZA()(),l.TgZ(5,"mgl-marker",1)(6,"div",4),l.NdJ("click",function(){return h.alert("Baz")}),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,b_))("center",l.WLB(8,Nf,-65.017,-16.457)),l.xp6(1),l.Q6J("lngLat",l.WLB(11,Nf,-66.324462890625,-16.024695711685304)),l.xp6(2),l.Q6J("lngLat",l.WLB(14,Nf,-61.2158203125,-15.97189158092897)),l.xp6(2),l.Q6J("lngLat",l.WLB(17,Nf,-63.29223632812499,-18.28151823530889)))},dependencies:[gn,No,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const Vw=function(){return[2]},Kv=function(){return[0,0]},Uw=function(c){return{type:"Point",coordinates:c}};let jw=(()=>{class c{constructor(){this.layerPaint={"circle-radius":10,"circle-color":"#3887be"},this.coordinates=[0,0]}onDragStart(r){console.log("onDragStart",r)}onDragEnd(r){console.log("onDragEnd",r)}onDrag(r){console.log("onDrag",r),this.coordinates=r.lngLat.toArray()}changeColor(r){this.layerPaint={...this.layerPaint,"circle-color":r}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:11,vars:14,consts:[[3,"zoom","center"],["id","point"],[3,"properties","geometry","mglDraggable","featureDragStart","featureDragEnd","featureDrag"],["id","point","type","circle","source","point",3,"paint","layerMouseEnter","layerMouseLeave"],["targetLayer",""],["position","bottom-left"],["appearance","outlined"]],template:function(r,h){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1)(2,"mgl-feature",2),l.NdJ("featureDragStart",function(z){return h.onDragStart(z)})("featureDragEnd",function(z){return h.onDragEnd(z)})("featureDrag",function(z){return h.onDrag(z)}),l.qZA()(),l.TgZ(3,"mgl-layer",3,4),l.NdJ("layerMouseEnter",function(){return h.changeColor("#3bb2d0")})("layerMouseLeave",function(){return h.changeColor("#3887be")}),l.qZA(),l.TgZ(5,"mgl-control",5)(6,"mat-card",6)(7,"div"),l._uU(8),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.qZA()()()()),2&r){const A=l.MAs(4);l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(9,Vw))("center",l.DdM(10,Kv)),l.xp6(2),l.Q6J("geometry",l.VKq(12,Uw,l.DdM(11,Kv)))("mglDraggable",A),l.xp6(1),l.Q6J("paint",h.layerPaint),l.xp6(5),l.hij("Longitude:\xa0",h.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",h.coordinates[1],"")}},dependencies:[gn,eo,Ko,Yo,rs,Tr,bl,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Hw=function(){return[15]},$w=function(c){return[c,37.830348]},Gw=function(){return{"line-join":"round","line-cap":"round"}},Zw=function(){return{"line-color":"#888","line-width":8}};let Xv=(()=>{class c{constructor(){this.geometry={type:"LineString",coordinates:[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],["id","oneline"],[3,"geometry"],["id","route","type","line","source","oneline",3,"layout","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1),l._UZ(2,"mgl-feature",2),l.qZA(),l._UZ(3,"mgl-layer",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Hw))("center",l.VKq(8,$w,-122.486052)),l.xp6(2),l.Q6J("geometry",h.geometry),l.xp6(1),l.Q6J("layout",l.DdM(10,Gw))("paint",l.DdM(11,Zw)))},dependencies:[gn,eo,Yo,rs,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Jv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:2,consts:[["mglScale","","unit","imperial","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")},dependencies:[gn,Tr,Vi,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ww=function(){return[12]},qw=function(){return[11.39085,47.27574]};let Qv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:7,consts:[[3,"zoom","center","pitch"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"],["mglNavigation","","showCompass","true","showZoom","true","visualizePitch","true"],["mglTerrain","","source","terrainSource","exaggeration","5","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1)(2,"mgl-control",2)(3,"mgl-control",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Ww))("center",l.DdM(6,qw))("pitch",52))},dependencies:[gn,to,Tr,it,ma,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Yw(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",3),l._UZ(1,"span",4),l.qZA()),2&c){const r=l.oxw();l.Q6J("lngLat",r.selectedLngLat)("closeOnClick",!1),l.xp6(1),l.Q6J("innerHTML",null==r.selectedElement?null:r.selectedElement.name,l.oJD)}}const Kw=function(){return[3]},Xw=function(c){return[c,38.907]},w_=function(){return{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"}},eb=function(){return{"fill-color":"rgba(200, 100, 240, 0.4)","fill-outline-color":"rgba(200, 100, 240, 1)"}};let C_=(()=>{class c{onClick(r){this.selectedLngLat=r.lngLat,this.selectedElement=r.features[0].properties}onMapClick(){this.selectedElement=null}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:13,consts:[[3,"zoom","center","cursorStyle","mapClick"],["id","states-layer","type","fill",3,"source","paint","layerMouseEnter","layerMouseLeave","layerClick"],[3,"lngLat","closeOnClick",4,"ngIf"],[3,"lngLat","closeOnClick"],[3,"innerHTML"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapClick",function(){return h.onMapClick()}),l.TgZ(1,"mgl-layer",1),l.NdJ("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""})("layerClick",function(z){return h.onClick(z)}),l.qZA(),l.YNc(2,Yw,2,3,"mgl-popup",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Kw))("center",l.VKq(9,Xw,-100.04))("cursorStyle",h.cursorStyle),l.xp6(1),l.Q6J("source",l.DdM(11,w_))("paint",l.DdM(12,eb)),l.xp6(1),l.Q6J("ngIf",h.selectedElement&&h.selectedLngLat))},dependencies:[an.O5,gn,eo,Z,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Jw(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",4),l._UZ(1,"span",5),l.qZA()),2&c){const r=l.oxw();l.Q6J("feature",r.selectedPoint),l.xp6(1),l.Q6J("innerHTML",null==r.selectedPoint.properties?null:r.selectedPoint.properties.description,l.oJD)}}const Qw=function(){return[11.15]},E_=function(c){return[c,38.907]},e1=function(){return["get","icon"]},tb=function(c){return{"icon-image":c,"icon-allow-overlap":!0}};let Ah=(()=>{class c{constructor(){this.points={type:"FeatureCollection",features:[{type:"Feature",properties:{description:'<strong>Make it Mount Pleasant</strong><p><a href="http://www.mtpleasantdc.com/makeitmtpleasant" target="_blank" title="Opens in a new window">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.038659,38.931567]}},{type:"Feature",properties:{description:'<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a <a href="http://madmens5finale.eventbrite.com/" target="_blank" title="Opens in a new window">Mad Men Season Five Finale Watch Party</a>, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.003168,38.894651]}},{type:"Feature",properties:{description:'<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a <a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Opens in a new window">Big Backyard Beach Bash and Wine Fest</a> on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>',icon:"bar_15"},geometry:{type:"Point",coordinates:[-77.090372,38.881189]}},{type:"Feature",properties:{description:'<strong>Ballston Arts & Crafts Market</strong><p>The <a href="http://ballstonarts-craftsmarket.blogspot.com/" target="_blank" title="Opens in a new window">Ballston Arts & Crafts Market</a> sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>',icon:"art_gallery_15"},geometry:{type:"Point",coordinates:[-77.111561,38.882342]}},{type:"Feature",properties:{description:'<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year\'s <a href="http://dandiesandquaintrelles.com/2012/04/the-seersucker-social-is-set-for-june-9th-save-the-date-and-start-planning-your-look/" target="_blank" title="Opens in a new window">Seersucker Social</a> bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>',icon:"bicycle_15"},geometry:{type:"Point",coordinates:[-77.052477,38.943951]}},{type:"Feature",properties:{description:'<strong>Capital Pride Parade</strong><p>The annual <a href="http://www.capitalpride.org/parade" target="_blank" title="Opens in a new window">Capital Pride Parade</a> makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>',icon:"star_15"},geometry:{type:"Point",coordinates:[-77.043444,38.909664]}},{type:"Feature",properties:{description:'<strong>Muhsinah</strong><p>Jazz-influenced hip hop artist <a href="http://www.muhsinah.com" target="_blank" title="Opens in a new window">Muhsinah</a> plays the <a href="http://www.blackcatdc.com">Black Cat</a> (1811 14th Street NW) tonight with <a href="http://www.exitclov.com" target="_blank" title="Opens in a new window">Exit Clov</a> and <a href="http://godsilla.bandcamp.com" target="_blank" title="Opens in a new window">Gods\u2019illa</a>. 9:00 p.m. $12.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.031706,38.914581]}},{type:"Feature",properties:{description:'<strong>A Little Night Music</strong><p>The Arlington Players\' production of Stephen Sondheim\'s  <a href="http://www.thearlingtonplayers.org/drupal-6.20/node/4661/show" target="_blank" title="Opens in a new window"><em>A Little Night Music</em></a> comes to the Kogod Cradle at The Mead Center for American Theater (1101 6th Street SW) this weekend and next. 8:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.020945,38.878241]}},{type:"Feature",properties:{description:'<strong>Truckeroo</strong><p><a href="http://www.truckeroodc.com/www/" target="_blank">Truckeroo</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.007481,38.876516]}}]}}onClick(r){this.selectedPoint=r.features[0]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:14,consts:[[3,"zoom","center","cursorStyle"],["id","points",3,"data"],["id","points","source","points","type","symbol",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"feature",4,"ngIf"],[3,"feature"],[3,"innerHTML"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerClick",function(z){return h.onClick(z)})("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""}),l.qZA(),l.YNc(3,Jw,2,2,"mgl-popup",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Qw))("center",l.VKq(9,E_,-77.04))("cursorStyle",h.cursorStyle),l.xp6(1),l.Q6J("data",h.points),l.xp6(1),l.Q6J("layout",l.VKq(12,tb,l.DdM(11,e1))),l.xp6(1),l.Q6J("ngIf",h.selectedPoint))},dependencies:[an.O5,gn,eo,Yo,Z,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const ib=function(){return[3]},nb=function(c){return[c,37.8]};let jC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],[3,"lngLat","closeOnClick","className"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-popup",1)(2,"h1"),l._uU(3,"Hello world !"),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,ib))("center",l.VKq(8,nb,-96)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,nb,-96))("closeOnClick",!1)("className","custom-popup-class1 custom-popup-class2"))},dependencies:[gn,Z,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".custom-popup-class1{color:purple;text-align:center}  .custom-popup-class2{width:300px}"]}),c})();const D_=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},t1=function(c){return{satellite:c}},rb=function(){return{visibility:"visible"}},ob=function(){return{"raster-opacity":1}},n1=function(c,p){return{id:"satellite",layout:c,minzoom:0,paint:p,"raster-opacity":1,source:"satellite",type:"raster"}},sb=function(c){return[c]},S_=function(c,p){return{version:8,sources:c,layers:p}},ab=function(){return[9]},lb=function(){return[137.9150899566626,36.25956997955441]};let cb=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:19,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.WLB(14,S_,l.VKq(5,t1,l.DdM(4,D_)),l.VKq(12,sb,l.WLB(9,n1,l.DdM(7,rb),l.DdM(8,ob))))),l.Q6J("zoom",l.DdM(17,ab))("center",l.DdM(18,lb)))},dependencies:[gn,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const db=function(){return[15]},ub=function(c){return[c,38.8895]},o1=function(){return{"background-image":"url(https://maplibre.org/maplibre-gl-js/docs/assets/washington-monument.jpg)","background-size":"cover",width:"50px",height:"50px","border-radius":"50%",cursor:"pointer"}};let s1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:13,consts:[[3,"zoom","center"],[3,"lngLat"],["myMarker",""],[3,"ngStyle"],[3,"marker"]],template:function(r,h){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1,2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"mgl-popup",4),l._uU(5," Construction on the Washington Monument began in 1848. "),l.qZA()()),2&r){const A=l.MAs(2);l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,db))("center",l.VKq(8,ub,-77.0353)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,ub,-77.0353)),l.xp6(2),l.Q6J("ngStyle",l.DdM(12,o1)),l.xp6(1),l.Q6J("marker",A)}},dependencies:[an.PC,gn,No,Z,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const hb=["input"],HC=["*"];let T_=0;class mb{constructor(p,r){this.source=p,this.value=r}}const a1={provide:na.JU,useExisting:(0,l.Gpc)(()=>yb),multi:!0},l1=new l.OlP("MatRadioGroup"),c1=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function d1(){return{color:"accent"}}});let pb=(()=>{class c{get name(){return this._name}set name(r){this._name=r,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition="before"===r?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(r){this._selected=r,this.value=r?r.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r),this._markRadiosForCheck()}get required(){return this._required}set required(r){this._required=(0,Cn.Ig)(r),this._markRadiosForCheck()}constructor(r){this._changeDetector=r,this._value=null,this._name="mat-radio-group-"+T_++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(r=>r===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(r=>{r.name=this.name,r._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(h=>{h.checked=this.value===h.value,h.checked&&(this._selected=h)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new mb(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(r=>r._markForCheck())}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetector.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO))},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),c})();class fb{constructor(p){this._elementRef=p}}const gb=(0,Zn.Kr)((0,Zn.sb)(fb));let _b=(()=>{class c extends gb{get checked(){return this._checked}set checked(r){const h=(0,Cn.Ig)(r);this._checked!==h&&(this._checked=h,h&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!h&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),h&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===r),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(r){this._labelPosition=r}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(r){this._setDisabled((0,Cn.Ig)(r))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(r){this._required=(0,Cn.Ig)(r)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(r){this._color=r}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,A,z,re,_e,Ze,ht){super(h),this._changeDetector=A,this._focusMonitor=z,this._radioDispatcher=re,this._providerOverride=Ze,this._uniqueId="mat-radio-"+ ++T_,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=r,this._noopAnimations="NoopAnimations"===_e,ht&&(this.tabIndex=(0,Cn.su)(ht,0))}focus(r,h){h?this._focusMonitor.focusVia(this._inputElement,h,r):this._inputElement.nativeElement.focus(r)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((r,h)=>{r!==this.id&&h===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{!r&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new mb(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(r){r.stopPropagation()}_onInputInteraction(r){if(r.stopPropagation(),!this.checked&&!this.disabled){const h=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),h&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(r){this._onInputInteraction(r),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(r){this._disabled!==r&&(this._disabled=r,this._changeDetector.markForCheck())}_updateTabIndex(){const r=this.radioGroup;let h;if(h=r&&r.selected&&!this.disabled?r.selected===this?this.tabIndex:-1:this.tabIndex,h!==this._previousTabIndex){const A=this._inputElement?.nativeElement;A&&(A.setAttribute("tabindex",h+""),this._previousTabIndex=h)}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,viewQuery:function(r,h){if(1&r&&l.Gf(hb,5),2&r){let A;l.iGM(A=l.CRH())&&(h._inputElement=A.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),c})(),yb=(()=>{class c extends pb{}return c.\u0275fac=function(){let p;return function(h){return(p||(p=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["mat-radio-group"]],contentQueries:function(r,h,A){if(1&r&&l.Suo(A,vb,5),2&r){let z;l.iGM(z=l.CRH())&&(h._radios=z)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([a1,{provide:l1,useExisting:c}]),l.qOj]}),c})(),vb=(()=>{class c extends _b{constructor(r,h,A,z,re,_e,Ze,ht){super(r,h,A,z,re,_e,Ze,ht)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l1,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(fc.tE),l.Y36(df.A8),l.Y36(l.QbO,8),l.Y36(c1,8),l.$8M("tabindex"))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h._inputElement.nativeElement.focus()}),2&r&&(l.uIk("id",h.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-primary","primary"===h.color)("mat-accent","accent"===h.color)("mat-warn","warn"===h.color)("mat-mdc-radio-checked",h.checked)("_mat-animation-noopable",h._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:HC,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),l.NdJ("click",function(z){return h._onTouchTargetClick(z)}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("change",function(z){return h._onInputInteraction(z)}),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"div",7)(8,"div",8),l.qZA(),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA()(),l.TgZ(11,"label",11),l.Hsn(12),l.qZA()()),2&r){const A=l.MAs(1);l.ekj("mdc-form-field--align-end","before"==h.labelPosition),l.xp6(2),l.ekj("mdc-radio--disabled",h.disabled),l.xp6(2),l.Q6J("id",h.inputId)("checked",h.checked)("disabled",h.disabled)("required",h.required),l.uIk("name",h.name)("value",h.value)("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby)("aria-describedby",h.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h._isRippleDisabled())("matRippleCentered",!0),l.xp6(2),l.Q6J("for",h.inputId)}},dependencies:[Zn.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),c})(),u1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zn.BQ,an.ez,Zn.si,Zn.BQ]}),c})();const h1=function(){return[13]},m1=function(){return[4.899,52.372]};let bb=(()=>{class c{constructor(){this.layerId="streets"}ngOnInit(){this.changeStyle(this.layerId)}changeStyle(r){this.style="streets"===r?"https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL":{version:8,sources:{raster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],minzoom:0,maxzoom:15,scheme:"xyz",tileSize:256}},layers:[{id:"some-raster-layer-id",type:"raster",source:"raster",layout:{visibility:"visible"},paint:{"raster-opacity":1}}]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:7,consts:[[3,"zoom","center"],[1,"radio-group",3,"ngModel","ngModelChange"],["value","streets"],["value","code"]],template:function(r,h){1&r&&(l._UZ(0,"mgl-map",0),l.TgZ(1,"mat-radio-group",1),l.NdJ("ngModelChange",function(z){return h.changeStyle(z)}),l.TgZ(2,"mat-radio-button",2),l._uU(3,"streets"),l.qZA(),l.TgZ(4,"mat-radio-button",3),l._uU(5,"from code"),l.qZA()()),2&r&&(l.Akn(h.style),l.Q6J("zoom",l.DdM(5,h1))("center",l.DdM(6,m1)),l.xp6(1),l.Q6J("ngModel",h.layerId))},dependencies:[na.JJ,na.On,gn,yb,vb,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".radio-group[_ngcontent-%COMP%]{position:absolute;padding:8px;background:#fff}"]}),c})();const xb=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},Cb=function(){return{type:"raster-dem",url:"https://demotiles.maplibre.org/terrain-tiles/tiles.json",tileSize:256}},Eb=function(c,p){return{satelliteSource:c,terrainSource:p}},Mb=function(){return{id:"satellite",type:"raster",source:"satelliteSource"}},Db=function(c){return[c]},p1=function(){return{source:"terrainSource",exaggeration:1}},$C=function(c,p,r){return{version:8,sources:c,layers:p,terrain:r}},GC=function(){return[12]},Sb=function(){return[11.39085,47.27574]};let f1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:20,consts:[[3,"zoom","center","pitch"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.kEZ(14,$C,l.WLB(7,Eb,l.DdM(5,xb),l.DdM(6,Cb)),l.VKq(11,Db,l.DdM(10,Mb)),l.DdM(13,p1))),l.Q6J("zoom",l.DdM(18,GC))("center",l.DdM(19,Sb))("pitch",52))},dependencies:[gn,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const g1=function(){return[12]},_1=function(){return[11.39085,47.27574]};let y1=(()=>{class c{constructor(){this.mapLibreExampleSource="https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",this.terrainSpec={source:"terrainSource",exaggeration:1}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center","pitch","terrain"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1),l.qZA()),2&r&&(l.Akn(h.mapLibreExampleSource),l.Q6J("zoom",l.DdM(6,g1))("center",l.DdM(7,_1))("pitch",52)("terrain",h.terrainSpec))},dependencies:[gn,to,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Xm=["button"],v1=["*"],zf=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),yc=new l.OlP("MatButtonToggleGroup");let Jm=0;class kh{constructor(p,r){this.source=p,this.value=r}}const w1=(0,Zn.Kr)(class{});let Tb=(()=>{class c extends w1{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){const h=(0,Cn.Ig)(r);h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=(0,Cn.Ig)(r)}constructor(r,h,A,z,re,_e){super(),this._changeDetectorRef=h,this._elementRef=A,this._focusMonitor=z,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const Ze=Number(re);this.tabIndex=Ze||0===Ze?Ze:null,this.buttonToggleGroup=r,this.appearance=_e&&_e.appearance?_e.appearance:"standard"}ngOnInit(){const r=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Jm++,r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){const r=!!this._isSingleSelector()||!this._checked;r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new kh(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(yc,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(fc.tE),l.$8M("tabindex"),l.Y36(zf,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-button-toggle"]],viewQuery:function(r,h){if(1&r&&l.Gf(Xm,5),2&r){let A;l.iGM(A=l.CRH())&&(h._buttonElement=A.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h.focus()}),2&r&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",h.id)("name",null),l.ekj("mat-button-toggle-standalone",!h.buttonToggleGroup)("mat-button-toggle-checked",h.checked)("mat-button-toggle-disabled",h.disabled)("mat-button-toggle-appearance-standard","standard"===h.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:v1,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return h._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&r){const A=l.MAs(1);l.Q6J("id",h.buttonId)("disabled",h.disabled||null),l.uIk("tabindex",h.disabled?-1:h.tabIndex)("aria-pressed",h.checked)("name",h._getButtonName())("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h.disableRipple||h.disabled)}},dependencies:[Zn.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),c})(),Bf=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Zn.BQ,Zn.si,Zn.BQ]}),c})();const Ib=function(){return[3]},C1=function(c,p){return[c,p]},I_=function(){return["https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf"]},M1=function(){return{"line-color":"blue"}};let D1=(()=>{class c{constructor(){this.layouts={countries:{visibility:"none"},names:{visibility:"none","text-field":"{name:latin}","text-size":30}}}ngOnInit(){}toggleLayer(r){this.layouts[r.value]={...this.layouts[r.value],visibility:"visible"===this.layouts[r.value].visibility?"none":"visible"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:16,consts:[[3,"zoom","center"],["id","countries",3,"tiles"],["id","everything","url","https://api.maptiler.com/tiles/v3/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"],["id","countries-layer","type","line","source","countries","sourceLayer","countries",3,"layout","paint"],["id","names","type","symbol","source","everything","sourceLayer","place",3,"layout"],[1,"menu"],["value","names",3,"checked","change"],["value","countries",3,"checked","change"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-vector-source",1)(2,"mgl-vector-source",2)(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA(),l.TgZ(5,"div",5)(6,"mat-button-toggle",6),l.NdJ("change",function(z){return h.toggleLayer(z)}),l._uU(7,"countries names"),l.qZA(),l.TgZ(8,"mat-button-toggle",7),l.NdJ("change",function(z){return h.toggleLayer(z)}),l._uU(9,"countries border"),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(10,Ib))("center",l.WLB(11,C1,-71.97722138410576,-13.517379300798098)),l.xp6(1),l.Q6J("tiles",l.DdM(14,I_)),l.xp6(2),l.Q6J("layout",h.layouts.countries)("paint",l.DdM(15,M1)),l.xp6(1),l.Q6J("layout",h.layouts.names),l.xp6(2),l.Q6J("checked",!0),l.xp6(2),l.Q6J("checked",!0))},dependencies:[gn,eo,qa,Tb,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".menu[_ngcontent-%COMP%]{position:absolute;padding:8px}"]}),c})();const Ab=function(){return[12]},S1=function(c){return[c,38.897]},T1=function(){return{padding:20}},kb=function(){return{"line-color":"#BF93E4","line-width":5}},Vf=function(){return{"line-join":"round","line-cap":"round"}};let I1=(()=>{class c{constructor(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",properties:{},coordinates:[[-77.0366048812866,38.89873175227713],[-77.03364372253417,38.89876515143842],[-77.03364372253417,38.89549195896866],[-77.02982425689697,38.89549195896866],[-77.02400922775269,38.89387200688839],[-77.01519012451172,38.891416957534204],[-77.01521158218382,38.892068305429156],[-77.00813055038452,38.892051604275686],[-77.00832366943358,38.89143365883688],[-77.00818419456482,38.89082405874451],[-77.00815200805664,38.88989712255097]]}}]}}}zoomToBounds(){const r=this.source.data.features[0].geometry.coordinates;this.bounds=r.reduce((h,A)=>h.extend(A),new Rn.LngLatBounds(r[0],r[0]))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:15,consts:[[3,"zoom","center","fitBounds","fitBoundsOptions"],["mat-raised-button","",1,"zoom-button",3,"click"],["id","LineString","type","line",3,"source","paint","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return h.zoomToBounds()}),l._uU(3," Zoom to bounds "),l.qZA()(),l._UZ(4,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(9,Ab))("center",l.VKq(10,S1,-77.0214))("fitBounds",h.bounds)("fitBoundsOptions",l.DdM(12,T1)),l.xp6(4),l.Q6J("source",h.source)("paint",l.DdM(13,kb))("layout",l.DdM(14,Vf)))},dependencies:[gn,eo,Tr,ld.lW,Hn,Nn],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Pb=(()=>{class c{constructor(r){this.router=r}canActivate(r){return!!Wf[0].children.some(h=>h.path===r.params.demoUrl)||(this.router.navigate(["/demo"]),!1)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(le.F0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Fb="https://stackblitz.com",Lb=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],Nb=["project","search","ports","settings"],zb=["light","dark"],A1=["editor","preview"],Bb={clickToLoad:c=>Zd("ctl",c),devToolsHeight:c=>jf("devtoolsheight",c),forceEmbedLayout:c=>Zd("embed",c),hideDevTools:c=>Zd("hidedevtools",c),hideExplorer:c=>Zd("hideExplorer",c),hideNavigation:c=>Zd("hideNavigation",c),openFile:c=>Ub("file",c),showSidebar:c=>function Vb(c,p){return"boolean"==typeof p?`${c}=${p?"1":"0"}`:""}("showSidebar",c),sidebarView:c=>Qm("sidebarView",c,Nb),startScript:c=>Ub("startScript",c),terminalHeight:c=>jf("terminalHeight",c),theme:c=>Qm("theme",c,zb),view:c=>Qm("view",c,A1),zenMode:c=>Zd("zenMode",c)};function Uf(c={}){const p=Object.entries(c).map(([r,h])=>null!=h&&Bb.hasOwnProperty(r)?Bb[r](h):"").filter(Boolean);return p.length?`?${p.join("&")}`:""}function Zd(c,p){return!0===p?`${c}=1`:""}function jf(c,p){if("number"==typeof p&&!Number.isNaN(p)){const r=Math.min(100,Math.max(0,p));return`${c}=${encodeURIComponent(Math.round(r))}`}return""}function Qm(c,p="",r=[]){return r.includes(p)?`${c}=${encodeURIComponent(p)}`:""}function Ub(c,p){return(Array.isArray(p)?p:[p]).filter(h=>"string"==typeof h&&""!==h.trim()).map(h=>`${c}=${encodeURIComponent(h)}`).join("&")}function jb(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function P_(c,p){const r={forceEmbedLayout:!0};return p&&"object"==typeof p&&Object.assign(r,p),`${O_(r)}${c}${Uf(r)}`}function O_(c={}){return("string"==typeof c.origin?c.origin:Fb).replace(/\/$/,"")}function ep(c,p,r){if(!p||!c||!c.parentNode)throw new Error("Invalid Element");c.id&&(p.id=c.id),c.className&&(p.className=c.className),function Hb(c,p={}){const r=Object.hasOwnProperty.call(p,"height")?`${p.height}`:"300",h=Object.hasOwnProperty.call(p,"width")?`${p.width}`:void 0;c.setAttribute("height",r),h?c.setAttribute("width",h):c.setAttribute("style","width:100%;")}(p,r),c.replaceWith(p)}function Hf(c){if("string"==typeof c){const p=document.getElementById(c);if(!p)throw new Error(`Could not find element with id '${c}'`);return p}if(c instanceof HTMLElement)return c;throw new Error(`Invalid element: ${c}`)}class $b{constructor(p){this.pending={},this.port=p,this.port.onmessage=this.messageListener.bind(this)}request({type:p,payload:r}){return new Promise((h,A)=>{const z=jb();this.pending[z]={resolve:h,reject:A},this.port.postMessage({type:p,payload:{...r,__reqid:z}})})}messageListener(p){if("string"!=typeof p.data.payload?.__reqid)return;const{type:r,payload:h}=p.data,{__reqid:A,__success:z,__error:re}=h;this.pending[A]&&(z?this.pending[A].resolve(this.cleanResult(h)):this.pending[A].reject(re?`${r}: ${re}`:r),delete this.pending[A])}cleanResult(p){const r={...p};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class k1{constructor(p,r){this.editor={openFile:h=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:h}}),setCurrentFile:h=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:h}}),setTheme:h=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:h}}),setView:h=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:h}}),showSidebar:(h=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:h}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(h=>h?.url??null),setUrl:(h="/")=>{if("string"!=typeof h||!h.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${h}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:h}})}},this._rdc=new $b(p),Object.defineProperty(this.preview,"origin",{value:"string"==typeof r.previewOrigin?r.previewOrigin:null,writable:!1})}applyFsDiff(p){const r=h=>null!==h&&"object"==typeof h;if(!r(p)||!r(p.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(p.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:p})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const tp=[];class Gb{constructor(p){this.id=jb(),this.element=p,this.pending=new Promise((r,h)=>{const A=({data:ht,ports:Ht})=>{"SDK_INIT_SUCCESS"===ht?.action&&ht.id===this.id&&(this.vm=new k1(Ht[0],ht.payload),r(this.vm),re())},z=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function re(){window.clearInterval(Ze),window.removeEventListener("message",A)}window.addEventListener("message",A),z();let _e=0;const Ze=window.setInterval(()=>{if(!this.vm)return _e>=20?(re(),h("Timeout: Unable to establish a connection with the StackBlitz VM"),void tp.forEach((ht,Ht)=>{ht.id===this.id&&tp.splice(Ht,1)})):(_e++,void z());re()},500)}),tp.push(this)}}function Ta({template:c,title:p,description:r,dependencies:h,files:A,settings:z}){if(!Lb.includes(c)){const ht=Lb.map(Ht=>`'${Ht}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${ht}`)}const re=[],_e=(ht,Ht,Xt="")=>{re.push(function Zb(c,p){const r=document.createElement("input");return r.type="hidden",r.name=c,r.value=p,r}(ht,"string"==typeof Ht?Ht:Xt))};_e("project[title]",p),"string"==typeof r&&r.length>0&&_e("project[description]",r),_e("project[template]",c,"javascript"),h&&("node"===c?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):_e("project[dependencies]",JSON.stringify(h))),z&&_e("project[settings]",JSON.stringify(z)),Object.entries(A).forEach(([ht,Ht])=>{_e(`project[files][${function Wb(c){return c.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(ht)}]`,Ht)});const Ze=document.createElement("form");return Ze.method="POST",Ze.setAttribute("style","display:none!important;"),Ze.append(...re),Ze}function Gf(c){return c?.contentWindow?((c=>{const p=c instanceof Element?"element":"id";return tp.find(r=>r[p]===c)??null})(c)??new Gb(c)).pending:Promise.reject("Provided element is not an iframe.")}const F__embedProject=function R_(c,p,r){const h=Hf(c),A=function Ph(c,p){const r=Ta(c);return r.action=P_("/run",p),r.id="sb_run",`<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${r.outerHTML}\n  <script>document.getElementById('${r.id}').submit();<\/script>\n</body>\n</html>`}(p,r),z=document.createElement("iframe");return ep(h,z,r),z.contentDocument?.write(A),Gf(z)};var L_=H(9315),N_=H(2096),F1=H(7715),z_=H(940),L1=H(4716);function B_(c){return c.replace(/(^\w|-\w)/g,Yb)}function Yb(c){return c.replace(/-/,"").toUpperCase()}var Oh=H(9862);const Zf="app/demo/examples/";let qC=(()=>{class c{constructor(r){this.http=r,this.fileCache=new Map,this.loadFile("example.css")}getDemoFiles(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${Zf}${r}.component.ts`,{responseType:"text"}).pipe((0,fs.w)(A=>this.loadAdditionnalFilesIfNecessary(A)),(0,z_.d)(1)),this.fileCache.set(r,h),h)}loadAdditionnalFilesIfNecessary(r){const h=/'\.\/([\w-.]+\.\w+)'/g;let A;const z=[],re={"src/demo.ts":r};for(;A=h.exec(r);)z.push(this.loadFile(A[1]));return z.length?(0,L_.D)(z).pipe((0,Ts.U)(_e=>({...Object.assign({},..._e),...re}))):(0,N_.of)(re)}loadFile(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${Zf}${r}`,{responseType:"text"}).pipe((0,Ts.U)(A=>({[`src/${r}`]:A})),(0,z_.d)(1)),this.fileCache.set(r,h),h)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Oh.eN))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Kb=["determinateSpinner"];function z1(c,p){if(1&c&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&c){const r=l.oxw();l.uIk("viewBox",r._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),l.uIk("r",r._circleRadius())}}const Xb=(0,Zn.pj)(class{constructor(c){this._elementRef=c}},"primary"),Rh=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function B1(){return{diameter:V_}}}),V_=100;let YC=(()=>{class c extends Xb{constructor(r,h,A){super(r),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=V_,this._noopAnimations="NoopAnimations"===h&&!!A&&!A._forceAnimations,A&&(A.color&&(this.color=this.defaultColor=A.color),A.diameter&&(this.diameter=A.diameter),A.strokeWidth&&(this.strokeWidth=A.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,(0,Cn.su)(r)))}get diameter(){return this._diameter}set diameter(r){this._diameter=(0,Cn.su)(r)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(r){this._strokeWidth=(0,Cn.su)(r)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const r=2*this._circleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(Rh))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,h){if(1&r&&l.Gf(Kb,5),2&r){let A;l.iGM(A=l.CRH())&&(h._determinateCircle=A.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,h){2&r&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===h.mode?h.value:null)("mode",h.mode),l.Udp("width",h.diameter,"px")("height",h.diameter,"px")("--mdc-circular-progress-size",h.diameter+"px")("--mdc-circular-progress-active-indicator-width",h.diameter+"px"),l.ekj("_mat-animation-noopable",h._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===h.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,h){if(1&r&&(l.YNc(0,z1,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&r){const A=l.MAs(1);l.xp6(4),l.uIk("viewBox",h._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",h._strokeCircumference(),"px")("stroke-dashoffset",h._strokeDashOffset(),"px")("stroke-width",h._circleStrokeWidth(),"%"),l.uIk("r",h._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A)}},dependencies:[an.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),c})(),XC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[an.ez,Zn.BQ]}),c})();const V1=["container"];function U1(c,p){1&c&&(l.TgZ(0,"div",2),l._UZ(1,"mat-spinner")(2,"div"),l.qZA())}let j1=(()=>{class c{constructor(r,h,A,z,re){this.zone=r,this.activatedRoute=h,this.demoFileLoaderService=A,this.http=z,this.ChangeDetectorRef=re,this.loading=!0,this.projectbase$=(0,L_.D)([this.http.get("assets/stackblitz/main.notts",{responseType:"text"}),this.http.get("assets/stackblitz/angular.json",{responseType:"text"})]).pipe((0,z_.d)(1))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngAfterViewInit(){this.sub=this.activatedRoute.params.pipe((0,Al.b)(()=>{this.loading=!0,this.ChangeDetectorRef.markForCheck()}),(0,fs.w)(r=>(0,L_.D)([this.projectbase$,this.demoFileLoaderService.getDemoFiles(r.demoUrl),(0,N_.of)(r.demoUrl)])),(0,fs.w)(([r,h,A])=>(0,F1.D)(this.openExample(r,h,A)).pipe((0,L1.x)(()=>{this.loading=!1,this.ChangeDetectorRef.markForCheck()})))).subscribe()}openExample(r,h,A){var z=this;return kr(function*(){if(z.vm)return void(yield z.vm.applyFsDiff({create:h,destroy:[]}));const re=function N1(c,p,r){return{files:{"src/main.ts":c[0].replace(/###/g,B_(r)+"Component"),"angular.json":c[1],"src/index.html":"<showcase-demo></showcase-demo>","src/styles.css":"\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n","src/polyfills.ts":"\nimport 'zone.js';\n(window as any).global = window;\n",...p},title:"",description:"",template:"angular-cli",dependencies:{tslib:"*","maplibre-gl":"*","@maplibre/maplibre-gl-style-spec":"*","@maplibre/ngx-maplibre-gl":"*","@angular/cdk":"^16","@angular/material":"^16","@angular/animations":"^16","@angular/forms":"^16","@angular/common":"^16","@angular/compiler":"^16","@angular/core":"^16","@angular/platform-browser":"^16","@angular/platform-browser-dynamic":"^16","@angular/router":"^16",url:"*",querystring:"*",events:"*","@types/supercluster":"*","@types/geojson":"*"}}}(r,h,A);yield z.zone.runOutsideAngular(kr(function*(){z.vm=yield F__embedProject(z.stackblitzContainer.nativeElement,re,{hideExplorer:!0,hideNavigation:!0,forceEmbedLayout:!0,openFile:"src/demo.ts"})}))})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(le.gz),l.Y36(qC),l.Y36(Oh.eN),l.Y36(l.sBO))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(V1,5),2&r){let A;l.iGM(A=l.CRH())&&(h.stackblitzContainer=A.first)}},decls:3,vars:1,consts:[["container",""],["class","loader",4,"ngIf"],[1,"loader"]],template:function(r,h){1&r&&(l._UZ(0,"div",null,0),l.YNc(2,U1,3,0,"div",1)),2&r&&(l.xp6(2),l.Q6J("ngIf",h.loading))},dependencies:[an.O5,YC],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}[_nghost-%COMP%]     iframe{height:100%;width:100%;border:0}.loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),c})();var En=function(c){return c.STYLES="Styles",c.LAYERS="Layers",c.SOURCES="Sources",c.USER_INTERACTION="User interaction",c.CAMERA="Camera",c.CONTROLS_AND_OVERLAYS="Controls and overlays",c.TERRAIN="3D Terrain",c}(En||{});const Wf=[{path:"",component:jm,children:[{path:"edit/:demoUrl",component:j1,canActivate:[Pb]},{path:"display-map",component:a_,data:{label:"Display a map",cat:En.STYLES}},{path:"custom-style-id",component:Px,data:{label:"Display a map with a custom style",cat:En.STYLES}},{path:"set-style",component:bb,data:{label:"Change a map's style",cat:En.STYLES}},{path:"satellite-map",component:cb,data:{label:"Display a satellite map",cat:En.STYLES}},{path:"add-image-generated",component:Ny,data:{label:"Add a generated icon to the map",cat:En.LAYERS}},{path:"add-image",component:vx,data:{label:"Add an icon to the map",cat:En.LAYERS}},{path:"toggle-layers",component:D1,data:{label:"Show and hide layers",cat:En.LAYERS}},{path:"3d-buildings",component:ox,data:{label:"Display 3d buildings",cat:En.LAYERS}},{path:"cluster",component:Ex,data:{label:"Create and style clusters",cat:En.LAYERS}},{path:"heatmap",component:h_,data:{label:"Create a heatmap layer",cat:En.LAYERS}},{path:"geojson-line",component:Mv,data:{label:"Add a GeoJSON line",cat:En.LAYERS}},{path:"ngx-geojson-line",component:Xv,data:{label:"[NGX] Add a GeoJSON line",cat:En.LAYERS}},{path:"custom-marker-icons",component:Ax,data:{label:"Add custom icons with Markers",cat:En.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-marker-icons",component:Yv,data:{label:"[NGX] Add custom icons with Markers",cat:En.CONTROLS_AND_OVERLAYS}},{path:"live-update-feature",component:dw,data:{label:"Update a feature in realtime",cat:En.SOURCES}},{path:"live-update-image-source",component:Rv,data:{label:"Update an image source in realtime",cat:En.SOURCES}},{path:"popup",component:jC,data:{label:"Display a popup",cat:En.CONTROLS_AND_OVERLAYS}},{path:"set-popup",component:s1,data:{label:"Attach a popup to a marker instance",cat:En.CONTROLS_AND_OVERLAYS}},{path:"fullscreen",component:d_,data:{label:"View a fullscreen map",cat:En.CONTROLS_AND_OVERLAYS}},{path:"navigation",component:fw,data:{label:"Display map navigation controls",cat:En.CONTROLS_AND_OVERLAYS}},{path:"locate-user",component:Fv,data:{label:"Locate the user",cat:En.CONTROLS_AND_OVERLAYS}},{path:"attribution-position",component:Hy,data:{label:"Change the default position for attribution",cat:En.CONTROLS_AND_OVERLAYS}},{path:"ngx-scale-control",component:Jv,data:{label:"[NGX] Show scale information",cat:En.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-control",component:Bw,data:{label:"[NGX] Add a custom control",cat:En.CONTROLS_AND_OVERLAYS}},{path:"interactive-false",component:Pv,data:{label:"Display a non-interactive map",cat:En.USER_INTERACTION}},{path:"language-switch",component:aw,data:{label:"Change a map's language",cat:En.USER_INTERACTION}},{path:"center-on-symbol",component:$y,data:{label:"Center the map on a clicked symbol",cat:En.USER_INTERACTION}},{path:"ngx-drag-a-point",component:jw,data:{label:"[NGX] Create a draggable point",cat:En.USER_INTERACTION}},{path:"drag-a-marker",component:hv,data:{label:"Create a draggable marker",cat:En.USER_INTERACTION}},{path:"hover-styles",component:m_,data:{label:"Create a hover effect",cat:En.USER_INTERACTION}},{path:"popup-on-click",component:Ah,data:{label:"Display a popup on click",cat:En.CONTROLS_AND_OVERLAYS}},{path:"zoomto-linestring",component:I1,data:{label:"Fit to the bounds of a LineString",cat:En.USER_INTERACTION}},{path:"cluster-html",component:Xy,data:{label:"Display HTML clusters with custom properties",cat:En.LAYERS}},{path:"ngx-cluster-html",component:qv,data:{label:"[NGX] Display HTML clusters with custom properties",cat:En.LAYERS}},{path:"polygon-popup-on-click",component:C_,data:{label:"Show polygon information on click",cat:En.CONTROLS_AND_OVERLAYS}},{path:"add-image-missing-generated",component:Vy,data:{label:"Generate and add a missing icon to the map",cat:En.STYLES}},{path:"custom-attribution",component:nv,data:{label:"Add custom attributions",cat:En.CONTROLS_AND_OVERLAYS}},{path:"custom-locale",component:rv,data:{label:"Add custom localization for controls",cat:En.CONTROLS_AND_OVERLAYS}},{path:"marker-alignment",component:mw,data:{label:"Marker alignment options",cat:En.CAMERA}},{path:"terrain-style",component:f1,data:{label:"Initialize 3D Terrain using style",cat:En.TERRAIN}},{path:"terrain-control",component:Qv,data:{label:"Terrain Control",cat:En.TERRAIN}},{path:"terrain",component:y1,data:{label:"[NGX] Initialize 3D Terrain declaratively",cat:En.TERRAIN}},{path:"**",redirectTo:"display-map"}]}],H1=function(){return[2]},Jb=[{path:"",component:(()=>{class c{constructor(){this.center=[0,0],this.panToOptions={duration:1e4,easing:r=>r}}moveCenter(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const r=this.center[0];0===r?this.center=[90,0]:90===r?this.center=[180,0]:180===r?this.center=[-90,0]:-90===r&&(this.center=[0,0])}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],decls:5,vars:8,consts:[[3,"zoom","center","centerWithPanTo","panToOptions","interactive","mapLoad","moveEnd"],[1,"main"],["svgIcon","ngx-maplibre-gl-red",1,"logo"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(){return h.moveCenter()})("moveEnd",function(){return h.moveCenter()}),l.qZA(),l.TgZ(1,"div",1),l._UZ(2,"mat-icon",2),l.TgZ(3,"h1"),l._uU(4,"Angular binding of maplibre-gl-js"),l.qZA()()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,H1))("center",h.center)("centerWithPanTo",!0)("panToOptions",h.panToOptions)("interactive",!1))},dependencies:[gn,Ve.Hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:none}.logo[_ngcontent-%COMP%]{width:150px;height:150px}mgl-map[_ngcontent-%COMP%]{flex:1}"]}),c})(),pathMatch:"full"}],Z1=[{path:"",component:H(2627).$,children:[{path:"demo",children:Wf},...Jb,{path:"doc",loadChildren:()=>H.e(257).then(H.bind(H,3257)).then(c=>c.DocModule)}]},{path:"**",redirectTo:""}];let Qb=(()=>{class c{constructor(r,h){r.addSvgIcon("ngx-maplibre-gl",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl.svg")),r.addSvgIcon("ngx-maplibre-gl-red",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl-red.svg")),r.addSvgIcon("github",h.bypassSecurityTrustResourceUrl("assets/github.svg"))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Ve.jv),l.LFG(C.H7))},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[C.b2,Yl,Ve.Ps,le.Bz.forRoot(Z1,{}),Wa,go.x]}),c})(),W1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[Pb],imports:[le.Bz,Oh.JF,an.ez,na.u5,Wa,go.x,u1,Bf,ld.ot,Cy,Af,XC,_C,Ve.Ps,Sy,Ow,vC]}),c})(),e0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Wa,Ve.Ps]}),c})(),t0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c,bootstrap:[v]}),c.\u0275inj=l.cJS({imports:[le.Bz,Qb,e0,W1]}),c})();(0,l.G48)(),C.q6().bootstrapModule(t0).catch(c=>console.log(c))},5619:(yi,_t,H)=>{"use strict";H.d(_t,{X:()=>l});var C=H(8645);class l extends C.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const Ve=super._subscribe(v);return!Ve.closed&&v.next(this._value),Ve}getValue(){const{hasError:v,thrownError:Ve,_value:ne}=this;if(v)throw Ve;return this._throwIfClosed(),ne}next(v){super.next(this._value=v)}}},5592:(yi,_t,H)=>{"use strict";H.d(_t,{y:()=>Qe});var C=H(305),l=H(7394),le=H(4850),v=H(8407),Ve=H(2653),ne=H(4674),$e=H(1441);let Qe=(()=>{class Le{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const ut=new Le;return ut.source=this,ut.operator=Ke,ut}subscribe(Ke,ut,Mt){const Vt=function nt(Le){return Le&&Le instanceof C.Lv||function Be(Le){return Le&&(0,ne.m)(Le.next)&&(0,ne.m)(Le.error)&&(0,ne.m)(Le.complete)}(Le)&&(0,l.Nn)(Le)}(Ke)?Ke:new C.Hp(Ke,ut,Mt);return(0,$e.x)(()=>{const{operator:ei,source:Di}=this;Vt.add(ei?ei.call(Vt,Di):Di?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(ut){Ke.error(ut)}}forEach(Ke,ut){return new(ut=Se(ut))((Mt,Vt)=>{const ei=new C.Hp({next:Di=>{try{Ke(Di)}catch(ti){Vt(ti),ei.unsubscribe()}},error:Vt,complete:Mt});this.subscribe(ei)})}_subscribe(Ke){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Ke)}[le.L](){return this}pipe(...Ke){return(0,v.U)(Ke)(this)}toPromise(Ke){return new(Ke=Se(Ke))((ut,Mt)=>{let Vt;this.subscribe(ei=>Vt=ei,ei=>Mt(ei),()=>ut(Vt))})}}return Le.create=tt=>new Le(tt),Le})();function Se(Le){var tt;return null!==(tt=Le??Ve.config.Promise)&&void 0!==tt?tt:Promise}},8645:(yi,_t,H)=>{"use strict";H.d(_t,{x:()=>$e});var C=H(5592),l=H(7394);const v=(0,H(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=H(9039),ne=H(1441);let $e=(()=>{class Se extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(nt){const Le=new Qe(this,this);return Le.operator=nt,Le}_throwIfClosed(){if(this.closed)throw new v}next(nt){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Le of this.currentObservers)Le.next(nt)}})}error(nt){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=nt;const{observers:Le}=this;for(;Le.length;)Le.shift().error(nt)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:nt}=this;for(;nt.length;)nt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var nt;return(null===(nt=this.observers)||void 0===nt?void 0:nt.length)>0}_trySubscribe(nt){return this._throwIfClosed(),super._trySubscribe(nt)}_subscribe(nt){return this._throwIfClosed(),this._checkFinalizedStatuses(nt),this._innerSubscribe(nt)}_innerSubscribe(nt){const{hasError:Le,isStopped:tt,observers:Ke}=this;return Le||tt?l.Lc:(this.currentObservers=null,Ke.push(nt),new l.w0(()=>{this.currentObservers=null,(0,Ve.P)(Ke,nt)}))}_checkFinalizedStatuses(nt){const{hasError:Le,thrownError:tt,isStopped:Ke}=this;Le?nt.error(tt):Ke&&nt.complete()}asObservable(){const nt=new C.y;return nt.source=this,nt}}return Se.create=(Be,nt)=>new Qe(Be,nt),Se})();class Qe extends $e{constructor(Be,nt){super(),this.destination=Be,this.source=nt}next(Be){var nt,Le;null===(Le=null===(nt=this.destination)||void 0===nt?void 0:nt.next)||void 0===Le||Le.call(nt,Be)}error(Be){var nt,Le;null===(Le=null===(nt=this.destination)||void 0===nt?void 0:nt.error)||void 0===Le||Le.call(nt,Be)}complete(){var Be,nt;null===(nt=null===(Be=this.destination)||void 0===Be?void 0:Be.complete)||void 0===nt||nt.call(Be)}_subscribe(Be){var nt,Le;return null!==(Le=null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Be))&&void 0!==Le?Le:l.Lc}}},305:(yi,_t,H)=>{"use strict";H.d(_t,{Hp:()=>Mt,Lv:()=>Le});var C=H(4674),l=H(7394),le=H(2653),v=H(3894),Ve=H(2420);const ne=Se("C",void 0,void 0);function Se(Oe,We,Re){return{kind:Oe,value:We,error:Re}}var Be=H(7599),nt=H(1441);class Le extends l.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,l.Nn)(We)&&We.add(this)):this.destination=ti}static create(We,Re,Ft){return new Mt(We,Re,Ft)}next(We){this.isStopped?Di(function Qe(Oe){return Se("N",Oe,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Di(function $e(Oe){return Se("E",void 0,Oe)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Di(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ke(Oe,We){return tt.call(Oe,We)}class ut{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Re}=this;if(Re.next)try{Re.next(We)}catch(Ft){Vt(Ft)}}error(We){const{partialObserver:Re}=this;if(Re.error)try{Re.error(We)}catch(Ft){Vt(Ft)}else Vt(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Re){Vt(Re)}}}class Mt extends Le{constructor(We,Re,Ft){let Ot;if(super(),(0,C.m)(We)||!We)Ot={next:We??void 0,error:Re??void 0,complete:Ft??void 0};else{let Bt;this&&le.config.useDeprecatedNextContext?(Bt=Object.create(We),Bt.unsubscribe=()=>this.unsubscribe(),Ot={next:We.next&&Ke(We.next,Bt),error:We.error&&Ke(We.error,Bt),complete:We.complete&&Ke(We.complete,Bt)}):Ot=We}this.destination=new ut(Ot)}}function Vt(Oe){le.config.useDeprecatedSynchronousErrorHandling?(0,nt.O)(Oe):(0,v.h)(Oe)}function Di(Oe,We){const{onStoppedNotification:Re}=le.config;Re&&Be.z.setTimeout(()=>Re(Oe,We))}const ti={closed:!0,next:Ve.Z,error:function ei(Oe){throw Oe},complete:Ve.Z}},7394:(yi,_t,H)=>{"use strict";H.d(_t,{Lc:()=>ne,w0:()=>Ve,Nn:()=>$e});var C=H(4674);const le=(0,H(2306).d)(Se=>function(nt){Se(this),this.message=nt?`${nt.length} errors occurred during unsubscription:\n${nt.map((Le,tt)=>`${tt+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=nt});var v=H(9039);class Ve{constructor(Be){this.initialTeardown=Be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Be;if(!this.closed){this.closed=!0;const{_parentage:nt}=this;if(nt)if(this._parentage=null,Array.isArray(nt))for(const Ke of nt)Ke.remove(this);else nt.remove(this);const{initialTeardown:Le}=this;if((0,C.m)(Le))try{Le()}catch(Ke){Be=Ke instanceof le?Ke.errors:[Ke]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ke of tt)try{Qe(Ke)}catch(ut){Be=Be??[],ut instanceof le?Be=[...Be,...ut.errors]:Be.push(ut)}}if(Be)throw new le(Be)}}add(Be){var nt;if(Be&&Be!==this)if(this.closed)Qe(Be);else{if(Be instanceof Ve){if(Be.closed||Be._hasParent(this))return;Be._addParent(this)}(this._finalizers=null!==(nt=this._finalizers)&&void 0!==nt?nt:[]).push(Be)}}_hasParent(Be){const{_parentage:nt}=this;return nt===Be||Array.isArray(nt)&&nt.includes(Be)}_addParent(Be){const{_parentage:nt}=this;this._parentage=Array.isArray(nt)?(nt.push(Be),nt):nt?[nt,Be]:Be}_removeParent(Be){const{_parentage:nt}=this;nt===Be?this._parentage=null:Array.isArray(nt)&&(0,v.P)(nt,Be)}remove(Be){const{_finalizers:nt}=this;nt&&(0,v.P)(nt,Be),Be instanceof Ve&&Be._removeParent(this)}}Ve.EMPTY=(()=>{const Se=new Ve;return Se.closed=!0,Se})();const ne=Ve.EMPTY;function $e(Se){return Se instanceof Ve||Se&&"closed"in Se&&(0,C.m)(Se.remove)&&(0,C.m)(Se.add)&&(0,C.m)(Se.unsubscribe)}function Qe(Se){(0,C.m)(Se)?Se():Se.unsubscribe()}},2653:(yi,_t,H)=>{"use strict";H.d(_t,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(yi,_t,H)=>{"use strict";H.d(_t,{a:()=>Be});var C=H(5592),l=H(7453),le=H(7715),v=H(2737),Ve=H(7400),ne=H(9940),$e=H(2714),Qe=H(8251),Se=H(7103);function Be(...tt){const Ke=(0,ne.yG)(tt),ut=(0,ne.jO)(tt),{args:Mt,keys:Vt}=(0,l.D)(tt);if(0===Mt.length)return(0,le.D)([],Ke);const ei=new C.y(function nt(tt,Ke,ut=v.y){return Mt=>{Le(Ke,()=>{const{length:Vt}=tt,ei=new Array(Vt);let Di=Vt,ti=Vt;for(let Oe=0;Oe<Vt;Oe++)Le(Ke,()=>{const We=(0,le.D)(tt[Oe],Ke);let Re=!1;We.subscribe((0,Qe.x)(Mt,Ft=>{ei[Oe]=Ft,Re||(Re=!0,ti--),ti||Mt.next(ut(ei.slice()))},()=>{--Di||Mt.complete()}))},Mt)},Mt)}}(Mt,Ke,Vt?Di=>(0,$e.n)(Vt,Di):v.y));return ut?ei.pipe((0,Ve.Z)(ut)):ei}function Le(tt,Ke,ut){tt?(0,Se.f)(ut,tt,Ke):Ke()}},5211:(yi,_t,H)=>{"use strict";H.d(_t,{z:()=>Ve});var C=H(7537),le=H(9940),v=H(7715);function Ve(...ne){return function l(){return(0,C.J)(1)}()((0,v.D)(ne,(0,le.yG)(ne)))}},4911:(yi,_t,H)=>{"use strict";H.d(_t,{P:()=>le});var C=H(5592),l=H(4829);function le(v){return new C.y(Ve=>{(0,l.Xf)(v()).subscribe(Ve)})}},6232:(yi,_t,H)=>{"use strict";H.d(_t,{E:()=>l});const l=new(H(5592).y)(Ve=>Ve.complete())},9315:(yi,_t,H)=>{"use strict";H.d(_t,{D:()=>Qe});var C=H(5592),l=H(7453),le=H(4829),v=H(9940),Ve=H(8251),ne=H(7400),$e=H(2714);function Qe(...Se){const Be=(0,v.jO)(Se),{args:nt,keys:Le}=(0,l.D)(Se),tt=new C.y(Ke=>{const{length:ut}=nt;if(!ut)return void Ke.complete();const Mt=new Array(ut);let Vt=ut,ei=ut;for(let Di=0;Di<ut;Di++){let ti=!1;(0,le.Xf)(nt[Di]).subscribe((0,Ve.x)(Ke,Oe=>{ti||(ti=!0,ei--),Mt[Di]=Oe},()=>Vt--,void 0,()=>{(!Vt||!ti)&&(ei||Ke.next(Le?(0,$e.n)(Le,Mt):Mt),Ke.complete())}))}});return Be?tt.pipe((0,ne.Z)(Be)):tt}},7715:(yi,_t,H)=>{"use strict";H.d(_t,{D:()=>Ft});var C=H(4829),l=H(7103),le=H(9360),v=H(8251);function Ve(Ot,Bt=0){return(0,le.e)((ui,fi)=>{ui.subscribe((0,v.x)(fi,Fi=>(0,l.f)(fi,Ot,()=>fi.next(Fi),Bt),()=>(0,l.f)(fi,Ot,()=>fi.complete(),Bt),Fi=>(0,l.f)(fi,Ot,()=>fi.error(Fi),Bt)))})}function ne(Ot,Bt=0){return(0,le.e)((ui,fi)=>{fi.add(Ot.schedule(()=>ui.subscribe(fi),Bt))})}var Se=H(5592),nt=H(4971),Le=H(4674);function Ke(Ot,Bt){if(!Ot)throw new Error("Iterable cannot be null");return new Se.y(ui=>{(0,l.f)(ui,Bt,()=>{const fi=Ot[Symbol.asyncIterator]();(0,l.f)(ui,Bt,()=>{fi.next().then(Fi=>{Fi.done?ui.complete():ui.next(Fi.value)})},0,!0)})})}var ut=H(8382),Mt=H(4026),Vt=H(4266),ei=H(3664),Di=H(5726),ti=H(9853),Oe=H(541);function Ft(Ot,Bt){return Bt?function Re(Ot,Bt){if(null!=Ot){if((0,ut.c)(Ot))return function $e(Ot,Bt){return(0,C.Xf)(Ot).pipe(ne(Bt),Ve(Bt))}(Ot,Bt);if((0,Vt.z)(Ot))return function Be(Ot,Bt){return new Se.y(ui=>{let fi=0;return Bt.schedule(function(){fi===Ot.length?ui.complete():(ui.next(Ot[fi++]),ui.closed||this.schedule())})})}(Ot,Bt);if((0,Mt.t)(Ot))return function Qe(Ot,Bt){return(0,C.Xf)(Ot).pipe(ne(Bt),Ve(Bt))}(Ot,Bt);if((0,Di.D)(Ot))return Ke(Ot,Bt);if((0,ei.T)(Ot))return function tt(Ot,Bt){return new Se.y(ui=>{let fi;return(0,l.f)(ui,Bt,()=>{fi=Ot[nt.h](),(0,l.f)(ui,Bt,()=>{let Fi,Bi;try{({value:Fi,done:Bi}=fi.next())}catch(Tn){return void ui.error(Tn)}Bi?ui.complete():ui.next(Fi)},0,!0)}),()=>(0,Le.m)(fi?.return)&&fi.return()})}(Ot,Bt);if((0,Oe.L)(Ot))return function We(Ot,Bt){return Ke((0,Oe.Q)(Ot),Bt)}(Ot,Bt)}throw(0,ti.z)(Ot)}(Ot,Bt):(0,C.Xf)(Ot)}},2438:(yi,_t,H)=>{"use strict";H.d(_t,{R:()=>Be});var C=H(4829),l=H(5592),le=H(1631),v=H(4266),Ve=H(4674),ne=H(7400);const $e=["addListener","removeListener"],Qe=["addEventListener","removeEventListener"],Se=["on","off"];function Be(ut,Mt,Vt,ei){if((0,Ve.m)(Vt)&&(ei=Vt,Vt=void 0),ei)return Be(ut,Mt,Vt).pipe((0,ne.Z)(ei));const[Di,ti]=function Ke(ut){return(0,Ve.m)(ut.addEventListener)&&(0,Ve.m)(ut.removeEventListener)}(ut)?Qe.map(Oe=>We=>ut[Oe](Mt,We,Vt)):function Le(ut){return(0,Ve.m)(ut.addListener)&&(0,Ve.m)(ut.removeListener)}(ut)?$e.map(nt(ut,Mt)):function tt(ut){return(0,Ve.m)(ut.on)&&(0,Ve.m)(ut.off)}(ut)?Se.map(nt(ut,Mt)):[];if(!Di&&(0,v.z)(ut))return(0,le.z)(Oe=>Be(Oe,Mt,Vt))((0,C.Xf)(ut));if(!Di)throw new TypeError("Invalid event target");return new l.y(Oe=>{const We=(...Re)=>Oe.next(1<Re.length?Re:Re[0]);return Di(We),()=>ti(We)})}function nt(ut,Mt){return Vt=>ei=>ut[Vt](Mt,ei)}},4829:(yi,_t,H)=>{"use strict";H.d(_t,{Xf:()=>tt});var C=H(7582),l=H(4266),le=H(4026),v=H(5592),Ve=H(8382),ne=H(5726),$e=H(9853),Qe=H(3664),Se=H(541),Be=H(4674),nt=H(3894),Le=H(4850);function tt(Oe){if(Oe instanceof v.y)return Oe;if(null!=Oe){if((0,Ve.c)(Oe))return function Ke(Oe){return new v.y(We=>{const Re=Oe[Le.L]();if((0,Be.m)(Re.subscribe))return Re.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,l.z)(Oe))return function ut(Oe){return new v.y(We=>{for(let Re=0;Re<Oe.length&&!We.closed;Re++)We.next(Oe[Re]);We.complete()})}(Oe);if((0,le.t)(Oe))return function Mt(Oe){return new v.y(We=>{Oe.then(Re=>{We.closed||(We.next(Re),We.complete())},Re=>We.error(Re)).then(null,nt.h)})}(Oe);if((0,ne.D)(Oe))return ei(Oe);if((0,Qe.T)(Oe))return function Vt(Oe){return new v.y(We=>{for(const Re of Oe)if(We.next(Re),We.closed)return;We.complete()})}(Oe);if((0,Se.L)(Oe))return function Di(Oe){return ei((0,Se.Q)(Oe))}(Oe)}throw(0,$e.z)(Oe)}function ei(Oe){return new v.y(We=>{(function ti(Oe,We){var Re,Ft,Ot,Bt;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Re=(0,C.KL)(Oe);!(Ft=yield Re.next()).done;)if(We.next(Ft.value),We.closed)return}catch(ui){Ot={error:ui}}finally{try{Ft&&!Ft.done&&(Bt=Re.return)&&(yield Bt.call(Re))}finally{if(Ot)throw Ot.error}}We.complete()})})(Oe,We).catch(Re=>We.error(Re))})}},3019:(yi,_t,H)=>{"use strict";H.d(_t,{T:()=>ne});var C=H(7537),l=H(4829),le=H(6232),v=H(9940),Ve=H(7715);function ne(...$e){const Qe=(0,v.yG)($e),Se=(0,v._6)($e,1/0),Be=$e;return Be.length?1===Be.length?(0,l.Xf)(Be[0]):(0,C.J)(Se)((0,Ve.D)(Be,Qe)):le.E}},2096:(yi,_t,H)=>{"use strict";H.d(_t,{of:()=>le});var C=H(9940),l=H(7715);function le(...v){const Ve=(0,C.yG)(v);return(0,l.D)(v,Ve)}},8504:(yi,_t,H)=>{"use strict";H.d(_t,{_:()=>le});var C=H(5592),l=H(4674);function le(v,Ve){const ne=(0,l.m)(v)?v:()=>v,$e=Qe=>Qe.error(ne());return new C.y(Ve?Qe=>Ve.schedule($e,0,Qe):$e)}},4825:(yi,_t,H)=>{"use strict";H.d(_t,{H:()=>Ve});var C=H(5592),l=H(6321),le=H(671);function Ve(ne=0,$e,Qe=l.P){let Se=-1;return null!=$e&&((0,le.K)($e)?Qe=$e:Se=$e),new C.y(Be=>{let nt=function v(ne){return ne instanceof Date&&!isNaN(ne)}(ne)?+ne-Qe.now():ne;nt<0&&(nt=0);let Le=0;return Qe.schedule(function(){Be.closed||(Be.next(Le++),0<=Se?this.schedule(void 0,Se):Be.complete())},nt)})}},8251:(yi,_t,H)=>{"use strict";H.d(_t,{x:()=>l});var C=H(305);function l(v,Ve,ne,$e,Qe){return new le(v,Ve,ne,$e,Qe)}class le extends C.Lv{constructor(Ve,ne,$e,Qe,Se,Be){super(Ve),this.onFinalize=Se,this.shouldUnsubscribe=Be,this._next=ne?function(nt){try{ne(nt)}catch(Le){Ve.error(Le)}}:super._next,this._error=Qe?function(nt){try{Qe(nt)}catch(Le){Ve.error(Le)}finally{this.unsubscribe()}}:super._error,this._complete=$e?function(){try{$e()}catch(nt){Ve.error(nt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(Ve=this.onFinalize)||void 0===Ve||Ve.call(this))}}}},6306:(yi,_t,H)=>{"use strict";H.d(_t,{K:()=>v});var C=H(4829),l=H(8251),le=H(9360);function v(Ve){return(0,le.e)((ne,$e)=>{let Be,Qe=null,Se=!1;Qe=ne.subscribe((0,l.x)($e,void 0,void 0,nt=>{Be=(0,C.Xf)(Ve(nt,v(Ve)(ne))),Qe?(Qe.unsubscribe(),Qe=null,Be.subscribe($e)):Se=!0})),Se&&(Qe.unsubscribe(),Qe=null,Be.subscribe($e))})}},6328:(yi,_t,H)=>{"use strict";H.d(_t,{b:()=>le});var C=H(1631),l=H(4674);function le(v,Ve){return(0,l.m)(Ve)?(0,C.z)(v,Ve,1):(0,C.z)(v,1)}},3620:(yi,_t,H)=>{"use strict";H.d(_t,{b:()=>v});var C=H(6321),l=H(9360),le=H(8251);function v(Ve,ne=C.z){return(0,l.e)(($e,Qe)=>{let Se=null,Be=null,nt=null;const Le=()=>{if(Se){Se.unsubscribe(),Se=null;const Ke=Be;Be=null,Qe.next(Ke)}};function tt(){const Ke=nt+Ve,ut=ne.now();if(ut<Ke)return Se=this.schedule(void 0,Ke-ut),void Qe.add(Se);Le()}$e.subscribe((0,le.x)(Qe,Ke=>{Be=Ke,nt=ne.now(),Se||(Se=ne.schedule(tt,Ve),Qe.add(Se))},()=>{Le(),Qe.complete()},void 0,()=>{Be=Se=null}))})}},3572:(yi,_t,H)=>{"use strict";H.d(_t,{d:()=>le});var C=H(9360),l=H(8251);function le(v){return(0,C.e)((Ve,ne)=>{let $e=!1;Ve.subscribe((0,l.x)(ne,Qe=>{$e=!0,ne.next(Qe)},()=>{$e||ne.next(v),ne.complete()}))})}},3997:(yi,_t,H)=>{"use strict";H.d(_t,{x:()=>v});var C=H(2737),l=H(9360),le=H(8251);function v(ne,$e=C.y){return ne=ne??Ve,(0,l.e)((Qe,Se)=>{let Be,nt=!0;Qe.subscribe((0,le.x)(Se,Le=>{const tt=$e(Le);(nt||!ne(Be,tt))&&(nt=!1,Be=tt,Se.next(Le))}))})}function Ve(ne,$e){return ne===$e}},2181:(yi,_t,H)=>{"use strict";H.d(_t,{h:()=>le});var C=H(9360),l=H(8251);function le(v,Ve){return(0,C.e)((ne,$e)=>{let Qe=0;ne.subscribe((0,l.x)($e,Se=>v.call(Ve,Se,Qe++)&&$e.next(Se)))})}},4716:(yi,_t,H)=>{"use strict";H.d(_t,{x:()=>l});var C=H(9360);function l(le){return(0,C.e)((v,Ve)=>{try{v.subscribe(Ve)}finally{Ve.add(le)}})}},1374:(yi,_t,H)=>{"use strict";H.d(_t,{P:()=>$e});var C=H(6973),l=H(2181),le=H(8180),v=H(3572),Ve=H(3026),ne=H(2737);function $e(Qe,Se){const Be=arguments.length>=2;return nt=>nt.pipe(Qe?(0,l.h)((Le,tt)=>Qe(Le,tt,nt)):ne.y,(0,le.q)(1),Be?(0,v.d)(Se):(0,Ve.T)(()=>new C.K))}},7398:(yi,_t,H)=>{"use strict";H.d(_t,{U:()=>le});var C=H(9360),l=H(8251);function le(v,Ve){return(0,C.e)((ne,$e)=>{let Qe=0;ne.subscribe((0,l.x)($e,Se=>{$e.next(v.call(Ve,Se,Qe++))}))})}},975:(yi,_t,H)=>{"use strict";H.d(_t,{h:()=>l});var C=H(7398);function l(le){return(0,C.U)(()=>le)}},7537:(yi,_t,H)=>{"use strict";H.d(_t,{J:()=>le});var C=H(1631),l=H(2737);function le(v=1/0){return(0,C.z)(l.y,v)}},1631:(yi,_t,H)=>{"use strict";H.d(_t,{z:()=>Qe});var C=H(7398),l=H(4829),le=H(9360),v=H(7103),Ve=H(8251),$e=H(4674);function Qe(Se,Be,nt=1/0){return(0,$e.m)(Be)?Qe((Le,tt)=>(0,C.U)((Ke,ut)=>Be(Le,Ke,tt,ut))((0,l.Xf)(Se(Le,tt))),nt):("number"==typeof Be&&(nt=Be),(0,le.e)((Le,tt)=>function ne(Se,Be,nt,Le,tt,Ke,ut,Mt){const Vt=[];let ei=0,Di=0,ti=!1;const Oe=()=>{ti&&!Vt.length&&!ei&&Be.complete()},We=Ft=>ei<Le?Re(Ft):Vt.push(Ft),Re=Ft=>{Ke&&Be.next(Ft),ei++;let Ot=!1;(0,l.Xf)(nt(Ft,Di++)).subscribe((0,Ve.x)(Be,Bt=>{tt?.(Bt),Ke?We(Bt):Be.next(Bt)},()=>{Ot=!0},void 0,()=>{if(Ot)try{for(ei--;Vt.length&&ei<Le;){const Bt=Vt.shift();ut?(0,v.f)(Be,ut,()=>Re(Bt)):Re(Bt)}Oe()}catch(Bt){Be.error(Bt)}}))};return Se.subscribe((0,Ve.x)(Be,We,()=>{ti=!0,Oe()})),()=>{Mt?.()}}(Le,tt,Se,nt)))}},3020:(yi,_t,H)=>{"use strict";H.d(_t,{B:()=>Ve});var C=H(4829),l=H(8645),le=H(305),v=H(9360);function Ve($e={}){const{connector:Qe=(()=>new l.x),resetOnError:Se=!0,resetOnComplete:Be=!0,resetOnRefCountZero:nt=!0}=$e;return Le=>{let tt,Ke,ut,Mt=0,Vt=!1,ei=!1;const Di=()=>{Ke?.unsubscribe(),Ke=void 0},ti=()=>{Di(),tt=ut=void 0,Vt=ei=!1},Oe=()=>{const We=tt;ti(),We?.unsubscribe()};return(0,v.e)((We,Re)=>{Mt++,!ei&&!Vt&&Di();const Ft=ut=ut??Qe();Re.add(()=>{Mt--,0===Mt&&!ei&&!Vt&&(Ke=ne(Oe,nt))}),Ft.subscribe(Re),!tt&&Mt>0&&(tt=new le.Hp({next:Ot=>Ft.next(Ot),error:Ot=>{ei=!0,Di(),Ke=ne(ti,Se,Ot),Ft.error(Ot)},complete:()=>{Vt=!0,Di(),Ke=ne(ti,Be),Ft.complete()}}),(0,C.Xf)(We).subscribe(tt))})(Le)}}function ne($e,Qe,...Se){if(!0===Qe)return void $e();if(!1===Qe)return;const Be=new le.Hp({next:()=>{Be.unsubscribe(),$e()}});return(0,C.Xf)(Qe(...Se)).subscribe(Be)}},940:(yi,_t,H)=>{"use strict";H.d(_t,{d:()=>Ve});var C=H(8645),l=H(4552);class le extends C.x{constructor($e=1/0,Qe=1/0,Se=l.l){super(),this._bufferSize=$e,this._windowTime=Qe,this._timestampProvider=Se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Qe===1/0,this._bufferSize=Math.max(1,$e),this._windowTime=Math.max(1,Qe)}next($e){const{isStopped:Qe,_buffer:Se,_infiniteTimeWindow:Be,_timestampProvider:nt,_windowTime:Le}=this;Qe||(Se.push($e),!Be&&Se.push(nt.now()+Le)),this._trimBuffer(),super.next($e)}_subscribe($e){this._throwIfClosed(),this._trimBuffer();const Qe=this._innerSubscribe($e),{_infiniteTimeWindow:Se,_buffer:Be}=this,nt=Be.slice();for(let Le=0;Le<nt.length&&!$e.closed;Le+=Se?1:2)$e.next(nt[Le]);return this._checkFinalizedStatuses($e),Qe}_trimBuffer(){const{_bufferSize:$e,_timestampProvider:Qe,_buffer:Se,_infiniteTimeWindow:Be}=this,nt=(Be?1:2)*$e;if($e<1/0&&nt<Se.length&&Se.splice(0,Se.length-nt),!Be){const Le=Qe.now();let tt=0;for(let Ke=1;Ke<Se.length&&Se[Ke]<=Le;Ke+=2)tt=Ke;tt&&Se.splice(0,tt+1)}}}var v=H(3020);function Ve(ne,$e,Qe){let Se,Be=!1;return ne&&"object"==typeof ne?({bufferSize:Se=1/0,windowTime:$e=1/0,refCount:Be=!1,scheduler:Qe}=ne):Se=ne??1/0,(0,v.B)({connector:()=>new le(Se,$e,Qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}},7921:(yi,_t,H)=>{"use strict";H.d(_t,{O:()=>v});var C=H(5211),l=H(9940),le=H(9360);function v(...Ve){const ne=(0,l.yG)(Ve);return(0,le.e)(($e,Qe)=>{(ne?(0,C.z)(Ve,$e,ne):(0,C.z)(Ve,$e)).subscribe(Qe)})}},4664:(yi,_t,H)=>{"use strict";H.d(_t,{w:()=>v});var C=H(4829),l=H(9360),le=H(8251);function v(Ve,ne){return(0,l.e)(($e,Qe)=>{let Se=null,Be=0,nt=!1;const Le=()=>nt&&!Se&&Qe.complete();$e.subscribe((0,le.x)(Qe,tt=>{Se?.unsubscribe();let Ke=0;const ut=Be++;(0,C.Xf)(Ve(tt,ut)).subscribe(Se=(0,le.x)(Qe,Mt=>Qe.next(ne?ne(tt,Mt,ut,Ke++):Mt),()=>{Se=null,Le()}))},()=>{nt=!0,Le()}))})}},8180:(yi,_t,H)=>{"use strict";H.d(_t,{q:()=>v});var C=H(6232),l=H(9360),le=H(8251);function v(Ve){return Ve<=0?()=>C.E:(0,l.e)((ne,$e)=>{let Qe=0;ne.subscribe((0,le.x)($e,Se=>{++Qe<=Ve&&($e.next(Se),Ve<=Qe&&$e.complete())}))})}},9773:(yi,_t,H)=>{"use strict";H.d(_t,{R:()=>Ve});var C=H(9360),l=H(8251),le=H(4829),v=H(2420);function Ve(ne){return(0,C.e)(($e,Qe)=>{(0,le.Xf)(ne).subscribe((0,l.x)(Qe,()=>Qe.complete(),v.Z)),!Qe.closed&&$e.subscribe(Qe)})}},9397:(yi,_t,H)=>{"use strict";H.d(_t,{b:()=>Ve});var C=H(4674),l=H(9360),le=H(8251),v=H(2737);function Ve(ne,$e,Qe){const Se=(0,C.m)(ne)||$e||Qe?{next:ne,error:$e,complete:Qe}:ne;return Se?(0,l.e)((Be,nt)=>{var Le;null===(Le=Se.subscribe)||void 0===Le||Le.call(Se);let tt=!0;Be.subscribe((0,le.x)(nt,Ke=>{var ut;null===(ut=Se.next)||void 0===ut||ut.call(Se,Ke),nt.next(Ke)},()=>{var Ke;tt=!1,null===(Ke=Se.complete)||void 0===Ke||Ke.call(Se),nt.complete()},Ke=>{var ut;tt=!1,null===(ut=Se.error)||void 0===ut||ut.call(Se,Ke),nt.error(Ke)},()=>{var Ke,ut;tt&&(null===(Ke=Se.unsubscribe)||void 0===Ke||Ke.call(Se)),null===(ut=Se.finalize)||void 0===ut||ut.call(Se)}))}):v.y}},3026:(yi,_t,H)=>{"use strict";H.d(_t,{T:()=>v});var C=H(6973),l=H(9360),le=H(8251);function v(ne=Ve){return(0,l.e)(($e,Qe)=>{let Se=!1;$e.subscribe((0,le.x)(Qe,Be=>{Se=!0,Qe.next(Be)},()=>Se?Qe.complete():Qe.error(ne())))})}function Ve(){return new C.K}},1954:(yi,_t,H)=>{"use strict";H.d(_t,{o:()=>Ve});var C=H(7394);class l extends C.w0{constructor($e,Qe){super()}schedule($e,Qe=0){return this}}const le={setInterval(ne,$e,...Qe){const{delegate:Se}=le;return Se?.setInterval?Se.setInterval(ne,$e,...Qe):setInterval(ne,$e,...Qe)},clearInterval(ne){const{delegate:$e}=le;return($e?.clearInterval||clearInterval)(ne)},delegate:void 0};var v=H(9039);class Ve extends l{constructor($e,Qe){super($e,Qe),this.scheduler=$e,this.work=Qe,this.pending=!1}schedule($e,Qe=0){var Se;if(this.closed)return this;this.state=$e;const Be=this.id,nt=this.scheduler;return null!=Be&&(this.id=this.recycleAsyncId(nt,Be,Qe)),this.pending=!0,this.delay=Qe,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(nt,this.id,Qe),this}requestAsyncId($e,Qe,Se=0){return le.setInterval($e.flush.bind($e,this),Se)}recycleAsyncId($e,Qe,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return Qe;null!=Qe&&le.clearInterval(Qe)}execute($e,Qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute($e,Qe);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($e,Qe){let Be,Se=!1;try{this.work($e)}catch(nt){Se=!0,Be=nt||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),Be}unsubscribe(){if(!this.closed){const{id:$e,scheduler:Qe}=this,{actions:Se}=Qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(Se,this),null!=$e&&(this.id=this.recycleAsyncId(Qe,$e,null)),this.delay=null,super.unsubscribe()}}}},2631:(yi,_t,H)=>{"use strict";H.d(_t,{v:()=>le});var C=H(4552);class l{constructor(Ve,ne=l.now){this.schedulerActionCtor=Ve,this.now=ne}schedule(Ve,ne=0,$e){return new this.schedulerActionCtor(this,Ve).schedule($e,ne)}}l.now=C.l.now;class le extends l{constructor(Ve,ne=l.now){super(Ve,ne),this.actions=[],this._active=!1}flush(Ve){const{actions:ne}=this;if(this._active)return void ne.push(Ve);let $e;this._active=!0;do{if($e=Ve.execute(Ve.state,Ve.delay))break}while(Ve=ne.shift());if(this._active=!1,$e){for(;Ve=ne.shift();)Ve.unsubscribe();throw $e}}}},6321:(yi,_t,H)=>{"use strict";H.d(_t,{P:()=>v,z:()=>le});var C=H(1954);const le=new(H(2631).v)(C.o),v=le},4552:(yi,_t,H)=>{"use strict";H.d(_t,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},7599:(yi,_t,H)=>{"use strict";H.d(_t,{z:()=>C});const C={setTimeout(l,le,...v){const{delegate:Ve}=C;return Ve?.setTimeout?Ve.setTimeout(l,le,...v):setTimeout(l,le,...v)},clearTimeout(l){const{delegate:le}=C;return(le?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(yi,_t,H)=>{"use strict";H.d(_t,{h:()=>l});const l=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(yi,_t,H)=>{"use strict";H.d(_t,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(yi,_t,H)=>{"use strict";H.d(_t,{K:()=>l});const l=(0,H(2306).d)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(yi,_t,H)=>{"use strict";H.d(_t,{_6:()=>ne,jO:()=>v,yG:()=>Ve});var C=H(4674),l=H(671);function le($e){return $e[$e.length-1]}function v($e){return(0,C.m)(le($e))?$e.pop():void 0}function Ve($e){return(0,l.K)(le($e))?$e.pop():void 0}function ne($e,Qe){return"number"==typeof le($e)?$e.pop():Qe}},7453:(yi,_t,H)=>{"use strict";H.d(_t,{D:()=>Ve});const{isArray:C}=Array,{getPrototypeOf:l,prototype:le,keys:v}=Object;function Ve($e){if(1===$e.length){const Qe=$e[0];if(C(Qe))return{args:Qe,keys:null};if(function ne($e){return $e&&"object"==typeof $e&&l($e)===le}(Qe)){const Se=v(Qe);return{args:Se.map(Be=>Qe[Be]),keys:Se}}}return{args:$e,keys:null}}},9039:(yi,_t,H)=>{"use strict";function C(l,le){if(l){const v=l.indexOf(le);0<=v&&l.splice(v,1)}}H.d(_t,{P:()=>C})},2306:(yi,_t,H)=>{"use strict";function C(l){const v=l(Ve=>{Error.call(Ve),Ve.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}H.d(_t,{d:()=>C})},2714:(yi,_t,H)=>{"use strict";function C(l,le){return l.reduce((v,Ve,ne)=>(v[Ve]=le[ne],v),{})}H.d(_t,{n:()=>C})},1441:(yi,_t,H)=>{"use strict";H.d(_t,{O:()=>v,x:()=>le});var C=H(2653);let l=null;function le(Ve){if(C.config.useDeprecatedSynchronousErrorHandling){const ne=!l;if(ne&&(l={errorThrown:!1,error:null}),Ve(),ne){const{errorThrown:$e,error:Qe}=l;if(l=null,$e)throw Qe}}else Ve()}function v(Ve){C.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=Ve)}},7103:(yi,_t,H)=>{"use strict";function C(l,le,v,Ve=0,ne=!1){const $e=le.schedule(function(){v(),ne?l.add(this.schedule(null,Ve)):this.unsubscribe()},Ve);if(l.add($e),!ne)return $e}H.d(_t,{f:()=>C})},2737:(yi,_t,H)=>{"use strict";function C(l){return l}H.d(_t,{y:()=>C})},4266:(yi,_t,H)=>{"use strict";H.d(_t,{z:()=>C});const C=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(yi,_t,H)=>{"use strict";H.d(_t,{D:()=>l});var C=H(4674);function l(le){return Symbol.asyncIterator&&(0,C.m)(le?.[Symbol.asyncIterator])}},4674:(yi,_t,H)=>{"use strict";function C(l){return"function"==typeof l}H.d(_t,{m:()=>C})},8382:(yi,_t,H)=>{"use strict";H.d(_t,{c:()=>le});var C=H(4850),l=H(4674);function le(v){return(0,l.m)(v[C.L])}},3664:(yi,_t,H)=>{"use strict";H.d(_t,{T:()=>le});var C=H(4971),l=H(4674);function le(v){return(0,l.m)(v?.[C.h])}},4026:(yi,_t,H)=>{"use strict";H.d(_t,{t:()=>l});var C=H(4674);function l(le){return(0,C.m)(le?.then)}},541:(yi,_t,H)=>{"use strict";H.d(_t,{L:()=>v,Q:()=>le});var C=H(7582),l=H(4674);function le(Ve){return(0,C.FC)(this,arguments,function*(){const $e=Ve.getReader();try{for(;;){const{value:Qe,done:Se}=yield(0,C.qq)($e.read());if(Se)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(Qe)}}finally{$e.releaseLock()}})}function v(Ve){return(0,l.m)(Ve?.getReader)}},671:(yi,_t,H)=>{"use strict";H.d(_t,{K:()=>l});var C=H(4674);function l(le){return le&&(0,C.m)(le.schedule)}},9360:(yi,_t,H)=>{"use strict";H.d(_t,{A:()=>l,e:()=>le});var C=H(4674);function l(v){return(0,C.m)(v?.lift)}function le(v){return Ve=>{if(l(Ve))return Ve.lift(function(ne){try{return v(ne,this)}catch($e){this.error($e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(yi,_t,H)=>{"use strict";H.d(_t,{Z:()=>v});var C=H(7398);const{isArray:l}=Array;function v(Ve){return(0,C.U)(ne=>function le(Ve,ne){return l(ne)?Ve(...ne):Ve(ne)}(Ve,ne))}},2420:(yi,_t,H)=>{"use strict";function C(){}H.d(_t,{Z:()=>C})},8407:(yi,_t,H)=>{"use strict";H.d(_t,{U:()=>le,z:()=>l});var C=H(2737);function l(...v){return le(v)}function le(v){return 0===v.length?C.y:1===v.length?v[0]:function(ne){return v.reduce(($e,Qe)=>Qe($e),ne)}}},3894:(yi,_t,H)=>{"use strict";H.d(_t,{h:()=>le});var C=H(2653),l=H(7599);function le(v){l.z.setTimeout(()=>{const{onUnhandledError:Ve}=C.config;if(!Ve)throw v;Ve(v)})}},9853:(yi,_t,H)=>{"use strict";function C(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(_t,{z:()=>C})},5624:function(yi){yi.exports=function(){"use strict";var _t,H,C;function l(v,Ve){if(_t)if(H){var ne="var sharedChunk = {}; ("+_t+")(sharedChunk); ("+H+")(sharedChunk);",$e={};_t($e),C=Ve($e),typeof window<"u"&&(C.workerUrl=window.URL.createObjectURL(new Blob([ne],{type:"text/javascript"})))}else H=Ve;else _t=Ve}return l(0,function(v){function Ve(o,t,a,m){return new(a||(a=Promise))(function(x,D){function I($){try{L(m.next($))}catch(q){D(q)}}function O($){try{L(m.throw($))}catch(q){D(q)}}function L($){var q;$.done?x($.value):(q=$.value,q instanceof a?q:new a(function(J){J(q)})).then(I,O)}L((m=m.apply(o,t||[])).next())})}function ne(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}"function"==typeof SuppressedError&&SuppressedError;var $e=Qe;function Qe(o,t){this.x=o,this.y=t}Qe.prototype={clone:function(){return new Qe(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,t){return this.clone()._rotateAround(o,t)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var t=o.x-this.x,a=o.y-this.y;return t*t+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,t){return Math.atan2(this.x*t-this.y*o,this.x*o+this.y*t)},_matMult:function(o){var t=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=t,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var t=Math.cos(o),a=Math.sin(o),m=a*this.x+t*this.y;return this.x=t*this.x-a*this.y,this.y=m,this},_rotateAround:function(o,t){var a=Math.cos(o),m=Math.sin(o),x=t.y+m*(this.x-t.x)+a*(this.y-t.y);return this.x=t.x+a*(this.x-t.x)-m*(this.y-t.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Qe.convert=function(o){return o instanceof Qe?o:Array.isArray(o)?new Qe(o[0],o[1]):o};var Se=ne($e),Be=nt;function nt(o,t,a,m){this.cx=3*o,this.bx=3*(a-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(m-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=t,this.p2x=a,this.p2y=m}nt.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,t){if(void 0===t&&(t=1e-6),o<0)return 0;if(o>1)return 1;for(var a=o,m=0;m<8;m++){var x=this.sampleCurveX(a)-o;if(Math.abs(x)<t)return a;var D=this.sampleCurveDerivativeX(a);if(Math.abs(D)<1e-6)break;a-=x/D}var I=0,O=1;for(a=o,m=0;m<20&&(x=this.sampleCurveX(a),!(Math.abs(x-o)<t));m++)o>x?I=a:O=a,a=.5*(O-I)+I;return a},solve:function(o,t){return this.sampleCurveY(this.solveCurveX(o,t))}};var Le=ne(Be);let tt,Ke;function ut(){return null==tt&&(tt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),tt}function Mt(){if(null==Ke&&(Ke=!1,ut())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let m=0;m<25;m++){const x=4*m;t.fillStyle=`rgb(${x},${x+1},${x+2})`,t.fillRect(m%5,Math.floor(m/5),1,1)}const a=t.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&a[m]!==m){Ke=!0;break}}}return Ke||!1}function Vt(o,t,a,m){const x=new Le(o,t,a,m);return function(D){return x.solve(D)}}const ei=Vt(.25,.1,.25,1);function Di(o,t,a){return Math.min(a,Math.max(t,o))}function ti(o,t,a){const m=a-t,x=((o-t)%m+m)%m+t;return x===t?a:x}function Oe(o,...t){for(const a of t)for(const m in a)o[m]=a[m];return o}let We=1;function Re(o,t,a){const m={};for(const x in o)m[x]=t.call(a||this,o[x],x,o);return m}function Ft(o,t,a){const m={};for(const x in o)t.call(a||this,o[x],x,o)&&(m[x]=o[x]);return m}function Ot(o){return Array.isArray(o)?o.map(Ot):"object"==typeof o&&o?Re(o,Ot):o}const Bt={};function ui(o){Bt[o]||(typeof console<"u"&&console.warn(o),Bt[o]=!0)}function fi(o,t,a){return(a.y-o.y)*(t.x-o.x)>(t.y-o.y)*(a.x-o.x)}function Fi(o){let t=0;for(let a,m,x=0,D=o.length,I=D-1;x<D;I=x++)a=o[x],m=o[I],t+=(m.x-a.x)*(a.y+m.y);return t}function Bi(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Tn=null;function qn(o){if(null==Tn){const t=o.navigator?o.navigator.userAgent:null;Tn=!!o.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Tn}function vn(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Pn(o,t,a,m,x){return Ve(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const D=new VideoFrame(o,{timestamp:0});try{const I=D?.format;if(!I||!I.startsWith("BGR")&&!I.startsWith("RGB"))throw new Error(`Unrecognized format ${I}`);const O=I.startsWith("BGR"),L=new Uint8ClampedArray(m*x*4);if(yield D.copyTo(L,function($,q,J,oe,pe){const ye=4*Math.max(-q,0),ke=(Math.max(0,J)-J)*oe*4+ye,He=4*oe,Je=Math.max(0,q),mt=Math.max(0,J);return{rect:{x:Je,y:mt,width:Math.min($.width,q+oe)-Je,height:Math.min($.height,J+pe)-mt},layout:[{offset:ke,stride:He}]}}(o,t,a,m,x)),O)for(let $=0;$<L.length;$+=4){const q=L[$];L[$]=L[$+2],L[$+2]=q}return L}finally{D.close()}})}let vt,Ct,Rt,zt;const Jt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const t=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(o,t=0){return this.getImageCanvasContext(o).getImageData(-t,-t,o.width+2*t,o.height+2*t)},getImageCanvasContext(o){const t=window.document.createElement("canvas"),a=t.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return t.width=o.width,t.height=o.height,a.drawImage(o,0,0,o.width,o.height),a},resolveURL:o=>(Rt||(Rt=document.createElement("a")),Rt.href=o,Rt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==zt&&(zt=matchMedia("(prefers-reduced-motion: reduce)")),zt.matches)}},Dt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class si extends Error{constructor(t,a,m,x){super(`AJAXError: ${a} (${t}): ${m}`),this.status=t,this.statusText=a,this.url=m,this.body=x}}const Ne=Bi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,st=o=>Dt.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function pt(o,t){const a=new AbortController,m=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,cache:o.cache,referrer:Ne(),signal:a.signal});let x=!1,D=!1;return"json"===o.type&&m.headers.set("Accept","application/json"),D||fetch(m).then(I=>{return I.ok?(O=I,void("arrayBuffer"===o.type||"image"===o.type?O.arrayBuffer():"json"===o.type?O.json():O.text()).then(L=>{D||(x=!0,t(null,L,O.headers.get("Cache-Control"),O.headers.get("Expires")))}).catch(L=>{D||t(new Error(L.message))})):I.blob().then(O=>t(new si(I.status,I.statusText,o.url,O)));var O}).catch(I=>{20!==I.code&&t(new Error(I.message))}),{cancel:()=>{D=!0,x||a.abort()}}}const ct=function(o,t){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(Bi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t);if(!Bi())return(st(o.url)||pt)(o,t)}if(!(/^file:/.test(a=o.url)||/^file:/.test(Ne())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return pt(o,t);if(Bi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t,void 0,!0)}var a;return function(m,x){const D=new XMLHttpRequest;D.open(m.method||"GET",m.url,!0),"arrayBuffer"!==m.type&&"image"!==m.type||(D.responseType="arraybuffer");for(const I in m.headers)D.setRequestHeader(I,m.headers[I]);return"json"===m.type&&(D.responseType="text",D.setRequestHeader("Accept","application/json")),D.withCredentials="include"===m.credentials,D.onerror=()=>{x(new Error(D.statusText))},D.onload=()=>{if((D.status>=200&&D.status<300||0===D.status)&&null!==D.response){let I=D.response;if("json"===m.type)try{I=JSON.parse(D.response)}catch(O){return x(O)}x(null,I,D.getResponseHeader("Cache-Control"),D.getResponseHeader("Expires"))}else{const I=new Blob([D.response],{type:D.getResponseHeader("Content-Type")});x(new si(D.status,D.statusText,m.url,I))}},D.send(m.body),{cancel:()=>D.abort()}}(o,t)},ft=function(o,t){return ct(Oe(o,{type:"arrayBuffer"}),t)};function Yt(o){if(!o||o.indexOf("://")<=0||0===o.indexOf("data:image/")||0===o.indexOf("blob:"))return!0;const t=new URL(o),a=window.location;return t.protocol===a.protocol&&t.host===a.host}function qt(o,t,a){a[o]&&-1!==a[o].indexOf(t)||(a[o]=a[o]||[],a[o].push(t))}function gi(o,t,a){if(a&&a[o]){const m=a[o].indexOf(t);-1!==m&&a[o].splice(m,1)}}class ot{constructor(t,a={}){Oe(this,a),this.type=t}}class Tt extends ot{constructor(t,a={}){super("error",Oe({error:t},a))}}class bi{on(t,a){return this._listeners=this._listeners||{},qt(t,a,this._listeners),this}off(t,a){return gi(t,a,this._listeners),gi(t,a,this._oneTimeListeners),this}once(t,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},qt(t,a,this._oneTimeListeners),this):new Promise(m=>this.once(t,m))}fire(t,a){"string"==typeof t&&(t=new ot(t,a||{}));const m=t.type;if(this.listens(m)){t.target=this;const x=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const O of x)O.call(this,t);const D=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const O of D)gi(m,O,this._oneTimeListeners),O.call(this,t);const I=this._eventedParent;I&&(Oe(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),I.fire(t))}else t instanceof Tt&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,a){return this._eventedParent=t,this._eventedParentData=a,this}}var bt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const rn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function zn(o,t){const a={};for(const m in o)"ref"!==m&&(a[m]=o[m]);return rn.forEach(m=>{m in t&&(a[m]=t[m])}),a}function Hi(o,t){if(Array.isArray(o)){if(!Array.isArray(t)||o.length!==t.length)return!1;for(let a=0;a<o.length;a++)if(!Hi(o[a],t[a]))return!1;return!0}if("object"==typeof o&&null!==o&&null!==t){if("object"!=typeof t||Object.keys(o).length!==Object.keys(t).length)return!1;for(const a in o)if(!Hi(o[a],t[a]))return!1;return!0}return o===t}const Li={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function wt(o,t,a){a.push({command:Li.addSource,args:[o,t[o]]})}function ue(o,t,a){t.push({command:Li.removeSource,args:[o]}),a[o]=!0}function Te(o,t,a,m){ue(o,a,m),wt(o,t,a)}function Pe(o,t,a){let m;for(m in o[a])if(Object.prototype.hasOwnProperty.call(o[a],m)&&"data"!==m&&!Hi(o[a][m],t[a][m]))return!1;for(m in t[a])if(Object.prototype.hasOwnProperty.call(t[a],m)&&"data"!==m&&!Hi(o[a][m],t[a][m]))return!1;return!0}function Ie(o,t,a,m,x,D){let I;for(I in t=t||{},o=o||{})Object.prototype.hasOwnProperty.call(o,I)&&(Hi(o[I],t[I])||a.push({command:D,args:[m,I,t[I],x]}));for(I in t)Object.prototype.hasOwnProperty.call(t,I)&&!Object.prototype.hasOwnProperty.call(o,I)&&(Hi(o[I],t[I])||a.push({command:D,args:[m,I,t[I],x]}))}function be(o){return o.id}function et(o,t){return o[t.id]=t,o}class Ye{constructor(t,a,m,x){this.message=(t?`${t}: `:"")+m,x&&(this.identifier=x),null!=a&&a.__line__&&(this.line=a.__line__)}}function Zt(o,...t){for(const a of t)for(const m in a)o[m]=a[m];return o}class ii extends Error{constructor(t,a){super(a),this.message=a,this.key=t}}class wi{constructor(t,a=[]){this.parent=t,this.bindings={};for(const[m,x]of a)this.bindings[m]=x}concat(t){return new wi(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const pi={kind:"null"},$t={kind:"number"},Ci={kind:"string"},Ei={kind:"boolean"},Qi={kind:"color"},Pt={kind:"object"},Ut={kind:"value"},Et={kind:"collator"},Y={kind:"formatted"},V={kind:"padding"},U={kind:"resolvedImage"},ie={kind:"variableAnchorOffsetCollection"};function de(o,t){return{kind:"array",itemType:o,N:t}}function Me(o){if("array"===o.kind){const t=Me(o.itemType);return"number"==typeof o.N?`array<${t}, ${o.N}>`:"value"===o.itemType.kind?"array":`array<${t}>`}return o.kind}const fe=[pi,$t,Ci,Ei,Qi,Y,Pt,de(Ut),V,U,ie];function se(o,t){if("error"===t.kind)return null;if("array"===o.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!se(o.itemType,t.itemType))&&("number"!=typeof o.N||o.N===t.N))return null}else{if(o.kind===t.kind)return null;if("value"===o.kind)for(const a of fe)if(!se(a,t))return null}return`Expected ${Me(o)} but found ${Me(t)} instead.`}function X(o,t){return t.some(a=>a.kind===o.kind)}function he(o,t){return t.some(a=>"null"===a?null===o:"array"===a?Array.isArray(o):"object"===a?o&&!Array.isArray(o)&&"object"==typeof o:a===typeof o)}function qe(o,t){return"array"===o.kind&&"array"===t.kind?o.itemType.kind===t.itemType.kind&&"number"==typeof o.N:o.kind===t.kind}const De=4/29,ce=6/29,Ee=3*ce*ce,Xe=ce*ce*ce,It=Math.PI/180,Fe=180/Math.PI;function Ae(o){return(o%=360)<0&&(o+=360),o}function je([o,t,a,m]){let x,D;const I=ci((.2225045*(o=Nt(o))+.7168786*(t=Nt(t))+.0606169*(a=Nt(a)))/1);o===t&&t===a?x=D=I:(x=ci((.4360747*o+.3850649*t+.1430804*a)/.96422),D=ci((.0139322*o+.0971045*t+.7141733*a)/.82521));const O=116*I-16;return[O<0?0:O,500*(x-I),200*(I-D),m]}function Nt(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function ci(o){return o>Xe?Math.pow(o,1/3):o/Ee+De}function hi([o,t,a,m]){let x=(o+16)/116,D=isNaN(t)?x:x+t/500,I=isNaN(a)?x:x-a/200;return x=1*_n(x),D=.96422*_n(D),I=.82521*_n(I),[di(3.1338561*D-1.6168667*x-.4906146*I),di(-.9787684*D+1.9161415*x+.033454*I),di(.0719453*D-.2289914*x+1.4052427*I),m]}function di(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function _n(o){return o>ce?o*o*o:Ee*(o-De)}function Yi(o){return parseInt(o.padEnd(2,o),16)/255}function _r(o,t){return Mr(t?o/100:o,0,1)}function Mr(o,t,a){return Math.min(Math.max(t,o),a)}function ho(o){return!o.some(Number.isNaN)}const oo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class fn{constructor(t,a,m,x=1,D=!0){this.r=t,this.g=a,this.b=m,this.a=x,D||(this.r*=x,this.g*=x,this.b*=x,x||this.overwriteGetter("rgb",[t,a,m,x]))}static parse(t){if(t instanceof fn)return t;if("string"!=typeof t)return;const a=function(m){if("transparent"===(m=m.toLowerCase().trim()))return[0,0,0,0];const x=oo[m];if(x){const[I,O,L]=x;return[I/255,O/255,L/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const I=m.length<6?1:2;let O=1;return[Yi(m.slice(O,O+=I)),Yi(m.slice(O,O+=I)),Yi(m.slice(O,O+=I)),Yi(m.slice(O,O+I)||"ff")]}if(m.startsWith("rgb")){const I=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){const[O,L,$,q,J,oe,pe,ye,ke,He,Je,mt]=I,at=[q||" ",pe||" ",He].join("");if("  "===at||"  /"===at||",,"===at||",,,"===at){const yt=[$,oe,ke].join(""),At="%%%"===yt?100:""===yt?255:0;if(At){const Kt=[Mr(+L/At,0,1),Mr(+J/At,0,1),Mr(+ye/At,0,1),Je?_r(+Je,mt):1];if(ho(Kt))return Kt}}return}}const D=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(D){const[I,O,L,$,q,J,oe,pe,ye]=D,ke=[L||" ",q||" ",oe].join("");if("  "===ke||"  /"===ke||",,"===ke||",,,"===ke){const He=[+O,Mr(+$,0,100),Mr(+J,0,100),pe?_r(+pe,ye):1];if(ho(He))return function([Je,mt,at,yt]){function At(Kt){const Ai=(Kt+Je/30)%12,Gi=mt*Math.min(at,1-at);return at-Gi*Math.max(-1,Math.min(Ai-3,9-Ai,1))}return Je=Ae(Je),mt/=100,at/=100,[At(0),At(8),At(4),yt]}(He)}}}(t);return a?new fn(...a,!1):void 0}get rgb(){const{r:t,g:a,b:m,a:x}=this,D=x||1/0;return this.overwriteGetter("rgb",[t/D,a/D,m/D,x])}get hcl(){return this.overwriteGetter("hcl",function(t){const[a,m,x,D]=je(t),I=Math.sqrt(m*m+x*x);return[Math.round(1e4*I)?Ae(Math.atan2(x,m)*Fe):NaN,I,a,D]}(this.rgb))}get lab(){return this.overwriteGetter("lab",je(this.rgb))}overwriteGetter(t,a){return Object.defineProperty(this,t,{value:a}),a}toString(){const[t,a,m,x]=this.rgb;return`rgba(${[t,a,m].map(D=>Math.round(255*D)).join(",")},${x})`}}fn.black=new fn(0,0,0,1),fn.white=new fn(1,1,1,1),fn.transparent=new fn(0,0,0,0),fn.red=new fn(1,0,0,1);class Ao{constructor(t,a,m){this.sensitivity=t?a?"variant":"case":a?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,a){return this.collator.compare(t,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class On{constructor(t,a,m,x,D){this.text=t,this.image=a,this.scale=m,this.fontStack=x,this.textColor=D}}class cn{constructor(t){this.sections=t}static fromString(t){return new cn([new On(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof cn?t:cn.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}}class dr{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof dr)return t;if("number"==typeof t)return new dr([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const a of t)if("number"!=typeof a)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new dr(t)}}toString(){return JSON.stringify(this.values)}}const Ms=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class In{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof In)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let a=0;a<t.length;a+=2){const m=t[a],x=t[a+1];if("string"!=typeof m||!Ms.has(m)||!Array.isArray(x)||2!==x.length||"number"!=typeof x[0]||"number"!=typeof x[1])return}return new In(t)}}toString(){return JSON.stringify(this.values)}}class Bn{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Bn({name:t,available:!1}):null}}function ko(o,t,a,m){return"number"==typeof o&&o>=0&&o<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof a&&a>=0&&a<=255?void 0===m||"number"==typeof m&&m>=0&&m<=1?null:`Invalid rgba value [${[o,t,a,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof m?[o,t,a,m]:[o,t,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ur(o){if(null===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||o instanceof fn||o instanceof Ao||o instanceof cn||o instanceof dr||o instanceof In||o instanceof Bn)return!0;if(Array.isArray(o)){for(const t of o)if(!Ur(t))return!1;return!0}if("object"==typeof o){for(const t in o)if(!Ur(o[t]))return!1;return!0}return!1}function Xi(o){if(null===o)return pi;if("string"==typeof o)return Ci;if("boolean"==typeof o)return Ei;if("number"==typeof o)return $t;if(o instanceof fn)return Qi;if(o instanceof Ao)return Et;if(o instanceof cn)return Y;if(o instanceof dr)return V;if(o instanceof In)return ie;if(o instanceof Bn)return U;if(Array.isArray(o)){const t=o.length;let a;for(const m of o){const x=Xi(m);if(a){if(a===x)continue;a=Ut;break}a=x}return de(a||Ut,t)}return Pt}function Uo(o){const t=typeof o;return null===o?"":"string"===t||"number"===t||"boolean"===t?String(o):o instanceof fn||o instanceof cn||o instanceof dr||o instanceof In||o instanceof Bn?o.toString():JSON.stringify(o)}class yr{constructor(t,a){this.type=t,this.value=a}static parse(t,a){if(2!==t.length)return a.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Ur(t[1]))return a.error("invalid value");const m=t[1];let x=Xi(m);const D=a.expectedType;return"array"!==x.kind||0!==x.N||!D||"array"!==D.kind||"number"==typeof D.N&&0!==D.N||(x=D),new yr(x,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Qn{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const Po={string:Ci,number:$t,boolean:Ei,object:Pt};class xo{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");let m,x=1;const D=t[0];if("array"===D){let O,L;if(t.length>2){const $=t[1];if("string"!=typeof $||!($ in Po)||"object"===$)return a.error('The item type argument of "array" must be one of string, number, boolean',1);O=Po[$],x++}else O=Ut;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return a.error('The length argument to "array" must be a positive integer literal',2);L=t[2],x++}m=de(O,L)}else{if(!Po[D])throw new Error(`Types doesn't contain name = ${D}`);m=Po[D]}const I=[];for(;x<t.length;x++){const O=a.parse(t[x],x,Ut);if(!O)return null;I.push(O)}return new xo(m,I)}evaluate(t){for(let a=0;a<this.args.length;a++){const m=this.args[a].evaluate(t);if(!se(this.type,Xi(m)))return m;if(a===this.args.length-1)throw new Qn(`Expected value to be of type ${Me(this.type)}, but found ${Me(Xi(m))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const Cl={"to-boolean":Ei,"to-color":Qi,"to-number":$t,"to-string":Ci};class ra{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const m=t[0];if(!Cl[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if(("to-boolean"===m||"to-string"===m)&&2!==t.length)return a.error("Expected one argument.");const x=Cl[m],D=[];for(let I=1;I<t.length;I++){const O=a.parse(t[I],I,Ut);if(!O)return null;D.push(O)}return new ra(x,D)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let a,m;for(const x of this.args){if(a=x.evaluate(t),m=null,a instanceof fn)return a;if("string"==typeof a){const D=t.parseColor(a);if(D)return D}else if(Array.isArray(a)&&(m=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:ko(a[0],a[1],a[2],a[3]),!m))return new fn(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new Qn(m||`Could not parse color from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"padding":{let a;for(const m of this.args){a=m.evaluate(t);const x=dr.parse(a);if(x)return x}throw new Qn(`Could not parse padding from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"variableAnchorOffsetCollection":{let a;for(const m of this.args){a=m.evaluate(t);const x=In.parse(a);if(x)return x}throw new Qn(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}case"number":{let a=null;for(const m of this.args){if(a=m.evaluate(t),null===a)return 0;const x=Number(a);if(!isNaN(x))return x}throw new Qn(`Could not convert ${JSON.stringify(a)} to number.`)}case"formatted":return cn.fromString(Uo(this.args[0].evaluate(t)));case"resolvedImage":return Bn.fromString(Uo(this.args[0].evaluate(t)));default:return Uo(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const $a=["Unknown","Point","LineString","Polygon"];class El{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?$a[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let a=this._parseColorCache[t];return a||(a=this._parseColorCache[t]=fn.parse(t)),a}}class oa{constructor(t,a,m=[],x,D=new wi,I=[]){this.registry=t,this.path=m,this.key=m.map(O=>`[${O}]`).join(""),this.scope=D,this.errors=I,this.expectedType=x,this._isConstant=a}parse(t,a,m,x,D={}){return a?this.concat(a,m,x)._parse(t,D):this._parse(t,D)}_parse(t,a){function m(x,D,I){return"assert"===I?new xo(D,[x]):"coerce"===I?new ra(D,[x]):x}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=t[0];if("string"!=typeof x)return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const D=this.registry[x];if(D){let I=D.parse(t,this);if(!I)return null;if(this.expectedType){const O=this.expectedType,L=I.type;if("string"!==O.kind&&"number"!==O.kind&&"boolean"!==O.kind&&"object"!==O.kind&&"array"!==O.kind||"value"!==L.kind)if("color"!==O.kind&&"formatted"!==O.kind&&"resolvedImage"!==O.kind||"value"!==L.kind&&"string"!==L.kind)if("padding"!==O.kind||"value"!==L.kind&&"number"!==L.kind&&"array"!==L.kind)if("variableAnchorOffsetCollection"!==O.kind||"value"!==L.kind&&"array"!==L.kind){if(this.checkSubtype(O,L))return null}else I=m(I,O,a.typeAnnotation||"coerce");else I=m(I,O,a.typeAnnotation||"coerce");else I=m(I,O,a.typeAnnotation||"coerce");else I=m(I,O,a.typeAnnotation||"assert")}if(!(I instanceof yr)&&"resolvedImage"!==I.type.kind&&this._isConstant(I)){const O=new El;try{I=new yr(I.type,I.evaluate(O))}catch(L){return this.error(L.message),null}}return I}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,a,m){const x="number"==typeof t?this.path.concat(t):this.path,D=m?this.scope.concat(m):this.scope;return new oa(this.registry,this._isConstant,x,a||null,D,this.errors)}error(t,...a){const m=`${this.key}${a.map(x=>`[${x}]`).join("")}`;this.errors.push(new ii(m,t))}checkSubtype(t,a){const m=se(t,a);return m&&this.error(m),m}}class js{constructor(t,a,m){this.type=Et,this.locale=m,this.caseSensitive=t,this.diacriticSensitive=a}static parse(t,a){if(2!==t.length)return a.error("Expected one argument.");const m=t[1];if("object"!=typeof m||Array.isArray(m))return a.error("Collator options argument must be an object.");const x=a.parse(void 0!==m["case-sensitive"]&&m["case-sensitive"],1,Ei);if(!x)return null;const D=a.parse(void 0!==m["diacritic-sensitive"]&&m["diacritic-sensitive"],1,Ei);if(!D)return null;let I=null;return m.locale&&(I=a.parse(m.locale,1,Ci),!I)?null:new js(x,D,I)}evaluate(t){return new Ao(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}const Ds=8192;function dn(o,t){o[0]=Math.min(o[0],t[0]),o[1]=Math.min(o[1],t[1]),o[2]=Math.max(o[2],t[0]),o[3]=Math.max(o[3],t[1])}function vr(o,t){return!(o[0]<=t[0]||o[2]>=t[2]||o[1]<=t[1]||o[3]>=t[3])}function mo(o,t){const a=(180+o[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,x=Math.pow(2,t.z);return[Math.round(a*x*Ds),Math.round(m*x*Ds)]}function sa(o,t,a){const m=o[0]-t[0],x=o[1]-t[1],D=o[0]-a[0],I=o[1]-a[1];return m*I-D*x==0&&m*D<=0&&x*I<=0}function Dr(o,t){let a=!1;for(let I=0,O=t.length;I<O;I++){const L=t[I];for(let $=0,q=L.length;$<q-1;$++){if(sa(o,L[$],L[$+1]))return!1;(x=L[$])[1]>(m=o)[1]!=(D=L[$+1])[1]>m[1]&&m[0]<(D[0]-x[0])*(m[1]-x[1])/(D[1]-x[1])+x[0]&&(a=!a)}}var m,x,D;return a}function sl(o,t){for(let a=0;a<t.length;a++)if(Dr(o,t[a]))return!0;return!1}function Aa(o,t,a,m){const x=m[0]-a[0],D=m[1]-a[1],I=(o[0]-a[0])*D-x*(o[1]-a[1]),O=(t[0]-a[0])*D-x*(t[1]-a[1]);return I>0&&O<0||I<0&&O>0}function Hs(o,t,a){for(const $ of a)for(let q=0;q<$.length-1;++q)if((O=[(I=$[q+1])[0]-(D=$[q])[0],I[1]-D[1]])[0]*(L=[(x=t)[0]-(m=o)[0],x[1]-m[1]])[1]-O[1]*L[0]!=0&&Aa(m,x,D,I)&&Aa(D,I,m,x))return!0;var m,x,D,I,O,L;return!1}function ts(o,t){for(let a=0;a<o.length;++a)if(!Dr(o[a],t))return!1;for(let a=0;a<o.length-1;++a)if(Hs(o[a],o[a+1],t))return!1;return!0}function aa(o,t){for(let a=0;a<t.length;a++)if(ts(o,t[a]))return!0;return!1}function br(o,t,a){const m=[];for(let x=0;x<o.length;x++){const D=[];for(let I=0;I<o[x].length;I++){const O=mo(o[x][I],a);dn(t,O),D.push(O)}m.push(D)}return m}function Oi(o,t,a){const m=[];for(let x=0;x<o.length;x++){const D=br(o[x],t,a);m.push(D)}return m}function mn(o,t,a,m){if(o[0]<a[0]||o[0]>a[2]){const x=.5*m;let D=o[0]-a[0]>x?-m:a[0]-o[0]>x?m:0;0===D&&(D=o[0]-a[2]>x?-m:a[2]-o[0]>x?m:0),o[0]+=D}dn(t,o)}function Gn(o,t,a,m){const x=Math.pow(2,m.z)*Ds,D=[m.x*Ds,m.y*Ds],I=[];for(const O of o)for(const L of O){const $=[L.x+D[0],L.y+D[1]];mn($,t,a,x),I.push($)}return I}function Go(o,t,a,m){const x=Math.pow(2,m.z)*Ds,D=[m.x*Ds,m.y*Ds],I=[];for(const L of o){const $=[];for(const q of L){const J=[q.x+D[0],q.y+D[1]];dn(t,J),$.push(J)}I.push($)}if(t[2]-t[0]<=x/2){(O=t)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const L of I)for(const $ of L)mn($,t,a,x)}var O;return I}class Oo{constructor(t,a){this.type=Ei,this.geojson=t,this.geometries=a}static parse(t,a){if(2!==t.length)return a.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Ur(t[1])){const m=t[1];if("FeatureCollection"===m.type)for(let x=0;x<m.features.length;++x){const D=m.features[x].geometry.type;if("Polygon"===D||"MultiPolygon"===D)return new Oo(m,m.features[x].geometry)}else if("Feature"===m.type){const x=m.geometry.type;if("Polygon"===x||"MultiPolygon"===x)return new Oo(m,m.geometry)}else if("Polygon"===m.type||"MultiPolygon"===m.type)return new Oo(m,m)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(a,m){const x=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],I=a.canonicalID();if("Polygon"===m.type){const O=br(m.coordinates,D,I),L=Gn(a.geometry(),x,D,I);if(!vr(x,D))return!1;for(const $ of L)if(!Dr($,O))return!1}if("MultiPolygon"===m.type){const O=Oi(m.coordinates,D,I),L=Gn(a.geometry(),x,D,I);if(!vr(x,D))return!1;for(const $ of L)if(!sl($,O))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(a,m){const x=[1/0,1/0,-1/0,-1/0],D=[1/0,1/0,-1/0,-1/0],I=a.canonicalID();if("Polygon"===m.type){const O=br(m.coordinates,D,I),L=Go(a.geometry(),x,D,I);if(!vr(x,D))return!1;for(const $ of L)if(!ts($,O))return!1}if("MultiPolygon"===m.type){const O=Oi(m.coordinates,D,I),L=Go(a.geometry(),x,D,I);if(!vr(x,D))return!1;for(const $ of L)if(!aa($,O))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Sr{constructor(t,a){this.type=a.type,this.name=t,this.boundExpression=a}static parse(t,a){if(2!==t.length||"string"!=typeof t[1])return a.error("'var' expression requires exactly one string literal argument.");const m=t[1];return a.scope.has(m)?new Sr(m,a.scope.get(m)):a.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class Or{constructor(t,a,m,x){this.name=t,this.type=a,this._evaluate=m,this.args=x}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,a){const m=t[0],x=Or.definitions[m];if(!x)return a.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const D=Array.isArray(x)?x[0]:x.type,I=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,O=I.filter(([$])=>!Array.isArray($)||$.length===t.length-1);let L=null;for(const[$,q]of O){L=new oa(a.registry,ar,a.path,null,a.scope);const J=[];let oe=!1;for(let pe=1;pe<t.length;pe++){const ye=t[pe],ke=Array.isArray($)?$[pe-1]:$.type,He=L.parse(ye,1+J.length,ke);if(!He){oe=!0;break}J.push(He)}if(!oe)if(Array.isArray($)&&$.length!==J.length)L.error(`Expected ${$.length} arguments, but found ${J.length} instead.`);else{for(let pe=0;pe<J.length;pe++){const ye=Array.isArray($)?$[pe]:$.type,ke=J[pe];L.concat(pe+1).checkSubtype(ye,ke.type)}if(0===L.errors.length)return new Or(m,D,q,J)}}if(1===O.length)a.errors.push(...L.errors);else{const $=(O.length?O:I).map(([J])=>{return oe=J,Array.isArray(oe)?`(${oe.map(Me).join(", ")})`:`(${Me(oe.type)}...)`;var oe}).join(" | "),q=[];for(let J=1;J<t.length;J++){const oe=a.parse(t[J],1+q.length);if(!oe)return null;q.push(Me(oe.type))}a.error(`Expected arguments of type ${$}, but found (${q.join(", ")}) instead.`)}return null}static register(t,a){Or.definitions=a;for(const m in a)t[m]=Or}}function ar(o){if(o instanceof Sr)return ar(o.boundExpression);if(o instanceof Or&&"error"===o.name||o instanceof js||o instanceof Oo)return!1;const t=o instanceof ra||o instanceof xo;let a=!0;return o.eachChild(m=>{a=t?a&&ar(m):a&&m instanceof yr}),!!a&&Zo(o)&&on(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Zo(o){if(o instanceof Or&&("get"===o.name&&1===o.args.length||"feature-state"===o.name||"has"===o.name&&1===o.args.length||"properties"===o.name||"geometry-type"===o.name||"id"===o.name||/^filter-/.test(o.name))||o instanceof Oo)return!1;let t=!0;return o.eachChild(a=>{t&&!Zo(a)&&(t=!1)}),t}function wo(o){if(o instanceof Or&&"feature-state"===o.name)return!1;let t=!0;return o.eachChild(a=>{t&&!wo(a)&&(t=!1)}),t}function on(o,t){if(o instanceof Or&&t.indexOf(o.name)>=0)return!1;let a=!0;return o.eachChild(m=>{a&&!on(m,t)&&(a=!1)}),a}function Ro(o,t){const a=o.length-1;let m,x,D=0,I=a,O=0;for(;D<=I;)if(O=Math.floor((D+I)/2),m=o[O],x=o[O+1],m<=t){if(O===a||t<x)return O;D=O+1}else{if(!(m>t))throw new Qn("Input is not a number.");I=O-1}return 0}class kn{constructor(t,a,m){this.type=t,this.input=a,this.labels=[],this.outputs=[];for(const[x,D]of m)this.labels.push(x),this.outputs.push(D)}static parse(t,a){if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");const m=a.parse(t[1],1,$t);if(!m)return null;const x=[];let D=null;a.expectedType&&"value"!==a.expectedType.kind&&(D=a.expectedType);for(let I=1;I<t.length;I+=2){const O=1===I?-1/0:t[I],L=t[I+1],$=I,q=I+1;if("number"!=typeof O)return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(x.length&&x[x.length-1][0]>=O)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',$);const J=a.parse(L,q,D);if(!J)return null;D=D||J.type,x.push([O,J])}return new kn(D,m,x)}evaluate(t){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(t);const x=this.input.evaluate(t);if(x<=a[0])return m[0].evaluate(t);const D=a.length;return x>=a[D-1]?m[D-1].evaluate(t):m[Ro(a,x)].evaluate(t)}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function jr(o,t,a){return o+a*(t-o)}function ir(o,t,a){return o.map((m,x)=>jr(m,t[x],a))}const Rr={number:jr,color:function(o,t,a,m="rgb"){switch(m){case"rgb":{const[x,D,I,O]=ir(o.rgb,t.rgb,a);return new fn(x,D,I,O,!1)}case"hcl":{const[x,D,I,O]=o.hcl,[L,$,q,J]=t.hcl;let oe,pe;if(isNaN(x)||isNaN(L))isNaN(x)?isNaN(L)?oe=NaN:(oe=L,1!==I&&0!==I||(pe=$)):(oe=x,1!==q&&0!==q||(pe=D));else{let mt=L-x;L>x&&mt>180?mt-=360:L<x&&x-L>180&&(mt+=360),oe=x+a*mt}const[ye,ke,He,Je]=function([mt,at,yt,At]){return mt=isNaN(mt)?0:mt*It,hi([yt,Math.cos(mt)*at,Math.sin(mt)*at,At])}([oe,pe??jr(D,$,a),jr(I,q,a),jr(O,J,a)]);return new fn(ye,ke,He,Je,!1)}case"lab":{const[x,D,I,O]=hi(ir(o.lab,t.lab,a));return new fn(x,D,I,O,!1)}}},array:ir,padding:function(o,t,a){return new dr(ir(o.values,t.values,a))},variableAnchorOffsetCollection:function(o,t,a){const m=o.values,x=t.values;if(m.length!==x.length)throw new Qn(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${t.toString()}`);const D=[];for(let I=0;I<m.length;I+=2){if(m[I]!==x[I])throw new Qn(`Cannot interpolate values containing mismatched anchors. from[${I}]: ${m[I]}, to[${I}]: ${x[I]}`);D.push(m[I]);const[O,L]=m[I+1],[$,q]=x[I+1];D.push([jr(O,$,a),jr(L,q,a)])}return new In(D)}};class Ar{constructor(t,a,m,x,D){this.type=t,this.operator=a,this.interpolation=m,this.input=x,this.labels=[],this.outputs=[];for(const[I,O]of D)this.labels.push(I),this.outputs.push(O)}static interpolationFactor(t,a,m,x){let D=0;if("exponential"===t.name)D=Wo(a,t.base,m,x);else if("linear"===t.name)D=Wo(a,1,m,x);else if("cubic-bezier"===t.name){const I=t.controlPoints;D=new Le(I[0],I[1],I[2],I[3]).solve(Wo(a,1,m,x))}return D}static parse(t,a){let[m,x,D,...I]=t;if(!Array.isArray(x)||0===x.length)return a.error("Expected an interpolation type expression.",1);if("linear"===x[0])x={name:"linear"};else if("exponential"===x[0]){const $=x[1];if("number"!=typeof $)return a.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:$}}else{if("cubic-bezier"!==x[0])return a.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const $=x.slice(1);if(4!==$.length||$.some(q=>"number"!=typeof q||q<0||q>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:$}}}if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(D=a.parse(D,2,$t),!D)return null;const O=[];let L=null;"interpolate-hcl"===m||"interpolate-lab"===m?L=Qi:a.expectedType&&"value"!==a.expectedType.kind&&(L=a.expectedType);for(let $=0;$<I.length;$+=2){const q=I[$],J=I[$+1],oe=$+3,pe=$+4;if("number"!=typeof q)return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',oe);if(O.length&&O[O.length-1][0]>=q)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',oe);const ye=a.parse(J,pe,L);if(!ye)return null;L=L||ye.type,O.push([q,ye])}return qe(L,$t)||qe(L,Qi)||qe(L,V)||qe(L,ie)||qe(L,de($t))?new Ar(L,m,x,D,O):a.error(`Type ${Me(L)} is not interpolatable.`)}evaluate(t){const a=this.labels,m=this.outputs;if(1===a.length)return m[0].evaluate(t);const x=this.input.evaluate(t);if(x<=a[0])return m[0].evaluate(t);const D=a.length;if(x>=a[D-1])return m[D-1].evaluate(t);const I=Ro(a,x),O=Ar.interpolationFactor(this.interpolation,x,a[I],a[I+1]),L=m[I].evaluate(t),$=m[I+1].evaluate(t);switch(this.operator){case"interpolate":return Rr[this.type.kind](L,$,O);case"interpolate-hcl":return Rr.color(L,$,O,"hcl");case"interpolate-lab":return Rr.color(L,$,O,"lab")}}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Wo(o,t,a,m){const x=m-a,D=o-a;return 0===x?0:1===t?D/x:(Math.pow(t,D)-1)/(Math.pow(t,x)-1)}class us{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expectected at least one argument.");let m=null;const x=a.expectedType;x&&"value"!==x.kind&&(m=x);const D=[];for(const O of t.slice(1)){const L=a.parse(O,1+D.length,m,void 0,{typeAnnotation:"omit"});if(!L)return null;m=m||L.type,D.push(L)}if(!m)throw new Error("No output type");const I=x&&D.some(O=>se(x,O.type));return new us(I?Ut:m,D)}evaluate(t){let a,m=null,x=0;for(const D of this.args)if(x++,m=D.evaluate(t),m&&m instanceof Bn&&!m.available&&(a||(a=m.name),m=null,x===this.args.length&&(m=a)),null!==m)break;return m}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}class la{constructor(t,a){this.type=a.type,this.bindings=[].concat(t),this.result=a}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const a of this.bindings)t(a[1]);t(this.result)}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const m=[];for(let D=1;D<t.length-1;D+=2){const I=t[D];if("string"!=typeof I)return a.error(`Expected string, but found ${typeof I} instead.`,D);if(/[^a-zA-Z0-9_]/.test(I))return a.error("Variable names must contain only alphanumeric characters or '_'.",D);const O=a.parse(t[D+1],D+1);if(!O)return null;m.push([I,O])}const x=a.parse(t[t.length-1],t.length-1,a.expectedType,m);return x?new la(m,x):null}outputDefined(){return this.result.outputDefined()}}class is{constructor(t,a,m){this.type=t,this.index=a,this.input=m}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,$t),x=a.parse(t[2],2,de(a.expectedType||Ut));return m&&x?new is(x.type.itemType,m,x):null}evaluate(t){const a=this.index.evaluate(t),m=this.input.evaluate(t);if(a<0)throw new Qn(`Array index out of bounds: ${a} < 0.`);if(a>=m.length)throw new Qn(`Array index out of bounds: ${a} > ${m.length-1}.`);if(a!==Math.floor(a))throw new Qn(`Array index must be an integer, but found ${a} instead.`);return m[a]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class Fo{constructor(t,a){this.type=Ei,this.needle=t,this.haystack=a}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,Ut),x=a.parse(t[2],2,Ut);return m&&x?X(m.type,[Ei,Ci,$t,pi,Ut])?new Fo(m,x):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Me(m.type)} instead`):null}evaluate(t){const a=this.needle.evaluate(t),m=this.haystack.evaluate(t);if(!m)return!1;if(!he(a,["boolean","string","number","null"]))throw new Qn(`Expected first argument to be of type boolean, string, number or null, but found ${Me(Xi(a))} instead.`);if(!he(m,["string","array"]))throw new Qn(`Expected second argument to be of type array or string, but found ${Me(Xi(m))} instead.`);return m.indexOf(a)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Kr{constructor(t,a,m){this.type=$t,this.needle=t,this.haystack=a,this.fromIndex=m}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,Ut),x=a.parse(t[2],2,Ut);if(!m||!x)return null;if(!X(m.type,[Ei,Ci,$t,pi,Ut]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Me(m.type)} instead`);if(4===t.length){const D=a.parse(t[3],3,$t);return D?new Kr(m,x,D):null}return new Kr(m,x)}evaluate(t){const a=this.needle.evaluate(t),m=this.haystack.evaluate(t);if(!he(a,["boolean","string","number","null"]))throw new Qn(`Expected first argument to be of type boolean, string, number or null, but found ${Me(Xi(a))} instead.`);if(!he(m,["string","array"]))throw new Qn(`Expected second argument to be of type array or string, but found ${Me(Xi(m))} instead.`);if(this.fromIndex){const x=this.fromIndex.evaluate(t);return m.indexOf(a,x)}return m.indexOf(a)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class hs{constructor(t,a,m,x,D,I){this.inputType=t,this.type=a,this.input=m,this.cases=x,this.outputs=D,this.otherwise=I}static parse(t,a){if(t.length<5)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return a.error("Expected an even number of arguments.");let m,x;a.expectedType&&"value"!==a.expectedType.kind&&(x=a.expectedType);const D={},I=[];for(let $=2;$<t.length-1;$+=2){let q=t[$];const J=t[$+1];Array.isArray(q)||(q=[q]);const oe=a.concat($);if(0===q.length)return oe.error("Expected at least one branch label.");for(const ye of q){if("number"!=typeof ye&&"string"!=typeof ye)return oe.error("Branch labels must be numbers or strings.");if("number"==typeof ye&&Math.abs(ye)>Number.MAX_SAFE_INTEGER)return oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof ye&&Math.floor(ye)!==ye)return oe.error("Numeric branch labels must be integer values.");if(m){if(oe.checkSubtype(m,Xi(ye)))return null}else m=Xi(ye);if(void 0!==D[String(ye)])return oe.error("Branch labels must be unique.");D[String(ye)]=I.length}const pe=a.parse(J,$,x);if(!pe)return null;x=x||pe.type,I.push(pe)}const O=a.parse(t[1],1,Ut);if(!O)return null;const L=a.parse(t[t.length-1],t.length-1,x);return L?"value"!==O.type.kind&&a.concat(1).checkSubtype(m,O.type)?null:new hs(m,x,O,D,I,L):null}evaluate(t){const a=this.input.evaluate(t);return(Xi(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class yn{constructor(t,a,m){this.type=t,this.branches=a,this.otherwise=m}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return a.error("Expected an odd number of arguments.");let m;a.expectedType&&"value"!==a.expectedType.kind&&(m=a.expectedType);const x=[];for(let I=1;I<t.length-1;I+=2){const O=a.parse(t[I],I,Ei);if(!O)return null;const L=a.parse(t[I+1],I+1,m);if(!L)return null;x.push([O,L]),m=m||L.type}const D=a.parse(t[t.length-1],t.length-1,m);if(!D)return null;if(!m)throw new Error("Can't infer output type");return new yn(m,x,D)}evaluate(t){for(const[a,m]of this.branches)if(a.evaluate(t))return m.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[a,m]of this.branches)t(a),t(m);t(this.otherwise)}outputDefined(){return this.branches.every(([t,a])=>a.outputDefined())&&this.otherwise.outputDefined()}}class ms{constructor(t,a,m,x){this.type=t,this.input=a,this.beginIndex=m,this.endIndex=x}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const m=a.parse(t[1],1,Ut),x=a.parse(t[2],2,$t);if(!m||!x)return null;if(!X(m.type,[de(Ut),Ci,Ut]))return a.error(`Expected first argument to be of type array or string, but found ${Me(m.type)} instead`);if(4===t.length){const D=a.parse(t[3],3,$t);return D?new ms(m.type,m,x,D):null}return new ms(m.type,m,x)}evaluate(t){const a=this.input.evaluate(t),m=this.beginIndex.evaluate(t);if(!he(a,["string","array"]))throw new Qn(`Expected first argument to be of type array or string, but found ${Me(Xi(a))} instead.`);if(this.endIndex){const x=this.endIndex.evaluate(t);return a.slice(m,x)}return a.slice(m)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function Ml(o,t){return"=="===o||"!="===o?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function al(o,t,a,m){return 0===m.compare(t,a)}function po(o,t,a){const m="=="!==o&&"!="!==o;return class DE{constructor(D,I,O){this.type=Ei,this.lhs=D,this.rhs=I,this.collator=O,this.hasUntypedArgument="value"===D.type.kind||"value"===I.type.kind}static parse(D,I){if(3!==D.length&&4!==D.length)return I.error("Expected two or three arguments.");const O=D[0];let L=I.parse(D[1],1,Ut);if(!L)return null;if(!Ml(O,L.type))return I.concat(1).error(`"${O}" comparisons are not supported for type '${Me(L.type)}'.`);let $=I.parse(D[2],2,Ut);if(!$)return null;if(!Ml(O,$.type))return I.concat(2).error(`"${O}" comparisons are not supported for type '${Me($.type)}'.`);if(L.type.kind!==$.type.kind&&"value"!==L.type.kind&&"value"!==$.type.kind)return I.error(`Cannot compare types '${Me(L.type)}' and '${Me($.type)}'.`);m&&("value"===L.type.kind&&"value"!==$.type.kind?L=new xo($.type,[L]):"value"!==L.type.kind&&"value"===$.type.kind&&($=new xo(L.type,[$])));let q=null;if(4===D.length){if("string"!==L.type.kind&&"string"!==$.type.kind&&"value"!==L.type.kind&&"value"!==$.type.kind)return I.error("Cannot use collator to compare non-string types.");if(q=I.parse(D[3],3,Et),!q)return null}return new DE(L,$,q)}evaluate(D){const I=this.lhs.evaluate(D),O=this.rhs.evaluate(D);if(m&&this.hasUntypedArgument){const L=Xi(I),$=Xi(O);if(L.kind!==$.kind||"string"!==L.kind&&"number"!==L.kind)throw new Qn(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${L.kind}, ${$.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const L=Xi(I),$=Xi(O);if("string"!==L.kind||"string"!==$.kind)return t(D,I,O)}return this.collator?a(D,I,O,this.collator.evaluate(D)):t(D,I,O)}eachChild(D){D(this.lhs),D(this.rhs),this.collator&&D(this.collator)}outputDefined(){return!0}}}const ka=po("==",function(o,t,a){return t===a},al),wa=po("!=",function(o,t,a){return t!==a},function(o,t,a,m){return!al(0,t,a,m)}),Ca=po("<",function(o,t,a){return t<a},function(o,t,a,m){return m.compare(t,a)<0}),Xr=po(">",function(o,t,a){return t>a},function(o,t,a,m){return m.compare(t,a)>0}),Dl=po("<=",function(o,t,a){return t<=a},function(o,t,a,m){return m.compare(t,a)<=0}),Jr=po(">=",function(o,t,a){return t>=a},function(o,t,a,m){return m.compare(t,a)>=0});class nr{constructor(t,a,m,x,D){this.type=Ci,this.number=t,this.locale=a,this.currency=m,this.minFractionDigits=x,this.maxFractionDigits=D}static parse(t,a){if(3!==t.length)return a.error("Expected two arguments.");const m=a.parse(t[1],1,$t);if(!m)return null;const x=t[2];if("object"!=typeof x||Array.isArray(x))return a.error("NumberFormat options argument must be an object.");let D=null;if(x.locale&&(D=a.parse(x.locale,1,Ci),!D))return null;let I=null;if(x.currency&&(I=a.parse(x.currency,1,Ci),!I))return null;let O=null;if(x["min-fraction-digits"]&&(O=a.parse(x["min-fraction-digits"],1,$t),!O))return null;let L=null;return x["max-fraction-digits"]&&(L=a.parse(x["max-fraction-digits"],1,$t),!L)?null:new nr(m,D,I,O,L)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class so{constructor(t){this.type=Y,this.sections=t}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const m=t[1];if(!Array.isArray(m)&&"object"==typeof m)return a.error("First argument must be an image or text section.");const x=[];let D=!1;for(let I=1;I<=t.length-1;++I){const O=t[I];if(D&&"object"==typeof O&&!Array.isArray(O)){D=!1;let L=null;if(O["font-scale"]&&(L=a.parse(O["font-scale"],1,$t),!L))return null;let $=null;if(O["text-font"]&&($=a.parse(O["text-font"],1,de(Ci)),!$))return null;let q=null;if(O["text-color"]&&(q=a.parse(O["text-color"],1,Qi),!q))return null;const J=x[x.length-1];J.scale=L,J.font=$,J.textColor=q}else{const L=a.parse(t[I],1,Ut);if(!L)return null;const $=L.type.kind;if("string"!==$&&"value"!==$&&"null"!==$&&"resolvedImage"!==$)return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");D=!0,x.push({content:L,scale:null,font:null,textColor:null})}}return new so(x)}evaluate(t){return new cn(this.sections.map(a=>{const m=a.content.evaluate(t);return Xi(m)===U?new On("",m,null,null,null):new On(Uo(m),null,a.scale?a.scale.evaluate(t):null,a.font?a.font.evaluate(t).join(","):null,a.textColor?a.textColor.evaluate(t):null)}))}eachChild(t){for(const a of this.sections)t(a.content),a.scale&&t(a.scale),a.font&&t(a.font),a.textColor&&t(a.textColor)}outputDefined(){return!1}}class Hr{constructor(t){this.type=U,this.input=t}static parse(t,a){if(2!==t.length)return a.error("Expected two arguments.");const m=a.parse(t[1],1,Ci);return m?new Hr(m):a.error("No image name provided.")}evaluate(t){const a=this.input.evaluate(t),m=Bn.fromString(a);return m&&t.availableImages&&(m.available=t.availableImages.indexOf(a)>-1),m}eachChild(t){t(this.input)}outputDefined(){return!1}}class Pa{constructor(t){this.type=$t,this.input=t}static parse(t,a){if(2!==t.length)return a.error(`Expected 1 argument, but found ${t.length-1} instead.`);const m=a.parse(t[1],1);return m?"array"!==m.type.kind&&"string"!==m.type.kind&&"value"!==m.type.kind?a.error(`Expected argument of type string or array, but found ${Me(m.type)} instead.`):new Pa(m):null}evaluate(t){const a=this.input.evaluate(t);if("string"==typeof a||Array.isArray(a))return a.length;throw new Qn(`Expected value to be of type string or array, but found ${Me(Xi(a))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const Fr={"==":ka,"!=":wa,">":Xr,"<":Ca,">=":Jr,"<=":Dl,array:xo,at:is,boolean:xo,case:yn,coalesce:us,collator:js,format:so,image:Hr,in:Fo,"index-of":Kr,interpolate:Ar,"interpolate-hcl":Ar,"interpolate-lab":Ar,length:Pa,let:la,literal:yr,match:hs,number:xo,"number-format":nr,object:xo,slice:ms,step:kn,string:xo,"to-boolean":ra,"to-color":ra,"to-number":ra,"to-string":ra,var:Sr,within:Oo};function Oa(o,[t,a,m,x]){t=t.evaluate(o),a=a.evaluate(o),m=m.evaluate(o);const D=x?x.evaluate(o):1,I=ko(t,a,m,D);if(I)throw new Qn(I);return new fn(t/255,a/255,m/255,D,!1)}function ll(o,t){return o in t}function Ea(o,t){const a=t[o];return void 0===a?null:a}function $s(o){return{type:o}}function Sl(o){return{result:"success",value:o}}function ps(o){return{result:"error",value:o}}function ns(o){return"data-driven"===o["property-type"]||"cross-faded-data-driven"===o["property-type"]}function xc(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Tl(o){return!!o.expression&&o.expression.interpolated}function nn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":null===o?"null":typeof o}function an(o){return"object"==typeof o&&null!==o&&!Array.isArray(o)}function Ln(o){return o}function Il(o,t){const a="color"===t.type,m=o.stops&&"object"==typeof o.stops[0][0],x=m||!(m||void 0!==o.property),D=o.type||(Tl(t)?"exponential":"interval");if(a||"padding"===t.type){const q=a?fn.parse:dr.parse;(o=Zt({},o)).stops&&(o.stops=o.stops.map(J=>[J[0],q(J[1])])),o.default=q(o.default?o.default:t.default)}if(o.colorSpace&&"rgb"!==(I=o.colorSpace)&&"hcl"!==I&&"lab"!==I)throw new Error(`Unknown color space: "${o.colorSpace}"`);var I;let O,L,$;if("exponential"===D)O=K;else if("interval"===D)O=Ga;else if("categorical"===D){O=hr,L=Object.create(null);for(const q of o.stops)L[q[0]]=q[1];$=typeof o.stops[0][0]}else{if("identity"!==D)throw new Error(`Unknown function type "${D}"`);O=W}if(m){const q={},J=[];for(let ye=0;ye<o.stops.length;ye++){const ke=o.stops[ye],He=ke[0].zoom;void 0===q[He]&&(q[He]={zoom:He,type:o.type,property:o.property,default:o.default,stops:[]},J.push(He)),q[He].stops.push([ke[0].value,ke[1]])}const oe=[];for(const ye of J)oe.push([q[ye].zoom,Il(q[ye],t)]);const pe={name:"linear"};return{kind:"composite",interpolationType:pe,interpolationFactor:Ar.interpolationFactor.bind(void 0,pe),zoomStops:oe.map(ye=>ye[0]),evaluate:({zoom:ye},ke)=>K({stops:oe,base:o.base},t,ye).evaluate(ye,ke)}}if(x){const q="exponential"===D?{name:"exponential",base:void 0!==o.base?o.base:1}:null;return{kind:"camera",interpolationType:q,interpolationFactor:Ar.interpolationFactor.bind(void 0,q),zoomStops:o.stops.map(J=>J[0]),evaluate:({zoom:J})=>O(o,t,J,L,$)}}return{kind:"source",evaluate(q,J){const oe=J&&J.properties?J.properties[o.property]:void 0;return void 0===oe?lr(o.default,t.default):O(o,t,oe,L,$)}}}function lr(o,t,a){return void 0!==o?o:void 0!==t?t:void 0!==a?a:void 0}function hr(o,t,a,m,x){return lr(typeof a===x?m[a]:void 0,o.default,t.default)}function Ga(o,t,a){if("number"!==nn(a))return lr(o.default,t.default);const m=o.stops.length;if(1===m||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[m-1][0])return o.stops[m-1][1];const x=Ro(o.stops.map(D=>D[0]),a);return o.stops[x][1]}function K(o,t,a){const m=void 0!==o.base?o.base:1;if("number"!==nn(a))return lr(o.default,t.default);const x=o.stops.length;if(1===x||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[x-1][0])return o.stops[x-1][1];const D=Ro(o.stops.map(q=>q[0]),a),I=function(q,J,oe,pe){const ye=pe-oe,ke=q-oe;return 0===ye?0:1===J?ke/ye:(Math.pow(J,ke)-1)/(Math.pow(J,ye)-1)}(a,m,o.stops[D][0],o.stops[D+1][0]),O=o.stops[D][1],L=o.stops[D+1][1],$=Rr[t.type]||Ln;return"function"==typeof O.evaluate?{evaluate(...q){const J=O.evaluate.apply(void 0,q),oe=L.evaluate.apply(void 0,q);if(void 0!==J&&void 0!==oe)return $(J,oe,I,o.colorSpace)}}:$(O,L,I,o.colorSpace)}function W(o,t,a){switch(t.type){case"color":a=fn.parse(a);break;case"formatted":a=cn.fromString(a.toString());break;case"resolvedImage":a=Bn.fromString(a.toString());break;case"padding":a=dr.parse(a);break;default:nn(a)===t.type||"enum"===t.type&&t.values[a]||(a=void 0)}return lr(a,o.default,t.default)}Or.register(Fr,{error:[{kind:"error"},[Ci],(o,[t])=>{throw new Qn(t.evaluate(o))}],typeof:[Ci,[Ut],(o,[t])=>Me(Xi(t.evaluate(o)))],"to-rgba":[de($t,4),[Qi],(o,[t])=>{const[a,m,x,D]=t.evaluate(o).rgb;return[255*a,255*m,255*x,D]}],rgb:[Qi,[$t,$t,$t],Oa],rgba:[Qi,[$t,$t,$t,$t],Oa],has:{type:Ei,overloads:[[[Ci],(o,[t])=>ll(t.evaluate(o),o.properties())],[[Ci,Pt],(o,[t,a])=>ll(t.evaluate(o),a.evaluate(o))]]},get:{type:Ut,overloads:[[[Ci],(o,[t])=>Ea(t.evaluate(o),o.properties())],[[Ci,Pt],(o,[t,a])=>Ea(t.evaluate(o),a.evaluate(o))]]},"feature-state":[Ut,[Ci],(o,[t])=>Ea(t.evaluate(o),o.featureState||{})],properties:[Pt,[],o=>o.properties()],"geometry-type":[Ci,[],o=>o.geometryType()],id:[Ut,[],o=>o.id()],zoom:[$t,[],o=>o.globals.zoom],"heatmap-density":[$t,[],o=>o.globals.heatmapDensity||0],"line-progress":[$t,[],o=>o.globals.lineProgress||0],accumulated:[Ut,[],o=>void 0===o.globals.accumulated?null:o.globals.accumulated],"+":[$t,$s($t),(o,t)=>{let a=0;for(const m of t)a+=m.evaluate(o);return a}],"*":[$t,$s($t),(o,t)=>{let a=1;for(const m of t)a*=m.evaluate(o);return a}],"-":{type:$t,overloads:[[[$t,$t],(o,[t,a])=>t.evaluate(o)-a.evaluate(o)],[[$t],(o,[t])=>-t.evaluate(o)]]},"/":[$t,[$t,$t],(o,[t,a])=>t.evaluate(o)/a.evaluate(o)],"%":[$t,[$t,$t],(o,[t,a])=>t.evaluate(o)%a.evaluate(o)],ln2:[$t,[],()=>Math.LN2],pi:[$t,[],()=>Math.PI],e:[$t,[],()=>Math.E],"^":[$t,[$t,$t],(o,[t,a])=>Math.pow(t.evaluate(o),a.evaluate(o))],sqrt:[$t,[$t],(o,[t])=>Math.sqrt(t.evaluate(o))],log10:[$t,[$t],(o,[t])=>Math.log(t.evaluate(o))/Math.LN10],ln:[$t,[$t],(o,[t])=>Math.log(t.evaluate(o))],log2:[$t,[$t],(o,[t])=>Math.log(t.evaluate(o))/Math.LN2],sin:[$t,[$t],(o,[t])=>Math.sin(t.evaluate(o))],cos:[$t,[$t],(o,[t])=>Math.cos(t.evaluate(o))],tan:[$t,[$t],(o,[t])=>Math.tan(t.evaluate(o))],asin:[$t,[$t],(o,[t])=>Math.asin(t.evaluate(o))],acos:[$t,[$t],(o,[t])=>Math.acos(t.evaluate(o))],atan:[$t,[$t],(o,[t])=>Math.atan(t.evaluate(o))],min:[$t,$s($t),(o,t)=>Math.min(...t.map(a=>a.evaluate(o)))],max:[$t,$s($t),(o,t)=>Math.max(...t.map(a=>a.evaluate(o)))],abs:[$t,[$t],(o,[t])=>Math.abs(t.evaluate(o))],round:[$t,[$t],(o,[t])=>{const a=t.evaluate(o);return a<0?-Math.round(-a):Math.round(a)}],floor:[$t,[$t],(o,[t])=>Math.floor(t.evaluate(o))],ceil:[$t,[$t],(o,[t])=>Math.ceil(t.evaluate(o))],"filter-==":[Ei,[Ci,Ut],(o,[t,a])=>o.properties()[t.value]===a.value],"filter-id-==":[Ei,[Ut],(o,[t])=>o.id()===t.value],"filter-type-==":[Ei,[Ci],(o,[t])=>o.geometryType()===t.value],"filter-<":[Ei,[Ci,Ut],(o,[t,a])=>{const m=o.properties()[t.value],x=a.value;return typeof m==typeof x&&m<x}],"filter-id-<":[Ei,[Ut],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a<m}],"filter->":[Ei,[Ci,Ut],(o,[t,a])=>{const m=o.properties()[t.value],x=a.value;return typeof m==typeof x&&m>x}],"filter-id->":[Ei,[Ut],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a>m}],"filter-<=":[Ei,[Ci,Ut],(o,[t,a])=>{const m=o.properties()[t.value],x=a.value;return typeof m==typeof x&&m<=x}],"filter-id-<=":[Ei,[Ut],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a<=m}],"filter->=":[Ei,[Ci,Ut],(o,[t,a])=>{const m=o.properties()[t.value],x=a.value;return typeof m==typeof x&&m>=x}],"filter-id->=":[Ei,[Ut],(o,[t])=>{const a=o.id(),m=t.value;return typeof a==typeof m&&a>=m}],"filter-has":[Ei,[Ut],(o,[t])=>t.value in o.properties()],"filter-has-id":[Ei,[],o=>null!==o.id()&&void 0!==o.id()],"filter-type-in":[Ei,[de(Ci)],(o,[t])=>t.value.indexOf(o.geometryType())>=0],"filter-id-in":[Ei,[de(Ut)],(o,[t])=>t.value.indexOf(o.id())>=0],"filter-in-small":[Ei,[Ci,de(Ut)],(o,[t,a])=>a.value.indexOf(o.properties()[t.value])>=0],"filter-in-large":[Ei,[Ci,de(Ut)],(o,[t,a])=>function(m,x,D,I){for(;D<=I;){const O=D+I>>1;if(x[O]===m)return!0;x[O]>m?I=O-1:D=O+1}return!1}(o.properties()[t.value],a.value,0,a.value.length-1)],all:{type:Ei,overloads:[[[Ei,Ei],(o,[t,a])=>t.evaluate(o)&&a.evaluate(o)],[$s(Ei),(o,t)=>{for(const a of t)if(!a.evaluate(o))return!1;return!0}]]},any:{type:Ei,overloads:[[[Ei,Ei],(o,[t,a])=>t.evaluate(o)||a.evaluate(o)],[$s(Ei),(o,t)=>{for(const a of t)if(a.evaluate(o))return!0;return!1}]]},"!":[Ei,[Ei],(o,[t])=>!t.evaluate(o)],"is-supported-script":[Ei,[Ci],(o,[t])=>{const a=o.globals&&o.globals.isSupportedScript;return!a||a(t.evaluate(o))}],upcase:[Ci,[Ci],(o,[t])=>t.evaluate(o).toUpperCase()],downcase:[Ci,[Ci],(o,[t])=>t.evaluate(o).toLowerCase()],concat:[Ci,$s(Ut),(o,t)=>t.map(a=>Uo(a.evaluate(o))).join("")],"resolved-locale":[Ci,[Et],(o,[t])=>t.evaluate(o).resolvedLocale()]});class G{constructor(t,a){var m;this.expression=t,this._warningHistory={},this._evaluator=new El,this._defaultValue=a?"color"===(m=a).type&&an(m.default)?new fn(0,0,0,0):"color"===m.type?fn.parse(m.default)||null:"padding"===m.type?dr.parse(m.default)||null:"variableAnchorOffsetCollection"===m.type?In.parse(m.default)||null:void 0===m.default?null:m.default:null,this._enumValues=a&&"enum"===a.type?a.values:null}evaluateWithoutErrorHandling(t,a,m,x,D,I){return this._evaluator.globals=t,this._evaluator.feature=a,this._evaluator.featureState=m,this._evaluator.canonical=x,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)}evaluate(t,a,m,x,D,I){this._evaluator.globals=t,this._evaluator.feature=a||null,this._evaluator.featureState=m||null,this._evaluator.canonical=x,this._evaluator.availableImages=D||null,this._evaluator.formattedSection=I||null;try{const O=this.expression.evaluate(this._evaluator);if(null==O||"number"==typeof O&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new Qn(`Expected value to be one of ${Object.keys(this._enumValues).map(L=>JSON.stringify(L)).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function xe(o){return Array.isArray(o)&&o.length>0&&"string"==typeof o[0]&&o[0]in Fr}function jt(o,t){const a=new oa(Fr,ar,[],t?function(x){const D={color:Qi,string:Ci,number:$t,enum:Ci,boolean:Ei,formatted:Y,padding:V,resolvedImage:U,variableAnchorOffsetCollection:ie};return"array"===x.type?de(D[x.value]||Ut,x.length):D[x.type]}(t):void 0),m=a.parse(o,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return m?Sl(new G(m,t)):ps(a.errors)}class Ii{constructor(t,a){this.kind=t,this._styleExpression=a,this.isStateDependent="constant"!==t&&!wo(a.expression)}evaluateWithoutErrorHandling(t,a,m,x,D,I){return this._styleExpression.evaluateWithoutErrorHandling(t,a,m,x,D,I)}evaluate(t,a,m,x,D,I){return this._styleExpression.evaluate(t,a,m,x,D,I)}}class $r{constructor(t,a,m,x){this.kind=t,this.zoomStops=m,this._styleExpression=a,this.isStateDependent="camera"!==t&&!wo(a.expression),this.interpolationType=x}evaluateWithoutErrorHandling(t,a,m,x,D,I){return this._styleExpression.evaluateWithoutErrorHandling(t,a,m,x,D,I)}evaluate(t,a,m,x,D,I){return this._styleExpression.evaluate(t,a,m,x,D,I)}interpolationFactor(t,a,m){return this.interpolationType?Ar.interpolationFactor(this.interpolationType,t,a,m):0}}function fo(o,t){const a=jt(o,t);if("error"===a.result)return a;const m=a.value.expression,x=Zo(m);if(!x&&!ns(t))return ps([new ii("","data expressions not supported")]);const D=on(m,["zoom"]);if(!D&&!xc(t))return ps([new ii("","zoom expressions not supported")]);const I=ca(m);return I||D?I instanceof ii?ps([I]):I instanceof Ar&&!Tl(t)?ps([new ii("",'"interpolate" expressions cannot be used with this property')]):Sl(I?new $r(x?"camera":"composite",a.value,I.labels,I instanceof Ar?I.interpolation:void 0):new Ii(x?"constant":"source",a.value)):ps([new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Gs{constructor(t,a){this._parameters=t,this._specification=a,Zt(this,Il(this._parameters,this._specification))}static deserialize(t){return new Gs(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function ca(o){let t=null;if(o instanceof la)t=ca(o.result);else if(o instanceof us){for(const a of o.args)if(t=ca(a),t)break}else(o instanceof kn||o instanceof Ar)&&o.input instanceof Or&&"zoom"===o.input.name&&(t=o);return t instanceof ii||o.eachChild(a=>{const m=ca(a);m instanceof ii?t=m:!t&&m?t=new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&m&&t!==m&&(t=new ii("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Za(o){if(!0===o||!1===o)return!0;if(!Array.isArray(o)||0===o.length)return!1;switch(o[0]){case"has":return o.length>=2&&"$id"!==o[1]&&"$type"!==o[1];case"in":return o.length>=3&&("string"!=typeof o[1]||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==o.length||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const t of o.slice(1))if(!Za(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const wc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Yl(o){if(null==o)return{filter:()=>!0,needGeometry:!1};Za(o)||(o=Cc(o));const t=jt(o,wc);if("error"===t.result)throw new Error(t.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,m,x)=>t.value.evaluate(a,m,{},x),needGeometry:hd(o)}}function Yd(o,t){return o<t?-1:o>t?1:0}function hd(o){if(!Array.isArray(o))return!1;if("within"===o[0])return!0;for(let t=1;t<o.length;t++)if(hd(o[t]))return!0;return!1}function Cc(o){if(!o)return!0;const t=o[0];return o.length<=1?"any"!==t:"=="===t?Wa(o[1],o[2],"=="):"!="===t?Rn(Wa(o[1],o[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Wa(o[1],o[2],t):"any"===t?(a=o.slice(1),["any"].concat(a.map(Cc))):"all"===t?["all"].concat(o.slice(1).map(Cc)):"none"===t?["all"].concat(o.slice(1).map(Cc).map(Rn)):"in"===t?jo(o[1],o.slice(2)):"!in"===t?Rn(jo(o[1],o.slice(2))):"has"===t?kr(o[1]):"!has"===t?Rn(kr(o[1])):"within"!==t||o;var a}function Wa(o,t,a){switch(o){case"$type":return[`filter-type-${a}`,t];case"$id":return[`filter-id-${a}`,t];default:return[`filter-${a}`,o,t]}}function jo(o,t){if(0===t.length)return!1;switch(o){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(a=>typeof a!=typeof t[0])?["filter-in-large",o,["literal",t.sort(Yd)]]:["filter-in-small",o,["literal",t]]}}function kr(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Rn(o){return["!",o]}function cr(o){const t=typeof o;if("number"===t||"boolean"===t||"string"===t||null==o)return JSON.stringify(o);if(Array.isArray(o)){let x="[";for(const D of o)x+=`${cr(D)},`;return`${x}]`}const a=Object.keys(o).sort();let m="{";for(let x=0;x<a.length;x++)m+=`${JSON.stringify(a[x])}:${cr(o[a[x]])},`;return`${m}}`}function md(o){let t="";for(const a of rn)t+=`/${cr(o[a])}`;return t}function Ss(o){const t=o.value;return t?[new Ye(o.key,t,"constants have been deprecated as of v8")]:[]}function mr(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Yn(o){if(Array.isArray(o))return o.map(Yn);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const t={};for(const a in o)t[a]=Yn(o[a]);return t}return mr(o)}function qo(o){const t=o.key,a=o.value,m=o.valueSpec||{},x=o.objectElementValidators||{},D=o.style,I=o.styleSpec,O=o.validateSpec;let L=[];const $=nn(a);if("object"!==$)return[new Ye(t,a,`object expected, ${$} found`)];for(const q in a){const J=q.split(".")[0],oe=m[J]||m["*"];let pe;if(x[J])pe=x[J];else if(m[J])pe=O;else if(x["*"])pe=x["*"];else{if(!m["*"]){L.push(new Ye(t,a[q],`unknown property "${q}"`));continue}pe=O}L=L.concat(pe({key:(t&&`${t}.`)+q,value:a[q],valueSpec:oe,style:D,styleSpec:I,object:a,objectKey:q,validateSpec:O},a))}for(const q in m)x[q]||m[q].required&&void 0===m[q].default&&void 0===a[q]&&L.push(new Ye(t,a,`missing required property "${q}"`));return L}function cl(o){const t=o.value,a=o.valueSpec,m=o.style,x=o.styleSpec,D=o.key,I=o.arrayElementValidator||o.validateSpec;if("array"!==nn(t))return[new Ye(D,t,`array expected, ${nn(t)} found`)];if(a.length&&t.length!==a.length)return[new Ye(D,t,`array length ${a.length} expected, length ${t.length} found`)];if(a["min-length"]&&t.length<a["min-length"])return[new Ye(D,t,`array length at least ${a["min-length"]} expected, length ${t.length} found`)];let O={type:a.value,values:a.values};x.$version<7&&(O.function=a.function),"object"===nn(a.value)&&(O=a.value);let L=[];for(let $=0;$<t.length;$++)L=L.concat(I({array:t,arrayIndex:$,value:t[$],valueSpec:O,validateSpec:o.validateSpec,style:m,styleSpec:x,key:`${D}[${$}]`}));return L}function Ra(o){const t=o.key,a=o.value,m=o.valueSpec;let x=nn(a);return"number"===x&&a!=a&&(x="NaN"),"number"!==x?[new Ye(t,a,`number expected, ${x} found`)]:"minimum"in m&&a<m.minimum?[new Ye(t,a,`${a} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&a>m.maximum?[new Ye(t,a,`${a} is greater than the maximum value ${m.maximum}`)]:[]}function Tr(o){const t=o.valueSpec,a=mr(o.value.type);let m,x,D,I={};const O="categorical"!==a&&void 0===o.value.property,L=!O,$="array"===nn(o.value.stops)&&"array"===nn(o.value.stops[0])&&"object"===nn(o.value.stops[0][0]),q=qo({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(pe){if("identity"===a)return[new Ye(pe.key,pe.value,'identity function may not have a "stops" property')];let ye=[];const ke=pe.value;return ye=ye.concat(cl({key:pe.key,value:ke,valueSpec:pe.valueSpec,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,arrayElementValidator:J})),"array"===nn(ke)&&0===ke.length&&ye.push(new Ye(pe.key,ke,"array must have at least one stop")),ye},default:function(pe){return pe.validateSpec({key:pe.key,value:pe.value,valueSpec:t,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec})}}});return"identity"===a&&O&&q.push(new Ye(o.key,o.value,'missing required property "property"')),"identity"===a||o.value.stops||q.push(new Ye(o.key,o.value,'missing required property "stops"')),"exponential"===a&&o.valueSpec.expression&&!Tl(o.valueSpec)&&q.push(new Ye(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(L&&!ns(o.valueSpec)?q.push(new Ye(o.key,o.value,"property functions not supported")):O&&!xc(o.valueSpec)&&q.push(new Ye(o.key,o.value,"zoom functions not supported"))),"categorical"!==a&&!$||void 0!==o.value.property||q.push(new Ye(o.key,o.value,'"property" property is required')),q;function J(pe){let ye=[];const ke=pe.value,He=pe.key;if("array"!==nn(ke))return[new Ye(He,ke,`array expected, ${nn(ke)} found`)];if(2!==ke.length)return[new Ye(He,ke,`array length 2 expected, length ${ke.length} found`)];if($){if("object"!==nn(ke[0]))return[new Ye(He,ke,`object expected, ${nn(ke[0])} found`)];if(void 0===ke[0].zoom)return[new Ye(He,ke,"object stop key must have zoom")];if(void 0===ke[0].value)return[new Ye(He,ke,"object stop key must have value")];if(D&&D>mr(ke[0].zoom))return[new Ye(He,ke[0].zoom,"stop zoom values must appear in ascending order")];mr(ke[0].zoom)!==D&&(D=mr(ke[0].zoom),x=void 0,I={}),ye=ye.concat(qo({key:`${He}[0]`,value:ke[0],valueSpec:{zoom:{}},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,objectElementValidators:{zoom:Ra,value:oe}}))}else ye=ye.concat(oe({key:`${He}[0]`,value:ke[0],valueSpec:{},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec},ke));return xe(Yn(ke[1]))?ye.concat([new Ye(`${He}[1]`,ke[1],"expressions are not allowed in function stops.")]):ye.concat(pe.validateSpec({key:`${He}[1]`,value:ke[1],valueSpec:t,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec}))}function oe(pe,ye){const ke=nn(pe.value),He=mr(pe.value),Je=null!==pe.value?pe.value:ye;if(m){if(ke!==m)return[new Ye(pe.key,Je,`${ke} stop domain type must match previous stop domain type ${m}`)]}else m=ke;if("number"!==ke&&"string"!==ke&&"boolean"!==ke)return[new Ye(pe.key,Je,"stop domain value must be a number, string, or boolean")];if("number"!==ke&&"categorical"!==a){let mt=`number expected, ${ke} found`;return ns(t)&&void 0===a&&(mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ye(pe.key,Je,mt)]}return"categorical"!==a||"number"!==ke||isFinite(He)&&Math.floor(He)===He?"categorical"!==a&&"number"===ke&&void 0!==x&&He<x?[new Ye(pe.key,Je,"stop domain values must appear in ascending order")]:(x=He,"categorical"===a&&He in I?[new Ye(pe.key,Je,"stop domain values must be unique")]:(I[He]=!0,[])):[new Ye(pe.key,Je,`integer expected, found ${He}`)]}}function Lo(o){const t=("property"===o.expressionContext?fo:jt)(Yn(o.value),o.valueSpec);if("error"===t.result)return t.value.map(m=>new Ye(`${o.key}${m.key}`,o.value,m.message));const a=t.value.expression||t.value._styleExpression.expression;if("property"===o.expressionContext&&"text-font"===o.propertyKey&&!a.outputDefined())return[new Ye(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===o.expressionContext&&"layout"===o.propertyType&&!wo(a))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===o.expressionContext&&!wo(a))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&0===o.expressionContext.indexOf("cluster")){if(!on(a,["zoom","feature-state"]))return[new Ye(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===o.expressionContext&&!Zo(a))return[new Ye(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ir(o){const t=o.key,a=o.value,m=o.valueSpec,x=[];return Array.isArray(m.values)?-1===m.values.indexOf(mr(a))&&x.push(new Ye(t,a,`expected one of [${m.values.join(", ")}], ${JSON.stringify(a)} found`)):-1===Object.keys(m.values).indexOf(mr(a))&&x.push(new Ye(t,a,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(a)} found`)),x}function Al(o){return Za(Yn(o.value))?Lo(Zt({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):fs(o)}function fs(o){const t=o.value,a=o.key;if("array"!==nn(t))return[new Ye(a,t,`array expected, ${nn(t)} found`)];const m=o.styleSpec;let x,D=[];if(t.length<1)return[new Ye(a,t,"filter array must have at least 1 element")];switch(D=D.concat(Ir({key:`${a}[0]`,value:t[0],valueSpec:m.filter_operator,style:o.style,styleSpec:o.styleSpec})),mr(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===mr(t[1])&&D.push(new Ye(a,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&D.push(new Ye(a,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(x=nn(t[1]),"string"!==x&&D.push(new Ye(`${a}[1]`,t[1],`string expected, ${x} found`)));for(let I=2;I<t.length;I++)x=nn(t[I]),"$type"===mr(t[1])?D=D.concat(Ir({key:`${a}[${I}]`,value:t[I],valueSpec:m.geometry_type,style:o.style,styleSpec:o.styleSpec})):"string"!==x&&"number"!==x&&"boolean"!==x&&D.push(new Ye(`${a}[${I}]`,t[I],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let I=1;I<t.length;I++)D=D.concat(fs({key:`${a}[${I}]`,value:t[I],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":x=nn(t[1]),2!==t.length?D.push(new Ye(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==x&&D.push(new Ye(`${a}[1]`,t[1],`string expected, ${x} found`));break;case"within":x=nn(t[1]),2!==t.length?D.push(new Ye(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==x&&D.push(new Ye(`${a}[1]`,t[1],`object expected, ${x} found`))}return D}function Qr(o,t){const a=o.key,m=o.validateSpec,x=o.style,D=o.styleSpec,I=o.value,O=o.objectKey,L=D[`${t}_${o.layerType}`];if(!L)return[];const $=O.match(/^(.*)-transition$/);if("paint"===t&&$&&L[$[1]]&&L[$[1]].transition)return m({key:a,value:I,valueSpec:D.transition,style:x,styleSpec:D});const q=o.valueSpec||L[O];if(!q)return[new Ye(a,I,`unknown property "${O}"`)];let J;if("string"===nn(I)&&ns(q)&&!q.tokens&&(J=/^{([^}]+)}$/.exec(I)))return[new Ye(a,I,`"${O}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(J[1])} }\`.`)];const oe=[];return"symbol"===o.layerType&&("text-field"===O&&x&&!x.glyphs&&oe.push(new Ye(a,I,'use of "text-field" requires a style "glyphs" property')),"text-font"===O&&an(Yn(I))&&"identity"===mr(I.type)&&oe.push(new Ye(a,I,'"text-font" does not support identity functions'))),oe.concat(m({key:o.key,value:I,valueSpec:q,style:x,styleSpec:D,expressionContext:"property",propertyType:t,propertyKey:O}))}function kl(o){return Qr(o,"paint")}function Kl(o){return Qr(o,"layout")}function Yo(o){let t=[];const a=o.value,m=o.key,x=o.style,D=o.styleSpec;a.type||a.ref||t.push(new Ye(m,a,'either "type" or "ref" is required'));let I=mr(a.type);const O=mr(a.ref);if(a.id){const L=mr(a.id);for(let $=0;$<o.arrayIndex;$++){const q=x.layers[$];mr(q.id)===L&&t.push(new Ye(m,a.id,`duplicate layer id "${a.id}", previously used at line ${q.id.__line__}`))}}if("ref"in a){let L;["type","source","source-layer","filter","layout"].forEach($=>{$ in a&&t.push(new Ye(m,a[$],`"${$}" is prohibited for ref layers`))}),x.layers.forEach($=>{mr($.id)===O&&(L=$)}),L?L.ref?t.push(new Ye(m,a.ref,"ref cannot reference another ref layer")):I=mr(L.type):t.push(new Ye(m,a.ref,`ref layer "${O}" not found`))}else if("background"!==I)if(a.source){const L=x.sources&&x.sources[a.source],$=L&&mr(L.type);L?"vector"===$&&"raster"===I?t.push(new Ye(m,a.source,`layer "${a.id}" requires a raster source`)):"raster-dem"!==$&&"hillshade"===I?t.push(new Ye(m,a.source,`layer "${a.id}" requires a raster-dem source`)):"raster"===$&&"raster"!==I?t.push(new Ye(m,a.source,`layer "${a.id}" requires a vector source`)):"vector"!==$||a["source-layer"]?"raster-dem"===$&&"hillshade"!==I?t.push(new Ye(m,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==I||!a.paint||!a.paint["line-gradient"]||"geojson"===$&&L.lineMetrics||t.push(new Ye(m,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Ye(m,a,`layer "${a.id}" must specify a "source-layer"`)):t.push(new Ye(m,a.source,`source "${a.source}" not found`))}else t.push(new Ye(m,a,'missing required property "source"'));return t=t.concat(qo({key:m,value:a,valueSpec:D.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${m}.type`,value:a.type,valueSpec:D.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:a,objectKey:"type"}),filter:Al,layout:L=>qo({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":$=>Kl(Zt({layerType:I},$))}}),paint:L=>qo({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":$=>kl(Zt({layerType:I},$))}})}})),t}function rs(o){const t=o.value,a=o.key,m=nn(t);return"string"!==m?[new Ye(a,t,`string expected, ${m} found`)]:[]}const Ko={promoteId:function({key:o,value:t}){if("string"===nn(t))return rs({key:o,value:t});{const a=[];for(const m in t)a.push(...rs({key:`${o}.${m}`,value:t[m]}));return a}}};function Ts(o){const t=o.value,a=o.key,m=o.styleSpec,x=o.style,D=o.validateSpec;if(!t.type)return[new Ye(a,t,'"type" is required')];const I=mr(t.type);let O;switch(I){case"vector":case"raster":return O=qo({key:a,value:t,valueSpec:m[`source_${I.replace("-","_")}`],style:o.style,styleSpec:m,objectElementValidators:Ko,validateSpec:D}),O;case"raster-dem":return O=function(L){var $;const q=null!==($=L.sourceName)&&void 0!==$?$:"",J=L.value,oe=L.styleSpec,pe=oe.source_raster_dem,ye=L.style;let ke=[];const He=nn(J);if(void 0===J)return ke;if("object"!==He)return ke.push(new Ye("source_raster_dem",J,`object expected, ${He} found`)),ke;const Je="custom"===mr(J.encoding),mt=["redFactor","greenFactor","blueFactor","baseShift"],at=L.value.encoding?`"${L.value.encoding}"`:"Default";for(const yt in J)!Je&&mt.includes(yt)?ke.push(new Ye(yt,J[yt],`In "${q}": "${yt}" is only valid when "encoding" is set to "custom". ${at} encoding found`)):pe[yt]?ke=ke.concat(L.validateSpec({key:yt,value:J[yt],valueSpec:pe[yt],validateSpec:L.validateSpec,style:ye,styleSpec:oe})):ke.push(new Ye(yt,J[yt],`unknown property "${yt}"`));return ke}({sourceName:a,value:t,style:o.style,styleSpec:m,validateSpec:D}),O;case"geojson":if(O=qo({key:a,value:t,valueSpec:m.source_geojson,style:x,styleSpec:m,validateSpec:D,objectElementValidators:Ko}),t.cluster)for(const L in t.clusterProperties){const[$,q]=t.clusterProperties[L],J="string"==typeof $?[$,["accumulated"],["get",L]]:$;O.push(...Lo({key:`${a}.${L}.map`,value:q,validateSpec:D,expressionContext:"cluster-map"})),O.push(...Lo({key:`${a}.${L}.reduce`,value:J,validateSpec:D,expressionContext:"cluster-reduce"}))}return O;case"video":return qo({key:a,value:t,valueSpec:m.source_video,style:x,validateSpec:D,styleSpec:m});case"image":return qo({key:a,value:t,valueSpec:m.source_image,style:x,validateSpec:D,styleSpec:m});case"canvas":return[new Ye(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ir({key:`${a}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:D,styleSpec:m})}}function dl(o){const t=o.value,a=o.styleSpec,m=a.light,x=o.style;let D=[];const I=nn(t);if(void 0===t)return D;if("object"!==I)return D=D.concat([new Ye("light",t,`object expected, ${I} found`)]),D;for(const O in t){const L=O.match(/^(.*)-transition$/);D=D.concat(L&&m[L[1]]&&m[L[1]].transition?o.validateSpec({key:O,value:t[O],valueSpec:a.transition,validateSpec:o.validateSpec,style:x,styleSpec:a}):m[O]?o.validateSpec({key:O,value:t[O],valueSpec:m[O],validateSpec:o.validateSpec,style:x,styleSpec:a}):[new Ye(O,t[O],`unknown property "${O}"`)])}return D}function eo(o){const t=o.value,a=o.styleSpec,m=a.terrain,x=o.style;let D=[];const I=nn(t);if(void 0===t)return D;if("object"!==I)return D=D.concat([new Ye("terrain",t,`object expected, ${I} found`)]),D;for(const O in t)D=D.concat(m[O]?o.validateSpec({key:O,value:t[O],valueSpec:m[O],validateSpec:o.validateSpec,style:x,styleSpec:a}):[new Ye(O,t[O],`unknown property "${O}"`)]);return D}function ul(o){let t=[];const a=o.value,m=o.key;if(Array.isArray(a)){const x=[],D=[];for(const I in a)a[I].id&&x.includes(a[I].id)&&t.push(new Ye(m,a,`all the sprites' ids must be unique, but ${a[I].id} is duplicated`)),x.push(a[I].id),a[I].url&&D.includes(a[I].url)&&t.push(new Ye(m,a,`all the sprites' URLs must be unique, but ${a[I].url} is duplicated`)),D.push(a[I].url),t=t.concat(qo({key:`${m}[${I}]`,value:a[I],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return t}return rs({key:m,value:a})}const qa={"*":()=>[],array:cl,boolean:function(o){const t=o.value,a=o.key,m=nn(t);return"boolean"!==m?[new Ye(a,t,`boolean expected, ${m} found`)]:[]},number:Ra,color:function(o){const t=o.key,a=o.value,m=nn(a);return"string"!==m?[new Ye(t,a,`color expected, ${m} found`)]:fn.parse(String(a))?[]:[new Ye(t,a,`color expected, "${a}" found`)]},constants:Ss,enum:Ir,filter:Al,function:Tr,layer:Yo,object:qo,source:Ts,light:dl,terrain:eo,string:rs,formatted:function(o){return 0===rs(o).length?[]:Lo(o)},resolvedImage:function(o){return 0===rs(o).length?[]:Lo(o)},padding:function(o){const t=o.key,a=o.value;if("array"===nn(a)){if(a.length<1||a.length>4)return[new Ye(t,a,`padding requires 1 to 4 values; ${a.length} values found`)];const m={type:"number"};let x=[];for(let D=0;D<a.length;D++)x=x.concat(o.validateSpec({key:`${t}[${D}]`,value:a[D],validateSpec:o.validateSpec,valueSpec:m}));return x}return Ra({key:t,value:a,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const t=o.key,a=o.value,m=nn(a),x=o.styleSpec;if("array"!==m||a.length<1||a.length%2!=0)return[new Ye(t,a,"variableAnchorOffsetCollection requires a non-empty array of even length")];let D=[];for(let I=0;I<a.length;I+=2)D=D.concat(Ir({key:`${t}[${I}]`,value:a[I],valueSpec:x.layout_symbol["text-anchor"]})),D=D.concat(cl({key:`${t}[${I+1}]`,value:a[I+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:x}));return D},sprite:ul};function Xl(o){const t=o.value,a=o.valueSpec,m=o.styleSpec;return o.validateSpec=Xl,a.expression&&an(mr(t))?Tr(o):a.expression&&xe(Yn(t))?Lo(o):a.type&&qa[a.type]?qa[a.type](o):qo(Zt({},o,{valueSpec:a.type?m[a.type]:a}))}function Pl(o){const t=o.value,a=o.key,m=rs(o);return m.length||(-1===t.indexOf("{fontstack}")&&m.push(new Ye(a,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&m.push(new Ye(a,t,'"glyphs" url must include a "{range}" token'))),m}function da(o,t=bt){let a=[];return a=a.concat(Xl({key:"",value:o,valueSpec:t.$root,styleSpec:t,style:o,validateSpec:Xl,objectElementValidators:{glyphs:Pl,"*":()=>[]}})),o.constants&&(a=a.concat(Ss({key:"constants",value:o.constants,style:o,styleSpec:t,validateSpec:Xl}))),qc(a)}function to(o){return function(t){return o({...t,validateSpec:Xl})}}function qc(o){return[].concat(o).sort((t,a)=>t.line-a.line)}function Xo(o){return function(...t){return qc(o.apply(this,t))}}da.source=Xo(to(Ts)),da.sprite=Xo(to(ul)),da.glyphs=Xo(to(Pl)),da.light=Xo(to(dl)),da.terrain=Xo(to(eo)),da.layer=Xo(to(Yo)),da.filter=Xo(to(Al)),da.paintProperty=Xo(to(kl)),da.layoutProperty=Xo(to(Kl));const er=da,No=er.light,F=er.paintProperty,ee=er.layoutProperty;function Z(o,t){let a=!1;if(t&&t.length)for(const m of t)o.fire(new Tt(new Error(m.message))),a=!0;return a}class me{constructor(t,a,m){const x=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const I=new Int32Array(this.arrayBuffer);t=I[0],this.d=(a=I[1])+2*(m=I[2]);for(let L=0;L<this.d*this.d;L++){const $=I[3+L],q=I[3+L+1];x.push($===q?null:I.subarray($,q))}const O=I[3+x.length+1];this.keys=I.subarray(I[3+x.length],O),this.bboxes=I.subarray(O),this.insert=this._insertReadonly}else{this.d=a+2*m;for(let I=0;I<this.d*this.d;I++)x.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=t,this.padding=m,this.scale=a/t,this.uid=0;const D=m/a*t;this.min=-D,this.max=t+D}insert(t,a,m,x,D){this._forEachCell(a,m,x,D,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(a),this.bboxes.push(m),this.bboxes.push(x),this.bboxes.push(D)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,a,m,x,D,I){this.cells[D].push(I)}query(t,a,m,x,D){const I=this.min,O=this.max;if(t<=I&&a<=I&&O<=m&&O<=x&&!D)return Array.prototype.slice.call(this.keys);{const L=[];return this._forEachCell(t,a,m,x,this._queryCell,L,{},D),L}}_queryCell(t,a,m,x,D,I,O,L){const $=this.cells[D];if(null!==$){const q=this.keys,J=this.bboxes;for(let oe=0;oe<$.length;oe++){const pe=$[oe];if(void 0===O[pe]){const ye=4*pe;(L?L(J[ye+0],J[ye+1],J[ye+2],J[ye+3]):t<=J[ye+2]&&a<=J[ye+3]&&m>=J[ye+0]&&x>=J[ye+1])?(O[pe]=!0,I.push(q[pe])):O[pe]=!1}}}}_forEachCell(t,a,m,x,D,I,O,L){const $=this._convertToCellCoord(t),q=this._convertToCellCoord(a),J=this._convertToCellCoord(m),oe=this._convertToCellCoord(x);for(let pe=$;pe<=J;pe++)for(let ye=q;ye<=oe;ye++){const ke=this.d*ye+pe;if((!L||L(this._convertFromCellCoord(pe),this._convertFromCellCoord(ye),this._convertFromCellCoord(pe+1),this._convertFromCellCoord(ye+1)))&&D.call(this,t,a,m,x,ke,I,O,L))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,a=3+this.cells.length+1+1;let m=0;for(let I=0;I<this.cells.length;I++)m+=this.cells[I].length;const x=new Int32Array(a+m+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let D=a;for(let I=0;I<t.length;I++){const O=t[I];x[3+I]=D,x.set(O,D),D+=O.length}return x[3+t.length]=D,x.set(this.keys,D),D+=this.keys.length,x[3+t.length+1]=D,x.set(this.bboxes,D),D+=this.bboxes.length,x.buffer}static serialize(t,a){const m=t.toArrayBuffer();return a&&a.push(m),{buffer:m}}static deserialize(t){return new me(t.buffer)}}const Ue={};function it(o,t,a={}){if(Ue[o])throw new Error(`${o} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:o,writeable:!1}),Ue[o]={klass:t,omit:a.omit||[],shallow:a.shallow||[]}}it("Object",Object),it("TransferableGridIndex",me),it("Color",fn),it("Error",Error),it("AJAXError",si),it("ResolvedImage",Bn),it("StylePropertyFunction",Gs),it("StyleExpression",G,{omit:["_evaluator"]}),it("ZoomDependentExpression",$r),it("ZoomConstantExpression",Ii),it("CompoundExpression",Or,{omit:["_evaluate"]});for(const o in Fr)Fr[o]._classRegistryKey||it(`Expression_${o}`,Fr[o]);function Wt(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function Vi(o,t){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(Wt(o)||vn(o))return t&&t.push(o),o;if(ArrayBuffer.isView(o)){const a=o;return t&&t.push(a.buffer),a}if(o instanceof ImageData)return t&&t.push(o.data.buffer),o;if(Array.isArray(o)){const a=[];for(const m of o)a.push(Vi(m,t));return a}if("object"==typeof o){const a=o.constructor,m=a._classRegistryKey;if(!m)throw new Error("can't serialize object of unregistered class");if(!Ue[m])throw new Error(`${m} is not registered.`);const x=a.serialize?a.serialize(o,t):{};if(a.serialize){if(t&&x===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const D in o){if(!o.hasOwnProperty(D)||Ue[m].omit.indexOf(D)>=0)continue;const I=o[D];x[D]=Ue[m].shallow.indexOf(D)>=0?I:Vi(I,t)}o instanceof Error&&(x.message=o.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==m&&(x.$name=m),x}throw new Error("can't serialize object of type "+typeof o)}function Kn(o){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||Wt(o)||vn(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(Kn);if("object"==typeof o){const t=o.$name||"Object";if(!Ue[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:a}=Ue[t];if(!a)throw new Error(`can't deserialize unregistered class ${t}`);if(a.deserialize)return a.deserialize(o);const m=Object.create(a.prototype);for(const x of Object.keys(o)){if("$name"===x)continue;const D=o[x];m[x]=Ue[t].shallow.indexOf(x)>=0?D:Kn(D)}return m}throw new Error("can't deserialize object of type "+typeof o)}class Vn{constructor(){this.first=!0}update(t,a){const m=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=a),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=m,!0))}}const Qt={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function Dn(o){for(const t of o)if(Nr(t.charCodeAt(0)))return!0;return!1}function Lr(o){for(const t of o)if(!Jn(t.charCodeAt(0)))return!1;return!0}function Jn(o){return!(Qt.Arabic(o)||Qt["Arabic Supplement"](o)||Qt["Arabic Extended-A"](o)||Qt["Arabic Presentation Forms-A"](o)||Qt["Arabic Presentation Forms-B"](o))}function Nr(o){return!(746!==o&&747!==o&&(o<4352||!(Qt["Bopomofo Extended"](o)||Qt.Bopomofo(o)||Qt["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||Qt["CJK Compatibility Ideographs"](o)||Qt["CJK Compatibility"](o)||Qt["CJK Radicals Supplement"](o)||Qt["CJK Strokes"](o)||!(!Qt["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||12336===o)||Qt["CJK Unified Ideographs Extension A"](o)||Qt["CJK Unified Ideographs"](o)||Qt["Enclosed CJK Letters and Months"](o)||Qt["Hangul Compatibility Jamo"](o)||Qt["Hangul Jamo Extended-A"](o)||Qt["Hangul Jamo Extended-B"](o)||Qt["Hangul Jamo"](o)||Qt["Hangul Syllables"](o)||Qt.Hiragana(o)||Qt["Ideographic Description Characters"](o)||Qt.Kanbun(o)||Qt["Kangxi Radicals"](o)||Qt["Katakana Phonetic Extensions"](o)||Qt.Katakana(o)&&12540!==o||!(!Qt["Halfwidth and Fullwidth Forms"](o)||65288===o||65289===o||65293===o||o>=65306&&o<=65310||65339===o||65341===o||65343===o||o>=65371&&o<=65503||65507===o||o>=65512&&o<=65519)||!(!Qt["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||Qt["Unified Canadian Aboriginal Syllabics"](o)||Qt["Unified Canadian Aboriginal Syllabics Extended"](o)||Qt["Vertical Forms"](o)||Qt["Yijing Hexagram Symbols"](o)||Qt["Yi Syllables"](o)||Qt["Yi Radicals"](o))))}function ua(o){return!(Nr(o)||(t=o,Qt["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Qt["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Qt["Letterlike Symbols"](t)||Qt["Number Forms"](t)||Qt["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Qt["Control Pictures"](t)&&9251!==t||Qt["Optical Character Recognition"](t)||Qt["Enclosed Alphanumerics"](t)||Qt["Geometric Shapes"](t)||Qt["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Qt["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Qt["CJK Symbols and Punctuation"](t)||Qt.Katakana(t)||Qt["Private Use Area"](t)||Qt["CJK Compatibility Forms"](t)||Qt["Small Form Variants"](t)||Qt["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function Ji(o){return o>=1424&&o<=2303||Qt["Arabic Presentation Forms-A"](o)||Qt["Arabic Presentation Forms-B"](o)}function ha(o,t){return!(!t&&Ji(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||Qt.Khmer(o))}function Zs(o){for(const t of o)if(Ji(t.charCodeAt(0)))return!0;return!1}const zr="deferred",ma="loading",Is="loaded";let gn=null,go="unavailable",Ws=null;const pd=function(o){o&&"string"==typeof o&&o.indexOf("NetworkError")>-1&&(go="error"),gn&&gn(o)};function Ec(){Yc.fire(new ot("pluginStateChange",{pluginStatus:go,pluginURL:Ws}))}const Yc=new bi,gs=function(){return go},oi=function(){if(go!==zr||!Ws)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");go=ma,Ec(),Ws&&ft({url:Ws},o=>{o?pd(o):(go=Is,Ec())})},ln={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>go===Is||null!=ln.applyArabicShaping,isLoading:()=>go===ma,setState(o){if(!Bi())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");go=o.pluginStatus,Ws=o.pluginURL},isParsed(){if(!Bi())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=ln.applyArabicShaping&&null!=ln.processBidirectionalText&&null!=ln.processStyledBidirectionalText},getPluginURL(){if(!Bi())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ws}};class pr{constructor(t,a){this.zoom=t,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vn,this.transition={})}isSupportedScript(t){return function(a,m){for(const x of a)if(!ha(x.charCodeAt(0),m))return!1;return!0}(t,ln.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,a=t-Math.floor(t),m=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*a}}}class As{constructor(t,a){this.property=t,this.value=a,this.expression=function(m,x){if(an(m))return new Gs(m,x);if(xe(m)){const D=fo(m,x);if("error"===D.result)throw new Error(D.value.map(I=>`${I.key}: ${I.message}`).join(", "));return D.value}{let D=m;return"color"===x.type&&"string"==typeof m?D=fn.parse(m):"padding"!==x.type||"number"!=typeof m&&!Array.isArray(m)?"variableAnchorOffsetCollection"===x.type&&Array.isArray(m)&&(D=In.parse(m)):D=dr.parse(m),{kind:"constant",evaluate:()=>D}}}(void 0===a?t.specification.default:a,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,a,m){return this.property.possiblyEvaluate(this,t,a,m)}}class Co{constructor(t){this.property=t,this.value=new As(t,void 0)}transitioned(t,a){return new Jl(this.property,this.value,a,Oe({},t.transition,this.transition),t.now)}untransitioned(){return new Jl(this.property,this.value,null,{},0)}}class Ol{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Ot(this._values[t].value.value)}setValue(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Co(this._values[t].property)),this._values[t].value=new As(this._values[t].property,null===a?void 0:Ot(a))}getTransition(t){return Ot(this._values[t].transition)}setTransition(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Co(this._values[t].property)),this._values[t].transition=Ot(a)||void 0}serialize(){const t={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(t[a]=m);const x=this.getTransition(a);void 0!==x&&(t[`${a}-transition`]=x)}return t}transitioned(t,a){const m=new Ma(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].transitioned(t,a._values[x]);return m}untransitioned(){const t=new Ma(this._properties);for(const a of Object.keys(this._values))t._values[a]=this._values[a].untransitioned();return t}}class Jl{constructor(t,a,m,x,D){this.property=t,this.value=a,this.begin=D+x.delay||0,this.end=this.begin+x.duration||0,t.specification.transition&&(x.delay||x.duration)&&(this.prior=m)}possiblyEvaluate(t,a,m){const x=t.now||0,D=this.value.possiblyEvaluate(t,a,m),I=this.prior;if(I){if(x>this.end)return this.prior=null,D;if(this.value.isDataDriven())return this.prior=null,D;if(x<this.begin)return I.possiblyEvaluate(t,a,m);{const O=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(t,a,m),D,function(L){if(L<=0)return 0;if(L>=1)return 1;const $=L*L,q=$*L;return 4*(L<.5?q:3*(L-$)+q-.75)}(O))}}return D}}class Ma{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,a,m){const x=new Rl(this._properties);for(const D of Object.keys(this._values))x._values[D]=this._values[D].possiblyEvaluate(t,a,m);return x}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Fa{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return void 0!==this._values[t].value}getValue(t){return Ot(this._values[t].value)}setValue(t,a){this._values[t]=new As(this._values[t].property,null===a?void 0:Ot(a))}serialize(){const t={};for(const a of Object.keys(this._values)){const m=this.getValue(a);void 0!==m&&(t[a]=m)}return t}possiblyEvaluate(t,a,m){const x=new Rl(this._properties);for(const D of Object.keys(this._values))x._values[D]=this._values[D].possiblyEvaluate(t,a,m);return x}}class ks{constructor(t,a,m){this.property=t,this.value=a,this.parameters=m}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,a,m,x){return this.property.evaluate(this.value,this.parameters,t,a,m,x)}}class Rl{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class qi{constructor(t){this.specification=t}possiblyEvaluate(t,a){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(a)}interpolate(t,a,m){const x=Rr[this.specification.type];return x?x(t,a,m):t}}class en{constructor(t,a){this.specification=t,this.overrides=a}possiblyEvaluate(t,a,m,x){return new ks(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(a,null,{},m,x)}:t.expression,a)}interpolate(t,a,m){if("constant"!==t.value.kind||"constant"!==a.value.kind)return t;if(void 0===t.value.value||void 0===a.value.value)return new ks(this,{kind:"constant",value:void 0},t.parameters);const x=Rr[this.specification.type];if(x){const D=x(t.value.value,a.value.value,m);return new ks(this,{kind:"constant",value:D},t.parameters)}return t}evaluate(t,a,m,x,D,I){return"constant"===t.kind?t.value:t.evaluate(a,m,x,D,I)}}class Ho extends en{possiblyEvaluate(t,a,m,x){if(void 0===t.value)return new ks(this,{kind:"constant",value:void 0},a);if("constant"===t.expression.kind){const D=t.expression.evaluate(a,null,{},m,x),I="resolvedImage"===t.property.specification.type&&"string"!=typeof D?D.name:D,O=this._calculate(I,I,I,a);return new ks(this,{kind:"constant",value:O},a)}if("camera"===t.expression.kind){const D=this._calculate(t.expression.evaluate({zoom:a.zoom-1}),t.expression.evaluate({zoom:a.zoom}),t.expression.evaluate({zoom:a.zoom+1}),a);return new ks(this,{kind:"constant",value:D},a)}return new ks(this,t.expression,a)}evaluate(t,a,m,x,D,I){if("source"===t.kind){const O=t.evaluate(a,m,x,D,I);return this._calculate(O,O,O,a)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(a.zoom)-1},m,x),t.evaluate({zoom:Math.floor(a.zoom)},m,x),t.evaluate({zoom:Math.floor(a.zoom)+1},m,x),a):t.value}_calculate(t,a,m,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:m,to:a}}interpolate(t){return t}}class Ps{constructor(t){this.specification=t}possiblyEvaluate(t,a,m,x){if(void 0!==t.value){if("constant"===t.expression.kind){const D=t.expression.evaluate(a,null,{},m,x);return this._calculate(D,D,D,a)}return this._calculate(t.expression.evaluate(new pr(Math.floor(a.zoom-1),a)),t.expression.evaluate(new pr(Math.floor(a.zoom),a)),t.expression.evaluate(new pr(Math.floor(a.zoom+1),a)),a)}}_calculate(t,a,m,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:m,to:a}}interpolate(t){return t}}class pa{constructor(t){this.specification=t}possiblyEvaluate(t,a,m,x){return!!t.expression.evaluate(a,null,{},m,x)}interpolate(){return!1}}class Br{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in t){const m=t[a];m.specification.overridable&&this.overridableProperties.push(a);const x=this.defaultPropertyValues[a]=new As(m,void 0),D=this.defaultTransitionablePropertyValues[a]=new Co(m);this.defaultTransitioningPropertyValues[a]=D.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=x.possiblyEvaluate({})}}}it("DataDrivenProperty",en),it("DataConstantProperty",qi),it("CrossFadedDataDrivenProperty",Ho),it("CrossFadedProperty",Ps),it("ColorRampProperty",pa);const fa="-transition";class os extends bi{constructor(t,a){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),a.layout&&(this._unevaluatedLayout=new Fa(a.layout)),a.paint)){this._transitionablePaint=new Ol(a.paint);for(const m in t.paint)this.setPaintProperty(m,t.paint[m],{validate:!1});for(const m in t.layout)this.setLayoutProperty(m,t.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Rl(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,a,m={}){null!=a&&this._validate(ee,`layers.${this.id}.layout.${t}`,t,a,m)||("visibility"!==t?this._unevaluatedLayout.setValue(t,a):this.visibility=a)}getPaintProperty(t){return t.endsWith(fa)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,a,m={}){if(null!=a&&this._validate(F,`layers.${this.id}.paint.${t}`,t,a,m))return!1;if(t.endsWith(fa))return this._transitionablePaint.setTransition(t.slice(0,-11),a||void 0),!1;{const x=this._transitionablePaint._values[t],D="cross-faded-data-driven"===x.property.specification["property-type"],I=x.value.isDataDriven(),O=x.value;this._transitionablePaint.setValue(t,a),this._handleSpecialPaintPropertyUpdate(t);const L=this._transitionablePaint._values[t].value;return L.isDataDriven()||I||D||this._handleOverridablePaintPropertyUpdate(t,O,L)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,a,m){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,a){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,a)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),Ft(t,(a,m)=>!(void 0===a||"layout"===m&&!Object.keys(a).length||"paint"===m&&!Object.keys(a).length))}_validate(t,a,m,x,D={}){return(!D||!1!==D.validate)&&Z(this,t.call(er,{key:a,layerType:this.type,objectKey:m,value:x,styleSpec:bt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const a=this.paint.get(t);if(a instanceof ks&&ns(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1}}const Mc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Dc{constructor(t,a){this._structArray=t,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,a){return t._trim(),a&&(t.isTransferred=!0,a.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const a=Object.create(this.prototype);return a.arrayBuffer=t.arrayBuffer,a.length=t.length,a.capacity=t.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function wr(o,t=1){let a=0,m=0;return{members:o.map(x=>{const D=Mc[x.type].BYTES_PER_ELEMENT,I=a=Sc(a,Math.max(t,D)),O=x.components||1;return m=Math.max(m,D),a+=D*O,{name:x.name,type:x.type,components:O,offset:I}}),size:Sc(a,Math.max(m,t)),alignment:t}}function Sc(o,t){return Math.ceil(o/t)*t}class Ya extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const x=2*t;return this.int16[x+0]=a,this.int16[x+1]=m,t}}Ya.prototype.bytesPerElement=4,it("StructArrayLayout2i4",Ya);class Da extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,m)}emplace(t,a,m,x){const D=3*t;return this.int16[D+0]=a,this.int16[D+1]=m,this.int16[D+2]=x,t}}Da.prototype.bytesPerElement=6,it("StructArrayLayout3i6",Da);class Ql extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,x){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,x)}emplace(t,a,m,x,D){const I=4*t;return this.int16[I+0]=a,this.int16[I+1]=m,this.int16[I+2]=x,this.int16[I+3]=D,t}}Ql.prototype.bytesPerElement=8,it("StructArrayLayout4i8",Ql);class ec extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,m,x,D,I)}emplace(t,a,m,x,D,I,O){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=m,this.int16[L+2]=x,this.int16[L+3]=D,this.int16[L+4]=I,this.int16[L+5]=O,t}}ec.prototype.bytesPerElement=12,it("StructArrayLayout2i4i12",ec);class Fl extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,m,x,D,I)}emplace(t,a,m,x,D,I,O){const L=4*t,$=8*t;return this.int16[L+0]=a,this.int16[L+1]=m,this.uint8[$+4]=x,this.uint8[$+5]=D,this.uint8[$+6]=I,this.uint8[$+7]=O,t}}Fl.prototype.bytesPerElement=8,it("StructArrayLayout2i4ub8",Fl);class Ll extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const x=2*t;return this.float32[x+0]=a,this.float32[x+1]=m,t}}Ll.prototype.bytesPerElement=8,it("StructArrayLayout2f8",Ll);class tc extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I,O,L,$,q){const J=this.length;return this.resize(J+1),this.emplace(J,t,a,m,x,D,I,O,L,$,q)}emplace(t,a,m,x,D,I,O,L,$,q,J){const oe=10*t;return this.uint16[oe+0]=a,this.uint16[oe+1]=m,this.uint16[oe+2]=x,this.uint16[oe+3]=D,this.uint16[oe+4]=I,this.uint16[oe+5]=O,this.uint16[oe+6]=L,this.uint16[oe+7]=$,this.uint16[oe+8]=q,this.uint16[oe+9]=J,t}}tc.prototype.bytesPerElement=20,it("StructArrayLayout10ui20",tc);class Xn extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I,O,L,$,q,J,oe){const pe=this.length;return this.resize(pe+1),this.emplace(pe,t,a,m,x,D,I,O,L,$,q,J,oe)}emplace(t,a,m,x,D,I,O,L,$,q,J,oe,pe){const ye=12*t;return this.int16[ye+0]=a,this.int16[ye+1]=m,this.int16[ye+2]=x,this.int16[ye+3]=D,this.uint16[ye+4]=I,this.uint16[ye+5]=O,this.uint16[ye+6]=L,this.uint16[ye+7]=$,this.int16[ye+8]=q,this.int16[ye+9]=J,this.int16[ye+10]=oe,this.int16[ye+11]=pe,t}}Xn.prototype.bytesPerElement=24,it("StructArrayLayout4i4ui4i24",Xn);class E extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,m)}emplace(t,a,m,x){const D=3*t;return this.float32[D+0]=a,this.float32[D+1]=m,this.float32[D+2]=x,t}}E.prototype.bytesPerElement=12,it("StructArrayLayout3f12",E);class i extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint32[1*t+0]=a,t}}i.prototype.bytesPerElement=4,it("StructArrayLayout1ul4",i);class d extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I,O,L,$){const q=this.length;return this.resize(q+1),this.emplace(q,t,a,m,x,D,I,O,L,$)}emplace(t,a,m,x,D,I,O,L,$,q){const J=10*t,oe=5*t;return this.int16[J+0]=a,this.int16[J+1]=m,this.int16[J+2]=x,this.int16[J+3]=D,this.int16[J+4]=I,this.int16[J+5]=O,this.uint32[oe+3]=L,this.uint16[J+8]=$,this.uint16[J+9]=q,t}}d.prototype.bytesPerElement=20,it("StructArrayLayout6i1ul2ui20",d);class _ extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,m,x,D,I)}emplace(t,a,m,x,D,I,O){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=m,this.int16[L+2]=x,this.int16[L+3]=D,this.int16[L+4]=I,this.int16[L+5]=O,t}}_.prototype.bytesPerElement=12,it("StructArrayLayout2i2i2i12",_);class w extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D){const I=this.length;return this.resize(I+1),this.emplace(I,t,a,m,x,D)}emplace(t,a,m,x,D,I){const O=4*t,L=8*t;return this.float32[O+0]=a,this.float32[O+1]=m,this.float32[O+2]=x,this.int16[L+6]=D,this.int16[L+7]=I,t}}w.prototype.bytesPerElement=16,it("StructArrayLayout2f1f2i16",w);class T extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,x){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,x)}emplace(t,a,m,x,D){const I=12*t,O=3*t;return this.uint8[I+0]=a,this.uint8[I+1]=m,this.float32[O+1]=x,this.float32[O+2]=D,t}}T.prototype.bytesPerElement=12,it("StructArrayLayout2ub2f12",T);class f extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,m)}emplace(t,a,m,x){const D=3*t;return this.uint16[D+0]=a,this.uint16[D+1]=m,this.uint16[D+2]=x,t}}f.prototype.bytesPerElement=6,it("StructArrayLayout3ui6",f);class b extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je){const mt=this.length;return this.resize(mt+1),this.emplace(mt,t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je)}emplace(t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je,mt){const at=24*t,yt=12*t,At=48*t;return this.int16[at+0]=a,this.int16[at+1]=m,this.uint16[at+2]=x,this.uint16[at+3]=D,this.uint32[yt+2]=I,this.uint32[yt+3]=O,this.uint32[yt+4]=L,this.uint16[at+10]=$,this.uint16[at+11]=q,this.uint16[at+12]=J,this.float32[yt+7]=oe,this.float32[yt+8]=pe,this.uint8[At+36]=ye,this.uint8[At+37]=ke,this.uint8[At+38]=He,this.uint32[yt+10]=Je,this.int16[at+22]=mt,t}}b.prototype.bytesPerElement=48,it("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",b);class y extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je,mt,at,yt,At,Kt,Ai,Gi,Pi,Si,xi,Ni){const Mi=this.length;return this.resize(Mi+1),this.emplace(Mi,t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je,mt,at,yt,At,Kt,Ai,Gi,Pi,Si,xi,Ni)}emplace(t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke,He,Je,mt,at,yt,At,Kt,Ai,Gi,Pi,Si,xi,Ni,Mi){const mi=32*t,tn=16*t;return this.int16[mi+0]=a,this.int16[mi+1]=m,this.int16[mi+2]=x,this.int16[mi+3]=D,this.int16[mi+4]=I,this.int16[mi+5]=O,this.int16[mi+6]=L,this.int16[mi+7]=$,this.uint16[mi+8]=q,this.uint16[mi+9]=J,this.uint16[mi+10]=oe,this.uint16[mi+11]=pe,this.uint16[mi+12]=ye,this.uint16[mi+13]=ke,this.uint16[mi+14]=He,this.uint16[mi+15]=Je,this.uint16[mi+16]=mt,this.uint16[mi+17]=at,this.uint16[mi+18]=yt,this.uint16[mi+19]=At,this.uint16[mi+20]=Kt,this.uint16[mi+21]=Ai,this.uint16[mi+22]=Gi,this.uint32[tn+12]=Pi,this.float32[tn+13]=Si,this.float32[tn+14]=xi,this.uint16[mi+30]=Ni,this.uint16[mi+31]=Mi,t}}y.prototype.bytesPerElement=64,it("StructArrayLayout8i15ui1ul2f2ui64",y);class S extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.float32[1*t+0]=a,t}}S.prototype.bytesPerElement=4,it("StructArrayLayout1f4",S);class k extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,m)}emplace(t,a,m,x){const D=3*t;return this.uint16[6*t+0]=a,this.float32[D+1]=m,this.float32[D+2]=x,t}}k.prototype.bytesPerElement=12,it("StructArrayLayout1ui2f12",k);class R extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,m)}emplace(t,a,m,x){const D=4*t;return this.uint32[2*t+0]=a,this.uint16[D+2]=m,this.uint16[D+3]=x,t}}R.prototype.bytesPerElement=8,it("StructArrayLayout1ul2ui8",R);class B extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a){const m=this.length;return this.resize(m+1),this.emplace(m,t,a)}emplace(t,a,m){const x=2*t;return this.uint16[x+0]=a,this.uint16[x+1]=m,t}}B.prototype.bytesPerElement=4,it("StructArrayLayout2ui4",B);class te extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint16[1*t+0]=a,t}}te.prototype.bytesPerElement=2,it("StructArrayLayout1ui2",te);class ae extends xr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,m,x){const D=this.length;return this.resize(D+1),this.emplace(D,t,a,m,x)}emplace(t,a,m,x,D){const I=4*t;return this.float32[I+0]=a,this.float32[I+1]=m,this.float32[I+2]=x,this.float32[I+3]=D,t}}ae.prototype.bytesPerElement=16,it("StructArrayLayout4f16",ae);class Ce extends Dc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Se(this.anchorPointX,this.anchorPointY)}}Ce.prototype.size=20;class ve extends d{get(t){return new Ce(this,t)}}it("CollisionBoxArray",ve);class rt extends Dc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}rt.prototype.size=48;class xt extends b{get(t){return new rt(this,t)}}it("PlacedSymbolArray",xt);class Ge extends Dc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ge.prototype.size=64;class dt extends y{get(t){return new Ge(this,t)}}it("SymbolInstanceArray",dt);class kt extends S{getoffsetX(t){return this.float32[1*t+0]}}it("GlyphOffsetArray",kt);class Lt extends Da{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}it("SymbolLineVertexArray",Lt);class Gt extends Dc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Gt.prototype.size=12;class ai extends k{get(t){return new Gt(this,t)}}it("TextAnchorOffsetArray",ai);class ri extends Dc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ri.prototype.size=8;class _i extends R{get(t){return new ri(this,t)}}it("FeatureIndexArray",_i);class Ui extends Ya{}class Sn extends Ya{}class Ti extends Ya{}class sn extends ec{}class Wi extends Fl{}class Gr extends Ll{}class wn extends tc{}class xn extends Xn{}class Un extends E{}class Zr extends i{}class fr extends _{}class Wr extends T{}class Eo extends f{}class io extends B{}const Os=wr([{name:"a_pos",components:2,type:"Int16"}],4),{members:La}=Os;class tr{constructor(t=[]){this.segments=t}prepareSegment(t,a,m,x){let D=this.segments[this.segments.length-1];return t>tr.MAX_VERTEX_ARRAY_LENGTH&&ui(`Max vertices per segment is ${tr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!D||D.vertexLength+t>tr.MAX_VERTEX_ARRAY_LENGTH||D.sortKey!==x)&&(D={vertexOffset:a.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},void 0!==x&&(D.sortKey=x),this.segments.push(D)),D}get(){return this.segments}destroy(){for(const t of this.segments)for(const a in t.vaos)t.vaos[a].destroy()}static simpleSegment(t,a,m,x){return new tr([{vertexOffset:t,primitiveOffset:a,vertexLength:m,primitiveLength:x,vaos:{},sortKey:0}])}}function hl(o,t){return 256*(o=Di(Math.floor(o),0,255))+Di(Math.floor(t),0,255)}tr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,it("SegmentVector",tr);const Na=wr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var za={exports:{}},_s=function(o,t){var a,m,x,D,I,O,L,$;for(m=o.length-(a=3&o.length),x=t,I=3432918353,O=461845907,$=0;$<m;)L=255&o.charCodeAt($)|(255&o.charCodeAt(++$))<<8|(255&o.charCodeAt(++$))<<16|(255&o.charCodeAt(++$))<<24,++$,x=27492+(65535&(D=5*(65535&(x=(x^=L=(65535&(L=(L=(65535&L)*I+(((L>>>16)*I&65535)<<16)&4294967295)<<15|L>>>17))*O+(((L>>>16)*O&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(L=0,a){case 3:L^=(255&o.charCodeAt($+2))<<16;case 2:L^=(255&o.charCodeAt($+1))<<8;case 1:x^=L=(65535&(L=(L=(65535&(L^=255&o.charCodeAt($)))*I+(((L>>>16)*I&65535)<<16)&4294967295)<<15|L>>>17))*O+(((L>>>16)*O&65535)<<16)&4294967295}return x^=o.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0},ic=function(o,t){for(var a,m=o.length,x=t^m,D=0;m>=4;)a=1540483477*(65535&(a=255&o.charCodeAt(D)|(255&o.charCodeAt(++D))<<8|(255&o.charCodeAt(++D))<<16|(255&o.charCodeAt(++D))<<24))+((1540483477*(a>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),m-=4,++D;switch(m){case 3:x^=(255&o.charCodeAt(D+2))<<16;case 2:x^=(255&o.charCodeAt(D+1))<<8;case 1:x=1540483477*(65535&(x^=255&o.charCodeAt(D)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0};za.exports=_s,za.exports.murmur3=_s,za.exports.murmur2=ic;var _o=ne(za.exports);class yo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,a,m,x){this.ids.push(ys(t)),this.positions.push(a,m,x)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const a=ys(t);let m=0,x=this.ids.length-1;for(;m<x;){const I=m+x>>1;this.ids[I]>=a?x=I:m=I+1}const D=[];for(;this.ids[m]===a;)D.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return D}static serialize(t,a){const m=new Float64Array(t.ids),x=new Uint32Array(t.positions);return Mo(m,x,0,m.length-1),a&&a.push(m.buffer,x.buffer),{ids:m,positions:x}}static deserialize(t){const a=new yo;return a.ids=t.ids,a.positions=t.positions,a.indexed=!0,a}}function ys(o){const t=+o;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:_o(String(o))}function Mo(o,t,a,m){for(;a<m;){const x=o[a+m>>1];let D=a-1,I=m+1;for(;;){do{D++}while(o[D]<x);do{I--}while(o[I]>x);if(D>=I)break;nc(o,D,I),nc(t,3*D,3*I),nc(t,3*D+1,3*I+1),nc(t,3*D+2,3*I+2)}I-a<m-I?(Mo(o,t,a,I),a=I+1):(Mo(o,t,I+1,m),m=I)}}function nc(o,t,a){const m=o[t];o[t]=o[a],o[a]=m}it("FeaturePositionMap",yo);class ga{constructor(t,a){this.gl=t.gl,this.location=a}}class fd extends ga{constructor(t,a){super(t,a),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Kd extends ga{constructor(t,a){super(t,a),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Xd extends ga{constructor(t,a){super(t,a),this.current=fn.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Tc=new Float32Array(16);function Nl(o){return[hl(255*o.r,255*o.g),hl(255*o.b,255*o.a)]}class rc{constructor(t,a,m){this.value=t,this.uniformNames=a.map(x=>`u_${x}`),this.type=m}setUniform(t,a,m){t.set(m.constantOr(this.value))}getBinding(t,a,m){return"color"===this.type?new Xd(t,a):new fd(t,a)}}class ml{constructor(t,a){this.uniformNames=a.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=t.tlbr}setUniform(t,a,m,x){const D="u_pattern_to"===x?this.patternTo:"u_pattern_from"===x?this.patternFrom:"u_pixel_ratio_to"===x?this.pixelRatioTo:"u_pixel_ratio_from"===x?this.pixelRatioFrom:null;D&&t.set(D)}getBinding(t,a,m){return"u_pattern"===m.substr(0,9)?new Kd(t,a):new fd(t,a)}}class Ka{constructor(t,a,m,x){this.expression=t,this.type=m,this.maxValue=0,this.paintVertexAttributes=a.map(D=>({name:`a_${D}`,type:"Float32",components:"color"===m?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(t,a,m,x,D){const I=this.paintVertexArray.length,O=this.expression.evaluate(new pr(0),a,{},x,[],D);this.paintVertexArray.resize(t),this._setPaintValue(I,t,O)}updatePaintArray(t,a,m,x){const D=this.expression.evaluate({zoom:0},m,x);this._setPaintValue(t,a,D)}_setPaintValue(t,a,m){if("color"===this.type){const x=Nl(m);for(let D=t;D<a;D++)this.paintVertexArray.emplace(D,x[0],x[1])}else{for(let x=t;x<a;x++)this.paintVertexArray.emplace(x,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qs{constructor(t,a,m,x,D,I){this.expression=t,this.uniformNames=a.map(O=>`u_${O}_t`),this.type=m,this.useIntegerZoom=x,this.zoom=D,this.maxValue=0,this.paintVertexAttributes=a.map(O=>({name:`a_${O}`,type:"Float32",components:"color"===m?4:2,offset:0})),this.paintVertexArray=new I}populatePaintArray(t,a,m,x,D){const I=this.expression.evaluate(new pr(this.zoom),a,{},x,[],D),O=this.expression.evaluate(new pr(this.zoom+1),a,{},x,[],D),L=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(L,t,I,O)}updatePaintArray(t,a,m,x){const D=this.expression.evaluate({zoom:this.zoom},m,x),I=this.expression.evaluate({zoom:this.zoom+1},m,x);this._setPaintValue(t,a,D,I)}_setPaintValue(t,a,m,x){if("color"===this.type){const D=Nl(m),I=Nl(x);for(let O=t;O<a;O++)this.paintVertexArray.emplace(O,D[0],D[1],I[0],I[1])}else{for(let D=t;D<a;D++)this.paintVertexArray.emplace(D,m,x);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(x))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,a){const m=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,x=Di(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);t.set(x)}getBinding(t,a,m){return new fd(t,a)}}class Va{constructor(t,a,m,x,D,I){this.expression=t,this.type=a,this.useIntegerZoom=m,this.zoom=x,this.layerId=I,this.zoomInPaintVertexArray=new D,this.zoomOutPaintVertexArray=new D}populatePaintArray(t,a,m){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(x,t,a.patterns&&a.patterns[this.layerId],m)}updatePaintArray(t,a,m,x,D){this._setPaintValues(t,a,m.patterns&&m.patterns[this.layerId],D)}_setPaintValues(t,a,m,x){if(!x||!m)return;const{min:D,mid:I,max:O}=m,L=x[D],$=x[I],q=x[O];if(L&&$&&q)for(let J=t;J<a;J++)this.zoomInPaintVertexArray.emplace(J,$.tl[0],$.tl[1],$.br[0],$.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],$.pixelRatio,L.pixelRatio),this.zoomOutPaintVertexArray.emplace(J,$.tl[0],$.tl[1],$.br[0],$.br[1],q.tl[0],q.tl[1],q.br[0],q.br[1],$.pixelRatio,q.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Na.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Na.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class pl{constructor(t,a,m){this.binders={},this._buffers=[];const x=[];for(const D in t.paint._values){if(!m(D))continue;const I=t.paint.get(D);if(!(I instanceof ks&&ns(I.property.specification)))continue;const O=gd(D,t.type),L=I.value,$=I.property.specification.type,q=I.property.useIntegerZoom,J=I.property.specification["property-type"],oe="cross-faded"===J||"cross-faded-data-driven"===J;if("constant"===L.kind)this.binders[D]=oe?new ml(L.value,O):new rc(L.value,O,$),x.push(`/u_${D}`);else if("source"===L.kind||oe){const pe=Nh(D,$,"source");this.binders[D]=oe?new Va(L,$,q,a,pe,t.id):new Ka(L,O,$,pe),x.push(`/a_${D}`)}else{const pe=Nh(D,$,"composite");this.binders[D]=new qs(L,O,$,q,a,pe),x.push(`/z_${D}`)}}this.cacheKey=x.sort().join("")}getMaxValue(t){const a=this.binders[t];return a instanceof Ka||a instanceof qs?a.maxValue:0}populatePaintArrays(t,a,m,x,D){for(const I in this.binders){const O=this.binders[I];(O instanceof Ka||O instanceof qs||O instanceof Va)&&O.populatePaintArray(t,a,m,x,D)}}setConstantPatternPositions(t,a){for(const m in this.binders){const x=this.binders[m];x instanceof ml&&x.setConstantPatternPositions(t,a)}}updatePaintArrays(t,a,m,x,D){let I=!1;for(const O in t){const L=a.getPositions(O);for(const $ of L){const q=m.feature($.index);for(const J in this.binders){const oe=this.binders[J];if((oe instanceof Ka||oe instanceof qs||oe instanceof Va)&&!0===oe.expression.isStateDependent){const pe=x.paint.get(J);oe.expression=pe.value,oe.updatePaintArray($.start,$.end,q,t[O],D),I=!0}}}}return I}defines(){const t=[];for(const a in this.binders){const m=this.binders[a];(m instanceof rc||m instanceof ml)&&t.push(...m.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return t}getBinderAttributes(){const t=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof Ka||m instanceof qs)for(let x=0;x<m.paintVertexAttributes.length;x++)t.push(m.paintVertexAttributes[x].name);else if(m instanceof Va)for(let x=0;x<Na.members.length;x++)t.push(Na.members[x].name)}return t}getBinderUniforms(){const t=[];for(const a in this.binders){const m=this.binders[a];if(m instanceof rc||m instanceof ml||m instanceof qs)for(const x of m.uniformNames)t.push(x)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,a){const m=[];for(const x in this.binders){const D=this.binders[x];if(D instanceof rc||D instanceof ml||D instanceof qs)for(const I of D.uniformNames)if(a[I]){const O=D.getBinding(t,a[I],I);m.push({name:I,property:x,binding:O})}}return m}setUniforms(t,a,m,x){for(const{name:D,property:I,binding:O}of a)this.binders[I].setUniform(O,x,m.get(I),D)}updatePaintBuffers(t){this._buffers=[];for(const a in this.binders){const m=this.binders[a];if(t&&m instanceof Va){const x=2===t.fromScale?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(m instanceof Ka||m instanceof qs)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(t){for(const a in this.binders){const m=this.binders[a];(m instanceof Ka||m instanceof qs||m instanceof Va)&&m.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const a=this.binders[t];(a instanceof Ka||a instanceof qs||a instanceof Va)&&a.destroy()}}}class Xa{constructor(t,a,m=(()=>!0)){this.programConfigurations={};for(const x of t)this.programConfigurations[x.id]=new pl(x,a,m);this.needsUpload=!1,this._featureMap=new yo,this._bufferOffset=0}populatePaintArrays(t,a,m,x,D,I){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(t,a,x,D,I);void 0!==a.id&&this._featureMap.add(a.id,m,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,a,m,x){for(const D of m)this.needsUpload=this.programConfigurations[D.id].updatePaintArrays(t,this._featureMap,a,D,x)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function gd(o,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${t}-`,"").replace(/-/g,"_")]}function Nh(o,t,a){const x={"line-pattern":{source:wn,composite:wn},"fill-pattern":{source:wn,composite:wn},"fill-extrusion-pattern":{source:wn,composite:wn}}[o];return x&&x[a]||{color:{source:Ll,composite:ae},number:{source:S,composite:Ll}}[t][a]}it("ConstantBinder",rc),it("CrossFadedConstantBinder",ml),it("SourceExpressionBinder",Ka),it("CrossFadedCompositeBinder",Va),it("CompositeExpressionBinder",qs),it("ProgramConfiguration",pl,{omit:["_buffers"]}),it("ProgramConfigurationSet",Xa);const vo=8192,Ic=Math.pow(2,14)-1,Yf=-Ic-1;function Kc(o){const t=vo/o.extent,a=o.loadGeometry();for(let m=0;m<a.length;m++){const x=a[m];for(let D=0;D<x.length;D++){const I=x[D],O=Math.round(I.x*t),L=Math.round(I.y*t);I.x=Di(O,Yf,Ic),I.y=Di(L,Yf,Ic),(O<I.x||O>I.x+1||L<I.y||L>I.y+1)&&ui("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function _d(o,t){return{type:o.type,id:o.id,properties:o.properties,geometry:t?Kc(o):[]}}function zh(o,t,a,m,x){o.emplaceBack(2*t+(m+1)/2,2*a+(x+1)/2)}class op{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Sn,this.indexArray=new Eo,this.segments=new tr,this.programConfigurations=new Xa(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){const x=this.layers[0],D=[];let I=null,O=!1;"circle"===x.type&&(I=x.layout.get("circle-sort-key"),O=!I.isConstant());for(const{feature:L,id:$,index:q,sourceLayerIndex:J}of t){const oe=this.layers[0]._featureFilter.needGeometry,pe=_d(L,oe);if(!this.layers[0]._featureFilter.filter(new pr(this.zoom),pe,m))continue;const ye=O?I.evaluate(pe,{},m):void 0,ke={id:$,properties:L.properties,type:L.type,sourceLayerIndex:J,index:q,geometry:oe?pe.geometry:Kc(L),patterns:{},sortKey:ye};D.push(ke)}O&&D.sort((L,$)=>L.sortKey-$.sortKey);for(const L of D){const{geometry:$,index:q,sourceLayerIndex:J}=L,oe=t[q].feature;this.addFeature(L,$,q,m),a.featureIndex.insert(oe,$,q,J,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,La),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,a,m,x){for(const D of a)for(const I of D){const O=I.x,L=I.y;if(O<0||O>=vo||L<0||L>=vo)continue;const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),q=$.vertexLength;zh(this.layoutVertexArray,O,L,-1,-1),zh(this.layoutVertexArray,O,L,1,-1),zh(this.layoutVertexArray,O,L,1,1),zh(this.layoutVertexArray,O,L,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+3,q+2),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,{},x)}}function ao(o,t){for(let a=0;a<o.length;a++)if(vd(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(vd(o,t[a]))return!0;return!!Jd(o,t)}function H_(o,t,a){return!!vd(o,t)||!!lo(t,o,a)}function Kf(o,t){if(1===o.length)return Ac(t,o[0]);for(let a=0;a<t.length;a++){const m=t[a];for(let x=0;x<m.length;x++)if(vd(o,m[x]))return!0}for(let a=0;a<o.length;a++)if(Ac(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(Jd(o,t[a]))return!0;return!1}function yd(o,t,a){if(o.length>1){if(Jd(o,t))return!0;for(let m=0;m<t.length;m++)if(lo(t[m],o,a))return!0}for(let m=0;m<o.length;m++)if(lo(o[m],t,a))return!0;return!1}function Jd(o,t){if(0===o.length||0===t.length)return!1;for(let a=0;a<o.length-1;a++){const m=o[a],x=o[a+1];for(let D=0;D<t.length-1;D++)if(sp(m,x,t[D],t[D+1]))return!0}return!1}function sp(o,t,a,m){return fi(o,a,m)!==fi(t,a,m)&&fi(o,t,a)!==fi(o,t,m)}function lo(o,t,a){const m=a*a;if(1===t.length)return o.distSqr(t[0])<m;for(let x=1;x<t.length;x++)if(ap(o,t[x-1],t[x])<m)return!0;return!1}function ap(o,t,a){const m=t.distSqr(a);if(0===m)return o.distSqr(t);const x=((o.x-t.x)*(a.x-t.x)+(o.y-t.y)*(a.y-t.y))/m;return o.distSqr(x<0?t:x>1?a:a.sub(t)._mult(x)._add(t))}function Ac(o,t){let a,m,x,D=!1;for(let I=0;I<o.length;I++){a=o[I];for(let O=0,L=a.length-1;O<a.length;L=O++)m=a[O],x=a[L],m.y>t.y!=x.y>t.y&&t.x<(x.x-m.x)*(t.y-m.y)/(x.y-m.y)+m.x&&(D=!D)}return D}function vd(o,t){let a=!1;for(let m=0,x=o.length-1;m<o.length;x=m++){const D=o[m],I=o[x];D.y>t.y!=I.y>t.y&&t.x<(I.x-D.x)*(t.y-D.y)/(I.y-D.y)+D.x&&(a=!a)}return a}function Rs(o,t,a){const m=a[0],x=a[2];if(o.x<m.x&&t.x<m.x||o.x>x.x&&t.x>x.x||o.y<m.y&&t.y<m.y||o.y>x.y&&t.y>x.y)return!1;const D=fi(o,t,a[0]);return D!==fi(o,t,a[1])||D!==fi(o,t,a[2])||D!==fi(o,t,a[3])}function zl(o,t,a){const m=t.paint.get(o).value;return"constant"===m.kind?m.value:a.programConfigurations.get(t.id).getMaxValue(o)}function Qd(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function kc(o,t,a,m,x){if(!t[0]&&!t[1])return o;const D=Se.convert(t)._mult(x);"viewport"===a&&D._rotate(-m);const I=[];for(let O=0;O<o.length;O++)I.push(o[O].sub(D));return I}let bd,lp;it("CircleBucket",op,{omit:["layers"]});var $_={get paint(){return lp=lp||new Br({"circle-radius":new en(bt.paint_circle["circle-radius"]),"circle-color":new en(bt.paint_circle["circle-color"]),"circle-blur":new en(bt.paint_circle["circle-blur"]),"circle-opacity":new en(bt.paint_circle["circle-opacity"]),"circle-translate":new qi(bt.paint_circle["circle-translate"]),"circle-translate-anchor":new qi(bt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qi(bt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qi(bt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new en(bt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new en(bt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new en(bt.paint_circle["circle-stroke-opacity"])})},get layout(){return bd=bd||new Br({"circle-sort-key":new en(bt.layout_circle["circle-sort-key"])})}},Fs=1e-6,eu=typeof Float32Array<"u"?Float32Array:Array;function _a(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function xd(o,t,a){var m=t[0],x=t[1],D=t[2],I=t[3],O=t[4],L=t[5],$=t[6],q=t[7],J=t[8],oe=t[9],pe=t[10],ye=t[11],ke=t[12],He=t[13],Je=t[14],mt=t[15],at=a[0],yt=a[1],At=a[2],Kt=a[3];return o[0]=at*m+yt*O+At*J+Kt*ke,o[1]=at*x+yt*L+At*oe+Kt*He,o[2]=at*D+yt*$+At*pe+Kt*Je,o[3]=at*I+yt*q+At*ye+Kt*mt,o[4]=(at=a[4])*m+(yt=a[5])*O+(At=a[6])*J+(Kt=a[7])*ke,o[5]=at*x+yt*L+At*oe+Kt*He,o[6]=at*D+yt*$+At*pe+Kt*Je,o[7]=at*I+yt*q+At*ye+Kt*mt,o[8]=(at=a[8])*m+(yt=a[9])*O+(At=a[10])*J+(Kt=a[11])*ke,o[9]=at*x+yt*L+At*oe+Kt*He,o[10]=at*D+yt*$+At*pe+Kt*Je,o[11]=at*I+yt*q+At*ye+Kt*mt,o[12]=(at=a[12])*m+(yt=a[13])*O+(At=a[14])*J+(Kt=a[15])*ke,o[13]=at*x+yt*L+At*oe+Kt*He,o[14]=at*D+yt*$+At*pe+Kt*Je,o[15]=at*I+yt*q+At*ye+Kt*mt,o}Math.hypot||(Math.hypot=function(){for(var o=0,t=arguments.length;t--;)o+=arguments[t]*arguments[t];return Math.sqrt(o)});var Bl,Xf=xd;function tu(o,t,a){var m=t[0],x=t[1],D=t[2],I=t[3];return o[0]=a[0]*m+a[4]*x+a[8]*D+a[12]*I,o[1]=a[1]*m+a[5]*x+a[9]*D+a[13]*I,o[2]=a[2]*m+a[6]*x+a[10]*D+a[14]*I,o[3]=a[3]*m+a[7]*x+a[11]*D+a[15]*I,o}Bl=new eu(4),eu!=Float32Array&&(Bl[0]=0,Bl[1]=0,Bl[2]=0,Bl[3]=0);class Jf extends os{constructor(t){super(t,$_)}createBucket(t){return new op(t)}queryRadius(t){const a=t;return zl("circle-radius",this,a)+zl("circle-stroke-width",this,a)+Qd(this.paint.get("circle-translate"))}queryIntersectsFeature(t,a,m,x,D,I,O,L){const $=kc(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),I.angle,O),q=this.paint.get("circle-radius").evaluate(a,m)+this.paint.get("circle-stroke-width").evaluate(a,m),J="map"===this.paint.get("circle-pitch-alignment"),oe=J?$:(ke=L,$.map(He=>cp(He,ke))),pe=J?q*O:q;var ke;for(const ye of x)for(const ke of ye){const He=J?ke:cp(ke,L);let Je=pe;const mt=tu([],[ke.x,ke.y,0,1],L);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Je*=mt[3]/I.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Je*=I.cameraToCenterDistance/mt[3]),H_(oe,He,Je))return!0}return!1}}function cp(o,t){const a=tu([],[o.x,o.y,0,1],t);return new Se(a[0]/a[3],a[1]/a[3])}class dp extends op{}let up;it("HeatmapBucket",dp,{omit:["layers"]});var Qf={get paint(){return up=up||new Br({"heatmap-radius":new en(bt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new en(bt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qi(bt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new pa(bt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qi(bt.paint_heatmap["heatmap-opacity"])})}};function Bh(o,{width:t,height:a},m,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==t*a*m)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${t*a*m}`)}else x=new Uint8Array(t*a*m);return o.width=t,o.height=a,o.data=x,o}function wd(o,{width:t,height:a},m){if(t===o.width&&a===o.height)return;const x=Bh({},{width:t,height:a},m);Cd(o,x,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,t),height:Math.min(o.height,a)},m),o.width=t,o.height=a,o.data=x.data}function Cd(o,t,a,m,x,D){if(0===x.width||0===x.height)return t;if(x.width>o.width||x.height>o.height||a.x>o.width-x.width||a.y>o.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>t.width||x.height>t.height||m.x>t.width-x.width||m.y>t.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const I=o.data,O=t.data;if(I===O)throw new Error("srcData equals dstData, so image is already copied");for(let L=0;L<x.height;L++){const $=((a.y+L)*o.width+a.x)*D,q=((m.y+L)*t.width+m.x)*D;for(let J=0;J<x.width*D;J++)O[q+J]=I[$+J]}return t}class oc{constructor(t,a){Bh(this,t,1,a)}resize(t){wd(this,t,1)}clone(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,m,x,D){Cd(t,a,m,x,D,1)}}class Ys{constructor(t,a){Bh(this,t,4,a)}resize(t){wd(this,t,4)}replace(t,a){a?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Ys({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,m,x,D){Cd(t,a,m,x,D,4)}}function hp(o){const t={},a=o.resolution||256,m=o.clips?o.clips.length:1,x=o.image||new Ys({width:a,height:m});if(Math.log(a)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${a}`);const D=(I,O,L)=>{t[o.evaluationKey]=L;const $=o.expression.evaluate(t);x.data[I+O+0]=Math.floor(255*$.r/$.a),x.data[I+O+1]=Math.floor(255*$.g/$.a),x.data[I+O+2]=Math.floor(255*$.b/$.a),x.data[I+O+3]=Math.floor(255*$.a)};if(o.clips)for(let I=0,O=0;I<m;++I,O+=4*a)for(let L=0,$=0;L<a;L++,$+=4){const q=L/(a-1),{start:J,end:oe}=o.clips[I];D(O,$,J*(1-q)+oe*q)}else for(let I=0,O=0;I<a;I++,O+=4)D(0,O,I/(a-1));return x}it("AlphaImage",oc),it("RGBAImage",Ys);class Lu extends os{createBucket(t){return new dp(t)}constructor(t){super(t,Qf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=hp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let eg;var mp={get paint(){return eg=eg||new Br({"hillshade-illumination-direction":new qi(bt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qi(bt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qi(bt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qi(bt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qi(bt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qi(bt.paint_hillshade["hillshade-accent-color"])})}};class Vh extends os{constructor(t){super(t,mp)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Nu=wr([{name:"a_pos",components:2,type:"Int16"}],4),{members:pp}=Nu;var Uh={exports:{}};function zu(o,t,a){a=a||2;var m,x,D,I,O,L,$,q=t&&t.length,J=q?t[0]*a:o.length,oe=Xc(o,0,J,a,!0),pe=[];if(!oe||oe.next===oe.prev)return pe;if(q&&(oe=function(ke,He,Je,mt){var at,yt,At,Kt=[];for(at=0,yt=He.length;at<yt;at++)(At=Xc(ke,He[at]*mt,at<yt-1?He[at+1]*mt:ke.length,mt,!1))===At.next&&(At.steiner=!0),Kt.push(gp(At));for(Kt.sort(ig),at=0;at<Kt.length;at++)Je=ng(Kt[at],Je);return Je}(o,t,oe,a)),o.length>80*a){m=D=o[0],x=I=o[1];for(var ye=a;ye<J;ye+=a)(O=o[ye])<m&&(m=O),(L=o[ye+1])<x&&(x=L),O>D&&(D=O),L>I&&(I=L);$=0!==($=Math.max(D-m,I-x))?32767/$:0}return iu(oe,pe,a,m,x,$,0),pe}function Xc(o,t,a,m,x){var D,I;if(x===vp(o,t,a,m)>0)for(D=t;D<a;D+=m)I=ag(D,o[D],o[D+1],I);else for(D=a-m;D>=t;D-=m)I=ag(D,o[D],o[D+1],I);return I&&Pc(I,I.next)&&(Qc(I),I=I.next),I}function Ua(o,t){if(!o)return o;t||(t=o);var a,m=o;do{if(a=!1,m.steiner||!Pc(m,m.next)&&0!==qr(m.prev,m,m.next))m=m.next;else{if(Qc(m),(m=t=m.prev)===m.next)break;a=!0}}while(a||m!==t);return t}function iu(o,t,a,m,x,D,I){if(o){!I&&D&&function(q,J,oe,pe){var ye=q;do{0===ye.z&&(ye.z=Ed(ye.x,ye.y,J,oe,pe)),ye.prevZ=ye.prev,ye.nextZ=ye.next,ye=ye.next}while(ye!==q);ye.prevZ.nextZ=null,ye.prevZ=null,function(ke){var He,Je,mt,at,yt,At,Kt,Ai,Gi=1;do{for(Je=ke,ke=null,yt=null,At=0;Je;){for(At++,mt=Je,Kt=0,He=0;He<Gi&&(Kt++,mt=mt.nextZ);He++);for(Ai=Gi;Kt>0||Ai>0&&mt;)0!==Kt&&(0===Ai||!mt||Je.z<=mt.z)?(at=Je,Je=Je.nextZ,Kt--):(at=mt,mt=mt.nextZ,Ai--),yt?yt.nextZ=at:ke=at,at.prevZ=yt,yt=at;Je=mt}yt.nextZ=null,Gi*=2}while(At>1)}(ye)}(o,m,x,D);for(var O,L,$=o;o.prev!==o.next;)if(O=o.prev,L=o.next,D?fp(o,m,x,D):jh(o))t.push(O.i/a|0),t.push(o.i/a|0),t.push(L.i/a|0),Qc(o),o=L.next,$=L.next;else if((o=L)===$){I?1===I?iu(o=tg(Ua(o),t,a),t,a,m,x,D,2):2===I&&G_(o,t,a,m,x,D):iu(Ua(o),t,a,m,x,D,1);break}}}function jh(o){var t=o.prev,a=o,m=o.next;if(qr(t,a,m)>=0)return!1;for(var x=t.x,D=a.x,I=m.x,O=t.y,L=a.y,$=m.y,q=x<D?x<I?x:I:D<I?D:I,J=O<L?O<$?O:$:L<$?L:$,oe=x>D?x>I?x:I:D>I?D:I,pe=O>L?O>$?O:$:L>$?L:$,ye=m.next;ye!==t;){if(ye.x>=q&&ye.x<=oe&&ye.y>=J&&ye.y<=pe&&Md(x,O,D,L,I,$,ye.x,ye.y)&&qr(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function fp(o,t,a,m){var x=o.prev,D=o,I=o.next;if(qr(x,D,I)>=0)return!1;for(var O=x.x,L=D.x,$=I.x,q=x.y,J=D.y,oe=I.y,pe=O<L?O<$?O:$:L<$?L:$,ye=q<J?q<oe?q:oe:J<oe?J:oe,ke=O>L?O>$?O:$:L>$?L:$,He=q>J?q>oe?q:oe:J>oe?J:oe,Je=Ed(pe,ye,t,a,m),mt=Ed(ke,He,t,a,m),at=o.prevZ,yt=o.nextZ;at&&at.z>=Je&&yt&&yt.z<=mt;){if(at.x>=pe&&at.x<=ke&&at.y>=ye&&at.y<=He&&at!==x&&at!==I&&Md(O,q,L,J,$,oe,at.x,at.y)&&qr(at.prev,at,at.next)>=0||(at=at.prevZ,yt.x>=pe&&yt.x<=ke&&yt.y>=ye&&yt.y<=He&&yt!==x&&yt!==I&&Md(O,q,L,J,$,oe,yt.x,yt.y)&&qr(yt.prev,yt,yt.next)>=0))return!1;yt=yt.nextZ}for(;at&&at.z>=Je;){if(at.x>=pe&&at.x<=ke&&at.y>=ye&&at.y<=He&&at!==x&&at!==I&&Md(O,q,L,J,$,oe,at.x,at.y)&&qr(at.prev,at,at.next)>=0)return!1;at=at.prevZ}for(;yt&&yt.z<=mt;){if(yt.x>=pe&&yt.x<=ke&&yt.y>=ye&&yt.y<=He&&yt!==x&&yt!==I&&Md(O,q,L,J,$,oe,yt.x,yt.y)&&qr(yt.prev,yt,yt.next)>=0)return!1;yt=yt.nextZ}return!0}function tg(o,t,a){var m=o;do{var x=m.prev,D=m.next.next;!Pc(x,D)&&og(x,m,m.next,D)&&Jc(x,D)&&Jc(D,x)&&(t.push(x.i/a|0),t.push(m.i/a|0),t.push(D.i/a|0),Qc(m),Qc(m.next),m=o=D),m=m.next}while(m!==o);return Ua(m)}function G_(o,t,a,m,x,D){var I=o;do{for(var O=I.next.next;O!==I.prev;){if(I.i!==O.i&&_p(I,O)){var L=sg(I,O);return I=Ua(I,I.next),L=Ua(L,L.next),iu(I,t,a,m,x,D,0),void iu(L,t,a,m,x,D,0)}O=O.next}I=I.next}while(I!==o)}function ig(o,t){return o.x-t.x}function ng(o,t){var a=function(x,D){var I,O=D,L=x.x,$=x.y,q=-1/0;do{if($<=O.y&&$>=O.next.y&&O.next.y!==O.y){var J=O.x+($-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(J<=L&&J>q&&(q=J,I=O.x<O.next.x?O:O.next,J===L))return I}O=O.next}while(O!==D);if(!I)return null;var oe,pe=I,ye=I.x,ke=I.y,He=1/0;O=I;do{L>=O.x&&O.x>=ye&&L!==O.x&&Md($<ke?L:q,$,ye,ke,$<ke?q:L,$,O.x,O.y)&&(oe=Math.abs($-O.y)/(L-O.x),Jc(O,x)&&(oe<He||oe===He&&(O.x>I.x||O.x===I.x&&rg(I,O)))&&(I=O,He=oe)),O=O.next}while(O!==pe);return I}(o,t);if(!a)return t;var m=sg(a,o);return Ua(m,m.next),Ua(a,a.next)}function rg(o,t){return qr(o.prev,o,t.prev)<0&&qr(t.next,o,o.next)<0}function Ed(o,t,a,m,x){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-a)*x|0)|o<<8))|o<<4))|o<<2))|o<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-m)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function gp(o){var t=o,a=o;do{(t.x<a.x||t.x===a.x&&t.y<a.y)&&(a=t),t=t.next}while(t!==o);return a}function Md(o,t,a,m,x,D,I,O){return(x-I)*(t-O)>=(o-I)*(D-O)&&(o-I)*(m-O)>=(a-I)*(t-O)&&(a-I)*(D-O)>=(x-I)*(m-O)}function _p(o,t){return o.next.i!==t.i&&o.prev.i!==t.i&&!function(a,m){var x=a;do{if(x.i!==a.i&&x.next.i!==a.i&&x.i!==m.i&&x.next.i!==m.i&&og(x,x.next,a,m))return!0;x=x.next}while(x!==a);return!1}(o,t)&&(Jc(o,t)&&Jc(t,o)&&function(a,m){var x=a,D=!1,I=(a.x+m.x)/2,O=(a.y+m.y)/2;do{x.y>O!=x.next.y>O&&x.next.y!==x.y&&I<(x.next.x-x.x)*(O-x.y)/(x.next.y-x.y)+x.x&&(D=!D),x=x.next}while(x!==a);return D}(o,t)&&(qr(o.prev,o,t.prev)||qr(o,t.prev,t))||Pc(o,t)&&qr(o.prev,o,o.next)>0&&qr(t.prev,t,t.next)>0)}function qr(o,t,a){return(t.y-o.y)*(a.x-t.x)-(t.x-o.x)*(a.y-t.y)}function Pc(o,t){return o.x===t.x&&o.y===t.y}function og(o,t,a,m){var x=Vu(qr(o,t,a)),D=Vu(qr(o,t,m)),I=Vu(qr(a,m,o)),O=Vu(qr(a,m,t));return x!==D&&I!==O||!(0!==x||!Bu(o,a,t))||!(0!==D||!Bu(o,m,t))||!(0!==I||!Bu(a,o,m))||!(0!==O||!Bu(a,t,m))}function Bu(o,t,a){return t.x<=Math.max(o.x,a.x)&&t.x>=Math.min(o.x,a.x)&&t.y<=Math.max(o.y,a.y)&&t.y>=Math.min(o.y,a.y)}function Vu(o){return o>0?1:o<0?-1:0}function Jc(o,t){return qr(o.prev,o,o.next)<0?qr(o,t,o.next)>=0&&qr(o,o.prev,t)>=0:qr(o,t,o.prev)<0||qr(o,o.next,t)<0}function sg(o,t){var a=new yp(o.i,o.x,o.y),m=new yp(t.i,t.x,t.y),x=o.next,D=t.prev;return o.next=t,t.prev=o,a.next=x,x.prev=a,m.next=a,a.prev=m,D.next=m,m.prev=D,m}function ag(o,t,a,m){var x=new yp(o,t,a);return m?(x.next=m.next,x.prev=m,m.next.prev=x,m.next=x):(x.prev=x,x.next=x),x}function Qc(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function yp(o,t,a){this.i=o,this.x=t,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vp(o,t,a,m){for(var x=0,D=t,I=a-m;D<a;D+=m)x+=(o[I]-o[D])*(o[D+1]+o[I+1]),I=D;return x}Uh.exports=zu,Uh.exports.default=zu,zu.deviation=function(o,t,a,m){var x=t&&t.length,D=Math.abs(vp(o,0,x?t[0]*a:o.length,a));if(x)for(var I=0,O=t.length;I<O;I++)D-=Math.abs(vp(o,t[I]*a,I<O-1?t[I+1]*a:o.length,a));var L=0;for(I=0;I<m.length;I+=3){var $=m[I]*a,q=m[I+1]*a,J=m[I+2]*a;L+=Math.abs((o[$]-o[J])*(o[q+1]-o[$+1])-(o[$]-o[q])*(o[J+1]-o[$+1]))}return 0===D&&0===L?0:Math.abs((L-D)/D)},zu.flatten=function(o){for(var t=o[0][0].length,a={vertices:[],holes:[],dimensions:t},m=0,x=0;x<o.length;x++){for(var D=0;D<o[x].length;D++)for(var I=0;I<t;I++)a.vertices.push(o[x][D][I]);x>0&&a.holes.push(m+=o[x-1].length)}return a};var nu=ne(Uh.exports);function Z_(o,t,a,m,x){ru(o,t,a||0,m||o.length-1,x||Uu)}function ru(o,t,a,m,x){for(;m>a;){if(m-a>600){var D=m-a+1,I=t-a+1,O=Math.log(D),L=.5*Math.exp(2*O/3),$=.5*Math.sqrt(O*L*(D-L)/D)*(I-D/2<0?-1:1);ru(o,t,Math.max(a,Math.floor(t-I*L/D+$)),Math.min(m,Math.floor(t+(D-I)*L/D+$)),x)}var q=o[t],J=a,oe=m;for(ou(o,a,t),x(o[m],q)>0&&ou(o,a,m);J<oe;){for(ou(o,J,oe),J++,oe--;x(o[J],q)<0;)J++;for(;x(o[oe],q)>0;)oe--}0===x(o[a],q)?ou(o,a,oe):ou(o,++oe,m),oe<=t&&(a=oe+1),t<=oe&&(m=oe-1)}}function ou(o,t,a){var m=o[t];o[t]=o[a],o[a]=m}function Uu(o,t){return o<t?-1:o>t?1:0}function Dd(o,t){const a=o.length;if(a<=1)return[o];const m=[];let x,D;for(let I=0;I<a;I++){const O=Fi(o[I]);0!==O&&(o[I].area=Math.abs(O),void 0===D&&(D=O<0),D===O<0?(x&&m.push(x),x=[o[I]]):x.push(o[I]))}if(x&&m.push(x),t>1)for(let I=0;I<m.length;I++)m[I].length<=t||(Z_(m[I],t,1,m[I].length-1,bp),m[I]=m[I].slice(0,t));return m}function bp(o,t){return t.area-o.area}function ju(o,t,a){const m=a.patternDependencies;let x=!1;for(const D of t){const I=D.paint.get(`${o}-pattern`);I.isConstant()||(x=!0);const O=I.constantOr(null);O&&(x=!0,m[O.to]=!0,m[O.from]=!0)}return x}function Hu(o,t,a,m,x){const D=x.patternDependencies;for(const I of t){const O=I.paint.get(`${o}-pattern`).value;if("constant"!==O.kind){let L=O.evaluate({zoom:m-1},a,{},x.availableImages),$=O.evaluate({zoom:m},a,{},x.availableImages),q=O.evaluate({zoom:m+1},a,{},x.availableImages);L=L&&L.name?L.name:L,$=$&&$.name?$.name:$,q=q&&q.name?q.name:q,D[L]=!0,D[$]=!0,D[q]=!0,a.patterns[I.id]={min:L,mid:$,max:q}}}return a}class Oc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ti,this.indexArray=new Eo,this.indexArray2=new io,this.programConfigurations=new Xa(t.layers,t.zoom),this.segments=new tr,this.segments2=new tr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.hasPattern=ju("fill",this.layers,a);const x=this.layers[0].layout.get("fill-sort-key"),D=!x.isConstant(),I=[];for(const{feature:O,id:L,index:$,sourceLayerIndex:q}of t){const J=this.layers[0]._featureFilter.needGeometry,oe=_d(O,J);if(!this.layers[0]._featureFilter.filter(new pr(this.zoom),oe,m))continue;const pe=D?x.evaluate(oe,{},m,a.availableImages):void 0,ye={id:L,properties:O.properties,type:O.type,sourceLayerIndex:q,index:$,geometry:J?oe.geometry:Kc(O),patterns:{},sortKey:pe};I.push(ye)}D&&I.sort((O,L)=>O.sortKey-L.sortKey);for(const O of I){const{geometry:L,index:$,sourceLayerIndex:q}=O;if(this.hasPattern){const J=Hu("fill",this.layers,O,this.zoom,a);this.patternFeatures.push(J)}else this.addFeature(O,L,$,m,{});a.featureIndex.insert(t[$].feature,L,$,q,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}addFeatures(t,a,m){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,pp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,a,m,x,D){for(const I of Dd(a,500)){let O=0;for(const pe of I)O+=pe.length;const L=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),$=L.vertexLength,q=[],J=[];for(const pe of I){if(0===pe.length)continue;pe!==I[0]&&J.push(q.length/2);const ye=this.segments2.prepareSegment(pe.length,this.layoutVertexArray,this.indexArray2),ke=ye.vertexLength;this.layoutVertexArray.emplaceBack(pe[0].x,pe[0].y),this.indexArray2.emplaceBack(ke+pe.length-1,ke),q.push(pe[0].x),q.push(pe[0].y);for(let He=1;He<pe.length;He++)this.layoutVertexArray.emplaceBack(pe[He].x,pe[He].y),this.indexArray2.emplaceBack(ke+He-1,ke+He),q.push(pe[He].x),q.push(pe[He].y);ye.vertexLength+=pe.length,ye.primitiveLength+=pe.length}const oe=nu(q,J);for(let pe=0;pe<oe.length;pe+=3)this.indexArray.emplaceBack($+oe[pe],$+oe[pe+1],$+oe[pe+2]);L.vertexLength+=O,L.primitiveLength+=oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,x)}}let Hh,$h;it("FillBucket",Oc,{omit:["layers","patternFeatures"]});var $u={get paint(){return $h=$h||new Br({"fill-antialias":new qi(bt.paint_fill["fill-antialias"]),"fill-opacity":new en(bt.paint_fill["fill-opacity"]),"fill-color":new en(bt.paint_fill["fill-color"]),"fill-outline-color":new en(bt.paint_fill["fill-outline-color"]),"fill-translate":new qi(bt.paint_fill["fill-translate"]),"fill-translate-anchor":new qi(bt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ho(bt.paint_fill["fill-pattern"])})},get layout(){return Hh=Hh||new Br({"fill-sort-key":new en(bt.layout_fill["fill-sort-key"])})}};class Gu extends os{constructor(t){super(t,$u)}recalculate(t,a){super.recalculate(t,a);const m=this.paint._values["fill-outline-color"];"constant"===m.value.kind&&void 0===m.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Oc(t)}queryRadius(){return Qd(this.paint.get("fill-translate"))}queryIntersectsFeature(t,a,m,x,D,I,O){return Kf(kc(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),I.angle,O),x)}isTileClipped(){return!0}}const Zu=wr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),lg=wr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:cg}=Zu;var Rc={},xp=$e,sc=ed;function ed(o,t,a,m,x){this.properties={},this.extent=a,this.type=0,this._pbf=o,this._geometry=-1,this._keys=m,this._values=x,o.readFields(dg,this,t)}function dg(o,t,a){1==o?t.id=a.readVarint():2==o?function(m,x){for(var D=m.readVarint()+m.pos;m.pos<D;){var I=x._keys[m.readVarint()],O=x._values[m.readVarint()];x.properties[I]=O}}(a,t):3==o?t.type=a.readVarint():4==o&&(t._geometry=a.pos)}function ug(o){for(var t,a,m=0,x=0,D=o.length,I=D-1;x<D;I=x++)m+=((a=o[I]).x-(t=o[x]).x)*(t.y+a.y);return m}ed.types=["Unknown","Point","LineString","Polygon"],ed.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var t,a=o.readVarint()+o.pos,m=1,x=0,D=0,I=0,O=[];o.pos<a;){if(x<=0){var L=o.readVarint();m=7&L,x=L>>3}if(x--,1===m||2===m)D+=o.readSVarint(),I+=o.readSVarint(),1===m&&(t&&O.push(t),t=[]),t.push(new xp(D,I));else{if(7!==m)throw new Error("unknown command "+m);t&&t.push(t[0].clone())}}return t&&O.push(t),O},ed.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var t=o.readVarint()+o.pos,a=1,m=0,x=0,D=0,I=1/0,O=-1/0,L=1/0,$=-1/0;o.pos<t;){if(m<=0){var q=o.readVarint();a=7&q,m=q>>3}if(m--,1===a||2===a)(x+=o.readSVarint())<I&&(I=x),x>O&&(O=x),(D+=o.readSVarint())<L&&(L=D),D>$&&($=D);else if(7!==a)throw new Error("unknown command "+a)}return[I,L,O,$]},ed.prototype.toGeoJSON=function(o,t,a){var m,x,D=this.extent*Math.pow(2,a),I=this.extent*o,O=this.extent*t,L=this.loadGeometry(),$=ed.types[this.type];function q(pe){for(var ye=0;ye<pe.length;ye++){var ke=pe[ye];pe[ye]=[360*(ke.x+I)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(ke.y+O)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var J=[];for(m=0;m<L.length;m++)J[m]=L[m][0];q(L=J);break;case 2:for(m=0;m<L.length;m++)q(L[m]);break;case 3:for(L=function(pe){var ye=pe.length;if(ye<=1)return[pe];for(var ke,He,Je=[],mt=0;mt<ye;mt++){var at=ug(pe[mt]);0!==at&&(void 0===He&&(He=at<0),He===at<0?(ke&&Je.push(ke),ke=[pe[mt]]):ke.push(pe[mt]))}return ke&&Je.push(ke),Je}(L),m=0;m<L.length;m++)for(x=0;x<L[m].length;x++)q(L[m][x])}1===L.length?L=L[0]:$="Multi"+$;var oe={type:"Feature",geometry:{type:$,coordinates:L},properties:this.properties};return"id"in this&&(oe.id=this.id),oe};var wp=sc,Cp=Ep;function Ep(o,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(Ls,this,t),this.length=this._features.length}function Ls(o,t,a){15===o?t.version=a.readVarint():1===o?t.name=a.readString():5===o?t.extent=a.readVarint():2===o?t._features.push(a.pos):3===o?t._keys.push(a.readString()):4===o&&t._values.push(function(m){for(var x=null,D=m.readVarint()+m.pos;m.pos<D;){var I=m.readVarint()>>3;x=1===I?m.readString():2===I?m.readFloat():3===I?m.readDouble():4===I?m.readVarint64():5===I?m.readVarint():6===I?m.readSVarint():7===I?m.readBoolean():null}return x}(a))}Ep.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var t=this._pbf.readVarint()+this._pbf.pos;return new wp(this._pbf,t,this.extent,this._keys,this._values)};var Gh=Cp;function Mp(o,t,a){if(3===o){var m=new Gh(a,a.readVarint()+a.pos);m.length&&(t[m.name]=m)}}Rc.VectorTile=function(o,t){this.layers=o.readFields(Mp,{},t)},Rc.VectorTileFeature=sc,Rc.VectorTileLayer=Cp;const Zh=Rc.VectorTileFeature.types,vs=Math.pow(2,13);function ac(o,t,a,m,x,D,I,O){o.emplaceBack(t,a,2*Math.floor(m*vs)+I,x*vs*2,D*vs*2,Math.round(O))}class Wu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new sn,this.centroidVertexArray=new Ui,this.indexArray=new Eo,this.programConfigurations=new Xa(t.layers,t.zoom),this.segments=new tr,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.features=[],this.hasPattern=ju("fill-extrusion",this.layers,a);for(const{feature:x,id:D,index:I,sourceLayerIndex:O}of t){const L=this.layers[0]._featureFilter.needGeometry,$=_d(x,L);if(!this.layers[0]._featureFilter.filter(new pr(this.zoom),$,m))continue;const q={id:D,sourceLayerIndex:O,index:I,geometry:L?$.geometry:Kc(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(Hu("fill-extrusion",this.layers,q,this.zoom,a)):this.addFeature(q,q.geometry,I,m,{}),a.featureIndex.insert(x,q.geometry,I,O,this.index,!0)}}addFeatures(t,a,m){for(const x of this.features){const{geometry:D}=x;this.addFeature(x,D,x.index,a,m)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,cg),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,lg.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,a,m,x,D){const I={x:0,y:0,vertexCount:0};for(const O of Dd(a,500)){let L=0;for(const ye of O)L+=ye.length;let $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ye of O){if(0===ye.length||((o=ye).every(t=>t.x<0)||o.every(t=>t.x>vo)||o.every(t=>t.y<0)||o.every(t=>t.y>vo)))continue;let ke=0;for(let He=0;He<ye.length;He++){const Je=ye[He];if(He>=1){const mt=ye[He-1];if(!Dp(Je,mt)){$.vertexLength+4>tr.MAX_VERTEX_ARRAY_LENGTH&&($=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const at=Je.sub(mt)._perp()._unit(),yt=mt.dist(Je);ke+yt>32768&&(ke=0),ac(this.layoutVertexArray,Je.x,Je.y,at.x,at.y,0,0,ke),ac(this.layoutVertexArray,Je.x,Je.y,at.x,at.y,0,1,ke),I.x+=2*Je.x,I.y+=2*Je.y,I.vertexCount+=2,ke+=yt,ac(this.layoutVertexArray,mt.x,mt.y,at.x,at.y,0,0,ke),ac(this.layoutVertexArray,mt.x,mt.y,at.x,at.y,0,1,ke),I.x+=2*mt.x,I.y+=2*mt.y,I.vertexCount+=2;const At=$.vertexLength;this.indexArray.emplaceBack(At,At+2,At+1),this.indexArray.emplaceBack(At+1,At+2,At+3),$.vertexLength+=4,$.primitiveLength+=2}}}}if($.vertexLength+L>tr.MAX_VERTEX_ARRAY_LENGTH&&($=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray)),"Polygon"!==Zh[t.type])continue;const q=[],J=[],oe=$.vertexLength;for(const ye of O)if(0!==ye.length){ye!==O[0]&&J.push(q.length/2);for(let ke=0;ke<ye.length;ke++){const He=ye[ke];ac(this.layoutVertexArray,He.x,He.y,0,0,1,1,0),I.x+=He.x,I.y+=He.y,I.vertexCount+=1,q.push(He.x),q.push(He.y)}}const pe=nu(q,J);for(let ye=0;ye<pe.length;ye+=3)this.indexArray.emplaceBack(oe+pe[ye],oe+pe[ye+2],oe+pe[ye+1]);$.primitiveLength+=pe.length/3,$.vertexLength+=L}var o;for(let O=0;O<I.vertexCount;O++)this.centroidVertexArray.emplaceBack(Math.floor(I.x/I.vertexCount),Math.floor(I.y/I.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,x)}}function Dp(o,t){return o.x===t.x&&(o.x<0||o.x>vo)||o.y===t.y&&(o.y<0||o.y>vo)}let Fc;it("FillExtrusionBucket",Wu,{omit:["layers","features"]});var qu={get paint(){return Fc=Fc||new Br({"fill-extrusion-opacity":new qi(bt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new en(bt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qi(bt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qi(bt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ho(bt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new en(bt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new en(bt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qi(bt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Sp extends os{constructor(t){super(t,qu)}createBucket(t){return new Wu(t)}queryRadius(){return Qd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(t,a,m,x,D,I,O,L){const $=kc(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),I.angle,O),q=this.paint.get("fill-extrusion-height").evaluate(a,m),J=this.paint.get("fill-extrusion-base").evaluate(a,m),oe=function(ye,ke,He,Je){const mt=[];for(const at of ye){const yt=[at.x,at.y,0,1];tu(yt,yt,ke),mt.push(new Se(yt[0]/yt[3],yt[1]/yt[3]))}return mt}($,L),pe=function(ye,ke,He,Je){const mt=[],at=[],yt=Je[8]*ke,At=Je[9]*ke,Kt=Je[10]*ke,Ai=Je[11]*ke,Gi=Je[8]*He,Pi=Je[9]*He,Si=Je[10]*He,xi=Je[11]*He;for(const Ni of ye){const Mi=[],mi=[];for(const tn of Ni){const Zi=tn.x,An=tn.y,Vr=Je[0]*Zi+Je[4]*An+Je[12],Pr=Je[1]*Zi+Je[5]*An+Je[13],Do=Je[2]*Zi+Je[6]*An+Je[14],zs=Je[3]*Zi+Je[7]*An+Je[15],Xs=Do+Kt,So=zs+Ai,as=Vr+Gi,ls=Pr+Pi,ba=Do+Si,Js=zs+xi,co=new Se((Vr+yt)/So,(Pr+At)/So);co.z=Xs/So,Mi.push(co);const To=new Se(as/Js,ls/Js);To.z=ba/Js,mi.push(To)}mt.push(Mi),at.push(mi)}return[mt,at]}(x,J,q,L);return function(ye,ke,He){let Je=1/0;Kf(He,ke)&&(Je=Wh(He,ke[0]));for(let mt=0;mt<ke.length;mt++){const at=ke[mt],yt=ye[mt];for(let At=0;At<at.length-1;At++){const Kt=at[At],Ai=[Kt,at[At+1],yt[At+1],yt[At],Kt];ao(He,Ai)&&(Je=Math.min(Je,Wh(He,Ai)))}}return Je!==1/0&&Je}(pe[0],pe[1],oe)}}function su(o,t){return o.x*t.x+o.y*t.y}function Wh(o,t){if(1===o.length){let a=0;const m=t[a++];let x;for(;!x||m.equals(x);)if(x=t[a++],!x)return 1/0;for(;a<t.length;a++){const D=t[a],I=o[0],O=x.sub(m),L=D.sub(m),$=I.sub(m),q=su(O,O),J=su(O,L),oe=su(L,L),pe=su($,O),ye=su($,L),ke=q*oe-J*J,He=(oe*pe-J*ye)/ke,Je=(q*ye-J*pe)/ke,mt=m.z*(1-He-Je)+x.z*He+D.z*Je;if(isFinite(mt))return mt}return 1/0}{let a=1/0;for(const m of t)a=Math.min(a,m.z);return a}}const Sd=wr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:au}=Sd,qh=wr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Yh}=qh,mg=Rc.VectorTileFeature.types,lu=Math.cos(Math.PI/180*37.5),Tp=Math.pow(2,14)/.5;class Td{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new Wi,this.layoutVertexArray2=new Gr,this.indexArray=new Eo,this.programConfigurations=new Xa(t.layers,t.zoom),this.segments=new tr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,m){this.hasPattern=ju("line",this.layers,a);const x=this.layers[0].layout.get("line-sort-key"),D=!x.isConstant(),I=[];for(const{feature:O,id:L,index:$,sourceLayerIndex:q}of t){const J=this.layers[0]._featureFilter.needGeometry,oe=_d(O,J);if(!this.layers[0]._featureFilter.filter(new pr(this.zoom),oe,m))continue;const pe=D?x.evaluate(oe,{},m):void 0,ye={id:L,properties:O.properties,type:O.type,sourceLayerIndex:q,index:$,geometry:J?oe.geometry:Kc(O),patterns:{},sortKey:pe};I.push(ye)}D&&I.sort((O,L)=>O.sortKey-L.sortKey);for(const O of I){const{geometry:L,index:$,sourceLayerIndex:q}=O;if(this.hasPattern){const J=Hu("line",this.layers,O,this.zoom,a);this.patternFeatures.push(J)}else this.addFeature(O,L,$,m,{});a.featureIndex.insert(t[$].feature,L,$,q,this.index)}}update(t,a,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,m)}addFeatures(t,a,m){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,m)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Yh)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,au),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,a,m,x,D){const I=this.layers[0].layout,O=I.get("line-join").evaluate(t,{}),L=I.get("line-cap"),$=I.get("line-miter-limit"),q=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const J of a)this.addLine(J,t,O,L,$,q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,m,D,x)}addLine(t,a,m,x,D,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Je=0;Je<t.length-1;Je++)this.totalDistance+=t[Je].dist(t[Je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O="Polygon"===mg[a.type];let L=t.length;for(;L>=2&&t[L-1].equals(t[L-2]);)L--;let $=0;for(;$<L-1&&t[$].equals(t[$+1]);)$++;if(L<(O?3:2))return;"bevel"===m&&(D=1.05);const q=this.overscaling<=16?15*vo/(512*this.overscaling):0,J=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let oe,pe,ye,ke,He;this.e1=this.e2=-1,O&&(oe=t[L-2],He=t[$].sub(oe)._unit()._perp());for(let Je=$;Je<L;Je++){if(ye=Je===L-1?O?t[$+1]:void 0:t[Je+1],ye&&t[Je].equals(ye))continue;He&&(ke=He),oe&&(pe=oe),oe=t[Je],He=ye?ye.sub(oe)._unit()._perp():ke,ke=ke||He;let mt=ke.add(He);0===mt.x&&0===mt.y||mt._unit();const at=ke.x*He.x+ke.y*He.y,yt=mt.x*He.x+mt.y*He.y,At=0!==yt?1/yt:1/0,Kt=2*Math.sqrt(2-2*yt),Ai=yt<lu&&pe&&ye,Gi=ke.x*He.y-ke.y*He.x>0;if(Ai&&Je>$){const xi=oe.dist(pe);if(xi>2*q){const Ni=oe.sub(oe.sub(pe)._mult(q/xi)._round());this.updateDistance(pe,Ni),this.addCurrentVertex(Ni,ke,0,0,J),pe=Ni}}const Pi=pe&&ye;let Si=Pi?m:O?"butt":x;if(Pi&&"round"===Si&&(At<I?Si="miter":At<=2&&(Si="fakeround")),"miter"===Si&&At>D&&(Si="bevel"),"bevel"===Si&&(At>2&&(Si="flipbevel"),At<D&&(Si="miter")),pe&&this.updateDistance(pe,oe),"miter"===Si)mt._mult(At),this.addCurrentVertex(oe,mt,0,0,J);else if("flipbevel"===Si){if(At>100)mt=He.mult(-1);else{const xi=At*ke.add(He).mag()/ke.sub(He).mag();mt._perp()._mult(xi*(Gi?-1:1))}this.addCurrentVertex(oe,mt,0,0,J),this.addCurrentVertex(oe,mt.mult(-1),0,0,J)}else if("bevel"===Si||"fakeround"===Si){const xi=-Math.sqrt(At*At-1),Ni=Gi?xi:0,Mi=Gi?0:xi;if(pe&&this.addCurrentVertex(oe,ke,Ni,Mi,J),"fakeround"===Si){const mi=Math.round(180*Kt/Math.PI/20);for(let tn=1;tn<mi;tn++){let Zi=tn/mi;if(.5!==Zi){const Vr=Zi-.5;Zi+=Zi*Vr*(Zi-1)*((1.0904+at*(at*(3.55645-1.43519*at)-3.2452))*Vr*Vr+(.848013+at*(.215638*at-1.06021)))}const An=He.sub(ke)._mult(Zi)._add(ke)._unit()._mult(Gi?-1:1);this.addHalfVertex(oe,An.x,An.y,!1,Gi,0,J)}}ye&&this.addCurrentVertex(oe,He,-Ni,-Mi,J)}else if("butt"===Si)this.addCurrentVertex(oe,mt,0,0,J);else if("square"===Si){const xi=pe?1:-1;this.addCurrentVertex(oe,mt,xi,xi,J)}else"round"===Si&&(pe&&(this.addCurrentVertex(oe,ke,0,0,J),this.addCurrentVertex(oe,ke,1,1,J,!0)),ye&&(this.addCurrentVertex(oe,He,-1,-1,J,!0),this.addCurrentVertex(oe,He,0,0,J)));if(Ai&&Je<L-1){const xi=oe.dist(ye);if(xi>2*q){const Ni=oe.add(ye.sub(oe)._mult(q/xi)._round());this.updateDistance(oe,Ni),this.addCurrentVertex(Ni,He,0,0,J),oe=Ni}}}}addCurrentVertex(t,a,m,x,D,I=!1){const O=a.y*x-a.x,L=-a.y-a.x*x;this.addHalfVertex(t,a.x+a.y*m,a.y-a.x*m,I,!1,m,D),this.addHalfVertex(t,O,L,I,!0,-x,D),this.distance>Tp/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,a,m,x,D,I))}addHalfVertex({x:t,y:a},m,x,D,I,O,L){const $=.5*(this.lineClips?this.scaledDistance*(Tp-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(D?1:0),(a<<1)+(I?1:0),Math.round(63*m)+128,Math.round(63*x)+128,1+(0===O?0:O<0?-1:1)|(63&$)<<2,$>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const q=L.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,q),L.primitiveLength++),I?this.e2=q:this.e1=q}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,a){this.distance+=t.dist(a),this.updateScaledDistance()}}let Kh,Xh;it("LineBucket",Td,{omit:["layers","patternFeatures"]});var Jh={get paint(){return Xh=Xh||new Br({"line-opacity":new en(bt.paint_line["line-opacity"]),"line-color":new en(bt.paint_line["line-color"]),"line-translate":new qi(bt.paint_line["line-translate"]),"line-translate-anchor":new qi(bt.paint_line["line-translate-anchor"]),"line-width":new en(bt.paint_line["line-width"]),"line-gap-width":new en(bt.paint_line["line-gap-width"]),"line-offset":new en(bt.paint_line["line-offset"]),"line-blur":new en(bt.paint_line["line-blur"]),"line-dasharray":new Ps(bt.paint_line["line-dasharray"]),"line-pattern":new Ho(bt.paint_line["line-pattern"]),"line-gradient":new pa(bt.paint_line["line-gradient"])})},get layout(){return Kh=Kh||new Br({"line-cap":new qi(bt.layout_line["line-cap"]),"line-join":new en(bt.layout_line["line-join"]),"line-miter-limit":new qi(bt.layout_line["line-miter-limit"]),"line-round-limit":new qi(bt.layout_line["line-round-limit"]),"line-sort-key":new en(bt.layout_line["line-sort-key"])})}};class Id extends en{possiblyEvaluate(t,a){return a=new pr(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(t,a)}evaluate(t,a,m,x){return a=Oe({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(t,a,m,x)}}let td;class Ip extends os{constructor(t){super(t,Jh),this.gradientVersion=0,td||(td=new Id(Jh.paint.properties["line-width"].specification),td.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const a=this.gradientExpression();this.stepInterpolant=!(void 0===a._styleExpression)&&a._styleExpression.expression instanceof kn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,a){super.recalculate(t,a),this.paint._values["line-floorwidth"]=td.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Td(t)}queryRadius(t){const a=t,m=Yu(zl("line-width",this,a),zl("line-gap-width",this,a)),x=zl("line-offset",this,a);return m/2+Math.abs(x)+Qd(this.paint.get("line-translate"))}queryIntersectsFeature(t,a,m,x,D,I,O){const L=kc(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),I.angle,O),$=O/2*Yu(this.paint.get("line-width").evaluate(a,m),this.paint.get("line-gap-width").evaluate(a,m)),q=this.paint.get("line-offset").evaluate(a,m);return q&&(x=function(J,oe){const pe=[];for(let ye=0;ye<J.length;ye++){const ke=J[ye],He=[];for(let Je=0;Je<ke.length;Je++){const mt=ke[Je-1],at=ke[Je],yt=ke[Je+1],At=0===Je?new Se(0,0):at.sub(mt)._unit()._perp(),Kt=Je===ke.length-1?new Se(0,0):yt.sub(at)._unit()._perp(),Ai=At._add(Kt)._unit(),Gi=Ai.x*Kt.x+Ai.y*Kt.y;0!==Gi&&Ai._mult(1/Gi),He.push(Ai._mult(oe)._add(at))}pe.push(He)}return pe}(x,q*O)),function(J,oe,pe){for(let ye=0;ye<oe.length;ye++){const ke=oe[ye];if(J.length>=3)for(let He=0;He<ke.length;He++)if(vd(J,ke[He]))return!0;if(yd(J,ke,pe))return!0}return!1}(L,x,$)}isTileClipped(){return!0}}function Yu(o,t){return t>0?t+2*o:o}const Ku=wr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ap=wr([{name:"a_projected_pos",components:3,type:"Float32"}],4);wr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const pg=wr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);wr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const cu=wr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),fg=wr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function gg(o,t,a){return o.sections.forEach(m=>{m.text=function(x,D,I){const O=D.layout.get("text-transform").evaluate(I,{});return"uppercase"===O?x=x.toLocaleUpperCase():"lowercase"===O&&(x=x.toLocaleLowerCase()),ln.applyArabicShaping&&(x=ln.applyArabicShaping(x)),x}(m.text,t,a)}),o}wr([{name:"triangle",components:3,type:"Uint16"}]),wr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),wr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),wr([{type:"Float32",name:"offsetX"}]),wr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),wr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const du={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var zo=24,Xu=Cr,Qh=function(o,t,a,m,x){var D,I,O=8*x-m-1,L=(1<<O)-1,$=L>>1,q=-7,J=a?x-1:0,oe=a?-1:1,pe=o[t+J];for(J+=oe,D=pe&(1<<-q)-1,pe>>=-q,q+=O;q>0;D=256*D+o[t+J],J+=oe,q-=8);for(I=D&(1<<-q)-1,D>>=-q,q+=m;q>0;I=256*I+o[t+J],J+=oe,q-=8);if(0===D)D=1-$;else{if(D===L)return I?NaN:1/0*(pe?-1:1);I+=Math.pow(2,m),D-=$}return(pe?-1:1)*I*Math.pow(2,D-m)},Ju=function(o,t,a,m,x,D){var I,O,L,$=8*D-x-1,q=(1<<$)-1,J=q>>1,oe=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,pe=m?0:D-1,ye=m?1:-1,ke=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(O=isNaN(t)?1:0,I=q):(I=Math.floor(Math.log(t)/Math.LN2),t*(L=Math.pow(2,-I))<1&&(I--,L*=2),(t+=I+J>=1?oe/L:oe*Math.pow(2,1-J))*L>=2&&(I++,L/=2),I+J>=q?(O=0,I=q):I+J>=1?(O=(t*L-1)*Math.pow(2,x),I+=J):(O=t*Math.pow(2,J-1)*Math.pow(2,x),I=0));x>=8;o[a+pe]=255&O,pe+=ye,O/=256,x-=8);for(I=I<<x|O,$+=x;$>0;o[a+pe]=255&I,pe+=ye,I/=256,$-=8);o[a+pe-ye]|=128*ke};function Cr(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}Cr.Varint=0,Cr.Fixed64=1,Cr.Bytes=2,Cr.Fixed32=5;var em=4294967296,Qu=1/em,tm=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ya(o){return o.type===Cr.Bytes?o.readVarint()+o.pos:o.pos+1}function im(o,t,a){var m=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));a.realloc(m);for(var x=a.pos-1;x>=o;x--)a.buf[x+m]=a.buf[x]}function _g(o,t){for(var a=0;a<o.length;a++)t.writeVarint(o[a])}function W_(o,t){for(var a=0;a<o.length;a++)t.writeSVarint(o[a])}function eh(o,t){for(var a=0;a<o.length;a++)t.writeFloat(o[a])}function kp(o,t){for(var a=0;a<o.length;a++)t.writeDouble(o[a])}function th(o,t){for(var a=0;a<o.length;a++)t.writeBoolean(o[a])}function Pp(o,t){for(var a=0;a<o.length;a++)t.writeFixed32(o[a])}function Op(o,t){for(var a=0;a<o.length;a++)t.writeSFixed32(o[a])}function nm(o,t){for(var a=0;a<o.length;a++)t.writeFixed64(o[a])}function rm(o,t){for(var a=0;a<o.length;a++)t.writeSFixed64(o[a])}function nd(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+16777216*o[t+3]}function fl(o,t,a){o[a]=t,o[a+1]=t>>>8,o[a+2]=t>>>16,o[a+3]=t>>>24}function om(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+(o[t+3]<<24)}Cr.prototype={destroy:function(){this.buf=null},readFields:function(o,t,a){for(a=a||this.length;this.pos<a;){var m=this.readVarint(),x=m>>3,D=this.pos;this.type=7&m,o(x,t,this),this.pos===D&&this.skip(m)}return t},readMessage:function(o,t){return this.readFields(o,t,this.readVarint()+this.pos)},readFixed32:function(){var o=nd(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=om(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=nd(this.buf,this.pos)+nd(this.buf,this.pos+4)*em;return this.pos+=8,o},readSFixed64:function(){var o=nd(this.buf,this.pos)+om(this.buf,this.pos+4)*em;return this.pos+=8,o},readFloat:function(){var o=Qh(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=Qh(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var t,a,m=this.buf;return t=127&(a=m[this.pos++]),a<128?t:(t|=(127&(a=m[this.pos++]))<<7,a<128?t:(t|=(127&(a=m[this.pos++]))<<14,a<128?t:(t|=(127&(a=m[this.pos++]))<<21,a<128?t:function(x,D,I){var O,L,$=I.buf;if(O=(112&(L=$[I.pos++]))>>4,L<128||(O|=(127&(L=$[I.pos++]))<<3,L<128)||(O|=(127&(L=$[I.pos++]))<<10,L<128)||(O|=(127&(L=$[I.pos++]))<<17,L<128)||(O|=(127&(L=$[I.pos++]))<<24,L<128)||(O|=(1&(L=$[I.pos++]))<<31,L<128))return function id(o,t,a){return a?4294967296*t+(o>>>0):4294967296*(t>>>0)+(o>>>0)}(x,O,D);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(a=m[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,t=this.pos;return this.pos=o,o-t>=12&&tm?tm.decode(this.buf.subarray(t,o)):function(a,m,x){for(var D="",I=m;I<x;){var O,L,$,q=a[I],J=null,oe=q>239?4:q>223?3:q>191?2:1;if(I+oe>x)break;1===oe?q<128&&(J=q):2===oe?128==(192&(O=a[I+1]))&&(J=(31&q)<<6|63&O)<=127&&(J=null):3===oe?(L=a[I+2],128==(192&(O=a[I+1]))&&128==(192&L)&&((J=(15&q)<<12|(63&O)<<6|63&L)<=2047||J>=55296&&J<=57343)&&(J=null)):4===oe&&(L=a[I+2],$=a[I+3],128==(192&(O=a[I+1]))&&128==(192&L)&&128==(192&$)&&((J=(15&q)<<18|(63&O)<<12|(63&L)<<6|63&$)<=65535||J>=1114112)&&(J=null)),null===J?(J=65533,oe=1):J>65535&&(J-=65536,D+=String.fromCharCode(J>>>10&1023|55296),J=56320|1023&J),D+=String.fromCharCode(J),I+=oe}return D}(this.buf,t,o)},readBytes:function(){var o=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,o);return this.pos=o,t},readPackedVarint:function(o,t){if(this.type!==Cr.Bytes)return o.push(this.readVarint(t));var a=ya(this);for(o=o||[];this.pos<a;)o.push(this.readVarint(t));return o},readPackedSVarint:function(o){if(this.type!==Cr.Bytes)return o.push(this.readSVarint());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==Cr.Bytes)return o.push(this.readBoolean());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==Cr.Bytes)return o.push(this.readFloat());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==Cr.Bytes)return o.push(this.readDouble());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==Cr.Bytes)return o.push(this.readFixed32());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==Cr.Bytes)return o.push(this.readSFixed32());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==Cr.Bytes)return o.push(this.readFixed64());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==Cr.Bytes)return o.push(this.readSFixed64());var t=ya(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed64());return o},skip:function(o){var t=7&o;if(t===Cr.Varint)for(;this.buf[this.pos++]>127;);else if(t===Cr.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Cr.Fixed32)this.pos+=4;else{if(t!==Cr.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(o,t){this.writeVarint(o<<3|t)},realloc:function(o){for(var t=this.length||16;t<this.pos+o;)t*=2;if(t!==this.length){var a=new Uint8Array(t);a.set(this.buf),this.buf=a,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),fl(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),fl(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),fl(this.buf,-1&o,this.pos),fl(this.buf,Math.floor(o*Qu),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),fl(this.buf,-1&o,this.pos),fl(this.buf,Math.floor(o*Qu),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(t,a){var m,x,D,O;if(t>=0?(m=t%4294967296|0,x=t/4294967296|0):(x=~(-t/4294967296),4294967295^(m=~(-t%4294967296))?m=m+1|0:(m=0,x=x+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),D=m,(O=a).buf[O.pos++]=127&D|128,D>>>=7,O.buf[O.pos++]=127&D|128,D>>>=7,O.buf[O.pos++]=127&D|128,D>>>=7,O.buf[O.pos++]=127&D|128,O.buf[O.pos]=127&(D>>>=7),function(D,I){var O=(7&D)<<4;I.buf[I.pos++]|=O|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=127&D|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=127&D|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=127&D|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=127&D|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=127&D)))))}(x,a)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var t=this.pos;this.pos=function(m,x,D){for(var I,O,L=0;L<x.length;L++){if((I=x.charCodeAt(L))>55295&&I<57344){if(!O){I>56319||L+1===x.length?(m[D++]=239,m[D++]=191,m[D++]=189):O=I;continue}if(I<56320){m[D++]=239,m[D++]=191,m[D++]=189,O=I;continue}I=O-55296<<10|I-56320|65536,O=null}else O&&(m[D++]=239,m[D++]=191,m[D++]=189,O=null);I<128?m[D++]=I:(I<2048?m[D++]=I>>6|192:(I<65536?m[D++]=I>>12|224:(m[D++]=I>>18|240,m[D++]=I>>12&63|128),m[D++]=I>>6&63|128),m[D++]=63&I|128)}return D}(this.buf,o,this.pos);var a=this.pos-t;a>=128&&im(t,a,this),this.pos=t-1,this.writeVarint(a),this.pos+=a},writeFloat:function(o){this.realloc(4),Ju(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Ju(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var t=o.length;this.writeVarint(t),this.realloc(t);for(var a=0;a<t;a++)this.buf[this.pos++]=o[a]},writeRawMessage:function(o,t){this.pos++;var a=this.pos;o(t,this);var m=this.pos-a;m>=128&&im(a,m,this),this.pos=a-1,this.writeVarint(m),this.pos+=m},writeMessage:function(o,t,a){this.writeTag(o,Cr.Bytes),this.writeRawMessage(t,a)},writePackedVarint:function(o,t){t.length&&this.writeMessage(o,_g,t)},writePackedSVarint:function(o,t){t.length&&this.writeMessage(o,W_,t)},writePackedBoolean:function(o,t){t.length&&this.writeMessage(o,th,t)},writePackedFloat:function(o,t){t.length&&this.writeMessage(o,eh,t)},writePackedDouble:function(o,t){t.length&&this.writeMessage(o,kp,t)},writePackedFixed32:function(o,t){t.length&&this.writeMessage(o,Pp,t)},writePackedSFixed32:function(o,t){t.length&&this.writeMessage(o,Op,t)},writePackedFixed64:function(o,t){t.length&&this.writeMessage(o,nm,t)},writePackedSFixed64:function(o,t){t.length&&this.writeMessage(o,rm,t)},writeBytesField:function(o,t){this.writeTag(o,Cr.Bytes),this.writeBytes(t)},writeFixed32Field:function(o,t){this.writeTag(o,Cr.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(o,t){this.writeTag(o,Cr.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(o,t){this.writeTag(o,Cr.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(o,t){this.writeTag(o,Cr.Fixed64),this.writeSFixed64(t)},writeVarintField:function(o,t){this.writeTag(o,Cr.Varint),this.writeVarint(t)},writeSVarintField:function(o,t){this.writeTag(o,Cr.Varint),this.writeSVarint(t)},writeStringField:function(o,t){this.writeTag(o,Cr.Bytes),this.writeString(t)},writeFloatField:function(o,t){this.writeTag(o,Cr.Fixed32),this.writeFloat(t)},writeDoubleField:function(o,t){this.writeTag(o,Cr.Fixed64),this.writeDouble(t)},writeBooleanField:function(o,t){this.writeVarintField(o,!!t)}};var uu=ne(Xu);const Ad=3;function sm(o,t,a){1===o&&a.readMessage(am,t)}function am(o,t,a){if(3===o){const{id:m,bitmap:x,width:D,height:I,left:O,top:L,advance:$}=a.readMessage(hu,{});t.push({id:m,bitmap:new oc({width:D+2*Ad,height:I+2*Ad},x),metrics:{width:D,height:I,left:O,top:L,advance:$}})}}function hu(o,t,a){1===o?t.id=a.readVarint():2===o?t.bitmap=a.readBytes():3===o?t.width=a.readVarint():4===o?t.height=a.readVarint():5===o?t.left=a.readSVarint():6===o?t.top=a.readSVarint():7===o&&(t.advance=a.readVarint())}const lm=Ad;function cm(o){let t=0,a=0;for(const I of o)t+=I.w*I.h,a=Math.max(a,I.w);o.sort((I,O)=>O.h-I.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),a),h:1/0}];let x=0,D=0;for(const I of o)for(let O=m.length-1;O>=0;O--){const L=m[O];if(!(I.w>L.w||I.h>L.h)){if(I.x=L.x,I.y=L.y,D=Math.max(D,I.y+I.h),x=Math.max(x,I.x+I.w),I.w===L.w&&I.h===L.h){const $=m.pop();O<m.length&&(m[O]=$)}else I.h===L.h?(L.x+=I.w,L.w-=I.w):I.w===L.w?(L.y+=I.h,L.h-=I.h):(m.push({x:L.x+I.w,y:L.y,w:L.w-I.w,h:I.h}),L.y+=I.h,L.h-=I.h);break}}return{w:x,h:D,fill:t/(x*D)||0}}const Ns=1;class dm{constructor(t,{pixelRatio:a,version:m,stretchX:x,stretchY:D,content:I}){this.paddedRect=t,this.pixelRatio=a,this.stretchX=x,this.stretchY=D,this.content=I,this.version=m}get tl(){return[this.paddedRect.x+Ns,this.paddedRect.y+Ns]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ns,this.paddedRect.y+this.paddedRect.h-Ns]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ns)/this.pixelRatio,(this.paddedRect.h-2*Ns)/this.pixelRatio]}}class ih{constructor(t,a){const m={},x={};this.haveRenderCallbacks=[];const D=[];this.addImages(t,m,D),this.addImages(a,x,D);const{w:I,h:O}=cm(D),L=new Ys({width:I||1,height:O||1});for(const $ in t){const q=t[$],J=m[$].paddedRect;Ys.copy(q.data,L,{x:0,y:0},{x:J.x+Ns,y:J.y+Ns},q.data)}for(const $ in a){const q=a[$],J=x[$].paddedRect,oe=J.x+Ns,pe=J.y+Ns,ye=q.data.width,ke=q.data.height;Ys.copy(q.data,L,{x:0,y:0},{x:oe,y:pe},q.data),Ys.copy(q.data,L,{x:0,y:ke-1},{x:oe,y:pe-1},{width:ye,height:1}),Ys.copy(q.data,L,{x:0,y:0},{x:oe,y:pe+ke},{width:ye,height:1}),Ys.copy(q.data,L,{x:ye-1,y:0},{x:oe-1,y:pe},{width:1,height:ke}),Ys.copy(q.data,L,{x:0,y:0},{x:oe+ye,y:pe},{width:1,height:ke})}this.image=L,this.iconPositions=m,this.patternPositions=x}addImages(t,a,m){for(const x in t){const D=t[x],I={x:0,y:0,w:D.data.width+2*Ns,h:D.data.height+2*Ns};m.push(I),a[x]=new dm(I,D),D.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(t,a){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in t.updatedImages)this.patchUpdatedImage(this.iconPositions[m],t.getImage(m),a),this.patchUpdatedImage(this.patternPositions[m],t.getImage(m),a)}patchUpdatedImage(t,a,m){if(!t||!a||t.version===a.version)return;t.version=a.version;const[x,D]=t.tl;m.update(a.data,void 0,{x,y:D})}}var lc;it("ImagePosition",dm),it("ImageAtlas",ih),v.WritingMode=void 0,(lc=v.WritingMode||(v.WritingMode={}))[lc.none=0]="none",lc[lc.horizontal=1]="horizontal",lc[lc.vertical=2]="vertical",lc[lc.horizontalOnly=3]="horizontalOnly";const kd=-17;class Lc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,a){const m=new Lc;return m.scale=t||1,m.fontStack=a,m}static forImage(t){const a=new Lc;return a.imageName=t,a}}class Nc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,a){const m=new Nc;for(let x=0;x<t.sections.length;x++){const D=t.sections[x];D.image?m.addImageSection(D):m.addTextSection(D,a)}return m}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let a="";for(let m=0;m<t.length;m++){const x=t.charCodeAt(m+1)||null,D=t.charCodeAt(m-1)||null;a+=x&&ua(x)&&!du[t[m+1]]||D&&ua(D)&&!du[t[m-1]]||!du[t[m]]?t[m]:du[t[m]]}return a}(this.text)}trim(){let t=0;for(let m=0;m<this.text.length&&nh[this.text.charCodeAt(m)];m++)t++;let a=this.text.length;for(let m=this.text.length-1;m>=0&&m>=t&&nh[this.text.charCodeAt(m)];m--)a--;this.text=this.text.substring(t,a),this.sectionIndex=this.sectionIndex.slice(t,a)}substring(t,a){const m=new Nc;return m.text=this.text.substring(t,a),m.sectionIndex=this.sectionIndex.slice(t,a),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,a)=>Math.max(t,this.sections[a].scale),0)}addTextSection(t,a){this.text+=t.text,this.sections.push(Lc.forText(t.scale,t.fontStack||a));const m=this.sections.length-1;for(let x=0;x<t.text.length;++x)this.sectionIndex.push(m)}addImageSection(t){const a=t.image?t.image.name:"";if(0===a.length)return void ui("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Lc.forImage(a)),this.sectionIndex.push(this.sections.length-1)):ui("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function cc(o,t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye,ke){const He=Nc.fromFeature(o,x);let Je;J===v.WritingMode.vertical&&He.verticalizePunctuation();const{processBidirectionalText:mt,processStyledBidirectionalText:at}=ln;if(mt&&1===He.sections.length){Je=[];const Kt=mt(He.toString(),zc(He,$,D,t,m,pe,ye));for(const Ai of Kt){const Gi=new Nc;Gi.text=Ai,Gi.sections=He.sections;for(let Pi=0;Pi<Ai.length;Pi++)Gi.sectionIndex.push(0);Je.push(Gi)}}else if(at){Je=[];const Kt=at(He.text,He.sectionIndex,zc(He,$,D,t,m,pe,ye));for(const Ai of Kt){const Gi=new Nc;Gi.text=Ai[0],Gi.sectionIndex=Ai[1],Gi.sections=He.sections,Je.push(Gi)}}else Je=function(Kt,Ai){const Gi=[],Pi=Kt.text;let Si=0;for(const xi of Ai)Gi.push(Kt.substring(Si,xi)),Si=xi;return Si<Pi.length&&Gi.push(Kt.substring(Si,Pi.length)),Gi}(He,zc(He,$,D,t,m,pe,ye));const yt=[],At={positionedLines:yt,text:He.toString(),top:q[1],bottom:q[1],left:q[0],right:q[0],writingMode:J,iconsInText:!1,verticalizable:!1};return function(Kt,Ai,Gi,Pi,Si,xi,Ni,Mi,mi,tn,Zi,An){let Vr=0,Pr=kd,Do=0,zs=0;const Xs="right"===Mi?1:"left"===Mi?0:.5;let So=0;for(const co of Si){co.trim();const To=co.getMaxScale(),Bo=(To-1)*zo,Qo={positionedGlyphs:[],lineOffset:0};Kt.positionedLines[So]=Qo;const Bs=Qo.positionedGlyphs;let Qs=0;if(!co.length()){Pr+=xi,++So;continue}for(let Vo=0;Vo<co.length();Vo++){const jn=co.getSection(Vo),bs=co.getSectionIndex(Vo),xs=co.getCharCode(Vo);let Io=0,ea=null,Qa=null,Ul=null,_l=zo;const Vs=!(mi===v.WritingMode.horizontal||!Zi&&!Nr(xs)||Zi&&(nh[xs]||(as=xs,Qt.Arabic(as)||Qt["Arabic Supplement"](as)||Qt["Arabic Extended-A"](as)||Qt["Arabic Presentation Forms-A"](as)||Qt["Arabic Presentation Forms-B"](as))));if(jn.imageName){const ta=Pi[jn.imageName];if(!ta)continue;Ul=jn.imageName,Kt.iconsInText=Kt.iconsInText||!0,Qa=ta.paddedRect;const ia=ta.displaySize;jn.scale=jn.scale*zo/An,ea={width:ia[0],height:ia[1],left:Ns,top:-lm,advance:Vs?ia[1]:ia[0]},Io=Bo+(zo-ia[1]*jn.scale),_l=ea.advance;const jl=Vs?ia[0]*jn.scale-zo*To:ia[1]*jn.scale-zo*To;jl>0&&jl>Qs&&(Qs=jl)}else{const ta=Gi[jn.fontStack],ia=ta&&ta[xs];if(ia&&ia.rect)Qa=ia.rect,ea=ia.metrics;else{const jl=Ai[jn.fontStack],Mu=jl&&jl[xs];if(!Mu)continue;ea=Mu.metrics}Io=(To-jn.scale)*zo}Vs?(Kt.verticalizable=!0,Bs.push({glyph:xs,imageName:Ul,x:Vr,y:Pr+Io,vertical:Vs,scale:jn.scale,fontStack:jn.fontStack,sectionIndex:bs,metrics:ea,rect:Qa}),Vr+=_l*jn.scale+tn):(Bs.push({glyph:xs,imageName:Ul,x:Vr,y:Pr+Io,vertical:Vs,scale:jn.scale,fontStack:jn.fontStack,sectionIndex:bs,metrics:ea,rect:Qa}),Vr+=ea.advance*jn.scale+tn)}0!==Bs.length&&(Do=Math.max(Vr-tn,Do),Rp(Bs,0,Bs.length-1,Xs,Qs)),Vr=0;const xa=xi*To+Qs;Qo.lineOffset=Math.max(Qs,Bo),Pr+=xa,zs=Math.max(xa,zs),++So}var as;const ls=Pr-kd,{horizontalAlign:ba,verticalAlign:Js}=Od(Ni);(function(co,To,Bo,Qo,Bs,Qs,xa,Vo,jn){const bs=(To-Bo)*Bs;let xs=0;xs=Qs!==xa?-Vo*Qo-kd:(-Qo*jn+.5)*xa;for(const Io of co)for(const ea of Io.positionedGlyphs)ea.x+=bs,ea.y+=xs})(Kt.positionedLines,Xs,ba,Js,Do,zs,xi,ls,Si.length),Kt.top+=-Js*ls,Kt.bottom=Kt.top+ls,Kt.left+=-ba*Do,Kt.right=Kt.left+Do}(At,t,a,m,Je,I,O,L,J,$,oe,ke),!function(Kt){for(const Ai of Kt)if(0!==Ai.positionedGlyphs.length)return!1;return!0}(yt)&&At}const nh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},um={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function yg(o,t,a,m,x,D){if(t.imageName){const I=m[t.imageName];return I?I.displaySize[0]*t.scale*zo/D+x:0}{const I=a[t.fontStack],O=I&&I[o];return O?O.metrics.advance*t.scale+x:0}}function rh(o,t,a,m){const x=Math.pow(o-t,2);return m?o<t?x/2:2*x:x+Math.abs(a)*a}function hm(o,t,a){let m=0;return 10===o&&(m-=1e4),a&&(m+=150),40!==o&&65288!==o||(m+=50),41!==t&&65289!==t||(m+=50),m}function oh(o,t,a,m,x,D){let I=null,O=rh(t,a,x,D);for(const L of m){const $=rh(t-L.x,a,x,D)+L.badness;$<=O&&(I=L,O=$)}return{index:o,x:t,priorBreak:I,badness:O}}function Pd(o){return o?Pd(o.priorBreak).concat(o.index):[]}function zc(o,t,a,m,x,D,I){if("point"!==D)return[];if(!o)return[];const O=[],L=function(oe,pe,ye,ke,He,Je){let mt=0;for(let at=0;at<oe.length();at++){const yt=oe.getSection(at);mt+=yg(oe.getCharCode(at),yt,ke,He,pe,Je)}return mt/Math.max(1,Math.ceil(mt/ye))}(o,t,a,m,x,I),$=o.text.indexOf("\u200b")>=0;let q=0;for(let oe=0;oe<o.length();oe++){const pe=o.getSection(oe),ye=o.getCharCode(oe);if(nh[ye]||(q+=yg(ye,pe,m,x,t,I)),oe<o.length()-1){const ke=!((J=ye)<11904||!(Qt["Bopomofo Extended"](J)||Qt.Bopomofo(J)||Qt["CJK Compatibility Forms"](J)||Qt["CJK Compatibility Ideographs"](J)||Qt["CJK Compatibility"](J)||Qt["CJK Radicals Supplement"](J)||Qt["CJK Strokes"](J)||Qt["CJK Symbols and Punctuation"](J)||Qt["CJK Unified Ideographs Extension A"](J)||Qt["CJK Unified Ideographs"](J)||Qt["Enclosed CJK Letters and Months"](J)||Qt["Halfwidth and Fullwidth Forms"](J)||Qt.Hiragana(J)||Qt["Ideographic Description Characters"](J)||Qt["Kangxi Radicals"](J)||Qt["Katakana Phonetic Extensions"](J)||Qt.Katakana(J)||Qt["Vertical Forms"](J)||Qt["Yi Radicals"](J)||Qt["Yi Syllables"](J)));(um[ye]||ke||pe.imageName)&&O.push(oh(oe+1,q,L,O,hm(ye,o.getCharCode(oe+1),ke&&$),!1))}}var J;return Pd(oh(o.length(),q,L,O,0,!0))}function Od(o){let t=.5,a=.5;switch(o){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:t,verticalAlign:a}}function Rp(o,t,a,m,x){if(!m&&!x)return;const D=o[a],I=(o[a].x+D.metrics.advance*D.scale)*m;for(let O=t;O<=a;O++)o[O].x-=I,o[O].y+=x}function mm(o,t,a){const{horizontalAlign:m,verticalAlign:x}=Od(a),D=t[0]-o.displaySize[0]*m,I=t[1]-o.displaySize[1]*x;return{image:o,top:I,bottom:I+o.displaySize[1],left:D,right:D+o.displaySize[0]}}function sh(o,t,a,m,x,D){const I=o.image;let O;if(I.content){const He=I.content,Je=I.pixelRatio||1;O=[He[0]/Je,He[1]/Je,I.displaySize[0]-He[2]/Je,I.displaySize[1]-He[3]/Je]}const L=t.left*D,$=t.right*D;let q,J,oe,pe;"width"===a||"both"===a?(pe=x[0]+L-m[3],J=x[0]+$+m[1]):(pe=x[0]+(L+$-I.displaySize[0])/2,J=pe+I.displaySize[0]);const ye=t.top*D,ke=t.bottom*D;return"height"===a||"both"===a?(q=x[1]+ye-m[0],oe=x[1]+ke+m[2]):(q=x[1]+(ye+ke-I.displaySize[1])/2,oe=q+I.displaySize[1]),{image:I,top:q,right:J,bottom:oe,left:pe,collisionPadding:O}}const Ja=255,gl=128,Bc=Ja*gl;function Fp(o,t){const{expression:a}=t;if("constant"===a.kind)return{kind:"constant",layoutSize:a.evaluate(new pr(o+1))};if("source"===a.kind)return{kind:"source"};{const{zoomStops:m,interpolationType:x}=a;let D=0;for(;D<m.length&&m[D]<=o;)D++;D=Math.max(0,D-1);let I=D;for(;I<m.length&&m[I]<o+1;)I++;I=Math.min(m.length-1,I);const O=m[D],L=m[I];return"composite"===a.kind?{kind:"composite",minZoom:O,maxZoom:L,interpolationType:x}:{kind:"camera",minZoom:O,maxZoom:L,minSize:a.evaluate(new pr(O)),maxSize:a.evaluate(new pr(L)),interpolationType:x}}}function pm(o,t,a){let m="never";const x=o.get(t);return x?m=x:o.get(a)&&(m="always"),m}const vg=Rc.VectorTileFeature.types,dc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function va(o,t,a,m,x,D,I,O,L,$,q,J,oe){const pe=O?Math.min(Bc,Math.round(O[0])):0,ye=O?Math.min(Bc,Math.round(O[1])):0;o.emplaceBack(t,a,Math.round(32*m),Math.round(32*x),D,I,(pe<<1)+(L?1:0),ye,16*$,16*q,256*J,256*oe)}function rd(o,t,a){o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a)}function bg(o){for(const t of o.sections)if(Zs(t.text))return!0;return!1}class ah{constructor(t){this.layoutVertexArray=new xn,this.indexArray=new Eo,this.programConfigurations=t,this.segments=new tr,this.dynamicLayoutVertexArray=new Un,this.opacityVertexArray=new Zr,this.hasVisibleVertices=!1,this.placedSymbolArray=new xt}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,a,m,x){this.isEmpty()||(m&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ku.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Ap.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,dc,!0),this.opacityVertexBuffer.itemSize=1),(m||x)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}it("SymbolBuffers",ah);class lh{constructor(t,a,m){this.layoutVertexArray=new t,this.layoutAttributes=a,this.indexArray=new m,this.segments=new tr,this.collisionVertexArray=new Wr}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,pg.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}it("CollisionBuffers",lh);class uc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(I=>I.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_a([]),this.placementViewportMatrix=_a([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fp(this.zoom,a["text-size"]),this.iconSizeData=Fp(this.zoom,a["icon-size"]);const m=this.layers[0].layout,x=m.get("symbol-sort-key"),D=m.get("symbol-z-order");this.canOverlap="never"!==pm(m,"text-overlap","text-allow-overlap")||"never"!==pm(m,"icon-overlap","icon-allow-overlap")||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==D&&!x.isConstant(),this.sortFeaturesByY=("viewport-y"===D||"auto"===D&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===m.get("symbol-placement")&&(this.writingModes=m.get("text-writing-mode").map(I=>v.WritingMode[I])),this.stateDependentLayerIds=this.layers.filter(I=>I.isStateDependent()).map(I=>I.id),this.sourceID=t.sourceID}createArrays(){this.text=new ah(new Xa(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new ah(new Xa(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new kt,this.lineVertexArray=new Lt,this.symbolInstances=new dt,this.textAnchorOffsets=new ai}calculateGlyphDependencies(t,a,m,x,D){for(let I=0;I<t.length;I++)if(a[t.charCodeAt(I)]=!0,(m||x)&&D){const O=du[t.charAt(I)];O&&(a[O.charCodeAt(0)]=!0)}}populate(t,a,m){const x=this.layers[0],D=x.layout,I=D.get("text-font"),O=D.get("text-field"),L=D.get("icon-image"),$=("constant"!==O.value.kind||O.value.value instanceof cn&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&("constant"!==I.value.kind||I.value.value.length>0),q="constant"!==L.value.kind||!!L.value.value||Object.keys(L.parameters).length>0,J=D.get("symbol-sort-key");if(this.features=[],!$&&!q)return;const oe=a.iconDependencies,pe=a.glyphDependencies,ye=a.availableImages,ke=new pr(this.zoom);for(const{feature:He,id:Je,index:mt,sourceLayerIndex:at}of t){const yt=x._featureFilter.needGeometry,At=_d(He,yt);if(!x._featureFilter.filter(ke,At,m))continue;let Kt,Ai;if(yt||(At.geometry=Kc(He)),$){const Pi=x.getValueAndResolveTokens("text-field",At,m,ye),Si=cn.factory(Pi);bg(Si)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===gs()||this.hasRTLText&&ln.isParsed())&&(Kt=gg(Si,x,At))}if(q){const Pi=x.getValueAndResolveTokens("icon-image",At,m,ye);Ai=Pi instanceof Bn?Pi:Bn.fromString(Pi)}if(!Kt&&!Ai)continue;const Gi=this.sortFeaturesByKey?J.evaluate(At,{},m):void 0;if(this.features.push({id:Je,text:Kt,icon:Ai,index:mt,sourceLayerIndex:at,geometry:At.geometry,properties:He.properties,type:vg[He.type],sortKey:Gi}),Ai&&(oe[Ai.name]=!0),Kt){const Pi=I.evaluate(At,{},m).join(","),Si="viewport"!==D.get("text-rotation-alignment")&&"point"!==D.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(v.WritingMode.vertical)>=0;for(const xi of Kt.sections)if(xi.image)oe[xi.image.name]=!0;else{const Ni=Dn(Kt.toString()),Mi=xi.fontStack||Pi,mi=pe[Mi]=pe[Mi]||{};this.calculateGlyphDependencies(xi.text,mi,Si,this.allowVerticalPlacement,Ni)}}}"line"===D.get("symbol-placement")&&(this.features=function(He){const Je={},mt={},at=[];let yt=0;function At(Pi){at.push(He[Pi]),yt++}function Kt(Pi,Si,xi){const Ni=mt[Pi];return delete mt[Pi],mt[Si]=Ni,at[Ni].geometry[0].pop(),at[Ni].geometry[0]=at[Ni].geometry[0].concat(xi[0]),Ni}function Ai(Pi,Si,xi){const Ni=Je[Si];return delete Je[Si],Je[Pi]=Ni,at[Ni].geometry[0].shift(),at[Ni].geometry[0]=xi[0].concat(at[Ni].geometry[0]),Ni}function Gi(Pi,Si,xi){const Ni=xi?Si[0][Si[0].length-1]:Si[0][0];return`${Pi}:${Ni.x}:${Ni.y}`}for(let Pi=0;Pi<He.length;Pi++){const Si=He[Pi],xi=Si.geometry,Ni=Si.text?Si.text.toString():null;if(!Ni){At(Pi);continue}const Mi=Gi(Ni,xi),mi=Gi(Ni,xi,!0);if(Mi in mt&&mi in Je&&mt[Mi]!==Je[mi]){const tn=Ai(Mi,mi,xi),Zi=Kt(Mi,mi,at[tn].geometry);delete Je[Mi],delete mt[mi],mt[Gi(Ni,at[Zi].geometry,!0)]=Zi,at[tn].geometry=null}else Mi in mt?Kt(Mi,mi,xi):mi in Je?Ai(Mi,mi,xi):(At(Pi),Je[Mi]=yt-1,mt[mi]=yt-1)}return at.filter(Pi=>Pi.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((He,Je)=>He.sortKey-Je.sortKey)}update(t,a,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,a,this.layers,m),this.icon.programConfigurations.updatePaintArrays(t,a,this.layers,m))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,a){const m=this.lineVertexArray.length;if(void 0!==t.segment){let x=t.dist(a[t.segment+1]),D=t.dist(a[t.segment]);const I={};for(let O=t.segment+1;O<a.length;O++)I[O]={x:a[O].x,y:a[O].y,tileUnitDistanceFromAnchor:x},O<a.length-1&&(x+=a[O+1].dist(a[O]));for(let O=t.segment||0;O>=0;O--)I[O]={x:a[O].x,y:a[O].y,tileUnitDistanceFromAnchor:D},O>0&&(D+=a[O-1].dist(a[O]));for(let O=0;O<a.length;O++){const L=I[O];this.lineVertexArray.emplaceBack(L.x,L.y,L.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(t,a,m,x,D,I,O,L,$,q,J,oe){const pe=t.indexArray,ye=t.layoutVertexArray,ke=t.segments.prepareSegment(4*a.length,ye,pe,this.canOverlap?I.sortKey:void 0),He=this.glyphOffsetArray.length,Je=ke.vertexLength,mt=this.allowVerticalPlacement&&O===v.WritingMode.vertical?Math.PI/2:0,at=I.text&&I.text.sections;for(let yt=0;yt<a.length;yt++){const{tl:At,tr:Kt,bl:Ai,br:Gi,tex:Pi,pixelOffsetTL:Si,pixelOffsetBR:xi,minFontScaleX:Ni,minFontScaleY:Mi,glyphOffset:mi,isSDF:tn,sectionIndex:Zi}=a[yt],An=ke.vertexLength,Vr=mi[1];va(ye,L.x,L.y,At.x,Vr+At.y,Pi.x,Pi.y,m,tn,Si.x,Si.y,Ni,Mi),va(ye,L.x,L.y,Kt.x,Vr+Kt.y,Pi.x+Pi.w,Pi.y,m,tn,xi.x,Si.y,Ni,Mi),va(ye,L.x,L.y,Ai.x,Vr+Ai.y,Pi.x,Pi.y+Pi.h,m,tn,Si.x,xi.y,Ni,Mi),va(ye,L.x,L.y,Gi.x,Vr+Gi.y,Pi.x+Pi.w,Pi.y+Pi.h,m,tn,xi.x,xi.y,Ni,Mi),rd(t.dynamicLayoutVertexArray,L,mt),pe.emplaceBack(An,An+1,An+2),pe.emplaceBack(An+1,An+2,An+3),ke.vertexLength+=4,ke.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(mi[0]),yt!==a.length-1&&Zi===a[yt+1].sectionIndex||t.programConfigurations.populatePaintArrays(ye.length,I,I.index,{},oe,at&&at[Zi])}t.placedSymbolArray.emplaceBack(L.x,L.y,He,this.glyphOffsetArray.length-He,Je,$,q,L.segment,m?m[0]:0,m?m[1]:0,x[0],x[1],O,0,!1,0,J)}_addCollisionDebugVertex(t,a,m,x,D,I){return a.emplaceBack(0,0),t.emplaceBack(m.x,m.y,x,D,Math.round(I.x),Math.round(I.y))}addCollisionDebugVertices(t,a,m,x,D,I,O){const L=D.segments.prepareSegment(4,D.layoutVertexArray,D.indexArray),$=L.vertexLength,q=D.layoutVertexArray,J=D.collisionVertexArray,oe=O.anchorX,pe=O.anchorY;this._addCollisionDebugVertex(q,J,I,oe,pe,new Se(t,a)),this._addCollisionDebugVertex(q,J,I,oe,pe,new Se(m,a)),this._addCollisionDebugVertex(q,J,I,oe,pe,new Se(m,x)),this._addCollisionDebugVertex(q,J,I,oe,pe,new Se(t,x)),L.vertexLength+=4;const ye=D.indexArray;ye.emplaceBack($,$+1),ye.emplaceBack($+1,$+2),ye.emplaceBack($+2,$+3),ye.emplaceBack($+3,$),L.primitiveLength+=4}addDebugCollisionBoxes(t,a,m,x){for(let D=t;D<a;D++){const I=this.collisionBoxArray.get(D);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,x?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new lh(fr,cu.members,io),this.iconCollisionBox=new lh(fr,cu.members,io);for(let t=0;t<this.symbolInstances.length;t++){const a=this.symbolInstances.get(t);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(t,a,m,x,D,I,O,L,$){const q={};for(let J=a;J<m;J++){const oe=t.get(J);q.textBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},q.textFeatureIndex=oe.featureIndex;break}for(let J=x;J<D;J++){const oe=t.get(J);q.verticalTextBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},q.verticalTextFeatureIndex=oe.featureIndex;break}for(let J=I;J<O;J++){const oe=t.get(J);q.iconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},q.iconFeatureIndex=oe.featureIndex;break}for(let J=L;J<$;J++){const oe=t.get(J);q.verticalIconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},q.verticalIconFeatureIndex=oe.featureIndex;break}return q}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const m=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,a){const m=t.placedSymbolArray.get(a),x=m.vertexStartIndex+4*m.numGlyphs;for(let D=m.vertexStartIndex;D<x;D+=4)t.indexArray.emplaceBack(D,D+1,D+2),t.indexArray.emplaceBack(D+1,D+2,D+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const a=Math.sin(t),m=Math.cos(t),x=[],D=[],I=[];for(let O=0;O<this.symbolInstances.length;++O){I.push(O);const L=this.symbolInstances.get(O);x.push(0|Math.round(a*L.anchorX+m*L.anchorY)),D.push(L.featureIndex)}return I.sort((O,L)=>x[O]-x[L]||D[L]-D[O]),I}addToSortKeyRanges(t,a){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===a?m.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const m=this.symbolInstances.get(a);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((x,D,I)=>{x>=0&&I.indexOf(x)===D&&this.addIndicesForPlacedSymbol(this.text,x)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Lp,ch;it("SymbolBucket",uc,{omit:["layers","collisionBoxArray","features","compareText"]}),uc.MAX_GLYPHS=65535,uc.addDynamicAttributes=rd;var fm={get paint(){return ch=ch||new Br({"icon-opacity":new en(bt.paint_symbol["icon-opacity"]),"icon-color":new en(bt.paint_symbol["icon-color"]),"icon-halo-color":new en(bt.paint_symbol["icon-halo-color"]),"icon-halo-width":new en(bt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new en(bt.paint_symbol["icon-halo-blur"]),"icon-translate":new qi(bt.paint_symbol["icon-translate"]),"icon-translate-anchor":new qi(bt.paint_symbol["icon-translate-anchor"]),"text-opacity":new en(bt.paint_symbol["text-opacity"]),"text-color":new en(bt.paint_symbol["text-color"],{runtimeType:Qi,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new en(bt.paint_symbol["text-halo-color"]),"text-halo-width":new en(bt.paint_symbol["text-halo-width"]),"text-halo-blur":new en(bt.paint_symbol["text-halo-blur"]),"text-translate":new qi(bt.paint_symbol["text-translate"]),"text-translate-anchor":new qi(bt.paint_symbol["text-translate-anchor"])})},get layout(){return Lp=Lp||new Br({"symbol-placement":new qi(bt.layout_symbol["symbol-placement"]),"symbol-spacing":new qi(bt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qi(bt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new en(bt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qi(bt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qi(bt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qi(bt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qi(bt.layout_symbol["icon-ignore-placement"]),"icon-optional":new qi(bt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qi(bt.layout_symbol["icon-rotation-alignment"]),"icon-size":new en(bt.layout_symbol["icon-size"]),"icon-text-fit":new qi(bt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qi(bt.layout_symbol["icon-text-fit-padding"]),"icon-image":new en(bt.layout_symbol["icon-image"]),"icon-rotate":new en(bt.layout_symbol["icon-rotate"]),"icon-padding":new en(bt.layout_symbol["icon-padding"]),"icon-keep-upright":new qi(bt.layout_symbol["icon-keep-upright"]),"icon-offset":new en(bt.layout_symbol["icon-offset"]),"icon-anchor":new en(bt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qi(bt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qi(bt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qi(bt.layout_symbol["text-rotation-alignment"]),"text-field":new en(bt.layout_symbol["text-field"]),"text-font":new en(bt.layout_symbol["text-font"]),"text-size":new en(bt.layout_symbol["text-size"]),"text-max-width":new en(bt.layout_symbol["text-max-width"]),"text-line-height":new qi(bt.layout_symbol["text-line-height"]),"text-letter-spacing":new en(bt.layout_symbol["text-letter-spacing"]),"text-justify":new en(bt.layout_symbol["text-justify"]),"text-radial-offset":new en(bt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qi(bt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new en(bt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new en(bt.layout_symbol["text-anchor"]),"text-max-angle":new qi(bt.layout_symbol["text-max-angle"]),"text-writing-mode":new qi(bt.layout_symbol["text-writing-mode"]),"text-rotate":new en(bt.layout_symbol["text-rotate"]),"text-padding":new qi(bt.layout_symbol["text-padding"]),"text-keep-upright":new qi(bt.layout_symbol["text-keep-upright"]),"text-transform":new en(bt.layout_symbol["text-transform"]),"text-offset":new en(bt.layout_symbol["text-offset"]),"text-allow-overlap":new qi(bt.layout_symbol["text-allow-overlap"]),"text-overlap":new qi(bt.layout_symbol["text-overlap"]),"text-ignore-placement":new qi(bt.layout_symbol["text-ignore-placement"]),"text-optional":new qi(bt.layout_symbol["text-optional"])})}};class Np{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:pi,this.defaultValue=t}evaluate(t){if(t.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(t.formattedSection))return a.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}it("FormatSectionOverride",Np,{omit:["defaultValue"]});class mu extends os{constructor(t){super(t,fm)}recalculate(t,a){if(super.recalculate(t,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const m=this.layout.get("text-writing-mode");if(m){const x=[];for(const D of m)x.indexOf(D)<0&&x.push(D);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,a,m,x){const D=this.layout.get(t).evaluate(a,{},m,x),I=this._unevaluatedLayout._values[t];return I.isDataDriven()||xe(I.value)||!D?D:(O=a.properties,D.replace(/{([^{}]+)}/g,($,q)=>q in O?String(O[q]):""));var O}createBucket(t){return new uc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of fm.paint.overridableProperties){if(!mu.hasPaintOverride(this.layout,t))continue;const a=this.paint.get(t),m=new Np(a),x=new G(m,a.property.specification);let D=null;D="constant"===a.value.kind||"source"===a.value.kind?new Ii("source",x):new $r("composite",x,a.value.zoomStops),this.paint._values[t]=new ks(a.property,D,a.parameters)}}_handleOverridablePaintPropertyUpdate(t,a,m){return!(!this.layout||a.isDataDriven()||m.isDataDriven())&&mu.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,a){const m=t.get("text-field"),x=fm.paint.properties[a];let D=!1;const I=O=>{for(const L of O)if(x.overrides&&x.overrides.hasOverride(L))return void(D=!0)};if("constant"===m.value.kind&&m.value.value instanceof cn)I(m.value.value.sections);else if("source"===m.value.kind){const O=$=>{D||($ instanceof yr&&Xi($.value)===Y?I($.value.sections):$ instanceof so?I($.sections):$.eachChild(O))},L=m.value;L._styleExpression&&O(L._styleExpression.expression)}return D}}let gm;var dh={get paint(){return gm=gm||new Br({"background-color":new qi(bt.paint_background["background-color"]),"background-pattern":new Ps(bt.paint_background["background-pattern"]),"background-opacity":new qi(bt.paint_background["background-opacity"])})}};class hc extends os{constructor(t){super(t,dh)}}let Rd;var zp={get paint(){return Rd=Rd||new Br({"raster-opacity":new qi(bt.paint_raster["raster-opacity"]),"raster-hue-rotate":new qi(bt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qi(bt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qi(bt.paint_raster["raster-brightness-max"]),"raster-saturation":new qi(bt.paint_raster["raster-saturation"]),"raster-contrast":new qi(bt.paint_raster["raster-contrast"]),"raster-resampling":new qi(bt.paint_raster["raster-resampling"]),"raster-fade-duration":new qi(bt.paint_raster["raster-fade-duration"])})}};class Bp extends os{constructor(t){super(t,zp)}}class _m extends os{constructor(t){super(t,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class q_{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Vp=6371008.8;class od{constructor(t,a){if(isNaN(t)||isNaN(a))throw new Error(`Invalid LngLat object: (${t}, ${a})`);if(this.lng=+t,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new od(ti(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const a=Math.PI/180,m=this.lat*a,x=t.lat*a,D=Math.sin(m)*Math.sin(x)+Math.cos(m)*Math.cos(x)*Math.cos((t.lng-this.lng)*a);return Vp*Math.acos(Math.min(D,1))}static convert(t){if(t instanceof od)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new od(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new od(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const pu=2*Math.PI*Vp;function uh(o){return pu*Math.cos(o*Math.PI/180)}function xg(o){return(180+o)/360}function wg(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function ym(o,t){return o/uh(t)}function fu(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class hh{constructor(t,a,m=0){this.x=+t,this.y=+a,this.z=+m}static fromLngLat(t,a=0){const m=od.convert(t);return new hh(xg(m.lng),wg(m.lat),ym(a,m.lat))}toLngLat(){return new od(360*this.x-180,fu(this.y))}toAltitude(){return this.z*uh(fu(this.y))}meterInMercatorCoordinateUnits(){return 1/pu*(t=fu(this.y),1/Math.cos(t*Math.PI/180));var t}}function Up(o,t,a){var m=2*Math.PI*6378137/256/Math.pow(2,a);return[o*m-2*Math.PI*6378137/2,t*m-2*Math.PI*6378137/2]}class vm{constructor(t,a,m){if(t<0||t>25||m<0||m>=Math.pow(2,t)||a<0||a>=Math.pow(2,t))throw new Error(`x=${a}, y=${m}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=a,this.y=m,this.key=Vc(0,t,t,a,m)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,a,m){const x=(I=this.y,O=this.z,L=Up(256*(D=this.x),256*(I=Math.pow(2,O)-I-1),O),$=Up(256*(D+1),256*(I+1),O),L[0]+","+L[1]+","+$[0]+","+$[1]);var D,I,O,L,$;const q=function(J,oe,pe){let ye,ke="";for(let He=J;He>0;He--)ye=1<<He-1,ke+=(oe&ye?1:0)+(pe&ye?2:0);return ke}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===m?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,q).replace(/{bbox-epsg-3857}/g,x)}isChildOf(t){const a=this.z-t.z;return a>0&&t.x===this.x>>a&&t.y===this.y>>a}getTilePoint(t){const a=Math.pow(2,this.z);return new Se((t.x*a-this.x)*vo,(t.y*a-this.y)*vo)}toString(){return`${this.z}/${this.x}/${this.y}`}}class gu{constructor(t,a){this.wrap=t,this.canonical=a,this.key=Vc(t,a.z,a.z,a.x,a.y)}}class Ks{constructor(t,a,m,x,D){if(t<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${m}`);this.overscaledZ=t,this.wrap=a,this.canonical=new vm(m,+x,+D),this.key=Vc(a,t,m,x,D)}clone(){return new Ks(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const a=this.canonical.z-t;return t>this.canonical.z?new Ks(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ks(t,this.wrap,t,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(t,a){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-t;return t>this.canonical.z?Vc(this.wrap*+a,t,this.canonical.z,this.canonical.x,this.canonical.y):Vc(this.wrap*+a,t,t,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const a=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>a&&t.canonical.y===this.canonical.y>>a}children(t){if(this.overscaledZ>=t)return[new Ks(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,m=2*this.canonical.x,x=2*this.canonical.y;return[new Ks(a,this.wrap,a,m,x),new Ks(a,this.wrap,a,m+1,x),new Ks(a,this.wrap,a,m,x+1),new Ks(a,this.wrap,a,m+1,x+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Ks(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Ks(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new gu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new hh(t.x-this.wrap,t.y))}}function Vc(o,t,a,m,x){(o*=2)<0&&(o=-1*o-1);const D=1<<a;return(D*D*o+D*x+m).toString(36)+a.toString(36)+t.toString(36)}it("CanonicalTileID",vm),it("OverscaledTileID",Ks,{omit:["posMatrix"]});class mh{constructor(t,a,m,x=1,D=1,I=1,O=0){if(this.uid=t,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void ui(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=a.height;const L=this.dim=a.height-2;switch(this.data=new Uint32Array(a.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=x,this.greenFactor=D,this.blueFactor=I,this.baseShift=O;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let $=0;$<L;$++)this.data[this._idx(-1,$)]=this.data[this._idx(0,$)],this.data[this._idx(L,$)]=this.data[this._idx(L-1,$)],this.data[this._idx($,-1)]=this.data[this._idx($,0)],this.data[this._idx($,L)]=this.data[this._idx($,L-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(L,-1)]=this.data[this._idx(L-1,0)],this.data[this._idx(-1,L)]=this.data[this._idx(0,L-1)],this.data[this._idx(L,L)]=this.data[this._idx(L-1,L-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let $=0;$<L;$++)for(let q=0;q<L;q++){const J=this.get($,q);J>this.max&&(this.max=J),J<this.min&&(this.min=J)}}get(t,a){const m=new Uint8Array(this.data.buffer),x=4*this._idx(t,a);return this.unpack(m[x],m[x+1],m[x+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,a){if(t<-1||t>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(t+1)}unpack(t,a,m){return t*this.redFactor+a*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new Ys({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,a,m){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let x=a*this.dim,D=a*this.dim+this.dim,I=m*this.dim,O=m*this.dim+this.dim;switch(a){case-1:x=D-1;break;case 1:D=x+1}switch(m){case-1:I=O-1;break;case 1:O=I+1}const L=-a*this.dim,$=-m*this.dim;for(let q=I;q<O;q++)for(let J=x;J<D;J++)this.data[this._idx(J,q)]=t.data[this._idx(J+L,q+$)]}}it("DEMData",mh);class jp{constructor(t){this._stringToNumber={},this._numberToString=[];for(let a=0;a<t.length;a++){const m=t[a];this._stringToNumber[m]=a,this._numberToString[a]=m}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Uc{constructor(t,a,m,x,D){this.type="Feature",this._vectorTileFeature=t,t._z=a,t._x=m,t._y=x,this.properties=t.properties,this.id=D}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const a in this)"_geometry"!==a&&"_vectorTileFeature"!==a&&(t[a]=this[a]);return t}}class bm{constructor(t,a){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new me(vo,16,0),this.grid3D=new me(vo,16,0),this.featureIndexArray=new _i,this.promoteId=a}insert(t,a,m,x,D,I){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,x,D);const L=I?this.grid3D:this.grid;for(let $=0;$<a.length;$++){const q=a[$],J=[1/0,1/0,-1/0,-1/0];for(let oe=0;oe<q.length;oe++){const pe=q[oe];J[0]=Math.min(J[0],pe.x),J[1]=Math.min(J[1],pe.y),J[2]=Math.max(J[2],pe.x),J[3]=Math.max(J[3],pe.y)}J[0]<vo&&J[1]<vo&&J[2]>=0&&J[3]>=0&&L.insert(O,J[0],J[1],J[2],J[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Rc.VectorTile(new uu(this.rawTileData)).layers,this.sourceLayerCoder=new jp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,a,m,x){this.loadVTLayers();const D=t.params||{},I=vo/t.tileSize/t.scale,O=Yl(D.filter),L=t.queryGeometry,$=t.queryPadding*I,q=xm(L),J=this.grid.query(q.minX-$,q.minY-$,q.maxX+$,q.maxY+$),oe=xm(t.cameraQueryGeometry),pe=this.grid3D.query(oe.minX-$,oe.minY-$,oe.maxX+$,oe.maxY+$,(He,Je,mt,at)=>function(yt,At,Kt,Ai,Gi){for(const Si of yt)if(At<=Si.x&&Kt<=Si.y&&Ai>=Si.x&&Gi>=Si.y)return!0;const Pi=[new Se(At,Kt),new Se(At,Gi),new Se(Ai,Gi),new Se(Ai,Kt)];if(yt.length>2)for(const Si of Pi)if(vd(yt,Si))return!0;for(let Si=0;Si<yt.length-1;Si++)if(Rs(yt[Si],yt[Si+1],Pi))return!0;return!1}(t.cameraQueryGeometry,He-$,Je-$,mt+$,at+$));for(const He of pe)J.push(He);J.sort($p);const ye={};let ke;for(let He=0;He<J.length;He++){const Je=J[He];if(Je===ke)continue;ke=Je;const mt=this.featureIndexArray.get(Je);let at=null;this.loadMatchingFeature(ye,mt.bucketIndex,mt.sourceLayerIndex,mt.featureIndex,O,D.layers,D.availableImages,a,m,x,(yt,At,Kt)=>(at||(at=Kc(yt)),At.queryIntersectsFeature(L,yt,Kt,at,this.z,t.transform,I,t.pixelPosMatrix)))}return ye}loadMatchingFeature(t,a,m,x,D,I,O,L,$,q,J){const oe=this.bucketLayerIDs[a];if(I&&!function(He,Je){for(let mt=0;mt<He.length;mt++)if(Je.indexOf(He[mt])>=0)return!0;return!1}(I,oe))return;const pe=this.sourceLayerCoder.decode(m),ye=this.vtLayers[pe].feature(x);if(D.needGeometry){const He=_d(ye,!0);if(!D.filter(new pr(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!D.filter(new pr(this.tileID.overscaledZ),ye))return;const ke=this.getId(ye,pe);for(let He=0;He<oe.length;He++){const Je=oe[He];if(I&&I.indexOf(Je)<0)continue;const mt=L[Je];if(!mt)continue;let at={};ke&&q&&(at=q.getState(mt.sourceLayer||"_geojsonTileLayer",ke));const yt=Oe({},$[Je]);yt.paint=Hp(yt.paint,mt.paint,ye,at,O),yt.layout=Hp(yt.layout,mt.layout,ye,at,O);const At=!J||J(ye,mt,at);if(!At)continue;const Kt=new Uc(ye,this.z,this.x,this.y,ke);Kt.layer=yt;let Ai=t[Je];void 0===Ai&&(Ai=t[Je]=[]),Ai.push({featureIndex:x,feature:Kt,intersectionZ:At})}}lookupSymbolFeatures(t,a,m,x,D,I,O,L){const $={};this.loadVTLayers();const q=Yl(D);for(const J of t)this.loadMatchingFeature($,m,x,J,q,I,O,L,a);return $}hasLayer(t){for(const a of this.bucketLayerIDs)for(const m of a)if(t===m)return!0;return!1}getId(t,a){let m=t.id;return this.promoteId&&(m=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[a]],"boolean"==typeof m&&(m=Number(m))),m}}function Hp(o,t,a,m,x){return Re(o,(D,I)=>{const O=t instanceof Rl?t.get(I):null;return O&&O.evaluate?O.evaluate(a,m,x):O})}function xm(o){let t=1/0,a=1/0,m=-1/0,x=-1/0;for(const D of o)t=Math.min(t,D.x),a=Math.min(a,D.y),m=Math.max(m,D.x),x=Math.max(x,D.y);return{minX:t,minY:a,maxX:m,maxY:x}}function $p(o,t){return t-o}function Gp(o,t,a,m,x){const D=[];for(let I=0;I<o.length;I++){const O=o[I];let L;for(let $=0;$<O.length-1;$++){let q=O[$],J=O[$+1];q.x<t&&J.x<t||(q.x<t?q=new Se(t,q.y+(t-q.x)/(J.x-q.x)*(J.y-q.y))._round():J.x<t&&(J=new Se(t,q.y+(t-q.x)/(J.x-q.x)*(J.y-q.y))._round()),q.y<a&&J.y<a||(q.y<a?q=new Se(q.x+(a-q.y)/(J.y-q.y)*(J.x-q.x),a)._round():J.y<a&&(J=new Se(q.x+(a-q.y)/(J.y-q.y)*(J.x-q.x),a)._round()),q.x>=m&&J.x>=m||(q.x>=m?q=new Se(m,q.y+(m-q.x)/(J.x-q.x)*(J.y-q.y))._round():J.x>=m&&(J=new Se(m,q.y+(m-q.x)/(J.x-q.x)*(J.y-q.y))._round()),q.y>=x&&J.y>=x||(q.y>=x?q=new Se(q.x+(x-q.y)/(J.y-q.y)*(J.x-q.x),x)._round():J.y>=x&&(J=new Se(q.x+(x-q.y)/(J.y-q.y)*(J.x-q.x),x)._round()),L&&q.equals(L[L.length-1])||(L=[q],D.push(L)),L.push(J)))))}}return D}it("FeatureIndex",bm,{omit:["rawTileData","sourceLayerCoder"]});class jc extends Se{constructor(t,a,m,x){super(t,a),this.angle=m,void 0!==x&&(this.segment=x)}clone(){return new jc(this.x,this.y,this.angle,this.segment)}}function Zp(o,t,a,m,x){if(void 0===t.segment||0===a)return!0;let D=t,I=t.segment+1,O=0;for(;O>-a/2;){if(I--,I<0)return!1;O-=o[I].dist(D),D=o[I]}O+=o[I].dist(o[I+1]),I++;const L=[];let $=0;for(;O<a/2;){const q=o[I],J=o[I+1];if(!J)return!1;let oe=o[I-1].angleTo(q)-q.angleTo(J);for(oe=Math.abs((oe+3*Math.PI)%(2*Math.PI)-Math.PI),L.push({distance:O,angleDelta:oe}),$+=oe;O-L[0].distance>m;)$-=L.shift().angleDelta;if($>x)return!1;I++,O+=q.dist(J)}return!0}function Wp(o){let t=0;for(let a=0;a<o.length-1;a++)t+=o[a].dist(o[a+1]);return t}function ph(o,t,a){return o?.6*t*a:0}function qp(o,t){return Math.max(o?o.right-o.left:0,t?t.right-t.left:0)}function Cg(o,t,a,m,x,D){const I=ph(a,x,D),O=qp(a,m)*D;let L=0;const $=Wp(o)/2;for(let q=0;q<o.length-1;q++){const J=o[q],oe=o[q+1],pe=J.dist(oe);if(L+pe>$){const ye=($-L)/pe,ke=Rr.number(J.x,oe.x,ye),He=Rr.number(J.y,oe.y,ye),Je=new jc(ke,He,oe.angleTo(J),q);return Je._round(),!I||Zp(o,Je,O,I,t)?Je:void 0}L+=pe}}function _u(o,t,a,m,x,D,I,O,L){const $=ph(m,D,I),q=qp(m,x),J=q*I,oe=0===o[0].x||o[0].x===L||0===o[0].y||o[0].y===L;return t-J<t/4&&(t=J+t/4),gr(o,oe?t/2*O%t:(q/2+2*D)*I*O%t,t,$,a,J,oe,!1,L)}function gr(o,t,a,m,x,D,I,O,L){const $=D/2,q=Wp(o);let J=0,oe=t-a,pe=[];for(let ye=0;ye<o.length-1;ye++){const ke=o[ye],He=o[ye+1],Je=ke.dist(He),mt=He.angleTo(ke);for(;oe+a<J+Je;){oe+=a;const at=(oe-J)/Je,yt=Rr.number(ke.x,He.x,at),At=Rr.number(ke.y,He.y,at);if(yt>=0&&yt<L&&At>=0&&At<L&&oe-$>=0&&oe+$<=q){const Kt=new jc(yt,At,mt,ye);Kt._round(),m&&!Zp(o,Kt,D,m,x)||pe.push(Kt)}}J+=Je}return O||pe.length||I||(pe=gr(o,J/2,a,m,x,D,I,!0,L)),pe}it("Anchor",jc);const Vl=Ns;function wm(o,t,a,m){const x=[],D=o.image,I=D.pixelRatio,O=D.paddedRect.w-2*Vl,L=D.paddedRect.h-2*Vl,$=o.right-o.left,q=o.bottom-o.top,J=D.stretchX||[[0,O]],oe=D.stretchY||[[0,L]],pe=(xi,Ni)=>xi+Ni[1]-Ni[0],ye=J.reduce(pe,0),ke=oe.reduce(pe,0),He=O-ye,Je=L-ke;let mt=0,at=ye,yt=0,At=ke,Kt=0,Ai=He,Gi=0,Pi=Je;if(D.content&&m){const xi=D.content;mt=Fd(J,0,xi[0]),yt=Fd(oe,0,xi[1]),at=Fd(J,xi[0],xi[2]),At=Fd(oe,xi[1],xi[3]),Kt=xi[0]-mt,Gi=xi[1]-yt,Ai=xi[2]-xi[0]-at,Pi=xi[3]-xi[1]-At}const Si=(xi,Ni,Mi,mi)=>{const tn=Ld(xi.stretch-mt,at,$,o.left),Zi=sd(xi.fixed-Kt,Ai,xi.stretch,ye),An=Ld(Ni.stretch-yt,At,q,o.top),Vr=sd(Ni.fixed-Gi,Pi,Ni.stretch,ke),Pr=Ld(Mi.stretch-mt,at,$,o.left),Do=sd(Mi.fixed-Kt,Ai,Mi.stretch,ye),zs=Ld(mi.stretch-yt,At,q,o.top),Xs=sd(mi.fixed-Gi,Pi,mi.stretch,ke),So=new Se(tn,An),as=new Se(Pr,An),ls=new Se(Pr,zs),ba=new Se(tn,zs),Js=new Se(Zi/I,Vr/I),co=new Se(Do/I,Xs/I),To=t*Math.PI/180;if(To){const Bs=Math.sin(To),Qs=Math.cos(To),xa=[Qs,-Bs,Bs,Qs];So._matMult(xa),as._matMult(xa),ba._matMult(xa),ls._matMult(xa)}const Bo=xi.stretch+xi.fixed,Qo=Ni.stretch+Ni.fixed;return{tl:So,tr:as,bl:ba,br:ls,tex:{x:D.paddedRect.x+Vl+Bo,y:D.paddedRect.y+Vl+Qo,w:Mi.stretch+Mi.fixed-Bo,h:mi.stretch+mi.fixed-Qo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Js,pixelOffsetBR:co,minFontScaleX:Ai/I/$,minFontScaleY:Pi/I/q,isSDF:a}};if(m&&(D.stretchX||D.stretchY)){const xi=Cm(J,He,ye),Ni=Cm(oe,Je,ke);for(let Mi=0;Mi<xi.length-1;Mi++){const mi=xi[Mi],tn=xi[Mi+1];for(let Zi=0;Zi<Ni.length-1;Zi++)x.push(Si(mi,Ni[Zi],tn,Ni[Zi+1]))}}else x.push(Si({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:L+1}));return x}function Fd(o,t,a){let m=0;for(const x of o)m+=Math.max(t,Math.min(a,x[1]))-Math.max(t,Math.min(a,x[0]));return m}function Cm(o,t,a){const m=[{fixed:-Vl,stretch:0}];for(const[x,D]of o){const I=m[m.length-1];m.push({fixed:x-I.stretch,stretch:I.stretch}),m.push({fixed:x-I.stretch,stretch:I.stretch+(D-x)})}return m.push({fixed:t+Vl,stretch:a}),m}function Ld(o,t,a,m){return o/t*a+m}function sd(o,t,a,m){return o-t*a/m}class yu{constructor(t,a,m,x,D,I,O,L,$,q){if(this.boxStartIndex=t.length,$){let J=I.top,oe=I.bottom;const pe=I.collisionPadding;pe&&(J-=pe[1],oe+=pe[3]);let ye=oe-J;ye>0&&(ye=Math.max(10,ye),this.circleDiameter=ye)}else{let J=I.top*O-L[0],oe=I.bottom*O+L[2],pe=I.left*O-L[3],ye=I.right*O+L[1];const ke=I.collisionPadding;if(ke&&(pe-=ke[0]*O,J-=ke[1]*O,ye+=ke[2]*O,oe+=ke[3]*O),q){const He=new Se(pe,J),Je=new Se(ye,J),mt=new Se(pe,oe),at=new Se(ye,oe),yt=q*Math.PI/180;He._rotate(yt),Je._rotate(yt),mt._rotate(yt),at._rotate(yt),pe=Math.min(He.x,Je.x,mt.x,at.x),ye=Math.max(He.x,Je.x,mt.x,at.x),J=Math.min(He.y,Je.y,mt.y,at.y),oe=Math.max(He.y,Je.y,mt.y,at.y)}t.emplaceBack(a.x,a.y,pe,J,ye,oe,m,x,D)}this.boxEndIndex=t.length}}class Em{constructor(t=[],a=Mm){if(this.data=t,this.length=this.data.length,this.compare=a,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:a,compare:m}=this,x=a[t];for(;t>0;){const D=t-1>>1,I=a[D];if(m(x,I)>=0)break;a[t]=I,t=D}a[t]=x}_down(t){const{data:a,compare:m}=this,x=this.length>>1,D=a[t];for(;t<x;){let I=1+(t<<1),O=a[I];const L=I+1;if(L<this.length&&m(a[L],O)<0&&(I=L,O=a[L]),m(O,D)>=0)break;a[t]=O,t=I}a[t]=D}}function Mm(o,t){return o<t?-1:o>t?1:0}function Y_(o,t=1,a=!1){let m=1/0,x=1/0,D=-1/0,I=-1/0;const O=o[0];for(let pe=0;pe<O.length;pe++){const ye=O[pe];(!pe||ye.x<m)&&(m=ye.x),(!pe||ye.y<x)&&(x=ye.y),(!pe||ye.x>D)&&(D=ye.x),(!pe||ye.y>I)&&(I=ye.y)}const L=Math.min(D-m,I-x);let $=L/2;const q=new Em([],Dm);if(0===L)return new Se(m,x);for(let pe=m;pe<D;pe+=L)for(let ye=x;ye<I;ye+=L)q.push(new Nd(pe+$,ye+$,$,o));let J=function(pe){let ye=0,ke=0,He=0;const Je=pe[0];for(let mt=0,at=Je.length,yt=at-1;mt<at;yt=mt++){const At=Je[mt],Kt=Je[yt],Ai=At.x*Kt.y-Kt.x*At.y;ke+=(At.x+Kt.x)*Ai,He+=(At.y+Kt.y)*Ai,ye+=3*Ai}return new Nd(ke/ye,He/ye,0,pe)}(o),oe=q.length;for(;q.length;){const pe=q.pop();(pe.d>J.d||!J.d)&&(J=pe,a&&console.log("found best %d after %d probes",Math.round(1e4*pe.d)/1e4,oe)),pe.max-J.d<=t||($=pe.h/2,q.push(new Nd(pe.p.x-$,pe.p.y-$,$,o)),q.push(new Nd(pe.p.x+$,pe.p.y-$,$,o)),q.push(new Nd(pe.p.x-$,pe.p.y+$,$,o)),q.push(new Nd(pe.p.x+$,pe.p.y+$,$,o)),oe+=4)}return a&&(console.log(`num probes: ${oe}`),console.log(`best distance: ${J.d}`)),J.p}function Dm(o,t){return t.max-o.max}function Nd(o,t,a,m){this.p=new Se(o,t),this.h=a,this.d=function(x,D){let I=!1,O=1/0;for(let L=0;L<D.length;L++){const $=D[L];for(let q=0,J=$.length,oe=J-1;q<J;oe=q++){const pe=$[q],ye=$[oe];pe.y>x.y!=ye.y>x.y&&x.x<(ye.x-pe.x)*(x.y-pe.y)/(ye.y-pe.y)+pe.x&&(I=!I),O=Math.min(O,ap(x,pe,ye))}}return(I?1:-1)*Math.sqrt(O)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Jo;v.TextAnchorEnum=void 0,(Jo=v.TextAnchorEnum||(v.TextAnchorEnum={}))[Jo.center=1]="center",Jo[Jo.left=2]="left",Jo[Jo.right=3]="right",Jo[Jo.top=4]="top",Jo[Jo.bottom=5]="bottom",Jo[Jo["top-left"]=6]="top-left",Jo[Jo["top-right"]=7]="top-right",Jo[Jo["bottom-left"]=8]="bottom-left",Jo[Jo["bottom-right"]=9]="bottom-right";const mc=7,fh=Number.POSITIVE_INFINITY;function Hc(o,t){return t[1]!==fh?function(a,m,x){let D=0,I=0;switch(m=Math.abs(m),x=Math.abs(x),a){case"top-right":case"top-left":case"top":I=x-mc;break;case"bottom-right":case"bottom-left":case"bottom":I=-x+mc}switch(a){case"top-right":case"bottom-right":case"right":D=-m;break;case"top-left":case"bottom-left":case"left":D=m}return[D,I]}(o,t[0],t[1]):function(a,m){let x=0,D=0;m<0&&(m=0);const I=m/Math.SQRT2;switch(a){case"top-right":case"top-left":D=I-mc;break;case"bottom-right":case"bottom-left":D=-I+mc;break;case"bottom":D=-m+mc;break;case"top":D=m-mc}switch(a){case"top-right":case"bottom-right":x=-I;break;case"top-left":case"bottom-left":x=I;break;case"left":x=m;break;case"right":x=-m}return[x,D]}(o,t[0])}function Yp(o,t,a){var m;const x=o.layout,D=null===(m=x.get("text-variable-anchor-offset"))||void 0===m?void 0:m.evaluate(t,{},a);if(D){const O=D.values,L=[];for(let $=0;$<O.length;$+=2){const q=L[$]=O[$],J=O[$+1].map(oe=>oe*zo);q.startsWith("top")?J[1]-=mc:q.startsWith("bottom")&&(J[1]+=mc),L[$+1]=J}return new In(L)}const I=x.get("text-variable-anchor");if(I){let O;O=void 0!==o._unevaluatedLayout.getValue("text-radial-offset")?[x.get("text-radial-offset").evaluate(t,{},a)*zo,fh]:x.get("text-offset").evaluate(t,{},a).map($=>$*zo);const L=[];for(const $ of I)L.push($,Hc($,O));return new In(L)}return null}function vu(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gh(o,t,a,m,x,D,I,O,L,$,q){let J=D.textMaxSize.evaluate(t,{});void 0===J&&(J=I);const oe=o.layers[0].layout,pe=oe.get("icon-offset").evaluate(t,{},q),ye=_h(a.horizontal),ke=I/24,He=o.tilePixelRatio*ke,Je=o.tilePixelRatio*J/24,mt=o.tilePixelRatio*O,at=o.tilePixelRatio*oe.get("symbol-spacing"),yt=oe.get("text-padding")*o.tilePixelRatio,At=function(mi,tn,Zi,An=1){const Vr=mi.get("icon-padding").evaluate(tn,{},Zi),Pr=Vr&&Vr.values;return[Pr[0]*An,Pr[1]*An,Pr[2]*An,Pr[3]*An]}(oe,t,q,o.tilePixelRatio),Kt=oe.get("text-max-angle")/180*Math.PI,Ai="viewport"!==oe.get("text-rotation-alignment")&&"point"!==oe.get("symbol-placement"),Gi="map"===oe.get("icon-rotation-alignment")&&"point"!==oe.get("symbol-placement"),Pi=oe.get("symbol-placement"),Si=at/2,xi=oe.get("icon-text-fit");let Ni;m&&"none"!==xi&&(o.allowVerticalPlacement&&a.vertical&&(Ni=sh(m,a.vertical,xi,oe.get("icon-text-fit-padding"),pe,ke)),ye&&(m=sh(m,ye,xi,oe.get("icon-text-fit-padding"),pe,ke)));const Mi=(mi,tn)=>{tn.x<0||tn.x>=vo||tn.y<0||tn.y>=vo||function(Zi,An,Vr,Pr,Do,zs,Xs,So,as,ls,ba,Js,co,To,Bo,Qo,Bs,Qs,xa,Vo,jn,bs,xs,Io,ea){const Qa=Zi.addToLineVertexArray(An,Vr);let Ul,_l,Vs,ta,ia=0,jl=0,Mu=0,Qp=0,Im=-1,Am=-1;const Hl={};let ef=_o("");if(Zi.allowVerticalPlacement&&Pr.vertical){const ws=So.layout.get("text-rotate").evaluate(jn,{},Io)+90;Vs=new yu(as,An,ls,ba,Js,Pr.vertical,co,To,Bo,ws),Xs&&(ta=new yu(as,An,ls,ba,Js,Xs,Bs,Qs,Bo,ws))}if(Do){const ws=So.layout.get("icon-rotate").evaluate(jn,{}),un="none"!==So.layout.get("icon-text-fit"),Gc=wm(Do,ws,xs,un),tl=Xs?wm(Xs,ws,xs,un):void 0;_l=new yu(as,An,ls,ba,Js,Do,Bs,Qs,!1,ws),ia=4*Gc.length;const Bd=Zi.iconSizeData;let $l=null;"source"===Bd.kind?($l=[gl*So.layout.get("icon-size").evaluate(jn,{})],$l[0]>Bc&&ui(`${Zi.layerIds[0]}: Value for "icon-size" is >= ${Ja}. Reduce your "icon-size".`)):"composite"===Bd.kind&&($l=[gl*bs.compositeIconSizes[0].evaluate(jn,{},Io),gl*bs.compositeIconSizes[1].evaluate(jn,{},Io)],($l[0]>Bc||$l[1]>Bc)&&ui(`${Zi.layerIds[0]}: Value for "icon-size" is >= ${Ja}. Reduce your "icon-size".`)),Zi.addSymbols(Zi.icon,Gc,$l,Vo,xa,jn,v.WritingMode.none,An,Qa.lineStartIndex,Qa.lineLength,-1,Io),Im=Zi.icon.placedSymbolArray.length-1,tl&&(jl=4*tl.length,Zi.addSymbols(Zi.icon,tl,$l,Vo,xa,jn,v.WritingMode.vertical,An,Qa.lineStartIndex,Qa.lineLength,-1,Io),Am=Zi.icon.placedSymbolArray.length-1)}const km=Object.keys(Pr.horizontal);for(const ws of km){const un=Pr.horizontal[ws];if(!Ul){ef=_o(un.text);const tl=So.layout.get("text-rotate").evaluate(jn,{},Io);Ul=new yu(as,An,ls,ba,Js,un,co,To,Bo,tl)}const Gc=1===un.positionedLines.length;if(Mu+=Kp(Zi,An,un,zs,So,Bo,jn,Qo,Qa,Pr.vertical?v.WritingMode.horizontal:v.WritingMode.horizontalOnly,Gc?km:[ws],Hl,Im,bs,Io),Gc)break}Pr.vertical&&(Qp+=Kp(Zi,An,Pr.vertical,zs,So,Bo,jn,Qo,Qa,v.WritingMode.vertical,["vertical"],Hl,Am,bs,Io));const zd=Ul?Ul.boxStartIndex:Zi.collisionBoxArray.length,pc=Ul?Ul.boxEndIndex:Zi.collisionBoxArray.length,tf=Vs?Vs.boxStartIndex:Zi.collisionBoxArray.length,K_=Vs?Vs.boxEndIndex:Zi.collisionBoxArray.length,Eg=_l?_l.boxStartIndex:Zi.collisionBoxArray.length,X_=_l?_l.boxEndIndex:Zi.collisionBoxArray.length,J_=ta?ta.boxStartIndex:Zi.collisionBoxArray.length,Pm=ta?ta.boxEndIndex:Zi.collisionBoxArray.length;let el=-1;const Om=(ws,un)=>ws&&ws.circleDiameter?Math.max(ws.circleDiameter,un):un;el=Om(Ul,el),el=Om(Vs,el),el=Om(_l,el),el=Om(ta,el);const Rm=el>-1?1:0;Rm&&(el*=ea/zo),Zi.glyphOffsetArray.length>=uc.MAX_GLYPHS&&ui("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==jn.sortKey&&Zi.addToSortKeyRanges(Zi.symbolInstances.length,jn.sortKey);const wh=Yp(So,jn,Io),[nf,rf]=function(ws,un){const Gc=ws.length,tl=un?.values;if(tl?.length>0)for(let Bd=0;Bd<tl.length;Bd+=2){const $l=tl[Bd+1];ws.emplaceBack(v.TextAnchorEnum[tl[Bd]],$l[0],$l[1])}return[Gc,ws.length]}(Zi.textAnchorOffsets,wh);Zi.symbolInstances.emplaceBack(An.x,An.y,Hl.right>=0?Hl.right:-1,Hl.center>=0?Hl.center:-1,Hl.left>=0?Hl.left:-1,Hl.vertical||-1,Im,Am,ef,zd,pc,tf,K_,Eg,X_,J_,Pm,ls,Mu,Qp,ia,jl,Rm,0,co,el,nf,rf)}(o,tn,mi,a,m,x,Ni,o.layers[0],o.collisionBoxArray,t.index,t.sourceLayerIndex,o.index,He,[yt,yt,yt,yt],Ai,L,mt,At,Gi,pe,t,D,$,q,I)};if("line"===Pi)for(const mi of Gp(t.geometry,0,0,vo,vo)){const tn=_u(mi,at,Kt,a.vertical||ye,m,24,Je,o.overscaling,vo);for(const Zi of tn)ye&&yh(o,ye.text,Si,Zi)||Mi(mi,Zi)}else if("line-center"===Pi){for(const mi of t.geometry)if(mi.length>1){const tn=Cg(mi,Kt,a.vertical||ye,m,24,Je);tn&&Mi(mi,tn)}}else if("Polygon"===t.type)for(const mi of Dd(t.geometry,0)){const tn=Y_(mi,16);Mi(mi[0],new jc(tn.x,tn.y,0))}else if("LineString"===t.type)for(const mi of t.geometry)Mi(mi,new jc(mi[0].x,mi[0].y,0));else if("Point"===t.type)for(const mi of t.geometry)for(const tn of mi)Mi([tn],new jc(tn.x,tn.y,0))}function Kp(o,t,a,m,x,D,I,O,L,$,q,J,oe,pe,ye){const ke=function(mt,at,yt,At,Kt,Ai,Gi,Pi){const Si=At.layout.get("text-rotate").evaluate(Ai,{})*Math.PI/180,xi=[];for(const Ni of at.positionedLines)for(const Mi of Ni.positionedGlyphs){if(!Mi.rect)continue;const mi=Mi.rect||{};let tn=lm+1,Zi=!0,An=1,Vr=0;const Pr=(Kt||Pi)&&Mi.vertical,Do=Mi.metrics.advance*Mi.scale/2;if(Pi&&at.verticalizable&&(Vr=Ni.lineOffset/2-(Mi.imageName?-(zo-Mi.metrics.width*Mi.scale)/2:(Mi.scale-1)*zo)),Mi.imageName){const Vo=Gi[Mi.imageName];Zi=Vo.sdf,An=Vo.pixelRatio,tn=Ns/An}const zs=Kt?[Mi.x+Do,Mi.y]:[0,0];let Xs=Kt?[0,0]:[Mi.x+Do+yt[0],Mi.y+yt[1]-Vr],So=[0,0];Pr&&(So=Xs,Xs=[0,0]);const as=Mi.metrics.isDoubleResolution?2:1,ls=(Mi.metrics.left-tn)*Mi.scale-Do+Xs[0],ba=(-Mi.metrics.top-tn)*Mi.scale+Xs[1],Js=ls+mi.w/as*Mi.scale/An,co=ba+mi.h/as*Mi.scale/An,To=new Se(ls,ba),Bo=new Se(Js,ba),Qo=new Se(ls,co),Bs=new Se(Js,co);if(Pr){const Vo=new Se(-Do,Do-kd),jn=-Math.PI/2,bs=zo/2-Do,xs=new Se(5-kd-bs,-(Mi.imageName?bs:0)),Io=new Se(...So);To._rotateAround(jn,Vo)._add(xs)._add(Io),Bo._rotateAround(jn,Vo)._add(xs)._add(Io),Qo._rotateAround(jn,Vo)._add(xs)._add(Io),Bs._rotateAround(jn,Vo)._add(xs)._add(Io)}if(Si){const Vo=Math.sin(Si),jn=Math.cos(Si),bs=[jn,-Vo,Vo,jn];To._matMult(bs),Bo._matMult(bs),Qo._matMult(bs),Bs._matMult(bs)}const Qs=new Se(0,0),xa=new Se(0,0);xi.push({tl:To,tr:Bo,bl:Qo,br:Bs,tex:mi,writingMode:at.writingMode,glyphOffset:zs,sectionIndex:Mi.sectionIndex,isSDF:Zi,pixelOffsetTL:Qs,pixelOffsetBR:xa,minFontScaleX:0,minFontScaleY:0})}return xi}(0,a,O,x,D,I,m,o.allowVerticalPlacement),He=o.textSizeData;let Je=null;"source"===He.kind?(Je=[gl*x.layout.get("text-size").evaluate(I,{})],Je[0]>Bc&&ui(`${o.layerIds[0]}: Value for "text-size" is >= ${Ja}. Reduce your "text-size".`)):"composite"===He.kind&&(Je=[gl*pe.compositeTextSizes[0].evaluate(I,{},ye),gl*pe.compositeTextSizes[1].evaluate(I,{},ye)],(Je[0]>Bc||Je[1]>Bc)&&ui(`${o.layerIds[0]}: Value for "text-size" is >= ${Ja}. Reduce your "text-size".`)),o.addSymbols(o.text,ke,Je,O,D,I,$,t,L.lineStartIndex,L.lineLength,oe,ye);for(const mt of q)J[mt]=o.text.placedSymbolArray.length-1;return 4*ke.length}function _h(o){for(const t in o)return o[t];return null}function yh(o,t,a,m){const x=o.compareText;if(t in x){const D=x[t];for(let I=D.length-1;I>=0;I--)if(m.dist(D[I])<a)return!0}else x[t]=[];return x[t].push(m),!1}const $c=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class bu{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,m]=new Uint8Array(t,0,2);if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");const x=m>>4;if(1!==x)throw new Error(`Got v${x} data when expected v1.`);const D=$c[15&m];if(!D)throw new Error("Unrecognized array type.");const[I]=new Uint16Array(t,2,1),[O]=new Uint32Array(t,4,1);return new bu(O,I,D,t)}constructor(t,a=64,m=Float64Array,x){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=m,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const D=$c.indexOf(this.ArrayType),I=2*t*this.ArrayType.BYTES_PER_ELEMENT,O=t*this.IndexArrayType.BYTES_PER_ELEMENT,L=(8-O%8)%8;if(D<0)throw new Error(`Unexpected typed array class: ${m}.`);x&&x instanceof ArrayBuffer?(this.data=x,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+O+L,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+I+O+L),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+O+L,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+D]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=t)}add(t,a){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=t,this.coords[this._pos++]=a,m}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return xu(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,a,m,x){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:D,coords:I,nodeSize:O}=this,L=[0,D.length-1,0],$=[];for(;L.length;){const q=L.pop()||0,J=L.pop()||0,oe=L.pop()||0;if(J-oe<=O){for(let He=oe;He<=J;He++){const Je=I[2*He],mt=I[2*He+1];Je>=t&&Je<=m&&mt>=a&&mt<=x&&$.push(D[He])}continue}const pe=oe+J>>1,ye=I[2*pe],ke=I[2*pe+1];ye>=t&&ye<=m&&ke>=a&&ke<=x&&$.push(D[pe]),(0===q?t<=ye:a<=ke)&&(L.push(oe),L.push(pe-1),L.push(1-q)),(0===q?m>=ye:x>=ke)&&(L.push(pe+1),L.push(J),L.push(1-q))}return $}within(t,a,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:D,nodeSize:I}=this,O=[0,x.length-1,0],L=[],$=m*m;for(;O.length;){const q=O.pop()||0,J=O.pop()||0,oe=O.pop()||0;if(J-oe<=I){for(let He=oe;He<=J;He++)ad(D[2*He],D[2*He+1],t,a)<=$&&L.push(x[He]);continue}const pe=oe+J>>1,ye=D[2*pe],ke=D[2*pe+1];ad(ye,ke,t,a)<=$&&L.push(x[pe]),(0===q?t-m<=ye:a-m<=ke)&&(O.push(oe),O.push(pe-1),O.push(1-q)),(0===q?t+m>=ye:a+m>=ke)&&(O.push(pe+1),O.push(J),O.push(1-q))}return L}}function xu(o,t,a,m,x,D){if(x-m<=a)return;const I=m+x>>1;Xp(o,t,I,m,x,D),xu(o,t,a,m,I-1,1-D),xu(o,t,a,I+1,x,1-D)}function Xp(o,t,a,m,x,D){for(;x>m;){if(x-m>600){const $=x-m+1,q=a-m+1,J=Math.log($),oe=.5*Math.exp(2*J/3),pe=.5*Math.sqrt(J*oe*($-oe)/$)*(q-$/2<0?-1:1);Xp(o,t,a,Math.max(m,Math.floor(a-q*oe/$+pe)),Math.min(x,Math.floor(a+($-q)*oe/$+pe)),D)}const I=t[2*a+D];let O=m,L=x;for(wu(o,t,m,a),t[2*x+D]>I&&wu(o,t,m,x);O<L;){for(wu(o,t,O,L),O++,L--;t[2*O+D]<I;)O++;for(;t[2*L+D]>I;)L--}t[2*m+D]===I?wu(o,t,m,L):(L++,wu(o,t,L,x)),L<=a&&(m=L+1),a<=L&&(x=L-1)}}function wu(o,t,a,m){vh(o,a,m),vh(t,2*a,2*m),vh(t,2*a+1,2*m+1)}function vh(o,t,a){const m=o[t];o[t]=o[a],o[a]=m}function ad(o,t,a,m){const x=o-a,D=t-m;return x*x+D*D}var Sm;v.PerformanceMarkers=void 0,(Sm=v.PerformanceMarkers||(v.PerformanceMarkers={})).create="create",Sm.load="load",Sm.fullLoad="fullLoad";let bh=null,Cu=[];const Eu=1e3/60,xh="loadTime",Tm="fullLoadTime",Jp={mark(o){performance.mark(o)},frame(o){const t=o;null!=bh&&Cu.push(t-bh),bh=t},clearMetrics(){bh=null,Cu=[],performance.clearMeasures(xh),performance.clearMeasures(Tm);for(const o in v.PerformanceMarkers)performance.clearMarks(v.PerformanceMarkers[o])},getPerformanceMetrics(){performance.measure(xh,v.PerformanceMarkers.create,v.PerformanceMarkers.load),performance.measure(Tm,v.PerformanceMarkers.create,v.PerformanceMarkers.fullLoad);const o=performance.getEntriesByName(xh)[0].duration,t=performance.getEntriesByName(Tm)[0].duration,a=Cu.length,m=1/(Cu.reduce((D,I)=>D+I,0)/a/1e3),x=Cu.filter(D=>D>Eu).reduce((D,I)=>D+(I-Eu)/Eu,0);return{loadTime:o,fullLoadTime:t,fps:m,percentDroppedFrames:x/(a+x)*100,totalFrames:a}}};v.AJAXError=si,v.ARRAY_TYPE=eu,v.Actor=class{constructor(o,t,a){this.receive=m=>{const x=m.data,D=x.id;if(D&&(!x.targetMapId||this.mapId===x.targetMapId))if("<cancel>"===x.type){delete this.tasks[D];const I=this.cancelCallbacks[D];delete this.cancelCallbacks[D],I&&I()}else Bi()||x.mustQueue?(this.tasks[D]=x,this.taskQueue.push(D),this.invoker.trigger()):this.processTask(D,x)},this.process=()=>{if(!this.taskQueue.length)return;const m=this.taskQueue.shift(),x=this.tasks[m];delete this.tasks[m],this.taskQueue.length&&this.invoker.trigger(),x&&this.processTask(m,x)},this.target=o,this.parent=t,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new q_(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Bi()?o:window}send(o,t,a,m,x=!1){const D=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[D]=a);const I=qn(this.globalScope)?void 0:[];return this.target.postMessage({id:D,type:o,hasCallback:!!a,targetMapId:m,mustQueue:x,sourceMapId:this.mapId,data:Vi(t,I)},I),{cancel:()=>{a&&delete this.callbacks[D],this.target.postMessage({id:D,type:"<cancel>",targetMapId:m,sourceMapId:this.mapId})}}}processTask(o,t){if("<response>"===t.type){const a=this.callbacks[o];delete this.callbacks[o],a&&(t.error?a(Kn(t.error)):a(null,Kn(t.data)))}else{let a=!1;const m=qn(this.globalScope)?void 0:[],x=t.hasCallback?(O,L)=>{a=!0,delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:O?Vi(O):null,data:Vi(L,m)},m)}:O=>{a=!0};let D=null;const I=Kn(t.data);if(this.parent[t.type])D=this.parent[t.type](t.sourceMapId,I,x);else if(this.parent.getWorkerSource){const O=t.type.split(".");D=this.parent.getWorkerSource(t.sourceMapId,O[0],I.source)[O[1]](I,x)}else x(new Error(`Could not find function ${t.type}`));!a&&D&&D.cancel&&(this.cancelCallbacks[o]=D.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},v.AlphaImage=oc,v.CanonicalTileID=vm,v.CollisionBoxArray=ve,v.CollisionCircleLayoutArray=class extends w{},v.Color=fn,v.DEMData=mh,v.DataConstantProperty=qi,v.DictionaryCoder=jp,v.EXTENT=vo,v.ErrorEvent=Tt,v.EvaluationParameters=pr,v.Event=ot,v.Evented=bi,v.FeatureIndex=bm,v.FillBucket=Oc,v.FillExtrusionBucket=Wu,v.GeoJSONFeature=Uc,v.ImageAtlas=ih,v.ImagePosition=dm,v.KDBush=bu,v.LineBucket=Td,v.LineStripIndexArray=class extends te{},v.LngLat=od,v.MercatorCoordinate=hh,v.ONE_EM=zo,v.OverscaledTileID=Ks,v.PerformanceUtils=Jp,v.Point=Se,v.Pos3dArray=class extends Da{},v.PosArray=Ui,v.Properties=Br,v.Protobuf=uu,v.QuadTriangleArray=class extends f{},v.RGBAImage=Ys,v.RasterBoundsArray=class extends Ql{},v.RequestPerformance=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return 0===o.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},v.SegmentVector=tr,v.SymbolBucket=uc,v.Transitionable=Ol,v.TriangleIndexArray=Eo,v.Uniform1f=fd,v.Uniform1i=class extends ga{constructor(o,t){super(o,t),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},v.Uniform2f=class extends ga{constructor(o,t){super(o,t),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},v.Uniform3f=class extends ga{constructor(o,t){super(o,t),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},v.Uniform4f=Kd,v.UniformColor=Xd,v.UniformMatrix4f=class extends ga{constructor(o,t){super(o,t),this.current=Tc}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let t=1;t<16;t++)if(o[t]!==this.current[t]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},v.UnwrappedTileID=gu,v.ValidationError=Ye,v.ZoomHistory=Vn,v.__awaiter=Ve,v.addDynamicAttributes=rd,v.arrayBufferToImage=function(o,t){const a=new Image;a.onload=()=>{t(null,a),URL.revokeObjectURL(a.src),a.onload=null,window.requestAnimationFrame(()=>{a.src=Fn})},a.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(o)],{type:"image/png"});a.src=o.byteLength?URL.createObjectURL(m):Fn},v.arrayBufferToImageBitmap=function(o,t){const a=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(a).then(m=>{t(null,m)}).catch(m=>{t(new Error(`Could not load image because of ${m.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},v.asyncAll=function(o,t,a){if(!o.length)return a(null,[]);let m=o.length;const x=new Array(o.length);let D=null;o.forEach((I,O)=>{t(I,(L,$)=>{L&&(D=L),x[O]=$,0==--m&&a(D,x)})})},v.bezier=Vt,v.browser=Jt,v.clamp=Di,v.clipLine=Gp,v.clone=function(o){var t=new eu(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t},v.clone$1=Ot,v.collisionCircleLayout=fg,v.config=Dt,v.copy=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.create=function(){var o=new eu(16);return eu!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},v.createExpression=jt,v.createFilter=Yl,v.createLayout=wr,v.createStyleLayer=function(o){if("custom"===o.type)return new _m(o);switch(o.type){case"background":return new hc(o);case"circle":return new Jf(o);case"fill":return new Gu(o);case"fill-extrusion":return new Sp(o);case"heatmap":return new Lu(o);case"hillshade":return new Vh(o);case"line":return new Ip(o);case"raster":return new Bp(o);case"symbol":return new mu(o)}},v.deepEqual=function o(t,a){if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(let m=0;m<t.length;m++)if(!o(t[m],a[m]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==a){if("object"!=typeof a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const m in t)if(!o(t[m],a[m]))return!1;return!0}return t===a},v.defaultEasing=ei,v.derefLayers=function(o){o=o.slice();const t=Object.create(null);for(let a=0;a<o.length;a++)t[o[a].id]=o[a];for(let a=0;a<o.length;a++)"ref"in o[a]&&(o[a]=zn(o[a],t[o[a].ref]));return o},v.diffStyles=function(o,t){if(!o)return[{command:Li.setStyle,args:[t]}];let a=[];try{if(!Hi(o.version,t.version))return[{command:Li.setStyle,args:[t]}];Hi(o.center,t.center)||a.push({command:Li.setCenter,args:[t.center]}),Hi(o.zoom,t.zoom)||a.push({command:Li.setZoom,args:[t.zoom]}),Hi(o.bearing,t.bearing)||a.push({command:Li.setBearing,args:[t.bearing]}),Hi(o.pitch,t.pitch)||a.push({command:Li.setPitch,args:[t.pitch]}),Hi(o.sprite,t.sprite)||a.push({command:Li.setSprite,args:[t.sprite]}),Hi(o.glyphs,t.glyphs)||a.push({command:Li.setGlyphs,args:[t.glyphs]}),Hi(o.transition,t.transition)||a.push({command:Li.setTransition,args:[t.transition]}),Hi(o.light,t.light)||a.push({command:Li.setLight,args:[t.light]});const m={},x=[];!function(I,O,L,$){let q;for(q in O=O||{},I=I||{})Object.prototype.hasOwnProperty.call(I,q)&&(Object.prototype.hasOwnProperty.call(O,q)||ue(q,L,$));for(q in O)Object.prototype.hasOwnProperty.call(O,q)&&(Object.prototype.hasOwnProperty.call(I,q)?Hi(I[q],O[q])||("geojson"===I[q].type&&"geojson"===O[q].type&&Pe(I,O,q)?L.push({command:Li.setGeoJSONSourceData,args:[q,O[q].data]}):Te(q,O,L,$)):wt(q,O,L))}(o.sources,t.sources,x,m);const D=[];o.layers&&o.layers.forEach(I=>{m[I.source]?a.push({command:Li.removeLayer,args:[I.id]}):D.push(I)}),a=a.concat(x),function(I,O,L){O=O||[];const $=(I=I||[]).map(be),q=O.map(be),J=I.reduce(et,{}),oe=O.reduce(et,{}),pe=$.slice(),ye=Object.create(null);let ke,He,Je,mt,at,yt,At;for(ke=0,He=0;ke<$.length;ke++)Je=$[ke],Object.prototype.hasOwnProperty.call(oe,Je)?He++:(L.push({command:Li.removeLayer,args:[Je]}),pe.splice(pe.indexOf(Je,He),1));for(ke=0,He=0;ke<q.length;ke++)Je=q[q.length-1-ke],pe[pe.length-1-ke]!==Je&&(Object.prototype.hasOwnProperty.call(J,Je)?(L.push({command:Li.removeLayer,args:[Je]}),pe.splice(pe.lastIndexOf(Je,pe.length-He),1)):He++,yt=pe[pe.length-ke],L.push({command:Li.addLayer,args:[oe[Je],yt]}),pe.splice(pe.length-ke,0,Je),ye[Je]=!0);for(ke=0;ke<q.length;ke++)if(Je=q[ke],mt=J[Je],at=oe[Je],!ye[Je]&&!Hi(mt,at))if(Hi(mt.source,at.source)&&Hi(mt["source-layer"],at["source-layer"])&&Hi(mt.type,at.type)){for(At in Ie(mt.layout,at.layout,L,Je,null,Li.setLayoutProperty),Ie(mt.paint,at.paint,L,Je,null,Li.setPaintProperty),Hi(mt.filter,at.filter)||L.push({command:Li.setFilter,args:[Je,at.filter]}),Hi(mt.minzoom,at.minzoom)&&Hi(mt.maxzoom,at.maxzoom)||L.push({command:Li.setLayerZoomRange,args:[Je,at.minzoom,at.maxzoom]}),mt)Object.prototype.hasOwnProperty.call(mt,At)&&"layout"!==At&&"paint"!==At&&"filter"!==At&&"metadata"!==At&&"minzoom"!==At&&"maxzoom"!==At&&(0===At.indexOf("paint.")?Ie(mt[At],at[At],L,Je,At.slice(6),Li.setPaintProperty):Hi(mt[At],at[At])||L.push({command:Li.setLayerProperty,args:[Je,At,at[At]]}));for(At in at)Object.prototype.hasOwnProperty.call(at,At)&&!Object.prototype.hasOwnProperty.call(mt,At)&&"layout"!==At&&"paint"!==At&&"filter"!==At&&"metadata"!==At&&"minzoom"!==At&&"maxzoom"!==At&&(0===At.indexOf("paint.")?Ie(mt[At],at[At],L,Je,At.slice(6),Li.setPaintProperty):Hi(mt[At],at[At])||L.push({command:Li.setLayerProperty,args:[Je,At,at[At]]}))}else L.push({command:Li.removeLayer,args:[Je]}),yt=pe[pe.lastIndexOf(Je)+1],L.push({command:Li.addLayer,args:[at,yt]})}(D,t.layers,a)}catch(m){console.warn("Unable to compute style diff:",m),a=[{command:Li.setStyle,args:[t]}]}return a},v.dot=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]},v.earthRadius=Vp,v.emitValidationErrors=Z,v.emptyStyle=function(){const o={},t=bt.$version;for(const a in bt.$root){const m=bt.$root[a];if(m.required){let x=null;x="version"===a?t:"array"===m.type?[]:{},null!=x&&(o[a]=x)}}return o},v.equals=function(o,t){var a=o[0],m=o[1],x=o[2],D=o[3],I=o[4],O=o[5],L=o[6],$=o[7],q=o[8],J=o[9],oe=o[10],pe=o[11],ye=o[12],ke=o[13],He=o[14],Je=o[15],mt=t[0],at=t[1],yt=t[2],At=t[3],Kt=t[4],Ai=t[5],Gi=t[6],Pi=t[7],Si=t[8],xi=t[9],Ni=t[10],Mi=t[11],mi=t[12],tn=t[13],Zi=t[14],An=t[15];return Math.abs(a-mt)<=Fs*Math.max(1,Math.abs(a),Math.abs(mt))&&Math.abs(m-at)<=Fs*Math.max(1,Math.abs(m),Math.abs(at))&&Math.abs(x-yt)<=Fs*Math.max(1,Math.abs(x),Math.abs(yt))&&Math.abs(D-At)<=Fs*Math.max(1,Math.abs(D),Math.abs(At))&&Math.abs(I-Kt)<=Fs*Math.max(1,Math.abs(I),Math.abs(Kt))&&Math.abs(O-Ai)<=Fs*Math.max(1,Math.abs(O),Math.abs(Ai))&&Math.abs(L-Gi)<=Fs*Math.max(1,Math.abs(L),Math.abs(Gi))&&Math.abs($-Pi)<=Fs*Math.max(1,Math.abs($),Math.abs(Pi))&&Math.abs(q-Si)<=Fs*Math.max(1,Math.abs(q),Math.abs(Si))&&Math.abs(J-xi)<=Fs*Math.max(1,Math.abs(J),Math.abs(xi))&&Math.abs(oe-Ni)<=Fs*Math.max(1,Math.abs(oe),Math.abs(Ni))&&Math.abs(pe-Mi)<=Fs*Math.max(1,Math.abs(pe),Math.abs(Mi))&&Math.abs(ye-mi)<=Fs*Math.max(1,Math.abs(ye),Math.abs(mi))&&Math.abs(ke-tn)<=Fs*Math.max(1,Math.abs(ke),Math.abs(tn))&&Math.abs(He-Zi)<=Fs*Math.max(1,Math.abs(He),Math.abs(Zi))&&Math.abs(Je-An)<=Fs*Math.max(1,Math.abs(Je),Math.abs(An))},v.evaluateSizeForFeature=function(o,{uSize:t,uSizeT:a},{lowerSize:m,upperSize:x}){return"source"===o.kind?m/gl:"composite"===o.kind?Rr.number(m/gl,x/gl,a):t},v.evaluateSizeForZoom=function(o,t){let a=0,m=0;if("constant"===o.kind)m=o.layoutSize;else if("source"!==o.kind){const{interpolationType:x,minZoom:D,maxZoom:I}=o,O=x?Di(Ar.interpolationFactor(x,t,D,I),0,1):0;"camera"===o.kind?m=Rr.number(o.minSize,o.maxSize,O):a=O}return{uSizeT:a,uSize:m}},v.evented=Yc,v.extend=Oe,v.filterObject=Ft,v.findLineIntersection=function(o,t,a,m){const x=t.y-o.y,D=t.x-o.x,I=m.y-a.y,O=m.x-a.x,L=I*D-O*x;if(0===L)return null;const $=(O*(o.y-a.y)-I*(o.x-a.x))/L;return new Se(o.x+$*D,o.y+$*x)},v.fromScaling=function(o,t){return o[0]=t[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},v.getAnchorAlignment=Od,v.getAnchorJustification=vu,v.getArrayBuffer=ft,v.getDefaultExportFromCjs=ne,v.getImageData=function(o,t,a,m,x){return Ve(this,void 0,void 0,function*(){if(Mt())try{return yield Pn(o,t,a,m,x)}catch{}return function(D,I,O,L,$){const q=D.width,J=D.height;vt&&Ct||(vt=new OffscreenCanvas(q,J),Ct=vt.getContext("2d",{willReadFrequently:!0})),vt.width=q,vt.height=J,Ct.drawImage(D,0,0,q,J);const oe=Ct.getImageData(I,O,L,$);return Ct.clearRect(0,0,q,J),oe.data}(o,t,a,m,x)})},v.getJSON=function(o,t){return ct(Oe(o,{type:"json"}),t)},v.getOverlapMode=pm,v.getProtocolAction=st,v.getRTLTextPluginStatus=gs,v.getReferrer=Ne,v.getVideo=function(o,t){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(let m=0;m<o.length;m++){const x=window.document.createElement("source");Yt(o[m])||(a.crossOrigin="Anonymous"),x.src=o[m],a.appendChild(x)}return{cancel:()=>{}}},v.groupByLayout=function(o,t){const a={};for(let x=0;x<o.length;x++){const D=t&&t[o[x].id]||md(o[x]);t&&(t[o[x].id]=D);let I=a[D];I||(I=a[D]=[]),I.push(o[x])}const m=[];for(const x in a)m.push(a[x]);return m},v.identity=_a,v.interpolate=Rr,v.invert=function(o,t){var a=t[0],m=t[1],x=t[2],D=t[3],I=t[4],O=t[5],L=t[6],$=t[7],q=t[8],J=t[9],oe=t[10],pe=t[11],ye=t[12],ke=t[13],He=t[14],Je=t[15],mt=a*O-m*I,at=a*L-x*I,yt=a*$-D*I,At=m*L-x*O,Kt=m*$-D*O,Ai=x*$-D*L,Gi=q*ke-J*ye,Pi=q*He-oe*ye,Si=q*Je-pe*ye,xi=J*He-oe*ke,Ni=J*Je-pe*ke,Mi=oe*Je-pe*He,mi=mt*Mi-at*Ni+yt*xi+At*Si-Kt*Pi+Ai*Gi;return mi?(o[0]=(O*Mi-L*Ni+$*xi)*(mi=1/mi),o[1]=(x*Ni-m*Mi-D*xi)*mi,o[2]=(ke*Ai-He*Kt+Je*At)*mi,o[3]=(oe*Kt-J*Ai-pe*At)*mi,o[4]=(L*Si-I*Mi-$*Pi)*mi,o[5]=(a*Mi-x*Si+D*Pi)*mi,o[6]=(He*yt-ye*Ai-Je*at)*mi,o[7]=(q*Ai-oe*yt+pe*at)*mi,o[8]=(I*Ni-O*Si+$*Gi)*mi,o[9]=(m*Si-a*Ni-D*Gi)*mi,o[10]=(ye*Kt-ke*yt+Je*mt)*mi,o[11]=(J*yt-q*Kt-pe*mt)*mi,o[12]=(O*Pi-I*xi-L*Gi)*mi,o[13]=(a*xi-m*Pi+x*Gi)*mi,o[14]=(ke*at-ye*At-He*mt)*mi,o[15]=(q*At-J*at+oe*mt)*mi,o):null},v.isImageBitmap=vn,v.isOffscreenCanvasDistorted=Mt,v.isSafari=qn,v.isWorker=Bi,v.keysDifference=function(o,t){const a=[];for(const m in o)m in t||a.push(m);return a},v.lazyLoadRTLTextPlugin=function(){ln.isLoading()||ln.isLoaded()||"deferred"!==gs()||oi()},v.makeRequest=ct,v.mapObject=Re,v.mercatorXfromLng=xg,v.mercatorYfromLat=wg,v.mercatorZfromAltitude=ym,v.mul=Xf,v.mul$1=function(o,t,a){return o[0]=t[0]*a[0],o[1]=t[1]*a[1],o[2]=t[2]*a[2],o[3]=t[3]*a[3],o},v.multiply=xd,v.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},v.offscreenCanvasSupported=ut,v.operations=Li,v.ortho=function(o,t,a,m,x,D,I){var O=1/(t-a),L=1/(m-x),$=1/(D-I);return o[0]=-2*O,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*L,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*$,o[11]=0,o[12]=(t+a)*O,o[13]=(x+m)*L,o[14]=(I+D)*$,o[15]=1,o},v.parseCacheControl=function(o){const t={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,m,x,D)=>{const I=x||D;return t[m]=!I||I.toLowerCase(),""}),t["max-age"]){const a=parseInt(t["max-age"],10);isNaN(a)?delete t["max-age"]:t["max-age"]=a}return t},v.parseGlyphPbf=function(o){return new uu(o).readFields(sm,[])},v.pbf=Xu,v.performSymbolLayout=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=vo/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const t=o.bucket.layers[0],a=t.layout,m=t._unevaluatedLayout._values,x={layoutIconSize:m["icon-size"].possiblyEvaluate(new pr(o.bucket.zoom+1),o.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new pr(o.bucket.zoom+1),o.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new pr(18))};if("composite"===o.bucket.textSizeData.kind){const{minZoom:$,maxZoom:q}=o.bucket.textSizeData;x.compositeTextSizes=[m["text-size"].possiblyEvaluate(new pr($),o.canonical),m["text-size"].possiblyEvaluate(new pr(q),o.canonical)]}if("composite"===o.bucket.iconSizeData.kind){const{minZoom:$,maxZoom:q}=o.bucket.iconSizeData;x.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new pr($),o.canonical),m["icon-size"].possiblyEvaluate(new pr(q),o.canonical)]}const D=a.get("text-line-height")*zo,I="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement"),O=a.get("text-keep-upright"),L=a.get("text-size");for(const $ of o.bucket.features){const q=a.get("text-font").evaluate($,{},o.canonical).join(","),J=L.evaluate($,{},o.canonical),oe=x.layoutTextSize.evaluate($,{},o.canonical),pe=x.layoutIconSize.evaluate($,{},o.canonical),ye={horizontal:{},vertical:void 0},ke=$.text;let He,Je=[0,0];if(ke){const yt=ke.toString(),At=a.get("text-letter-spacing").evaluate($,{},o.canonical)*zo,Kt=Lr(yt)?At:0,Ai=a.get("text-anchor").evaluate($,{},o.canonical),Gi=Yp(t,$,o.canonical);if(!Gi){const Mi=a.get("text-radial-offset").evaluate($,{},o.canonical);Je=Mi?Hc(Ai,[Mi*zo,fh]):a.get("text-offset").evaluate($,{},o.canonical).map(mi=>mi*zo)}let Pi=I?"center":a.get("text-justify").evaluate($,{},o.canonical);const Si=a.get("symbol-placement"),xi="point"===Si?a.get("text-max-width").evaluate($,{},o.canonical)*zo:0,Ni=()=>{o.bucket.allowVerticalPlacement&&Dn(yt)&&(ye.vertical=cc(ke,o.glyphMap,o.glyphPositions,o.imagePositions,q,xi,D,Ai,"left",Kt,Je,v.WritingMode.vertical,!0,Si,oe,J))};if(!I&&Gi){const Mi=new Set;if("auto"===Pi)for(let tn=0;tn<Gi.values.length;tn+=2)Mi.add(vu(Gi.values[tn]));else Mi.add(Pi);let mi=!1;for(const tn of Mi)if(!ye.horizontal[tn])if(mi)ye.horizontal[tn]=ye.horizontal[0];else{const Zi=cc(ke,o.glyphMap,o.glyphPositions,o.imagePositions,q,xi,D,"center",tn,Kt,Je,v.WritingMode.horizontal,!1,Si,oe,J);Zi&&(ye.horizontal[tn]=Zi,mi=1===Zi.positionedLines.length)}Ni()}else{"auto"===Pi&&(Pi=vu(Ai));const Mi=cc(ke,o.glyphMap,o.glyphPositions,o.imagePositions,q,xi,D,Ai,Pi,Kt,Je,v.WritingMode.horizontal,!1,Si,oe,J);Mi&&(ye.horizontal[Pi]=Mi),Ni(),Dn(yt)&&I&&O&&(ye.vertical=cc(ke,o.glyphMap,o.glyphPositions,o.imagePositions,q,xi,D,Ai,Pi,Kt,Je,v.WritingMode.vertical,!1,Si,oe,J))}}let mt=!1;if($.icon&&$.icon.name){const yt=o.imageMap[$.icon.name];yt&&(He=mm(o.imagePositions[$.icon.name],a.get("icon-offset").evaluate($,{},o.canonical),a.get("icon-anchor").evaluate($,{},o.canonical)),mt=!!yt.sdf,void 0===o.bucket.sdfIcons?o.bucket.sdfIcons=mt:o.bucket.sdfIcons!==mt&&ui("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(yt.pixelRatio!==o.bucket.pixelRatio||0!==a.get("icon-rotate").constantOr(1))&&(o.bucket.iconsNeedLinear=!0))}const at=_h(ye.horizontal)||ye.vertical;o.bucket.iconsInText=!!at&&at.iconsInText,(at||He)&&gh(o.bucket,$,ye,He,o.imageMap,x,oe,pe,Je,mt,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},v.perspective=function(o,t,a,m,x){var D,I=1/Math.tan(t/2);return o[0]=I/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=I,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,null!=x&&x!==1/0?(o[10]=(x+m)*(D=1/(m-x)),o[14]=2*x*m*D):(o[10]=-1,o[14]=-2*m),o},v.pick=function(o,t){const a={};for(let m=0;m<t.length;m++){const x=t[m];x in o&&(a[x]=o[x])}return a},v.plugin=ln,v.pointGeometry=$e,v.polygonIntersectsPolygon=ao,v.potpack=cm,v.readImageUsingVideoFrame=Pn,v.register=it,v.registerForPluginStateChange=function(o){return o({pluginStatus:go,pluginURL:Ws}),Yc.on("pluginStateChange",o),o},v.renderColorRamp=hp,v.rotateX=function(o,t,a){var m=Math.sin(a),x=Math.cos(a),D=t[4],I=t[5],O=t[6],L=t[7],$=t[8],q=t[9],J=t[10],oe=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=D*x+$*m,o[5]=I*x+q*m,o[6]=O*x+J*m,o[7]=L*x+oe*m,o[8]=$*x-D*m,o[9]=q*x-I*m,o[10]=J*x-O*m,o[11]=oe*x-L*m,o},v.rotateZ=function(o,t,a){var m=Math.sin(a),x=Math.cos(a),D=t[0],I=t[1],O=t[2],L=t[3],$=t[4],q=t[5],J=t[6],oe=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=D*x+$*m,o[1]=I*x+q*m,o[2]=O*x+J*m,o[3]=L*x+oe*m,o[4]=$*x-D*m,o[5]=q*x-I*m,o[6]=J*x-O*m,o[7]=oe*x-L*m,o},v.sameOrigin=Yt,v.scale=function(o,t,a){var m=a[0],x=a[1],D=a[2];return o[0]=t[0]*m,o[1]=t[1]*m,o[2]=t[2]*m,o[3]=t[3]*m,o[4]=t[4]*x,o[5]=t[5]*x,o[6]=t[6]*x,o[7]=t[7]*x,o[8]=t[8]*D,o[9]=t[9]*D,o[10]=t[10]*D,o[11]=t[11]*D,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.setRTLTextPlugin=function(o,t,a=!1){if(go===zr||go===ma||go===Is)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ws=Jt.resolveURL(o),go=zr,gn=t,Ec(),a||oi()},v.sphericalToCartesian=function([o,t,a]){return t+=90,t*=Math.PI/180,a*=Math.PI/180,{x:o*Math.cos(t)*Math.sin(a),y:o*Math.sin(t)*Math.sin(a),z:o*Math.cos(a)}},v.toEvaluationFeature=_d,v.transformMat4=tu,v.translate=function(o,t,a){var m,x,D,I,O,L,$,q,J,oe,pe,ye,ke=a[0],He=a[1],Je=a[2];return t===o?(o[12]=t[0]*ke+t[4]*He+t[8]*Je+t[12],o[13]=t[1]*ke+t[5]*He+t[9]*Je+t[13],o[14]=t[2]*ke+t[6]*He+t[10]*Je+t[14],o[15]=t[3]*ke+t[7]*He+t[11]*Je+t[15]):(x=t[1],D=t[2],I=t[3],O=t[4],L=t[5],$=t[6],q=t[7],J=t[8],oe=t[9],pe=t[10],ye=t[11],o[0]=m=t[0],o[1]=x,o[2]=D,o[3]=I,o[4]=O,o[5]=L,o[6]=$,o[7]=q,o[8]=J,o[9]=oe,o[10]=pe,o[11]=ye,o[12]=m*ke+O*He+J*Je+t[12],o[13]=x*ke+L*He+oe*Je+t[13],o[14]=D*ke+$*He+pe*Je+t[14],o[15]=I*ke+q*He+ye*Je+t[15]),o},v.triggerPluginCompletionEvent=pd,v.unicodeBlockLookup=Qt,v.uniqueId=function(){return We++},v.v8Spec=bt,v.validateCustomStyleLayer=function(o){const t=[],a=o.id;return void 0===a&&t.push({message:`layers.${a}: missing required property "id"`}),void 0===o.render&&t.push({message:`layers.${a}: missing required method "render"`}),o.renderingMode&&"2d"!==o.renderingMode&&"3d"!==o.renderingMode&&t.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),t},v.validateLight=No,v.validateStyle=er,v.vectorTile=Rc,v.warnOnce=ui,v.wrap=ti}),l(0,function(v){class Ve{constructor(V){this.keyCache={},V&&this.replace(V)}replace(V){this._layerConfigs={},this._layers={},this.update(V,[])}update(V,U){for(const de of V){this._layerConfigs[de.id]=de;const Me=this._layers[de.id]=v.createStyleLayer(de);Me._featureFilter=v.createFilter(Me.filter),this.keyCache[de.id]&&delete this.keyCache[de.id]}for(const de of U)delete this.keyCache[de],delete this._layerConfigs[de],delete this._layers[de];this.familiesBySource={};const ie=v.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const de of ie){const Me=de.map(lt=>this._layers[lt.id]),fe=Me[0];if("none"===fe.visibility)continue;const se=fe.source||"";let X=this.familiesBySource[se];X||(X=this.familiesBySource[se]={});const he=fe.sourceLayer||"_geojsonTileLayer";let qe=X[he];qe||(qe=X[he]=[]),qe.push(Me)}}}class ne{constructor(V){const U={},ie=[];for(const se in V){const X=V[se],he=U[se]={};for(const qe in X){const lt=X[+qe];if(!lt||0===lt.bitmap.width||0===lt.bitmap.height)continue;const we={x:0,y:0,w:lt.bitmap.width+2,h:lt.bitmap.height+2};ie.push(we),he[qe]={rect:we,metrics:lt.metrics}}}const{w:de,h:Me}=v.potpack(ie),fe=new v.AlphaImage({width:de||1,height:Me||1});for(const se in V){const X=V[se];for(const he in X){const qe=X[+he];if(!qe||0===qe.bitmap.width||0===qe.bitmap.height)continue;const lt=U[se][he].rect;v.AlphaImage.copy(qe.bitmap,fe,{x:0,y:0},{x:lt.x+1,y:lt.y+1},qe.bitmap)}}this.image=fe,this.positions=U}}v.register("GlyphAtlas",ne);class $e{constructor(V){this.tileID=new v.OverscaledTileID(V.tileID.overscaledZ,V.tileID.wrap,V.tileID.canonical.z,V.tileID.canonical.x,V.tileID.canonical.y),this.uid=V.uid,this.zoom=V.zoom,this.pixelRatio=V.pixelRatio,this.tileSize=V.tileSize,this.source=V.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=V.showCollisionBoxes,this.collectResourceTiming=!!V.collectResourceTiming,this.returnDependencies=!!V.returnDependencies,this.promoteId=V.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(V,U,ie,de,Me){this.status="parsing",this.data=V,this.collisionBoxArray=new v.CollisionBoxArray;const fe=new v.DictionaryCoder(Object.keys(V.layers).sort()),se=new v.FeatureIndex(this.tileID,this.promoteId);se.bucketLayerIDs=[];const X={},he={featureIndex:se,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ie},qe=U.familiesBySource[this.source];for(const je in qe){const Nt=V.layers[je];if(!Nt)continue;1===Nt.version&&v.warnOnce(`Vector tile source "${this.source}" layer "${je}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ci=fe.encode(je),hi=[];for(let di=0;di<Nt.length;di++){const _n=Nt.feature(di),Yi=se.getId(_n,je);hi.push({feature:_n,id:Yi,index:di,sourceLayerIndex:ci})}for(const di of qe[je]){const _n=di[0];_n.source!==this.source&&v.warnOnce(`layer.source = ${_n.source} does not equal this.source = ${this.source}`),_n.minzoom&&this.zoom<Math.floor(_n.minzoom)||_n.maxzoom&&this.zoom>=_n.maxzoom||"none"!==_n.visibility&&(Qe(di,this.zoom,ie),(X[_n.id]=_n.createBucket({index:se.bucketLayerIDs.length,layers:di,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ci,sourceID:this.source})).populate(hi,he,this.tileID.canonical),se.bucketLayerIDs.push(di.map(Yi=>Yi.id)))}}let lt,we,De,ce;const Ee=v.mapObject(he.glyphDependencies,je=>Object.keys(je).map(Number));this.inFlightDependencies.forEach(je=>je?.cancel()),this.inFlightDependencies=[];const Xe=++this.dependencySentinel;Object.keys(Ee).length?this.inFlightDependencies.push(de.send("getGlyphs",{uid:this.uid,stacks:Ee,source:this.source,tileID:this.tileID,type:"glyphs"},(je,Nt)=>{Xe===this.dependencySentinel&&(lt||(lt=je,we=Nt,Ae.call(this)))})):we={};const It=Object.keys(he.iconDependencies);It.length?this.inFlightDependencies.push(de.send("getImages",{icons:It,source:this.source,tileID:this.tileID,type:"icons"},(je,Nt)=>{Xe===this.dependencySentinel&&(lt||(lt=je,De=Nt,Ae.call(this)))})):De={};const Fe=Object.keys(he.patternDependencies);function Ae(){if(lt)return Me(lt);if(we&&De&&ce){const je=new ne(we),Nt=new v.ImageAtlas(De,ce);for(const ci in X){const hi=X[ci];hi instanceof v.SymbolBucket?(Qe(hi.layers,this.zoom,ie),v.performSymbolLayout({bucket:hi,glyphMap:we,glyphPositions:je.positions,imageMap:De,imagePositions:Nt.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):hi.hasPattern&&(hi instanceof v.LineBucket||hi instanceof v.FillBucket||hi instanceof v.FillExtrusionBucket)&&(Qe(hi.layers,this.zoom,ie),hi.addFeatures(he,this.tileID.canonical,Nt.patternPositions))}this.status="done",Me(null,{buckets:Object.values(X).filter(ci=>!ci.isEmpty()),featureIndex:se,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:je.image,imageAtlas:Nt,glyphMap:this.returnDependencies?we:null,iconMap:this.returnDependencies?De:null,glyphPositions:this.returnDependencies?je.positions:null})}}Fe.length?this.inFlightDependencies.push(de.send("getImages",{icons:Fe,source:this.source,tileID:this.tileID,type:"patterns"},(je,Nt)=>{Xe===this.dependencySentinel&&(lt||(lt=je,ce=Nt,Ae.call(this)))})):ce={},Ae.call(this)}}function Qe(Y,V,U){const ie=new v.EvaluationParameters(V);for(const de of Y)de.recalculate(ie,U)}function Se(Y,V){const U=v.getArrayBuffer(Y.request,(ie,de,Me,fe)=>{if(ie)V(ie);else if(de)try{const se=new v.vectorTile.VectorTile(new v.Protobuf(de));V(null,{vectorTile:se,rawData:de,cacheControl:Me,expires:fe})}catch(se){const X=new Uint8Array(de);let he=`Unable to parse the tile at ${Y.request.url}, `;he+=31===X[0]&&139===X[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${se.messge}`,V(new Error(he))}});return()=>{U.cancel(),V()}}class Be{constructor(V,U,ie,de){this.actor=V,this.layerIndex=U,this.availableImages=ie,this.loadVectorData=de||Se,this.fetching={},this.loading={},this.loaded={}}loadTile(V,U){const ie=V.uid;this.loading||(this.loading={});const de=!!(V&&V.request&&V.request.collectResourceTiming)&&new v.RequestPerformance(V.request),Me=this.loading[ie]=new $e(V);Me.abort=this.loadVectorData(V,(fe,se)=>{if(delete this.loading[ie],fe||!se)return Me.status="done",this.loaded[ie]=Me,U(fe);const X=se.rawData,he={};se.expires&&(he.expires=se.expires),se.cacheControl&&(he.cacheControl=se.cacheControl);const qe={};if(de){const lt=de.finish();lt&&(qe.resourceTiming=JSON.parse(JSON.stringify(lt)))}Me.vectorTile=se.vectorTile,Me.parse(se.vectorTile,this.layerIndex,this.availableImages,this.actor,(lt,we)=>{if(delete this.fetching[ie],lt||!we)return U(lt);U(null,v.extend({rawTileData:X.slice(0)},we,he,qe))}),this.loaded=this.loaded||{},this.loaded[ie]=Me,this.fetching[ie]={rawTileData:X,cacheControl:he,resourceTiming:qe}})}reloadTile(V,U){const ie=this.loaded,de=V.uid;if(ie&&ie[de]){const Me=ie[de];Me.showCollisionBoxes=V.showCollisionBoxes,"parsing"===Me.status?Me.parse(Me.vectorTile,this.layerIndex,this.availableImages,this.actor,(fe,se)=>{if(fe||!se)return U(fe,se);let X;if(this.fetching[de]){const{rawTileData:he,cacheControl:qe,resourceTiming:lt}=this.fetching[de];delete this.fetching[de],X=v.extend({rawTileData:he.slice(0)},se,qe,lt)}else X=se;U(null,X)}):"done"===Me.status&&(Me.vectorTile?Me.parse(Me.vectorTile,this.layerIndex,this.availableImages,this.actor,U):U())}}abortTile(V,U){const ie=this.loading,de=V.uid;ie&&ie[de]&&ie[de].abort&&(ie[de].abort(),delete ie[de]),U()}removeTile(V,U){const ie=this.loaded,de=V.uid;ie&&ie[de]&&delete ie[de],U()}}class nt{constructor(){this.loaded={}}loadTile(V,U){return v.__awaiter(this,void 0,void 0,function*(){const{uid:ie,encoding:de,rawImageData:Me,redFactor:fe,greenFactor:se,blueFactor:X,baseShift:he}=V,qe=Me.width+2,lt=Me.height+2,we=v.isImageBitmap(Me)?new v.RGBAImage({width:qe,height:lt},yield v.getImageData(Me,-1,-1,qe,lt)):Me,De=new v.DEMData(ie,we,de,fe,se,X,he);this.loaded=this.loaded||{},this.loaded[ie]=De,U(null,De)})}removeTile(V){const U=this.loaded,ie=V.uid;U&&U[ie]&&delete U[ie]}}function Le(Y,V){if(0!==Y.length){tt(Y[0],V);for(var U=1;U<Y.length;U++)tt(Y[U],!V)}}function tt(Y,V){for(var U=0,ie=0,de=0,Me=Y.length,fe=Me-1;de<Me;fe=de++){var se=(Y[de][0]-Y[fe][0])*(Y[fe][1]+Y[de][1]),X=U+se;ie+=Math.abs(U)>=Math.abs(se)?U-X+se:se-X+U,U=X}U+ie>=0!=!!V&&Y.reverse()}var Ke=v.getDefaultExportFromCjs(function Y(V,U){var ie,de=V&&V.type;if("FeatureCollection"===de)for(ie=0;ie<V.features.length;ie++)Y(V.features[ie],U);else if("GeometryCollection"===de)for(ie=0;ie<V.geometries.length;ie++)Y(V.geometries[ie],U);else if("Feature"===de)Y(V.geometry,U);else if("Polygon"===de)Le(V.coordinates,U);else if("MultiPolygon"===de)for(ie=0;ie<V.coordinates.length;ie++)Le(V.coordinates[ie],U);return V});const ut=v.vectorTile.VectorTileFeature.prototype.toGeoJSON;var Mt={exports:{}},Vt=v.pointGeometry,ei=v.vectorTile.VectorTileFeature,Di=ti;function ti(Y,V){this.options=V||{},this.features=Y,this.length=Y.length}function Oe(Y,V){this.id="number"==typeof Y.id?Y.id:void 0,this.type=Y.type,this.rawGeometry=1===Y.type?[Y.geometry]:Y.geometry,this.properties=Y.tags,this.extent=V||4096}ti.prototype.feature=function(Y){return new Oe(this.features[Y],this.options.extent)},Oe.prototype.loadGeometry=function(){var Y=this.rawGeometry;this.geometry=[];for(var V=0;V<Y.length;V++){for(var U=Y[V],ie=[],de=0;de<U.length;de++)ie.push(new Vt(U[de][0],U[de][1]));this.geometry.push(ie)}return this.geometry},Oe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Y=this.geometry,V=1/0,U=-1/0,ie=1/0,de=-1/0,Me=0;Me<Y.length;Me++)for(var fe=Y[Me],se=0;se<fe.length;se++){var X=fe[se];V=Math.min(V,X.x),U=Math.max(U,X.x),ie=Math.min(ie,X.y),de=Math.max(de,X.y)}return[V,ie,U,de]},Oe.prototype.toGeoJSON=ei.prototype.toGeoJSON;var We=v.pbf,Re=Di;function Ft(Y){var V=new We;return function(U,ie){for(var de in U.layers)ie.writeMessage(3,Ot,U.layers[de])}(Y,V),V.finish()}function Ot(Y,V){var U;V.writeVarintField(15,Y.version||1),V.writeStringField(1,Y.name||""),V.writeVarintField(5,Y.extent||4096);var ie={keys:[],values:[],keycache:{},valuecache:{}};for(U=0;U<Y.length;U++)ie.feature=Y.feature(U),V.writeMessage(2,Bt,ie);var de=ie.keys;for(U=0;U<de.length;U++)V.writeStringField(3,de[U]);var Me=ie.values;for(U=0;U<Me.length;U++)V.writeMessage(4,Tn,Me[U])}function Bt(Y,V){var U=Y.feature;void 0!==U.id&&V.writeVarintField(1,U.id),V.writeMessage(2,ui,Y),V.writeVarintField(3,U.type),V.writeMessage(4,Bi,U)}function ui(Y,V){var U=Y.feature,ie=Y.keys,de=Y.values,Me=Y.keycache,fe=Y.valuecache;for(var se in U.properties){var X=U.properties[se],he=Me[se];if(null!==X){void 0===he&&(ie.push(se),Me[se]=he=ie.length-1),V.writeVarint(he);var qe=typeof X;"string"!==qe&&"boolean"!==qe&&"number"!==qe&&(X=JSON.stringify(X));var lt=qe+":"+X,we=fe[lt];void 0===we&&(de.push(X),fe[lt]=we=de.length-1),V.writeVarint(we)}}}function fi(Y,V){return(V<<3)+(7&Y)}function Fi(Y){return Y<<1^Y>>31}function Bi(Y,V){for(var U=Y.loadGeometry(),ie=Y.type,de=0,Me=0,fe=U.length,se=0;se<fe;se++){var X=U[se],he=1;1===ie&&(he=X.length),V.writeVarint(fi(1,he));for(var qe=3===ie?X.length-1:X.length,lt=0;lt<qe;lt++){1===lt&&1!==ie&&V.writeVarint(fi(2,qe-1));var we=X[lt].x-de,De=X[lt].y-Me;V.writeVarint(Fi(we)),V.writeVarint(Fi(De)),de+=we,Me+=De}3===ie&&V.writeVarint(fi(7,1))}}function Tn(Y,V){var U=typeof Y;"string"===U?V.writeStringField(1,Y):"boolean"===U?V.writeBooleanField(7,Y):"number"===U&&(Y%1!=0?V.writeDoubleField(3,Y):Y<0?V.writeSVarintField(6,Y):V.writeVarintField(5,Y))}Mt.exports=Ft,Mt.exports.fromVectorTileJs=Ft,Mt.exports.fromGeojsonVt=function(Y,V){V=V||{};var U={};for(var ie in Y)U[ie]=new Re(Y[ie].features,V),U[ie].name=ie,U[ie].version=V.version,U[ie].extent=V.extent;return Ft({layers:U})},Mt.exports.GeoJSONWrapper=Re;var qn=v.getDefaultExportFromCjs(Mt.exports);const vn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Y=>Y},Fn=Math.fround||(Pn=new Float32Array(1),Y=>(Pn[0]=+Y,Pn[0]));var Pn;const vt=3,Ct=5,Rt=6;class zt{constructor(V){this.options=Object.assign(Object.create(vn),V),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(V){const{log:U,minZoom:ie,maxZoom:de}=this.options;U&&console.time("total time");const Me=`prepare ${V.length} points`;U&&console.time(Me),this.points=V;const fe=[];for(let X=0;X<V.length;X++){const he=V[X];if(!he.geometry)continue;const[qe,lt]=he.geometry.coordinates,we=Fn(si(qe)),De=Fn(Ne(lt));fe.push(we,De,1/0,X,-1,1),this.options.reduce&&fe.push(0)}let se=this.trees[de+1]=this._createTree(fe);U&&console.timeEnd(Me);for(let X=de;X>=ie;X--){const he=+Date.now();se=this.trees[X]=this._createTree(this._cluster(se,X)),U&&console.log("z%d: %d clusters in %dms",X,se.numItems,+Date.now()-he)}return U&&console.timeEnd("total time"),this}getClusters(V,U){let ie=((V[0]+180)%360+360)%360-180;const de=Math.max(-90,Math.min(90,V[1]));let Me=180===V[2]?180:((V[2]+180)%360+360)%360-180;const fe=Math.max(-90,Math.min(90,V[3]));if(V[2]-V[0]>=360)ie=-180,Me=180;else if(ie>Me){const lt=this.getClusters([ie,de,180,fe],U),we=this.getClusters([-180,de,Me,fe],U);return lt.concat(we)}const se=this.trees[this._limitZoom(U)],X=se.range(si(ie),Ne(fe),si(Me),Ne(de)),he=se.data,qe=[];for(const lt of X){const we=this.stride*lt;qe.push(he[we+Ct]>1?Jt(he,we,this.clusterProps):this.points[he[we+vt]])}return qe}getChildren(V){const U=this._getOriginId(V),ie=this._getOriginZoom(V),de="No cluster with the specified id.",Me=this.trees[ie];if(!Me)throw new Error(de);const fe=Me.data;if(U*this.stride>=fe.length)throw new Error(de);const se=this.options.radius/(this.options.extent*Math.pow(2,ie-1)),X=Me.within(fe[U*this.stride],fe[U*this.stride+1],se),he=[];for(const qe of X){const lt=qe*this.stride;fe[lt+4]===V&&he.push(fe[lt+Ct]>1?Jt(fe,lt,this.clusterProps):this.points[fe[lt+vt]])}if(0===he.length)throw new Error(de);return he}getLeaves(V,U,ie){const de=[];return this._appendLeaves(de,V,U=U||10,ie=ie||0,0),de}getTile(V,U,ie){const de=this.trees[this._limitZoom(V)],Me=Math.pow(2,V),{extent:fe,radius:se}=this.options,X=se/fe,he=(ie-X)/Me,qe=(ie+1+X)/Me,lt={features:[]};return this._addTileFeatures(de.range((U-X)/Me,he,(U+1+X)/Me,qe),de.data,U,ie,Me,lt),0===U&&this._addTileFeatures(de.range(1-X/Me,he,1,qe),de.data,Me,ie,Me,lt),U===Me-1&&this._addTileFeatures(de.range(0,he,X/Me,qe),de.data,-1,ie,Me,lt),lt.features.length?lt:null}getClusterExpansionZoom(V){let U=this._getOriginZoom(V)-1;for(;U<=this.options.maxZoom;){const ie=this.getChildren(V);if(U++,1!==ie.length)break;V=ie[0].properties.cluster_id}return U}_appendLeaves(V,U,ie,de,Me){const fe=this.getChildren(U);for(const se of fe){const X=se.properties;if(X&&X.cluster?Me+X.point_count<=de?Me+=X.point_count:Me=this._appendLeaves(V,X.cluster_id,ie,de,Me):Me<de?Me++:V.push(se),V.length===ie)break}return Me}_createTree(V){const U=new v.KDBush(V.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ie=0;ie<V.length;ie+=this.stride)U.add(V[ie],V[ie+1]);return U.finish(),U.data=V,U}_addTileFeatures(V,U,ie,de,Me,fe){for(const se of V){const X=se*this.stride,he=U[X+Ct]>1;let qe,lt,we;if(he)qe=Dt(U,X,this.clusterProps),lt=U[X],we=U[X+1];else{const Ee=this.points[U[X+vt]];qe=Ee.properties;const[Xe,It]=Ee.geometry.coordinates;lt=si(Xe),we=Ne(It)}const De={type:1,geometry:[[Math.round(this.options.extent*(lt*Me-ie)),Math.round(this.options.extent*(we*Me-de))]],tags:qe};let ce;ce=he||this.options.generateId?U[X+vt]:this.points[U[X+vt]].id,void 0!==ce&&(De.id=ce),fe.features.push(De)}}_limitZoom(V){return Math.max(this.options.minZoom,Math.min(Math.floor(+V),this.options.maxZoom+1))}_cluster(V,U){const{radius:ie,extent:de,reduce:Me,minPoints:fe}=this.options,se=ie/(de*Math.pow(2,U)),X=V.data,he=[],qe=this.stride;for(let lt=0;lt<X.length;lt+=qe){if(X[lt+2]<=U)continue;X[lt+2]=U;const we=X[lt],De=X[lt+1],ce=V.within(X[lt],X[lt+1],se),Ee=X[lt+Ct];let Xe=Ee;for(const It of ce){const Fe=It*qe;X[Fe+2]>U&&(Xe+=X[Fe+Ct])}if(Xe>Ee&&Xe>=fe){let It,Fe=we*Ee,Ae=De*Ee,je=-1;const Nt=((lt/qe|0)<<5)+(U+1)+this.points.length;for(const ci of ce){const hi=ci*qe;if(X[hi+2]<=U)continue;X[hi+2]=U;const di=X[hi+Ct];Fe+=X[hi]*di,Ae+=X[hi+1]*di,X[hi+4]=Nt,Me&&(It||(It=this._map(X,lt,!0),je=this.clusterProps.length,this.clusterProps.push(It)),Me(It,this._map(X,hi)))}X[lt+4]=Nt,he.push(Fe/Xe,Ae/Xe,1/0,Nt,-1,Xe),Me&&he.push(je)}else{for(let It=0;It<qe;It++)he.push(X[lt+It]);if(Xe>1)for(const It of ce){const Fe=It*qe;if(!(X[Fe+2]<=U)){X[Fe+2]=U;for(let Ae=0;Ae<qe;Ae++)he.push(X[Fe+Ae])}}}}return he}_getOriginId(V){return V-this.points.length>>5}_getOriginZoom(V){return(V-this.points.length)%32}_map(V,U,ie){if(V[U+Ct]>1){const fe=this.clusterProps[V[U+Rt]];return ie?Object.assign({},fe):fe}const de=this.points[V[U+vt]].properties,Me=this.options.map(de);return ie&&Me===de?Object.assign({},Me):Me}}function Jt(Y,V,U){return{type:"Feature",id:Y[V+vt],properties:Dt(Y,V,U),geometry:{type:"Point",coordinates:[(ie=Y[V],360*(ie-.5)),st(Y[V+1])]}};var ie}function Dt(Y,V,U){const ie=Y[V+Ct],de=ie>=1e4?`${Math.round(ie/1e3)}k`:ie>=1e3?Math.round(ie/100)/10+"k":ie,Me=Y[V+Rt],fe=-1===Me?{}:Object.assign({},U[Me]);return Object.assign(fe,{cluster:!0,cluster_id:Y[V+vt],point_count:ie,point_count_abbreviated:de})}function si(Y){return Y/360+.5}function Ne(Y){const V=Math.sin(Y*Math.PI/180),U=.5-.25*Math.log((1+V)/(1-V))/Math.PI;return U<0?0:U>1?1:U}function st(Y){const V=(180-360*Y)*Math.PI/180;return 360*Math.atan(Math.exp(V))/Math.PI-90}function pt(Y,V,U,ie){for(var de,Me=ie,fe=U-V>>1,se=U-V,X=Y[V],he=Y[V+1],qe=Y[U],lt=Y[U+1],we=V+3;we<U;we+=3){var De=ct(Y[we],Y[we+1],X,he,qe,lt);if(De>Me)de=we,Me=De;else if(De===Me){var ce=Math.abs(we-fe);ce<se&&(de=we,se=ce)}}Me>ie&&(de-V>3&&pt(Y,V,de,ie),Y[de+2]=Me,U-de>3&&pt(Y,de,U,ie))}function ct(Y,V,U,ie,de,Me){var fe=de-U,se=Me-ie;if(0!==fe||0!==se){var X=((Y-U)*fe+(V-ie)*se)/(fe*fe+se*se);X>1?(U=de,ie=Me):X>0&&(U+=fe*X,ie+=se*X)}return(fe=Y-U)*fe+(se=V-ie)*se}function ft(Y,V,U,ie){var de={id:void 0===Y?null:Y,type:V,geometry:U,tags:ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Me){var fe=Me.geometry,se=Me.type;if("Point"===se||"MultiPoint"===se||"LineString"===se)Yt(Me,fe);else if("Polygon"===se||"MultiLineString"===se)for(var X=0;X<fe.length;X++)Yt(Me,fe[X]);else if("MultiPolygon"===se)for(X=0;X<fe.length;X++)for(var he=0;he<fe[X].length;he++)Yt(Me,fe[X][he])}(de),de}function Yt(Y,V){for(var U=0;U<V.length;U+=3)Y.minX=Math.min(Y.minX,V[U]),Y.minY=Math.min(Y.minY,V[U+1]),Y.maxX=Math.max(Y.maxX,V[U]),Y.maxY=Math.max(Y.maxY,V[U+1])}function qt(Y,V,U,ie){if(V.geometry){var de=V.geometry.coordinates,Me=V.geometry.type,fe=Math.pow(U.tolerance/((1<<U.maxZoom)*U.extent),2),se=[],X=V.id;if(U.promoteId?X=V.properties[U.promoteId]:U.generateId&&(X=ie||0),"Point"===Me)gi(de,se);else if("MultiPoint"===Me)for(var he=0;he<de.length;he++)gi(de[he],se);else if("LineString"===Me)ot(de,se,fe,!1);else if("MultiLineString"===Me){if(U.lineMetrics){for(he=0;he<de.length;he++)ot(de[he],se=[],fe,!1),Y.push(ft(X,"LineString",se,V.properties));return}Tt(de,se,fe,!1)}else if("Polygon"===Me)Tt(de,se,fe,!0);else{if("MultiPolygon"!==Me){if("GeometryCollection"===Me){for(he=0;he<V.geometry.geometries.length;he++)qt(Y,{id:X,geometry:V.geometry.geometries[he],properties:V.properties},U,ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(he=0;he<de.length;he++){var qe=[];Tt(de[he],qe,fe,!0),se.push(qe)}}Y.push(ft(X,Me,se,V.properties))}}function gi(Y,V){V.push(bi(Y[0])),V.push(bt(Y[1])),V.push(0)}function ot(Y,V,U,ie){for(var de,Me,fe=0,se=0;se<Y.length;se++){var X=bi(Y[se][0]),he=bt(Y[se][1]);V.push(X),V.push(he),V.push(0),se>0&&(fe+=ie?(de*he-X*Me)/2:Math.sqrt(Math.pow(X-de,2)+Math.pow(he-Me,2))),de=X,Me=he}var qe=V.length-3;V[2]=1,pt(V,0,qe,U),V[qe+2]=1,V.size=Math.abs(fe),V.start=0,V.end=V.size}function Tt(Y,V,U,ie){for(var de=0;de<Y.length;de++){var Me=[];ot(Y[de],Me,U,ie),V.push(Me)}}function bi(Y){return Y/360+.5}function bt(Y){var V=Math.sin(Y*Math.PI/180),U=.5-.25*Math.log((1+V)/(1-V))/Math.PI;return U<0?0:U>1?1:U}function rn(Y,V,U,ie,de,Me,fe,se){if(ie/=V,Me>=(U/=V)&&fe<ie)return Y;if(fe<U||Me>=ie)return null;for(var X=[],he=0;he<Y.length;he++){var qe=Y[he],lt=qe.geometry,we=qe.type,De=0===de?qe.minX:qe.minY,ce=0===de?qe.maxX:qe.maxY;if(De>=U&&ce<ie)X.push(qe);else if(!(ce<U||De>=ie)){var Ee=[];if("Point"===we||"MultiPoint"===we)zn(lt,Ee,U,ie,de);else if("LineString"===we)Hi(lt,Ee,U,ie,de,!1,se.lineMetrics);else if("MultiLineString"===we)wt(lt,Ee,U,ie,de,!1);else if("Polygon"===we)wt(lt,Ee,U,ie,de,!0);else if("MultiPolygon"===we)for(var Xe=0;Xe<lt.length;Xe++){var It=[];wt(lt[Xe],It,U,ie,de,!0),It.length&&Ee.push(It)}if(Ee.length){if(se.lineMetrics&&"LineString"===we){for(Xe=0;Xe<Ee.length;Xe++)X.push(ft(qe.id,we,Ee[Xe],qe.tags));continue}"LineString"!==we&&"MultiLineString"!==we||(1===Ee.length?(we="LineString",Ee=Ee[0]):we="MultiLineString"),"Point"!==we&&"MultiPoint"!==we||(we=3===Ee.length?"Point":"MultiPoint"),X.push(ft(qe.id,we,Ee,qe.tags))}}}return X.length?X:null}function zn(Y,V,U,ie,de){for(var Me=0;Me<Y.length;Me+=3){var fe=Y[Me+de];fe>=U&&fe<=ie&&(V.push(Y[Me]),V.push(Y[Me+1]),V.push(Y[Me+2]))}}function Hi(Y,V,U,ie,de,Me,fe){for(var se,X,he=Li(Y),qe=0===de?Te:Pe,lt=Y.start,we=0;we<Y.length-3;we+=3){var De=Y[we],ce=Y[we+1],Ee=Y[we+2],Xe=Y[we+3],It=Y[we+4],Fe=0===de?De:ce,Ae=0===de?Xe:It,je=!1;fe&&(se=Math.sqrt(Math.pow(De-Xe,2)+Math.pow(ce-It,2))),Fe<U?Ae>U&&(X=qe(he,De,ce,Xe,It,U),fe&&(he.start=lt+se*X)):Fe>ie?Ae<ie&&(X=qe(he,De,ce,Xe,It,ie),fe&&(he.start=lt+se*X)):ue(he,De,ce,Ee),Ae<U&&Fe>=U&&(X=qe(he,De,ce,Xe,It,U),je=!0),Ae>ie&&Fe<=ie&&(X=qe(he,De,ce,Xe,It,ie),je=!0),!Me&&je&&(fe&&(he.end=lt+se*X),V.push(he),he=Li(Y)),fe&&(lt+=se)}var Nt=Y.length-3;De=Y[Nt],ce=Y[Nt+1],Ee=Y[Nt+2],(Fe=0===de?De:ce)>=U&&Fe<=ie&&ue(he,De,ce,Ee),Nt=he.length-3,Me&&Nt>=3&&(he[Nt]!==he[0]||he[Nt+1]!==he[1])&&ue(he,he[0],he[1],he[2]),he.length&&V.push(he)}function Li(Y){var V=[];return V.size=Y.size,V.start=Y.start,V.end=Y.end,V}function wt(Y,V,U,ie,de,Me){for(var fe=0;fe<Y.length;fe++)Hi(Y[fe],V,U,ie,de,Me,!1)}function ue(Y,V,U,ie){Y.push(V),Y.push(U),Y.push(ie)}function Te(Y,V,U,ie,de,Me){var fe=(Me-V)/(ie-V);return Y.push(Me),Y.push(U+(de-U)*fe),Y.push(1),fe}function Pe(Y,V,U,ie,de,Me){var fe=(Me-U)/(de-U);return Y.push(V+(ie-V)*fe),Y.push(Me),Y.push(1),fe}function Ie(Y,V){for(var U=[],ie=0;ie<Y.length;ie++){var de,Me=Y[ie],fe=Me.type;if("Point"===fe||"MultiPoint"===fe||"LineString"===fe)de=be(Me.geometry,V);else if("MultiLineString"===fe||"Polygon"===fe){de=[];for(var se=0;se<Me.geometry.length;se++)de.push(be(Me.geometry[se],V))}else if("MultiPolygon"===fe)for(de=[],se=0;se<Me.geometry.length;se++){for(var X=[],he=0;he<Me.geometry[se].length;he++)X.push(be(Me.geometry[se][he],V));de.push(X)}U.push(ft(Me.id,fe,de,Me.tags))}return U}function be(Y,V){var U=[];U.size=Y.size,void 0!==Y.start&&(U.start=Y.start,U.end=Y.end);for(var ie=0;ie<Y.length;ie+=3)U.push(Y[ie]+V,Y[ie+1],Y[ie+2]);return U}function et(Y,V){if(Y.transformed)return Y;var U,ie,de,Me=1<<Y.z,fe=Y.x,se=Y.y;for(U=0;U<Y.features.length;U++){var X=Y.features[U],he=X.geometry,qe=X.type;if(X.geometry=[],1===qe)for(ie=0;ie<he.length;ie+=2)X.geometry.push(Ye(he[ie],he[ie+1],V,Me,fe,se));else for(ie=0;ie<he.length;ie++){var lt=[];for(de=0;de<he[ie].length;de+=2)lt.push(Ye(he[ie][de],he[ie][de+1],V,Me,fe,se));X.geometry.push(lt)}}return Y.transformed=!0,Y}function Ye(Y,V,U,ie,de,Me){return[Math.round(U*(Y*ie-de)),Math.round(U*(V*ie-Me))]}function Zt(Y,V,U,ie,de){for(var Me=V===de.maxZoom?0:de.tolerance/((1<<V)*de.extent),fe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:U,y:ie,z:V,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},se=0;se<Y.length;se++){fe.numFeatures++,ii(fe,Y[se],Me,de);var X=Y[se].minX,he=Y[se].minY,qe=Y[se].maxX,lt=Y[se].maxY;X<fe.minX&&(fe.minX=X),he<fe.minY&&(fe.minY=he),qe>fe.maxX&&(fe.maxX=qe),lt>fe.maxY&&(fe.maxY=lt)}return fe}function ii(Y,V,U,ie){var de=V.geometry,Me=V.type,fe=[];if("Point"===Me||"MultiPoint"===Me)for(var se=0;se<de.length;se+=3)fe.push(de[se]),fe.push(de[se+1]),Y.numPoints++,Y.numSimplified++;else if("LineString"===Me)wi(fe,de,Y,U,!1,!1);else if("MultiLineString"===Me||"Polygon"===Me)for(se=0;se<de.length;se++)wi(fe,de[se],Y,U,"Polygon"===Me,0===se);else if("MultiPolygon"===Me)for(var X=0;X<de.length;X++){var he=de[X];for(se=0;se<he.length;se++)wi(fe,he[se],Y,U,!0,0===se)}if(fe.length){var qe=V.tags||null;if("LineString"===Me&&ie.lineMetrics){for(var lt in qe={},V.tags)qe[lt]=V.tags[lt];qe.mapbox_clip_start=de.start/de.size,qe.mapbox_clip_end=de.end/de.size}var we={geometry:fe,type:"Polygon"===Me||"MultiPolygon"===Me?3:"LineString"===Me||"MultiLineString"===Me?2:1,tags:qe};null!==V.id&&(we.id=V.id),Y.features.push(we)}}function wi(Y,V,U,ie,de,Me){var fe=ie*ie;if(ie>0&&V.size<(de?fe:ie))U.numPoints+=V.length/3;else{for(var se=[],X=0;X<V.length;X+=3)(0===ie||V[X+2]>fe)&&(U.numSimplified++,se.push(V[X]),se.push(V[X+1])),U.numPoints++;de&&function(he,qe){for(var lt=0,we=0,De=he.length,ce=De-2;we<De;ce=we,we+=2)lt+=(he[we]-he[ce])*(he[we+1]+he[ce+1]);if(lt>0===qe)for(we=0,De=he.length;we<De/2;we+=2){var Ee=he[we],Xe=he[we+1];he[we]=he[De-2-we],he[we+1]=he[De-1-we],he[De-2-we]=Ee,he[De-1-we]=Xe}}(se,Me),Y.push(se)}}function pi(Y,V){var U=(V=this.options=function(de,Me){for(var fe in Me)de[fe]=Me[fe];return de}(Object.create(this.options),V)).debug;if(U&&console.time("preprocess data"),V.maxZoom<0||V.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(V.promoteId&&V.generateId)throw new Error("promoteId and generateId cannot be used together.");var de,Me,fe,se,X,he,ie=function(de,Me){var fe=[];if("FeatureCollection"===de.type)for(var se=0;se<de.features.length;se++)qt(fe,de.features[se],Me,se);else qt(fe,"Feature"===de.type?de:{geometry:de},Me);return fe}(Y,V);this.tiles={},this.tileCoords=[],U&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",V.indexMaxZoom,V.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=de=ie,X=rn(de,1,-1-(fe=(Me=V).buffer/Me.extent),fe,0,-1,2,Me),he=rn(de,1,1-fe,2+fe,0,-1,2,Me),(X||he)&&(se=rn(de,1,-fe,1+fe,0,-1,2,Me)||[],X&&(se=Ie(X,1).concat(se)),he&&(se=se.concat(Ie(he,-1)))),(ie=se).length&&this.splitTile(ie,0,0,0),U&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $t(Y,V,U){return 32*((1<<Y)*U+V)+Y}function Ci(Y,V){return V?Y.properties[V]:Y.id}function Ei(Y,V){if(null==Y)return!0;if("Feature"===Y.type)return null!=Ci(Y,V);if("FeatureCollection"===Y.type){const U=new Set;for(const ie of Y.features){const de=Ci(ie,V);if(null==de||U.has(de))return!1;U.add(de)}return!0}return!1}function Qi(Y,V){const U=new Map;if(null!=Y)if("Feature"===Y.type)U.set(Ci(Y,V),Y);else for(const ie of Y.features)U.set(Ci(ie,V),ie);return U}function Pt(Y,V){const U=Y.tileID.canonical;if(!this._geoJSONIndex)return V(null,null);const ie=this._geoJSONIndex.getTile(U.z,U.x,U.y);if(!ie)return V(null,null);const de=new class{constructor(fe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=v.EXTENT,this.length=fe.length,this._features=fe}feature(fe){return new class{constructor(se){this._feature=se,this.extent=v.EXTENT,this.type=se.type,this.properties=se.tags,"id"in se&&!isNaN(se.id)&&(this.id=parseInt(se.id,10))}loadGeometry(){if(1===this._feature.type){const se=[];for(const X of this._feature.geometry)se.push([new v.Point(X[0],X[1])]);return se}{const se=[];for(const X of this._feature.geometry){const he=[];for(const qe of X)he.push(new v.Point(qe[0],qe[1]));se.push(he)}return se}}toGeoJSON(se,X,he){return ut.call(this,se,X,he)}}(this._features[fe])}}(ie.features);let Me=qn(de);0===Me.byteOffset&&Me.byteLength===Me.buffer.byteLength||(Me=new Uint8Array(Me)),V(null,{vectorTile:de,rawData:Me.buffer})}pi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pi.prototype.splitTile=function(Y,V,U,ie,de,Me,fe){for(var se=[Y,V,U,ie],X=this.options,he=X.debug;se.length;){ie=se.pop(),U=se.pop(),V=se.pop(),Y=se.pop();var qe=1<<V,lt=$t(V,U,ie),we=this.tiles[lt];if(!we&&(he>1&&console.time("creation"),we=this.tiles[lt]=Zt(Y,V,U,ie,X),this.tileCoords.push({z:V,x:U,y:ie}),he)){he>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",V,U,ie,we.numFeatures,we.numPoints,we.numSimplified),console.timeEnd("creation"));var De="z"+V;this.stats[De]=(this.stats[De]||0)+1,this.total++}if(we.source=Y,de){if(V===X.maxZoom||V===de)continue;var ce=1<<de-V;if(U!==Math.floor(Me/ce)||ie!==Math.floor(fe/ce))continue}else if(V===X.indexMaxZoom||we.numPoints<=X.indexMaxPoints)continue;if(we.source=null,0!==Y.length){he>1&&console.time("clipping");var Ee,Xe,It,Fe,Ae,je,Nt=.5*X.buffer/X.extent,ci=.5-Nt,hi=.5+Nt,di=1+Nt;Ee=Xe=It=Fe=null,Ae=rn(Y,qe,U-Nt,U+hi,0,we.minX,we.maxX,X),je=rn(Y,qe,U+ci,U+di,0,we.minX,we.maxX,X),Y=null,Ae&&(Ee=rn(Ae,qe,ie-Nt,ie+hi,1,we.minY,we.maxY,X),Xe=rn(Ae,qe,ie+ci,ie+di,1,we.minY,we.maxY,X),Ae=null),je&&(It=rn(je,qe,ie-Nt,ie+hi,1,we.minY,we.maxY,X),Fe=rn(je,qe,ie+ci,ie+di,1,we.minY,we.maxY,X),je=null),he>1&&console.timeEnd("clipping"),se.push(Ee||[],V+1,2*U,2*ie),se.push(Xe||[],V+1,2*U,2*ie+1),se.push(It||[],V+1,2*U+1,2*ie),se.push(Fe||[],V+1,2*U+1,2*ie+1)}}},pi.prototype.getTile=function(Y,V,U){var ie=this.options,de=ie.extent,Me=ie.debug;if(Y<0||Y>24)return null;var fe=1<<Y,se=$t(Y,V=(V%fe+fe)%fe,U);if(this.tiles[se])return et(this.tiles[se],de);Me>1&&console.log("drilling down to z%d-%d-%d",Y,V,U);for(var X,he=Y,qe=V,lt=U;!X&&he>0;)he--,qe=Math.floor(qe/2),lt=Math.floor(lt/2),X=this.tiles[$t(he,qe,lt)];return X&&X.source?(Me>1&&console.log("found parent tile z%d-%d-%d",he,qe,lt),Me>1&&console.time("drilling down"),this.splitTile(X.source,he,qe,lt,Y,V,U),Me>1&&console.timeEnd("drilling down"),this.tiles[se]?et(this.tiles[se],de):null):null};class Ut extends Be{constructor(V,U,ie,de){super(V,U,ie,Pt),this._dataUpdateable=new Map,this.loadGeoJSON=(Me,fe)=>{const{promoteId:se}=Me;if(Me.request)return v.getJSON(Me.request,(X,he,qe,lt)=>{this._dataUpdateable=Ei(he,se)?Qi(he,se):void 0,fe(X,he,qe,lt)});if("string"==typeof Me.data)try{const X=JSON.parse(Me.data);this._dataUpdateable=Ei(X,se)?Qi(X,se):void 0,fe(null,X)}catch{fe(new Error(`Input data given to '${Me.source}' is not a valid GeoJSON object.`))}else Me.dataDiff?this._dataUpdateable?(function(X,he,qe){var lt,we,De,ce;if(he.removeAll&&X.clear(),he.remove)for(const Ee of he.remove)X.delete(Ee);if(he.add)for(const Ee of he.add){const Xe=Ci(Ee,qe);null!=Xe&&X.set(Xe,Ee)}if(he.update)for(const Ee of he.update){let Xe=X.get(Ee.id);if(null==Xe)continue;const It=!Ee.removeAllProperties&&((null===(lt=Ee.removeProperties)||void 0===lt?void 0:lt.length)>0||(null===(we=Ee.addOrUpdateProperties)||void 0===we?void 0:we.length)>0);if((Ee.newGeometry||Ee.removeAllProperties||It)&&(Xe=Object.assign({},Xe),X.set(Ee.id,Xe),It&&(Xe.properties=Object.assign({},Xe.properties))),Ee.newGeometry&&(Xe.geometry=Ee.newGeometry),Ee.removeAllProperties)Xe.properties={};else if((null===(De=Ee.removeProperties)||void 0===De?void 0:De.length)>0)for(const Fe of Ee.removeProperties)Object.prototype.hasOwnProperty.call(Xe.properties,Fe)&&delete Xe.properties[Fe];if((null===(ce=Ee.addOrUpdateProperties)||void 0===ce?void 0:ce.length)>0)for(const{key:Fe,value:Ae}of Ee.addOrUpdateProperties)Xe.properties[Fe]=Ae}}(this._dataUpdateable,Me.dataDiff,se),fe(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):fe(new Error(`Cannot update existing geojson data in ${Me.source}`)):fe(new Error(`Input data given to '${Me.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},de&&(this.loadGeoJSON=de)}loadData(V,U){var ie;null===(ie=this._pendingRequest)||void 0===ie||ie.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const de=!!(V&&V.request&&V.request.collectResourceTiming)&&new v.RequestPerformance(V.request);this._pendingCallback=U,this._pendingRequest=this.loadGeoJSON(V,(Me,fe)=>{if(delete this._pendingCallback,delete this._pendingRequest,Me||!fe)return U(Me);if("object"!=typeof fe)return U(new Error(`Input data given to '${V.source}' is not a valid GeoJSON object.`));{Ke(fe,!0);try{if(V.filter){const X=v.createExpression(V.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===X.result)throw new Error(X.value.map(qe=>`${qe.key}: ${qe.message}`).join(", "));fe={type:"FeatureCollection",features:fe.features.filter(qe=>X.value.evaluate({zoom:0},qe))}}this._geoJSONIndex=V.cluster?new zt(function({superclusterOptions:X,clusterProperties:he}){if(!he||!X)return X;const qe={},lt={},we={accumulated:null,zoom:0},De={properties:null},ce=Object.keys(he);for(const Ee of ce){const[Xe,It]=he[Ee],Fe=v.createExpression(It),Ae=v.createExpression("string"==typeof Xe?[Xe,["accumulated"],["get",Ee]]:Xe);qe[Ee]=Fe.value,lt[Ee]=Ae.value}return X.map=Ee=>{De.properties=Ee;const Xe={};for(const It of ce)Xe[It]=qe[It].evaluate(we,De);return Xe},X.reduce=(Ee,Xe)=>{De.properties=Xe;for(const It of ce)we.accumulated=Ee[It],Ee[It]=lt[It].evaluate(we,De)},X}(V)).load(fe.features):new pi(X=fe,V.geojsonVtOptions)}catch(X){return U(X)}this.loaded={};const se={};if(de){const X=de.finish();X&&(se.resourceTiming={},se.resourceTiming[V.source]=JSON.parse(JSON.stringify(X)))}U(null,se)}var X})}reloadTile(V,U){const ie=this.loaded;return ie&&ie[V.uid]?super.reloadTile(V,U):this.loadTile(V,U)}removeSource(V,U){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),U()}getClusterExpansionZoom(V,U){try{U(null,this._geoJSONIndex.getClusterExpansionZoom(V.clusterId))}catch(ie){U(ie)}}getClusterChildren(V,U){try{U(null,this._geoJSONIndex.getChildren(V.clusterId))}catch(ie){U(ie)}}getClusterLeaves(V,U){try{U(null,this._geoJSONIndex.getLeaves(V.clusterId,V.limit,V.offset))}catch(ie){U(ie)}}}class Et{constructor(V){this.self=V,this.actor=new v.Actor(V,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Be,geojson:Ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(U,ie)=>{if(this.workerSourceTypes[U])throw new Error(`Worker source with name "${U}" already registered.`);this.workerSourceTypes[U]=ie},this.self.registerRTLTextPlugin=U=>{if(v.plugin.isParsed())throw new Error("RTL text plugin already registered.");v.plugin.applyArabicShaping=U.applyArabicShaping,v.plugin.processBidirectionalText=U.processBidirectionalText,v.plugin.processStyledBidirectionalText=U.processStyledBidirectionalText}}setReferrer(V,U){this.referrer=U}setImages(V,U,ie){this.availableImages[V]=U;for(const de in this.workerSources[V]){const Me=this.workerSources[V][de];for(const fe in Me)Me[fe].availableImages=U}ie()}setLayers(V,U,ie){this.getLayerIndex(V).replace(U),ie()}updateLayers(V,U,ie){this.getLayerIndex(V).update(U.layers,U.removedIds),ie()}loadTile(V,U,ie){this.getWorkerSource(V,U.type,U.source).loadTile(U,ie)}loadDEMTile(V,U,ie){this.getDEMWorkerSource(V,U.source).loadTile(U,ie)}reloadTile(V,U,ie){this.getWorkerSource(V,U.type,U.source).reloadTile(U,ie)}abortTile(V,U,ie){this.getWorkerSource(V,U.type,U.source).abortTile(U,ie)}removeTile(V,U,ie){this.getWorkerSource(V,U.type,U.source).removeTile(U,ie)}removeDEMTile(V,U){this.getDEMWorkerSource(V,U.source).removeTile(U)}removeSource(V,U,ie){if(!this.workerSources[V]||!this.workerSources[V][U.type]||!this.workerSources[V][U.type][U.source])return;const de=this.workerSources[V][U.type][U.source];delete this.workerSources[V][U.type][U.source],void 0!==de.removeSource?de.removeSource(U,ie):ie()}loadWorkerSource(V,U,ie){try{this.self.importScripts(U.url),ie()}catch(de){ie(de.toString())}}syncRTLPluginState(V,U,ie){try{v.plugin.setState(U);const de=v.plugin.getPluginURL();if(v.plugin.isLoaded()&&!v.plugin.isParsed()&&null!=de){this.self.importScripts(de);const Me=v.plugin.isParsed();ie(Me?void 0:new Error(`RTL Text Plugin failed to import scripts from ${de}`),Me)}}catch(de){ie(de.toString())}}getAvailableImages(V){let U=this.availableImages[V];return U||(U=[]),U}getLayerIndex(V){let U=this.layerIndexes[V];return U||(U=this.layerIndexes[V]=new Ve),U}getWorkerSource(V,U,ie){return this.workerSources[V]||(this.workerSources[V]={}),this.workerSources[V][U]||(this.workerSources[V][U]={}),this.workerSources[V][U][ie]||(this.workerSources[V][U][ie]=new this.workerSourceTypes[U]({send:(Me,fe,se)=>{this.actor.send(Me,fe,se,V)}},this.getLayerIndex(V),this.getAvailableImages(V))),this.workerSources[V][U][ie]}getDEMWorkerSource(V,U){return this.demWorkerSources[V]||(this.demWorkerSources[V]={}),this.demWorkerSources[V][U]||(this.demWorkerSources[V][U]=new nt),this.demWorkerSources[V][U]}}return v.isWorker()&&(self.worker=new Et(self)),Et}),l(0,function(v){class ne{static testProp(i){if(!ne.docStyle)return i[0];for(let d=0;d<i.length;d++)if(i[d]in ne.docStyle)return i[d];return i[0]}static create(i,d,_){const w=window.document.createElement(i);return void 0!==d&&(w.className=d),_&&_.appendChild(w),w}static createNS(i,d){return window.document.createElementNS(i,d)}static disableDrag(){ne.docStyle&&ne.selectProp&&(ne.userSelect=ne.docStyle[ne.selectProp],ne.docStyle[ne.selectProp]="none")}static enableDrag(){ne.docStyle&&ne.selectProp&&(ne.docStyle[ne.selectProp]=ne.userSelect)}static setTransform(i,d){i.style[ne.transformProp]=d}static addEventListener(i,d,_,w={}){i.addEventListener(d,_,"passive"in w?w:w.capture)}static removeEventListener(i,d,_,w={}){i.removeEventListener(d,_,"passive"in w?w:w.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",ne.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",ne.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",ne.suppressClickInternal,!0)},0)}static mousePos(i,d){const _=i.getBoundingClientRect();return new v.Point(d.clientX-_.left-i.clientLeft,d.clientY-_.top-i.clientTop)}static touchPos(i,d){const _=i.getBoundingClientRect(),w=[];for(let T=0;T<d.length;T++)w.push(new v.Point(d[T].clientX-_.left-i.clientLeft,d[T].clientY-_.top-i.clientTop));return w}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}ne.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,ne.selectProp=ne.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ne.transformProp=ne.testProp(["transform","WebkitTransform"]);const $e={supported:!1,testSupport:function(E){!Be&&Se&&(nt?Le(E):Qe=E)}};let Qe,Se,Be=!1,nt=!1;function Le(E){const i=E.createTexture();E.bindTexture(E.TEXTURE_2D,i);try{if(E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Se),E.isContextLost())return;$e.supported=!0}catch{}E.deleteTexture(i),Be=!0}var tt,Ke,E;typeof document<"u"&&(Se=document.createElement("img"),Se.onload=function(){Qe&&Le(Qe),Qe=null,nt=!0},Se.onerror=function(){Be=!0,Qe=null},Se.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(E){let i,d,_,w;E.resetRequestQueue=()=>{i=[],d=0,_=0,w={}},E.addThrottleControl=S=>{const k=_++;return w[k]=S,k},E.removeThrottleControl=S=>{delete w[S],b()},E.getImage=(S,k,R=!0)=>{$e.supported&&(S.headers||(S.headers={}),S.headers.accept="image/webp,*/*");const B={requestParameters:S,supportImageRefresh:R,callback:k,cancelled:!1,completed:!1,cancel:()=>{B.completed||B.cancelled||(B.cancelled=!0,B.innerRequest&&(B.innerRequest.cancel(),d--),b())}};return i.push(B),b(),B};const T=S=>{const{requestParameters:k,supportImageRefresh:R,callback:B}=S;return v.extend(k,{type:"image"}),(!1!==R||v.isWorker()||v.getProtocolAction(k.url)||k.headers&&!Object.keys(k.headers).reduce((te,ae)=>te&&"accept"===ae,!0)?v.makeRequest:y)(k,(te,ae,Ce,ve)=>{f(S,B,te,ae,Ce,ve)})},f=(S,k,R,B,te,ae)=>{var Ce,ve;R?k(R):B instanceof HTMLImageElement||v.isImageBitmap(B)?k(null,B):B&&(Ce=B,ve=(Ce,ve)=>{null!=Ce?k(Ce):null!=ve&&k(null,ve,{cacheControl:te,expires:ae})},"function"==typeof createImageBitmap?v.arrayBufferToImageBitmap(Ce,ve):v.arrayBufferToImage(Ce,ve)),S.cancelled||(S.completed=!0,d--,b())},b=()=>{const S=(()=>{const k=Object.keys(w);let R=!1;if(k.length>0)for(const B of k)if(R=w[B](),R)break;return R})()?v.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:v.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let k=d;k<S&&i.length>0;k++){const R=i.shift();if(R.cancelled){k--;continue}const B=T(R);d++,R.innerRequest=B}},y=(S,k)=>{const R=new Image,B=S.url;let te=!1;const ae=S.credentials;return ae&&"include"===ae?R.crossOrigin="use-credentials":(ae&&"same-origin"===ae||!v.sameOrigin(B))&&(R.crossOrigin="anonymous"),R.fetchPriority="high",R.onload=()=>{k(null,R),R.onerror=R.onload=null},R.onerror=()=>{te||k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),R.onerror=R.onload=null},R.src=B,{cancel:()=>{te=!0,R.src=""}}}}(tt||(tt={})),tt.resetRequestQueue(),(E=Ke||(Ke={})).Glyphs="Glyphs",E.Image="Image",E.Source="Source",E.SpriteImage="SpriteImage",E.SpriteJSON="SpriteJSON",E.Style="Style",E.Tile="Tile",E.Unknown="Unknown";class ut{constructor(i){this._transformRequestFn=i}transformRequest(i,d){return this._transformRequestFn&&this._transformRequestFn(i,d)||{url:i}}normalizeSpriteURL(i,d,_){const w=function(T){const f=T.match(Mt);if(!f)throw new Error(`Unable to parse URL "${T}"`);return{protocol:f[1],authority:f[2],path:f[3]||"/",params:f[4]?f[4].split("&"):[]}}(i);return w.path+=`${d}${_}`,function(T){const f=T.params.length?`?${T.params.join("&")}`:"";return`${T.protocol}://${T.authority}${T.path}${f}`}(w)}setTransformRequest(i){this._transformRequestFn=i}}const Mt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Vt(E){var i=new v.ARRAY_TYPE(3);return i[0]=E[0],i[1]=E[1],i[2]=E[2],i}var ei,Di=function(E,i,d){return E[0]=i[0]-d[0],E[1]=i[1]-d[1],E[2]=i[2]-d[2],E};ei=new v.ARRAY_TYPE(3),v.ARRAY_TYPE!=Float32Array&&(ei[0]=0,ei[1]=0,ei[2]=0);var ti=function(E){var i=E[0],d=E[1];return i*i+d*d};function Oe(E){const i=[];if("string"==typeof E)i.push({id:"default",url:E});else if(E&&E.length>0){const d=[];for(const{id:_,url:w}of E){const T=`${_}${w}`;-1===d.indexOf(T)&&(d.push(T),i.push({id:_,url:w}))}}return i}function We(E,i,d,_,w){if(_)return void E(_);if(w!==Object.values(i).length||w!==Object.values(d).length)return;const T={};for(const f in i){T[f]={};const b=v.browser.getImageCanvasContext(d[f]),y=i[f];for(const S in y){const{width:k,height:R,x:B,y:te,sdf:ae,pixelRatio:Ce,stretchX:ve,stretchY:rt,content:xt}=y[S];T[f][S]={data:null,pixelRatio:Ce,sdf:ae,stretchX:ve,stretchY:rt,content:xt,spriteData:{width:k,height:R,x:B,y:te,context:b}}}}E(null,T)}!function(){var E=new v.ARRAY_TYPE(2);v.ARRAY_TYPE!=Float32Array&&(E[0]=0,E[1]=0)}();class Re{constructor(i,d,_,w){this.context=i,this.format=_,this.texture=i.gl.createTexture(),this.update(d,w)}update(i,d,_){const{width:w,height:T}=i,f=!(this.size&&this.size[0]===w&&this.size[1]===T||_),{context:b}=this,{gl:y}=b;if(this.useMipmap=!(!d||!d.useMipmap),y.bindTexture(y.TEXTURE_2D,this.texture),b.pixelStoreUnpackFlipY.set(!1),b.pixelStoreUnpack.set(1),b.pixelStoreUnpackPremultiplyAlpha.set(this.format===y.RGBA&&(!d||!1!==d.premultiply)),f)this.size=[w,T],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?y.texImage2D(y.TEXTURE_2D,0,this.format,this.format,y.UNSIGNED_BYTE,i):y.texImage2D(y.TEXTURE_2D,0,this.format,w,T,0,this.format,y.UNSIGNED_BYTE,i.data);else{const{x:S,y:k}=_||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?y.texSubImage2D(y.TEXTURE_2D,0,S,k,y.RGBA,y.UNSIGNED_BYTE,i):y.texSubImage2D(y.TEXTURE_2D,0,S,k,w,T,y.RGBA,y.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&y.generateMipmap(y.TEXTURE_2D)}bind(i,d,_){const{context:w}=this,{gl:T}=w;T.bindTexture(T.TEXTURE_2D,this.texture),_!==T.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=T.LINEAR),i!==this.filter&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,i),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,_||i),this.filter=i),d!==this.wrap&&(T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,d),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function Ft(E){const{userImage:i}=E;return!!(i&&i.render&&i.render())&&(E.data.replace(new Uint8Array(i.data.buffer)),!0)}class Ot extends v.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new v.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:d,callback:_}of this.requestors)this._notify(d,_);this.requestors=[]}}getImage(i){const d=this.images[i];if(d&&!d.data&&d.spriteData){const _=d.spriteData;d.data=new v.RGBAImage({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),d.spriteData=null}return d}addImage(i,d){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,d)&&(this.images[i]=d)}_validate(i,d){let _=!0;const w=d.data||d.spriteData;return this._validateStretch(d.stretchX,w&&w.width)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),_=!1),this._validateStretch(d.stretchY,w&&w.height)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),_=!1),this._validateContent(d.content,d)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),_=!1),_}_validateStretch(i,d){if(!i)return!0;let _=0;for(const w of i){if(w[0]<_||w[1]<w[0]||d<w[1])return!1;_=w[1]}return!0}_validateContent(i,d){if(!i)return!0;if(4!==i.length)return!1;const _=d.spriteData,w=_&&_.width||d.data.width,T=_&&_.height||d.data.height;return!(i[0]<0||w<i[0]||i[1]<0||T<i[1]||i[2]<0||w<i[2]||i[3]<0||T<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,d,_=!0){const w=this.getImage(i);if(_&&(w.data.width!==d.data.width||w.data.height!==d.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=w.version+1,this.images[i]=d,this.updatedImages[i]=!0}removeImage(i){const d=this.images[i];delete this.images[i],delete this.patterns[i],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,d){let _=!0;if(!this.isLoaded())for(const w of i)this.images[w]||(_=!1);this.isLoaded()||_?this._notify(i,d):this.requestors.push({ids:i,callback:d})}_notify(i,d){const _={};for(const w of i){let T=this.getImage(w);T||(this.fire(new v.Event("styleimagemissing",{id:w})),T=this.getImage(w)),T?_[w]={data:T.data.clone(),pixelRatio:T.pixelRatio,sdf:T.sdf,version:T.version,stretchX:T.stretchX,stretchY:T.stretchY,content:T.content,hasRenderCallback:!(!T.userImage||!T.userImage.render)}:v.warnOnce(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,_)}getPixelSize(){const{width:i,height:d}=this.atlasImage;return{width:i,height:d}}getPattern(i){const d=this.patterns[i],_=this.getImage(i);if(!_)return null;if(d&&d.position.version===_.version)return d.position;if(d)d.position.version=_.version;else{const w={w:_.data.width+2,h:_.data.height+2,x:0,y:0},T=new v.ImagePosition(w,_);this.patterns[i]={bin:w,position:T}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const d=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Re(i,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const T in this.patterns)i.push(this.patterns[T].bin);const{w:d,h:_}=v.potpack(i),w=this.atlasImage;w.resize({width:d||1,height:_||1});for(const T in this.patterns){const{bin:f}=this.patterns[T],b=f.x+1,y=f.y+1,S=this.getImage(T).data,k=S.width,R=S.height;v.RGBAImage.copy(S,w,{x:0,y:0},{x:b,y},{width:k,height:R}),v.RGBAImage.copy(S,w,{x:0,y:R-1},{x:b,y:y-1},{width:k,height:1}),v.RGBAImage.copy(S,w,{x:0,y:0},{x:b,y:y+R},{width:k,height:1}),v.RGBAImage.copy(S,w,{x:k-1,y:0},{x:b-1,y},{width:1,height:R}),v.RGBAImage.copy(S,w,{x:0,y:0},{x:b+k,y},{width:1,height:R})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const d of i){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const _=this.getImage(d);_||v.warnOnce(`Image with ID: "${d}" was not found`),Ft(_)&&this.updateImage(d,_)}}}const Bt=1e20;function ui(E,i,d,_,w,T,f,b,y){for(let S=i;S<i+_;S++)fi(E,d*T+S,T,w,f,b,y);for(let S=d;S<d+w;S++)fi(E,S*T+i,1,_,f,b,y)}function fi(E,i,d,_,w,T,f){T[0]=0,f[0]=-Bt,f[1]=Bt,w[0]=E[i];for(let b=1,y=0,S=0;b<_;b++){w[b]=E[i+b*d];const k=b*b;do{const R=T[y];S=(w[b]-w[R]+k-R*R)/(b-R)/2}while(S<=f[y]&&--y>-1);y++,T[y]=b,f[y]=S,f[y+1]=Bt}for(let b=0,y=0;b<_;b++){for(;f[y+1]<b;)y++;const S=T[y],k=b-S;E[i+b*d]=w[S]+k*k}}class Fi{constructor(i,d){this.requestManager=i,this.localIdeographFontFamily=d,this.entries={}}setURL(i){this.url=i}getGlyphs(i,d){const _=[];for(const w in i)for(const T of i[w])_.push({stack:w,id:T});v.asyncAll(_,({stack:w,id:T},f)=>{let b=this.entries[w];b||(b=this.entries[w]={glyphs:{},requests:{},ranges:{}});let y=b.glyphs[T];if(void 0!==y)return void f(null,{stack:w,id:T,glyph:y});if(y=this._tinySDF(b,w,T),y)return b.glyphs[T]=y,void f(null,{stack:w,id:T,glyph:y});const S=Math.floor(T/256);if(256*S>65535)return void f(new Error("glyphs > 65535 not supported"));if(b.ranges[S])return void f(null,{stack:w,id:T,glyph:y});if(!this.url)return void f(new Error("glyphsUrl is not set"));let k=b.requests[S];k||(k=b.requests[S]=[],Fi.loadGlyphRange(w,S,this.url,this.requestManager,(R,B)=>{if(B){for(const te in B)this._doesCharSupportLocalGlyph(+te)||(b.glyphs[+te]=B[+te]);b.ranges[S]=!0}for(const te of k)te(R,B);delete b.requests[S]})),k.push((R,B)=>{R?f(R):B&&f(null,{stack:w,id:T,glyph:B[T]||null})})},(w,T)=>{if(w)d(w);else if(T){const f={};for(const{stack:b,id:y,glyph:S}of T)(f[b]||(f[b]={}))[y]=S&&{id:S.id,bitmap:S.bitmap.clone(),metrics:S.metrics};d(null,f)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(v.unicodeBlockLookup["CJK Unified Ideographs"](i)||v.unicodeBlockLookup["Hangul Syllables"](i)||v.unicodeBlockLookup.Hiragana(i)||v.unicodeBlockLookup.Katakana(i))}_tinySDF(i,d,_){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(_))return;let T=i.tinySDF;if(!T){let b="400";/bold/i.test(d)?b="900":/medium/i.test(d)?b="500":/light/i.test(d)&&(b="200"),T=i.tinySDF=new Fi.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:w,fontWeight:b})}const f=T.draw(String.fromCharCode(_));return{id:_,bitmap:new v.AlphaImage({width:f.width||60,height:f.height||60},f.data),metrics:{width:f.glyphWidth/2||24,height:f.glyphHeight/2||24,left:f.glyphLeft/2+.5||0,top:f.glyphTop/2-27.5||-8,advance:f.glyphAdvance/2||24,isDoubleResolution:!0}}}}Fi.loadGlyphRange=function(E,i,d,_,w){const T=256*i,f=T+255,b=_.transformRequest(d.replace("{fontstack}",E).replace("{range}",`${T}-${f}`),Ke.Glyphs);v.getArrayBuffer(b,(y,S)=>{if(y)w(y);else if(S){const k={};for(const R of v.parseGlyphPbf(S))k[R.id]=R;w(null,k)}})},Fi.TinySDF=class{constructor({fontSize:E=24,buffer:i=3,radius:d=8,cutoff:_=.25,fontFamily:w="sans-serif",fontWeight:T="normal",fontStyle:f="normal"}={}){this.buffer=i,this.cutoff=_,this.radius=d;const b=this.size=E+4*i,y=this._createCanvas(b),S=this.ctx=y.getContext("2d",{willReadFrequently:!0});S.font=`${f} ${T} ${E}px ${w}`,S.textBaseline="alphabetic",S.textAlign="left",S.fillStyle="black",this.gridOuter=new Float64Array(b*b),this.gridInner=new Float64Array(b*b),this.f=new Float64Array(b),this.z=new Float64Array(b+1),this.v=new Uint16Array(b)}_createCanvas(E){const i=document.createElement("canvas");return i.width=i.height=E,i}draw(E){const{width:i,actualBoundingBoxAscent:d,actualBoundingBoxDescent:_,actualBoundingBoxLeft:w,actualBoundingBoxRight:T}=this.ctx.measureText(E),f=Math.ceil(d),b=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(T-w))),y=Math.min(this.size-this.buffer,f+Math.ceil(_)),S=b+2*this.buffer,k=y+2*this.buffer,R=Math.max(S*k,0),B=new Uint8ClampedArray(R),te={data:B,width:S,height:k,glyphWidth:b,glyphHeight:y,glyphTop:f,glyphLeft:0,glyphAdvance:i};if(0===b||0===y)return te;const{ctx:ae,buffer:Ce,gridInner:ve,gridOuter:rt}=this;ae.clearRect(Ce,Ce,b,y),ae.fillText(E,Ce,Ce+f);const xt=ae.getImageData(Ce,Ce,b,y);rt.fill(Bt,0,R),ve.fill(0,0,R);for(let Ge=0;Ge<y;Ge++)for(let dt=0;dt<b;dt++){const kt=xt.data[4*(Ge*b+dt)+3]/255;if(0===kt)continue;const Lt=(Ge+Ce)*S+dt+Ce;if(1===kt)rt[Lt]=0,ve[Lt]=Bt;else{const Gt=.5-kt;rt[Lt]=Gt>0?Gt*Gt:0,ve[Lt]=Gt<0?Gt*Gt:0}}ui(rt,0,0,S,k,S,this.f,this.v,this.z),ui(ve,Ce,Ce,b,y,S,this.f,this.v,this.z);for(let Ge=0;Ge<R;Ge++){const dt=Math.sqrt(rt[Ge])-Math.sqrt(ve[Ge]);B[Ge]=Math.round(255-255*(dt/this.radius+this.cutoff))}return te}};class Bi{constructor(){this.specification=v.v8Spec.light.position}possiblyEvaluate(i,d){return v.sphericalToCartesian(i.expression.evaluate(d))}interpolate(i,d,_){return{x:v.interpolate.number(i.x,d.x,_),y:v.interpolate.number(i.y,d.y,_),z:v.interpolate.number(i.z,d.z,_)}}}let Tn;class qn extends v.Evented{constructor(i){super(),Tn=Tn||new v.Properties({anchor:new v.DataConstantProperty(v.v8Spec.light.anchor),position:new Bi,color:new v.DataConstantProperty(v.v8Spec.light.color),intensity:new v.DataConstantProperty(v.v8Spec.light.intensity)}),this._transitionable=new v.Transitionable(Tn),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,d={}){if(!this._validate(v.validateLight,i,d))for(const _ in i){const w=i[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),w):this._transitionable.setValue(_,w)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,_){return(!_||!1!==_.validate)&&v.emitValidationErrors(this,i.call(v.validateStyle,v.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:v.v8Spec})))}}class vn{constructor(i,d){this.width=i,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,d){const _=i.join(",")+String(d);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(i,d)),this.dashEntry[_]}getDashRanges(i,d,_){const w=[];let T=i.length%2==1?-i[i.length-1]*_:0,f=i[0]*_,b=!0;w.push({left:T,right:f,isDash:b,zeroLength:0===i[0]});let y=i[0];for(let S=1;S<i.length;S++){b=!b;const k=i[S];T=y*_,y+=k,f=y*_,w.push({left:T,right:f,isDash:b,zeroLength:0===k})}return w}addRoundDash(i,d,_){const w=d/2;for(let T=-_;T<=_;T++){const f=this.width*(this.nextRow+_+T);let b=0,y=i[b];for(let S=0;S<this.width;S++){S/y.right>1&&(y=i[++b]);const k=Math.abs(S-y.left),R=Math.abs(S-y.right),B=Math.min(k,R);let te;const ae=T/_*(w+1);if(y.isDash){const Ce=w-Math.abs(ae);te=Math.sqrt(B*B+Ce*Ce)}else te=w-Math.sqrt(B*B+ae*ae);this.data[f+S]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(i){for(let b=i.length-1;b>=0;--b){const y=i[b],S=i[b+1];y.zeroLength?i.splice(b,1):S&&S.isDash===y.isDash&&(S.left=y.left,i.splice(b,1))}const d=i[0],_=i[i.length-1];d.isDash===_.isDash&&(d.left=_.left-this.width,_.right=d.right+this.width);const w=this.width*this.nextRow;let T=0,f=i[T];for(let b=0;b<this.width;b++){b/f.right>1&&(f=i[++T]);const y=Math.abs(b-f.left),S=Math.abs(b-f.right),k=Math.min(y,S);this.data[w+b]=Math.max(0,Math.min(255,(f.isDash?k:-k)+128))}}addDash(i,d){const _=d?7:0,w=2*_+1;if(this.nextRow+w>this.height)return v.warnOnce("LineAtlas out of space"),null;let T=0;for(let b=0;b<i.length;b++)T+=i[b];if(0!==T){const b=this.width/T,y=this.getDashRanges(i,this.width,b);d?this.addRoundDash(y,b,_):this.addRegularDash(y)}const f={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:T};return this.nextRow+=w,this.dirty=!0,f}bind(i){const d=i.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Fn{constructor(i,d,_){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=_;const w=this.workerPool.acquire(_);for(let T=0;T<w.length;T++){const f=new Fn.Actor(w[T],d,_);f.name=`Worker ${T}`,this.actors.push(f)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,d,_){v.asyncAll(this.actors,(w,T)=>{w.send(i,d,T)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}}function Pn(E,i,d){const _=function(w,T){if(w)return d(w);if(T){const f=v.pick(v.extend(T,E),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);T.vector_layers&&(f.vectorLayers=T.vector_layers,f.vectorLayerIds=f.vectorLayers.map(b=>b.id)),d(null,f)}};return E.url?v.getJSON(i.transformRequest(E.url,Ke.Source),_):v.browser.frame(()=>_(null,E))}Fn.Actor=v.Actor;class vt{constructor(i,d){i&&(d?this.setSouthWest(i).setNorthEast(d):Array.isArray(i)&&(4===i.length?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}setSouthWest(i){return this._sw=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}extend(i){const d=this._sw,_=this._ne;let w,T;if(i instanceof v.LngLat)w=i,T=i;else{if(!(i instanceof vt))return Array.isArray(i)?4===i.length||i.every(Array.isArray)?this.extend(vt.convert(i)):this.extend(v.LngLat.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(v.LngLat.convert(i)):this;if(w=i._sw,T=i._ne,!w||!T)return this}return d||_?(d.lng=Math.min(w.lng,d.lng),d.lat=Math.min(w.lat,d.lat),_.lng=Math.max(T.lng,_.lng),_.lat=Math.max(T.lat,_.lat)):(this._sw=new v.LngLat(w.lng,w.lat),this._ne=new v.LngLat(T.lng,T.lat)),this}getCenter(){return new v.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new v.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new v.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:d,lat:_}=v.LngLat.convert(i);let w=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&w}static convert(i){return i instanceof vt?i:i&&new vt(i)}static fromLngLat(i,d=0){const _=360*d/40075017,w=_/Math.cos(Math.PI/180*i.lat);return new vt(new v.LngLat(i.lng-w,i.lat-_),new v.LngLat(i.lng+w,i.lat+_))}}class Ct{constructor(i,d,_){this.bounds=vt.convert(this.validateBounds(i)),this.minzoom=d||0,this.maxzoom=_||24}validateBounds(i){return Array.isArray(i)&&4===i.length?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const d=Math.pow(2,i.z),_=Math.floor(v.mercatorXfromLng(this.bounds.getWest())*d),w=Math.floor(v.mercatorYfromLat(this.bounds.getNorth())*d),T=Math.ceil(v.mercatorXfromLng(this.bounds.getEast())*d),f=Math.ceil(v.mercatorYfromLat(this.bounds.getSouth())*d);return i.x>=_&&i.x<T&&i.y>=w&&i.y<f}}class Rt extends v.Evented{constructor(i,d,_,w){if(super(),this.load=()=>{this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Pn(this._options,this.map._requestManager,(T,f)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),T?this.fire(new v.ErrorEvent(T)):f&&(v.extend(this,f),f.bounds&&(this.tileBounds=new Ct(f.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>v.extend({},this._options),this.id=i,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,v.extend(this,v.pick(d,["url","scheme","tileSize","promoteId"])),this._options=v.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),w={request:this.map._requestManager.transformRequest(_,Ke.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function T(f,b){return delete i.request,i.aborted?d(null):f&&404!==f.status?d(f):(b&&b.resourceTiming&&(i.resourceTiming=b.resourceTiming),this.map._refreshExpiredTiles&&b&&i.setExpiryData(b),i.loadVectorData(b,this.map.painter),d(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}w.request.collectResourceTiming=this._collectResourceTiming,i.actor&&"expired"!==i.state?"loading"===i.state?i.reloadCallback=d:i.request=i.actor.send("reloadTile",w,T.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",w,T.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class zt extends v.Evented{constructor(i,d,_,w){super(),this.id=i,this.dispatcher=_,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=v.extend({type:"raster"},d),v.extend(this,v.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Pn(this._options,this.map._requestManager,(i,d)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new v.ErrorEvent(i)):d&&(v.extend(this,d),d.bounds&&(this.tileBounds=new Ct(d.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}serialize(){return v.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=tt.getImage(this.map._requestManager.transformRequest(_,Ke.Tile),(w,T,f)=>{if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(w)i.state="errored",d(w);else if(T){this.map._refreshExpiredTiles&&f&&i.setExpiryData(f);const b=this.map.painter.context,y=b.gl;i.texture=this.map.painter.getTileTexture(T.width),i.texture?i.texture.update(T,{useMipmap:!0}):(i.texture=new Re(b,T,y.RGBA,{useMipmap:!0}),i.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST),b.extTextureFilterAnisotropic&&y.texParameterf(y.TEXTURE_2D,b.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,b.extTextureFilterAnisotropicMax)),i.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(i,d){i.request&&(i.request.cancel(),delete i.request),d()}unloadTile(i,d){i.texture&&this.map.painter.saveTileTexture(i.texture),d()}hasTransition(){return!1}}class Jt extends zt{constructor(i,d,_,w){super(i,d,_,w),this.type="raster-dem",this.maxzoom=22,this._options=v.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),w=this.map._requestManager.transformRequest(_,Ke.Tile);function T(f,b){f&&(i.state="errored",d(f)),b&&(i.dem=b,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",d(null))}i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.request=tt.getImage(w,(f,b,y)=>v.__awaiter(this,void 0,void 0,function*(){if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(f)i.state="errored",d(f);else if(b){this.map._refreshExpiredTiles&&i.setExpiryData(y);const S=v.isImageBitmap(b)&&v.offscreenCanvasSupported()?b:yield function(R){return v.__awaiter(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&v.isOffscreenCanvasDistorted()){const B=R.width+2,te=R.height+2;try{return new v.RGBAImage({width:B,height:te},yield v.readImageUsingVideoFrame(R,-1,-1,B,te))}catch{}}return v.browser.getImageData(R,1)})}(b),k={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:S,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};i.actor&&"expired"!==i.state||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",k,T))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(i){const d=i.canonical,_=Math.pow(2,d.z),w=(d.x-1+_)%_,T=0===d.x?i.wrap-1:i.wrap,f=(d.x+1+_)%_,b=d.x+1===_?i.wrap+1:i.wrap,y={};return y[new v.OverscaledTileID(i.overscaledZ,T,d.z,w,d.y).key]={backfilled:!1},y[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y).key]={backfilled:!1},d.y>0&&(y[new v.OverscaledTileID(i.overscaledZ,T,d.z,w,d.y-1).key]={backfilled:!1},y[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},y[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y-1).key]={backfilled:!1}),d.y+1<_&&(y[new v.OverscaledTileID(i.overscaledZ,T,d.z,w,d.y+1).key]={backfilled:!1},y[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},y[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y+1).key]={backfilled:!1}),y}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class Dt extends v.Evented{constructor(i,d,_,w){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>v.extend({},this._options,{type:this.type,data:this._data}),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(w),this._data=d.data,this._options=v.extend({},d),this._collectResourceTiming=d.collectResourceTiming,void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const T=v.EXTENT/this.tileSize;this.workerOptions=v.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*T,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*T,extent:v.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:v.EXTENT,radius:(d.clusterRadius||50)*T,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(void 0!==i.clusterRadius&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),void 0!==i.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},d),this}getClusterChildren(i,d){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},d),this}getClusterLeaves(i,d,_,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:d,offset:_},w),this}_updateWorkerData(i){const d=v.extend({},this.workerOptions);i?d.dataDiff=i:"string"==typeof this._data?(d.request=this.map._requestManager.transformRequest(v.browser.resolveURL(this._data),Ke.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new v.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(_,w)=>{if(this._pendingLoads--,this._removed||w&&w.abandoned)return void this.fire(new v.Event("dataabort",{dataType:"source"}));let T=null;if(w&&w.resourceTiming&&w.resourceTiming[this.id]&&(T=w.resourceTiming[this.id].slice(0)),_)return void this.fire(new v.ErrorEvent(_));const f={dataType:"source"};this._collectResourceTiming&&T&&T.length>0&&v.extend(f,{resourceTiming:T}),this.fire(new v.Event("data",Object.assign(Object.assign({},f),{sourceDataType:"metadata"}))),this.fire(new v.Event("data",Object.assign(Object.assign({},f),{sourceDataType:"content"})))})}loaded(){return 0===this._pendingLoads}loadTile(i,d){const _=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const w={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(_,w,(T,f)=>(delete i.request,i.unloadVectorData(),i.aborted?d(null):T?d(T):(i.loadVectorData(f,this.map.painter,"reloadTile"===_),d(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var si=v.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ne extends v.Evented{constructor(i,d,_,w){super(),this.load=(T,f)=>{this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=tt.getImage(this.map._requestManager.transformRequest(this.url,Ke.Image),(b,y)=>{this._request=null,this._loaded=!0,b?this.fire(new v.ErrorEvent(b)):y&&(this.image=y,T&&(this.coordinates=T),f&&f(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const T=this.map.painter.context,f=T.gl;this.boundsBuffer||(this.boundsBuffer=T.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Re(T,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const y in this.tiles){const S=this.tiles[y];"loaded"!==S.state&&(S.state="loaded",S.texture=this.texture,b=!0)}b&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=i,this.dispatcher=_,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=d}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(i){this.coordinates=i;const d=i.map(v.MercatorCoordinate.fromLngLat);this.tileID=function(w){let T=1/0,f=1/0,b=-1/0,y=-1/0;for(const B of w)T=Math.min(T,B.x),f=Math.min(f,B.y),b=Math.max(b,B.x),y=Math.max(y,B.y);const S=Math.max(b-T,y-f),k=Math.max(0,Math.floor(-Math.log(S)/Math.LN2)),R=Math.pow(2,k);return new v.CanonicalTileID(k,Math.floor((T+b)/2*R),Math.floor((f+y)/2*R))}(d),this.minzoom=this.maxzoom=this.tileID.z;const _=d.map(w=>this.tileID.getTilePoint(w)._round());return this._boundsArray=new v.RasterBoundsArray,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,v.EXTENT,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,v.EXTENT),this._boundsArray.emplaceBack(_[2].x,_[2].y,v.EXTENT,v.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(i,d){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},d(null)):(i.state="errored",d(null))}hasTransition(){return!1}}class st extends Ne{constructor(i,d,_,w){super(i,d,_,w),this.load=()=>{this._loaded=!1;const T=this.options;this.urls=[];for(const f of T.urls)this.urls.push(this.map._requestManager.transformRequest(f,Ke.Source).url);v.getVideo(this.urls,(f,b)=>{this._loaded=!0,f?this.fire(new v.ErrorEvent(f)):b&&(this.video=b,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const T=this.map.painter.context,f=T.gl;this.boundsBuffer||(this.boundsBuffer=T.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new Re(T,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const y in this.tiles){const S=this.tiles[y];"loaded"!==S.state&&(S.state="loaded",S.texture=this.texture,b=!0)}b&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const d=this.video.seekable;i<d.start(0)||i>d.end(0)?this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class pt extends Ne{constructor(i,d,_,w){super(i,d,_,w),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new v.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let T=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,T=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,T=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const f=this.map.painter.context,b=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(T||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Re(f,this.canvas,b.RGBA,{premultiply:!0});let y=!1;for(const S in this.tiles){const k=this.tiles[S];"loaded"!==k.state&&(k.state="loaded",k.texture=this.texture,y=!0)}y&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(T=>!Array.isArray(T)||2!==T.length||T.some(f=>"number"!=typeof f))||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof HTMLCanvasElement||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const ct={},ft=E=>{switch(E){case"geojson":return Dt;case"image":return Ne;case"raster":return zt;case"raster-dem":return Jt;case"vector":return Rt;case"video":return st;case"canvas":return pt}return ct[E]};function Yt(E,i){const d=v.create();return v.translate(d,d,[1,1,0]),v.scale(d,d,[.5*E.width,.5*E.height,1]),v.multiply(d,d,E.calculatePosMatrix(i.toUnwrapped()))}function qt(E,i,d,_,w,T){const f=function(R,B,te){if(R)for(const ae of R){const Ce=B[ae];if(Ce&&Ce.source===te&&"fill-extrusion"===Ce.type)return!0}else for(const ae in B){const Ce=B[ae];if(Ce.source===te&&"fill-extrusion"===Ce.type)return!0}return!1}(w&&w.layers,i,E.id),b=T.maxPitchScaleFactor(),y=E.tilesIn(_,b,f);y.sort(gi);const S=[];for(const R of y)S.push({wrappedTileID:R.tileID.wrapped().key,queryResults:R.tile.queryRenderedFeatures(i,d,E._state,R.queryGeometry,R.cameraQueryGeometry,R.scale,w,T,b,Yt(E.transform,R.tileID))});const k=function(R){const B={},te={};for(const ae of R){const Ce=ae.queryResults,ve=ae.wrappedTileID,rt=te[ve]=te[ve]||{};for(const xt in Ce){const Ge=Ce[xt],dt=rt[xt]=rt[xt]||{},kt=B[xt]=B[xt]||[];for(const Lt of Ge)dt[Lt.featureIndex]||(dt[Lt.featureIndex]=!0,kt.push(Lt))}}return B}(S);for(const R in k)k[R].forEach(B=>{const te=B.feature,ae=E.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ae});return k}function gi(E,i){const d=E.tileID,_=i.tileID;return d.overscaledZ-_.overscaledZ||d.canonical.y-_.canonical.y||d.wrap-_.wrap||d.canonical.x-_.canonical.x}class ot{constructor(i,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=v.uniqueId(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const d=i+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,d,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(w,T){const f={};if(!T)return f;for(const b of w){const y=b.layerIds.map(S=>T.getLayer(S)).filter(Boolean);if(0!==y.length){b.layers=y,b.stateDependentLayerIds&&(b.stateDependentLayers=b.stateDependentLayerIds.map(S=>y.filter(k=>k.id===S)[0]));for(const S of y)f[S.id]=b}}return f}(i.buckets,d.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const T=this.buckets[w];if(T instanceof v.SymbolBucket){if(this.hasSymbolBuckets=!0,!_)break;T.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const T=this.buckets[w];if(T instanceof v.SymbolBucket&&T.hasRTLText){this.hasRTLText=!0,v.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const w in this.buckets){const T=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(w).queryRadius(T))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new v.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const _ in this.buckets){const w=this.buckets[_];w.uploadPending()&&w.upload(i)}const d=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Re(i,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Re(i,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,d,_,w,T,f,b,y,S,k){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:T,scale:f,tileSize:this.tileSize,pixelPosMatrix:k,transform:y,params:b,queryPadding:this.queryPadding*S},i,d,_):{}}querySourceFeatures(i,d){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const w=_.loadVTLayers(),T=d&&d.sourceLayer?d.sourceLayer:"",f=w._geojsonTileLayer||w[T];if(!f)return;const b=v.createFilter(d&&d.filter),{z:y,x:S,y:k}=this.tileID.canonical,R={z:y,x:S,y:k};for(let B=0;B<f.length;B++){const te=f.feature(B);if(b.needGeometry){const ve=v.toEvaluationFeature(te,!0);if(!b.filter(new v.EvaluationParameters(this.tileID.overscaledZ),ve,this.tileID.canonical))continue}else if(!b.filter(new v.EvaluationParameters(this.tileID.overscaledZ),te))continue;const ae=_.getId(te,T),Ce=new v.GeoJSONFeature(te,y,S,k,ae);Ce.tile=R,i.push(Ce)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const d=this.expirationTime;if(i.cacheControl){const _=v.parseCacheControl(i.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const _=Date.now();let w=!1;if(this.expirationTime>_)w=!1;else if(d)if(this.expirationTime<d)w=!0;else{const T=this.expirationTime-d;T?this.expirationTime=_+Math.max(T,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(i,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(i).length)return;const _=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!d.style.hasLayer(w))continue;const T=this.buckets[w],f=T.layers[0].sourceLayer||"_geojsonTileLayer",b=_[f],y=i[f];if(!b||!y||0===Object.keys(y).length)continue;T.update(y,b,this.imageAtlas&&this.imageAtlas.patternPositions||{});const S=d&&d.style&&d.style.getLayer(w);S&&(this.queryPadding=Math.max(this.queryPadding,S.queryRadius(T)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<v.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=v.browser.now()+i}setDependencies(i,d){const _={};for(const w of d)_[w]=!0;this.dependencies[i]=_}hasDependency(i,d){for(const _ of i){const w=this.dependencies[_];if(w)for(const T of d)if(w[T])return!0}return!1}}class Tt{constructor(i,d){this.max=i,this.onRemove=d,this.reset()}reset(){for(const i in this.data)for(const d of this.data[i])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(i,d,_){const w=i.wrapped().key;void 0===this.data[w]&&(this.data[w]=[]);const T={value:d,timeout:void 0};if(void 0!==_&&(T.timeout=setTimeout(()=>{this.remove(i,T)},_)),this.data[w].push(T),this.order.push(w),this.order.length>this.max){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const d=this.data[i].shift();return d.timeout&&clearTimeout(d.timeout),0===this.data[i].length&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),d.value}getByKey(i){const d=this.data[i];return d?d[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,d){if(!this.has(i))return this;const _=i.wrapped().key,w=void 0===d?0:this.data[_].indexOf(d),T=this.data[_][w];return this.data[_].splice(w,1),T.timeout&&clearTimeout(T.timeout),0===this.data[_].length&&delete this.data[_],this.onRemove(T.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(i){const d=[];for(const _ in this.data)for(const w of this.data[_])i(w.value)||d.push(w);for(const _ of d)this.remove(_.value.tileID,_)}}class bi{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,d,_){const w=String(d);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][w]=this.stateChanges[i][w]||{},v.extend(this.stateChanges[i][w],_),null===this.deletedStates[i]){this.deletedStates[i]={};for(const T in this.state[i])T!==w&&(this.deletedStates[i][T]=null)}else if(this.deletedStates[i]&&null===this.deletedStates[i][w]){this.deletedStates[i][w]={};for(const T in this.state[i][w])_[T]||(this.deletedStates[i][w][T]=null)}else for(const T in _)this.deletedStates[i]&&this.deletedStates[i][w]&&null===this.deletedStates[i][w][T]&&delete this.deletedStates[i][w][T]}removeFeatureState(i,d,_){if(null===this.deletedStates[i])return;const w=String(d);if(this.deletedStates[i]=this.deletedStates[i]||{},_&&void 0!==d)null!==this.deletedStates[i][w]&&(this.deletedStates[i][w]=this.deletedStates[i][w]||{},this.deletedStates[i][w][_]=null);else if(void 0!==d)if(this.stateChanges[i]&&this.stateChanges[i][w])for(_ in this.deletedStates[i][w]={},this.stateChanges[i][w])this.deletedStates[i][w][_]=null;else this.deletedStates[i][w]=null;else this.deletedStates[i]=null}getState(i,d){const _=String(d),w=v.extend({},(this.state[i]||{})[_],(this.stateChanges[i]||{})[_]);if(null===this.deletedStates[i])return{};if(this.deletedStates[i]){const T=this.deletedStates[i][d];if(null===T)return{};for(const f in T)delete w[f]}return w}initializeTileState(i,d){i.setFeatureState(this.state,d)}coalesceChanges(i,d){const _={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const T={};for(const f in this.stateChanges[w])this.state[w][f]||(this.state[w][f]={}),v.extend(this.state[w][f],this.stateChanges[w][f]),T[f]=this.state[w][f];_[w]=T}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const T={};if(null===this.deletedStates[w])for(const f in this.state[w])T[f]={},this.state[w][f]={};else for(const f in this.deletedStates[w]){if(null===this.deletedStates[w][f])this.state[w][f]={};else for(const b of Object.keys(this.deletedStates[w][f]))delete this.state[w][f][b];T[f]=this.state[w][f]}_[w]=_[w]||{},v.extend(_[w],T)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(_).length)for(const w in i)i[w].setFeatureState(_,d)}}class bt extends v.Evented{constructor(i,d,_){super(),this.id=i,this.dispatcher=_,this.on("data",w=>{"source"===w.dataType&&"metadata"===w.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===w.dataType&&"content"===w.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,T,f,b)=>{const y=new(ft(T.type))(w,T,f,b);if(y.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${y.id}`);return y})(i,d,_,this),this._tiles={},this._cache=new Tt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new bi,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const d=this._tiles[i];if("loaded"!==d.state&&"errored"!==d.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,d){return this._source.loadTile(i,d)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new v.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const _=this._tiles[d];_.upload(i),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(rn).map(i=>i.key)}getRenderableIds(i){const d=[];for(const _ in this._tiles)this._isIdRenderable(_,i)&&d.push(this._tiles[_]);return i?d.sort((_,w)=>{const T=_.tileID,f=w.tileID,b=new v.Point(T.canonical.x,T.canonical.y)._rotate(this.transform.angle),y=new v.Point(f.canonical.x,f.canonical.y)._rotate(this.transform.angle);return T.overscaledZ-f.overscaledZ||y.y-b.y||y.x-b.x}).map(_=>_.tileID.key):d.map(_=>_.tileID).sort(rn).map(_=>_.key)}hasRenderableParent(i){const d=this.findLoadedParent(i,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(i,d){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(d||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)"errored"!==this._tiles[i].state&&this._reloadTile(i,"reloading")}}_reloadTile(i,d){const _=this._tiles[i];_&&("loading"!==_.state&&(_.state=d),this._loadTile(_,this._tileLoaded.bind(this,_,i,d)))}_tileLoaded(i,d,_,w){if(w)return i.state="errored",void(404!==w.status?this._source.fire(new v.ErrorEvent(w,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=v.browser.now(),"expired"===_&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(d,i),"raster-dem"===this.getSource().type&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new v.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const d=this.getRenderableIds();for(let w=0;w<d.length;w++){const T=d[w];if(i.neighboringTiles&&i.neighboringTiles[T]){const f=this.getTileByID(T);_(i,f),_(f,i)}}function _(w,T){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let f=T.tileID.canonical.x-w.tileID.canonical.x;const b=T.tileID.canonical.y-w.tileID.canonical.y,y=Math.pow(2,w.tileID.canonical.z),S=T.tileID.key;0===f&&0===b||Math.abs(b)>1||(Math.abs(f)>1&&(1===Math.abs(f+y)?f+=y:1===Math.abs(f-y)&&(f-=y)),T.dem&&w.dem&&(w.dem.backfillBorder(T.dem,f,b),w.neighboringTiles&&w.neighboringTiles[S]&&(w.neighboringTiles[S].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,d,_,w){for(const T in this._tiles){let f=this._tiles[T];if(w[T]||!f.hasData()||f.tileID.overscaledZ<=d||f.tileID.overscaledZ>_)continue;let b=f.tileID;for(;f&&f.tileID.overscaledZ>d+1;){const S=f.tileID.scaledTo(f.tileID.overscaledZ-1);f=this._tiles[S.key],f&&f.hasData()&&(b=S)}let y=b;for(;y.overscaledZ>d;)if(y=y.scaledTo(y.overscaledZ-1),i[y.key]){w[b.key]=b;break}}}findLoadedParent(i,d){if(i.key in this._loadedParentTiles){const _=this._loadedParentTiles[i.key];return _&&_.tileID.overscaledZ>=d?_:null}for(let _=i.overscaledZ-1;_>=d;_--){const w=i.scaledTo(_),T=this._getLoadedTile(w);if(T)return T}}_getLoadedTile(i){const d=this._tiles[i.key];return d&&d.hasData()?d:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const d=Math.ceil(i.width/this._source.tileSize)+1,_=Math.ceil(i.height/this._source.tileSize)+1,w=Math.floor(d*_*(null===this._maxTileCacheZoomLevels?v.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),T="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(T)}handleWrapJump(i){const d=Math.round((i-(void 0===this._prevLng?i:this._prevLng))/360);if(this._prevLng=i,d){const _={};for(const w in this._tiles){const T=this._tiles[w];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+d),_[T.tileID.key]=T}this._tiles=_;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}update(i,d){if(this.transform=i,this.terrain=d,!this._sourceLoaded||this._paused)return;let _;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(k=>new v.OverscaledTileID(k.canonical.z,k.wrap,k.canonical.z,k.canonical.x,k.canonical.y)):(_=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(_=_.filter(k=>this._source.hasTile(k)))):_=[];const w=i.coveringZoomLevel(this._source),T=Math.max(w-bt.maxOverzooming,this._source.minzoom),f=Math.max(w+bt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const k={};for(const R of _)if(R.canonical.z>this._source.minzoom){const B=R.scaledTo(R.canonical.z-1);k[B.key]=B;const te=R.scaledTo(Math.max(this._source.minzoom,Math.min(R.canonical.z,5)));k[te.key]=te}_=_.concat(Object.values(k))}const b=0===_.length&&!this._updated&&this._didEmitContent;this._updated=!0,b&&this.fire(new v.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const y=this._updateRetainedTiles(_,w);if(zn(this._source.type)){const k={},R={},B=Object.keys(y),te=v.browser.now();for(const ae of B){const Ce=y[ae],ve=this._tiles[ae];if(!ve||0!==ve.fadeEndTime&&ve.fadeEndTime<=te)continue;const rt=this.findLoadedParent(Ce,T);rt&&(this._addTile(rt.tileID),k[rt.tileID.key]=rt.tileID),R[ae]=Ce}this._retainLoadedChildren(R,w,f,y);for(const ae in k)y[ae]||(this._coveredTiles[ae]=!0,y[ae]=k[ae]);if(d){const ae={},Ce={};for(const ve of _)this._tiles[ve.key].hasData()?ae[ve.key]=ve:Ce[ve.key]=ve;for(const ve in Ce){const rt=Ce[ve].children(this._source.maxzoom);this._tiles[rt[0].key]&&this._tiles[rt[1].key]&&this._tiles[rt[2].key]&&this._tiles[rt[3].key]&&(ae[rt[0].key]=y[rt[0].key]=rt[0],ae[rt[1].key]=y[rt[1].key]=rt[1],ae[rt[2].key]=y[rt[2].key]=rt[2],ae[rt[3].key]=y[rt[3].key]=rt[3],delete Ce[ve])}for(const ve in Ce){const rt=this.findLoadedParent(Ce[ve],this._source.minzoom);if(rt){ae[rt.tileID.key]=y[rt.tileID.key]=rt.tileID;for(const xt in ae)ae[xt].isChildOf(rt.tileID)&&delete ae[xt]}}for(const ve in this._tiles)ae[ve]||(this._coveredTiles[ve]=!0)}}for(const k in y)this._tiles[k].clearFadeHold();const S=v.keysDifference(this._tiles,y);for(const k of S){const R=this._tiles[k];R.hasSymbolBuckets&&!R.holdingForFade()?R.setHoldDuration(this.map._fadeDuration):R.hasSymbolBuckets&&!R.symbolFadeFinished()||this._removeTile(k)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,d){const _={},w={},T=Math.max(d-bt.maxOverzooming,this._source.minzoom),f=Math.max(d+bt.maxUnderzooming,this._source.minzoom),b={};for(const y of i){const S=this._addTile(y);_[y.key]=y,S.hasData()||d<this._source.maxzoom&&(b[y.key]=y)}this._retainLoadedChildren(b,d,f,_);for(const y of i){let S=this._tiles[y.key];if(S.hasData())continue;if(d+1>this._source.maxzoom){const R=y.children(this._source.maxzoom)[0],B=this.getTile(R);if(B&&B.hasData()){_[R.key]=R;continue}}else{const R=y.children(this._source.maxzoom);if(_[R[0].key]&&_[R[1].key]&&_[R[2].key]&&_[R[3].key])continue}let k=S.wasRequested();for(let R=y.overscaledZ-1;R>=T;--R){const B=y.scaledTo(R);if(w[B.key])break;if(w[B.key]=!0,S=this.getTile(B),!S&&k&&(S=this._addTile(B)),S){const te=S.hasData();if((k||te)&&(_[B.key]=B),k=S.wasRequested(),te)break}}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const d=[];let _,w=this._tiles[i].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){_=this._loadedParentTiles[w.key];break}d.push(w.key);const T=w.scaledTo(w.overscaledZ-1);if(_=this._getLoadedTile(T),_)break;w=T}for(const T of d)this._loadedParentTiles[T]=_}}_addTile(i){let d=this._tiles[i.key];if(d)return d;d=this._cache.getAndRemove(i),d&&(this._setTileReloadTimer(i.key,d),d.tileID=i,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,d)));const _=d;return d||(d=new ot(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,i.key,d.state))),d.uses++,this._tiles[i.key]=d,_||this._source.fire(new v.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(i,d){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const _=d.getExpiryTimeout();_&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},_))}_removeTile(i){const d=this._tiles[i];d&&(d.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),d.uses>0||(d.hasData()&&"reloading"!==d.state?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,d,_){const w=[],T=this.transform;if(!T)return w;const f=_?T.getCameraQueryGeometry(i):i,b=i.map(ae=>T.pointCoordinate(ae,this.terrain)),y=f.map(ae=>T.pointCoordinate(ae,this.terrain)),S=this.getIds();let k=1/0,R=1/0,B=-1/0,te=-1/0;for(const ae of y)k=Math.min(k,ae.x),R=Math.min(R,ae.y),B=Math.max(B,ae.x),te=Math.max(te,ae.y);for(let ae=0;ae<S.length;ae++){const Ce=this._tiles[S[ae]];if(Ce.holdingForFade())continue;const ve=Ce.tileID,rt=Math.pow(2,T.zoom-Ce.tileID.overscaledZ),xt=d*Ce.queryPadding*v.EXTENT/Ce.tileSize/rt,Ge=[ve.getTilePoint(new v.MercatorCoordinate(k,R)),ve.getTilePoint(new v.MercatorCoordinate(B,te))];if(Ge[0].x-xt<v.EXTENT&&Ge[0].y-xt<v.EXTENT&&Ge[1].x+xt>=0&&Ge[1].y+xt>=0){const dt=b.map(Lt=>ve.getTilePoint(Lt)),kt=y.map(Lt=>ve.getTilePoint(Lt));w.push({tile:Ce,tileID:ve,queryGeometry:dt,cameraQueryGeometry:kt,scale:rt})}}return w}getVisibleCoordinates(i){const d=this.getRenderableIds(i).map(_=>this._tiles[_].tileID);for(const _ of d)_.posMatrix=this.transform.calculatePosMatrix(_.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(zn(this._source.type)){const i=v.browser.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=i)return!0}return!1}setFeatureState(i,d,_){this._state.updateState(i=i||"_geojsonTileLayer",d,_)}removeFeatureState(i,d,_){this._state.removeFeatureState(i=i||"_geojsonTileLayer",d,_)}getFeatureState(i,d){return this._state.getState(i=i||"_geojsonTileLayer",d)}setDependencies(i,d,_){const w=this._tiles[i];w&&w.setDependencies(d,_)}reloadTilesForDependencies(i,d){for(const _ in this._tiles)this._tiles[_].hasDependency(i,d)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(i,d))}}function rn(E,i){const d=Math.abs(2*E.wrap)-+(E.wrap<0),_=Math.abs(2*i.wrap)-+(i.wrap<0);return E.overscaledZ-i.overscaledZ||_-d||i.canonical.y-E.canonical.y||i.canonical.x-E.canonical.x}function zn(E){return"raster"===E||"image"===E||"video"===E}bt.maxOverzooming=10,bt.maxUnderzooming=3;const Hi="mapboxgl_preloaded_worker_pool";class Li{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<Li.workerCount;)this.workers.push(new Worker(v.config.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],0===this.numActive()&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Hi]}numActive(){return Object.keys(this.active).length}}const wt=Math.floor(v.browser.hardwareConcurrency/2);let ue;function Te(){return ue||(ue=new Li),ue}Li.workerCount=v.isSafari(globalThis)?Math.max(Math.min(wt,3),1):1;class Pe{constructor(i,d){this.reset(i,d)}reset(i,d){this.points=i||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(1===this.points.length)return this.points[0];i=v.clamp(i,0,1);let d=1,_=this._distances[d];const w=i*this.paddedLength+this.padding;for(;_<w&&d<this._distances.length;)_=this._distances[++d];const T=d-1,f=this._distances[T],b=_-f,y=b>0?(w-f)/b:0;return this.points[T].mult(1-y).add(this.points[d].mult(y))}}function Ie(E,i){let d=!0;return"always"===E||"never"!==E&&"never"!==i||(d=!1),d}class be{constructor(i,d,_){const w=this.boxCells=[],T=this.circleCells=[];this.xCellCount=Math.ceil(i/_),this.yCellCount=Math.ceil(d/_);for(let f=0;f<this.xCellCount*this.yCellCount;f++)w.push([]),T.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=d,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,d,_,w,T){this._forEachCell(d,_,w,T,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(d),this.bboxes.push(_),this.bboxes.push(w),this.bboxes.push(T)}insertCircle(i,d,_,w){this._forEachCell(d-w,_-w,d+w,_+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(d),this.circles.push(_),this.circles.push(w)}_insertBoxCell(i,d,_,w,T,f){this.boxCells[T].push(f)}_insertCircleCell(i,d,_,w,T,f){this.circleCells[T].push(f)}_query(i,d,_,w,T,f,b){if(_<0||i>this.width||w<0||d>this.height)return[];const y=[];if(i<=0&&d<=0&&this.width<=_&&this.height<=w){if(T)return[{key:null,x1:i,y1:d,x2:_,y2:w}];for(let S=0;S<this.boxKeys.length;S++)y.push({key:this.boxKeys[S],x1:this.bboxes[4*S],y1:this.bboxes[4*S+1],x2:this.bboxes[4*S+2],y2:this.bboxes[4*S+3]});for(let S=0;S<this.circleKeys.length;S++){const k=this.circles[3*S],R=this.circles[3*S+1],B=this.circles[3*S+2];y.push({key:this.circleKeys[S],x1:k-B,y1:R-B,x2:k+B,y2:R+B})}}else this._forEachCell(i,d,_,w,this._queryCell,y,{hitTest:T,overlapMode:f,seenUids:{box:{},circle:{}}},b);return y}query(i,d,_,w){return this._query(i,d,_,w,!1,null)}hitTest(i,d,_,w,T,f){return this._query(i,d,_,w,!0,T,f).length>0}hitTestCircle(i,d,_,w,T){const f=i-_,b=i+_,y=d-_,S=d+_;if(b<0||f>this.width||S<0||y>this.height)return!1;const k=[];return this._forEachCell(f,y,b,S,this._queryCellCircle,k,{hitTest:!0,overlapMode:w,circle:{x:i,y:d,radius:_},seenUids:{box:{},circle:{}}},T),k.length>0}_queryCell(i,d,_,w,T,f,b,y){const{seenUids:S,hitTest:k,overlapMode:R}=b,B=this.boxCells[T];if(null!==B){const ae=this.bboxes;for(const Ce of B)if(!S.box[Ce]){S.box[Ce]=!0;const ve=4*Ce,rt=this.boxKeys[Ce];if(i<=ae[ve+2]&&d<=ae[ve+3]&&_>=ae[ve+0]&&w>=ae[ve+1]&&(!y||y(rt))&&(!k||!Ie(R,rt.overlapMode))&&(f.push({key:rt,x1:ae[ve],y1:ae[ve+1],x2:ae[ve+2],y2:ae[ve+3]}),k))return!0}}const te=this.circleCells[T];if(null!==te){const ae=this.circles;for(const Ce of te)if(!S.circle[Ce]){S.circle[Ce]=!0;const ve=3*Ce,rt=this.circleKeys[Ce];if(this._circleAndRectCollide(ae[ve],ae[ve+1],ae[ve+2],i,d,_,w)&&(!y||y(rt))&&(!k||!Ie(R,rt.overlapMode))){const xt=ae[ve],Ge=ae[ve+1],dt=ae[ve+2];if(f.push({key:rt,x1:xt-dt,y1:Ge-dt,x2:xt+dt,y2:Ge+dt}),k)return!0}}}return!1}_queryCellCircle(i,d,_,w,T,f,b,y){const{circle:S,seenUids:k,overlapMode:R}=b,B=this.boxCells[T];if(null!==B){const ae=this.bboxes;for(const Ce of B)if(!k.box[Ce]){k.box[Ce]=!0;const ve=4*Ce,rt=this.boxKeys[Ce];if(this._circleAndRectCollide(S.x,S.y,S.radius,ae[ve+0],ae[ve+1],ae[ve+2],ae[ve+3])&&(!y||y(rt))&&!Ie(R,rt.overlapMode))return f.push(!0),!0}}const te=this.circleCells[T];if(null!==te){const ae=this.circles;for(const Ce of te)if(!k.circle[Ce]){k.circle[Ce]=!0;const ve=3*Ce,rt=this.circleKeys[Ce];if(this._circlesCollide(ae[ve],ae[ve+1],ae[ve+2],S.x,S.y,S.radius)&&(!y||y(rt))&&!Ie(R,rt.overlapMode))return f.push(!0),!0}}}_forEachCell(i,d,_,w,T,f,b,y){const S=this._convertToXCellCoord(i),k=this._convertToYCellCoord(d),R=this._convertToXCellCoord(_),B=this._convertToYCellCoord(w);for(let te=S;te<=R;te++)for(let ae=k;ae<=B;ae++)if(T.call(this,i,d,_,w,this.xCellCount*ae+te,f,b,y))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,d,_,w,T,f){const b=w-i,y=T-d,S=_+f;return S*S>b*b+y*y}_circleAndRectCollide(i,d,_,w,T,f,b){const y=(f-w)/2,S=Math.abs(i-(w+y));if(S>y+_)return!1;const k=(b-T)/2,R=Math.abs(d-(T+k));if(R>k+_)return!1;if(S<=y||R<=k)return!0;const B=S-y,te=R-k;return B*B+te*te<=_*_}}function et(E,i,d,_,w){const T=v.create();return i?(v.scale(T,T,[1/w,1/w,1]),d||v.rotateZ(T,T,_.angle)):v.multiply(T,_.labelPlaneMatrix,E),T}function Ye(E,i,d,_,w){if(i){const T=v.clone(E);return v.scale(T,T,[w,w,1]),d||v.rotateZ(T,T,-_.angle),T}return _.glCoordMatrix}function Zt(E,i,d){let _;d?(_=[E.x,E.y,d(E.x,E.y),1],v.transformMat4(_,_,i)):(_=[E.x,E.y,0,1],ie(_,_,i));const w=_[3];return{point:new v.Point(_[0]/w,_[1]/w),signedDistanceFromCamera:w}}function ii(E,i){return.5+E/i*.5}function wi(E,i){const d=E[0]/E[3],_=E[1]/E[3];return d>=-i[0]&&d<=i[0]&&_>=-i[1]&&_<=i[1]}function pi(E,i,d,_,w,T,f,b,y,S){const k=_?E.textSizeData:E.iconSizeData,R=v.evaluateSizeForZoom(k,d.transform.zoom),B=[256/d.width*2+1,256/d.height*2+1],te=_?E.text.dynamicLayoutVertexArray:E.icon.dynamicLayoutVertexArray;te.clear();const ae=E.lineVertexArray,Ce=_?E.text.placedSymbolArray:E.icon.placedSymbolArray,ve=d.transform.width/d.transform.height;let rt=!1;for(let xt=0;xt<Ce.length;xt++){const Ge=Ce.get(xt);if(Ge.hidden||Ge.writingMode===v.WritingMode.vertical&&!rt){U(Ge.numGlyphs,te);continue}let dt;if(rt=!1,S?(dt=[Ge.anchorX,Ge.anchorY,S(Ge.anchorX,Ge.anchorY),1],v.transformMat4(dt,dt,i)):(dt=[Ge.anchorX,Ge.anchorY,0,1],ie(dt,dt,i)),!wi(dt,B)){U(Ge.numGlyphs,te);continue}const kt=ii(d.transform.cameraToCenterDistance,dt[3]),Lt=v.evaluateSizeForFeature(k,R,Ge),Gt=f?Lt/kt:Lt*kt,ai=new v.Point(Ge.anchorX,Ge.anchorY),ri=Zt(ai,w,S).point,_i={projections:{},offsets:{}},Ui=Ei(Ge,Gt,!1,b,i,w,T,E.glyphOffsetArray,ae,te,ri,ai,_i,ve,y,S);rt=Ui.useVertical,(Ui.notEnoughRoom||rt||Ui.needsFlipping&&Ei(Ge,Gt,!0,b,i,w,T,E.glyphOffsetArray,ae,te,ri,ai,_i,ve,y,S).notEnoughRoom)&&U(Ge.numGlyphs,te)}_?E.text.dynamicLayoutVertexBuffer.updateData(te):E.icon.dynamicLayoutVertexBuffer.updateData(te)}function $t(E,i,d,_,w,T,f,b,y,S,k,R,B){const te=b.glyphStartIndex+b.numGlyphs,ae=b.lineStartIndex,Ce=b.lineStartIndex+b.lineLength,ve=i.getoffsetX(b.glyphStartIndex),rt=i.getoffsetX(te-1),xt=Y(E*ve,d,_,w,T,f,b.segment,ae,Ce,y,S,k,R,B);if(!xt)return null;const Ge=Y(E*rt,d,_,w,T,f,b.segment,ae,Ce,y,S,k,R,B);return Ge?{first:xt,last:Ge}:null}function Ci(E,i,d,_){return E===v.WritingMode.horizontal&&Math.abs(d.y-i.y)>Math.abs(d.x-i.x)*_?{useVertical:!0}:(E===v.WritingMode.vertical?i.y<d.y:i.x>d.x)?{needsFlipping:!0}:null}function Ei(E,i,d,_,w,T,f,b,y,S,k,R,B,te,ae,Ce){const ve=i/24,rt=E.lineOffsetX*ve,xt=E.lineOffsetY*ve;let Ge;if(E.numGlyphs>1){const dt=E.glyphStartIndex+E.numGlyphs,kt=E.lineStartIndex,Lt=E.lineStartIndex+E.lineLength,Gt=$t(ve,b,rt,xt,d,k,R,E,y,T,B,ae,Ce);if(!Gt)return{notEnoughRoom:!0};const ai=Zt(Gt.first.point,f,Ce).point,ri=Zt(Gt.last.point,f,Ce).point;if(_&&!d){const _i=Ci(E.writingMode,ai,ri,te);if(_i)return _i}Ge=[Gt.first];for(let _i=E.glyphStartIndex+1;_i<dt-1;_i++)Ge.push(Y(ve*b.getoffsetX(_i),rt,xt,d,k,R,E.segment,kt,Lt,y,T,B,ae,Ce));Ge.push(Gt.last)}else{if(_&&!d){const kt=Zt(R,w,Ce).point,Lt=E.lineStartIndex+E.segment+1,Gt=new v.Point(y.getx(Lt),y.gety(Lt)),ai=Zt(Gt,w,Ce),ri=ai.signedDistanceFromCamera>0?ai.point:Qi(R,Gt,kt,1,w,Ce),_i=Ci(E.writingMode,kt,ri,te);if(_i)return _i}const dt=Y(ve*b.getoffsetX(E.glyphStartIndex),rt,xt,d,k,R,E.segment,E.lineStartIndex,E.lineStartIndex+E.lineLength,y,T,B,ae,Ce);if(!dt)return{notEnoughRoom:!0};Ge=[dt]}for(const dt of Ge)v.addDynamicAttributes(S,dt.point,dt.angle);return{}}function Qi(E,i,d,_,w,T){const f=Zt(E.add(E.sub(i)._unit()),w,T).point,b=d.sub(f);return d.add(b._mult(_/b.mag()))}function Pt(E,i){const{projectionCache:d,lineVertexArray:_,labelPlaneMatrix:w,tileAnchorPoint:T,distanceFromAnchor:f,getElevation:b,previousVertex:y,direction:S,absOffsetX:k}=i;if(d.projections[E])return d.projections[E];const R=new v.Point(_.getx(E),_.gety(E)),B=Zt(R,w,b);if(B.signedDistanceFromCamera>0)return d.projections[E]=B.point,B.point;const te=E-S;return Qi(0===f?T:new v.Point(_.getx(te),_.gety(te)),R,y,k-f+1,w,b)}function Ut(E,i,d){return E._unit()._perp()._mult(i*d)}function Et(E,i,d,_,w,T,f,b){const{projectionCache:y,direction:S}=b;if(y.offsets[E])return y.offsets[E];const k=d.add(i);if(E+S<_||E+S>=w)return y.offsets[E]=k,k;const R=Pt(E+S,b),B=Ut(R.sub(d),f,S),te=d.add(B),ae=R.add(B);return y.offsets[E]=v.findLineIntersection(T,k,te,ae)||k,y.offsets[E]}function Y(E,i,d,_,w,T,f,b,y,S,k,R,B,te){const ae=_?E-i:E+i;let Ce=ae>0?1:-1,ve=0;_&&(Ce*=-1,ve=Math.PI),Ce<0&&(ve+=Math.PI);let rt,xt,Ge=Ce>0?b+f:b+f+1,dt=w,kt=w,Lt=0,Gt=0;const ai=Math.abs(ae),ri=[];let _i;for(;Lt+Gt<=ai;){if(Ge+=Ce,Ge<b||Ge>=y)return null;Lt+=Gt,kt=dt,xt=rt;const Ti={projectionCache:R,lineVertexArray:S,labelPlaneMatrix:k,tileAnchorPoint:T,distanceFromAnchor:Lt,getElevation:te,previousVertex:kt,direction:Ce,absOffsetX:ai};if(dt=Pt(Ge,Ti),0===d)ri.push(kt),_i=dt.sub(kt);else{let sn;const Wi=dt.sub(kt);sn=0===Wi.mag()?Ut(Pt(Ge+Ce,Ti).sub(dt),d,Ce):Ut(Wi,d,Ce),xt||(xt=kt.add(sn)),rt=Et(Ge,sn,dt,b,y,xt,d,Ti),ri.push(xt),_i=rt.sub(xt)}Gt=_i.mag()}const Ui=_i._mult((ai-Lt)/Gt)._add(xt||kt),Sn=ve+Math.atan2(dt.y-kt.y,dt.x-kt.x);return ri.push(Ui),{point:Ui,angle:B?Sn:0,path:ri}}const V=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function U(E,i){for(let d=0;d<E;d++){const _=i.length;i.resize(_+4),i.float32.set(V,3*_)}}function ie(E,i,d){const _=i[0],w=i[1];return E[0]=d[0]*_+d[4]*w+d[12],E[1]=d[1]*_+d[5]*w+d[13],E[3]=d[3]*_+d[7]*w+d[15],E}const de=100;class Me{constructor(i,d=new be(i.width+200,i.height+200,25),_=new be(i.width+200,i.height+200,25)){this.transform=i,this.grid=d,this.ignoredGrid=_,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+de,this.screenBottomBoundary=i.height+de,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,d,_,w,T,f){const b=this.projectAndGetPerspectiveRatio(w,i.anchorPointX,i.anchorPointY,f),y=_*b.perspectiveRatio,S=i.x1*y+b.point.x,k=i.y1*y+b.point.y,R=i.x2*y+b.point.x,B=i.y2*y+b.point.y;return!this.isInsideGrid(S,k,R,B)||"always"!==d&&this.grid.hitTest(S,k,R,B,d,T)||b.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[S,k,R,B],offscreen:this.isOffscreen(S,k,R,B)}}placeCollisionCircles(i,d,_,w,T,f,b,y,S,k,R,B,te,ae){const Ce=[],ve=new v.Point(d.anchorX,d.anchorY),rt=Zt(ve,f,ae),xt=ii(this.transform.cameraToCenterDistance,rt.signedDistanceFromCamera),Ge=(k?T/xt:T*xt)/v.ONE_EM,dt=Zt(ve,b,ae).point,kt=$t(Ge,w,d.lineOffsetX*Ge,d.lineOffsetY*Ge,!1,dt,ve,d,_,b,{projections:{},offsets:{}},!1,ae);let Lt=!1,Gt=!1,ai=!0;if(kt){const ri=.5*B*xt+te,_i=new v.Point(-100,-100),Ui=new v.Point(this.screenRightBoundary,this.screenBottomBoundary),Sn=new Pe,Ti=kt.first,sn=kt.last;let Wi=[];for(let xn=Ti.path.length-1;xn>=1;xn--)Wi.push(Ti.path[xn]);for(let xn=1;xn<sn.path.length;xn++)Wi.push(sn.path[xn]);const Gr=2.5*ri;if(y){const xn=Wi.map(Un=>Zt(Un,y,ae));Wi=xn.some(Un=>Un.signedDistanceFromCamera<=0)?[]:xn.map(Un=>Un.point)}let wn=[];if(Wi.length>0){const xn=Wi[0].clone(),Un=Wi[0].clone();for(let Zr=1;Zr<Wi.length;Zr++)xn.x=Math.min(xn.x,Wi[Zr].x),xn.y=Math.min(xn.y,Wi[Zr].y),Un.x=Math.max(Un.x,Wi[Zr].x),Un.y=Math.max(Un.y,Wi[Zr].y);wn=xn.x>=_i.x&&Un.x<=Ui.x&&xn.y>=_i.y&&Un.y<=Ui.y?[Wi]:Un.x<_i.x||xn.x>Ui.x||Un.y<_i.y||xn.y>Ui.y?[]:v.clipLine([Wi],_i.x,_i.y,Ui.x,Ui.y)}for(const xn of wn){Sn.reset(xn,.25*ri);let Un=0;Un=Sn.length<=.5*ri?1:Math.ceil(Sn.paddedLength/Gr)+1;for(let Zr=0;Zr<Un;Zr++){const fr=Zr/Math.max(Un-1,1),Wr=Sn.lerp(fr),Eo=Wr.x+de,io=Wr.y+de;Ce.push(Eo,io,ri,0);const Os=Eo-ri,La=io-ri,tr=Eo+ri,hl=io+ri;if(ai=ai&&this.isOffscreen(Os,La,tr,hl),Gt=Gt||this.isInsideGrid(Os,La,tr,hl),"always"!==i&&this.grid.hitTestCircle(Eo,io,ri,i,R)&&(Lt=!0,!S))return{circles:[],offscreen:!1,collisionDetected:Lt}}}}return{circles:!S&&Lt||!Gt||xt<this.perspectiveRatioCutoff?[]:Ce,offscreen:ai,collisionDetected:Lt}}queryRenderedSymbols(i){if(0===i.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const d=[];let _=1/0,w=1/0,T=-1/0,f=-1/0;for(const k of i){const R=new v.Point(k.x+de,k.y+de);_=Math.min(_,R.x),w=Math.min(w,R.y),T=Math.max(T,R.x),f=Math.max(f,R.y),d.push(R)}const b=this.grid.query(_,w,T,f).concat(this.ignoredGrid.query(_,w,T,f)),y={},S={};for(const k of b){const R=k.key;if(void 0===y[R.bucketInstanceId]&&(y[R.bucketInstanceId]={}),y[R.bucketInstanceId][R.featureIndex])continue;const B=[new v.Point(k.x1,k.y1),new v.Point(k.x2,k.y1),new v.Point(k.x2,k.y2),new v.Point(k.x1,k.y2)];v.polygonIntersectsPolygon(d,B)&&(y[R.bucketInstanceId][R.featureIndex]=!0,void 0===S[R.bucketInstanceId]&&(S[R.bucketInstanceId]=[]),S[R.bucketInstanceId].push(R.featureIndex))}return S}insertCollisionBox(i,d,_,w,T,f){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:T,collisionGroupID:f,overlapMode:d},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,d,_,w,T,f){const b=_?this.ignoredGrid:this.grid,y={bucketInstanceId:w,featureIndex:T,collisionGroupID:f,overlapMode:d};for(let S=0;S<i.length;S+=4)b.insertCircle(y,i[S],i[S+1],i[S+2])}projectAndGetPerspectiveRatio(i,d,_,w){let T;return w?(T=[d,_,w(d,_),1],v.transformMat4(T,T,i)):(T=[d,_,0,1],ie(T,T,i)),{point:new v.Point((T[0]/T[3]+1)/2*this.transform.width+de,(-T[1]/T[3]+1)/2*this.transform.height+de),perspectiveRatio:.5+this.transform.cameraToCenterDistance/T[3]*.5}}isOffscreen(i,d,_,w){return _<de||i>=this.screenRightBoundary||w<de||d>this.screenBottomBoundary}isInsideGrid(i,d,_,w){return _>=0&&i<this.gridRightBoundary&&w>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const i=v.identity([]);return v.translate(i,i,[-100,-100,0]),i}}function fe(E,i,d){return i*(v.EXTENT/(E.tileSize*Math.pow(2,d-E.tileID.overscaledZ)))}class se{constructor(i,d,_,w){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?d:-d))):w&&_?1:0,this.placed=_}isHidden(){return 0===this.opacity&&!this.placed}}class X{constructor(i,d,_,w,T){this.text=new se(i?i.text:null,d,_,T),this.icon=new se(i?i.icon:null,d,w,T)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class he{constructor(i,d,_){this.text=i,this.icon=d,this.skipFade=_}}class qe{constructor(){this.invProjMatrix=v.create(),this.viewportMatrix=v.create(),this.circles=[]}}class lt{constructor(i,d,_,w,T){this.bucketInstanceId=i,this.featureIndex=d,this.sourceLayerIndex=_,this.bucketIndex=w,this.tileID=T}}class we{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const d=++this.maxGroupID;this.collisionGroups[i]={ID:d,predicate:_=>_.collisionGroupID===d}}return this.collisionGroups[i]}}function De(E,i,d,_,w){const{horizontalAlign:T,verticalAlign:f}=v.getAnchorAlignment(E);return new v.Point(-(T-.5)*i+_[0]*w,-(f-.5)*d+_[1]*w)}function ce(E,i,d,_,w,T){const{x1:f,x2:b,y1:y,y2:S,anchorPointX:k,anchorPointY:R}=E,B=new v.Point(i,d);return _&&B._rotate(w?T:-T),{x1:f+B.x,y1:y+B.y,x2:b+B.x,y2:S+B.y,anchorPointX:k,anchorPointY:R}}class Ee{constructor(i,d,_,w,T){this.transform=i.clone(),this.terrain=d,this.collisionIndex=new Me(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new we(w),this.collisionCircleArrays={},this.prevPlacement=T,T&&(T.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,d,_,w){const T=_.getBucket(d),f=_.latestFeatureIndex;if(!T||!f||d.id!==T.layerIds[0])return;const b=_.collisionBoxArray,y=T.layers[0].layout,S=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),k=_.tileSize/v.EXTENT,R=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),B="map"===y.get("text-pitch-alignment"),te="map"===y.get("text-rotation-alignment"),ae=fe(_,1,this.transform.zoom),Ce=et(R,B,te,this.transform,ae);let ve=null;if(B){const xt=Ye(R,B,te,this.transform,ae);ve=v.multiply([],this.transform.labelPlaneMatrix,xt)}this.retainedQueryData[T.bucketInstanceId]=new lt(T.bucketInstanceId,f,T.sourceLayerIndex,T.index,_.tileID);const rt={bucket:T,layout:y,posMatrix:R,textLabelPlaneMatrix:Ce,labelToScreenMatrix:ve,scale:S,textPixelRatio:k,holdingForFade:_.holdingForFade(),collisionBoxArray:b,partiallyEvaluatedTextSize:v.evaluateSizeForZoom(T.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(T.sourceID)};if(w)for(const xt of T.sortKeyRanges){const{sortKey:Ge,symbolInstanceStart:dt,symbolInstanceEnd:kt}=xt;i.push({sortKey:Ge,symbolInstanceStart:dt,symbolInstanceEnd:kt,parameters:rt})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:T.symbolInstances.length,parameters:rt})}attemptAnchorPlacement(i,d,_,w,T,f,b,y,S,k,R,B,te,ae,Ce,ve){const rt=v.TextAnchorEnum[i.textAnchor],xt=[i.textOffset0,i.textOffset1],Ge=De(rt,_,w,xt,T),dt=this.collisionIndex.placeCollisionBox(ce(d,Ge.x,Ge.y,f,b,this.transform.angle),R,y,S,k.predicate,ve);if((!Ce||0!==this.collisionIndex.placeCollisionBox(ce(Ce,Ge.x,Ge.y,f,b,this.transform.angle),R,y,S,k.predicate,ve).box.length)&&dt.box.length>0){let kt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[B.crossTileID]&&this.prevPlacement.placements[B.crossTileID]&&this.prevPlacement.placements[B.crossTileID].text&&(kt=this.prevPlacement.variableOffsets[B.crossTileID].anchor),0===B.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[B.crossTileID]={textOffset:xt,width:_,height:w,anchor:rt,textBoxScale:T,prevAnchor:kt},this.markUsedJustification(te,rt,B,ae),te.allowVerticalPlacement&&(this.markUsedOrientation(te,ae,B),this.placedOrientations[B.crossTileID]=ae),{shift:Ge,placedGlyphBoxes:dt}}}placeLayerBucketPart(i,d,_){const{bucket:w,layout:T,posMatrix:f,textLabelPlaneMatrix:b,labelToScreenMatrix:y,textPixelRatio:S,holdingForFade:k,collisionBoxArray:R,partiallyEvaluatedTextSize:B,collisionGroup:te}=i.parameters,ae=T.get("text-optional"),Ce=T.get("icon-optional"),ve=v.getOverlapMode(T,"text-overlap","text-allow-overlap"),rt="always"===ve,xt=v.getOverlapMode(T,"icon-overlap","icon-allow-overlap"),Ge="always"===xt,dt="map"===T.get("text-rotation-alignment"),kt="map"===T.get("text-pitch-alignment"),Lt="none"!==T.get("icon-text-fit"),Gt="viewport-y"===T.get("symbol-z-order"),ai=rt&&(Ge||!w.hasIconData()||Ce),ri=Ge&&(rt||!w.hasTextData()||ae);!w.collisionArrays&&R&&w.deserializeCollisionBoxes(R);const _i=this.retainedQueryData[w.bucketInstanceId].tileID,Ui=this.terrain?(Ti,sn)=>this.terrain.getElevation(_i,Ti,sn):null,Sn=(Ti,sn)=>{var Wi,Gr;if(d[Ti.crossTileID])return;if(k)return void(this.placements[Ti.crossTileID]=new he(!1,!1,!1));let wn=!1,xn=!1,Un=!0,Zr=null,fr={box:null,offscreen:null},Wr={box:null,offscreen:null},Eo=null,io=null,Os=null,La=0,tr=0,hl=0;sn.textFeatureIndex?La=sn.textFeatureIndex:Ti.useRuntimeCollisionCircles&&(La=Ti.featureIndex),sn.verticalTextFeatureIndex&&(tr=sn.verticalTextFeatureIndex);const Na=sn.textBox;if(Na){const ss=_o=>{let yo=v.WritingMode.horizontal;if(w.allowVerticalPlacement&&!_o&&this.prevPlacement){const ys=this.prevPlacement.placedOrientations[Ti.crossTileID];ys&&(this.placedOrientations[Ti.crossTileID]=ys,yo=ys,this.markUsedOrientation(w,yo,Ti))}return yo},$o=(_o,yo)=>{if(w.allowVerticalPlacement&&Ti.numVerticalGlyphVertices>0&&sn.verticalTextBox){for(const ys of w.writingModes)if(ys===v.WritingMode.vertical?(fr=yo(),Wr=fr):fr=_o(),fr&&fr.box&&fr.box.length)break}else fr=_o()},_s=Ti.textAnchorOffsetStartIndex,ic=Ti.textAnchorOffsetEndIndex;if(ic===_s){const _o=(yo,ys)=>{const Mo=this.collisionIndex.placeCollisionBox(yo,ve,S,f,te.predicate,Ui);return Mo&&Mo.box&&Mo.box.length&&(this.markUsedOrientation(w,ys,Ti),this.placedOrientations[Ti.crossTileID]=ys),Mo};$o(()=>_o(Na,v.WritingMode.horizontal),()=>{const yo=sn.verticalTextBox;return w.allowVerticalPlacement&&Ti.numVerticalGlyphVertices>0&&yo?_o(yo,v.WritingMode.vertical):{box:null,offscreen:null}}),ss(fr&&fr.box&&fr.box.length)}else{let _o=v.TextAnchorEnum[null===(Gr=null===(Wi=this.prevPlacement)||void 0===Wi?void 0:Wi.variableOffsets[Ti.crossTileID])||void 0===Gr?void 0:Gr.anchor];const yo=(Mo,nc,ga)=>{const fd=Mo.x2-Mo.x1,Kd=Mo.y2-Mo.y1,Xd=Ti.textBoxScale,Tc=Lt&&"never"===xt?nc:null;let Nl={box:[],offscreen:!1},rc="never"===ve?1:2,ml="never";_o&&rc++;for(let Ka=0;Ka<rc;Ka++){for(let qs=_s;qs<ic;qs++){const Va=w.textAnchorOffsets.get(qs);if(_o&&Va.textAnchor!==_o)continue;const pl=this.attemptAnchorPlacement(Va,Mo,fd,Kd,Xd,dt,kt,S,f,te,ml,Ti,w,ga,Tc,Ui);if(pl&&(Nl=pl.placedGlyphBoxes,Nl&&Nl.box&&Nl.box.length))return wn=!0,Zr=pl.shift,Nl}_o?_o=null:ml=ve}return Nl};$o(()=>yo(Na,sn.iconBox,v.WritingMode.horizontal),()=>{const Mo=sn.verticalTextBox;return w.allowVerticalPlacement&&!(fr&&fr.box&&fr.box.length)&&Ti.numVerticalGlyphVertices>0&&Mo?yo(Mo,sn.verticalIconBox,v.WritingMode.vertical):{box:null,offscreen:null}}),fr&&(wn=fr.box,Un=fr.offscreen);const ys=ss(fr&&fr.box);if(!wn&&this.prevPlacement){const Mo=this.prevPlacement.variableOffsets[Ti.crossTileID];Mo&&(this.variableOffsets[Ti.crossTileID]=Mo,this.markUsedJustification(w,Mo.anchor,Ti,ys))}}}if(Eo=fr,wn=Eo&&Eo.box&&Eo.box.length>0,Un=Eo&&Eo.offscreen,Ti.useRuntimeCollisionCircles){const ss=w.text.placedSymbolArray.get(Ti.centerJustifiedTextSymbolIndex),$o=v.evaluateSizeForFeature(w.textSizeData,B,ss),_s=T.get("text-padding");io=this.collisionIndex.placeCollisionCircles(ve,ss,w.lineVertexArray,w.glyphOffsetArray,$o,f,b,y,_,kt,te.predicate,Ti.collisionCircleDiameter,_s,Ui),io.circles.length&&io.collisionDetected&&!_&&v.warnOnce("Collisions detected, but collision boxes are not shown"),wn=rt||io.circles.length>0&&!io.collisionDetected,Un=Un&&io.offscreen}if(sn.iconFeatureIndex&&(hl=sn.iconFeatureIndex),sn.iconBox){const ss=$o=>{const _s=Lt&&Zr?ce($o,Zr.x,Zr.y,dt,kt,this.transform.angle):$o;return this.collisionIndex.placeCollisionBox(_s,xt,S,f,te.predicate,Ui)};Wr&&Wr.box&&Wr.box.length&&sn.verticalIconBox?(Os=ss(sn.verticalIconBox),xn=Os.box.length>0):(Os=ss(sn.iconBox),xn=Os.box.length>0),Un=Un&&Os.offscreen}const za=ae||0===Ti.numHorizontalGlyphVertices&&0===Ti.numVerticalGlyphVertices,Ba=Ce||0===Ti.numIconVertices;if(za||Ba?Ba?za||(xn=xn&&wn):wn=xn&&wn:xn=wn=xn&&wn,wn&&Eo&&Eo.box&&this.collisionIndex.insertCollisionBox(Eo.box,ve,T.get("text-ignore-placement"),w.bucketInstanceId,Wr&&Wr.box&&tr?tr:La,te.ID),xn&&Os&&this.collisionIndex.insertCollisionBox(Os.box,xt,T.get("icon-ignore-placement"),w.bucketInstanceId,hl,te.ID),io&&(wn&&this.collisionIndex.insertCollisionCircles(io.circles,ve,T.get("text-ignore-placement"),w.bucketInstanceId,La,te.ID),_)){const ss=w.bucketInstanceId;let $o=this.collisionCircleArrays[ss];void 0===$o&&($o=this.collisionCircleArrays[ss]=new qe);for(let _s=0;_s<io.circles.length;_s+=4)$o.circles.push(io.circles[_s+0]),$o.circles.push(io.circles[_s+1]),$o.circles.push(io.circles[_s+2]),$o.circles.push(io.collisionDetected?1:0)}if(0===Ti.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===w.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ti.crossTileID]=new he(wn||ai,xn||ri,Un||w.justReloaded),d[Ti.crossTileID]=!0};if(Gt){if(0!==i.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const Ti=w.getSortedSymbolIndexes(this.transform.angle);for(let sn=Ti.length-1;sn>=0;--sn){const Wi=Ti[sn];Sn(w.symbolInstances.get(Wi),w.collisionArrays[Wi])}}else for(let Ti=i.symbolInstanceStart;Ti<i.symbolInstanceEnd;Ti++)Sn(w.symbolInstances.get(Ti),w.collisionArrays[Ti]);if(_&&w.bucketInstanceId in this.collisionCircleArrays){const Ti=this.collisionCircleArrays[w.bucketInstanceId];v.invert(Ti.invProjMatrix,f),Ti.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(i,d,_,w){let T;T=w===v.WritingMode.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[v.getAnchorJustification(d)];const f=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const b of f)b>=0&&(i.text.placedSymbolArray.get(b).crossTileID=T>=0&&b!==T?0:_.crossTileID)}markUsedOrientation(i,d,_){const w=d===v.WritingMode.horizontal||d===v.WritingMode.horizontalOnly?d:0,T=d===v.WritingMode.vertical?d:0,f=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const b of f)i.text.placedSymbolArray.get(b).placedOrientation=w;_.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=T)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let _=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const w=d?d.symbolFadeChange(i):1,T=d?d.opacities:{},f=d?d.variableOffsets:{},b=d?d.placedOrientations:{};for(const y in this.placements){const S=this.placements[y],k=T[y];k?(this.opacities[y]=new X(k,w,S.text,S.icon),_=_||S.text!==k.text.placed||S.icon!==k.icon.placed):(this.opacities[y]=new X(null,w,S.text,S.icon,S.skipFade),_=_||S.text||S.icon)}for(const y in T){const S=T[y];if(!this.opacities[y]){const k=new X(S,w,!1,!1);k.isHidden()||(this.opacities[y]=k,_=_||S.text.placed||S.icon.placed)}}for(const y in f)this.variableOffsets[y]||!this.opacities[y]||this.opacities[y].isHidden()||(this.variableOffsets[y]=f[y]);for(const y in b)this.placedOrientations[y]||!this.opacities[y]||this.opacities[y].isHidden()||(this.placedOrientations[y]=b[y]);if(d&&void 0===d.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=i:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:i)}updateLayerOpacities(i,d){const _={};for(const w of d){const T=w.getBucket(i);T&&w.latestFeatureIndex&&i.id===T.layerIds[0]&&this.updateBucketOpacities(T,_,w.collisionBoxArray)}}updateBucketOpacities(i,d,_){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const w=i.layers[0],T=w.layout,f=new X(null,0,!1,!1,!0),b=T.get("text-allow-overlap"),y=T.get("icon-allow-overlap"),S=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),k="map"===T.get("text-rotation-alignment"),R="map"===T.get("text-pitch-alignment"),B="none"!==T.get("icon-text-fit"),te=new X(null,0,b&&(y||!i.hasIconData()||T.get("icon-optional")),y&&(b||!i.hasTextData()||T.get("text-optional")),!0);!i.collisionArrays&&_&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(_);const ae=(Ce,ve,rt)=>{for(let xt=0;xt<ve/4;xt++)Ce.opacityVertexArray.emplaceBack(rt);Ce.hasVisibleVertices=Ce.hasVisibleVertices||rt!==_n};for(let Ce=0;Ce<i.symbolInstances.length;Ce++){const ve=i.symbolInstances.get(Ce),{numHorizontalGlyphVertices:rt,numVerticalGlyphVertices:xt,crossTileID:Ge}=ve;let dt=this.opacities[Ge];d[Ge]?dt=f:dt||(dt=te,this.opacities[Ge]=dt),d[Ge]=!0;const kt=ve.numIconVertices>0,Lt=this.placedOrientations[ve.crossTileID],Gt=Lt===v.WritingMode.vertical,ai=Lt===v.WritingMode.horizontal||Lt===v.WritingMode.horizontalOnly;if(rt>0||xt>0){const ri=di(dt.text);ae(i.text,rt,Gt?_n:ri),ae(i.text,xt,ai?_n:ri);const _i=dt.text.isHidden();[ve.rightJustifiedTextSymbolIndex,ve.centerJustifiedTextSymbolIndex,ve.leftJustifiedTextSymbolIndex].forEach(Ti=>{Ti>=0&&(i.text.placedSymbolArray.get(Ti).hidden=_i||Gt?1:0)}),ve.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(ve.verticalPlacedTextSymbolIndex).hidden=_i||ai?1:0);const Ui=this.variableOffsets[ve.crossTileID];Ui&&this.markUsedJustification(i,Ui.anchor,ve,Lt);const Sn=this.placedOrientations[ve.crossTileID];Sn&&(this.markUsedJustification(i,"left",ve,Sn),this.markUsedOrientation(i,Sn,ve))}if(kt){const ri=di(dt.icon),_i=!(B&&ve.verticalPlacedIconSymbolIndex&&Gt);ve.placedIconSymbolIndex>=0&&(ae(i.icon,ve.numIconVertices,_i?ri:_n),i.icon.placedSymbolArray.get(ve.placedIconSymbolIndex).hidden=dt.icon.isHidden()),ve.verticalPlacedIconSymbolIndex>=0&&(ae(i.icon,ve.numVerticalIconVertices,_i?_n:ri),i.icon.placedSymbolArray.get(ve.verticalPlacedIconSymbolIndex).hidden=dt.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const ri=i.collisionArrays[Ce];if(ri){let _i=new v.Point(0,0);if(ri.textBox||ri.verticalTextBox){let Sn=!0;if(S){const Ti=this.variableOffsets[Ge];Ti?(_i=De(Ti.anchor,Ti.width,Ti.height,Ti.textOffset,Ti.textBoxScale),k&&_i._rotate(R?this.transform.angle:-this.transform.angle)):Sn=!1}ri.textBox&&Xe(i.textCollisionBox.collisionVertexArray,dt.text.placed,!Sn||Gt,_i.x,_i.y),ri.verticalTextBox&&Xe(i.textCollisionBox.collisionVertexArray,dt.text.placed,!Sn||ai,_i.x,_i.y)}const Ui=!(ai||!ri.verticalIconBox);ri.iconBox&&Xe(i.iconCollisionBox.collisionVertexArray,dt.icon.placed,Ui,B?_i.x:0,B?_i.y:0),ri.verticalIconBox&&Xe(i.iconCollisionBox.collisionVertexArray,dt.icon.placed,!Ui,B?_i.x:0,B?_i.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const Ce=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=Ce.invProjMatrix,i.placementViewportMatrix=Ce.viewportMatrix,i.collisionCircleArray=Ce.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return 0===this.fadeDuration?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,d){const _=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*_>i}setStale(){this.stale=!0}}function Xe(E,i,d,_,w){E.emplaceBack(i?1:0,d?1:0,_||0,w||0),E.emplaceBack(i?1:0,d?1:0,_||0,w||0),E.emplaceBack(i?1:0,d?1:0,_||0,w||0),E.emplaceBack(i?1:0,d?1:0,_||0,w||0)}const It=Math.pow(2,25),Fe=Math.pow(2,24),Ae=Math.pow(2,17),je=Math.pow(2,16),Nt=Math.pow(2,9),ci=Math.pow(2,8),hi=Math.pow(2,1);function di(E){if(0===E.opacity&&!E.placed)return 0;if(1===E.opacity&&E.placed)return 4294967295;const i=E.placed?1:0,d=Math.floor(127*E.opacity);return d*It+i*Fe+d*Ae+i*je+d*Nt+i*ci+d*hi+i}const _n=0;class Yi{constructor(i){this._sortAcrossTiles="viewport-y"!==i.layout.get("symbol-z-order")&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,d,_,w,T){const f=this._bucketParts;for(;this._currentTileIndex<i.length;)if(d.getBucketParts(f,w,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,T())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,f.sort((b,y)=>b.sortKey-y.sortKey));this._currentPartIndex<f.length;)if(d.placeLayerBucketPart(f[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,T())return!0;return!1}}class _r{constructor(i,d,_,w,T,f,b,y){this.placement=new Ee(i,d,f,b,y),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=T,this._done=!1}isDone(){return this._done}continuePlacement(i,d,_){const w=v.browser.now(),T=()=>!this._forceFullPlacement&&v.browser.now()-w>2;for(;this._currentPlacementIndex>=0;){const f=d[i[this._currentPlacementIndex]],b=this.placement.collisionIndex.transform.zoom;if("symbol"===f.type&&(!f.minzoom||f.minzoom<=b)&&(!f.maxzoom||f.maxzoom>b)){if(this._inProgressLayer||(this._inProgressLayer=new Yi(f)),this._inProgressLayer.continuePlacement(_[f.source],this.placement,this._showCollisionBoxes,f,T))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Mr=512/v.EXTENT/2;class ho{constructor(i,d,_){this.tileID=i,this.bucketInstanceId=_,this._symbolsByKey={};const w=new Map;for(let T=0;T<d.length;T++){const f=d.get(T),b=f.key,y=w.get(b);y?y.push(f):w.set(b,[f])}for(const[T,f]of w){const b={positions:f.map(y=>({x:Math.floor(y.anchorX*Mr),y:Math.floor(y.anchorY*Mr)})),crossTileIDs:f.map(y=>y.crossTileID)};if(b.positions.length>128){const y=new v.KDBush(b.positions.length,16,Uint16Array);for(const{x:S,y:k}of b.positions)y.add(S,k);y.finish(),delete b.positions,b.index=y}this._symbolsByKey[T]=b}}getScaledCoordinates(i,d){const{x:_,y:w,z:T}=this.tileID.canonical,{x:f,y:b,z:y}=d.canonical,S=Mr/Math.pow(2,y-T),k=(b*v.EXTENT+i.anchorY)*S,R=w*v.EXTENT*Mr;return{x:Math.floor((f*v.EXTENT+i.anchorX)*S-_*v.EXTENT*Mr),y:Math.floor(k-R)}}findMatches(i,d,_){const w=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let T=0;T<i.length;T++){const f=i.get(T);if(f.crossTileID)continue;const b=this._symbolsByKey[f.key];if(!b)continue;const y=this.getScaledCoordinates(f,d);if(b.index){const S=b.index.range(y.x-w,y.y-w,y.x+w,y.y+w).sort();for(const k of S){const R=b.crossTileIDs[k];if(!_[R]){_[R]=!0,f.crossTileID=R;break}}}else if(b.positions)for(let S=0;S<b.positions.length;S++){const k=b.positions[S],R=b.crossTileIDs[S];if(Math.abs(k.x-y.x)<=w&&Math.abs(k.y-y.y)<=w&&!_[R]){_[R]=!0,f.crossTileID=R;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class oo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class fn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const d=Math.round((i-this.lng)/360);if(0!==d)for(const _ in this.indexes){const w=this.indexes[_],T={};for(const f in w){const b=w[f];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+d),T[b.tileID.key]=b}this.indexes[_]=T}this.lng=i}addBucket(i,d,_){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let T=0;T<d.symbolInstances.length;T++)d.symbolInstances.get(T).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const w=this.usedCrossTileIDs[i.overscaledZ];for(const T in this.indexes){const f=this.indexes[T];if(Number(T)>i.overscaledZ)for(const b in f){const y=f[b];y.tileID.isChildOf(i)&&y.findMatches(d.symbolInstances,i,w)}else{const b=f[i.scaledTo(Number(T)).key];b&&b.findMatches(d.symbolInstances,i,w)}}for(let T=0;T<d.symbolInstances.length;T++){const f=d.symbolInstances.get(T);f.crossTileID||(f.crossTileID=_.generate(),w[f.crossTileID]=!0)}return void 0===this.indexes[i.overscaledZ]&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new ho(i,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(i,d){for(const _ of d.getCrossTileIDsLists())for(const w of _)delete this.usedCrossTileIDs[i][w]}removeStaleBuckets(i){let d=!1;for(const _ in this.indexes){const w=this.indexes[_];for(const T in w)i[w[T].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,w[T]),delete w[T],d=!0)}return d}}class Ao{constructor(){this.layerIndexes={},this.crossTileIDs=new oo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,d,_){let w=this.layerIndexes[i.id];void 0===w&&(w=this.layerIndexes[i.id]=new fn);let T=!1;const f={};w.handleWrapJump(_);for(const b of d){const y=b.getBucket(i);y&&i.id===y.layerIds[0]&&(y.bucketInstanceId||(y.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(b.tileID,y,this.crossTileIDs)&&(T=!0),f[y.bucketInstanceId]=!0)}return w.removeStaleBuckets(f)&&(T=!0),T}pruneUnusedLayers(i){const d={};i.forEach(_=>{d[_]=!0});for(const _ in this.layerIndexes)d[_]||delete this.layerIndexes[_]}}const On=(E,i)=>v.emitValidationErrors(E,i&&i.filter(d=>"source.canvas"!==d.identifier)),cn=v.pick(v.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),dr=v.pick(v.operations,["setCenter","setZoom","setBearing","setPitch"]),Ms=v.emptyStyle();class In extends v.Evented{constructor(i,d={}){super(),this.map=i,this.dispatcher=new Fn(Te(),this,i._getMapId()),this.imageManager=new Ot,this.imageManager.setEventedParent(this),this.glyphManager=new Fi(i._requestManager,d.localIdeographFontFamily),this.lineAtlas=new vn(256,512),this.crossTileSymbolIndex=new Ao,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new v.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",v.getReferrer());const _=this;this._rtlTextPluginCallback=In.registerForPluginStateChange(w=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},(T,f)=>{if(v.triggerPluginCompletionEvent(T),f&&f.every(b=>b))for(const b in _.sourceCaches){const y=_.sourceCaches[b].getSource().type;"vector"!==y&&"geojson"!==y||_.sourceCaches[b].reload()}})}),this.on("data",w=>{if("source"!==w.dataType||"metadata"!==w.sourceDataType)return;const T=this.sourceCaches[w.sourceId];if(!T)return;const f=T.getSource();if(f&&f.vectorLayerIds)for(const b in this._layers){const y=this._layers[b];y.source===f.id&&this._validateLayer(y)}})}loadURL(i,d={},_){this.fire(new v.Event("dataloading",{dataType:"style"})),d.validate="boolean"!=typeof d.validate||d.validate;const w=this.map._requestManager.transformRequest(i,Ke.Style);this._request=v.getJSON(w,(T,f)=>{this._request=null,T?this.fire(new v.ErrorEvent(T)):f&&this._load(f,d,_)})}loadJSON(i,d={},_){this.fire(new v.Event("dataloading",{dataType:"style"})),this._request=v.browser.frame(()=>{this._request=null,d.validate=!1!==d.validate,this._load(i,d,_)})}loadEmpty(){this.fire(new v.Event("dataloading",{dataType:"style"})),this._load(Ms,{validate:!1})}_load(i,d,_){var w;const T=d.transformStyle?d.transformStyle(_,i):i;if(!d.validate||!On(this,v.validateStyle(T))){this._loaded=!0,this.stylesheet=T;for(const f in T.sources)this.addSource(f,T.sources[f],{validate:!1});T.sprite?this._loadSprite(T.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(T.glyphs),this._createLayers(),this.light=new qn(this.stylesheet.light),this.map.setTerrain(null!==(w=this.stylesheet.terrain)&&void 0!==w?w:null),this.fire(new v.Event("data",{dataType:"style"})),this.fire(new v.Event("style.load"))}}_createLayers(){const i=v.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",i),this._order=i.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of i){const _=v.createStyleLayer(d);_.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=_}}_loadSprite(i,d=!1,_=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(w,T,f,b){const y=Oe(w),S=y.length,k=f>1?"@2x":"",R={},B={},te={};for(const{id:ae,url:Ce}of y){const ve=T.transformRequest(T.normalizeSpriteURL(Ce,k,".json"),Ke.SpriteJSON),rt=`${ae}_${ve.url}`;R[rt]=v.getJSON(ve,(dt,kt)=>{delete R[rt],B[ae]=kt,We(b,B,te,dt,S)});const xt=T.transformRequest(T.normalizeSpriteURL(Ce,k,".png"),Ke.SpriteImage),Ge=`${ae}_${xt.url}`;R[Ge]=tt.getImage(xt,(dt,kt)=>{delete R[Ge],te[ae]=kt,We(b,B,te,dt,S)})}return{cancel(){for(const ae of Object.values(R))ae.cancel()}}}(i,this.map._requestManager,this.map.getPixelRatio(),(w,T)=>{if(this._spriteRequest=null,w)this.fire(new v.ErrorEvent(w));else if(T)for(const f in T){this._spritesImagesIds[f]=[];const b=this._spritesImagesIds[f]?this._spritesImagesIds[f].filter(y=>!(y in T)):[];for(const y of b)this.imageManager.removeImage(y),this._changedImages[y]=!0;for(const y in T[f]){const S="default"===f?y:`${f}:${y}`;this._spritesImagesIds[f].push(S),S in this.imageManager.images?this.imageManager.updateImage(S,T[f][y],!1):this.imageManager.addImage(S,T[f][y]),d&&(this._changedImages[S]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"})),_&&_(w)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}_validateLayer(i){const d=this.sourceCaches[i.source];if(!d)return;const _=i.sourceLayer;if(!_)return;const w=d.getSource();("geojson"===w.type||w.vectorLayerIds&&-1===w.vectorLayerIds.indexOf(_))&&this.fire(new v.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${w.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i){const d=this._serializedAllLayers();if(!i||0===i.length)return Object.values(d);const _=[];for(const w of i)d[w]&&_.push(d[w]);return _}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const d=Object.keys(this._layers);for(const _ of d){const w=this._layers[_];"custom"!==w.type&&(i[_]=w.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const d=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),T=Object.keys(this._removedLayers);(w.length||T.length)&&this._updateWorkerLayers(w,T);for(const f in this._updatedSources){const b=this._updatedSources[f];if("reload"===b)this._reloadSource(f);else{if("clear"!==b)throw new Error(`Invalid action ${b}`);this._clearSource(f)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const f in this._updatedPaintProps)this._layers[f].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const _={};for(const w in this.sourceCaches){const T=this.sourceCaches[w];_[w]=T.used,T.used=!1}for(const w of this._order){const T=this._layers[w];T.recalculate(i,this._availableImages),!T.isHidden(i.zoom)&&T.source&&(this.sourceCaches[T.source].used=!0)}for(const w in _){const T=this.sourceCaches[w];_[w]!==T.used&&T.fire(new v.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(i),this.z=i.zoom,d&&this.fire(new v.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(i),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,d={}){this._checkLoaded();const _=this.serialize();if(i=d.transformStyle?d.transformStyle(_,i):i,On(this,v.validateStyle(i)))return!1;(i=v.clone$1(i)).layers=v.derefLayers(i.layers);const w=v.diffStyles(_,i).filter(f=>!(f.command in dr));if(0===w.length)return!1;const T=w.filter(f=>!(f.command in cn));if(T.length>0)throw new Error(`Unimplemented: ${T.map(f=>f.command).join(", ")}.`);for(const f of w)"setTransition"!==f.command&&this[f.command].apply(this,f.args);return this.stylesheet=i,this._serializedLayers=null,!0}addImage(i,d){if(this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,d),this._afterImageUpdated(i)}updateImage(i,d){this.imageManager.updateImage(i,d)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,d,_={}){if(this._checkLoaded(),void 0!==this.sourceCaches[i])throw new Error(`Source "${i}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(v.validateStyle.source,`sources.${i}`,d,null,_))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const w=this.sourceCaches[i]=new bt(i,d,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:i})),w.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===i)return this.fire(new v.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${_}" is using it.`)));const d=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],d.fire(new v.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,d){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error(`There is no source with this ID=${i}`);const _=this.sourceCaches[i].getSource();if("geojson"!==_.type)throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(d),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,d,_={}){this._checkLoaded();const w=i.id;if(this.getLayer(w))return void this.fire(new v.ErrorEvent(new Error(`Layer "${w}" already exists on this map.`)));let T;if("custom"===i.type){if(On(this,v.validateCustomStyleLayer(i)))return;T=v.createStyleLayer(i)}else{if("source"in i&&"object"==typeof i.source&&(this.addSource(w,i.source),i=v.clone$1(i),i=v.extend(i,{source:w})),this._validate(v.validateStyle.layer,`layers.${w}`,i,{arrayIndex:-1},_))return;T=v.createStyleLayer(i),this._validateLayer(T),T.setEventedParent(this,{layer:{id:w}})}const f=d?this._order.indexOf(d):this._order.length;if(d&&-1===f)this.fire(new v.ErrorEvent(new Error(`Cannot add layer "${w}" before non-existing layer "${d}".`)));else{if(this._order.splice(f,0,w),this._layerOrderChanged=!0,this._layers[w]=T,this._removedLayers[w]&&T.source&&"custom"!==T.type){const b=this._removedLayers[w];delete this._removedLayers[w],b.type!==T.type?this._updatedSources[T.source]="clear":(this._updatedSources[T.source]="reload",this.sourceCaches[T.source].pause())}this._updateLayer(T),T.onAdd&&T.onAdd(this.map)}}moveLayer(i,d){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new v.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===d)return;const _=this._order.indexOf(i);this._order.splice(_,1);const w=d?this._order.indexOf(d):this._order.length;d&&-1===w?this.fire(new v.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${d}".`))):(this._order.splice(w,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const d=this._layers[i];if(!d)return void this.fire(new v.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));d.setEventedParent(null);const _=this._order.indexOf(i);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=d,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],d.onRemove&&d.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,d,_){this._checkLoaded();const w=this.getLayer(i);w?w.minzoom===d&&w.maxzoom===_||(null!=d&&(w.minzoom=d),null!=_&&(w.maxzoom=_),this._updateLayer(w)):this.fire(new v.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,d,_={}){this._checkLoaded();const w=this.getLayer(i);if(w){if(!v.deepEqual(w.filter,d))return null==d?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(v.validateStyle.filter,`layers.${w.id}.filter`,d,null,_)||(w.filter=v.clone$1(d),this._updateLayer(w)))}else this.fire(new v.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return v.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,d,_,w={}){this._checkLoaded();const T=this.getLayer(i);T?v.deepEqual(T.getLayoutProperty(d),_)||(T.setLayoutProperty(d,_,w),this._updateLayer(T)):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,d){const _=this.getLayer(i);if(_)return _.getLayoutProperty(d);this.fire(new v.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,d,_,w={}){this._checkLoaded();const T=this.getLayer(i);T?v.deepEqual(T.getPaintProperty(d),_)||(T.setPaintProperty(d,_,w)&&this._updateLayer(T),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,d){return this.getLayer(i).getPaintProperty(d)}setFeatureState(i,d){this._checkLoaded();const _=i.source,w=i.sourceLayer,T=this.sourceCaches[_];if(void 0===T)return void this.fire(new v.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const f=T.getSource().type;"geojson"===f&&w?this.fire(new v.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==f||w?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),T.setFeatureState(w,i.id,d)):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,d){this._checkLoaded();const _=i.source,w=this.sourceCaches[_];if(void 0===w)return void this.fire(new v.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const T=w.getSource().type,f="vector"===T?i.sourceLayer:void 0;"vector"!==T||f?d&&"string"!=typeof i.id&&"number"!=typeof i.id?this.fire(new v.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(f,i.id,d):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const d=i.source,_=i.sourceLayer,w=this.sourceCaches[d];if(void 0!==w)return"vector"!==w.getSource().type||_?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),w.getFeatureState(_,i.id)):void this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new v.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return v.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=v.mapObject(this.sourceCaches,w=>w.serialize()),d=this._serializeByIds(this._order),_=this.stylesheet;return v.filterObject({version:_.version,name:_.name,metadata:_.metadata,light:_.light,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,sources:i,layers:d},w=>void 0!==w)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&"raster"!==this.sourceCaches[i.source].getSource().type&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const d=f=>"fill-extrusion"===this._layers[f].type,_={},w=[];for(let f=this._order.length-1;f>=0;f--){const b=this._order[f];if(d(b)){_[b]=f;for(const y of i){const S=y[b];if(S)for(const k of S)w.push(k)}}}w.sort((f,b)=>b.intersectionZ-f.intersectionZ);const T=[];for(let f=this._order.length-1;f>=0;f--){const b=this._order[f];if(d(b))for(let y=w.length-1;y>=0;y--){const S=w[y].feature;if(_[S.layer.id]<f)break;T.push(S),w.pop()}else for(const y of i){const S=y[b];if(S)for(const k of S)T.push(k.feature)}}return T}queryRenderedFeatures(i,d,_){d&&d.filter&&this._validate(v.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);const w={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new v.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const b of d.layers){const y=this._layers[b];if(!y)return this.fire(new v.ErrorEvent(new Error(`The layer '${b}' does not exist in the map's style and cannot be queried for features.`))),[];w[y.source]=!0}}const T=[];d.availableImages=this._availableImages;const f=this._serializedAllLayers();for(const b in this.sourceCaches)d.layers&&!w[b]||T.push(qt(this.sourceCaches[b],this._layers,f,i,d,_));return this.placement&&T.push(function(b,y,S,k,R,B,te){const ae={},Ce=B.queryRenderedSymbols(k),ve=[];for(const rt of Object.keys(Ce).map(Number))ve.push(te[rt]);ve.sort(gi);for(const rt of ve){const xt=rt.featureIndex.lookupSymbolFeatures(Ce[rt.bucketInstanceId],y,rt.bucketIndex,rt.sourceLayerIndex,R.filter,R.layers,R.availableImages,b);for(const Ge in xt){const dt=ae[Ge]=ae[Ge]||[],kt=xt[Ge];kt.sort((Lt,Gt)=>{const ai=rt.featureSortOrder;if(ai){const ri=ai.indexOf(Lt.featureIndex);return ai.indexOf(Gt.featureIndex)-ri}return Gt.featureIndex-Lt.featureIndex});for(const Lt of kt)dt.push(Lt)}}for(const rt in ae)ae[rt].forEach(xt=>{const Ge=xt.feature,dt=S[b[rt].source].getFeatureState(Ge.layer["source-layer"],Ge.id);Ge.source=Ge.layer.source,Ge.layer["source-layer"]&&(Ge.sourceLayer=Ge.layer["source-layer"]),Ge.state=dt});return ae}(this._layers,f,this.sourceCaches,i,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(T)}querySourceFeatures(i,d){d&&d.filter&&this._validate(v.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);const _=this.sourceCaches[i];return _?function(w,T){const f=w.getRenderableIds().map(S=>w.getTileByID(S)),b=[],y={};for(let S=0;S<f.length;S++){const k=f[S],R=k.tileID.canonical.key;y[R]||(y[R]=!0,k.querySourceFeatures(b,T))}return b}(_,d):[]}addSourceType(i,d,_){return ft(i)?_(new Error(`A source type called "${i}" already exists.`)):(ct[i]=d,d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:d.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(i,d={}){this._checkLoaded();const _=this.light.getLight();let w=!1;for(const f in i)if(!v.deepEqual(i[f],_[f])){w=!0;break}if(!w)return;const T={now:v.browser.now(),transition:v.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,d),this.light.updateTransitions(T)}_validate(i,d,_,w,T={}){return(!T||!1!==T.validate)&&On(this,i.call(v.validateStyle,v.extend({key:d,style:this.serialize(),value:_,styleSpec:v.v8Spec},w)))}_remove(i=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),v.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const _=this.sourceCaches[d];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const d in this.sourceCaches)this.sourceCaches[d].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,d,_,w,T=!1){let f=!1,b=!1;const y={};for(const S of this._order){const k=this._layers[S];if("symbol"!==k.type)continue;if(!y[k.source]){const B=this.sourceCaches[k.source];y[k.source]=B.getRenderableIds(!0).map(te=>B.getTileByID(te)).sort((te,ae)=>ae.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ae.tileID)?-1:1))}const R=this.crossTileSymbolIndex.addLayer(k,y[k.source],i.center.lng);f=f||R}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((T=T||this._layerOrderChanged||0===_)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(v.browser.now(),i.zoom))&&(this.pauseablePlacement=new _r(i,this.map.terrain,this._order,T,d,_,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,y),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(v.browser.now()),b=!0),f&&this.pauseablePlacement.placement.setStale()),b||f)for(const S of this._order){const k=this._layers[S];"symbol"===k.type&&this.placement.updateLayerOpacities(k,y[k.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(v.browser.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,d,_){this.imageManager.getImages(d.icons,_),this._updateTilesForChangedImages();const w=this.sourceCaches[d.source];w&&w.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(i,d,_){this.glyphManager.getGlyphs(d.stacks,_);const w=this.sourceCaches[d.source];w&&w.setDependencies(d.tileID.key,d.type,[""])}getResource(i,d,_){return v.makeRequest(d,_)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,d={}){this._checkLoaded(),i&&this._validate(v.validateStyle.glyphs,"glyphs",i,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,d,_={},w){this._checkLoaded();const T=[{id:i,url:d}],f=[...Oe(this.stylesheet.sprite),...T];this._validate(v.validateStyle.sprite,"sprite",f,null,_)||(this.stylesheet.sprite=f,this._loadSprite(T,!0,w))}removeSprite(i){this._checkLoaded();const d=Oe(this.stylesheet.sprite);if(d.find(_=>_.id===i)){if(this._spritesImagesIds[i])for(const _ of this._spritesImagesIds[i])this.imageManager.removeImage(_),this._changedImages[_]=!0;d.splice(d.findIndex(_=>_.id===i),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}else this.fire(new v.ErrorEvent(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return Oe(this.stylesheet.sprite)}setSprite(i,d={},_){this._checkLoaded(),i&&this._validate(v.validateStyle.sprite,"sprite",i,null,d)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,_):(this._unloadSprite(),_&&_(null)))}}In.registerForPluginStateChange=v.registerForPluginStateChange;var Bn=v.createLayout([{name:"a_pos",type:"Int16",components:2}]),ko="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ur={prelude:Xi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:Xi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Xi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Xi("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Xi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Xi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:Xi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Xi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Xi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Xi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Xi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Xi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Xi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Xi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Xi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Xi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Xi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Xi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Xi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Xi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Xi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Xi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Xi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Xi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Xi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Xi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Xi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ko),terrainDepth:Xi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ko),terrainCoords:Xi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ko)};function Xi(E,i){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=i.match(/attribute ([\w]+) ([\w]+)/g),w=E.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),f=T?T.concat(w):w,b={};return{fragmentSource:E=E.replace(d,(y,S,k,R,B)=>(b[B]=!0,"define"===S?`\n#ifndef HAS_UNIFORM_u_${B}\nvarying ${k} ${R} ${B};\n#else\nuniform ${k} ${R} u_${B};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${B}\n    ${k} ${R} ${B} = u_${B};\n#endif\n`)),vertexSource:i=i.replace(d,(y,S,k,R,B)=>{const te="float"===R?"vec2":"vec4",ae=B.match(/color/)?"color":te;return b[B]?"define"===S?`\n#ifndef HAS_UNIFORM_u_${B}\nuniform lowp float u_${B}_t;\nattribute ${k} ${te} a_${B};\nvarying ${k} ${R} ${B};\n#else\nuniform ${k} ${R} u_${B};\n#endif\n`:"vec4"===ae?`\n#ifndef HAS_UNIFORM_u_${B}\n    ${B} = a_${B};\n#else\n    ${k} ${R} ${B} = u_${B};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${B}\n    ${B} = unpack_mix_${ae}(a_${B}, u_${B}_t);\n#else\n    ${k} ${R} ${B} = u_${B};\n#endif\n`:"define"===S?`\n#ifndef HAS_UNIFORM_u_${B}\nuniform lowp float u_${B}_t;\nattribute ${k} ${te} a_${B};\n#else\nuniform ${k} ${R} u_${B};\n#endif\n`:"vec4"===ae?`\n#ifndef HAS_UNIFORM_u_${B}\n    ${k} ${R} ${B} = a_${B};\n#else\n    ${k} ${R} ${B} = u_${B};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${B}\n    ${k} ${R} ${B} = unpack_mix_${ae}(a_${B}, u_${B}_t);\n#else\n    ${k} ${R} ${B} = u_${B};\n#endif\n`}),staticAttributes:_,staticUniforms:f}}class Uo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,d,_,w,T,f,b,y,S){this.context=i;let k=this.boundPaintVertexBuffers.length!==w.length;for(let R=0;!k&&R<w.length;R++)this.boundPaintVertexBuffers[R]!==w[R]&&(k=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==_||k||this.boundIndexBuffer!==T||this.boundVertexOffset!==f||this.boundDynamicVertexBuffer!==b||this.boundDynamicVertexBuffer2!==y||this.boundDynamicVertexBuffer3!==S?this.freshBind(d,_,w,T,f,b,y,S):(i.bindVertexArray.set(this.vao),b&&b.bind(),T&&T.dynamicDraw&&T.bind(),y&&y.bind(),S&&S.bind())}freshBind(i,d,_,w,T,f,b,y){const S=i.numAttributes,k=this.context,R=k.gl;this.vao&&this.destroy(),this.vao=k.createVertexArray(),k.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=w,this.boundVertexOffset=T,this.boundDynamicVertexBuffer=f,this.boundDynamicVertexBuffer2=b,this.boundDynamicVertexBuffer3=y,d.enableAttributes(R,i);for(const B of _)B.enableAttributes(R,i);f&&f.enableAttributes(R,i),b&&b.enableAttributes(R,i),y&&y.enableAttributes(R,i),d.bind(),d.setVertexAttribPointers(R,i,T);for(const B of _)B.bind(),B.setVertexAttribPointers(R,i,T);f&&(f.bind(),f.setVertexAttribPointers(R,i,T)),w&&w.bind(),b&&(b.bind(),b.setVertexAttribPointers(R,i,T)),y&&(y.bind(),y.setVertexAttribPointers(R,i,T)),k.currentNumAttributes=S}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function yr(E){const i=[];for(let d=0;d<E.length;d++){if(null===E[d])continue;const _=E[d].split(" ");i.push(_.pop())}return i}class Qn{constructor(i,d,_,w,T,f){const b=i.gl;this.program=b.createProgram();const y=yr(d.staticAttributes),S=_?_.getBinderAttributes():[],k=y.concat(S),R=Ur.prelude.staticUniforms?yr(Ur.prelude.staticUniforms):[],B=d.staticUniforms?yr(d.staticUniforms):[],te=_?_.getBinderUniforms():[],ae=R.concat(B).concat(te),Ce=[];for(const Lt of ae)Ce.indexOf(Lt)<0&&Ce.push(Lt);const ve=_?_.defines():[];T&&ve.push("#define OVERDRAW_INSPECTOR;"),f&&ve.push("#define TERRAIN3D;");const rt=ve.concat(Ur.prelude.fragmentSource,d.fragmentSource).join("\n"),xt=ve.concat(Ur.prelude.vertexSource,d.vertexSource).join("\n"),Ge=b.createShader(b.FRAGMENT_SHADER);if(b.isContextLost())return void(this.failedToCreate=!0);if(b.shaderSource(Ge,rt),b.compileShader(Ge),!b.getShaderParameter(Ge,b.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${b.getShaderInfoLog(Ge)}`);b.attachShader(this.program,Ge);const dt=b.createShader(b.VERTEX_SHADER);if(b.isContextLost())return void(this.failedToCreate=!0);if(b.shaderSource(dt,xt),b.compileShader(dt),!b.getShaderParameter(dt,b.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${b.getShaderInfoLog(dt)}`);b.attachShader(this.program,dt),this.attributes={};const kt={};this.numAttributes=k.length;for(let Lt=0;Lt<this.numAttributes;Lt++)k[Lt]&&(b.bindAttribLocation(this.program,Lt,k[Lt]),this.attributes[k[Lt]]=Lt);if(b.linkProgram(this.program),!b.getProgramParameter(this.program,b.LINK_STATUS))throw new Error(`Program failed to link: ${b.getProgramInfoLog(this.program)}`);b.deleteShader(dt),b.deleteShader(Ge);for(let Lt=0;Lt<Ce.length;Lt++){const Gt=Ce[Lt];if(Gt&&!kt[Gt]){const ai=b.getUniformLocation(this.program,Gt);ai&&(kt[Gt]=ai)}}var Lt,Gt;this.fixedUniforms=w(i,kt),this.terrainUniforms={u_depth:new v.Uniform1i(Lt=i,(Gt=kt).u_depth),u_terrain:new v.Uniform1i(Lt,Gt.u_terrain),u_terrain_dim:new v.Uniform1f(Lt,Gt.u_terrain_dim),u_terrain_matrix:new v.UniformMatrix4f(Lt,Gt.u_terrain_matrix),u_terrain_unpack:new v.Uniform4f(Lt,Gt.u_terrain_unpack),u_terrain_exaggeration:new v.Uniform1f(Lt,Gt.u_terrain_exaggeration)},this.binderUniforms=_?_.getUniforms(i,kt):[]}draw(i,d,_,w,T,f,b,y,S,k,R,B,te,ae,Ce,ve,rt,xt){const Ge=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(_),i.setStencilMode(w),i.setColorMode(T),i.setCullFace(f),y){i.activeTexture.set(Ge.TEXTURE2),Ge.bindTexture(Ge.TEXTURE_2D,y.depthTexture),i.activeTexture.set(Ge.TEXTURE3),Ge.bindTexture(Ge.TEXTURE_2D,y.texture);for(const kt in this.terrainUniforms)this.terrainUniforms[kt].set(y[kt])}for(const kt in this.fixedUniforms)this.fixedUniforms[kt].set(b[kt]);Ce&&Ce.setUniforms(i,this.binderUniforms,te,{zoom:ae});let dt=0;switch(d){case Ge.LINES:dt=2;break;case Ge.TRIANGLES:dt=3;break;case Ge.LINE_STRIP:dt=1}for(const kt of B.get()){const Lt=kt.vaos||(kt.vaos={});(Lt[S]||(Lt[S]=new Uo)).bind(i,this,k,Ce?Ce.getPaintVertexBuffers():[],R,kt.vertexOffset,ve,rt,xt),Ge.drawElements(d,kt.primitiveLength*dt,Ge.UNSIGNED_SHORT,kt.primitiveOffset*dt*2)}}}function Po(E,i,d){const _=1/fe(d,1,i.transform.tileZoom),w=Math.pow(2,d.tileID.overscaledZ),T=d.tileSize*Math.pow(2,i.transform.tileZoom)/w,f=T*(d.tileID.canonical.x+d.tileID.wrap*w),b=T*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[_,E.fromScale,E.toScale],u_fade:E.t,u_pixel_coord_upper:[f>>16,b>>16],u_pixel_coord_lower:[65535&f,65535&b]}}const xo=(E,i,d,_)=>{const w=i.style.light,T=w.properties.get("position"),f=[T.x,T.y,T.z],b=(S=new v.ARRAY_TYPE(9),v.ARRAY_TYPE!=Float32Array&&(S[1]=0,S[2]=0,S[3]=0,S[5]=0,S[6]=0,S[7]=0),S[0]=1,S[4]=1,S[8]=1,S);var S;"viewport"===w.properties.get("anchor")&&function(S,k){var R=Math.sin(k),B=Math.cos(k);S[0]=B,S[1]=R,S[2]=0,S[3]=-R,S[4]=B,S[5]=0,S[6]=0,S[7]=0,S[8]=1}(b,-i.transform.angle),function(S,k,R){var B=k[0],te=k[1],ae=k[2];S[0]=B*R[0]+te*R[3]+ae*R[6],S[1]=B*R[1]+te*R[4]+ae*R[7],S[2]=B*R[2]+te*R[5]+ae*R[8]}(f,f,b);const y=w.properties.get("color");return{u_matrix:E,u_lightpos:f,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[y.r,y.g,y.b],u_vertical_gradient:+d,u_opacity:_}},Cl=(E,i,d,_,w,T,f)=>v.extend(xo(E,i,d,_),Po(T,i,f),{u_height_factor:-Math.pow(2,w.overscaledZ)/f.tileSize/8}),ra=E=>({u_matrix:E}),$a=(E,i,d,_)=>v.extend(ra(E),Po(d,i,_)),El=(E,i)=>({u_matrix:E,u_world:i}),oa=(E,i,d,_,w)=>v.extend($a(E,i,d,_),{u_world:w}),js=(E,i,d,_)=>{const w=E.transform;let T,f;if("map"===_.paint.get("circle-pitch-alignment")){const b=fe(d,1,w.zoom);T=!0,f=[b,b]}else T=!1,f=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+("map"===_.paint.get("circle-pitch-scale")),u_matrix:E.translatePosMatrix(i.posMatrix,d,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+T,u_device_pixel_ratio:E.pixelRatio,u_extrude_scale:f}},Ds=(E,i,d)=>{const _=fe(d,1,i.zoom),w=Math.pow(2,i.zoom-d.tileID.overscaledZ),T=d.tileID.overscaleFactor();return{u_matrix:E,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[i.pixelsToGLUnits[0]/(_*w),i.pixelsToGLUnits[1]/(_*w)],u_overscale_factor:T}},dn=(E,i,d=1)=>({u_matrix:E,u_color:i,u_overlay:0,u_overlay_scale:d}),vr=E=>({u_matrix:E}),mo=(E,i,d,_)=>({u_matrix:E,u_extrude_scale:fe(i,1,d),u_intensity:_});function sa(E,i){const d=Math.pow(2,i.canonical.z),_=i.canonical.y;return[new v.MercatorCoordinate(0,_/d).toLngLat().lat,new v.MercatorCoordinate(0,(_+1)/d).toLngLat().lat]}const Dr=(E,i,d,_)=>{const w=E.transform;return{u_matrix:aa(E,i,d,_),u_ratio:1/fe(i,1,w.zoom),u_device_pixel_ratio:E.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},sl=(E,i,d,_,w)=>v.extend(Dr(E,i,d,w),{u_image:0,u_image_height:_}),Aa=(E,i,d,_,w)=>{const T=E.transform,f=ts(i,T);return{u_matrix:aa(E,i,d,w),u_texsize:i.imageAtlasTexture.size,u_ratio:1/fe(i,1,T.zoom),u_device_pixel_ratio:E.pixelRatio,u_image:0,u_scale:[f,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/T.pixelsToGLUnits[0],1/T.pixelsToGLUnits[1]]}},Hs=(E,i,d,_,w,T)=>{const f=E.lineAtlas,b=ts(i,E.transform),y="round"===d.layout.get("line-cap"),S=f.getDash(_.from,y),k=f.getDash(_.to,y),R=S.width*w.fromScale,B=k.width*w.toScale;return v.extend(Dr(E,i,d,T),{u_patternscale_a:[b/R,-S.height/2],u_patternscale_b:[b/B,-k.height/2],u_sdfgamma:f.width/(256*Math.min(R,B)*E.pixelRatio)/2,u_image:0,u_tex_y_a:S.y,u_tex_y_b:k.y,u_mix:w.t})};function ts(E,i){return 1/fe(E,1,i.tileZoom)}function aa(E,i,d,_){return E.translatePosMatrix(_?_.posMatrix:i.tileID.posMatrix,i,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const br=(E,i,d,_,w)=>{return{u_matrix:E,u_tl_parent:i,u_scale_parent:d,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(f=w.paint.get("raster-saturation"),f>0?1-1/(1.001-f):-f),u_contrast_factor:(T=w.paint.get("raster-contrast"),T>0?1/(1-T):1+T),u_spin_weights:Oi(w.paint.get("raster-hue-rotate"))};var T,f};function Oi(E){E*=Math.PI/180;const i=Math.sin(E),d=Math.cos(E);return[(2*d+1)/3,(-Math.sqrt(3)*i-d+1)/3,(Math.sqrt(3)*i-d+1)/3]}const mn=(E,i,d,_,w,T,f,b,y,S)=>{const k=w.transform;return{u_is_size_zoom_constant:+("constant"===E||"source"===E),u_is_size_feature_constant:+("constant"===E||"camera"===E),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:k.cameraToCenterDistance,u_pitch:k.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:k.width/k.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:T,u_label_plane_matrix:f,u_coord_matrix:b,u_is_text:+y,u_pitch_with_map:+_,u_texsize:S,u_texture:0}},Gn=(E,i,d,_,w,T,f,b,y,S,k)=>{const R=w.transform;return v.extend(mn(E,i,d,_,w,T,f,b,y,S),{u_gamma_scale:_?Math.cos(R._pitch)*R.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:+k})},Go=(E,i,d,_,w,T,f,b,y,S)=>v.extend(Gn(E,i,d,_,w,T,f,b,!0,y,!0),{u_texsize_icon:S,u_texture_icon:1}),Oo=(E,i,d)=>({u_matrix:E,u_opacity:i,u_color:d}),Sr=(E,i,d,_,w,T)=>v.extend(function(f,b,y,S){const k=y.imageManager.getPattern(f.from.toString()),R=y.imageManager.getPattern(f.to.toString()),{width:B,height:te}=y.imageManager.getPixelSize(),ae=Math.pow(2,S.tileID.overscaledZ),Ce=S.tileSize*Math.pow(2,y.transform.tileZoom)/ae,ve=Ce*(S.tileID.canonical.x+S.tileID.wrap*ae),rt=Ce*S.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:k.tl,u_pattern_br_a:k.br,u_pattern_tl_b:R.tl,u_pattern_br_b:R.br,u_texsize:[B,te],u_mix:b.t,u_pattern_size_a:k.displaySize,u_pattern_size_b:R.displaySize,u_scale_a:b.fromScale,u_scale_b:b.toScale,u_tile_units_to_pixels:1/fe(S,1,y.transform.tileZoom),u_pixel_coord_upper:[ve>>16,rt>>16],u_pixel_coord_lower:[65535&ve,65535&rt]}}(_,T,d,w),{u_matrix:E,u_opacity:i}),Or={fillExtrusion:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_lightpos:new v.Uniform3f(E,i.u_lightpos),u_lightintensity:new v.Uniform1f(E,i.u_lightintensity),u_lightcolor:new v.Uniform3f(E,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(E,i.u_vertical_gradient),u_opacity:new v.Uniform1f(E,i.u_opacity)}),fillExtrusionPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_lightpos:new v.Uniform3f(E,i.u_lightpos),u_lightintensity:new v.Uniform1f(E,i.u_lightintensity),u_lightcolor:new v.Uniform3f(E,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(E,i.u_vertical_gradient),u_height_factor:new v.Uniform1f(E,i.u_height_factor),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade),u_opacity:new v.Uniform1f(E,i.u_opacity)}),fill:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),fillPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),fillOutline:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world)}),fillOutlinePattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),circle:(E,i)=>({u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_scale_with_map:new v.Uniform1i(E,i.u_scale_with_map),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_extrude_scale:new v.Uniform2f(E,i.u_extrude_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),collisionBox:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pixels_to_tile_units:new v.Uniform1f(E,i.u_pixels_to_tile_units),u_extrude_scale:new v.Uniform2f(E,i.u_extrude_scale),u_overscale_factor:new v.Uniform1f(E,i.u_overscale_factor)}),collisionCircle:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_inv_matrix:new v.UniformMatrix4f(E,i.u_inv_matrix),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_viewport_size:new v.Uniform2f(E,i.u_viewport_size)}),debug:(E,i)=>({u_color:new v.UniformColor(E,i.u_color),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_overlay:new v.Uniform1i(E,i.u_overlay),u_overlay_scale:new v.Uniform1f(E,i.u_overlay_scale)}),clippingMask:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),heatmap:(E,i)=>({u_extrude_scale:new v.Uniform1f(E,i.u_extrude_scale),u_intensity:new v.Uniform1f(E,i.u_intensity),u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),heatmapTexture:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world),u_image:new v.Uniform1i(E,i.u_image),u_color_ramp:new v.Uniform1i(E,i.u_color_ramp),u_opacity:new v.Uniform1f(E,i.u_opacity)}),hillshade:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_latrange:new v.Uniform2f(E,i.u_latrange),u_light:new v.Uniform2f(E,i.u_light),u_shadow:new v.UniformColor(E,i.u_shadow),u_highlight:new v.UniformColor(E,i.u_highlight),u_accent:new v.UniformColor(E,i.u_accent)}),hillshadePrepare:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_dimension:new v.Uniform2f(E,i.u_dimension),u_zoom:new v.Uniform1f(E,i.u_zoom),u_unpack:new v.Uniform4f(E,i.u_unpack)}),line:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels)}),lineGradient:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_image:new v.Uniform1i(E,i.u_image),u_image_height:new v.Uniform1f(E,i.u_image_height)}),linePattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texsize:new v.Uniform2f(E,i.u_texsize),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_image:new v.Uniform1i(E,i.u_image),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),lineSDF:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_patternscale_a:new v.Uniform2f(E,i.u_patternscale_a),u_patternscale_b:new v.Uniform2f(E,i.u_patternscale_b),u_sdfgamma:new v.Uniform1f(E,i.u_sdfgamma),u_image:new v.Uniform1i(E,i.u_image),u_tex_y_a:new v.Uniform1f(E,i.u_tex_y_a),u_tex_y_b:new v.Uniform1f(E,i.u_tex_y_b),u_mix:new v.Uniform1f(E,i.u_mix)}),raster:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_tl_parent:new v.Uniform2f(E,i.u_tl_parent),u_scale_parent:new v.Uniform1f(E,i.u_scale_parent),u_buffer_scale:new v.Uniform1f(E,i.u_buffer_scale),u_fade_t:new v.Uniform1f(E,i.u_fade_t),u_opacity:new v.Uniform1f(E,i.u_opacity),u_image0:new v.Uniform1i(E,i.u_image0),u_image1:new v.Uniform1i(E,i.u_image1),u_brightness_low:new v.Uniform1f(E,i.u_brightness_low),u_brightness_high:new v.Uniform1f(E,i.u_brightness_high),u_saturation_factor:new v.Uniform1f(E,i.u_saturation_factor),u_contrast_factor:new v.Uniform1f(E,i.u_contrast_factor),u_spin_weights:new v.Uniform3f(E,i.u_spin_weights)}),symbolIcon:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texture:new v.Uniform1i(E,i.u_texture)}),symbolSDF:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texture:new v.Uniform1i(E,i.u_texture),u_gamma_scale:new v.Uniform1f(E,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(E,i.u_is_halo)}),symbolTextAndIcon:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texsize_icon:new v.Uniform2f(E,i.u_texsize_icon),u_texture:new v.Uniform1i(E,i.u_texture),u_texture_icon:new v.Uniform1i(E,i.u_texture_icon),u_gamma_scale:new v.Uniform1f(E,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(E,i.u_is_halo)}),background:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_opacity:new v.Uniform1f(E,i.u_opacity),u_color:new v.UniformColor(E,i.u_color)}),backgroundPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_opacity:new v.Uniform1f(E,i.u_opacity),u_image:new v.Uniform1i(E,i.u_image),u_pattern_tl_a:new v.Uniform2f(E,i.u_pattern_tl_a),u_pattern_br_a:new v.Uniform2f(E,i.u_pattern_br_a),u_pattern_tl_b:new v.Uniform2f(E,i.u_pattern_tl_b),u_pattern_br_b:new v.Uniform2f(E,i.u_pattern_br_b),u_texsize:new v.Uniform2f(E,i.u_texsize),u_mix:new v.Uniform1f(E,i.u_mix),u_pattern_size_a:new v.Uniform2f(E,i.u_pattern_size_a),u_pattern_size_b:new v.Uniform2f(E,i.u_pattern_size_b),u_scale_a:new v.Uniform1f(E,i.u_scale_a),u_scale_b:new v.Uniform1f(E,i.u_scale_b),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_tile_units_to_pixels:new v.Uniform1f(E,i.u_tile_units_to_pixels)}),terrain:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texture:new v.Uniform1i(E,i.u_texture),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)}),terrainDepth:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)}),terrainCoords:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texture:new v.Uniform1i(E,i.u_texture),u_terrain_coords_id:new v.Uniform1f(E,i.u_terrain_coords_id),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)})};class ar{constructor(i,d,_){this.context=i;const w=i.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zo={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wo{constructor(i,d,_,w){this.length=d.length,this.attributes=_,this.itemSize=d.bytesPerElement,this.dynamicDraw=w,this.context=i;const T=i.gl;this.buffer=T.createBuffer(),i.bindVertexBuffer.set(this.buffer),T.bufferData(T.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?T.DYNAMIC_DRAW:T.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,d){for(let _=0;_<this.attributes.length;_++){const w=d.attributes[this.attributes[_].name];void 0!==w&&i.enableVertexAttribArray(w)}}setVertexAttribPointers(i,d,_){for(let w=0;w<this.attributes.length;w++){const T=this.attributes[w],f=d.attributes[T.name];void 0!==f&&i.vertexAttribPointer(f,T.components,i[Zo[T.type]],!1,this.itemSize,T.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const on=new WeakMap;function Ro(E){if(on.has(E))return on.get(E);{const i=E.getParameter(E.VERSION).startsWith("WebGL 2.0");return on.set(E,i),i}}class kn{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class jr extends kn{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class ir extends kn{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Rr extends kn{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Ar extends kn{getDefault(){return[!0,!0,!0,!0]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Wo extends kn{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class us extends kn{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class la extends kn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const d=this.current;(i.func!==d.func||i.ref!==d.ref||i.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class is extends kn{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class Fo extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=i,this.dirty=!1}}class Kr extends kn{getDefault(){return[0,1]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class hs extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=i,this.dirty=!1}}class yn extends kn{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class ms extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.BLEND):d.disable(d.BLEND),this.current=i,this.dirty=!1}}class Ml extends kn{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class al extends kn{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class po extends kn{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class ka extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=i,this.dirty=!1}}class wa extends kn{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class Ca extends kn{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class Xr extends kn{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Dl extends kn{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class Jr extends kn{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class nr extends kn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class so extends kn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Hr extends kn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Pa extends kn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Fr extends kn{getDefault(){return null}set(i){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Oa extends kn{getDefault(){return null}set(i){var d;if(i===this.current&&!this.dirty)return;const _=this.gl;Ro(_)?_.bindVertexArray(i):null===(d=_.getExtension("OES_vertex_array_object"))||void 0===d||d.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class ll extends kn{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class Ea extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class $s extends kn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Sl extends kn{constructor(i,d){super(i),this.context=i,this.parent=d}getDefault(){return null}}class ps extends Sl{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class ns extends Sl{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class xc extends Sl{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Tl{constructor(i,d,_,w,T){this.context=i,this.width=d,this.height=_;const f=i.gl,b=this.framebuffer=f.createFramebuffer();if(this.colorAttachment=new ps(i,b),w)this.depthAttachment=T?new xc(i,b):new ns(i,b);else if(T)throw new Error("Stencil cannot be setted without depth");if(f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,d=this.colorAttachment.get();if(d&&i.deleteTexture(d),this.depthAttachment){const _=this.depthAttachment.get();_&&i.deleteRenderbuffer(_)}i.deleteFramebuffer(this.framebuffer)}}class nn{constructor(i,d,_){this.blendFunction=i,this.blendColor=d,this.mask=_}}nn.Replace=[1,0],nn.disabled=new nn(nn.Replace,v.Color.transparent,[!1,!1,!1,!1]),nn.unblended=new nn(nn.Replace,v.Color.transparent,[!0,!0,!0,!0]),nn.alphaBlended=new nn([1,771],v.Color.transparent,[!0,!0,!0,!0]);class an{constructor(i){var d,_;if(this.gl=i,this.clearColor=new jr(this),this.clearDepth=new ir(this),this.clearStencil=new Rr(this),this.colorMask=new Ar(this),this.depthMask=new Wo(this),this.stencilMask=new us(this),this.stencilFunc=new la(this),this.stencilOp=new is(this),this.stencilTest=new Fo(this),this.depthRange=new Kr(this),this.depthTest=new hs(this),this.depthFunc=new yn(this),this.blend=new ms(this),this.blendFunc=new Ml(this),this.blendColor=new al(this),this.blendEquation=new po(this),this.cullFace=new ka(this),this.cullFaceSide=new wa(this),this.frontFace=new Ca(this),this.program=new Xr(this),this.activeTexture=new Dl(this),this.viewport=new Jr(this),this.bindFramebuffer=new nr(this),this.bindRenderbuffer=new so(this),this.bindTexture=new Hr(this),this.bindVertexBuffer=new Pa(this),this.bindElementBuffer=new Fr(this),this.bindVertexArray=new Oa(this),this.pixelStoreUnpack=new ll(this),this.pixelStoreUnpackPremultiplyAlpha=new Ea(this),this.pixelStoreUnpackFlipY=new $s(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Ro(i)){this.HALF_FLOAT=i.HALF_FLOAT;const w=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(d=i.RGBA16F)&&void 0!==d?d:w?.RGBA16F_EXT,this.RGB16F=null!==(_=i.RGB16F)&&void 0!==_?_:w?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const w=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=w?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,d){return new ar(this,i,d)}createVertexBuffer(i,d,_){return new wo(this,i,d,_)}createRenderbuffer(i,d,_){const w=this.gl,T=w.createRenderbuffer();return this.bindRenderbuffer.set(T),w.renderbufferStorage(w.RENDERBUFFER,i,d,_),this.bindRenderbuffer.set(null),T}createFramebuffer(i,d,_,w){return new Tl(this,i,d,_,w)}clear({color:i,depth:d,stencil:_}){const w=this.gl;let T=0;i&&(T|=w.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),void 0!==d&&(T|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),void 0!==_&&(T|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),w.clear(T)}setCullFace(i){!1===i.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){v.deepEqual(i.blendFunction,nn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Ro(this.gl)?this.gl.createVertexArray():null===(i=this.gl.getExtension("OES_vertex_array_object"))||void 0===i?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var d;return Ro(this.gl)?this.gl.deleteVertexArray(i):null===(d=this.gl.getExtension("OES_vertex_array_object"))||void 0===d?void 0:d.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class Ln{constructor(i,d,_){this.func=i,this.mask=d,this.range=_}}Ln.ReadOnly=!1,Ln.ReadWrite=!0,Ln.disabled=new Ln(519,Ln.ReadOnly,[0,1]);class lr{constructor(i,d,_,w,T,f){this.test=i,this.ref=d,this.mask=_,this.fail=w,this.depthFail=T,this.pass=f}}lr.disabled=new lr({func:519,mask:0},0,0,7680,7680,7680);class hr{constructor(i,d,_){this.enable=i,this.mode=d,this.frontFace=_}}let Ga;function K(E,i,d,_,w,T,f){const b=E.context,y=b.gl,S=E.useProgram("collisionBox"),k=[];let R=0,B=0;for(let Ge=0;Ge<_.length;Ge++){const dt=_[Ge],kt=i.getTile(dt),Lt=kt.getBucket(d);if(!Lt)continue;let Gt=dt.posMatrix;0===w[0]&&0===w[1]||(Gt=E.translatePosMatrix(dt.posMatrix,kt,w,T));const ai=f?Lt.textCollisionBox:Lt.iconCollisionBox,ri=Lt.collisionCircleArray;if(ri.length>0){const _i=v.create(),Ui=Gt;v.mul(_i,Lt.placementInvProjMatrix,E.transform.glCoordMatrix),v.mul(_i,_i,Lt.placementViewportMatrix),k.push({circleArray:ri,circleOffset:B,transform:Ui,invTransform:_i,coord:dt}),R+=ri.length/4,B=R}ai&&S.draw(b,y.LINES,Ln.disabled,lr.disabled,E.colorModeForRenderPass(),hr.disabled,Ds(Gt,E.transform,kt),E.style.map.terrain&&E.style.map.terrain.getTerrainData(dt),d.id,ai.layoutVertexBuffer,ai.indexBuffer,ai.segments,null,E.transform.zoom,null,null,ai.collisionVertexBuffer)}if(!f||!k.length)return;const te=E.useProgram("collisionCircle"),ae=new v.CollisionCircleLayoutArray;ae.resize(4*R),ae._trim();let Ce=0;for(const Ge of k)for(let dt=0;dt<Ge.circleArray.length/4;dt++){const kt=4*dt,Lt=Ge.circleArray[kt+0],Gt=Ge.circleArray[kt+1],ai=Ge.circleArray[kt+2],ri=Ge.circleArray[kt+3];ae.emplace(Ce++,Lt,Gt,ai,ri,0),ae.emplace(Ce++,Lt,Gt,ai,ri,1),ae.emplace(Ce++,Lt,Gt,ai,ri,2),ae.emplace(Ce++,Lt,Gt,ai,ri,3)}(!Ga||Ga.length<2*R)&&(Ga=function(Ge){const dt=2*Ge,kt=new v.QuadTriangleArray;kt.resize(dt),kt._trim();for(let Lt=0;Lt<dt;Lt++){const Gt=6*Lt;kt.uint16[Gt+0]=4*Lt+0,kt.uint16[Gt+1]=4*Lt+1,kt.uint16[Gt+2]=4*Lt+2,kt.uint16[Gt+3]=4*Lt+2,kt.uint16[Gt+4]=4*Lt+3,kt.uint16[Gt+5]=4*Lt+0}return kt}(R));const ve=b.createIndexBuffer(Ga,!0),rt=b.createVertexBuffer(ae,v.collisionCircleLayout.members,!0);for(const Ge of k){const dt={u_matrix:Ge.transform,u_inv_matrix:Ge.invTransform,u_camera_to_center_distance:(xt=E.transform).cameraToCenterDistance,u_viewport_size:[xt.width,xt.height]};te.draw(b,y.TRIANGLES,Ln.disabled,lr.disabled,E.colorModeForRenderPass(),hr.disabled,dt,E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ge.coord),d.id,rt,ve,v.SegmentVector.simpleSegment(0,2*Ge.circleOffset,Ge.circleArray.length,Ge.circleArray.length/2),null,E.transform.zoom,null,null,null)}var xt;rt.destroy(),ve.destroy()}hr.disabled=new hr(!1,1029,2305),hr.backCCW=new hr(!0,1029,2305);const W=v.identity(new Float32Array(16));function G(E,i,d,_,w,T){const{horizontalAlign:f,verticalAlign:b}=v.getAnchorAlignment(E);return new v.Point((-(f-.5)*i/w+_[0])*T,(-(b-.5)*d/w+_[1])*T)}function xe(E,i,d,_,w,T,f,b,y,S,k){const R=E.text.placedSymbolArray,B=E.text.dynamicLayoutVertexArray,te=E.icon.dynamicLayoutVertexArray,ae={};B.clear();for(let Ce=0;Ce<R.length;Ce++){const ve=R.get(Ce),rt=ve.hidden||!ve.crossTileID||E.allowVerticalPlacement&&!ve.placedOrientation?null:_[ve.crossTileID];if(rt){const xt=new v.Point(ve.anchorX,ve.anchorY),Ge=Zt(xt,d?f:T,k),dt=ii(w.cameraToCenterDistance,Ge.signedDistanceFromCamera);let kt=v.evaluateSizeForFeature(E.textSizeData,y,ve)*dt/v.ONE_EM;d&&(kt*=E.tilePixelRatio/b);const{width:Lt,height:Gt,anchor:ai,textOffset:ri,textBoxScale:_i}=rt,Ui=G(ai,Lt,Gt,ri,_i,kt),Sn=d?Zt(xt.add(Ui),T,k).point:Ge.point.add(i?Ui.rotate(-w.angle):Ui),Ti=E.allowVerticalPlacement&&ve.placedOrientation===v.WritingMode.vertical?Math.PI/2:0;for(let sn=0;sn<ve.numGlyphs;sn++)v.addDynamicAttributes(B,Sn,Ti);S&&ve.associatedIconIndex>=0&&(ae[ve.associatedIconIndex]={shiftedAnchor:Sn,angle:Ti})}else U(ve.numGlyphs,B)}if(S){te.clear();const Ce=E.icon.placedSymbolArray;for(let ve=0;ve<Ce.length;ve++){const rt=Ce.get(ve);if(rt.hidden)U(rt.numGlyphs,te);else{const xt=ae[ve];if(xt)for(let Ge=0;Ge<rt.numGlyphs;Ge++)v.addDynamicAttributes(te,xt.shiftedAnchor,xt.angle);else U(rt.numGlyphs,te)}}E.icon.dynamicLayoutVertexBuffer.updateData(te)}E.text.dynamicLayoutVertexBuffer.updateData(B)}function jt(E,i,d){return d.iconsInText&&i?"symbolTextAndIcon":E?"symbolSDF":"symbolIcon"}function Ii(E,i,d,_,w,T,f,b,y,S,k,R){const B=E.context,te=B.gl,ae=E.transform,Ce="map"===b,ve="map"===y,rt="viewport"!==b&&"point"!==d.layout.get("symbol-placement"),xt=Ce&&!ve&&!rt,Ge=!d.layout.get("symbol-sort-key").isConstant();let dt=!1;const kt=E.depthModeForSublayer(0,Ln.ReadOnly),Lt=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Gt=[];for(const ai of _){const ri=i.getTile(ai),_i=ri.getBucket(d);if(!_i)continue;const Ui=w?_i.text:_i.icon;if(!Ui||!Ui.segments.get().length||!Ui.hasVisibleVertices)continue;const Sn=Ui.programConfigurations.get(d.id),Ti=w||_i.sdfIcons,sn=w?_i.textSizeData:_i.iconSizeData,Wi=ve||0!==ae.pitch,Gr=E.useProgram(jt(Ti,w,_i),Sn),wn=v.evaluateSizeForZoom(sn,ae.zoom),xn=E.style.map.terrain&&E.style.map.terrain.getTerrainData(ai);let Un,Zr,fr,Wr,Eo=[0,0],io=null;if(w)Zr=ri.glyphAtlasTexture,fr=te.LINEAR,Un=ri.glyphAtlasTexture.size,_i.iconsInText&&(Eo=ri.imageAtlasTexture.size,io=ri.imageAtlasTexture,Wr=Wi||E.options.rotating||E.options.zooming||"composite"===sn.kind||"camera"===sn.kind?te.LINEAR:te.NEAREST);else{const _o=1!==d.layout.get("icon-size").constantOr(0)||_i.iconsNeedLinear;Zr=ri.imageAtlasTexture,fr=Ti||E.options.rotating||E.options.zooming||_o||Wi?te.LINEAR:te.NEAREST,Un=ri.imageAtlasTexture.size}const Os=fe(ri,1,E.transform.zoom),La=et(ai.posMatrix,ve,Ce,E.transform,Os),tr=Ye(ai.posMatrix,ve,Ce,E.transform,Os),hl=Lt&&_i.hasTextData(),Na="none"!==d.layout.get("icon-text-fit")&&hl&&_i.hasIconData();if(rt){const _o=E.style.map.terrain?(ys,Mo)=>E.style.map.terrain.getElevation(ai,ys,Mo):null,yo="map"===d.layout.get("text-rotation-alignment");pi(_i,ai.posMatrix,E,w,La,tr,ve,S,yo,_o)}const za=E.translatePosMatrix(ai.posMatrix,ri,T,f),Ba=rt||w&&Lt||Na?W:La,ss=E.translatePosMatrix(tr,ri,T,f,!0),$o=Ti&&0!==d.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1);let _s;_s=Ti?_i.iconsInText?Go(sn.kind,wn,xt,ve,E,za,Ba,ss,Un,Eo):Gn(sn.kind,wn,xt,ve,E,za,Ba,ss,w,Un,!0):mn(sn.kind,wn,xt,ve,E,za,Ba,ss,w,Un);const ic={program:Gr,buffers:Ui,uniformValues:_s,atlasTexture:Zr,atlasTextureIcon:io,atlasInterpolation:fr,atlasInterpolationIcon:Wr,isSDF:Ti,hasHalo:$o};if(Ge&&_i.canOverlap){dt=!0;const _o=Ui.segments.get();for(const yo of _o)Gt.push({segments:new v.SegmentVector([yo]),sortKey:yo.sortKey,state:ic,terrainData:xn})}else Gt.push({segments:Ui.segments,sortKey:0,state:ic,terrainData:xn})}dt&&Gt.sort((ai,ri)=>ai.sortKey-ri.sortKey);for(const ai of Gt){const ri=ai.state;if(B.activeTexture.set(te.TEXTURE0),ri.atlasTexture.bind(ri.atlasInterpolation,te.CLAMP_TO_EDGE),ri.atlasTextureIcon&&(B.activeTexture.set(te.TEXTURE1),ri.atlasTextureIcon&&ri.atlasTextureIcon.bind(ri.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),ri.isSDF){const _i=ri.uniformValues;ri.hasHalo&&(_i.u_is_halo=1,$r(ri.buffers,ai.segments,d,E,ri.program,kt,k,R,_i,ai.terrainData)),_i.u_is_halo=0}$r(ri.buffers,ai.segments,d,E,ri.program,kt,k,R,ri.uniformValues,ai.terrainData)}}function $r(E,i,d,_,w,T,f,b,y,S){const k=_.context;w.draw(k,k.gl.TRIANGLES,T,f,b,hr.disabled,y,S,d.id,E.layoutVertexBuffer,E.indexBuffer,i,d.paint,_.transform.zoom,E.programConfigurations.get(d.id),E.dynamicLayoutVertexBuffer,E.opacityVertexBuffer)}function fo(E,i,d,_,w){if(!d||!_||!_.imageAtlas)return;const T=_.imageAtlas.patternPositions;let f=T[d.to.toString()],b=T[d.from.toString()];if(!f||!b){const y=w.getPaintProperty(i);f=T[y],b=T[y]}f&&b&&E.setConstantPatternPositions(f,b)}function Gs(E,i,d,_,w,T,f){const b=E.context.gl,y="fill-pattern",S=d.paint.get(y),k=S&&S.constantOr(1),R=d.getCrossfadeParameters();let B,te,ae,Ce,ve;f?(te=k&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",B=b.LINES):(te=k?"fillPattern":"fill",B=b.TRIANGLES);const rt=S.constantOr(null);for(const xt of _){const Ge=i.getTile(xt);if(k&&!Ge.patternsLoaded())continue;const dt=Ge.getBucket(d);if(!dt)continue;const kt=dt.programConfigurations.get(d.id),Lt=E.useProgram(te,kt),Gt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(xt);k&&(E.context.activeTexture.set(b.TEXTURE0),Ge.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),kt.updatePaintBuffers(R)),fo(kt,y,rt,Ge,d);const ai=Gt?xt:null,ri=E.translatePosMatrix(ai?ai.posMatrix:xt.posMatrix,Ge,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(f){Ce=dt.indexBuffer2,ve=dt.segments2;const _i=[b.drawingBufferWidth,b.drawingBufferHeight];ae="fillOutlinePattern"===te&&k?oa(ri,E,R,Ge,_i):El(ri,_i)}else Ce=dt.indexBuffer,ve=dt.segments,ae=k?$a(ri,E,R,Ge):ra(ri);Lt.draw(E.context,B,w,E.stencilModeForClipping(xt),T,hr.disabled,ae,Gt,d.id,dt.layoutVertexBuffer,Ce,ve,d.paint,E.transform.zoom,kt)}}function ca(E,i,d,_,w,T,f){const b=E.context,y=b.gl,S="fill-extrusion-pattern",k=d.paint.get(S),R=k.constantOr(1),B=d.getCrossfadeParameters(),te=d.paint.get("fill-extrusion-opacity"),ae=k.constantOr(null);for(const Ce of _){const ve=i.getTile(Ce),rt=ve.getBucket(d);if(!rt)continue;const xt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Ce),Ge=rt.programConfigurations.get(d.id),dt=E.useProgram(R?"fillExtrusionPattern":"fillExtrusion",Ge);R&&(E.context.activeTexture.set(y.TEXTURE0),ve.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),Ge.updatePaintBuffers(B)),fo(Ge,S,ae,ve,d);const kt=E.translatePosMatrix(Ce.posMatrix,ve,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Lt=d.paint.get("fill-extrusion-vertical-gradient"),Gt=R?Cl(kt,E,Lt,te,Ce,B,ve):xo(kt,E,Lt,te);dt.draw(b,b.gl.TRIANGLES,w,T,f,hr.backCCW,Gt,xt,d.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,d.paint,E.transform.zoom,Ge,E.style.map.terrain&&rt.centroidVertexBuffer)}}function Za(E,i,d,_,w,T,f){const b=E.context,y=b.gl,S=d.fbo;if(!S)return;const k=E.useProgram("hillshade"),R=E.style.map.terrain&&E.style.map.terrain.getTerrainData(i);b.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,S.colorAttachment.get()),k.draw(b,y.TRIANGLES,w,T,f,hr.disabled,((B,te,ae,Ce)=>{const ve=ae.paint.get("hillshade-shadow-color"),rt=ae.paint.get("hillshade-highlight-color"),xt=ae.paint.get("hillshade-accent-color");let Ge=ae.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===ae.paint.get("hillshade-illumination-anchor")&&(Ge-=B.transform.angle);const dt=!B.options.moving;return{u_matrix:Ce?Ce.posMatrix:B.transform.calculatePosMatrix(te.tileID.toUnwrapped(),dt),u_image:0,u_latrange:sa(0,te.tileID),u_light:[ae.paint.get("hillshade-exaggeration"),Ge],u_shadow:ve,u_highlight:rt,u_accent:xt}})(E,d,_,R?i:null),R,_.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments)}function wc(E,i,d,_,w,T){const f=E.context,b=f.gl,y=i.dem;if(y&&y.data){const S=y.dim,k=y.stride,R=y.getPixels();if(f.activeTexture.set(b.TEXTURE1),f.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||E.getTileTexture(k),i.demTexture){const te=i.demTexture;te.update(R,{premultiply:!1}),te.bind(b.NEAREST,b.CLAMP_TO_EDGE)}else i.demTexture=new Re(f,R,b.RGBA,{premultiply:!1}),i.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE);f.activeTexture.set(b.TEXTURE0);let B=i.fbo;if(!B){const te=new Re(f,{width:S,height:S,data:null},b.RGBA);te.bind(b.LINEAR,b.CLAMP_TO_EDGE),B=i.fbo=f.createFramebuffer(S,S,!0,!1),B.colorAttachment.set(te.texture)}f.bindFramebuffer.set(B.framebuffer),f.viewport.set([0,0,S,S]),E.useProgram("hillshadePrepare").draw(f,b.TRIANGLES,_,w,T,hr.disabled,((te,ae)=>{const Ce=ae.stride,ve=v.create();return v.ortho(ve,0,v.EXTENT,-v.EXTENT,0,0,1),v.translate(ve,ve,[0,-v.EXTENT,0]),{u_matrix:ve,u_image:1,u_dimension:[Ce,Ce],u_zoom:te.overscaledZ,u_unpack:ae.getUnpackVector()}})(i.tileID,y),null,d.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Yl(E,i,d,_,w,T){const f=_.paint.get("raster-fade-duration");if(!T&&f>0){const b=v.browser.now(),y=(b-E.timeAdded)/f,S=i?(b-i.timeAdded)/f:-1,k=d.getSource(),R=w.coveringZoomLevel({tileSize:k.tileSize,roundZoom:k.roundZoom}),B=!i||Math.abs(i.tileID.overscaledZ-R)>Math.abs(E.tileID.overscaledZ-R),te=B&&E.refreshedUponExpiration?1:v.clamp(B?y:1-S,0,1);return E.refreshedUponExpiration&&y>=1&&(E.refreshedUponExpiration=!1),i?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const Yd=new v.Color(1,0,0,1),hd=new v.Color(0,1,0,1),Cc=new v.Color(0,0,1,1),Wa=new v.Color(1,0,1,1),jo=new v.Color(0,1,1,1);function kr(E,i,d,_){cr(E,0,i+d/2,E.transform.width,d,_)}function Rn(E,i,d,_){cr(E,i-d/2,0,d,E.transform.height,_)}function cr(E,i,d,_,w,T){const f=E.context,b=f.gl;b.enable(b.SCISSOR_TEST),b.scissor(i*E.pixelRatio,d*E.pixelRatio,_*E.pixelRatio,w*E.pixelRatio),f.clear({color:T}),b.disable(b.SCISSOR_TEST)}function md(E,i,d){const _=E.context,w=_.gl,T=d.posMatrix,f=E.useProgram("debug"),b=Ln.disabled,y=lr.disabled,S=E.colorModeForRenderPass(),k="$debug",R=E.style.map.terrain&&E.style.map.terrain.getTerrainData(d);_.activeTexture.set(w.TEXTURE0);const B=i.getTileByID(d.key).latestRawTileData,te=Math.floor((B&&B.byteLength||0)/1024),ae=i.getTile(d).tileSize,Ce=512/Math.min(ae,512)*(d.overscaledZ/E.transform.zoom)*.5;let ve=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ve+=` => ${d.overscaledZ}`),function(rt,xt){rt.initDebugOverlayCanvas();const Ge=rt.debugOverlayCanvas,dt=rt.context.gl,kt=rt.debugOverlayCanvas.getContext("2d");kt.clearRect(0,0,Ge.width,Ge.height),kt.shadowColor="white",kt.shadowBlur=2,kt.lineWidth=1.5,kt.strokeStyle="white",kt.textBaseline="top",kt.font="bold 36px Open Sans, sans-serif",kt.fillText(xt,5,5),kt.strokeText(xt,5,5),rt.debugOverlayTexture.update(Ge),rt.debugOverlayTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE)}(E,`${ve} ${te}kB`),f.draw(_,w.TRIANGLES,b,y,nn.alphaBlended,hr.disabled,dn(T,v.Color.transparent,Ce),null,k,E.debugBuffer,E.quadTriangleIndexBuffer,E.debugSegments),f.draw(_,w.LINE_STRIP,b,y,S,hr.disabled,dn(T,v.Color.red),R,k,E.debugBuffer,E.tileBorderIndexBuffer,E.debugSegments)}function Ss(E,i,d){const _=E.context,w=_.gl,T=E.colorModeForRenderPass(),f=new Ln(w.LEQUAL,Ln.ReadWrite,E.depthRangeFor3D),b=E.useProgram("terrain"),y=i.getTerrainMesh();_.bindFramebuffer.set(null),_.viewport.set([0,0,E.width,E.height]);for(const S of d){const k=E.renderToTexture.getTexture(S),R=i.getTerrainData(S.tileID);_.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,k.texture);const B={u_matrix:E.transform.calculatePosMatrix(S.tileID.toUnwrapped()),u_texture:0,u_ele_delta:i.getMeshFrameDelta(E.transform.zoom)};b.draw(_,w.TRIANGLES,f,lr.disabled,T,hr.backCCW,B,R,"terrain",y.vertexBuffer,y.indexBuffer,y.segments)}}class mr{constructor(i,d){this.context=new an(i),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:v.create(),renderTime:0},this.setup(),this.numSublayers=bt.maxUnderzooming+bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ao}resize(i,d,_){if(this.width=Math.floor(i*_),this.height=Math.floor(d*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const i=this.context,d=new v.PosArray;d.emplaceBack(0,0),d.emplaceBack(v.EXTENT,0),d.emplaceBack(0,v.EXTENT),d.emplaceBack(v.EXTENT,v.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(d,Bn.members),this.tileExtentSegments=v.SegmentVector.simpleSegment(0,0,4,2);const _=new v.PosArray;_.emplaceBack(0,0),_.emplaceBack(v.EXTENT,0),_.emplaceBack(0,v.EXTENT),_.emplaceBack(v.EXTENT,v.EXTENT),this.debugBuffer=i.createVertexBuffer(_,Bn.members),this.debugSegments=v.SegmentVector.simpleSegment(0,0,4,5);const w=new v.RasterBoundsArray;w.emplaceBack(0,0,0,0),w.emplaceBack(v.EXTENT,0,v.EXTENT,0),w.emplaceBack(0,v.EXTENT,0,v.EXTENT),w.emplaceBack(v.EXTENT,v.EXTENT,v.EXTENT,v.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(w,si.members),this.rasterBoundsSegments=v.SegmentVector.simpleSegment(0,0,4,2);const T=new v.PosArray;T.emplaceBack(0,0),T.emplaceBack(1,0),T.emplaceBack(0,1),T.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(T,Bn.members),this.viewportSegments=v.SegmentVector.simpleSegment(0,0,4,2);const f=new v.LineStripIndexArray;f.emplaceBack(0),f.emplaceBack(1),f.emplaceBack(3),f.emplaceBack(2),f.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(f);const b=new v.TriangleIndexArray;b.emplaceBack(0,1,2),b.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(b);const y=this.context.gl;this.stencilClearMode=new lr({func:y.ALWAYS,mask:0},0,255,y.ZERO,y.ZERO,y.ZERO)}clearStencil(){const i=this.context,d=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=v.create();v.ortho(_,0,this.width,this.height,0,0,1),v.scale(_,_,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,d.TRIANGLES,Ln.disabled,this.stencilClearMode,nn.disabled,hr.disabled,vr(_),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,d){if(this.currentStencilSource===i.source||!i.isTileClipped()||!d||!d.length)return;this.currentStencilSource=i.source;const _=this.context,w=_.gl;this.nextStencilID+d.length>256&&this.clearStencil(),_.setColorMode(nn.disabled),_.setDepthMode(Ln.disabled);const T=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const f of d){const b=this._tileClippingMaskIDs[f.key]=this.nextStencilID++,y=this.style.map.terrain&&this.style.map.terrain.getTerrainData(f);T.draw(_,w.TRIANGLES,Ln.disabled,new lr({func:w.ALWAYS,mask:0},b,255,w.KEEP,w.KEEP,w.REPLACE),nn.disabled,hr.disabled,vr(f.posMatrix),y,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,d=this.context.gl;return new lr({func:d.NOTEQUAL,mask:255},i,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(i){const d=this.context.gl;return new lr({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(i){const d=this.context.gl,_=i.sort((f,b)=>b.overscaledZ-f.overscaledZ),w=_[_.length-1].overscaledZ,T=_[0].overscaledZ-w+1;if(T>1){this.currentStencilSource=void 0,this.nextStencilID+T>256&&this.clearStencil();const f={};for(let b=0;b<T;b++)f[b+w]=new lr({func:d.GEQUAL,mask:255},b+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=T,[f,_]}return[{[w]:lr.disabled},_]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new nn([i.CONSTANT_COLOR,i.ONE],new v.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?nn.unblended:nn.alphaBlended}depthModeForSublayer(i,d,_){if(!this.opaquePassEnabledForLayer())return Ln.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new Ln(_||this.context.gl.LEQUAL,d,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,d){this.style=i,this.options=d,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(v.browser.now()),this.imageManager.beginFrame();const _=this.style._order,w=this.style.sourceCaches,T={},f={},b={};for(const y in w){const S=w[y];S.used&&S.prepare(this.context),T[y]=S.getVisibleCoordinates(),f[y]=T[y].slice().reverse(),b[y]=S.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let y=0;y<_.length;y++)if(this.style._layers[_[y]].is3D()){this.opaquePassCutoff=y;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const y=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!v.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||y.length)&&(v.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(S,k){const R=S.context,B=R.gl,te=nn.unblended,ae=new Ln(B.LEQUAL,Ln.ReadWrite,[0,1]),Ce=k.getTerrainMesh(),ve=k.sourceCache.getRenderableTiles(),rt=S.useProgram("terrainDepth");R.bindFramebuffer.set(k.getFramebuffer("depth").framebuffer),R.viewport.set([0,0,S.width/devicePixelRatio,S.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1});for(const xt of ve){const Ge=k.getTerrainData(xt.tileID),dt={u_matrix:S.transform.calculatePosMatrix(xt.tileID.toUnwrapped()),u_ele_delta:k.getMeshFrameDelta(S.transform.zoom)};rt.draw(R,B.TRIANGLES,ae,lr.disabled,te,hr.backCCW,dt,Ge,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}R.bindFramebuffer.set(null),R.viewport.set([0,0,S.width,S.height])}(this,this.style.map.terrain),function(S,k){const R=S.context,B=R.gl,te=nn.unblended,ae=new Ln(B.LEQUAL,Ln.ReadWrite,[0,1]),Ce=k.getTerrainMesh(),ve=k.getCoordsTexture(),rt=k.sourceCache.getRenderableTiles(),xt=S.useProgram("terrainCoords");R.bindFramebuffer.set(k.getFramebuffer("coords").framebuffer),R.viewport.set([0,0,S.width/devicePixelRatio,S.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1}),k.coordsIndex=[];for(const Ge of rt){const dt=k.getTerrainData(Ge.tileID);R.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,ve.texture);const kt={u_matrix:S.transform.calculatePosMatrix(Ge.tileID.toUnwrapped()),u_terrain_coords_id:(255-k.coordsIndex.length)/255,u_texture:0,u_ele_delta:k.getMeshFrameDelta(S.transform.zoom)};xt.draw(R,B.TRIANGLES,ae,lr.disabled,te,hr.backCCW,kt,dt,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments),k.coordsIndex.push(Ge.tileID.key)}R.bindFramebuffer.set(null),R.viewport.set([0,0,S.width,S.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const y of _){const S=this.style._layers[y];if(!S.hasOffscreenPass()||S.isHidden(this.transform.zoom))continue;const k=f[S.source];("custom"===S.type||k.length)&&this.renderLayer(this,w[S.source],S,k)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?v.Color.black:v.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const y=this.style._layers[_[this.currentLayer]],S=w[y.source],k=T[y.source];this._renderTileClippingMasks(y,k),this.renderLayer(this,S,y,k)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const y=this.style._layers[_[this.currentLayer]],S=w[y.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(y))continue;const k=("symbol"===y.type?b:f)[y.source];this._renderTileClippingMasks(y,T[y.source]),this.renderLayer(this,S,y,k)}if(this.options.showTileBoundaries){const y=function(S,k){let R=null;const B=Object.values(S._layers).flatMap(ve=>ve.source&&!ve.isHidden(k)?[S.sourceCaches[ve.source]]:[]),te=B.filter(ve=>"vector"===ve.getSource().type),ae=B.filter(ve=>"vector"!==ve.getSource().type),Ce=ve=>{(!R||R.getSource().maxzoom<ve.getSource().maxzoom)&&(R=ve)};return te.forEach(ve=>Ce(ve)),R||ae.forEach(ve=>Ce(ve)),R}(this.style,this.transform.zoom);y&&function(S,k,R){for(let B=0;B<R.length;B++)md(S,k,R[B])}(this,y,y.getVisibleCoordinates())}this.options.showPadding&&function(y){const S=y.transform.padding;kr(y,y.transform.height-(S.top||0),3,Yd),kr(y,S.bottom||0,3,hd),Rn(y,S.left||0,3,Cc),Rn(y,y.transform.width-(S.right||0),3,Wa);const k=y.transform.centerPoint;var R,B,te,ae;cr(R=y,(B=k.x)-1,(te=y.transform.height-k.y)-10,2,20,ae=jo),cr(R,B-10,te-1,20,2,ae)}(this),this.context.setDefault()}renderLayer(i,d,_,w){if(!_.isHidden(this.transform.zoom)&&("background"===_.type||"custom"===_.type||(w||[]).length))switch(this.id=_.id,_.type){case"symbol":!function(T,f,b,y,S){if("translucent"!==T.renderPass)return;const k=lr.disabled,R=T.colorModeForRenderPass();(b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(B,te,ae,Ce,ve,rt,xt){const Ge=te.transform,dt="map"===ve,kt="map"===rt;for(const Lt of B){const Gt=Ce.getTile(Lt),ai=Gt.getBucket(ae);if(!ai||!ai.text||!ai.text.segments.get().length)continue;const ri=v.evaluateSizeForZoom(ai.textSizeData,Ge.zoom),_i=fe(Gt,1,te.transform.zoom),Ui=et(Lt.posMatrix,kt,dt,te.transform,_i),Sn="none"!==ae.layout.get("icon-text-fit")&&ai.hasIconData();if(ri){const Ti=Math.pow(2,Ge.zoom-Gt.tileID.overscaledZ);xe(ai,dt,kt,xt,Ge,Ui,Lt.posMatrix,Ti,ri,Sn,te.style.map.terrain?(sn,Wi)=>te.style.map.terrain.getElevation(Lt,sn,Wi):null)}}}(y,T,b,f,b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),S),0!==b.paint.get("icon-opacity").constantOr(1)&&Ii(T,f,b,y,!1,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),b.layout.get("icon-rotation-alignment"),b.layout.get("icon-pitch-alignment"),b.layout.get("icon-keep-upright"),k,R),0!==b.paint.get("text-opacity").constantOr(1)&&Ii(T,f,b,y,!0,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),b.layout.get("text-keep-upright"),k,R),f.map.showCollisionBoxes&&(K(T,f,b,y,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),!0),K(T,f,b,y,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),!1))}(i,d,_,w,this.style.placement.variableOffsets);break;case"circle":!function(T,f,b,y){if("translucent"!==T.renderPass)return;const S=b.paint.get("circle-opacity"),k=b.paint.get("circle-stroke-width"),R=b.paint.get("circle-stroke-opacity"),B=!b.layout.get("circle-sort-key").isConstant();if(0===S.constantOr(1)&&(0===k.constantOr(1)||0===R.constantOr(1)))return;const te=T.context,ae=te.gl,Ce=T.depthModeForSublayer(0,Ln.ReadOnly),ve=lr.disabled,rt=T.colorModeForRenderPass(),xt=[];for(let Ge=0;Ge<y.length;Ge++){const dt=y[Ge],kt=f.getTile(dt),Lt=kt.getBucket(b);if(!Lt)continue;const Gt=Lt.programConfigurations.get(b.id),ai=T.useProgram("circle",Gt),ri=Lt.layoutVertexBuffer,_i=Lt.indexBuffer,Ui=T.style.map.terrain&&T.style.map.terrain.getTerrainData(dt),Sn={programConfiguration:Gt,program:ai,layoutVertexBuffer:ri,indexBuffer:_i,uniformValues:js(T,dt,kt,b),terrainData:Ui};if(B){const Ti=Lt.segments.get();for(const sn of Ti)xt.push({segments:new v.SegmentVector([sn]),sortKey:sn.sortKey,state:Sn})}else xt.push({segments:Lt.segments,sortKey:0,state:Sn})}B&&xt.sort((Ge,dt)=>Ge.sortKey-dt.sortKey);for(const Ge of xt){const{programConfiguration:dt,program:kt,layoutVertexBuffer:Lt,indexBuffer:Gt,uniformValues:ai,terrainData:ri}=Ge.state;kt.draw(te,ae.TRIANGLES,Ce,ve,rt,hr.disabled,ai,ri,b.id,Lt,Gt,Ge.segments,b.paint,T.transform.zoom,dt)}}(i,d,_,w);break;case"heatmap":!function(T,f,b,y){if(0!==b.paint.get("heatmap-opacity"))if("offscreen"===T.renderPass){const S=T.context,k=S.gl,R=lr.disabled,B=new nn([k.ONE,k.ONE],v.Color.transparent,[!0,!0,!0,!0]);(function(te,ae,Ce){const ve=te.gl;te.activeTexture.set(ve.TEXTURE1),te.viewport.set([0,0,ae.width/4,ae.height/4]);let rt=Ce.heatmapFbo;if(rt)ve.bindTexture(ve.TEXTURE_2D,rt.colorAttachment.get()),te.bindFramebuffer.set(rt.framebuffer);else{const xt=ve.createTexture();ve.bindTexture(ve.TEXTURE_2D,xt),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,ve.CLAMP_TO_EDGE),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,ve.CLAMP_TO_EDGE),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MAG_FILTER,ve.LINEAR),rt=Ce.heatmapFbo=te.createFramebuffer(ae.width/4,ae.height/4,!1,!1),function(Ge,dt,kt,Lt){var Gt,ai;const ri=Ge.gl,_i=null!==(Gt=Ge.HALF_FLOAT)&&void 0!==Gt?Gt:ri.UNSIGNED_BYTE,Ui=null!==(ai=Ge.RGBA16F)&&void 0!==ai?ai:ri.RGBA;ri.texImage2D(ri.TEXTURE_2D,0,Ui,dt.width/4,dt.height/4,0,ri.RGBA,_i,null),Lt.colorAttachment.set(kt)}(te,ae,xt,rt)}})(S,T,b),S.clear({color:v.Color.transparent});for(let te=0;te<y.length;te++){const ae=y[te];if(f.hasRenderableParent(ae))continue;const Ce=f.getTile(ae),ve=Ce.getBucket(b);if(!ve)continue;const rt=ve.programConfigurations.get(b.id),xt=T.useProgram("heatmap",rt),{zoom:Ge}=T.transform;xt.draw(S,k.TRIANGLES,Ln.disabled,R,B,hr.disabled,mo(ae.posMatrix,Ce,Ge,b.paint.get("heatmap-intensity")),null,b.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,b.paint,T.transform.zoom,rt)}S.viewport.set([0,0,T.width,T.height])}else"translucent"===T.renderPass&&(T.context.setColorMode(T.colorModeForRenderPass()),function(S,k){const R=S.context,B=R.gl,te=k.heatmapFbo;if(!te)return;R.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,te.colorAttachment.get()),R.activeTexture.set(B.TEXTURE1);let ae=k.colorRampTexture;ae||(ae=k.colorRampTexture=new Re(R,k.colorRamp,B.RGBA)),ae.bind(B.LINEAR,B.CLAMP_TO_EDGE),S.useProgram("heatmapTexture").draw(R,B.TRIANGLES,Ln.disabled,lr.disabled,S.colorModeForRenderPass(),hr.disabled,((Ce,ve,rt,xt)=>{const Ge=v.create();v.ortho(Ge,0,Ce.width,Ce.height,0,0,1);const dt=Ce.context.gl;return{u_matrix:Ge,u_world:[dt.drawingBufferWidth,dt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ve.paint.get("heatmap-opacity")}})(S,k),null,k.id,S.viewportBuffer,S.quadTriangleIndexBuffer,S.viewportSegments,k.paint,S.transform.zoom)}(T,b))}(i,d,_,w);break;case"line":!function(T,f,b,y){if("translucent"!==T.renderPass)return;const S=b.paint.get("line-opacity"),k=b.paint.get("line-width");if(0===S.constantOr(1)||0===k.constantOr(1))return;const R=T.depthModeForSublayer(0,Ln.ReadOnly),B=T.colorModeForRenderPass(),te=b.paint.get("line-dasharray"),ae=b.paint.get("line-pattern"),Ce=ae.constantOr(1),ve=b.paint.get("line-gradient"),rt=b.getCrossfadeParameters(),xt=Ce?"linePattern":te?"lineSDF":ve?"lineGradient":"line",Ge=T.context,dt=Ge.gl;let kt=!0;for(const Lt of y){const Gt=f.getTile(Lt);if(Ce&&!Gt.patternsLoaded())continue;const ai=Gt.getBucket(b);if(!ai)continue;const ri=ai.programConfigurations.get(b.id),_i=T.context.program.get(),Ui=T.useProgram(xt,ri),Sn=kt||Ui.program!==_i,Ti=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Lt),sn=ae.constantOr(null);if(sn&&Gt.imageAtlas){const wn=Gt.imageAtlas,xn=wn.patternPositions[sn.to.toString()],Un=wn.patternPositions[sn.from.toString()];xn&&Un&&ri.setConstantPatternPositions(xn,Un)}const Wi=Ti?Lt:null,Gr=Ce?Aa(T,Gt,b,rt,Wi):te?Hs(T,Gt,b,te,rt,Wi):ve?sl(T,Gt,b,ai.lineClipsArray.length,Wi):Dr(T,Gt,b,Wi);if(Ce)Ge.activeTexture.set(dt.TEXTURE0),Gt.imageAtlasTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE),ri.updatePaintBuffers(rt);else if(te&&(Sn||T.lineAtlas.dirty))Ge.activeTexture.set(dt.TEXTURE0),T.lineAtlas.bind(Ge);else if(ve){const wn=ai.gradients[b.id];let xn=wn.texture;if(b.gradientVersion!==wn.version){let Un=256;if(b.stepInterpolant){const Zr=f.getSource().maxzoom,fr=Lt.canonical.z===Zr?Math.ceil(1<<T.transform.maxZoom-Lt.canonical.z):1;Un=v.clamp(v.nextPowerOfTwo(ai.maxLineLength/v.EXTENT*1024*fr),256,Ge.maxTextureSize)}wn.gradient=v.renderColorRamp({expression:b.gradientExpression(),evaluationKey:"lineProgress",resolution:Un,image:wn.gradient||void 0,clips:ai.lineClipsArray}),wn.texture?wn.texture.update(wn.gradient):wn.texture=new Re(Ge,wn.gradient,dt.RGBA),wn.version=b.gradientVersion,xn=wn.texture}Ge.activeTexture.set(dt.TEXTURE0),xn.bind(b.stepInterpolant?dt.NEAREST:dt.LINEAR,dt.CLAMP_TO_EDGE)}Ui.draw(Ge,dt.TRIANGLES,R,T.stencilModeForClipping(Lt),B,hr.disabled,Gr,Ti,b.id,ai.layoutVertexBuffer,ai.indexBuffer,ai.segments,b.paint,T.transform.zoom,ri,ai.layoutVertexBuffer2),kt=!1}}(i,d,_,w);break;case"fill":!function(T,f,b,y){const S=b.paint.get("fill-color"),k=b.paint.get("fill-opacity");if(0===k.constantOr(1))return;const R=T.colorModeForRenderPass(),B=b.paint.get("fill-pattern"),te=T.opaquePassEnabledForLayer()&&!B.constantOr(1)&&1===S.constantOr(v.Color.transparent).a&&1===k.constantOr(0)?"opaque":"translucent";if(T.renderPass===te){const ae=T.depthModeForSublayer(1,"opaque"===T.renderPass?Ln.ReadWrite:Ln.ReadOnly);Gs(T,f,b,y,ae,R,!1)}if("translucent"===T.renderPass&&b.paint.get("fill-antialias")){const ae=T.depthModeForSublayer(b.getPaintProperty("fill-outline-color")?2:0,Ln.ReadOnly);Gs(T,f,b,y,ae,R,!0)}}(i,d,_,w);break;case"fill-extrusion":!function(T,f,b,y){const S=b.paint.get("fill-extrusion-opacity");if(0!==S&&"translucent"===T.renderPass){const k=new Ln(T.context.gl.LEQUAL,Ln.ReadWrite,T.depthRangeFor3D);if(1!==S||b.paint.get("fill-extrusion-pattern").constantOr(1))ca(T,f,b,y,k,lr.disabled,nn.disabled),ca(T,f,b,y,k,T.stencilModeFor3D(),T.colorModeForRenderPass());else{const R=T.colorModeForRenderPass();ca(T,f,b,y,k,lr.disabled,R)}}}(i,d,_,w);break;case"hillshade":!function(T,f,b,y){if("offscreen"!==T.renderPass&&"translucent"!==T.renderPass)return;const S=T.context,k=T.depthModeForSublayer(0,Ln.ReadOnly),R=T.colorModeForRenderPass(),[B,te]="translucent"===T.renderPass?T.stencilConfigForOverlap(y):[{},y];for(const ae of te){const Ce=f.getTile(ae);void 0!==Ce.needsHillshadePrepare&&Ce.needsHillshadePrepare&&"offscreen"===T.renderPass?wc(T,Ce,b,k,lr.disabled,R):"translucent"===T.renderPass&&Za(T,ae,Ce,b,k,B[ae.overscaledZ],R)}S.viewport.set([0,0,T.width,T.height])}(i,d,_,w);break;case"raster":!function(T,f,b,y){if("translucent"!==T.renderPass||0===b.paint.get("raster-opacity")||!y.length)return;const S=T.context,k=S.gl,R=f.getSource(),B=T.useProgram("raster"),te=T.colorModeForRenderPass(),[ae,Ce]=R instanceof Ne?[{},y]:T.stencilConfigForOverlap(y),ve=Ce[Ce.length-1].overscaledZ,rt=!T.options.moving;for(const xt of Ce){const Ge=T.depthModeForSublayer(xt.overscaledZ-ve,1===b.paint.get("raster-opacity")?Ln.ReadWrite:Ln.ReadOnly,k.LESS),dt=f.getTile(xt);dt.registerFadeDuration(b.paint.get("raster-fade-duration"));const kt=f.findLoadedParent(xt,0),Lt=Yl(dt,kt,f,b,T.transform,T.style.map.terrain);let Gt,ai;const ri="nearest"===b.paint.get("raster-resampling")?k.NEAREST:k.LINEAR;S.activeTexture.set(k.TEXTURE0),dt.texture.bind(ri,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),S.activeTexture.set(k.TEXTURE1),kt?(kt.texture.bind(ri,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),Gt=Math.pow(2,kt.tileID.overscaledZ-dt.tileID.overscaledZ),ai=[dt.tileID.canonical.x*Gt%1,dt.tileID.canonical.y*Gt%1]):dt.texture.bind(ri,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST);const _i=T.style.map.terrain&&T.style.map.terrain.getTerrainData(xt),Ui=_i?xt:null,Sn=Ui?Ui.posMatrix:T.transform.calculatePosMatrix(xt.toUnwrapped(),rt),Ti=br(Sn,ai||[0,0],Gt||1,Lt,b);R instanceof Ne?B.draw(S,k.TRIANGLES,Ge,lr.disabled,te,hr.disabled,Ti,_i,b.id,R.boundsBuffer,T.quadTriangleIndexBuffer,R.boundsSegments):B.draw(S,k.TRIANGLES,Ge,ae[xt.overscaledZ],te,hr.disabled,Ti,_i,b.id,T.rasterBoundsBuffer,T.quadTriangleIndexBuffer,T.rasterBoundsSegments)}}(i,d,_,w);break;case"background":!function(T,f,b,y){const S=b.paint.get("background-color"),k=b.paint.get("background-opacity");if(0===k)return;const R=T.context,B=R.gl,te=T.transform,ae=te.tileSize,Ce=b.paint.get("background-pattern");if(T.isPatternMissing(Ce))return;const ve=!Ce&&1===S.a&&1===k&&T.opaquePassEnabledForLayer()?"opaque":"translucent";if(T.renderPass!==ve)return;const rt=lr.disabled,xt=T.depthModeForSublayer(0,"opaque"===ve?Ln.ReadWrite:Ln.ReadOnly),Ge=T.colorModeForRenderPass(),dt=T.useProgram(Ce?"backgroundPattern":"background"),kt=y||te.coveringTiles({tileSize:ae,terrain:T.style.map.terrain});Ce&&(R.activeTexture.set(B.TEXTURE0),T.imageManager.bind(T.context));const Lt=b.getCrossfadeParameters();for(const Gt of kt){const ai=y?Gt.posMatrix:T.transform.calculatePosMatrix(Gt.toUnwrapped()),ri=Ce?Sr(ai,k,T,Ce,{tileID:Gt,tileSize:ae},Lt):Oo(ai,k,S),_i=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Gt);dt.draw(R,B.TRIANGLES,xt,rt,Ge,hr.disabled,ri,_i,b.id,T.tileExtentBuffer,T.quadTriangleIndexBuffer,T.tileExtentSegments)}}(i,0,_,w);break;case"custom":!function(T,f,b){const y=T.context,S=b.implementation;if("offscreen"===T.renderPass){const k=S.prerender;k&&(T.setCustomLayerDefaults(),y.setColorMode(T.colorModeForRenderPass()),k.call(S,y.gl,T.transform.customLayerMatrix()),y.setDirty(),T.setBaseState())}else if("translucent"===T.renderPass){T.setCustomLayerDefaults(),y.setColorMode(T.colorModeForRenderPass()),y.setStencilMode(lr.disabled);const k="3d"===S.renderingMode?new Ln(T.context.gl.LEQUAL,Ln.ReadWrite,T.depthRangeFor3D):T.depthModeForSublayer(0,Ln.ReadOnly);y.setDepthMode(k),S.render(y.gl,T.transform.customLayerMatrix()),y.setDirty(),T.setBaseState(),y.bindFramebuffer.set(null)}}(i,0,_)}}translatePosMatrix(i,d,_,w,T){if(!_[0]&&!_[1])return i;const f=T?"map"===w?this.transform.angle:0:"viewport"===w?-this.transform.angle:0;if(f){const S=Math.sin(f),k=Math.cos(f);_=[_[0]*k-_[1]*S,_[0]*S+_[1]*k]}const b=[T?_[0]:fe(d,_[0],this.transform.zoom),T?_[1]:fe(d,_[1],this.transform.zoom),0],y=new Float32Array(16);return v.translate(y,i,b),y}saveTileTexture(i){const d=this._tileTextures[i.size[0]];d?d.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const d=this._tileTextures[i];return d&&d.length>0?d.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const d=this.imageManager.getPattern(i.from.toString()),_=this.imageManager.getPattern(i.to.toString());return!d||!_}useProgram(i,d){this.cache=this.cache||{};const _=i+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[_]||(this.cache[_]=new Qn(this.context,Ur[i],d,Or[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Re(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:d}=this.context.gl;return this.width!==i||this.height!==d}}class Yn{constructor(i,d){this.points=i,this.planes=d}static fromInvProjectionMatrix(i,d,_){const w=Math.pow(2,_),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(b=>{const y=1/(b=v.transformMat4([],b,i))[3]/d*w;return v.mul$1(b,b,[y,y,1/b[3],y])}),f=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(b=>{const y=function(B,te){var ae=te[0],Ce=te[1],ve=te[2],rt=ae*ae+Ce*Ce+ve*ve;return rt>0&&(rt=1/Math.sqrt(rt)),B[0]=te[0]*rt,B[1]=te[1]*rt,B[2]=te[2]*rt,B}([],(B=[],te=Di([],T[b[0]],T[b[1]]),ae=Di([],T[b[2]],T[b[1]]),Ce=te[0],xt=ae[0],B[0]=(ve=te[1])*(dt=ae[2])-(rt=te[2])*(Ge=ae[1]),B[1]=rt*xt-Ce*dt,B[2]=Ce*Ge-ve*xt,B)),S=-((k=y)[0]*(R=T[b[1]])[0]+k[1]*R[1]+k[2]*R[2]);var B,te,ae,Ce,ve,rt,xt,Ge,dt,k,R;return y.concat(S)});return new Yn(T,f)}}class qo{constructor(i,d){var _,w,T;this.min=i,this.max=d,this.center=function(_,w,T){return _[0]=.5*w[0],_[1]=.5*w[1],_[2]=.5*w[2],_}([],((_=[])[0]=(w=this.min)[0]+(T=this.max)[0],_[1]=w[1]+T[1],_[2]=w[2]+T[2],_))}quadrant(i){const d=[i%2==0,i<2],_=Vt(this.min),w=Vt(this.max);for(let T=0;T<d.length;T++)_[T]=d[T]?this.min[T]:this.center[T],w[T]=d[T]?this.center[T]:this.max[T];return w[2]=this.max[2],new qo(_,w)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let _=!0;for(let w=0;w<i.planes.length;w++){const T=i.planes[w];let f=0;for(let b=0;b<d.length;b++)v.dot(T,d[b])>=0&&f++;if(0===f)return 0;f!==d.length&&(_=!1)}if(_)return 2;for(let w=0;w<3;w++){let T=Number.MAX_VALUE,f=-Number.MAX_VALUE;for(let b=0;b<i.points.length;b++){const y=i.points[b][w]-this.min[w];T=Math.min(T,y),f=Math.max(f,y)}if(f<0||T>this.max[w]-this.min[w])return 0}return 1}}class cl{constructor(i=0,d=0,_=0,w=0){if(isNaN(i)||i<0||isNaN(d)||d<0||isNaN(_)||_<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=d,this.left=_,this.right=w}interpolate(i,d,_){return null!=d.top&&null!=i.top&&(this.top=v.interpolate.number(i.top,d.top,_)),null!=d.bottom&&null!=i.bottom&&(this.bottom=v.interpolate.number(i.bottom,d.bottom,_)),null!=d.left&&null!=i.left&&(this.left=v.interpolate.number(i.left,d.left,_)),null!=d.right&&null!=i.right&&(this.right=v.interpolate.number(i.right,d.right,_)),this}getCenter(i,d){const _=v.clamp((this.left+i-this.right)/2,0,i),w=v.clamp((this.top+d-this.bottom)/2,0,d);return new v.Point(_,w)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new cl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Ra{constructor(i,d,_,w,T){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===T||!!T,this._minZoom=i||0,this._maxZoom=d||22,this._minPitch=_??0,this._maxPitch=w??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new v.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new cl,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const i=new Ra(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this._minEleveationForCurrentTile=i._minEleveationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){void 0===i?i=!0:null===i&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new v.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const d=-v.wrap(i,-180,180)*Math.PI/180;var _;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(_=new v.ARRAY_TYPE(4),v.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),function(_,w,T){var f=w[0],b=w[1],y=w[2],S=w[3],k=Math.sin(T),R=Math.cos(T);_[0]=f*R+y*k,_[1]=b*R+S*k,_[2]=f*-k+y*R,_[3]=b*-k+S*R}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const d=v.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const d=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,d,_){this._unmodified=!1,this._edgeInsets.interpolate(i,d,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const d=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(i){const d=[new v.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const _=this.pointCoordinate(new v.Point(0,0)),w=this.pointCoordinate(new v.Point(this.width,0)),T=this.pointCoordinate(new v.Point(this.width,this.height)),f=this.pointCoordinate(new v.Point(0,this.height)),b=Math.floor(Math.min(_.x,w.x,T.x,f.x)),y=Math.floor(Math.max(_.x,w.x,T.x,f.x)),S=1;for(let k=b-S;k<=y+S;k++)0!==k&&d.push(new v.UnwrappedTileID(k,i))}return d}coveringTiles(i){var d,_;let w=this.coveringZoomLevel(i);const T=w;if(void 0!==i.minzoom&&w<i.minzoom)return[];void 0!==i.maxzoom&&w>i.maxzoom&&(w=i.maxzoom);const f=this.pointCoordinate(this.getCameraPoint()),b=v.MercatorCoordinate.fromLngLat(this.center),y=Math.pow(2,w),S=[y*f.x,y*f.y,0],k=[y*b.x,y*b.y,0],R=Yn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w);let B=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(B=w);const te=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ae=Ge=>({aabb:new qo([Ge*y,0,0],[(Ge+1)*y,y,0]),zoom:0,x:0,y:0,wrap:Ge,fullyVisible:!1}),Ce=[],ve=[],rt=w,xt=i.reparseOverscaled?T:w;if(this._renderWorldCopies)for(let Ge=1;Ge<=3;Ge++)Ce.push(ae(-Ge)),Ce.push(ae(Ge));for(Ce.push(ae(0));Ce.length>0;){const Ge=Ce.pop(),dt=Ge.x,kt=Ge.y;let Lt=Ge.fullyVisible;if(!Lt){const Ui=Ge.aabb.intersects(R);if(0===Ui)continue;Lt=2===Ui}const Gt=i.terrain?S:k,ai=Ge.aabb.distanceX(Gt),ri=Ge.aabb.distanceY(Gt),_i=Math.max(Math.abs(ai),Math.abs(ri));if(Ge.zoom===rt||_i>te+(1<<rt-Ge.zoom)-2&&Ge.zoom>=B){const Ui=rt-Ge.zoom,Sn=S[0]-.5-(dt<<Ui),Ti=S[1]-.5-(kt<<Ui);ve.push({tileID:new v.OverscaledTileID(Ge.zoom===rt?xt:Ge.zoom,Ge.wrap,Ge.zoom,dt,kt),distanceSq:ti([k[0]-.5-dt,k[1]-.5-kt]),tileDistanceToCamera:Math.sqrt(Sn*Sn+Ti*Ti)})}else for(let Ui=0;Ui<4;Ui++){const Sn=(dt<<1)+Ui%2,Ti=(kt<<1)+(Ui>>1),sn=Ge.zoom+1;let Wi=Ge.aabb.quadrant(Ui);if(i.terrain){const Gr=new v.OverscaledTileID(sn,Ge.wrap,sn,Sn,Ti),wn=i.terrain.getMinMaxElevation(Gr),xn=null!==(d=wn.minElevation)&&void 0!==d?d:this.elevation,Un=null!==(_=wn.maxElevation)&&void 0!==_?_:this.elevation;Wi=new qo([Wi.min[0],Wi.min[1],xn],[Wi.max[0],Wi.max[1],Un])}Ce.push({aabb:Wi,zoom:sn,x:Sn,y:Ti,wrap:Ge.wrap,fullyVisible:Lt})}}return ve.sort((Ge,dt)=>Ge.distanceSq-dt.distanceSq).map(Ge=>Ge.tileID)}resize(i,d){this.width=i,this.height=d,this.pixelsToGLUnits=[2/i,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const d=v.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new v.Point(v.mercatorXfromLng(i.lng)*this.worldSize,v.mercatorYfromLat(d)*this.worldSize)}unproject(i){return new v.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const d=this.pointLocation(this.centerPoint,i),_=i.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-_))return;const w=this.getCameraPosition(),T=v.MercatorCoordinate.fromLngLat(w.lngLat,w.altitude),f=v.MercatorCoordinate.fromLngLat(d,_),b=T.x-f.x,y=T.y-f.y,S=T.z-f.z,k=Math.sqrt(b*b+y*y+S*S),R=this.scaleZoom(this.cameraToCenterDistance/k/this.tileSize);this._elevation=_,this._center=d,this.zoom=R}setLocationAtPoint(i,d){const _=this.pointCoordinate(d),w=this.pointCoordinate(this.centerPoint),T=this.locationCoordinate(i),f=new v.MercatorCoordinate(T.x-(_.x-w.x),T.y-(_.y-w.y));this.center=this.coordinateLocation(f),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,d){return d?this.coordinatePoint(this.locationCoordinate(i),d.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,d){return this.coordinateLocation(this.pointCoordinate(i,d))}locationCoordinate(i){return v.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,d){if(d){const B=d.pointCoordinate(i);if(null!=B)return B}const _=[i.x,i.y,0,1],w=[i.x,i.y,1,1];v.transformMat4(_,_,this.pixelMatrixInverse),v.transformMat4(w,w,this.pixelMatrixInverse);const T=_[3],f=w[3],b=_[1]/T,y=w[1]/f,S=_[2]/T,k=w[2]/f,R=S===k?0:(0-S)/(k-S);return new v.MercatorCoordinate(v.interpolate.number(_[0]/T,w[0]/f,R)/this.worldSize,v.interpolate.number(b,y,R)/this.worldSize)}coordinatePoint(i,d=0,_=this.pixelMatrix){const w=[i.x*this.worldSize,i.y*this.worldSize,d,1];return v.transformMat4(w,w,_),new v.Point(w[0]/w[3],w[1]/w[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return(new vt).extend(this.pointLocation(new v.Point(0,i))).extend(this.pointLocation(new v.Point(this.width,i))).extend(this.pointLocation(new v.Point(this.width,this.height))).extend(this.pointLocation(new v.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new vt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,d=!1){const _=i.key,w=d?this._alignedPosMatrixCache:this._posMatrixCache;if(w[_])return w[_];const T=i.canonical,f=this.worldSize/this.zoomScale(T.z),b=T.x+Math.pow(2,T.z)*i.wrap,y=v.identity(new Float64Array(16));return v.translate(y,y,[b*f,T.y*f,0]),v.scale(y,y,[f/v.EXTENT,f/v.EXTENT,1]),v.multiply(y,d?this.alignedProjMatrix:this.projMatrix,y),w[_]=new Float32Array(y),w[_]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,d,_,w,T=-90,f=90,b=-180,y=180;const S=this.size,k=this._unmodified;if(this.latRange){const te=this.latRange;T=v.mercatorYfromLat(te[1])*this.worldSize,f=v.mercatorYfromLat(te[0])*this.worldSize,i=f-T<S.y?S.y/(f-T):0}if(this.lngRange){const te=this.lngRange;b=v.wrap(v.mercatorXfromLng(te[0])*this.worldSize,0,this.worldSize),y=v.wrap(v.mercatorXfromLng(te[1])*this.worldSize,0,this.worldSize),y<b&&(y+=this.worldSize),d=y-b<S.x?S.x/(y-b):0}const R=this.point,B=Math.max(d||0,i||0);if(B)return this.center=this.unproject(new v.Point(d?(y+b)/2:R.x,i?(f+T)/2:R.y)),this.zoom+=this.scaleZoom(B),this._unmodified=k,void(this._constraining=!1);if(this.latRange){const te=R.y,ae=S.y/2;te-ae<T&&(w=T+ae),te+ae>f&&(w=f-ae)}if(this.lngRange){const te=(b+y)/2,ae=v.wrap(R.x,te-this.worldSize/2,te+this.worldSize/2),Ce=S.x/2;ae-Ce<b&&(_=b+Ce),ae+Ce>y&&(_=y-Ce)}void 0===_&&void 0===w||(this.center=this.unproject(new v.Point(void 0!==_?_:R.x,void 0!==w?w:R.y)).wrap()),this._unmodified=k,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,d=this.point.x,_=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=v.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let w=v.identity(new Float64Array(16));v.scale(w,w,[this.width/2,-this.height/2,1]),v.translate(w,w,[1,-1,0]),this.labelPlaneMatrix=w,w=v.identity(new Float64Array(16)),v.scale(w,w,[1,-1,1]),v.translate(w,w,[-1,-1,0]),v.scale(w,w,[2/this.width,2/this.height,1]),this.glCoordMatrix=w;const T=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),f=Math.min(this.elevation,this._minEleveationForCurrentTile),b=T-f*this._pixelPerMeter/Math.cos(this._pitch),y=f<0?b:T,S=Math.PI/2+this._pitch,k=this._fov*(.5+i.y/this.height),R=Math.sin(k)*y/Math.sin(v.clamp(Math.PI-S-k,.01,Math.PI-.01)),B=this.getHorizon(),te=2*Math.atan(B/this.cameraToCenterDistance)*(.5+i.y/(2*B)),ae=Math.sin(te)*y/Math.sin(v.clamp(Math.PI-S-te,.01,Math.PI-.01)),Ce=Math.min(R,ae),ve=1.01*(Math.cos(Math.PI/2-this._pitch)*Ce+y),rt=this.height/50;w=new Float64Array(16),v.perspective(w,this._fov,this.width/this.height,rt,ve),w[8]=2*-i.x/this.width,w[9]=2*i.y/this.height,v.scale(w,w,[1,-1,1]),v.translate(w,w,[0,0,-this.cameraToCenterDistance]),v.rotateX(w,w,this._pitch),v.rotateZ(w,w,this.angle),v.translate(w,w,[-d,-_,0]),this.mercatorMatrix=v.scale([],w,[this.worldSize,this.worldSize,this.worldSize]),v.scale(w,w,[1,1,this._pixelPerMeter]),this.pixelMatrix=v.multiply(new Float64Array(16),this.labelPlaneMatrix,w),v.translate(w,w,[0,0,-this.elevation]),this.projMatrix=w,this.invProjMatrix=v.invert([],w),this.pixelMatrix3D=v.multiply(new Float64Array(16),this.labelPlaneMatrix,w);const xt=this.width%2/2,Ge=this.height%2/2,dt=Math.cos(this.angle),kt=Math.sin(this.angle),Lt=d-Math.round(d)+dt*xt+kt*Ge,Gt=_-Math.round(_)+dt*Ge+kt*xt,ai=new Float64Array(w);if(v.translate(ai,ai,[Lt>.5?Lt-1:Lt,Gt>.5?Gt-1:Gt,0]),this.alignedProjMatrix=ai,w=v.invert(new Float64Array(16),this.pixelMatrix),!w)throw new Error("failed to invert matrix");this.pixelMatrixInverse=w,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new v.Point(0,0)),d=[i.x*this.worldSize,i.y*this.worldSize,0,1];return v.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new v.Point(0,i))}getCameraQueryGeometry(i){const d=this.getCameraPoint();if(1===i.length)return[i[0],d];{let _=d.x,w=d.y,T=d.x,f=d.y;for(const b of i)_=Math.min(_,b.x),w=Math.min(w,b.y),T=Math.max(T,b.x),f=Math.max(f,b.y);return[new v.Point(_,w),new v.Point(T,w),new v.Point(T,f),new v.Point(_,f),new v.Point(_,w)]}}}function Tr(E,i){let d,_=!1,w=null,T=null;const f=()=>{w=null,_&&(E.apply(T,d),w=setTimeout(f,i),_=!1)};return(...b)=>(_=!0,T=this,d=b,w||f(),w)}class Lo{constructor(i){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let _;return d.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(_=w)}),(_&&_[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(_=>isNaN(_))){const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:_,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=Tr(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const d=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,w=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),T=Math.pow(10,w),f=Math.round(d.lng*T)/T,b=Math.round(d.lat*T)/T,y=this._map.getBearing(),S=this._map.getPitch();let k="";if(k+=i?`/${f}/${b}/${_}`:`${_}/${b}/${f}`,(y||S)&&(k+="/"+Math.round(10*y)/10),S&&(k+=`/${Math.round(S)}`),this._hashName){const R=this._hashName;let B=!1;const te=window.location.hash.slice(1).split("&").map(ae=>{const Ce=ae.split("=")[0];return Ce===R?(B=!0,`${Ce}=${k}`):ae}).filter(ae=>ae);return B||te.push(`${R}=${k}`),`#${te.join("&")}`}return`#${k}`}}const Ir={linearity:.3,easing:v.bezier(0,0,.3,1)},Al=v.extend({deceleration:2500,maxSpeed:1400},Ir),fs=v.extend({deceleration:20,maxSpeed:1400},Ir),Qr=v.extend({deceleration:1e3,maxSpeed:360},Ir),kl=v.extend({deceleration:1e3,maxSpeed:90},Ir);class Kl{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:v.browser.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,d=v.browser.now();for(;i.length>0&&d-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new v.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:T}of this._inertiaBuffer)d.zoom+=T.zoomDelta||0,d.bearing+=T.bearingDelta||0,d.pitch+=T.pitchDelta||0,T.panDelta&&d.pan._add(T.panDelta),T.around&&(d.around=T.around),T.pinchAround&&(d.pinchAround=T.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(d.pan.mag()){const T=rs(d.pan.mag(),_,v.extend({},Al,i||{}));w.offset=d.pan.mult(T.amount/d.pan.mag()),w.center=this._map.transform.center,Yo(w,T)}if(d.zoom){const T=rs(d.zoom,_,fs);w.zoom=this._map.transform.zoom+T.amount,Yo(w,T)}if(d.bearing){const T=rs(d.bearing,_,Qr);w.bearing=this._map.transform.bearing+v.clamp(T.amount,-179,179),Yo(w,T)}if(d.pitch){const T=rs(d.pitch,_,kl);w.pitch=this._map.transform.pitch+T.amount,Yo(w,T)}if(w.zoom||w.bearing){const T=void 0===d.pinchAround?d.around:d.pinchAround;w.around=T?this._map.unproject(T):this._map.getCenter()}return this.clear(),v.extend(w,{noMoveStart:!0})}}function Yo(E,i){(!E.duration||E.duration<i.duration)&&(E.duration=i.duration,E.easing=i.easing)}function rs(E,i,d){const{maxSpeed:_,linearity:w,deceleration:T}=d,f=v.clamp(E*w/(i/1e3),-_,_),b=Math.abs(f)/(T*w);return{easing:d.easing,duration:1e3*b,amount:f*(b/2)}}class Ko extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_,w={}){const T=ne.mousePos(d.getCanvasContainer(),_),f=d.unproject(T);super(i,v.extend({point:T,lngLat:f,originalEvent:_},w)),this._defaultPrevented=!1,this.target=d}}class Ts extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_){const w="touchend"===i?_.changedTouches:_.touches,T=ne.touchPos(d.getCanvasContainer(),w),f=T.map(y=>d.unproject(y)),b=T.reduce((y,S,k,R)=>y.add(S.div(R.length)),new v.Point(0,0));super(i,{points:T,point:b,lngLats:f,lngLat:d.unproject(b),originalEvent:_}),this._defaultPrevented=!1}}class dl extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_){super(i,{originalEvent:_}),this._defaultPrevented=!1}}class eo{constructor(i,d){this._map=i,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new dl(i.type,this._map,i))}mousedown(i,d){return this._mousedownPos=d,this._firePreventable(new Ko(i.type,this._map,i))}mouseup(i){this._map.fire(new Ko(i.type,this._map,i))}click(i,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Ko(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Ko(i.type,this._map,i))}mouseover(i){this._map.fire(new Ko(i.type,this._map,i))}mouseout(i){this._map.fire(new Ko(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Ts(i.type,this._map,i))}touchmove(i){this._map.fire(new Ts(i.type,this._map,i))}touchend(i){this._map.fire(new Ts(i.type,this._map,i))}touchcancel(i){this._map.fire(new Ts(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ul{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Ko(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ko("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Ko(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class qa{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(v.Point.convert(i),this._map.terrain)}}class Xl{constructor(i,d){this._map=i,this._tr=new qa(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,d){this.isEnabled()&&i.shiftKey&&0===i.button&&(ne.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(i,d){if(!this._active)return;const _=d;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=_,this._box||(this._box=ne.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const T=Math.min(w.x,_.x),f=Math.max(w.x,_.x),b=Math.min(w.y,_.y),y=Math.max(w.y,_.y);ne.setTransform(this._box,`translate(${T}px,${b}px)`),this._box.style.width=f-T+"px",this._box.style.height=y-b+"px"}mouseupWindow(i,d){if(!this._active||0!==i.button)return;const _=this._startPos,w=d;if(this.reset(),ne.suppressClick(),_.x!==w.x||_.y!==w.y)return this._map.fire(new v.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:T=>T.fitScreenCoordinates(_,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&27===i.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(ne.remove(this._box),this._box=null),ne.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,d){return this._map.fire(new v.Event(i,{originalEvent:d}))}}function Pl(E,i){if(E.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${E.length}, points ${i.length}`);const d={};for(let _=0;_<E.length;_++)d[E[_].identifier]=i[_];return d}class da{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,d,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=i.timeStamp),_.length===this.numTouches&&(this.centroid=function(w){const T=new v.Point(0,0);for(const f of w)T._add(f);return T.div(w.length)}(d),this.touches=Pl(_,d)))}touchmove(i,d,_){if(this.aborted||!this.centroid)return;const w=Pl(_,d);for(const T in this.touches){const f=w[T];(!f||f.dist(this.touches[T])>30)&&(this.aborted=!0)}}touchend(i,d,_){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),0===_.length){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class to{constructor(i){this.singleTap=new da(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,d,_){this.singleTap.touchstart(i,d,_)}touchmove(i,d,_){this.singleTap.touchmove(i,d,_)}touchend(i,d,_){const w=this.singleTap.touchend(i,d,_);if(w){const T=i.timeStamp-this.lastTime<500,f=!this.lastTap||this.lastTap.dist(w)<30;if(T&&f||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class qc{constructor(i){this._tr=new qa(i),this._zoomIn=new to({numTouches:1,numTaps:2}),this._zoomOut=new to({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,d,_){this._zoomIn.touchstart(i,d,_),this._zoomOut.touchstart(i,d,_)}touchmove(i,d,_){this._zoomIn.touchmove(i,d,_),this._zoomOut.touchmove(i,d,_)}touchend(i,d,_){const w=this._zoomIn.touchend(i,d,_),T=this._zoomOut.touchend(i,d,_),f=this._tr;return w?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:b=>b.easeTo({duration:300,zoom:f.zoom+1,around:f.unproject(w)},{originalEvent:i})}):T?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:b=>b.easeTo({duration:300,zoom:f.zoom-1,around:f.unproject(T)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xo{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const d=this._moveFunction(...i);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(i,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,d){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const w=d.length?d[0]:d;return!this._moved&&w.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(_,w))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&ne.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const er={0:1,2:2};class No{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const d=ne.mouseButton(i);this._eventButton=d}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(d,_){const w=er[_];return void 0===d.buttons||(d.buttons&w)!==w}(i,this._eventButton)}isValidEndEvent(i){return ne.mouseButton(i)===this._eventButton}}class F{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return 1===i.targetTouches.length}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const ee=E=>{E.mousedown=E.dragStart,E.mousemoveWindow=E.dragMove,E.mouseup=E.dragEnd,E.contextmenu=function(i){i.preventDefault()}},Z=({enable:E,clickTolerance:i,bearingDegreesPerPixelMoved:d=.8})=>{const _=new No({checkCorrectEvent:w=>0===ne.mouseButton(w)&&w.ctrlKey||2===ne.mouseButton(w)});return new Xo({clickTolerance:i,move:(w,T)=>({bearingDelta:(T.x-w.x)*d}),moveStateManager:_,enable:E,assignEvents:ee})},me=({enable:E,clickTolerance:i,pitchDegreesPerPixelMoved:d=-.5})=>{const _=new No({checkCorrectEvent:w=>0===ne.mouseButton(w)&&w.ctrlKey||2===ne.mouseButton(w)});return new Xo({clickTolerance:i,move:(w,T)=>({pitchDelta:(T.y-w.y)*d}),moveStateManager:_,enable:E,assignEvents:ee})};class Ue{constructor(i,d){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new v.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,d,_){return this._calculateTransform(i,d,_)}touchmove(i,d,_){if(this._map._cooperativeGestures&&(2===this._minTouches&&_.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,_.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(_.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,d,_)}touchend(i,d,_){this._calculateTransform(i,d,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,d,_){_.length>0&&(this._active=!0);const w=Pl(_,d),T=new v.Point(0,0),f=new v.Point(0,0);let b=0;for(const S in w){const k=w[S],R=this._touches[S];R&&(T._add(k),f._add(k.sub(R)),b++,w[S]=k)}if(this._touches=w,b<this._minTouches||!f.mag())return;const y=f.div(b);return this._sum._add(y),this._sum.mag()<this._clickTolerance?void 0:{around:T.div(b),panDelta:y}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class it{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,d,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([d[0],d[1]]))}touchmove(i,d,_){if(!this._firstTwoTouches)return;i.preventDefault();const[w,T]=this._firstTwoTouches,f=Wt(_,d,w),b=Wt(_,d,T);if(!f||!b)return;const y=this._aroundCenter?null:f.add(b).div(2);return this._move([f,b],y,i)}touchend(i,d,_){if(!this._firstTwoTouches)return;const[w,T]=this._firstTwoTouches,f=Wt(_,d,w),b=Wt(_,d,T);f&&b||(this._active&&ne.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Wt(E,i,d){for(let _=0;_<E.length;_++)if(E[_].identifier===d)return i[_]}function Vi(E,i){return Math.log(E/i)/Math.LN2}class Kn extends it{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,d){const _=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Vi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Vi(this._distance,_),pinchAround:d}}}function Vn(E,i){return 180*E.angleWith(i)/Math.PI}class Qt extends it{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,d){const _=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vn(this._vector,_),pinchAround:d}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const d=25/(Math.PI*this._minDiameter)*360,_=Vn(i,this._startVector);return Math.abs(_)<d}}function Dn(E){return Math.abs(E.y)>Math.abs(E.x)}class Lr extends it{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,d,_){super.touchstart(i,d,_),this._currentTouchCount=_.length}_start(i){this._lastPoints=i,Dn(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,d,_){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const w=i[0].sub(this._lastPoints[0]),T=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,T,_.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(w.y+T.y)/2*-.5}):void 0}gestureBeginsVertically(i,d,_){if(void 0!==this._valid)return this._valid;const w=i.mag()>=2,T=d.mag()>=2;if(!w&&!T)return;if(!w||!T)return void 0===this._firstMove&&(this._firstMove=_),_-this._firstMove<100&&void 0;const f=i.y>0==d.y>0;return Dn(i)&&Dn(d)&&f}}const Jn={panStep:100,bearingStep:15,pitchStep:10};class Nr{constructor(i){this._tr=new qa(i);const d=Jn;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let d=0,_=0,w=0,T=0,f=0;switch(i.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:i.shiftKey?_=-1:(i.preventDefault(),T=-1);break;case 39:i.shiftKey?_=1:(i.preventDefault(),T=1);break;case 38:i.shiftKey?w=1:(i.preventDefault(),f=-1);break;case 40:i.shiftKey?w=-1:(i.preventDefault(),f=1);break;default:return}return this._rotationDisabled&&(_=0,w=0),{cameraAnimation:b=>{const y=this._tr;b.easeTo({duration:300,easeId:"keyboardHandler",easing:ua,zoom:d?Math.round(y.zoom)+d*(i.shiftKey?2:1):y.zoom,bearing:y.bearing+_*this._bearingStep,pitch:y.pitch+w*this._pitchStep,offset:[-T*this._panStep,-f*this._panStep],center:y.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ua(E){return E*(2-E)}const Ji=4.000244140625;class ha{constructor(i,d){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=i,this._tr=new qa(i),this._el=i.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!i[this._map._metaKey])return;i.preventDefault()}let d=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const _=v.browser.now(),w=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,0!==d&&d%Ji==0?this._type="wheel":0!==d&&Math.abs(d)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(w*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),i.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=i,this._delta-=d,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=ne.mousePos(this._el,i),_=this._tr;this._around=v.LngLat.convert(this._aroundCenter?_.center:_.unproject(d)),this._aroundPoint=_.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(0!==this._delta){const b="wheel"===this._type&&Math.abs(this._delta)>Ji?this._wheelZoomRate:this._defaultZoomRate;let y=2/(1+Math.exp(-Math.abs(this._delta*b)));this._delta<0&&0!==y&&(y=1/y);const S="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(S*y))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d="number"==typeof this._targetZoom?this._targetZoom:i.zoom,_=this._startZoom,w=this._easing;let T,f=!1;if("wheel"===this._type&&_&&w){const b=Math.min((v.browser.now()-this._lastWheelEventTime)/200,1),y=w(b);T=v.interpolate.number(_,d,y),b<1?this._frameId||(this._frameId=!0):f=!0}else T=d,f=!0;return this._active=!0,f&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!f,zoomDelta:T-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let d=v.defaultEasing;if(this._prevEase){const _=this._prevEase,w=(v.browser.now()-_.start)/_.duration,T=_.easing(w+.01)-_.easing(w),f=.27/Math.sqrt(T*T+1e-4)*.01,b=Math.sqrt(.0729-f*f);d=v.bezier(f,b,.25,1)}return this._prevEase={start:v.browser.now(),duration:i,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Zs{constructor(i,d){this._clickZoom=i,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class zr{constructor(i){this._tr=new qa(i),this.reset()}reset(){this._active=!1}dblclick(i,d){return i.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ma{constructor(){this._tap=new to({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,d,_){if(!this._swipePoint)if(this._tapTime){const w=d[0],T=i.timeStamp-this._tapTime<500,f=this._tapPoint.dist(w)<30;T&&f?_.length>0&&(this._swipePoint=w,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(i,d,_)}touchmove(i,d,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const w=d[0],T=w.y-this._swipePoint.y;return this._swipePoint=w,i.preventDefault(),this._active=!0,{zoomDelta:T/128}}}else this._tap.touchmove(i,d,_)}touchend(i,d,_){if(this._tapTime)this._swipePoint&&0===_.length&&this.reset();else{const w=this._tap.touchend(i,d,_);w&&(this._tapTime=i.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Is{constructor(i,d,_){this._el=i,this._mousePan=d,this._touchPan=_}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class gn{constructor(i,d,_){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=d,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class go{constructor(i,d,_,w){this._el=i,this._touchZoom=d,this._touchRotate=_,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ws=E=>E.zoom||E.drag||E.pitch||E.rotate;class pd extends v.Event{}function Ec(E){return E.panDelta&&E.panDelta.mag()||E.zoomDelta||E.bearingDelta||E.pitchDelta}class Yc{constructor(i,d){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,T)=>{if("blur"===w.type)return void this.stop(!0);this._updatingCamera=!0;const f="renderFrame"===w.type?void 0:w,b={needsRenderFrame:!1},y={},S={},k=w.touches,R=k?this._getMapTouches(k):void 0,B=R?ne.touchPos(this._el,R):ne.mousePos(this._el,w);for(const{handlerName:Ce,handler:ve,allowed:rt}of this._handlers){if(!ve.isEnabled())continue;let xt;this._blockedByActive(S,rt,Ce)?ve.reset():ve[T||w.type]&&(xt=ve[T||w.type](w,B,R),this.mergeHandlerResult(b,y,xt,Ce,f),xt&&xt.needsRenderFrame&&this._triggerRenderFrame()),(xt||ve.isActive())&&(S[Ce]=ve)}const te={};for(const Ce in this._previousActiveHandlers)S[Ce]||(te[Ce]=f);this._previousActiveHandlers=S,(Object.keys(te).length||Ec(b))&&(this._changes.push([b,y,te]),this._triggerRenderFrame()),(Object.keys(S).length||Ec(b))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ae}=b;ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ae(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Kl(i),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,T,f]of this._listeners)ne.addEventListener(w,T,w===document?this.handleWindowEvent:this.handleEvent,f)}destroy(){for(const[i,d,_]of this._listeners)ne.removeEventListener(i,d,i===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(i){const d=this._map,_=d.getCanvasContainer();this._add("mapEvent",new eo(d,i));const w=d.boxZoom=new Xl(d,i);this._add("boxZoom",w),i.interactive&&i.boxZoom&&w.enable();const T=new qc(d),f=new zr(d);d.doubleClickZoom=new Zs(f,T),this._add("tapZoom",T),this._add("clickZoom",f),i.interactive&&i.doubleClickZoom&&d.doubleClickZoom.enable();const b=new ma;this._add("tapDragZoom",b);const y=d.touchPitch=new Lr(d);this._add("touchPitch",y),i.interactive&&i.touchPitch&&d.touchPitch.enable(i.touchPitch);const S=Z(i),k=me(i);d.dragRotate=new gn(i,S,k),this._add("mouseRotate",S,["mousePitch"]),this._add("mousePitch",k,["mouseRotate"]),i.interactive&&i.dragRotate&&d.dragRotate.enable();const R=(({enable:rt,clickTolerance:xt})=>{const Ge=new No({checkCorrectEvent:dt=>0===ne.mouseButton(dt)&&!dt.ctrlKey});return new Xo({clickTolerance:xt,move:(dt,kt)=>({around:kt,panDelta:kt.sub(dt)}),activateOnStart:!0,moveStateManager:Ge,enable:rt,assignEvents:ee})})(i),B=new Ue(i,d);d.dragPan=new Is(_,R,B),this._add("mousePan",R),this._add("touchPan",B,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&d.dragPan.enable(i.dragPan);const te=new Qt,ae=new Kn;d.touchZoomRotate=new go(_,ae,te,b),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",ae,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&d.touchZoomRotate.enable(i.touchZoomRotate);const Ce=d.scrollZoom=new ha(d,()=>this._triggerRenderFrame());this._add("scrollZoom",Ce,["mousePan"]),i.interactive&&i.scrollZoom&&d.scrollZoom.enable(i.scrollZoom);const ve=d.keyboard=new Nr(d);this._add("keyboard",ve),i.interactive&&i.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new ul(d))}_add(i,d,_){this._handlers.push({handlerName:i,handler:d,allowed:_}),this._handlersById[i]=d}stop(i){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ws(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,d,_){for(const w in i)if(w!==_&&(!d||d.indexOf(w)<0))return!0;return!1}_getMapTouches(i){const d=[];for(const _ of i)this._el.contains(_.target)&&d.push(_);return d}mergeHandlerResult(i,d,_,w,T){if(!_)return;v.extend(i,_);const f={handlerName:w,originalEvent:_.originalEvent||T};void 0!==_.zoomDelta&&(d.zoom=f),void 0!==_.panDelta&&(d.drag=f),void 0!==_.pitchDelta&&(d.pitch=f),void 0!==_.bearingDelta&&(d.rotate=f)}_applyChanges(){const i={},d={},_={};for(const[w,T,f]of this._changes)w.panDelta&&(i.panDelta=(i.panDelta||new v.Point(0,0))._add(w.panDelta)),w.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+w.pitchDelta),void 0!==w.around&&(i.around=w.around),void 0!==w.pinchAround&&(i.pinchAround=w.pinchAround),w.noInertia&&(i.noInertia=w.noInertia),v.extend(d,T),v.extend(_,f);this._updateMapTransform(i,d,_),this._changes=[]}_updateMapTransform(i,d,_){const w=this._map,T=w._getTransformForUpdate(),f=w.terrain;if(!(Ec(i)||f&&this._terrainMovement))return this._fireEvents(d,_,!0);let{panDelta:b,zoomDelta:y,bearingDelta:S,pitchDelta:k,around:R,pinchAround:B}=i;void 0!==B&&(R=B),w._stop(!0),R=R||w.transform.centerPoint;const te=T.pointLocation(b?R.sub(b):R);S&&(T.bearing+=S),k&&(T.pitch+=k),y&&(T.zoom+=y),f?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?T.center=T.pointLocation(T.centerPoint.sub(b)):T.setLocationAtPoint(te,R):(this._terrainMovement=!0,this._map._elevationFreeze=!0,T.setLocationAtPoint(te,R),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,T.recalculateZoom(w.terrain)})):T.setLocationAtPoint(te,R),w._applyUpdatedTransform(T),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(d,_,!0)}_fireEvents(i,d,_){const w=Ws(this._eventsInProgress),T=Ws(i),f={};for(const k in i){const{originalEvent:R}=i[k];this._eventsInProgress[k]||(f[`${k}start`]=R),this._eventsInProgress[k]=i[k]}!w&&T&&this._fireEvent("movestart",T.originalEvent);for(const k in f)this._fireEvent(k,f[k]);T&&this._fireEvent("move",T.originalEvent);for(const k in i){const{originalEvent:R}=i[k];this._fireEvent(k,R)}const b={};let y;for(const k in this._eventsInProgress){const{handlerName:R,originalEvent:B}=this._eventsInProgress[k];this._handlersById[R].isActive()||(delete this._eventsInProgress[k],y=d[R]||B,b[`${k}end`]=y)}for(const k in b)this._fireEvent(k,b[k]);const S=Ws(this._eventsInProgress);if(_&&(w||T)&&!S){this._updatingCamera=!0;const k=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),R=B=>0!==B&&-this._bearingSnap<B&&B<this._bearingSnap;!k||!k.essential&&v.browser.prefersReducedMotion?(this._map.fire(new v.Event("moveend",{originalEvent:y})),R(this._map.getBearing())&&this._map.resetNorth()):(R(k.bearing||this._map.getBearing())&&(k.bearing=0),k.freezeElevation=!0,this._map.easeTo(k,{originalEvent:y})),this._updatingCamera=!1}}_fireEvent(i,d){this._map.fire(new v.Event(i,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new pd("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class gs extends v.Evented{constructor(i,d){super(),this._renderFrameCallback=()=>{const _=Math.min((v.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new v.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,d){return this.jumpTo({center:i},d)}panBy(i,d,_){return i=v.Point.convert(i).mult(-1),this.panTo(this.transform.center,v.extend({offset:i},d),_)}panTo(i,d,_){return this.easeTo(v.extend({center:i},d),_)}getZoom(){return this.transform.zoom}setZoom(i,d){return this.jumpTo({zoom:i},d),this}zoomTo(i,d,_){return this.easeTo(v.extend({zoom:i},d),_)}zoomIn(i,d){return this.zoomTo(this.getZoom()+1,i,d),this}zoomOut(i,d){return this.zoomTo(this.getZoom()-1,i,d),this}getBearing(){return this.transform.bearing}setBearing(i,d){return this.jumpTo({bearing:i},d),this}getPadding(){return this.transform.padding}setPadding(i,d){return this.jumpTo({padding:i},d),this}rotateTo(i,d,_){return this.easeTo(v.extend({bearing:i},d),_)}resetNorth(i,d){return this.rotateTo(0,v.extend({duration:1e3},i),d),this}resetNorthPitch(i,d){return this.easeTo(v.extend({bearing:0,pitch:0,duration:1e3},i),d),this}snapToNorth(i,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,d):this}getPitch(){return this.transform.pitch}setPitch(i,d){return this.jumpTo({pitch:i},d),this}cameraForBounds(i,d){i=vt.convert(i);const _=d&&d.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),_,d)}_cameraForBoxAndBearing(i,d,_,w){const T={top:0,bottom:0,right:0,left:0};if("number"==typeof(w=v.extend({padding:T,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding){const kt=w.padding;w.padding={top:kt,bottom:kt,right:kt,left:kt}}w.padding=v.extend(T,w.padding);const f=this.transform,b=f.padding,y=f.project(v.LngLat.convert(i)),S=f.project(v.LngLat.convert(d)),k=y.rotate(-_*Math.PI/180),R=S.rotate(-_*Math.PI/180),B=new v.Point(Math.max(k.x,R.x),Math.max(k.y,R.y)),te=new v.Point(Math.min(k.x,R.x),Math.min(k.y,R.y)),ae=B.sub(te),Ce=(f.width-(b.left+b.right+w.padding.left+w.padding.right))/ae.x,ve=(f.height-(b.top+b.bottom+w.padding.top+w.padding.bottom))/ae.y;if(ve<0||Ce<0)return void v.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const rt=Math.min(f.scaleZoom(f.scale*Math.min(Ce,ve)),w.maxZoom),xt=v.Point.convert(w.offset),Ge=new v.Point((w.padding.left-w.padding.right)/2,(w.padding.top-w.padding.bottom)/2).rotate(_*Math.PI/180),dt=xt.add(Ge).mult(f.scale/f.zoomScale(rt));return{center:f.unproject(y.add(S).div(2).sub(dt)),zoom:rt,bearing:_}}fitBounds(i,d,_){return this._fitInternal(this.cameraForBounds(i,d),d,_)}fitScreenCoordinates(i,d,_,w,T){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(v.Point.convert(i)),this.transform.pointLocation(v.Point.convert(d)),_,w),w,T)}_fitInternal(i,d,_){return i?(delete(d=v.extend(i,d)).padding,d.linear?this.easeTo(d,_):this.flyTo(d,_)):this}jumpTo(i,d){this.stop();const _=this._getTransformForUpdate();let w=!1,T=!1,f=!1;return"zoom"in i&&_.zoom!==+i.zoom&&(w=!0,_.zoom=+i.zoom),void 0!==i.center&&(_.center=v.LngLat.convert(i.center)),"bearing"in i&&_.bearing!==+i.bearing&&(T=!0,_.bearing=+i.bearing),"pitch"in i&&_.pitch!==+i.pitch&&(f=!0,_.pitch=+i.pitch),null==i.padding||_.isPaddingEqual(i.padding)||(_.padding=i.padding),this._applyUpdatedTransform(_),this.fire(new v.Event("movestart",d)).fire(new v.Event("move",d)),w&&this.fire(new v.Event("zoomstart",d)).fire(new v.Event("zoom",d)).fire(new v.Event("zoomend",d)),T&&this.fire(new v.Event("rotatestart",d)).fire(new v.Event("rotate",d)).fire(new v.Event("rotateend",d)),f&&this.fire(new v.Event("pitchstart",d)).fire(new v.Event("pitch",d)).fire(new v.Event("pitchend",d)),this.fire(new v.Event("moveend",d))}calculateCameraOptionsFromTo(i,d,_,w=0){const T=v.MercatorCoordinate.fromLngLat(i,d),f=v.MercatorCoordinate.fromLngLat(_,w),b=f.x-T.x,y=f.y-T.y,S=f.z-T.z,k=Math.hypot(b,y,S);if(0===k)throw new Error("Can't calculate camera options with same From and To");const R=Math.hypot(b,y),B=this.transform.scaleZoom(this.transform.cameraToCenterDistance/k/this.transform.tileSize),te=180*Math.atan2(b,-y)/Math.PI;let ae=180*Math.acos(R/k)/Math.PI;return ae=S<0?90-ae:90+ae,{center:f.toLngLat(),zoom:B,pitch:ae,bearing:te}}easeTo(i,d){this._stop(!1,i.easeId),(!1===(i=v.extend({offset:[0,0],duration:500,easing:v.defaultEasing},i)).animate||!i.essential&&v.browser.prefersReducedMotion)&&(i.duration=0);const _=this._getTransformForUpdate(),w=this.getZoom(),T=this.getBearing(),f=this.getPitch(),b=this.getPadding(),y="zoom"in i?+i.zoom:w,S="bearing"in i?this._normalizeBearing(i.bearing,T):T,k="pitch"in i?+i.pitch:f,R="padding"in i?i.padding:_.padding,B=v.Point.convert(i.offset);let te=_.centerPoint.add(B);const ae=_.pointLocation(te),Ce=v.LngLat.convert(i.center||ae);this._normalizeCenter(Ce);const ve=_.project(ae),rt=_.project(Ce).sub(ve),xt=_.zoomScale(y-w);let Ge,dt;i.around&&(Ge=v.LngLat.convert(i.around),dt=_.locationPoint(Ge));const kt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||y!==w,this._rotating=this._rotating||T!==S,this._pitching=this._pitching||k!==f,this._padding=!_.isPaddingEqual(R),this._easeId=i.easeId,this._prepareEase(d,i.noMoveStart,kt),this.terrain&&this._prepareElevation(Ce),this._ease(Lt=>{if(this._zooming&&(_.zoom=v.interpolate.number(w,y,Lt)),this._rotating&&(_.bearing=v.interpolate.number(T,S,Lt)),this._pitching&&(_.pitch=v.interpolate.number(f,k,Lt)),this._padding&&(_.interpolatePadding(b,R,Lt),te=_.centerPoint.add(B)),this.terrain&&!i.freezeElevation&&this._updateElevation(Lt),Ge)_.setLocationAtPoint(Ge,dt);else{const Gt=_.zoomScale(_.zoom-w),ai=y>w?Math.min(2,xt):Math.max(.5,xt),ri=Math.pow(ai,1-Lt),_i=_.unproject(ve.add(rt.mult(Lt*ri)).mult(Gt));_.setLocationAtPoint(_.renderWorldCopies?_i.wrap():_i,te)}this._applyUpdatedTransform(_),this._fireMoveEvents(d)},Lt=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Lt)},i),this}_prepareEase(i,d,_={}){this._moving=!0,d||_.moving||this.fire(new v.Event("movestart",i)),this._zooming&&!_.zooming&&this.fire(new v.Event("zoomstart",i)),this._rotating&&!_.rotating&&this.fire(new v.Event("rotatestart",i)),this._pitching&&!_.pitching&&this.fire(new v.Event("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&d!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(_-(d-(_*i+this._elevationStart))/(1-i)),this._elevationTarget=d}this.transform.elevation=v.interpolate.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(i){if(!this.transformCameraUpdate)return;const d=i.clone(),{center:_,zoom:w,pitch:T,bearing:f,elevation:b}=this.transformCameraUpdate(d);_&&(d.center=_),void 0!==w&&(d.zoom=w),void 0!==T&&(d.pitch=T),void 0!==f&&(d.bearing=f),void 0!==b&&(d.elevation=b),this.transform.apply(d)}_fireMoveEvents(i){this.fire(new v.Event("move",i)),this._zooming&&this.fire(new v.Event("zoom",i)),this._rotating&&this.fire(new v.Event("rotate",i)),this._pitching&&this.fire(new v.Event("pitch",i))}_afterEase(i,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const _=this._zooming,w=this._rotating,T=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new v.Event("zoomend",i)),w&&this.fire(new v.Event("rotateend",i)),T&&this.fire(new v.Event("pitchend",i)),this.fire(new v.Event("moveend",i))}flyTo(i,d){if(!i.essential&&v.browser.prefersReducedMotion){const Wi=v.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Wi,d)}this.stop(),i=v.extend({offset:[0,0],speed:1.2,curve:1.42,easing:v.defaultEasing},i);const _=this._getTransformForUpdate(),w=this.getZoom(),T=this.getBearing(),f=this.getPitch(),b=this.getPadding(),y="zoom"in i?v.clamp(+i.zoom,_.minZoom,_.maxZoom):w,S="bearing"in i?this._normalizeBearing(i.bearing,T):T,k="pitch"in i?+i.pitch:f,R="padding"in i?i.padding:_.padding,B=_.zoomScale(y-w),te=v.Point.convert(i.offset);let ae=_.centerPoint.add(te);const Ce=_.pointLocation(ae),ve=v.LngLat.convert(i.center||Ce);this._normalizeCenter(ve);const rt=_.project(Ce),xt=_.project(ve).sub(rt);let Ge=i.curve;const dt=Math.max(_.width,_.height),kt=dt/B,Lt=xt.mag();if("minZoom"in i){const Wi=v.clamp(Math.min(i.minZoom,w,y),_.minZoom,_.maxZoom),Gr=dt/_.zoomScale(Wi-w);Ge=Math.sqrt(Gr/Lt*2)}const Gt=Ge*Ge;function ai(Wi){const Gr=(kt*kt-dt*dt+(Wi?-1:1)*Gt*Gt*Lt*Lt)/(2*(Wi?kt:dt)*Gt*Lt);return Math.log(Math.sqrt(Gr*Gr+1)-Gr)}function ri(Wi){return(Math.exp(Wi)-Math.exp(-Wi))/2}function _i(Wi){return(Math.exp(Wi)+Math.exp(-Wi))/2}const Ui=ai(!1);let Sn=function(Wi){return _i(Ui)/_i(Ui+Ge*Wi)},Ti=function(Wi){return dt*((_i(Ui)*(ri(Gr=Ui+Ge*Wi)/_i(Gr))-ri(Ui))/Gt)/Lt;var Gr},sn=(ai(!0)-Ui)/Ge;if(Math.abs(Lt)<1e-6||!isFinite(sn)){if(Math.abs(dt-kt)<1e-6)return this.easeTo(i,d);const Wi=kt<dt?-1:1;sn=Math.abs(Math.log(kt/dt))/Ge,Ti=function(){return 0},Sn=function(Gr){return Math.exp(Wi*Ge*Gr)}}return i.duration="duration"in i?+i.duration:1e3*sn/("screenSpeed"in i?+i.screenSpeed/Ge:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=T!==S,this._pitching=k!==f,this._padding=!_.isPaddingEqual(R),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ve),this._ease(Wi=>{const Gr=Wi*sn,wn=1/Sn(Gr);_.zoom=1===Wi?y:w+_.scaleZoom(wn),this._rotating&&(_.bearing=v.interpolate.number(T,S,Wi)),this._pitching&&(_.pitch=v.interpolate.number(f,k,Wi)),this._padding&&(_.interpolatePadding(b,R,Wi),ae=_.centerPoint.add(te)),this.terrain&&!i.freezeElevation&&this._updateElevation(Wi);const xn=1===Wi?ve:_.unproject(rt.add(xt.mult(Ti(Gr))).mult(wn));_.setLocationAtPoint(_.renderWorldCopies?xn.wrap():xn,ae),this._applyUpdatedTransform(_),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,d)}if(!i){const _=this.handlers;_&&_.stop(!1)}return this}_ease(i,d,_){!1===_.animate||0===_.duration?(i(1),d()):(this._easeStart=v.browser.now(),this._easeOptions=_,this._onEaseFrame=i,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,d){i=v.wrap(i,-180,180);const _=Math.abs(i-d);return Math.abs(i-360-d)<_&&(i-=360),Math.abs(i+360-d)<_&&(i+=360),i}_normalizeCenter(i){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const _=i.lng-d.center.lng;i.lng+=_>180?-360:_<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(v.LngLat.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}class oi{constructor(i={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||"metadata"!==d.sourceDataType&&"visibility"!==d.sourceDataType&&"style"!==d.dataType&&"terrain"!==d.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=ne.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=ne.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ne.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){ne.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,d){const _=this._map._getUIString(`AttributionControl.${d}`);i.title=_,i.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(w=>"string"!=typeof w?"":w)):"string"==typeof this.options.customAttribution&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const d=this._map.style.sourceCaches;for(const w in d){const T=d[w];if(T.used||T.usedForTerrain){const f=T.getSource();f.attribution&&i.indexOf(f.attribution)<0&&i.push(f.attribution)}}i=i.filter(w=>String(w).trim()),i.sort((w,T)=>w.length-T.length),i=i.filter((w,T)=>{for(let f=T+1;f<i.length;f++)if(i[f].indexOf(w)>=0)return!1;return!0});const _=i.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,i.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ln{constructor(i={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const _=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=ne.create("div","maplibregl-ctrl");const d=ne.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ne.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class pr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const d=++this._id;return this._queue.push({callback:i,id:d,cancelled:!1}),d}remove(i){const d=this._currentlyRunning,_=d?this._queue.concat(d):this._queue;for(const w of _)if(w.id===i)return void(w.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const _ of d)if(!_.cancelled&&(_.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const As={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Co=v.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Ol extends v.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,d){this.sourceCache.update(i,d),this._renderableTilesKeys=[];const _={};for(const w of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))_[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.posMatrix=new Float64Array(16),v.ortho(w.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),this._tiles[w.key]=new ot(w,this.tileSize));for(const w in this._tiles)_[w]||delete this._tiles[w]}freeRtt(i){for(const d in this._tiles){const _=this._tiles[d];(!i||_.tileID.equals(i)||_.tileID.isChildOf(i)||i.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const d={};for(const _ of this._renderableTilesKeys){const w=this._tiles[_].tileID;if(w.canonical.equals(i.canonical)){const T=i.clone();T.posMatrix=new Float64Array(16),v.ortho(T.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),d[_]=T}else if(w.canonical.isChildOf(i.canonical)){const T=i.clone();T.posMatrix=new Float64Array(16);const f=w.canonical.z-i.canonical.z,b=w.canonical.x-(w.canonical.x>>f<<f),y=w.canonical.y-(w.canonical.y>>f<<f),S=v.EXTENT>>f;v.ortho(T.posMatrix,0,S,0,S,0,1),v.translate(T.posMatrix,T.posMatrix,[-b*S,-y*S,0]),d[_]=T}else if(i.canonical.isChildOf(w.canonical)){const T=i.clone();T.posMatrix=new Float64Array(16);const f=i.canonical.z-w.canonical.z,b=i.canonical.x-(i.canonical.x>>f<<f),y=i.canonical.y-(i.canonical.y>>f<<f),S=v.EXTENT>>f;v.ortho(T.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),v.translate(T.posMatrix,T.posMatrix,[b*S,y*S,0]),v.scale(T.posMatrix,T.posMatrix,[1/2**f,1/2**f,0]),d[_]=T}}return d}getSourceTile(i,d){const _=this.sourceCache._source;let w=i.overscaledZ-this.deltaZoom;if(w>_.maxzoom&&(w=_.maxzoom),w<_.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(w).key);let T=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!T||!T.dem)&&d)for(;w>=_.minzoom&&(!T||!T.dem);)T=this.sourceCache.getTileByID(i.scaledTo(w--).key);return T}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=i)}}class Jl{constructor(i,d,_){this.painter=i,this.sourceCache=new Ol(d),this.options=_,this.exaggeration="number"==typeof _.exaggeration?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,d,_,w=v.EXTENT){var T;if(!(d>=0&&d<w&&_>=0&&_<w))return 0;const f=this.getTerrainData(i),b=null===(T=f.tile)||void 0===T?void 0:T.dem;if(!b)return 0;const y=((ae=[])[0]=(ve=f.u_terrain_matrix)[0]*(rt=(Ce=[d/w*v.EXTENT,_/w*v.EXTENT])[0])+ve[4]*(xt=Ce[1])+ve[12],ae[1]=ve[1]*rt+ve[5]*xt+ve[13],ae),S=[y[0]*b.dim,y[1]*b.dim],k=Math.floor(S[0]),R=Math.floor(S[1]),B=S[0]-k,te=S[1]-R;var ae,Ce,ve,rt,xt;return b.get(k,R)*(1-B)*(1-te)+b.get(k+1,R)*B*(1-te)+b.get(k,R+1)*(1-B)*te+b.get(k+1,R+1)*B*te}getElevationForLngLatZoom(i,d){const{tileID:_,mercatorX:w,mercatorY:T}=this._getOverscaledTileIDFromLngLatZoom(i,d);return this.getElevation(_,w%v.EXTENT,T%v.EXTENT,v.EXTENT)}getElevation(i,d,_,w=v.EXTENT){return this.getDEMElevation(i,d,_,w)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const w=this.painter.context,T=new v.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Re(w,T,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Re(w,new v.RGBAImage({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=v.identity([])}const d=this.sourceCache.getSourceTile(i,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const w=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Re(w,d.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),d.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const _=d&&d+d.tileID.key+i.key;if(_&&!this._demMatrixCache[_]){const w=this.sourceCache.sourceCache._source.maxzoom;let T=i.canonical.z-d.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=w?T=i.canonical.z-w:v.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const f=i.canonical.x-(i.canonical.x>>T<<T),b=i.canonical.y-(i.canonical.y>>T<<T),y=v.fromScaling(new Float64Array(16),[1/(v.EXTENT<<T),1/(v.EXTENT<<T),0]);v.translate(y,y,[f*v.EXTENT,b*v.EXTENT,0]),this._demMatrixCache[i.key]={matrix:y,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(i){const d=this.painter,_=d.width/devicePixelRatio,w=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Re(d.context,{width:_,height:w,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Re(d.context,{width:_,height:w,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(_,w,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,_,w))),this._fbo.colorAttachment.set("coords"===i?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let T=0,f=0;T<this._coordsTextureSize;T++)for(let b=0;b<this._coordsTextureSize;b++,f+=4)d[f+0]=255&b,d[f+1]=255&T,d[f+2]=b>>8<<4|T>>8,d[f+3]=0;const _=new v.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),w=new Re(i,_,i.gl.RGBA,{premultiply:!1});return w.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(i){const d=new Uint8Array(4),_=this.painter.context,w=_.gl;_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null);const T=d[0]+(d[2]>>4<<8),f=d[1]+((15&d[2])<<8),b=this.coordsIndex[255-d[3]],y=b&&this.sourceCache.getTileByID(b);if(!y)return null;const S=this._coordsTextureSize,k=(1<<y.tileID.canonical.z)*S;return new v.MercatorCoordinate((y.tileID.canonical.x*S+T)/k,(y.tileID.canonical.y*S+f)/k,this.getElevation(y.tileID,T,f,S))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,d=new v.Pos3dArray,_=new v.TriangleIndexArray,w=this.meshSize,T=v.EXTENT/w,f=w*w;for(let R=0;R<=w;R++)for(let B=0;B<=w;B++)d.emplaceBack(B*T,R*T,0);for(let R=0;R<f;R+=w+1)for(let B=0;B<w;B++)_.emplaceBack(B+R,w+B+R+1,w+B+R+2),_.emplaceBack(B+R,w+B+R+2,B+R+1);const b=d.length,y=b+2*(w+1);for(const R of[0,1])for(let B=0;B<=w;B++)for(const te of[0,1])d.emplaceBack(B*T,R*v.EXTENT,te);for(let R=0;R<2*w;R+=2)_.emplaceBack(y+R,y+R+1,y+R+3),_.emplaceBack(y+R,y+R+3,y+R+2),_.emplaceBack(b+R,b+R+3,b+R+1),_.emplaceBack(b+R,b+R+2,b+R+3);const S=d.length,k=S+2*(w+1);for(const R of[0,1])for(let B=0;B<=w;B++)for(const te of[0,1])d.emplaceBack(R*v.EXTENT,B*T,te);for(let R=0;R<2*w;R+=2)_.emplaceBack(S+R,S+R+1,S+R+3),_.emplaceBack(S+R,S+R+3,S+R+2),_.emplaceBack(k+R,k+R+3,k+R+1),_.emplaceBack(k+R,k+R+2,k+R+3);return this._mesh={indexBuffer:i.createIndexBuffer(_),vertexBuffer:i.createVertexBuffer(d,Co.members),segments:v.SegmentVector.simpleSegment(0,0,d.length,_.length)},this._mesh}getMeshFrameDelta(i){return 2*Math.PI*v.earthRadius/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,d){var _;const{tileID:w}=this._getOverscaledTileIDFromLngLatZoom(i,d);return null!==(_=this.getMinMaxElevation(w).minElevation)&&void 0!==_?_:0}getMinMaxElevation(i){const d=this.getTerrainData(i).tile,_={minElevation:null,maxElevation:null};return d&&d.dem&&(_.minElevation=d.dem.min*this.exaggeration,_.maxElevation=d.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(i,d){const _=v.MercatorCoordinate.fromLngLat(i.wrap()),w=(1<<d)*v.EXTENT,T=_.x*w,f=_.y*w,b=Math.floor(T/v.EXTENT),y=Math.floor(f/v.EXTENT);return{tileID:new v.OverscaledTileID(d,0,d,b,y),mercatorX:T,mercatorY:f}}}class Ma{constructor(i,d,_){this._context=i,this._size=d,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new Re(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(_.texture),{id:i,fbo:d,texture:_,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>i.id!==d),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(i=>!i.inUse)}}const Fa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ks{constructor(i,d){this.painter=i,this.terrain=d,this.pool=new Ma(i.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(_=>!i._layers[_].isHidden(d)),this._coordsDescendingInv={};for(const _ in i.sourceCaches){this._coordsDescendingInv[_]={};const w=i.sourceCaches[_].getVisibleCoordinates();for(const T of w){const f=this.terrain.sourceCache.getTerrainCoords(T);for(const b in f)this._coordsDescendingInv[_][b]||(this._coordsDescendingInv[_][b]=[]),this._coordsDescendingInv[_][b].push(f[b])}}this._coordsDescendingInvStr={};for(const _ of i._order){const w=i._layers[_],T=w.source;if(Fa[w.type]&&!this._coordsDescendingInvStr[T]){this._coordsDescendingInvStr[T]={};for(const f in this._coordsDescendingInv[T])this._coordsDescendingInvStr[T][f]=this._coordsDescendingInv[T][f].map(b=>b.key).sort().join()}}for(const _ of this._renderableTiles)for(const w in this._coordsDescendingInvStr){const T=this._coordsDescendingInvStr[w][_.tileID.key];T&&T!==_.rttCoords[w]&&(_.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const d=i.type,_=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(Fa[d]&&(this._prevType&&Fa[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(i.id),!w))return!0;if(Fa[this._prevType]||Fa[d]&&w){this._prevType=d;const T=this._stacks.length-1,f=this._stacks[T]||[];for(const b of this._renderableTiles){if(this.pool.isFull()&&(Ss(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(b),b.rtt[T]){const S=this.pool.getObjectForId(b.rtt[T].id);if(S.stamp===b.rtt[T].stamp){this.pool.useObject(S);continue}}const y=this.pool.getOrCreateFreeObject();this.pool.useObject(y),this.pool.stampObject(y),b.rtt[T]={id:y.id,stamp:y.stamp},_.context.bindFramebuffer.set(y.fbo.framebuffer),_.context.clear({color:v.Color.transparent,stencil:0}),_.currentStencilSource=void 0;for(let S=0;S<f.length;S++){const k=_.style._layers[f[S]],R=k.source?this._coordsDescendingInv[k.source][b.tileID.key]:[b.tileID];_.context.viewport.set([0,0,y.fbo.width,y.fbo.height]),_._renderTileClippingMasks(k,R),_.renderLayer(_,_.style.sourceCaches[k.source],k,R),k.source&&(b.rttCoords[k.source]=this._coordsDescendingInvStr[k.source][b.tileID.key])}}return Ss(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Fa[d]}return!1}}const qi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:v.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},en=E=>{E.touchstart=E.dragStart,E.touchmoveWindow=E.dragMove,E.touchend=E.dragEnd},Ho={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ps{constructor(i,d,_=!1){this.mousedown=f=>{this.startMouse(v.extend({},f,{ctrlKey:!0,preventDefault:()=>f.preventDefault()}),ne.mousePos(this.element,f)),ne.addEventListener(window,"mousemove",this.mousemove),ne.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=f=>{this.moveMouse(f,ne.mousePos(this.element,f))},this.mouseup=f=>{this.mouseRotate.dragEnd(f),this.mousePitch&&this.mousePitch.dragEnd(f),this.offTemp()},this.touchstart=f=>{1!==f.targetTouches.length?this.reset():(this._startPos=this._lastPos=ne.touchPos(this.element,f.targetTouches)[0],this.startTouch(f,this._startPos),ne.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.addEventListener(window,"touchend",this.touchend))},this.touchmove=f=>{1!==f.targetTouches.length?this.reset():(this._lastPos=ne.touchPos(this.element,f.targetTouches)[0],this.moveTouch(f,this._lastPos))},this.touchend=f=>{0===f.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const w=i.dragRotate._mouseRotate.getClickTolerance(),T=i.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=Z({clickTolerance:w,enable:!0}),this.touchRotate=(({enable:f,clickTolerance:b,bearingDegreesPerPixelMoved:y=.8})=>{const S=new F;return new Xo({clickTolerance:b,move:(k,R)=>({bearingDelta:(R.x-k.x)*y}),moveStateManager:S,enable:f,assignEvents:en})})({clickTolerance:w,enable:!0}),this.map=i,_&&(this.mousePitch=me({clickTolerance:T,enable:!0}),this.touchPitch=(({enable:f,clickTolerance:b,pitchDegreesPerPixelMoved:y=-.5})=>{const S=new F;return new Xo({clickTolerance:b,move:(k,R)=>({pitchDelta:(R.y-k.y)*y}),moveStateManager:S,enable:f,assignEvents:en})})({clickTolerance:T,enable:!0})),ne.addEventListener(d,"mousedown",this.mousedown),ne.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),ne.addEventListener(d,"touchcancel",this.reset)}startMouse(i,d){this.mouseRotate.dragStart(i,d),this.mousePitch&&this.mousePitch.dragStart(i,d),ne.disableDrag()}startTouch(i,d){this.touchRotate.dragStart(i,d),this.touchPitch&&this.touchPitch.dragStart(i,d),ne.disableDrag()}moveMouse(i,d){const _=this.map,{bearingDelta:w}=this.mouseRotate.dragMove(i,d)||{};if(w&&_.setBearing(_.getBearing()+w),this.mousePitch){const{pitchDelta:T}=this.mousePitch.dragMove(i,d)||{};T&&_.setPitch(_.getPitch()+T)}}moveTouch(i,d){const _=this.map,{bearingDelta:w}=this.touchRotate.dragMove(i,d)||{};if(w&&_.setBearing(_.getBearing()+w),this.touchPitch){const{pitchDelta:T}=this.touchPitch.dragMove(i,d)||{};T&&_.setPitch(_.getPitch()+T)}}off(){const i=this.element;ne.removeEventListener(i,"mousedown",this.mousedown),ne.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),ne.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.removeEventListener(window,"touchend",this.touchend),ne.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){ne.enableDrag(),ne.removeEventListener(window,"mousemove",this.mousemove),ne.removeEventListener(window,"mouseup",this.mouseup),ne.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.removeEventListener(window,"touchend",this.touchend)}}let pa;function Br(E,i,d){if(E=new v.LngLat(E.lng,E.lat),i){const _=new v.LngLat(E.lng-360,E.lat),w=new v.LngLat(E.lng+360,E.lat),T=d.locationPoint(E).distSqr(i);d.locationPoint(_).distSqr(i)<T?E=_:d.locationPoint(w).distSqr(i)<T&&(E=w)}for(;Math.abs(E.lng-d.center.lng)>180;){const _=d.locationPoint(E);if(_.x>=0&&_.y>=0&&_.x<=d.width&&_.y<=d.height)break;E.lng>d.center.lng?E.lng-=360:E.lng+=360}return E}const fa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function os(E,i,d){const _=E.classList;for(const w in fa)_.remove(`maplibregl-${d}-anchor-${w}`);_.add(`maplibregl-${d}-anchor-${i}`)}class Mc extends v.Evented{constructor(i){if(super(),this._onKeyPress=d=>{const _=d.code,w=d.charCode||d.keyCode;"Space"!==_&&"Enter"!==_&&32!==w&&13!==w||this.togglePopup()},this._onMapClick=d=>{const _=d.originalEvent.target,w=this._element;this._popup&&(_===w||w.contains(_))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();("terrain"===d?.type||"render"===d?.type&&!_)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Br(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let w="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?w=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(w=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let T="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?T="rotateX(0deg)":"map"===this._pitchAlignment&&(T=`rotateX(${this._map.getPitch()}deg)`),d&&"moveend"!==d.type||(this._pos=this._pos.round()),ne.setTransform(this._element,`${fa[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${T} ${w}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const f=this._map.unproject(this._pos),b=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=f.distanceTo(this._lngLat)>20*b?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new v.Event("dragstart"))),this.fire(new v.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new v.Event("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=v.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ne.create("div"),this._element.setAttribute("aria-label","Map marker");const d=ne.createNS("http://www.w3.org/2000/svg","svg"),_=41,w=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${_}px`),d.setAttributeNS(null,"width",`${w}px`),d.setAttributeNS(null,"viewBox",`0 0 ${w} ${_}`);const T=ne.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const f=ne.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill-rule","nonzero");const b=ne.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(3.0, 29.0)"),b.setAttributeNS(null,"fill","#000000");const y=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const rt of y){const xt=ne.createNS("http://www.w3.org/2000/svg","ellipse");xt.setAttributeNS(null,"opacity","0.04"),xt.setAttributeNS(null,"cx","10.5"),xt.setAttributeNS(null,"cy","5.80029008"),xt.setAttributeNS(null,"rx",rt.rx),xt.setAttributeNS(null,"ry",rt.ry),b.appendChild(xt)}const S=ne.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill",this._color);const k=ne.createNS("http://www.w3.org/2000/svg","path");k.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),S.appendChild(k);const R=ne.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"opacity","0.25"),R.setAttributeNS(null,"fill","#000000");const B=ne.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),R.appendChild(B);const te=ne.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ae=ne.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ce=ne.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#000000"),Ce.setAttributeNS(null,"opacity","0.25"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962");const ve=ne.createNS("http://www.w3.org/2000/svg","circle");ve.setAttributeNS(null,"fill","#FFFFFF"),ve.setAttributeNS(null,"cx","5.5"),ve.setAttributeNS(null,"cy","5.5"),ve.setAttributeNS(null,"r","5.4999962"),ae.appendChild(Ce),ae.appendChild(ve),f.appendChild(b),f.appendChild(S),f.appendChild(R),f.appendChild(te),f.appendChild(ae),d.appendChild(f),d.setAttributeNS(null,"height",_*this._scale+"px"),d.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(d),this._offset=v.Point.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),os(this._element,this._anchor,"marker"),i&&i.className)for(const d of i.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ne.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=v.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const w=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(24.6+w)],"bottom-right":[-w,-1*(24.6+w)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(i){return this._offset=v.Point.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&"auto"!==i?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Dc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let xr=0,wr=!1;const Sc={maxWidth:100,unit:"metric"};function Ya(E,i,d){const _=d&&d.maxWidth||100,w=E._container.clientHeight/2,T=E.unproject([0,w]),f=E.unproject([_,w]),b=T.distanceTo(f);if(d&&"imperial"===d.unit){const y=3.2808*b;y>5280?Da(i,_,y/5280,E._getUIString("ScaleControl.Miles")):Da(i,_,y,E._getUIString("ScaleControl.Feet"))}else d&&"nautical"===d.unit?Da(i,_,b/1852,E._getUIString("ScaleControl.NauticalMiles")):b>=1e3?Da(i,_,b/1e3,E._getUIString("ScaleControl.Kilometers")):Da(i,_,b,E._getUIString("ScaleControl.Meters"))}function Da(E,i,d,_){const w=function(T){const f=Math.pow(10,`${Math.floor(T)}`.length-1);let b=T/f;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:b>=1?1:function(y){const S=Math.pow(10,Math.ceil(-Math.log(y)/Math.LN10));return Math.round(y*S)/S}(b),f*b}(d);E.style.width=i*(w/d)+"px",E.innerHTML=`${w}&nbsp;${_}`}const Ql={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ec=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Fl(E){if(E){if("number"==typeof E){const i=Math.round(Math.abs(E)/Math.SQRT2);return{center:new v.Point(0,0),top:new v.Point(0,E),"top-left":new v.Point(i,i),"top-right":new v.Point(-i,i),bottom:new v.Point(0,-E),"bottom-left":new v.Point(i,-i),"bottom-right":new v.Point(-i,-i),left:new v.Point(E,0),right:new v.Point(-E,0)}}if(E instanceof v.Point||Array.isArray(E)){const i=v.Point.convert(E);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:v.Point.convert(E.center||[0,0]),top:v.Point.convert(E.top||[0,0]),"top-left":v.Point.convert(E["top-left"]||[0,0]),"top-right":v.Point.convert(E["top-right"]||[0,0]),bottom:v.Point.convert(E.bottom||[0,0]),"bottom-left":v.Point.convert(E["bottom-left"]||[0,0]),"bottom-right":v.Point.convert(E["bottom-right"]||[0,0]),left:v.Point.convert(E.left||[0,0]),right:v.Point.convert(E.right||[0,0])}}return Fl(new v.Point(0,0))}const Ll={extend:(E,...i)=>v.extend(E,...i),run(E){E()},logToElement(E,i=!1,d="log"){const _=window.document.getElementById(d);_&&(i&&(_.innerHTML=""),_.innerHTML+=`<br>${E}`)}};class Xn{static get version(){return"3.5.1"}static get workerCount(){return Li.workerCount}static set workerCount(i){Li.workerCount=i}static get maxParallelImageRequests(){return v.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(i){v.config.MAX_PARALLEL_IMAGE_REQUESTS=i}static get workerUrl(){return v.config.WORKER_URL}static set workerUrl(i){v.config.WORKER_URL=i}static addProtocol(i,d){v.config.REGISTERED_PROTOCOLS[i]=d}static removeProtocol(i){delete v.config.REGISTERED_PROTOCOLS[i]}}return Xn.Map=class extends gs{constructor(E){if(v.PerformanceUtils.mark(v.PerformanceMarkers.create),null!=(E=v.extend({},qi,E)).minZoom&&null!=E.maxZoom&&E.minZoom>E.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=E.minPitch&&null!=E.maxPitch&&E.minPitch>E.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=E.minPitch&&E.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=E.maxPitch&&E.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ra(E.minZoom,E.maxZoom,E.minPitch,E.maxPitch,E.renderWorldCopies),{bearingSnap:E.bearingSnap}),this._cooperativeGesturesOnWheel=i=>{this._onCooperativeGesture(i,i[this._metaKey],1)},this._contextLost=i=>{i.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new v.Event("webglcontextlost",{originalEvent:i}))},this._contextRestored=i=>{this._setupPainter(),this.resize(),this._update(),this.fire(new v.Event("webglcontextrestored",{originalEvent:i}))},this._onMapScroll=i=>{if(i.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=E.interactive,this._cooperativeGestures=E.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=E.maxTileCacheSize,this._maxTileCacheZoomLevels=E.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=E.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=E.preserveDrawingBuffer,this._antialias=E.antialias,this._trackResize=E.trackResize,this._bearingSnap=E.bearingSnap,this._refreshExpiredTiles=E.refreshExpiredTiles,this._fadeDuration=E.fadeDuration,this._crossSourceCollisions=E.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=E.collectResourceTiming,this._renderTaskQueue=new pr,this._controls=[],this._mapId=v.uniqueId(),this._locale=v.extend({},As,E.locale),this._clickTolerance=E.clickTolerance,this._overridePixelRatio=E.pixelRatio,this._maxCanvasSize=E.maxCanvasSize,this.transformCameraUpdate=E.transformCameraUpdate,this._imageQueueHandle=tt.addThrottleControl(()=>this.isMoving()),this._requestManager=new ut(E.transformRequest),"string"==typeof E.container){if(this._container=document.getElementById(E.container),!this._container)throw new Error(`Container '${E.container}' not found.`)}else{if(!(E.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=E.container}if(E.maxBounds&&this.setMaxBounds(E.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let i=!1;const d=Tr(_=>{this._trackResize&&!this._removed&&this.resize(_)._update()},50);this._resizeObserver=new ResizeObserver(_=>{i?d(_):i=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Yc(this,E),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=E.hash&&new Lo("string"==typeof E.hash&&E.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:E.center,zoom:E.zoom,bearing:E.bearing,pitch:E.pitch}),E.bounds&&(this.resize(),this.fitBounds(E.bounds,v.extend({},E.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=E.localIdeographFontFamily,this._validateStyle=E.validateStyle,E.style&&this.setStyle(E.style,{localIdeographFontFamily:E.localIdeographFontFamily}),E.attributionControl&&this.addControl(new oi({customAttribution:E.customAttribution})),E.maplibreLogo&&this.addControl(new ln,E.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update("style"===i.dataType),this.fire(new v.Event(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new v.Event(`${i.dataType}dataloading`,i))}),this.on("dataabort",i=>{this.fire(new v.Event("sourcedataabort",i))})}_getMapId(){return this._mapId}addControl(E,i){if(void 0===i&&(i=E.getDefaultPosition?E.getDefaultPosition():"top-right"),!E||!E.onAdd)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=E.onAdd(this);this._controls.push(E);const _=this._controlPositions[i];return-1!==i.indexOf("bottom")?_.insertBefore(d,_.firstChild):_.appendChild(d),this}removeControl(E){if(!E||!E.onRemove)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(E);return i>-1&&this._controls.splice(i,1),E.onRemove(this),this}hasControl(E){return this._controls.indexOf(E)>-1}calculateCameraOptionsFromTo(E,i,d,_){return null==_&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(E,i,d,_)}resize(E){var i;const d=this._containerDimensions(),_=d[0],w=d[1],T=this._getClampedPixelRatio(_,w);if(this._resizeCanvas(_,w,T),this.painter.resize(_,w,T),this.painter.overLimit()){const b=this.painter.context.gl;this._maxCanvasSize=[b.drawingBufferWidth,b.drawingBufferHeight];const y=this._getClampedPixelRatio(_,w);this._resizeCanvas(_,w,y),this.painter.resize(_,w,y)}this.transform.resize(_,w),null===(i=this._requestedCameraState)||void 0===i||i.resize(_,w);const f=!this._moving;return f&&(this.stop(),this.fire(new v.Event("movestart",E)).fire(new v.Event("move",E))),this.fire(new v.Event("resize",E)),f&&this.fire(new v.Event("moveend",E)),this}_getClampedPixelRatio(E,i){const{0:d,1:_}=this._maxCanvasSize,w=this.getPixelRatio(),T=E*w,f=i*w;return Math.min(T>d?d/T:1,f>_?_/f:1)*w}getPixelRatio(){var E;return null!==(E=this._overridePixelRatio)&&void 0!==E?E:devicePixelRatio}setPixelRatio(E){this._overridePixelRatio=E,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(E){return this.transform.setMaxBounds(vt.convert(E)),this._update()}setMinZoom(E){if((E=E??-2)>=-2&&E<=this.transform.maxZoom)return this.transform.minZoom=E,this._update(),this.getZoom()<E&&this.setZoom(E),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(E){if((E=E??22)>=this.transform.minZoom)return this.transform.maxZoom=E,this._update(),this.getZoom()>E&&this.setZoom(E),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(E){if((E=E??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(E>=0&&E<=this.transform.maxPitch)return this.transform.minPitch=E,this._update(),this.getPitch()<E&&this.setPitch(E),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(E){if((E=E??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(E>=this.transform.minPitch)return this.transform.maxPitch=E,this._update(),this.getPitch()>E&&this.setPitch(E),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(E){return this.transform.renderWorldCopies=E,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(E){return this._cooperativeGestures=E,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(E){return this.transform.locationPoint(v.LngLat.convert(E),this.style&&this.terrain)}unproject(E){return this.transform.pointLocation(v.Point.convert(E),this.terrain)}isMoving(){var E;return this._moving||(null===(E=this.handlers)||void 0===E?void 0:E.isMoving())}isZooming(){var E;return this._zooming||(null===(E=this.handlers)||void 0===E?void 0:E.isZooming())}isRotating(){var E;return this._rotating||(null===(E=this.handlers)||void 0===E?void 0:E.isRotating())}_createDelegatedListener(E,i,d){if("mouseenter"===E||"mouseover"===E){let _=!1;return{layer:i,listener:d,delegates:{mousemove:T=>{const f=this.getLayer(i)?this.queryRenderedFeatures(T.point,{layers:[i]}):[];f.length?_||(_=!0,d.call(this,new Ko(E,this,T.originalEvent,{features:f}))):_=!1},mouseout:()=>{_=!1}}}}if("mouseleave"===E||"mouseout"===E){let _=!1;return{layer:i,listener:d,delegates:{mousemove:f=>{(this.getLayer(i)?this.queryRenderedFeatures(f.point,{layers:[i]}):[]).length?_=!0:_&&(_=!1,d.call(this,new Ko(E,this,f.originalEvent)))},mouseout:f=>{_&&(_=!1,d.call(this,new Ko(E,this,f.originalEvent)))}}}}{const _=w=>{const T=this.getLayer(i)?this.queryRenderedFeatures(w.point,{layers:[i]}):[];T.length&&(w.features=T,d.call(this,w),delete w.features)};return{layer:i,listener:d,delegates:{[E]:_}}}}on(E,i,d){if(void 0===d)return super.on(E,i);const _=this._createDelegatedListener(E,i,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[E]=this._delegatedListeners[E]||[],this._delegatedListeners[E].push(_);for(const w in _.delegates)this.on(w,_.delegates[w]);return this}once(E,i,d){if(void 0===d)return super.once(E,i);const _=this._createDelegatedListener(E,i,d);for(const w in _.delegates)this.once(w,_.delegates[w]);return this}off(E,i,d){return void 0===d?super.off(E,i):(this._delegatedListeners&&this._delegatedListeners[E]&&(_=>{const w=this._delegatedListeners[E];for(let T=0;T<w.length;T++){const f=w[T];if(f.layer===i&&f.listener===d){for(const b in f.delegates)this.off(b,f.delegates[b]);return w.splice(T,1),this}}})(),this)}queryRenderedFeatures(E,i){if(!this.style)return[];let d;const _=E instanceof v.Point||Array.isArray(E),w=_?E:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(_?{}:E)||{},w instanceof v.Point||"number"==typeof w[0])d=[v.Point.convert(w)];else{const T=v.Point.convert(w[0]),f=v.Point.convert(w[1]);d=[T,new v.Point(f.x,T.y),f,new v.Point(T.x,f.y),T]}return this.style.queryRenderedFeatures(d,i,this.transform)}querySourceFeatures(E,i){return this.style.querySourceFeatures(E,i)}setStyle(E,i){return!1!==(i=v.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&E?(this._diffStyle(E,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(E,i))}setTransformRequest(E){return this._requestManager.setTransformRequest(E),this}_getUIString(E){const i=this._locale[E];if(null==i)throw new Error(`Missing UI string '${E}'`);return i}_updateStyle(E,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(E,i));const d=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!E)),E?(this.style=new In(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof E?this.style.loadURL(E,i,d):this.style.loadJSON(E,i,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new In(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(E,i){if("string"==typeof E){const d=this._requestManager.transformRequest(E,Ke.Style);v.getJSON(d,(_,w)=>{_?this.fire(new v.ErrorEvent(_)):w&&this._updateDiff(w,i)})}else"object"==typeof E&&this._updateDiff(E,i)}_updateDiff(E,i){try{this.style.setState(E,i)&&this._update(!0)}catch(d){v.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(E,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():v.warnOnce("There is no style added to the map.")}addSource(E,i){return this._lazyInitEmptyStyle(),this.style.addSource(E,i),this._update(!0)}isSourceLoaded(E){const i=this.style&&this.style.sourceCaches[E];if(void 0!==i)return i.loaded();this.fire(new v.ErrorEvent(new Error(`There is no source with ID '${E}'`)))}setTerrain(E){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),E){const i=this.style.sourceCaches[E.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${E.source}`);for(const d in this.style._layers){const _=this.style._layers[d];"hillshade"===_.type&&_.source===E.source&&v.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Jl(this.painter,i,E),this.painter.renderToTexture=new ks(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{"style"===d.dataType?this.terrain.sourceCache.freeRtt():"source"===d.dataType&&d.tile&&(d.sourceId!==E.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new v.Event("terrain",{terrain:E})),this}getTerrain(){var E,i;return null!==(i=null===(E=this.terrain)||void 0===E?void 0:E.options)&&void 0!==i?i:null}areTilesLoaded(){const E=this.style&&this.style.sourceCaches;for(const i in E){const d=E[i]._tiles;for(const _ in d){const w=d[_];if("loaded"!==w.state&&"errored"!==w.state)return!1}}return!0}addSourceType(E,i,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(E,i,d)}removeSource(E){return this.style.removeSource(E),this._update(!0)}getSource(E){return this.style.getSource(E)}addImage(E,i,d={}){const{pixelRatio:_=1,sdf:w=!1,stretchX:T,stretchY:f,content:b}=d;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||v.isImageBitmap(i))){if(void 0===i.width||void 0===i.height)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:y,height:S,data:k}=i,R=i;return this.style.addImage(E,{data:new v.RGBAImage({width:y,height:S},new Uint8Array(k)),pixelRatio:_,stretchX:T,stretchY:f,content:b,sdf:w,version:0,userImage:R}),R.onAdd&&R.onAdd(this,E),this}}{const{width:y,height:S,data:k}=v.browser.getImageData(i);this.style.addImage(E,{data:new v.RGBAImage({width:y,height:S},k),pixelRatio:_,stretchX:T,stretchY:f,content:b,sdf:w,version:0})}}updateImage(E,i){const d=this.style.getImage(E);if(!d)return this.fire(new v.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=i instanceof HTMLImageElement||v.isImageBitmap(i)?v.browser.getImageData(i):i,{width:w,height:T,data:f}=_;if(void 0===w||void 0===T)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==d.data.width||T!==d.data.height)return this.fire(new v.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const b=!(i instanceof HTMLImageElement||v.isImageBitmap(i));return d.data.replace(f,b),this.style.updateImage(E,d),this}getImage(E){return this.style.getImage(E)}hasImage(E){return E?!!this.style.getImage(E):(this.fire(new v.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(E){this.style.removeImage(E)}loadImage(E,i){tt.getImage(this._requestManager.transformRequest(E,Ke.Image),i)}listImages(){return this.style.listImages()}addLayer(E,i){return this._lazyInitEmptyStyle(),this.style.addLayer(E,i),this._update(!0)}moveLayer(E,i){return this.style.moveLayer(E,i),this._update(!0)}removeLayer(E){return this.style.removeLayer(E),this._update(!0)}getLayer(E){return this.style.getLayer(E)}setLayerZoomRange(E,i,d){return this.style.setLayerZoomRange(E,i,d),this._update(!0)}setFilter(E,i,d={}){return this.style.setFilter(E,i,d),this._update(!0)}getFilter(E){return this.style.getFilter(E)}setPaintProperty(E,i,d,_={}){return this.style.setPaintProperty(E,i,d,_),this._update(!0)}getPaintProperty(E,i){return this.style.getPaintProperty(E,i)}setLayoutProperty(E,i,d,_={}){return this.style.setLayoutProperty(E,i,d,_),this._update(!0)}getLayoutProperty(E,i){return this.style.getLayoutProperty(E,i)}setGlyphs(E,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(E,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(E,i,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(E,i,d,_=>{_||this._update(!0)}),this}removeSprite(E){return this._lazyInitEmptyStyle(),this.style.removeSprite(E),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(E,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(E,i,d=>{d||this._update(!0)}),this}setLight(E,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(E,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(E,i){return this.style.setFeatureState(E,i),this._update()}removeFeatureState(E,i){return this.style.removeFeatureState(E,i),this._update()}getFeatureState(E){return this.style.getFeatureState(E)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let E=0,i=0;return this._container&&(E=this._container.clientWidth||400,i=this._container.clientHeight||300),[E,i]}_setupContainer(){const E=this._container;E.classList.add("maplibregl-map");const i=this._canvasContainer=ne.create("div","maplibregl-canvas-container",E);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=ne.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),_=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],_);const w=this._controlContainer=ne.create("div","maplibregl-control-container",E),T=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(f=>{T[f]=ne.create("div",`maplibregl-ctrl-${f} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=ne.create("div","maplibregl-cooperative-gesture-screen",this._container);let E="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(E="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${E}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){ne.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(E,i,d){this._canvas.width=Math.floor(d*E),this._canvas.height=Math.floor(d*i),this._canvas.style.width=`${E}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const E={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",_=>{i={requestedAttributes:E},_&&(i.statusMessage=_.statusMessage,i.type=_.type)},{once:!0});const d=this._canvas.getContext("webgl2",E)||this._canvas.getContext("webgl",E);if(!d){const _="Failed to initialize WebGL";throw i?(i.message=_,new Error(JSON.stringify(i))):new Error(_)}this.painter=new mr(d,this.transform),$e.testSupport(d)}_onCooperativeGesture(E,i,d){return!i&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(E){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||E,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(E){return this._update(),this._renderTaskQueue.add(E)}_cancelRenderFrame(E){this._renderTaskQueue.remove(E)}_render(E){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(E),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,T=v.browser.now();this.style.zoomHistory.update(w,T);const f=new v.EvaluationParameters(w,{now:T,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),b=f.crossFadingFactor();1===b&&b===this._crossFadingFactor||(d=!0,this._crossFadingFactor=b),this.style.update(f)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new v.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.load),this.fire(new v.Event("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const _=this._sourcesDirty||this._styleDirty||this._placementDirty;return _||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new v.Event("idle")),!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var E;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),tt.removeThrottleControl(this._imageQueueHandle),null===(E=this._resizeObserver)||void 0===E||E.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),ne.remove(this._canvasContainer),ne.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),v.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new v.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=v.browser.frame(E=>{v.PerformanceUtils.frame(E),this._frame=null,this._render(E)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(E){this._showTileBoundaries!==E&&(this._showTileBoundaries=E,this._update())}get showPadding(){return!!this._showPadding}set showPadding(E){this._showPadding!==E&&(this._showPadding=E,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(E){this._showCollisionBoxes!==E&&(this._showCollisionBoxes=E,E?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(E){this._showOverdrawInspector!==E&&(this._showOverdrawInspector=E,this._update())}get repaint(){return!!this._repaint}set repaint(E){this._repaint!==E&&(this._repaint=E,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(E){this._vertices=E,this._update()}get version(){return"3.5.1"}getCameraTargetElevation(){return this.transform.elevation}},Xn.NavigationControl=class{constructor(E){this._updateZoomButtons=()=>{const i=this._map.getZoom(),d=i===this._map.getMaxZoom(),_=i===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,d)=>{const _=this._map._getUIString(`NavigationControl.${d}`);i.title=_,i.setAttribute("aria-label",_)},this.options=v.extend({},Ho,E),this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),ne.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),ne.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=ne.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(E){return this._map=E,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ps(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ne.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(E,i){const d=ne.create("button",E,this._container);return d.type="button",d.addEventListener("click",i),d}},Xn.GeolocateControl=class extends v.Evented{constructor(E){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new v.Event("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(i),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new v.Event("geolocate",i)),this._finish()}},this._updateCamera=i=>{const d=new v.LngLat(i.coords.longitude,i.coords.latitude),_=i.coords.accuracy,w=this._map.getBearing(),T=v.extend({bearing:w},this.options.fitBoundsOptions),f=vt.fromLngLat(d,_);this._map.fitBounds(f,T,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const d=new v.LngLat(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(1===i.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===i.code&&wr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new v.Event("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=i=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=ne.create("button","maplibregl-ctrl-geolocate",this._container),ne.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===i){v.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ne.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Mc({element:this._dotElement}),this._circleElement=ne.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Mc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||"ACTIVE_LOCK"!==this._watchState||d.originalEvent&&"resize"===d.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new v.Event("trackuserlocationend")))})}},this.options=v.extend({},Dc,E)}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(i,d=!1){void 0===pa||d?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(_=>{pa="denied"!==_.state,i(pa)}).catch(()=>{pa=!!window.navigator.geolocation,i(pa)}):(pa=!!window.navigator.geolocation,i(pa)):i(pa)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ne.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,xr=0,wr=!1}_isOutOfMapMaxBounds(E){const i=this._map.getMaxBounds(),d=E.coords;return i&&(d.longitude<i.getWest()||d.longitude>i.getEast()||d.latitude<i.getSouth()||d.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const E=this._map.getBounds(),i=E.getSouthEast(),d=E.getNorthEast(),_=i.distanceTo(d),w=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return v.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new v.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":xr--,wr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new v.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new v.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let E;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),xr++,xr>1?(E={maximumAge:6e5,timeout:0},wr=!0):(E=this.options.positionOptions,wr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,E)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Xn.AttributionControl=oi,Xn.LogoControl=ln,Xn.ScaleControl=class{constructor(E){this._onMove=()=>{Ya(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Ya(this._map,this._container,this.options)},this.options=v.extend({},Sc,E)}getDefaultPosition(){return"bottom-left"}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-scale",E.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ne.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Xn.FullscreenControl=class extends v.Evented{constructor(E={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,E&&E.container&&(E.container instanceof HTMLElement?this._container=E.container:v.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(E){return this._map=E,this._container||(this._container=this._map.getContainer()),this._controlContainer=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){ne.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const E=this._fullscreenButton=ne.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);ne.create("span","maplibregl-ctrl-icon",E).setAttribute("aria-hidden","true"),E.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const E=this._getTitle();this._fullscreenButton.setAttribute("aria-label",E),this._fullscreenButton.title=E}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new v.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new v.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Xn.TerrainControl=class{constructor(E){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=E}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=ne.create("button","maplibregl-ctrl-terrain",this._container),ne.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){ne.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Xn.Popup=class extends v.Evented{constructor(E){super(),this.remove=()=>(this._content&&ne.remove(this._content),this._container&&(ne.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new v.Event("close")),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=ne.create("div","maplibregl-popup",this._map.getContainer()),this._tip=ne.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const f of this.options.className.split(" "))this._container.classList.add(f);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Br(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!i)return;const d=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);let _=this.options.anchor;const w=Fl(this.options.offset);if(!_){const f=this._container.offsetWidth,b=this._container.offsetHeight;let y;y=d.y+w.bottom.y<b?["top"]:d.y>this._map.transform.height-b?["bottom"]:[],d.x<f/2?y.push("left"):d.x>this._map.transform.width-f/2&&y.push("right"),_=0===y.length?"bottom":y.join("-")}const T=d.add(w[_]).round();ne.setTransform(this._container,`${fa[_]} translate(${T.x}px,${T.y}px)`),os(this._container,_,"popup")},this._onClose=()=>{this.remove()},this.options=v.extend(Object.create(Ql),E)}addTo(E){return this._map&&this.remove(),this._map=E,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new v.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(E){return this._lngLat=v.LngLat.convert(E),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(E){return this.setDOMContent(document.createTextNode(E))}setHTML(E){const i=document.createDocumentFragment(),d=document.createElement("body");let _;for(d.innerHTML=E;_=d.firstChild,_;)i.appendChild(_);return this.setDOMContent(i)}getMaxWidth(){var E;return null===(E=this._container)||void 0===E?void 0:E.style.maxWidth}setMaxWidth(E){return this.options.maxWidth=E,this._update(),this}setDOMContent(E){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ne.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(E),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(E){this._container&&this._container.classList.add(E)}removeClassName(E){this._container&&this._container.classList.remove(E)}setOffset(E){return this.options.offset=E,this._update(),this}toggleClassName(E){if(this._container)return this._container.classList.toggle(E)}_createCloseButton(){this.options.closeButton&&(this._closeButton=ne.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const E=this._container.querySelector(ec);E&&E.focus()}},Xn.Marker=Mc,Xn.Style=In,Xn.LngLat=v.LngLat,Xn.LngLatBounds=vt,Xn.Point=v.Point,Xn.MercatorCoordinate=v.MercatorCoordinate,Xn.Evented=v.Evented,Xn.AJAXError=v.AJAXError,Xn.config=v.config,Xn.CanvasSource=pt,Xn.GeoJSONSource=Dt,Xn.ImageSource=Ne,Xn.RasterDEMTileSource=Jt,Xn.RasterTileSource=zt,Xn.VectorTileSource=Rt,Xn.VideoSource=st,Xn.setRTLTextPlugin=v.setRTLTextPlugin,Xn.getRTLTextPluginStatus=v.getRTLTextPluginStatus,Xn.prewarm=function(){Te().acquire(Hi)},Xn.clearPrewarmedResources=function(){const E=ue;E&&(E.isPreloaded()&&1===E.numActive()?(E.release(Hi),ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ll.extend(Xn,{isSafari:v.isSafari,getPerformanceMetrics:v.PerformanceUtils.getPerformanceMetrics}),Xn}),C}()},6825:(yi,_t,H)=>{"use strict";H.d(_t,{IO:()=>ut,LC:()=>l,SB:()=>Se,X$:()=>v,ZE:()=>ei,ZN:()=>Vt,_j:()=>C,eR:()=>nt,jt:()=>Ve,k1:()=>Di,l3:()=>le,oB:()=>Qe,pV:()=>tt,vP:()=>$e});class C{}class l{}const le="*";function v(ti,Oe){return{type:7,name:ti,definitions:Oe,options:{}}}function Ve(ti,Oe=null){return{type:4,styles:Oe,timings:ti}}function $e(ti,Oe=null){return{type:2,steps:ti,options:Oe}}function Qe(ti){return{type:6,styles:ti,offset:null}}function Se(ti,Oe,We){return{type:0,name:ti,styles:Oe,options:We}}function nt(ti,Oe,We=null){return{type:1,expr:ti,animation:Oe,options:We}}function tt(ti=null){return{type:9,options:ti}}function ut(ti,Oe,We=null){return{type:11,selector:ti,animation:Oe,options:We}}class Vt{constructor(Oe=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const We="start"==Oe?this._onStartFns:this._onDoneFns;We.forEach(Re=>Re()),We.length=0}}class ei{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let We=0,Re=0,Ft=0;const Ot=this.players.length;0==Ot?queueMicrotask(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++We==Ot&&this._onFinish()}),Bt.onDestroy(()=>{++Re==Ot&&this._onDestroy()}),Bt.onStart(()=>{++Ft==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,ui)=>Math.max(Bt,ui.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const We=Oe*this.totalTime;this.players.forEach(Re=>{const Ft=Re.totalTime?Math.min(1,We/Re.totalTime):1;Re.setPosition(Ft)})}getPosition(){const Oe=this.players.reduce((We,Re)=>null===We||Re.totalTime>We.totalTime?Re:We,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const We="start"==Oe?this._onStartFns:this._onDoneFns;We.forEach(Re=>Re()),We.length=0}}const Di="!"},7849:(yi,_t,H)=>{"use strict";H.d(_t,{rt:()=>lt,s1:()=>st,$s:()=>Jt,Em:()=>pt,tE:()=>Me,qV:()=>Te,qm:()=>qe,ic:()=>ft,Kd:()=>V,Zf:()=>vn,X6:()=>ii,yG:()=>wi,iD:()=>Fn});var C=H(6814),l=H(5879),le=H(2831),v=H(8645),Ve=H(7394),ne=H(5619),$e=H(2096),Qe=H(6028),Se=H(9397),Be=H(3620),nt=H(2181),Le=H(7398),tt=H(8180);function Ke(we){return(0,nt.h)((De,ce)=>we<=ce)}var ut=H(3997),Mt=H(9773),Vt=H(2495),ei=H(7131),Di=H(2572),ti=H(5211),Oe=H(5592),We=H(7921);const Ft=new Set;let Ot,Bt=(()=>{class we{constructor(ce,Ee){this._platform=ce,this._nonce=Ee,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fi}matchMedia(ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function ui(we,De){if(!Ft.has(we))try{Ot||(Ot=document.createElement("style"),De&&(Ot.nonce=De),Ot.setAttribute("type","text/css"),document.head.appendChild(Ot)),Ot.sheet&&(Ot.sheet.insertRule(`@media ${we} {body{ }}`,0),Ft.add(we))}catch(ce){console.error(ce)}}(ce,this._nonce),this._matchMedia(ce)}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(le.t4),l.LFG(l.Ojb,8))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function fi(we){return{matches:"all"===we||""===we,media:we,addListener:()=>{},removeListener:()=>{}}}let Fi=(()=>{class we{constructor(ce,Ee){this._mediaMatcher=ce,this._zone=Ee,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ce){return Bi((0,Vt.Eq)(ce)).some(Xe=>this._registerQuery(Xe).mql.matches)}observe(ce){const Xe=Bi((0,Vt.Eq)(ce)).map(Fe=>this._registerQuery(Fe).observable);let It=(0,Di.a)(Xe);return It=(0,ti.z)(It.pipe((0,tt.q)(1)),It.pipe(Ke(1),(0,Be.b)(0))),It.pipe((0,Le.U)(Fe=>{const Ae={matches:!1,breakpoints:{}};return Fe.forEach(({matches:je,query:Nt})=>{Ae.matches=Ae.matches||je,Ae.breakpoints[Nt]=je}),Ae}))}_registerQuery(ce){if(this._queries.has(ce))return this._queries.get(ce);const Ee=this._mediaMatcher.matchMedia(ce),It={observable:new Oe.y(Fe=>{const Ae=je=>this._zone.run(()=>Fe.next(je));return Ee.addListener(Ae),()=>{Ee.removeListener(Ae)}}).pipe((0,We.O)(Ee),(0,Le.U)(({matches:Fe})=>({query:ce,matches:Fe})),(0,Mt.R)(this._destroySubject)),mql:Ee};return this._queries.set(ce,It),It}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(Bt),l.LFG(l.R0b))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Bi(we){return we.map(De=>De.split(",")).reduce((De,ce)=>De.concat(ce)).map(De=>De.trim())}const qn=" ";function vn(we,De,ce){const Ee=Pn(we,De);Ee.some(Xe=>Xe.trim()==ce.trim())||(Ee.push(ce.trim()),we.setAttribute(De,Ee.join(qn)))}function Fn(we,De,ce){const Xe=Pn(we,De).filter(It=>It!=ce.trim());Xe.length?we.setAttribute(De,Xe.join(qn)):we.removeAttribute(De)}function Pn(we,De){return(we.getAttribute(De)||"").match(/\S+/g)||[]}const Ct="cdk-describedby-message",Rt="cdk-describedby-host";let zt=0,Jt=(()=>{class we{constructor(ce,Ee){this._platform=Ee,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+zt++,this._document=ce,this._id=(0,l.f3M)(l.AFp)+"-"+zt++}describe(ce,Ee,Xe){if(!this._canBeDescribed(ce,Ee))return;const It=Dt(Ee,Xe);"string"!=typeof Ee?(si(Ee,this._id),this._messageRegistry.set(It,{messageElement:Ee,referenceCount:0})):this._messageRegistry.has(It)||this._createMessageElement(Ee,Xe),this._isElementDescribedByMessage(ce,It)||this._addMessageReference(ce,It)}removeDescription(ce,Ee,Xe){if(!Ee||!this._isElementNode(ce))return;const It=Dt(Ee,Xe);if(this._isElementDescribedByMessage(ce,It)&&this._removeMessageReference(ce,It),"string"==typeof Ee){const Fe=this._messageRegistry.get(It);Fe&&0===Fe.referenceCount&&this._deleteMessageElement(It)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const ce=this._document.querySelectorAll(`[${Rt}="${this._id}"]`);for(let Ee=0;Ee<ce.length;Ee++)this._removeCdkDescribedByReferenceIds(ce[Ee]),ce[Ee].removeAttribute(Rt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(ce,Ee){const Xe=this._document.createElement("div");si(Xe,this._id),Xe.textContent=ce,Ee&&Xe.setAttribute("role",Ee),this._createMessagesContainer(),this._messagesContainer.appendChild(Xe),this._messageRegistry.set(Dt(ce,Ee),{messageElement:Xe,referenceCount:0})}_deleteMessageElement(ce){this._messageRegistry.get(ce)?.messageElement?.remove(),this._messageRegistry.delete(ce)}_createMessagesContainer(){if(this._messagesContainer)return;const ce="cdk-describedby-message-container",Ee=this._document.querySelectorAll(`.${ce}[platform="server"]`);for(let It=0;It<Ee.length;It++)Ee[It].remove();const Xe=this._document.createElement("div");Xe.style.visibility="hidden",Xe.classList.add(ce),Xe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Xe.setAttribute("platform","server"),this._document.body.appendChild(Xe),this._messagesContainer=Xe}_removeCdkDescribedByReferenceIds(ce){const Ee=Pn(ce,"aria-describedby").filter(Xe=>0!=Xe.indexOf(Ct));ce.setAttribute("aria-describedby",Ee.join(" "))}_addMessageReference(ce,Ee){const Xe=this._messageRegistry.get(Ee);vn(ce,"aria-describedby",Xe.messageElement.id),ce.setAttribute(Rt,this._id),Xe.referenceCount++}_removeMessageReference(ce,Ee){const Xe=this._messageRegistry.get(Ee);Xe.referenceCount--,Fn(ce,"aria-describedby",Xe.messageElement.id),ce.removeAttribute(Rt)}_isElementDescribedByMessage(ce,Ee){const Xe=Pn(ce,"aria-describedby"),It=this._messageRegistry.get(Ee),Fe=It&&It.messageElement.id;return!!Fe&&-1!=Xe.indexOf(Fe)}_canBeDescribed(ce,Ee){if(!this._isElementNode(ce))return!1;if(Ee&&"object"==typeof Ee)return!0;const Xe=null==Ee?"":`${Ee}`.trim(),It=ce.getAttribute("aria-label");return!(!Xe||It&&It.trim()===Xe)}_isElementNode(ce){return ce.nodeType===this._document.ELEMENT_NODE}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(C.K0),l.LFG(le.t4))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Dt(we,De){return"string"==typeof we?`${De||""}/${we}`:we}function si(we,De){we.id||(we.id=`${Ct}-${De}-${zt++}`)}class Ne{constructor(De){this._items=De,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.x,this._typeaheadSubscription=Ve.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ce=>ce.disabled,this._pressedLetters=[],this.tabOut=new v.x,this.change=new v.x,De instanceof l.n_E&&(this._itemChangesSubscription=De.changes.subscribe(ce=>{if(this._activeItem){const Xe=ce.toArray().indexOf(this._activeItem);Xe>-1&&Xe!==this._activeItemIndex&&(this._activeItemIndex=Xe)}}))}skipPredicate(De){return this._skipPredicateFn=De,this}withWrap(De=!0){return this._wrap=De,this}withVerticalOrientation(De=!0){return this._vertical=De,this}withHorizontalOrientation(De){return this._horizontal=De,this}withAllowedModifierKeys(De){return this._allowedModifierKeys=De,this}withTypeAhead(De=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Se.b)(ce=>this._pressedLetters.push(ce)),(0,Be.b)(De),(0,nt.h)(()=>this._pressedLetters.length>0),(0,Le.U)(()=>this._pressedLetters.join(""))).subscribe(ce=>{const Ee=this._getItemsArray();for(let Xe=1;Xe<Ee.length+1;Xe++){const It=(this._activeItemIndex+Xe)%Ee.length,Fe=Ee[It];if(!this._skipPredicateFn(Fe)&&0===Fe.getLabel().toUpperCase().trim().indexOf(ce)){this.setActiveItem(It);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(De=!0){return this._homeAndEnd=De,this}withPageUpDown(De=!0,ce=10){return this._pageUpAndDown={enabled:De,delta:ce},this}setActiveItem(De){const ce=this._activeItem;this.updateActiveItem(De),this._activeItem!==ce&&this.change.next(this._activeItemIndex)}onKeydown(De){const ce=De.keyCode,Xe=["altKey","ctrlKey","metaKey","shiftKey"].every(It=>!De[It]||this._allowedModifierKeys.indexOf(It)>-1);switch(ce){case Qe.Mf:return void this.tabOut.next();case Qe.JH:if(this._vertical&&Xe){this.setNextItemActive();break}return;case Qe.LH:if(this._vertical&&Xe){this.setPreviousItemActive();break}return;case Qe.SV:if(this._horizontal&&Xe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Qe.oh:if(this._horizontal&&Xe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Qe.Sd:if(this._homeAndEnd&&Xe){this.setFirstItemActive();break}return;case Qe.uR:if(this._homeAndEnd&&Xe){this.setLastItemActive();break}return;case Qe.Ku:if(this._pageUpAndDown.enabled&&Xe){const It=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(It>0?It:0,1);break}return;case Qe.VM:if(this._pageUpAndDown.enabled&&Xe){const It=this._activeItemIndex+this._pageUpAndDown.delta,Fe=this._getItemsArray().length;this._setActiveItemByIndex(It<Fe?It:Fe-1,-1);break}return;default:return void((Xe||(0,Qe.Vb)(De,"shiftKey"))&&(De.key&&1===De.key.length?this._letterKeyStream.next(De.key.toLocaleUpperCase()):(ce>=Qe.A&&ce<=Qe.Z||ce>=Qe.xE&&ce<=Qe.aO)&&this._letterKeyStream.next(String.fromCharCode(ce))))}this._pressedLetters=[],De.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(De){const ce=this._getItemsArray(),Ee="number"==typeof De?De:ce.indexOf(De);this._activeItem=ce[Ee]??null,this._activeItemIndex=Ee}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(De){this._wrap?this._setActiveInWrapMode(De):this._setActiveInDefaultMode(De)}_setActiveInWrapMode(De){const ce=this._getItemsArray();for(let Ee=1;Ee<=ce.length;Ee++){const Xe=(this._activeItemIndex+De*Ee+ce.length)%ce.length;if(!this._skipPredicateFn(ce[Xe]))return void this.setActiveItem(Xe)}}_setActiveInDefaultMode(De){this._setActiveItemByIndex(this._activeItemIndex+De,De)}_setActiveItemByIndex(De,ce){const Ee=this._getItemsArray();if(Ee[De]){for(;this._skipPredicateFn(Ee[De]);)if(!Ee[De+=ce])return;this.setActiveItem(De)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class st extends Ne{setActiveItem(De){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(De),this.activeItem&&this.activeItem.setActiveStyles()}}class pt extends Ne{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(De){return this._origin=De,this}setActiveItem(De){super.setActiveItem(De),this.activeItem&&this.activeItem.focus(this._origin)}}let ft=(()=>{class we{constructor(ce){this._platform=ce}isDisabled(ce){return ce.hasAttribute("disabled")}isVisible(ce){return function qt(we){return!!(we.offsetWidth||we.offsetHeight||"function"==typeof we.getClientRects&&we.getClientRects().length)}(ce)&&"visible"===getComputedStyle(ce).visibility}isTabbable(ce){if(!this._platform.isBrowser)return!1;const Ee=function Yt(we){try{return we.frameElement}catch{return null}}(function wt(we){return we.ownerDocument&&we.ownerDocument.defaultView||window}(ce));if(Ee&&(-1===zn(Ee)||!this.isVisible(Ee)))return!1;let Xe=ce.nodeName.toLowerCase(),It=zn(ce);return ce.hasAttribute("contenteditable")?-1!==It:!("iframe"===Xe||"object"===Xe||this._platform.WEBKIT&&this._platform.IOS&&!function Hi(we){let De=we.nodeName.toLowerCase(),ce="input"===De&&we.type;return"text"===ce||"password"===ce||"select"===De||"textarea"===De}(ce))&&("audio"===Xe?!!ce.hasAttribute("controls")&&-1!==It:"video"===Xe?-1!==It&&(null!==It||this._platform.FIREFOX||ce.hasAttribute("controls")):ce.tabIndex>=0)}isFocusable(ce,Ee){return function Li(we){return!function ot(we){return function bi(we){return"input"==we.nodeName.toLowerCase()}(we)&&"hidden"==we.type}(we)&&(function gi(we){let De=we.nodeName.toLowerCase();return"input"===De||"select"===De||"button"===De||"textarea"===De}(we)||function Tt(we){return function bt(we){return"a"==we.nodeName.toLowerCase()}(we)&&we.hasAttribute("href")}(we)||we.hasAttribute("contenteditable")||rn(we))}(ce)&&!this.isDisabled(ce)&&(Ee?.ignoreVisibility||this.isVisible(ce))}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(le.t4))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function rn(we){if(!we.hasAttribute("tabindex")||void 0===we.tabIndex)return!1;let De=we.getAttribute("tabindex");return!(!De||isNaN(parseInt(De,10)))}function zn(we){if(!rn(we))return null;const De=parseInt(we.getAttribute("tabindex")||"",10);return isNaN(De)?-1:De}class ue{get enabled(){return this._enabled}set enabled(De){this._enabled=De,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(De,this._startAnchor),this._toggleAnchorTabIndex(De,this._endAnchor))}constructor(De,ce,Ee,Xe,It=!1){this._element=De,this._checker=ce,this._ngZone=Ee,this._document=Xe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,It||this.attachAnchors()}destroy(){const De=this._startAnchor,ce=this._endAnchor;De&&(De.removeEventListener("focus",this.startAnchorListener),De.remove()),ce&&(ce.removeEventListener("focus",this.endAnchorListener),ce.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(De){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusInitialElement(De)))})}focusFirstTabbableElementWhenReady(De){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusFirstTabbableElement(De)))})}focusLastTabbableElementWhenReady(De){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusLastTabbableElement(De)))})}_getRegionBoundary(De){const ce=this._element.querySelectorAll(`[cdk-focus-region-${De}], [cdkFocusRegion${De}], [cdk-focus-${De}]`);return"start"==De?ce.length?ce[0]:this._getFirstTabbableElement(this._element):ce.length?ce[ce.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(De){const ce=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ce){if(!this._checker.isFocusable(ce)){const Ee=this._getFirstTabbableElement(ce);return Ee?.focus(De),!!Ee}return ce.focus(De),!0}return this.focusFirstTabbableElement(De)}focusFirstTabbableElement(De){const ce=this._getRegionBoundary("start");return ce&&ce.focus(De),!!ce}focusLastTabbableElement(De){const ce=this._getRegionBoundary("end");return ce&&ce.focus(De),!!ce}hasAttached(){return this._hasAttached}_getFirstTabbableElement(De){if(this._checker.isFocusable(De)&&this._checker.isTabbable(De))return De;const ce=De.children;for(let Ee=0;Ee<ce.length;Ee++){const Xe=ce[Ee].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ce[Ee]):null;if(Xe)return Xe}return null}_getLastTabbableElement(De){if(this._checker.isFocusable(De)&&this._checker.isTabbable(De))return De;const ce=De.children;for(let Ee=ce.length-1;Ee>=0;Ee--){const Xe=ce[Ee].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ce[Ee]):null;if(Xe)return Xe}return null}_createAnchor(){const De=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,De),De.classList.add("cdk-visually-hidden"),De.classList.add("cdk-focus-trap-anchor"),De.setAttribute("aria-hidden","true"),De}_toggleAnchorTabIndex(De,ce){De?ce.setAttribute("tabindex","0"):ce.removeAttribute("tabindex")}toggleAnchors(De){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(De,this._startAnchor),this._toggleAnchorTabIndex(De,this._endAnchor))}_executeOnStable(De){this._ngZone.isStable?De():this._ngZone.onStable.pipe((0,tt.q)(1)).subscribe(De)}}let Te=(()=>{class we{constructor(ce,Ee,Xe){this._checker=ce,this._ngZone=Ee,this._document=Xe}create(ce,Ee=!1){return new ue(ce,this._checker,this._ngZone,this._document,Ee)}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(ft),l.LFG(l.R0b),l.LFG(C.K0))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function ii(we){return 0===we.buttons||0===we.offsetX&&0===we.offsetY}function wi(we){const De=we.touches&&we.touches[0]||we.changedTouches&&we.changedTouches[0];return!(!De||-1!==De.identifier||null!=De.radiusX&&1!==De.radiusX||null!=De.radiusY&&1!==De.radiusY)}const pi=new l.OlP("cdk-input-modality-detector-options"),$t={ignoreKeys:[Qe.zL,Qe.jx,Qe.b2,Qe.MW,Qe.JU]},Ei=(0,le.i$)({passive:!0,capture:!0});let Qi=(()=>{class we{get mostRecentModality(){return this._modality.value}constructor(ce,Ee,Xe,It){this._platform=ce,this._mostRecentTarget=null,this._modality=new ne.X(null),this._lastTouchMs=0,this._onKeydown=Fe=>{this._options?.ignoreKeys?.some(Ae=>Ae===Fe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,le.sA)(Fe))},this._onMousedown=Fe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ii(Fe)?"keyboard":"mouse"),this._mostRecentTarget=(0,le.sA)(Fe))},this._onTouchstart=Fe=>{wi(Fe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,le.sA)(Fe))},this._options={...$t,...It},this.modalityDetected=this._modality.pipe(Ke(1)),this.modalityChanged=this.modalityDetected.pipe((0,ut.x)()),ce.isBrowser&&Ee.runOutsideAngular(()=>{Xe.addEventListener("keydown",this._onKeydown,Ei),Xe.addEventListener("mousedown",this._onMousedown,Ei),Xe.addEventListener("touchstart",this._onTouchstart,Ei)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ei),document.removeEventListener("mousedown",this._onMousedown,Ei),document.removeEventListener("touchstart",this._onTouchstart,Ei))}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(le.t4),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(pi,8))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Pt=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ut(){return null}}),Et=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Y=0,V=(()=>{class we{constructor(ce,Ee,Xe,It){this._ngZone=Ee,this._defaultOptions=It,this._document=Xe,this._liveElement=ce||this._createLiveElement()}announce(ce,...Ee){const Xe=this._defaultOptions;let It,Fe;return 1===Ee.length&&"number"==typeof Ee[0]?Fe=Ee[0]:[It,Fe]=Ee,this.clear(),clearTimeout(this._previousTimeout),It||(It=Xe&&Xe.politeness?Xe.politeness:"polite"),null==Fe&&Xe&&(Fe=Xe.duration),this._liveElement.setAttribute("aria-live",It),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ae=>this._currentResolve=Ae)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ce,"number"==typeof Fe&&(this._previousTimeout=setTimeout(()=>this.clear(),Fe)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const ce="cdk-live-announcer-element",Ee=this._document.getElementsByClassName(ce),Xe=this._document.createElement("div");for(let It=0;It<Ee.length;It++)Ee[It].remove();return Xe.classList.add(ce),Xe.classList.add("cdk-visually-hidden"),Xe.setAttribute("aria-atomic","true"),Xe.setAttribute("aria-live","polite"),Xe.id="cdk-live-announcer-"+Y++,this._document.body.appendChild(Xe),Xe}_exposeAnnouncerToModals(ce){const Ee=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Xe=0;Xe<Ee.length;Xe++){const It=Ee[Xe],Fe=It.getAttribute("aria-owns");Fe?-1===Fe.indexOf(ce)&&It.setAttribute("aria-owns",Fe+" "+ce):It.setAttribute("aria-owns",ce)}}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(Pt,8),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(Et,8))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const ie=new l.OlP("cdk-focus-monitor-default-options"),de=(0,le.i$)({passive:!0,capture:!0});let Me=(()=>{class we{constructor(ce,Ee,Xe,It,Fe){this._ngZone=ce,this._platform=Ee,this._inputModalityDetector=Xe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.x,this._rootNodeFocusAndBlurListener=Ae=>{for(let Nt=(0,le.sA)(Ae);Nt;Nt=Nt.parentElement)"focus"===Ae.type?this._onFocus(Ae,Nt):this._onBlur(Ae,Nt)},this._document=It,this._detectionMode=Fe?.detectionMode||0}monitor(ce,Ee=!1){const Xe=(0,Vt.fI)(ce);if(!this._platform.isBrowser||1!==Xe.nodeType)return(0,$e.of)();const It=(0,le.kV)(Xe)||this._getDocument(),Fe=this._elementInfo.get(Xe);if(Fe)return Ee&&(Fe.checkChildren=!0),Fe.subject;const Ae={checkChildren:Ee,subject:new v.x,rootNode:It};return this._elementInfo.set(Xe,Ae),this._registerGlobalListeners(Ae),Ae.subject}stopMonitoring(ce){const Ee=(0,Vt.fI)(ce),Xe=this._elementInfo.get(Ee);Xe&&(Xe.subject.complete(),this._setClasses(Ee),this._elementInfo.delete(Ee),this._removeGlobalListeners(Xe))}focusVia(ce,Ee,Xe){const It=(0,Vt.fI)(ce);It===this._getDocument().activeElement?this._getClosestElementsInfo(It).forEach(([Ae,je])=>this._originChanged(Ae,Ee,je)):(this._setOrigin(Ee),"function"==typeof It.focus&&It.focus(Xe))}ngOnDestroy(){this._elementInfo.forEach((ce,Ee)=>this.stopMonitoring(Ee))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ce){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ce)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ce&&this._isLastInteractionFromInputLabel(ce)?"mouse":"program"}_shouldBeAttributedToTouch(ce){return 1===this._detectionMode||!!ce?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ce,Ee){ce.classList.toggle("cdk-focused",!!Ee),ce.classList.toggle("cdk-touch-focused","touch"===Ee),ce.classList.toggle("cdk-keyboard-focused","keyboard"===Ee),ce.classList.toggle("cdk-mouse-focused","mouse"===Ee),ce.classList.toggle("cdk-program-focused","program"===Ee)}_setOrigin(ce,Ee=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ce,this._originFromTouchInteraction="touch"===ce&&Ee,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ce,Ee){const Xe=this._elementInfo.get(Ee),It=(0,le.sA)(ce);!Xe||!Xe.checkChildren&&Ee!==It||this._originChanged(Ee,this._getFocusOrigin(It),Xe)}_onBlur(ce,Ee){const Xe=this._elementInfo.get(Ee);!Xe||Xe.checkChildren&&ce.relatedTarget instanceof Node&&Ee.contains(ce.relatedTarget)||(this._setClasses(Ee),this._emitOrigin(Xe,null))}_emitOrigin(ce,Ee){ce.subject.observers.length&&this._ngZone.run(()=>ce.subject.next(Ee))}_registerGlobalListeners(ce){if(!this._platform.isBrowser)return;const Ee=ce.rootNode,Xe=this._rootNodeFocusListenerCount.get(Ee)||0;Xe||this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("focus",this._rootNodeFocusAndBlurListener,de),Ee.addEventListener("blur",this._rootNodeFocusAndBlurListener,de)}),this._rootNodeFocusListenerCount.set(Ee,Xe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Mt.R)(this._stopInputModalityDetector)).subscribe(It=>{this._setOrigin(It,!0)}))}_removeGlobalListeners(ce){const Ee=ce.rootNode;if(this._rootNodeFocusListenerCount.has(Ee)){const Xe=this._rootNodeFocusListenerCount.get(Ee);Xe>1?this._rootNodeFocusListenerCount.set(Ee,Xe-1):(Ee.removeEventListener("focus",this._rootNodeFocusAndBlurListener,de),Ee.removeEventListener("blur",this._rootNodeFocusAndBlurListener,de),this._rootNodeFocusListenerCount.delete(Ee))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ce,Ee,Xe){this._setClasses(ce,Ee),this._emitOrigin(Xe,Ee),this._lastFocusOrigin=Ee}_getClosestElementsInfo(ce){const Ee=[];return this._elementInfo.forEach((Xe,It)=>{(It===ce||Xe.checkChildren&&It.contains(ce))&&Ee.push([It,Xe])}),Ee}_isLastInteractionFromInputLabel(ce){const{_mostRecentTarget:Ee,mostRecentModality:Xe}=this._inputModalityDetector;if("mouse"!==Xe||!Ee||Ee===ce||"INPUT"!==ce.nodeName&&"TEXTAREA"!==ce.nodeName||ce.disabled)return!1;const It=ce.labels;if(It)for(let Fe=0;Fe<It.length;Fe++)if(It[Fe].contains(Ee))return!0;return!1}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(l.R0b),l.LFG(le.t4),l.LFG(Qi),l.LFG(C.K0,8),l.LFG(ie,8))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const se="cdk-high-contrast-black-on-white",X="cdk-high-contrast-white-on-black",he="cdk-high-contrast-active";let qe=(()=>{class we{constructor(ce,Ee){this._platform=ce,this._document=Ee,this._breakpointSubscription=(0,l.f3M)(Fi).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ce=this._document.createElement("div");ce.style.backgroundColor="rgb(1,2,3)",ce.style.position="absolute",this._document.body.appendChild(ce);const Ee=this._document.defaultView||window,Xe=Ee&&Ee.getComputedStyle?Ee.getComputedStyle(ce):null,It=(Xe&&Xe.backgroundColor||"").replace(/ /g,"");switch(ce.remove(),It){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ce=this._document.body.classList;ce.remove(he,se,X),this._hasCheckedHighContrastMode=!0;const Ee=this.getHighContrastMode();1===Ee?ce.add(he,se):2===Ee&&ce.add(he,X)}}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(le.t4),l.LFG(C.K0))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),lt=(()=>{class we{constructor(ce){ce._applyBodyHighContrastModeCssClasses()}}return we.\u0275fac=function(ce){return new(ce||we)(l.LFG(qe))},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({imports:[ei.Q8]}),we})()},9388:(yi,_t,H)=>{"use strict";H.d(_t,{Is:()=>$e,vT:()=>Se});var C=H(5879),l=H(6814);const le=new C.OlP("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,C.f3M)(l.K0)}}),Ve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $e=(()=>{class Be{constructor(Le){this.value="ltr",this.change=new C.vpe,Le&&(this.value=function ne(Be){const nt=Be?.toLowerCase()||"";return"auto"===nt&&typeof navigator<"u"&&navigator?.language?Ve.test(navigator.language)?"rtl":"ltr":"rtl"===nt?"rtl":"ltr"}((Le.body?Le.body.dir:null)||(Le.documentElement?Le.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Be.\u0275fac=function(Le){return new(Le||Be)(C.LFG(le,8))},Be.\u0275prov=C.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Se=(()=>{class Be{}return Be.\u0275fac=function(Le){return new(Le||Be)},Be.\u0275mod=C.oAB({type:Be}),Be.\u0275inj=C.cJS({}),Be})()},2495:(yi,_t,H)=>{"use strict";H.d(_t,{Eq:()=>Ve,HM:()=>ne,Ig:()=>l,fI:()=>$e,su:()=>le});var C=H(5879);function l(Se){return null!=Se&&"false"!=`${Se}`}function le(Se,Be=0){return function v(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):Be}function Ve(Se){return Array.isArray(Se)?Se:[Se]}function ne(Se){return null==Se?"":"string"==typeof Se?Se:`${Se}px`}function $e(Se){return Se instanceof C.SBq?Se.nativeElement:Se}},8337:(yi,_t,H)=>{"use strict";H.d(_t,{A8:()=>Be,Ov:()=>Qe});var C=H(8645),l=H(5879);class Qe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(tt=!1,Ke,ut=!0,Mt){this._multiple=tt,this._emitChanges=ut,this.compareWith=Mt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C.x,Ke&&Ke.length&&(tt?Ke.forEach(Vt=>this._markSelected(Vt)):this._markSelected(Ke[0]),this._selectedToEmit.length=0)}select(...tt){this._verifyValueAssignment(tt),tt.forEach(ut=>this._markSelected(ut));const Ke=this._hasQueuedChanges();return this._emitChangeEvent(),Ke}deselect(...tt){this._verifyValueAssignment(tt),tt.forEach(ut=>this._unmarkSelected(ut));const Ke=this._hasQueuedChanges();return this._emitChangeEvent(),Ke}setSelection(...tt){this._verifyValueAssignment(tt);const Ke=this.selected,ut=new Set(tt);tt.forEach(Vt=>this._markSelected(Vt)),Ke.filter(Vt=>!ut.has(Vt)).forEach(Vt=>this._unmarkSelected(Vt));const Mt=this._hasQueuedChanges();return this._emitChangeEvent(),Mt}toggle(tt){return this.isSelected(tt)?this.deselect(tt):this.select(tt)}clear(tt=!0){this._unmarkAll();const Ke=this._hasQueuedChanges();return tt&&this._emitChangeEvent(),Ke}isSelected(tt){return this._selection.has(this._getConcreteValue(tt))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(tt){this._multiple&&this.selected&&this._selected.sort(tt)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(tt){tt=this._getConcreteValue(tt),this.isSelected(tt)||(this._multiple||this._unmarkAll(),this.isSelected(tt)||this._selection.add(tt),this._emitChanges&&this._selectedToEmit.push(tt))}_unmarkSelected(tt){tt=this._getConcreteValue(tt),this.isSelected(tt)&&(this._selection.delete(tt),this._emitChanges&&this._deselectedToEmit.push(tt))}_unmarkAll(){this.isEmpty()||this._selection.forEach(tt=>this._unmarkSelected(tt))}_verifyValueAssignment(tt){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(tt){if(this.compareWith){for(let Ke of this._selection)if(this.compareWith(tt,Ke))return Ke;return tt}return tt}}let Be=(()=>{class Le{constructor(){this._listeners=[]}notify(Ke,ut){for(let Mt of this._listeners)Mt(Ke,ut)}listen(Ke){return this._listeners.push(Ke),()=>{this._listeners=this._listeners.filter(ut=>Ke!==ut)}}ngOnDestroy(){this._listeners=[]}}return Le.\u0275fac=function(Ke){return new(Ke||Le)},Le.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},6028:(yi,_t,H)=>{"use strict";H.d(_t,{A:()=>zt,JH:()=>ti,JU:()=>ne,K5:()=>Ve,Ku:()=>tt,LH:()=>ei,L_:()=>Le,MW:()=>et,Mf:()=>le,SV:()=>Di,Sd:()=>Mt,VM:()=>Ke,Vb:()=>Uo,Z:()=>be,aO:()=>Fn,b2:()=>Xi,hY:()=>nt,jx:()=>$e,oh:()=>Vt,uR:()=>ut,xE:()=>Ot,zL:()=>Qe});const le=9,Ve=13,ne=16,$e=17,Qe=18,nt=27,Le=32,tt=33,Ke=34,ut=35,Mt=36,Vt=37,ei=38,Di=39,ti=40,Ot=48,Fn=57,zt=65,be=90,et=91,Xi=224;function Uo(yr,...Qn){return Qn.length?Qn.some(Po=>yr[Po]):yr.altKey||yr.shiftKey||yr.ctrlKey||yr.metaKey}},7131:(yi,_t,H)=>{"use strict";H.d(_t,{Q8:()=>Se,wD:()=>Qe});var C=H(2495),l=H(5879),le=H(5592),v=H(8645),Ve=H(3620);let ne=(()=>{class Be{create(Le){return typeof MutationObserver>"u"?null:new MutationObserver(Le)}}return Be.\u0275fac=function(Le){return new(Le||Be)},Be.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),$e=(()=>{class Be{constructor(Le){this._mutationObserverFactory=Le,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Le,tt)=>this._cleanupObserver(tt))}observe(Le){const tt=(0,C.fI)(Le);return new le.y(Ke=>{const Mt=this._observeElement(tt).subscribe(Ke);return()=>{Mt.unsubscribe(),this._unobserveElement(tt)}})}_observeElement(Le){if(this._observedElements.has(Le))this._observedElements.get(Le).count++;else{const tt=new v.x,Ke=this._mutationObserverFactory.create(ut=>tt.next(ut));Ke&&Ke.observe(Le,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Le,{observer:Ke,stream:tt,count:1})}return this._observedElements.get(Le).stream}_unobserveElement(Le){this._observedElements.has(Le)&&(this._observedElements.get(Le).count--,this._observedElements.get(Le).count||this._cleanupObserver(Le))}_cleanupObserver(Le){if(this._observedElements.has(Le)){const{observer:tt,stream:Ke}=this._observedElements.get(Le);tt&&tt.disconnect(),Ke.complete(),this._observedElements.delete(Le)}}}return Be.\u0275fac=function(Le){return new(Le||Be)(l.LFG(ne))},Be.\u0275prov=l.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Qe=(()=>{class Be{get disabled(){return this._disabled}set disabled(Le){this._disabled=(0,C.Ig)(Le),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Le){this._debounce=(0,C.su)(Le),this._subscribe()}constructor(Le,tt,Ke){this._contentObserver=Le,this._elementRef=tt,this._ngZone=Ke,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Le=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Le.pipe((0,Ve.b)(this.debounce)):Le).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return Be.\u0275fac=function(Le){return new(Le||Be)(l.Y36($e),l.Y36(l.SBq),l.Y36(l.R0b))},Be.\u0275dir=l.lG2({type:Be,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Be})(),Se=(()=>{class Be{}return Be.\u0275fac=function(Le){return new(Le||Be)},Be.\u0275mod=l.oAB({type:Be}),Be.\u0275inj=l.cJS({providers:[ne]}),Be})()},3651:(yi,_t,H)=>{"use strict";H.d(_t,{pI:()=>bt,xu:()=>bi,aV:()=>gi,U8:()=>Hi});var C=H(799),l=H(6814),le=H(5879),v=H(2495),Ve=H(2831),ne=H(2181),$e=H(8180),Qe=H(9773),Se=H(9360),Be=H(8251),Le=H(9388),tt=H(8484),Ke=H(8645),ut=H(7394),Mt=H(3019),Vt=H(6028);const ei=(0,Ve.Mq)();class Di{constructor(ue,Te){this._viewportRuler=ue,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Te}attach(){}enable(){if(this._canBeEnabled()){const ue=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ue.style.left||"",this._previousHTMLStyles.top=ue.style.top||"",ue.style.left=(0,v.HM)(-this._previousScrollPosition.left),ue.style.top=(0,v.HM)(-this._previousScrollPosition.top),ue.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ue=this._document.documentElement,Pe=ue.style,Ie=this._document.body.style,be=Pe.scrollBehavior||"",et=Ie.scrollBehavior||"";this._isEnabled=!1,Pe.left=this._previousHTMLStyles.left,Pe.top=this._previousHTMLStyles.top,ue.classList.remove("cdk-global-scrollblock"),ei&&(Pe.scrollBehavior=Ie.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ei&&(Pe.scrollBehavior=be,Ie.scrollBehavior=et)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Te=this._document.body,Pe=this._viewportRuler.getViewportSize();return Te.scrollHeight>Pe.height||Te.scrollWidth>Pe.width}}class Oe{constructor(ue,Te,Pe,Ie){this._scrollDispatcher=ue,this._ngZone=Te,this._viewportRuler=Pe,this._config=Ie,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ue){this._overlayRef=ue}enable(){if(this._scrollSubscription)return;const ue=this._scrollDispatcher.scrolled(0).pipe((0,ne.h)(Te=>!Te||!this._overlayRef.overlayElement.contains(Te.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ue.subscribe(()=>{const Te=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Te-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ue.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class We{enable(){}disable(){}attach(){}}function Re(wt,ue){return ue.some(Te=>wt.bottom<Te.top||wt.top>Te.bottom||wt.right<Te.left||wt.left>Te.right)}function Ft(wt,ue){return ue.some(Te=>wt.top<Te.top||wt.bottom>Te.bottom||wt.left<Te.left||wt.right>Te.right)}class Ot{constructor(ue,Te,Pe,Ie){this._scrollDispatcher=ue,this._viewportRuler=Te,this._ngZone=Pe,this._config=Ie,this._scrollSubscription=null}attach(ue){this._overlayRef=ue}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Te=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Pe,height:Ie}=this._viewportRuler.getViewportSize();Re(Te,[{width:Pe,height:Ie,bottom:Ie,right:Pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Bt=(()=>{class wt{constructor(Te,Pe,Ie,be){this._scrollDispatcher=Te,this._viewportRuler=Pe,this._ngZone=Ie,this.noop=()=>new We,this.close=et=>new Oe(this._scrollDispatcher,this._ngZone,this._viewportRuler,et),this.block=()=>new Di(this._viewportRuler,this._document),this.reposition=et=>new Ot(this._scrollDispatcher,this._viewportRuler,this._ngZone,et),this._document=be}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(C.mF),le.LFG(C.rL),le.LFG(le.R0b),le.LFG(l.K0))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();class ui{constructor(ue){if(this.scrollStrategy=new We,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ue){const Te=Object.keys(ue);for(const Pe of Te)void 0!==ue[Pe]&&(this[Pe]=ue[Pe])}}}class Bi{constructor(ue,Te){this.connectionPair=ue,this.scrollableViewProperties=Te}}let vn=(()=>{class wt{constructor(Te){this._attachedOverlays=[],this._document=Te}ngOnDestroy(){this.detach()}add(Te){this.remove(Te),this._attachedOverlays.push(Te)}remove(Te){const Pe=this._attachedOverlays.indexOf(Te);Pe>-1&&this._attachedOverlays.splice(Pe,1),0===this._attachedOverlays.length&&this.detach()}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(l.K0))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Fn=(()=>{class wt extends vn{constructor(Te,Pe){super(Te),this._ngZone=Pe,this._keydownListener=Ie=>{const be=this._attachedOverlays;for(let et=be.length-1;et>-1;et--)if(be[et]._keydownEvents.observers.length>0){const Ye=be[et]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ye.next(Ie)):Ye.next(Ie);break}}}add(Te){super.add(Te),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(l.K0),le.LFG(le.R0b,8))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Pn=(()=>{class wt extends vn{constructor(Te,Pe,Ie){super(Te),this._platform=Pe,this._ngZone=Ie,this._cursorStyleIsSet=!1,this._pointerDownListener=be=>{this._pointerDownEventTarget=(0,Ve.sA)(be)},this._clickListener=be=>{const et=(0,Ve.sA)(be),Ye="click"===be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:et;this._pointerDownEventTarget=null;const Zt=this._attachedOverlays.slice();for(let ii=Zt.length-1;ii>-1;ii--){const wi=Zt[ii];if(wi._outsidePointerEvents.observers.length<1||!wi.hasAttached())continue;if(wi.overlayElement.contains(et)||wi.overlayElement.contains(Ye))break;const pi=wi._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>pi.next(be)):pi.next(be)}}}add(Te){if(super.add(Te),!this._isAttached){const Pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Pe)):this._addEventListeners(Pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Pe.style.cursor,Pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Te=this._document.body;Te.removeEventListener("pointerdown",this._pointerDownListener,!0),Te.removeEventListener("click",this._clickListener,!0),Te.removeEventListener("auxclick",this._clickListener,!0),Te.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Te.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Te){Te.addEventListener("pointerdown",this._pointerDownListener,!0),Te.addEventListener("click",this._clickListener,!0),Te.addEventListener("auxclick",this._clickListener,!0),Te.addEventListener("contextmenu",this._clickListener,!0)}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(l.K0),le.LFG(Ve.t4),le.LFG(le.R0b,8))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),vt=(()=>{class wt{constructor(Te,Pe){this._platform=Pe,this._document=Te}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te="cdk-overlay-container";if(this._platform.isBrowser||(0,Ve.Oy)()){const Ie=this._document.querySelectorAll(`.${Te}[platform="server"], .${Te}[platform="test"]`);for(let be=0;be<Ie.length;be++)Ie[be].remove()}const Pe=this._document.createElement("div");Pe.classList.add(Te),(0,Ve.Oy)()?Pe.setAttribute("platform","test"):this._platform.isBrowser||Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._containerElement=Pe}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(l.K0),le.LFG(Ve.t4))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();class Ct{constructor(ue,Te,Pe,Ie,be,et,Ye,Zt,ii,wi=!1){this._portalOutlet=ue,this._host=Te,this._pane=Pe,this._config=Ie,this._ngZone=be,this._keyboardDispatcher=et,this._document=Ye,this._location=Zt,this._outsideClickDispatcher=ii,this._animationsDisabled=wi,this._backdropElement=null,this._backdropClick=new Ke.x,this._attachments=new Ke.x,this._detachments=new Ke.x,this._locationChanges=ut.w0.EMPTY,this._backdropClickHandler=pi=>this._backdropClick.next(pi),this._backdropTransitionendHandler=pi=>{this._disposeBackdrop(pi.target)},this._keydownEvents=new Ke.x,this._outsidePointerEvents=new Ke.x,Ie.scrollStrategy&&(this._scrollStrategy=Ie.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ie.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ue){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Te=this._portalOutlet.attach(ue);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Te?.onDestroy&&Te.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Te}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ue=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ue}dispose(){const ue=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ue&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ue){ue!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ue,this.hasAttached()&&(ue.attach(this),this.updatePosition()))}updateSize(ue){this._config={...this._config,...ue},this._updateElementSize()}setDirection(ue){this._config={...this._config,direction:ue},this._updateElementDirection()}addPanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!0)}removePanelClass(ue){this._pane&&this._toggleClasses(this._pane,ue,!1)}getDirection(){const ue=this._config.direction;return ue?"string"==typeof ue?ue:ue.value:"ltr"}updateScrollStrategy(ue){ue!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ue,this.hasAttached()&&(ue.attach(this),ue.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ue=this._pane.style;ue.width=(0,v.HM)(this._config.width),ue.height=(0,v.HM)(this._config.height),ue.minWidth=(0,v.HM)(this._config.minWidth),ue.minHeight=(0,v.HM)(this._config.minHeight),ue.maxWidth=(0,v.HM)(this._config.maxWidth),ue.maxHeight=(0,v.HM)(this._config.maxHeight)}_togglePointerEvents(ue){this._pane.style.pointerEvents=ue?"":"none"}_attachBackdrop(){const ue="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ue)})}):this._backdropElement.classList.add(ue)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ue=this._backdropElement;if(ue){if(this._animationsDisabled)return void this._disposeBackdrop(ue);ue.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ue.addEventListener("transitionend",this._backdropTransitionendHandler)}),ue.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ue)},500))}}_toggleClasses(ue,Te,Pe){const Ie=(0,v.Eq)(Te||[]).filter(be=>!!be);Ie.length&&(Pe?ue.classList.add(...Ie):ue.classList.remove(...Ie))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ue=this._ngZone.onStable.pipe((0,Qe.R)((0,Mt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ue.unsubscribe())})})}_disposeScrollStrategy(){const ue=this._scrollStrategy;ue&&(ue.disable(),ue.detach&&ue.detach())}_disposeBackdrop(ue){ue&&(ue.removeEventListener("click",this._backdropClickHandler),ue.removeEventListener("transitionend",this._backdropTransitionendHandler),ue.remove(),this._backdropElement===ue&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Rt="cdk-overlay-connected-position-bounding-box",zt=/([A-Za-z%]+)$/;class Jt{get positions(){return this._preferredPositions}constructor(ue,Te,Pe,Ie,be){this._viewportRuler=Te,this._document=Pe,this._platform=Ie,this._overlayContainer=be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ke.x,this._resizeSubscription=ut.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ue)}attach(ue){this._validatePositions(),ue.hostElement.classList.add(Rt),this._overlayRef=ue,this._boundingBox=ue.hostElement,this._pane=ue.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._originRect,Te=this._overlayRect,Pe=this._viewportRect,Ie=this._containerRect,be=[];let et;for(let Ye of this._preferredPositions){let Zt=this._getOriginPoint(ue,Ie,Ye),ii=this._getOverlayPoint(Zt,Te,Ye),wi=this._getOverlayFit(ii,Te,Pe,Ye);if(wi.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ye,Zt);this._canFitWithFlexibleDimensions(wi,ii,Pe)?be.push({position:Ye,origin:Zt,overlayRect:Te,boundingBoxRect:this._calculateBoundingBoxRect(Zt,Ye)}):(!et||et.overlayFit.visibleArea<wi.visibleArea)&&(et={overlayFit:wi,overlayPoint:ii,originPoint:Zt,position:Ye,overlayRect:Te})}if(be.length){let Ye=null,Zt=-1;for(const ii of be){const wi=ii.boundingBoxRect.width*ii.boundingBoxRect.height*(ii.position.weight||1);wi>Zt&&(Zt=wi,Ye=ii)}return this._isPushed=!1,void this._applyPosition(Ye.position,Ye.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(et.position,et.originPoint);this._applyPosition(et.position,et.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ue=this._lastPosition;if(ue){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Te=this._getOriginPoint(this._originRect,this._containerRect,ue);this._applyPosition(ue,Te)}else this.apply()}withScrollableContainers(ue){return this._scrollables=ue,this}withPositions(ue){return this._preferredPositions=ue,-1===ue.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ue){return this._viewportMargin=ue,this}withFlexibleDimensions(ue=!0){return this._hasFlexibleDimensions=ue,this}withGrowAfterOpen(ue=!0){return this._growAfterOpen=ue,this}withPush(ue=!0){return this._canPush=ue,this}withLockedPosition(ue=!0){return this._positionLocked=ue,this}setOrigin(ue){return this._origin=ue,this}withDefaultOffsetX(ue){return this._offsetX=ue,this}withDefaultOffsetY(ue){return this._offsetY=ue,this}withTransformOriginOn(ue){return this._transformOriginSelector=ue,this}_getOriginPoint(ue,Te,Pe){let Ie,be;if("center"==Pe.originX)Ie=ue.left+ue.width/2;else{const et=this._isRtl()?ue.right:ue.left,Ye=this._isRtl()?ue.left:ue.right;Ie="start"==Pe.originX?et:Ye}return Te.left<0&&(Ie-=Te.left),be="center"==Pe.originY?ue.top+ue.height/2:"top"==Pe.originY?ue.top:ue.bottom,Te.top<0&&(be-=Te.top),{x:Ie,y:be}}_getOverlayPoint(ue,Te,Pe){let Ie,be;return Ie="center"==Pe.overlayX?-Te.width/2:"start"===Pe.overlayX?this._isRtl()?-Te.width:0:this._isRtl()?0:-Te.width,be="center"==Pe.overlayY?-Te.height/2:"top"==Pe.overlayY?0:-Te.height,{x:ue.x+Ie,y:ue.y+be}}_getOverlayFit(ue,Te,Pe,Ie){const be=Ne(Te);let{x:et,y:Ye}=ue,Zt=this._getOffset(Ie,"x"),ii=this._getOffset(Ie,"y");Zt&&(et+=Zt),ii&&(Ye+=ii);let $t=0-Ye,Ci=Ye+be.height-Pe.height,Ei=this._subtractOverflows(be.width,0-et,et+be.width-Pe.width),Qi=this._subtractOverflows(be.height,$t,Ci),Pt=Ei*Qi;return{visibleArea:Pt,isCompletelyWithinViewport:be.width*be.height===Pt,fitsInViewportVertically:Qi===be.height,fitsInViewportHorizontally:Ei==be.width}}_canFitWithFlexibleDimensions(ue,Te,Pe){if(this._hasFlexibleDimensions){const Ie=Pe.bottom-Te.y,be=Pe.right-Te.x,et=si(this._overlayRef.getConfig().minHeight),Ye=si(this._overlayRef.getConfig().minWidth);return(ue.fitsInViewportVertically||null!=et&&et<=Ie)&&(ue.fitsInViewportHorizontally||null!=Ye&&Ye<=be)}return!1}_pushOverlayOnScreen(ue,Te,Pe){if(this._previousPushAmount&&this._positionLocked)return{x:ue.x+this._previousPushAmount.x,y:ue.y+this._previousPushAmount.y};const Ie=Ne(Te),be=this._viewportRect,et=Math.max(ue.x+Ie.width-be.width,0),Ye=Math.max(ue.y+Ie.height-be.height,0),Zt=Math.max(be.top-Pe.top-ue.y,0),ii=Math.max(be.left-Pe.left-ue.x,0);let wi=0,pi=0;return wi=Ie.width<=be.width?ii||-et:ue.x<this._viewportMargin?be.left-Pe.left-ue.x:0,pi=Ie.height<=be.height?Zt||-Ye:ue.y<this._viewportMargin?be.top-Pe.top-ue.y:0,this._previousPushAmount={x:wi,y:pi},{x:ue.x+wi,y:ue.y+pi}}_applyPosition(ue,Te){if(this._setTransformOrigin(ue),this._setOverlayElementStyles(Te,ue),this._setBoundingBoxStyles(Te,ue),ue.panelClass&&this._addPanelClasses(ue.panelClass),this._lastPosition=ue,this._positionChanges.observers.length){const Pe=this._getScrollVisibility(),Ie=new Bi(ue,Pe);this._positionChanges.next(Ie)}this._isInitialRender=!1}_setTransformOrigin(ue){if(!this._transformOriginSelector)return;const Te=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Pe,Ie=ue.overlayY;Pe="center"===ue.overlayX?"center":this._isRtl()?"start"===ue.overlayX?"right":"left":"start"===ue.overlayX?"left":"right";for(let be=0;be<Te.length;be++)Te[be].style.transformOrigin=`${Pe} ${Ie}`}_calculateBoundingBoxRect(ue,Te){const Pe=this._viewportRect,Ie=this._isRtl();let be,et,Ye,wi,pi,$t;if("top"===Te.overlayY)et=ue.y,be=Pe.height-et+this._viewportMargin;else if("bottom"===Te.overlayY)Ye=Pe.height-ue.y+2*this._viewportMargin,be=Pe.height-Ye+this._viewportMargin;else{const Ci=Math.min(Pe.bottom-ue.y+Pe.top,ue.y),Ei=this._lastBoundingBoxSize.height;be=2*Ci,et=ue.y-Ci,be>Ei&&!this._isInitialRender&&!this._growAfterOpen&&(et=ue.y-Ei/2)}if("end"===Te.overlayX&&!Ie||"start"===Te.overlayX&&Ie)$t=Pe.width-ue.x+this._viewportMargin,wi=ue.x-this._viewportMargin;else if("start"===Te.overlayX&&!Ie||"end"===Te.overlayX&&Ie)pi=ue.x,wi=Pe.right-ue.x;else{const Ci=Math.min(Pe.right-ue.x+Pe.left,ue.x),Ei=this._lastBoundingBoxSize.width;wi=2*Ci,pi=ue.x-Ci,wi>Ei&&!this._isInitialRender&&!this._growAfterOpen&&(pi=ue.x-Ei/2)}return{top:et,left:pi,bottom:Ye,right:$t,width:wi,height:be}}_setBoundingBoxStyles(ue,Te){const Pe=this._calculateBoundingBoxRect(ue,Te);!this._isInitialRender&&!this._growAfterOpen&&(Pe.height=Math.min(Pe.height,this._lastBoundingBoxSize.height),Pe.width=Math.min(Pe.width,this._lastBoundingBoxSize.width));const Ie={};if(this._hasExactPosition())Ie.top=Ie.left="0",Ie.bottom=Ie.right=Ie.maxHeight=Ie.maxWidth="",Ie.width=Ie.height="100%";else{const be=this._overlayRef.getConfig().maxHeight,et=this._overlayRef.getConfig().maxWidth;Ie.height=(0,v.HM)(Pe.height),Ie.top=(0,v.HM)(Pe.top),Ie.bottom=(0,v.HM)(Pe.bottom),Ie.width=(0,v.HM)(Pe.width),Ie.left=(0,v.HM)(Pe.left),Ie.right=(0,v.HM)(Pe.right),Ie.alignItems="center"===Te.overlayX?"center":"end"===Te.overlayX?"flex-end":"flex-start",Ie.justifyContent="center"===Te.overlayY?"center":"bottom"===Te.overlayY?"flex-end":"flex-start",be&&(Ie.maxHeight=(0,v.HM)(be)),et&&(Ie.maxWidth=(0,v.HM)(et))}this._lastBoundingBoxSize=Pe,Dt(this._boundingBox.style,Ie)}_resetBoundingBoxStyles(){Dt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ue,Te){const Pe={},Ie=this._hasExactPosition(),be=this._hasFlexibleDimensions,et=this._overlayRef.getConfig();if(Ie){const wi=this._viewportRuler.getViewportScrollPosition();Dt(Pe,this._getExactOverlayY(Te,ue,wi)),Dt(Pe,this._getExactOverlayX(Te,ue,wi))}else Pe.position="static";let Ye="",Zt=this._getOffset(Te,"x"),ii=this._getOffset(Te,"y");Zt&&(Ye+=`translateX(${Zt}px) `),ii&&(Ye+=`translateY(${ii}px)`),Pe.transform=Ye.trim(),et.maxHeight&&(Ie?Pe.maxHeight=(0,v.HM)(et.maxHeight):be&&(Pe.maxHeight="")),et.maxWidth&&(Ie?Pe.maxWidth=(0,v.HM)(et.maxWidth):be&&(Pe.maxWidth="")),Dt(this._pane.style,Pe)}_getExactOverlayY(ue,Te,Pe){let Ie={top:"",bottom:""},be=this._getOverlayPoint(Te,this._overlayRect,ue);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Pe)),"bottom"===ue.overlayY?Ie.bottom=this._document.documentElement.clientHeight-(be.y+this._overlayRect.height)+"px":Ie.top=(0,v.HM)(be.y),Ie}_getExactOverlayX(ue,Te,Pe){let et,Ie={left:"",right:""},be=this._getOverlayPoint(Te,this._overlayRect,ue);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Pe)),et=this._isRtl()?"end"===ue.overlayX?"left":"right":"end"===ue.overlayX?"right":"left","right"===et?Ie.right=this._document.documentElement.clientWidth-(be.x+this._overlayRect.width)+"px":Ie.left=(0,v.HM)(be.x),Ie}_getScrollVisibility(){const ue=this._getOriginRect(),Te=this._pane.getBoundingClientRect(),Pe=this._scrollables.map(Ie=>Ie.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ft(ue,Pe),isOriginOutsideView:Re(ue,Pe),isOverlayClipped:Ft(Te,Pe),isOverlayOutsideView:Re(Te,Pe)}}_subtractOverflows(ue,...Te){return Te.reduce((Pe,Ie)=>Pe-Math.max(Ie,0),ue)}_getNarrowedViewportRect(){const ue=this._document.documentElement.clientWidth,Te=this._document.documentElement.clientHeight,Pe=this._viewportRuler.getViewportScrollPosition();return{top:Pe.top+this._viewportMargin,left:Pe.left+this._viewportMargin,right:Pe.left+ue-this._viewportMargin,bottom:Pe.top+Te-this._viewportMargin,width:ue-2*this._viewportMargin,height:Te-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ue,Te){return"x"===Te?null==ue.offsetX?this._offsetX:ue.offsetX:null==ue.offsetY?this._offsetY:ue.offsetY}_validatePositions(){}_addPanelClasses(ue){this._pane&&(0,v.Eq)(ue).forEach(Te=>{""!==Te&&-1===this._appliedPanelClasses.indexOf(Te)&&(this._appliedPanelClasses.push(Te),this._pane.classList.add(Te))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ue=>{this._pane.classList.remove(ue)}),this._appliedPanelClasses=[])}_getOriginRect(){const ue=this._origin;if(ue instanceof le.SBq)return ue.nativeElement.getBoundingClientRect();if(ue instanceof Element)return ue.getBoundingClientRect();const Te=ue.width||0,Pe=ue.height||0;return{top:ue.y,bottom:ue.y+Pe,left:ue.x,right:ue.x+Te,height:Pe,width:Te}}}function Dt(wt,ue){for(let Te in ue)ue.hasOwnProperty(Te)&&(wt[Te]=ue[Te]);return wt}function si(wt){if("number"!=typeof wt&&null!=wt){const[ue,Te]=wt.split(zt);return Te&&"px"!==Te?null:parseFloat(ue)}return wt||null}function Ne(wt){return{top:Math.floor(wt.top),right:Math.floor(wt.right),bottom:Math.floor(wt.bottom),left:Math.floor(wt.left),width:Math.floor(wt.width),height:Math.floor(wt.height)}}const ct="cdk-global-overlay-wrapper";class ft{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ue){const Te=ue.getConfig();this._overlayRef=ue,this._width&&!Te.width&&ue.updateSize({width:this._width}),this._height&&!Te.height&&ue.updateSize({height:this._height}),ue.hostElement.classList.add(ct),this._isDisposed=!1}top(ue=""){return this._bottomOffset="",this._topOffset=ue,this._alignItems="flex-start",this}left(ue=""){return this._xOffset=ue,this._xPosition="left",this}bottom(ue=""){return this._topOffset="",this._bottomOffset=ue,this._alignItems="flex-end",this}right(ue=""){return this._xOffset=ue,this._xPosition="right",this}start(ue=""){return this._xOffset=ue,this._xPosition="start",this}end(ue=""){return this._xOffset=ue,this._xPosition="end",this}width(ue=""){return this._overlayRef?this._overlayRef.updateSize({width:ue}):this._width=ue,this}height(ue=""){return this._overlayRef?this._overlayRef.updateSize({height:ue}):this._height=ue,this}centerHorizontally(ue=""){return this.left(ue),this._xPosition="center",this}centerVertically(ue=""){return this.top(ue),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ue=this._overlayRef.overlayElement.style,Te=this._overlayRef.hostElement.style,Pe=this._overlayRef.getConfig(),{width:Ie,height:be,maxWidth:et,maxHeight:Ye}=Pe,Zt=!("100%"!==Ie&&"100vw"!==Ie||et&&"100%"!==et&&"100vw"!==et),ii=!("100%"!==be&&"100vh"!==be||Ye&&"100%"!==Ye&&"100vh"!==Ye),wi=this._xPosition,pi=this._xOffset,$t="rtl"===this._overlayRef.getConfig().direction;let Ci="",Ei="",Qi="";Zt?Qi="flex-start":"center"===wi?(Qi="center",$t?Ei=pi:Ci=pi):$t?"left"===wi||"end"===wi?(Qi="flex-end",Ci=pi):("right"===wi||"start"===wi)&&(Qi="flex-start",Ei=pi):"left"===wi||"start"===wi?(Qi="flex-start",Ci=pi):("right"===wi||"end"===wi)&&(Qi="flex-end",Ei=pi),ue.position=this._cssPosition,ue.marginLeft=Zt?"0":Ci,ue.marginTop=ii?"0":this._topOffset,ue.marginBottom=this._bottomOffset,ue.marginRight=Zt?"0":Ei,Te.justifyContent=Qi,Te.alignItems=ii?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ue=this._overlayRef.overlayElement.style,Te=this._overlayRef.hostElement,Pe=Te.style;Te.classList.remove(ct),Pe.justifyContent=Pe.alignItems=ue.marginTop=ue.marginBottom=ue.marginLeft=ue.marginRight=ue.position="",this._overlayRef=null,this._isDisposed=!0}}let Yt=(()=>{class wt{constructor(Te,Pe,Ie,be){this._viewportRuler=Te,this._document=Pe,this._platform=Ie,this._overlayContainer=be}global(){return new ft}flexibleConnectedTo(Te){return new Jt(Te,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(C.rL),le.LFG(l.K0),le.LFG(Ve.t4),le.LFG(vt))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),qt=0,gi=(()=>{class wt{constructor(Te,Pe,Ie,be,et,Ye,Zt,ii,wi,pi,$t,Ci){this.scrollStrategies=Te,this._overlayContainer=Pe,this._componentFactoryResolver=Ie,this._positionBuilder=be,this._keyboardDispatcher=et,this._injector=Ye,this._ngZone=Zt,this._document=ii,this._directionality=wi,this._location=pi,this._outsideClickDispatcher=$t,this._animationsModuleType=Ci}create(Te){const Pe=this._createHostElement(),Ie=this._createPaneElement(Pe),be=this._createPortalOutlet(Ie),et=new ui(Te);return et.direction=et.direction||this._directionality.value,new Ct(be,Pe,Ie,et,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Te){const Pe=this._document.createElement("div");return Pe.id="cdk-overlay-"+qt++,Pe.classList.add("cdk-overlay-pane"),Te.appendChild(Pe),Pe}_createHostElement(){const Te=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Te),Te}_createPortalOutlet(Te){return this._appRef||(this._appRef=this._injector.get(le.z2F)),new tt.u0(Te,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.LFG(Bt),le.LFG(vt),le.LFG(le._Vd),le.LFG(Yt),le.LFG(Fn),le.LFG(le.zs3),le.LFG(le.R0b),le.LFG(l.K0),le.LFG(Le.Is),le.LFG(l.Ye),le.LFG(Pn),le.LFG(le.QbO,8))},wt.\u0275prov=le.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();const ot=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Tt=new le.OlP("cdk-connected-overlay-scroll-strategy");let bi=(()=>{class wt{constructor(Te){this.elementRef=Te}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.Y36(le.SBq))},wt.\u0275dir=le.lG2({type:wt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),wt})(),bt=(()=>{class wt{get offsetX(){return this._offsetX}set offsetX(Te){this._offsetX=Te,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Te){this._offsetY=Te,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Te){this._hasBackdrop=(0,v.Ig)(Te)}get lockPosition(){return this._lockPosition}set lockPosition(Te){this._lockPosition=(0,v.Ig)(Te)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Te){this._flexibleDimensions=(0,v.Ig)(Te)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Te){this._growAfterOpen=(0,v.Ig)(Te)}get push(){return this._push}set push(Te){this._push=(0,v.Ig)(Te)}constructor(Te,Pe,Ie,be,et){this._overlay=Te,this._dir=et,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ut.w0.EMPTY,this._attachSubscription=ut.w0.EMPTY,this._detachSubscription=ut.w0.EMPTY,this._positionSubscription=ut.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new le.vpe,this.positionChange=new le.vpe,this.attach=new le.vpe,this.detach=new le.vpe,this.overlayKeydown=new le.vpe,this.overlayOutsideClick=new le.vpe,this._templatePortal=new tt.UE(Pe,Ie),this._scrollStrategyFactory=be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Te){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Te.origin&&this.open&&this._position.apply()),Te.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ot);const Te=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Te.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Te.detachments().subscribe(()=>this.detach.emit()),Te.keydownEvents().subscribe(Pe=>{this.overlayKeydown.next(Pe),Pe.keyCode===Vt.hY&&!this.disableClose&&!(0,Vt.Vb)(Pe)&&(Pe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Pe=>{this.overlayOutsideClick.next(Pe)})}_buildConfig(){const Te=this._position=this.positionStrategy||this._createPositionStrategy(),Pe=new ui({direction:this._dir,positionStrategy:Te,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Pe.width=this.width),(this.height||0===this.height)&&(Pe.height=this.height),(this.minWidth||0===this.minWidth)&&(Pe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Pe.minHeight=this.minHeight),this.backdropClass&&(Pe.backdropClass=this.backdropClass),this.panelClass&&(Pe.panelClass=this.panelClass),Pe}_updatePositionStrategy(Te){const Pe=this.positions.map(Ie=>({originX:Ie.originX,originY:Ie.originY,overlayX:Ie.overlayX,overlayY:Ie.overlayY,offsetX:Ie.offsetX||this.offsetX,offsetY:Ie.offsetY||this.offsetY,panelClass:Ie.panelClass||void 0}));return Te.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Pe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Te=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Te),Te}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bi?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Te=>{this.backdropClick.emit(Te)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function nt(wt,ue=!1){return(0,Se.e)((Te,Pe)=>{let Ie=0;Te.subscribe((0,Be.x)(Pe,be=>{const et=wt(be,Ie++);(et||ue)&&Pe.next(be),!et&&Pe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Te=>{this.positionChange.emit(Te),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return wt.\u0275fac=function(Te){return new(Te||wt)(le.Y36(gi),le.Y36(le.Rgc),le.Y36(le.s_b),le.Y36(Tt),le.Y36(Le.Is,8))},wt.\u0275dir=le.lG2({type:wt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[le.TTD]}),wt})();const zn={provide:Tt,deps:[gi],useFactory:function rn(wt){return()=>wt.scrollStrategies.reposition()}};let Hi=(()=>{class wt{}return wt.\u0275fac=function(Te){return new(Te||wt)},wt.\u0275mod=le.oAB({type:wt}),wt.\u0275inj=le.cJS({providers:[gi,zn],imports:[Le.vT,tt.eL,C.Cl,C.Cl]}),wt})()},2831:(yi,_t,H)=>{"use strict";H.d(_t,{Mq:()=>Ke,Oy:()=>Oe,_i:()=>ut,ht:()=>Di,i$:()=>nt,kV:()=>ei,qK:()=>Qe,sA:()=>ti,t4:()=>v});var C=H(5879),l=H(6814);let le;try{le=typeof Intl<"u"&&Intl.v8BreakIterator}catch{le=!1}let ne,v=(()=>{class We{constructor(Ft){this._platformId=Ft,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!le)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return We.\u0275fac=function(Ft){return new(Ft||We)(C.LFG(C.Lbi))},We.\u0275prov=C.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();const $e=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Qe(){if(ne)return ne;if("object"!=typeof document||!document)return ne=new Set($e),ne;let We=document.createElement("input");return ne=new Set($e.filter(Re=>(We.setAttribute("type",Re),We.type===Re))),ne}let Se,Le,tt,Mt;function nt(We){return function Be(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?We:!!We.capture}function Ke(){if(null==tt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tt=!1,tt;if("scrollBehavior"in document.documentElement.style)tt=!0;else{const We=Element.prototype.scrollTo;tt=!!We&&!/\{\s*\[native code\]\s*\}/.test(We.toString())}}return tt}function ut(){if("object"!=typeof document||!document)return 0;if(null==Le){const We=document.createElement("div"),Re=We.style;We.dir="rtl",Re.width="1px",Re.overflow="auto",Re.visibility="hidden",Re.pointerEvents="none",Re.position="absolute";const Ft=document.createElement("div"),Ot=Ft.style;Ot.width="2px",Ot.height="1px",We.appendChild(Ft),document.body.appendChild(We),Le=0,0===We.scrollLeft&&(We.scrollLeft=1,Le=0===We.scrollLeft?1:2),We.remove()}return Le}function ei(We){if(function Vt(){if(null==Mt){const We=typeof document<"u"?document.head:null;Mt=!(!We||!We.createShadowRoot&&!We.attachShadow)}return Mt}()){const Re=We.getRootNode?We.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Re instanceof ShadowRoot)return Re}return null}function Di(){let We=typeof document<"u"&&document?document.activeElement:null;for(;We&&We.shadowRoot;){const Re=We.shadowRoot.activeElement;if(Re===We)break;We=Re}return We}function ti(We){return We.composedPath?We.composedPath()[0]:We.target}function Oe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(yi,_t,H)=>{"use strict";H.d(_t,{C5:()=>Se,UE:()=>Be,bH:()=>Vt,eL:()=>ti,ig:()=>Mt,u0:()=>Ke});var C=H(5879);class Qe{attach(Re){return this._attachedHost=Re,Re.attach(this)}detach(){let Re=this._attachedHost;null!=Re&&(this._attachedHost=null,Re.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Re){this._attachedHost=Re}}class Se extends Qe{constructor(Re,Ft,Ot,Bt,ui){super(),this.component=Re,this.viewContainerRef=Ft,this.injector=Ot,this.componentFactoryResolver=Bt,this.projectableNodes=ui}}class Be extends Qe{constructor(Re,Ft,Ot,Bt){super(),this.templateRef=Re,this.viewContainerRef=Ft,this.context=Ot,this.injector=Bt}get origin(){return this.templateRef.elementRef}attach(Re,Ft=this.context){return this.context=Ft,super.attach(Re)}detach(){return this.context=void 0,super.detach()}}class nt extends Qe{constructor(Re){super(),this.element=Re instanceof C.SBq?Re.nativeElement:Re}}class Le{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Re){return Re instanceof Se?(this._attachedPortal=Re,this.attachComponentPortal(Re)):Re instanceof Be?(this._attachedPortal=Re,this.attachTemplatePortal(Re)):this.attachDomPortal&&Re instanceof nt?(this._attachedPortal=Re,this.attachDomPortal(Re)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Re){this._disposeFn=Re}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ke extends Le{constructor(Re,Ft,Ot,Bt,ui){super(),this.outletElement=Re,this._componentFactoryResolver=Ft,this._appRef=Ot,this._defaultInjector=Bt,this.attachDomPortal=fi=>{const Fi=fi.element,Bi=this._document.createComment("dom-portal");Fi.parentNode.insertBefore(Bi,Fi),this.outletElement.appendChild(Fi),this._attachedPortal=fi,super.setDisposeFn(()=>{Bi.parentNode&&Bi.parentNode.replaceChild(Fi,Bi)})},this._document=ui}attachComponentPortal(Re){const Ot=(Re.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Re.component);let Bt;return Re.viewContainerRef?(Bt=Re.viewContainerRef.createComponent(Ot,Re.viewContainerRef.length,Re.injector||Re.viewContainerRef.injector,Re.projectableNodes||void 0),this.setDisposeFn(()=>Bt.destroy())):(Bt=Ot.create(Re.injector||this._defaultInjector||C.zs3.NULL),this._appRef.attachView(Bt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Bt.hostView),Bt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Bt)),this._attachedPortal=Re,Bt}attachTemplatePortal(Re){let Ft=Re.viewContainerRef,Ot=Ft.createEmbeddedView(Re.templateRef,Re.context,{injector:Re.injector});return Ot.rootNodes.forEach(Bt=>this.outletElement.appendChild(Bt)),Ot.detectChanges(),this.setDisposeFn(()=>{let Bt=Ft.indexOf(Ot);-1!==Bt&&Ft.remove(Bt)}),this._attachedPortal=Re,Ot}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Re){return Re.hostView.rootNodes[0]}}let Mt=(()=>{class We extends Be{constructor(Ft,Ot){super(Ft,Ot)}}return We.\u0275fac=function(Ft){return new(Ft||We)(C.Y36(C.Rgc),C.Y36(C.s_b))},We.\u0275dir=C.lG2({type:We,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[C.qOj]}),We})(),Vt=(()=>{class We extends Mt{}return We.\u0275fac=function(){let Re;return function(Ot){return(Re||(Re=C.n5z(We)))(Ot||We)}}(),We.\u0275dir=C.lG2({type:We,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[C._Bn([{provide:Mt,useExisting:We}]),C.qOj]}),We})(),ti=(()=>{class We{}return We.\u0275fac=function(Ft){return new(Ft||We)},We.\u0275mod=C.oAB({type:We}),We.\u0275inj=C.cJS({}),We})()},799:(yi,_t,H)=>{"use strict";H.d(_t,{PQ:()=>Yt,ZD:()=>ue,mF:()=>ft,Cl:()=>Te,rL:()=>gi});var C=H(2495),l=H(5879),le=H(8645),v=H(2096),Ve=H(5592),ne=H(2438),$e=H(1954),Qe=H(7394);const Se={schedule(Pe){let Ie=requestAnimationFrame,be=cancelAnimationFrame;const{delegate:et}=Se;et&&(Ie=et.requestAnimationFrame,be=et.cancelAnimationFrame);const Ye=Ie(Zt=>{be=void 0,Pe(Zt)});return new Qe.w0(()=>be?.(Ye))},requestAnimationFrame(...Pe){const{delegate:Ie}=Se;return(Ie?.requestAnimationFrame||requestAnimationFrame)(...Pe)},cancelAnimationFrame(...Pe){const{delegate:Ie}=Se;return(Ie?.cancelAnimationFrame||cancelAnimationFrame)(...Pe)},delegate:void 0};var nt=H(2631);new class Le extends nt.v{flush(Ie){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:et}=this;let Ye;Ie=Ie||et.shift();do{if(Ye=Ie.execute(Ie.state,Ie.delay))break}while((Ie=et[0])&&Ie.id===be&&et.shift());if(this._active=!1,Ye){for(;(Ie=et[0])&&Ie.id===be&&et.shift();)Ie.unsubscribe();throw Ye}}}(class Be extends $e.o{constructor(Ie,be){super(Ie,be),this.scheduler=Ie,this.work=be}requestAsyncId(Ie,be,et=0){return null!==et&&et>0?super.requestAsyncId(Ie,be,et):(Ie.actions.push(this),Ie._scheduled||(Ie._scheduled=Se.requestAnimationFrame(()=>Ie.flush(void 0))))}recycleAsyncId(Ie,be,et=0){var Ye;if(null!=et?et>0:this.delay>0)return super.recycleAsyncId(Ie,be,et);const{actions:Zt}=Ie;null!=be&&(null===(Ye=Zt[Zt.length-1])||void 0===Ye?void 0:Ye.id)!==be&&(Se.cancelAnimationFrame(be),Ie._scheduled=void 0)}});let Mt,ut=1;const Vt={};function ei(Pe){return Pe in Vt&&(delete Vt[Pe],!0)}const Di={setImmediate(Pe){const Ie=ut++;return Vt[Ie]=!0,Mt||(Mt=Promise.resolve()),Mt.then(()=>ei(Ie)&&Pe()),Ie},clearImmediate(Pe){ei(Pe)}},{setImmediate:Oe,clearImmediate:We}=Di,Re={setImmediate(...Pe){const{delegate:Ie}=Re;return(Ie?.setImmediate||Oe)(...Pe)},clearImmediate(Pe){const{delegate:Ie}=Re;return(Ie?.clearImmediate||We)(Pe)},delegate:void 0};new class Ot extends nt.v{flush(Ie){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:et}=this;let Ye;Ie=Ie||et.shift();do{if(Ye=Ie.execute(Ie.state,Ie.delay))break}while((Ie=et[0])&&Ie.id===be&&et.shift());if(this._active=!1,Ye){for(;(Ie=et[0])&&Ie.id===be&&et.shift();)Ie.unsubscribe();throw Ye}}}(class Ft extends $e.o{constructor(Ie,be){super(Ie,be),this.scheduler=Ie,this.work=be}requestAsyncId(Ie,be,et=0){return null!==et&&et>0?super.requestAsyncId(Ie,be,et):(Ie.actions.push(this),Ie._scheduled||(Ie._scheduled=Re.setImmediate(Ie.flush.bind(Ie,void 0))))}recycleAsyncId(Ie,be,et=0){var Ye;if(null!=et?et>0:this.delay>0)return super.recycleAsyncId(Ie,be,et);const{actions:Zt}=Ie;null!=be&&(null===(Ye=Zt[Zt.length-1])||void 0===Ye?void 0:Ye.id)!==be&&(Re.clearImmediate(be),Ie._scheduled===be&&(Ie._scheduled=void 0))}});var fi=H(6321),Fi=H(9360),Bi=H(4829),Tn=H(8251),vn=H(4825);function Fn(Pe,Ie=fi.z){return function qn(Pe){return(0,Fi.e)((Ie,be)=>{let et=!1,Ye=null,Zt=null,ii=!1;const wi=()=>{if(Zt?.unsubscribe(),Zt=null,et){et=!1;const $t=Ye;Ye=null,be.next($t)}ii&&be.complete()},pi=()=>{Zt=null,ii&&be.complete()};Ie.subscribe((0,Tn.x)(be,$t=>{et=!0,Ye=$t,Zt||(0,Bi.Xf)(Pe($t)).subscribe(Zt=(0,Tn.x)(be,wi,pi))},()=>{ii=!0,(!et||!Zt||Zt.closed)&&be.complete()}))})}(()=>(0,vn.H)(Pe,Ie))}var Pn=H(2181),vt=H(9773),Ct=H(2831),Rt=H(6814),zt=H(9388);let ft=(()=>{class Pe{constructor(be,et,Ye){this._ngZone=be,this._platform=et,this._scrolled=new le.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ye}register(be){this.scrollContainers.has(be)||this.scrollContainers.set(be,be.elementScrolled().subscribe(()=>this._scrolled.next(be)))}deregister(be){const et=this.scrollContainers.get(be);et&&(et.unsubscribe(),this.scrollContainers.delete(be))}scrolled(be=20){return this._platform.isBrowser?new Ve.y(et=>{this._globalSubscription||this._addGlobalListener();const Ye=be>0?this._scrolled.pipe(Fn(be)).subscribe(et):this._scrolled.subscribe(et);return this._scrolledCount++,()=>{Ye.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((be,et)=>this.deregister(et)),this._scrolled.complete()}ancestorScrolled(be,et){const Ye=this.getAncestorScrollContainers(be);return this.scrolled(et).pipe((0,Pn.h)(Zt=>!Zt||Ye.indexOf(Zt)>-1))}getAncestorScrollContainers(be){const et=[];return this.scrollContainers.forEach((Ye,Zt)=>{this._scrollableContainsElement(Zt,be)&&et.push(Zt)}),et}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(be,et){let Ye=(0,C.fI)(et),Zt=be.getElementRef().nativeElement;do{if(Ye==Zt)return!0}while(Ye=Ye.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const be=this._getWindow();return(0,ne.R)(be.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Pe.\u0275fac=function(be){return new(be||Pe)(l.LFG(l.R0b),l.LFG(Ct.t4),l.LFG(Rt.K0,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Yt=(()=>{class Pe{constructor(be,et,Ye,Zt){this.elementRef=be,this.scrollDispatcher=et,this.ngZone=Ye,this.dir=Zt,this._destroyed=new le.x,this._elementScrolled=new Ve.y(ii=>this.ngZone.runOutsideAngular(()=>(0,ne.R)(this.elementRef.nativeElement,"scroll").pipe((0,vt.R)(this._destroyed)).subscribe(ii)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(be){const et=this.elementRef.nativeElement,Ye=this.dir&&"rtl"==this.dir.value;null==be.left&&(be.left=Ye?be.end:be.start),null==be.right&&(be.right=Ye?be.start:be.end),null!=be.bottom&&(be.top=et.scrollHeight-et.clientHeight-be.bottom),Ye&&0!=(0,Ct._i)()?(null!=be.left&&(be.right=et.scrollWidth-et.clientWidth-be.left),2==(0,Ct._i)()?be.left=be.right:1==(0,Ct._i)()&&(be.left=be.right?-be.right:be.right)):null!=be.right&&(be.left=et.scrollWidth-et.clientWidth-be.right),this._applyScrollToOptions(be)}_applyScrollToOptions(be){const et=this.elementRef.nativeElement;(0,Ct.Mq)()?et.scrollTo(be):(null!=be.top&&(et.scrollTop=be.top),null!=be.left&&(et.scrollLeft=be.left))}measureScrollOffset(be){const et="left",Zt=this.elementRef.nativeElement;if("top"==be)return Zt.scrollTop;if("bottom"==be)return Zt.scrollHeight-Zt.clientHeight-Zt.scrollTop;const ii=this.dir&&"rtl"==this.dir.value;return"start"==be?be=ii?"right":et:"end"==be&&(be=ii?et:"right"),ii&&2==(0,Ct._i)()?be==et?Zt.scrollWidth-Zt.clientWidth-Zt.scrollLeft:Zt.scrollLeft:ii&&1==(0,Ct._i)()?be==et?Zt.scrollLeft+Zt.scrollWidth-Zt.clientWidth:-Zt.scrollLeft:be==et?Zt.scrollLeft:Zt.scrollWidth-Zt.clientWidth-Zt.scrollLeft}}return Pe.\u0275fac=function(be){return new(be||Pe)(l.Y36(l.SBq),l.Y36(ft),l.Y36(l.R0b),l.Y36(zt.Is,8))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Pe})(),gi=(()=>{class Pe{constructor(be,et,Ye){this._platform=be,this._change=new le.x,this._changeListener=Zt=>{this._change.next(Zt)},this._document=Ye,et.runOutsideAngular(()=>{if(be.isBrowser){const Zt=this._getWindow();Zt.addEventListener("resize",this._changeListener),Zt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const be=this._getWindow();be.removeEventListener("resize",this._changeListener),be.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const be={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),be}getViewportRect(){const be=this.getViewportScrollPosition(),{width:et,height:Ye}=this.getViewportSize();return{top:be.top,left:be.left,bottom:be.top+Ye,right:be.left+et,height:Ye,width:et}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const be=this._document,et=this._getWindow(),Ye=be.documentElement,Zt=Ye.getBoundingClientRect();return{top:-Zt.top||be.body.scrollTop||et.scrollY||Ye.scrollTop||0,left:-Zt.left||be.body.scrollLeft||et.scrollX||Ye.scrollLeft||0}}change(be=20){return be>0?this._change.pipe(Fn(be)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const be=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:be.innerWidth,height:be.innerHeight}:{width:0,height:0}}}return Pe.\u0275fac=function(be){return new(be||Pe)(l.LFG(Ct.t4),l.LFG(l.R0b),l.LFG(Rt.K0,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),ue=(()=>{class Pe{}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({}),Pe})(),Te=(()=>{class Pe{}return Pe.\u0275fac=function(be){return new(be||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[zt.vT,ue,zt.vT,ue]}),Pe})()},6814:(yi,_t,H)=>{"use strict";H.d(_t,{Do:()=>Mt,ED:()=>Cl,EM:()=>al,HT:()=>v,JF:()=>Xr,K0:()=>ne,Mx:()=>fn,NF:()=>Kr,O5:()=>Xi,Ov:()=>sl,PC:()=>oa,PM:()=>hs,RF:()=>Po,S$:()=>tt,V_:()=>Qe,Ye:()=>Vt,b0:()=>ut,bD:()=>us,ez:()=>Wo,mk:()=>cn,n9:()=>xo,q:()=>le,sg:()=>Bn,tP:()=>js,w_:()=>Ve});var C=H(5879);let l=null;function le(){return l}function v(F){l||(l=F)}class Ve{}const ne=new C.OlP("DocumentToken");let $e=(()=>{class F{historyGo(Z){throw new Error("Not implemented")}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275prov=C.Yz7({token:F,factory:function(){return(0,C.f3M)(Se)},providedIn:"platform"}),F})();const Qe=new C.OlP("Location Initialized");let Se=(()=>{class F extends $e{constructor(){super(),this._doc=(0,C.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(Z){const me=le().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",Z,!1),()=>me.removeEventListener("popstate",Z)}onHashChange(Z){const me=le().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",Z,!1),()=>me.removeEventListener("hashchange",Z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Z){this._location.pathname=Z}pushState(Z,me,Ue){this._history.pushState(Z,me,Ue)}replaceState(Z,me,Ue){this._history.replaceState(Z,me,Ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275prov=C.Yz7({token:F,factory:function(){return new F},providedIn:"platform"}),F})();function Be(F,ee){if(0==F.length)return ee;if(0==ee.length)return F;let Z=0;return F.endsWith("/")&&Z++,ee.startsWith("/")&&Z++,2==Z?F+ee.substring(1):1==Z?F+ee:F+"/"+ee}function nt(F){const ee=F.match(/#|\?|$/),Z=ee&&ee.index||F.length;return F.slice(0,Z-("/"===F[Z-1]?1:0))+F.slice(Z)}function Le(F){return F&&"?"!==F[0]?"?"+F:F}let tt=(()=>{class F{historyGo(Z){throw new Error("Not implemented")}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275prov=C.Yz7({token:F,factory:function(){return(0,C.f3M)(ut)},providedIn:"root"}),F})();const Ke=new C.OlP("appBaseHref");let ut=(()=>{class F extends tt{constructor(Z,me){super(),this._platformLocation=Z,this._removeListenerFns=[],this._baseHref=me??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return Be(this._baseHref,Z)}path(Z=!1){const me=this._platformLocation.pathname+Le(this._platformLocation.search),Ue=this._platformLocation.hash;return Ue&&Z?`${me}${Ue}`:me}pushState(Z,me,Ue,it){const Wt=this.prepareExternalUrl(Ue+Le(it));this._platformLocation.pushState(Z,me,Wt)}replaceState(Z,me,Ue,it){const Wt=this.prepareExternalUrl(Ue+Le(it));this._platformLocation.replaceState(Z,me,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return F.\u0275fac=function(Z){return new(Z||F)(C.LFG($e),C.LFG(Ke,8))},F.\u0275prov=C.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Mt=(()=>{class F extends tt{constructor(Z,me){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl(Z){const me=Be(this._baseHref,Z);return me.length>0?"#"+me:me}pushState(Z,me,Ue,it){let Wt=this.prepareExternalUrl(Ue+Le(it));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(Z,me,Wt)}replaceState(Z,me,Ue,it){let Wt=this.prepareExternalUrl(Ue+Le(it));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(Z,me,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){this._platformLocation.historyGo?.(Z)}}return F.\u0275fac=function(Z){return new(Z||F)(C.LFG($e),C.LFG(Ke,8))},F.\u0275prov=C.Yz7({token:F,factory:F.\u0275fac}),F})(),Vt=(()=>{class F{constructor(Z){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Z;const me=this._locationStrategy.getBaseHref();this._basePath=function Oe(F){if(new RegExp("^(https?:)?//").test(F)){const[,Z]=F.split(/\/\/[^\/]+/);return Z}return F}(nt(ti(me))),this._locationStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Z=!1){return this.normalize(this._locationStrategy.path(Z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Z,me=""){return this.path()==this.normalize(Z+Le(me))}normalize(Z){return F.stripTrailingSlash(function Di(F,ee){if(!F||!ee.startsWith(F))return ee;const Z=ee.substring(F.length);return""===Z||["/",";","?","#"].includes(Z[0])?Z:ee}(this._basePath,ti(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._locationStrategy.prepareExternalUrl(Z)}go(Z,me="",Ue=null){this._locationStrategy.pushState(Ue,"",Z,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Le(me)),Ue)}replaceState(Z,me="",Ue=null){this._locationStrategy.replaceState(Ue,"",Z,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+Le(me)),Ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Z=0){this._locationStrategy.historyGo?.(Z)}onUrlChange(Z){return this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf(Z);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Z="",me){this._urlChangeListeners.forEach(Ue=>Ue(Z,me))}subscribe(Z,me,Ue){return this._subject.subscribe({next:Z,error:me,complete:Ue})}}return F.normalizeQueryParams=Le,F.joinWithSlash=Be,F.stripTrailingSlash=nt,F.\u0275fac=function(Z){return new(Z||F)(C.LFG(tt))},F.\u0275prov=C.Yz7({token:F,factory:function(){return function ei(){return new Vt((0,C.LFG)(tt))}()},providedIn:"root"}),F})();function ti(F){return F.replace(/\/index.html$/,"")}function fn(F,ee){ee=encodeURIComponent(ee);for(const Z of F.split(";")){const me=Z.indexOf("="),[Ue,it]=-1==me?[Z,""]:[Z.slice(0,me),Z.slice(me+1)];if(Ue.trim()===ee)return decodeURIComponent(it)}return null}const Ao=/\s+/,On=[];let cn=(()=>{class F{constructor(Z,me,Ue,it){this._iterableDiffers=Z,this._keyValueDiffers=me,this._ngEl=Ue,this._renderer=it,this.initialClasses=On,this.stateMap=new Map}set klass(Z){this.initialClasses=null!=Z?Z.trim().split(Ao):On}set ngClass(Z){this.rawClass="string"==typeof Z?Z.trim().split(Ao):Z}ngDoCheck(){for(const me of this.initialClasses)this._updateState(me,!0);const Z=this.rawClass;if(Array.isArray(Z)||Z instanceof Set)for(const me of Z)this._updateState(me,!0);else if(null!=Z)for(const me of Object.keys(Z))this._updateState(me,!!Z[me]);this._applyStateDiff()}_updateState(Z,me){const Ue=this.stateMap.get(Z);void 0!==Ue?(Ue.enabled!==me&&(Ue.changed=!0,Ue.enabled=me),Ue.touched=!0):this.stateMap.set(Z,{enabled:me,changed:!0,touched:!0})}_applyStateDiff(){for(const Z of this.stateMap){const me=Z[0],Ue=Z[1];Ue.changed?(this._toggleClass(me,Ue.enabled),Ue.changed=!1):Ue.touched||(Ue.enabled&&this._toggleClass(me,!1),this.stateMap.delete(me)),Ue.touched=!1}}_toggleClass(Z,me){(Z=Z.trim()).length>0&&Z.split(Ao).forEach(Ue=>{me?this._renderer.addClass(this._ngEl.nativeElement,Ue):this._renderer.removeClass(this._ngEl.nativeElement,Ue)})}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class In{constructor(ee,Z,me,Ue){this.$implicit=ee,this.ngForOf=Z,this.index=me,this.count=Ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bn=(()=>{class F{set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}constructor(Z,me,Ue){this._viewContainer=Z,this._template=me,this._differs=Ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const me=this._viewContainer;Z.forEachOperation((Ue,it,Wt)=>{if(null==Ue.previousIndex)me.createEmbeddedView(this._template,new In(Ue.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)me.remove(null===it?void 0:it);else if(null!==it){const Vi=me.get(it);me.move(Vi,Wt),ko(Vi,Ue)}});for(let Ue=0,it=me.length;Ue<it;Ue++){const Vi=me.get(Ue).context;Vi.index=Ue,Vi.count=it,Vi.ngForOf=this._ngForOf}Z.forEachIdentityChange(Ue=>{ko(me.get(Ue.currentIndex),Ue)})}static ngTemplateContextGuard(Z,me){return!0}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function ko(F,ee){F.context.$implicit=ee.item}let Xi=(()=>{class F{constructor(Z,me){this._viewContainer=Z,this._context=new Uo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){yr("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){yr("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,me){return!0}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.s_b),C.Y36(C.Rgc))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class Uo{constructor(){this.$implicit=null,this.ngIf=null}}function yr(F,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,C.AaK)(ee)}'.`)}class Qn{constructor(ee,Z){this._viewContainerRef=ee,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ee){ee&&!this._created?this.create():!ee&&this._created&&this.destroy()}}let Po=(()=>{class F{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Z){this._ngSwitch=Z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Z){this._defaultViews.push(Z)}_matchCase(Z){const me=Z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),me}_updateDefaultCases(Z){if(this._defaultViews.length>0&&Z!==this._defaultUsed){this._defaultUsed=Z;for(const me of this._defaultViews)me.enforceState(Z)}}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275dir=C.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),F})(),xo=(()=>{class F{constructor(Z,me,Ue){this.ngSwitch=Ue,Ue._addCase(),this._view=new Qn(Z,me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(Po,9))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),F})(),Cl=(()=>{class F{constructor(Z,me,Ue){Ue._addDefault(new Qn(Z,me))}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(Po,9))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngSwitchDefault",""]],standalone:!0}),F})(),oa=(()=>{class F{constructor(Z,me,Ue){this._ngEl=Z,this._differs=me,this._renderer=Ue,this._ngStyle=null,this._differ=null}set ngStyle(Z){this._ngStyle=Z,!this._differ&&Z&&(this._differ=this._differs.find(Z).create())}ngDoCheck(){if(this._differ){const Z=this._differ.diff(this._ngStyle);Z&&this._applyChanges(Z)}}_setStyle(Z,me){const[Ue,it]=Z.split("."),Wt=-1===Ue.indexOf("-")?void 0:C.JOm.DashCase;null!=me?this._renderer.setStyle(this._ngEl.nativeElement,Ue,it?`${me}${it}`:me,Wt):this._renderer.removeStyle(this._ngEl.nativeElement,Ue,Wt)}_applyChanges(Z){Z.forEachRemovedItem(me=>this._setStyle(me.key,null)),Z.forEachAddedItem(me=>this._setStyle(me.key,me.currentValue)),Z.forEachChangedItem(me=>this._setStyle(me.key,me.currentValue))}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),F})(),js=(()=>{class F{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Z){if(Z.ngTemplateOutlet||Z.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ue,ngTemplateOutletContext:it,ngTemplateOutletInjector:Wt}=this;this._viewRef=me.createEmbeddedView(Ue,it,Wt?{injector:Wt}:void 0)}else this._viewRef=null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.s_b))},F.\u0275dir=C.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.TTD]}),F})();class vr{createSubscription(ee,Z){return(0,C.rg0)(()=>ee.subscribe({next:Z,error:me=>{throw me}}))}dispose(ee){(0,C.rg0)(()=>ee.unsubscribe())}}class mo{createSubscription(ee,Z){return ee.then(Z,me=>{throw me})}dispose(ee){}}const sa=new mo,Dr=new vr;let sl=(()=>{class F{constructor(Z){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Z}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Z){return this._obj?Z!==this._obj?(this._dispose(),this.transform(Z)):this._latestValue:(Z&&this._subscribe(Z),this._latestValue)}_subscribe(Z){this._obj=Z,this._strategy=this._selectStrategy(Z),this._subscription=this._strategy.createSubscription(Z,me=>this._updateLatestValue(Z,me))}_selectStrategy(Z){if((0,C.QGY)(Z))return sa;if((0,C.F4k)(Z))return Dr;throw function dn(F,ee){return new C.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Z,me){Z===this._obj&&(this._latestValue=me,this._ref.markForCheck())}}return F.\u0275fac=function(Z){return new(Z||F)(C.Y36(C.sBO,16))},F.\u0275pipe=C.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),Wo=(()=>{class F{}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275mod=C.oAB({type:F}),F.\u0275inj=C.cJS({}),F})();const us="browser",la="server";function Kr(F){return F===us}function hs(F){return F===la}let al=(()=>{class F{}return F.\u0275prov=(0,C.Yz7)({token:F,providedIn:"root",factory:()=>new po((0,C.LFG)(ne),window)}),F})();class po{constructor(ee,Z){this.document=ee,this.window=Z,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const Z=function wa(F,ee){const Z=F.getElementById(ee)||F.getElementsByName(ee)[0];if(Z)return Z;if("function"==typeof F.createTreeWalker&&F.body&&"function"==typeof F.body.attachShadow){const me=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let Ue=me.currentNode;for(;Ue;){const it=Ue.shadowRoot;if(it){const Wt=it.getElementById(ee)||it.querySelector(`[name="${ee}"]`);if(Wt)return Wt}Ue=me.nextNode()}}return null}(this.document,ee);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=ee)}}scrollToElement(ee){const Z=ee.getBoundingClientRect(),me=Z.left+this.window.pageXOffset,Ue=Z.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(me-it[0],Ue-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=ka(this.window.history)||ka(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ka(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Xr{}},9862:(yi,_t,H)=>{"use strict";H.d(_t,{JF:()=>he,eN:()=>vt});var C=H(5879),l=H(2096),le=H(7715),v=H(5592),Ve=H(6328),ne=H(2181),$e=H(7398),Qe=H(4716),Se=H(4664),Be=H(6814);class nt{}class Le{}class tt{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(je=>{const Nt=je.indexOf(":");if(Nt>0){const ci=je.slice(0,Nt),hi=ci.toLowerCase(),di=je.slice(Nt+1).trim();this.maybeSetNormalizedName(ci,hi),this.headers.has(hi)?this.headers.get(hi).push(di):this.headers.set(hi,[di])}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((je,Nt)=>{this.setHeaderEntries(Nt,je)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([je,Nt])=>{this.setHeaderEntries(je,Nt)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const je=this.headers.get(Ae.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,je){return this.clone({name:Ae,value:je,op:"a"})}set(Ae,je){return this.clone({name:Ae,value:je,op:"s"})}delete(Ae,je){return this.clone({name:Ae,value:je,op:"d"})}maybeSetNormalizedName(Ae,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(je=>{this.headers.set(je,Ae.headers.get(je)),this.normalizedNames.set(je,Ae.normalizedNames.get(je))})}clone(Ae){const je=new tt;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof tt?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),je}applyUpdate(Ae){const je=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Nt=Ae.value;if("string"==typeof Nt&&(Nt=[Nt]),0===Nt.length)return;this.maybeSetNormalizedName(Ae.name,je);const ci=("a"===Ae.op?this.headers.get(je):void 0)||[];ci.push(...Nt),this.headers.set(je,ci);break;case"d":const hi=Ae.value;if(hi){let di=this.headers.get(je);if(!di)return;di=di.filter(_n=>-1===hi.indexOf(_n)),0===di.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,di)}else this.headers.delete(je),this.normalizedNames.delete(je)}}setHeaderEntries(Ae,je){const Nt=(Array.isArray(je)?je:[je]).map(hi=>hi.toString()),ci=Ae.toLowerCase();this.headers.set(ci,Nt),this.maybeSetNormalizedName(Ae,ci)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>Ae(this.normalizedNames.get(je),this.headers.get(je)))}}class ut{encodeKey(Ae){return Di(Ae)}encodeValue(Ae){return Di(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Vt=/%(\d[a-f0-9])/gi,ei={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Di(Fe){return encodeURIComponent(Fe).replace(Vt,(Ae,je)=>ei[je]??Ae)}function ti(Fe){return`${Fe}`}class Oe{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new ut,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mt(Fe,Ae){const je=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(ci=>{const hi=ci.indexOf("="),[di,_n]=-1==hi?[Ae.decodeKey(ci),""]:[Ae.decodeKey(ci.slice(0,hi)),Ae.decodeValue(ci.slice(hi+1))],Yi=je.get(di)||[];Yi.push(_n),je.set(di,Yi)}),je}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(je=>{const Nt=Ae.fromObject[je],ci=Array.isArray(Nt)?Nt.map(ti):[ti(Nt)];this.map.set(je,ci)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const je=this.map.get(Ae);return je?je[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,je){return this.clone({param:Ae,value:je,op:"a"})}appendAll(Ae){const je=[];return Object.keys(Ae).forEach(Nt=>{const ci=Ae[Nt];Array.isArray(ci)?ci.forEach(hi=>{je.push({param:Nt,value:hi,op:"a"})}):je.push({param:Nt,value:ci,op:"a"})}),this.clone(je)}set(Ae,je){return this.clone({param:Ae,value:je,op:"s"})}delete(Ae,je){return this.clone({param:Ae,value:je,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const je=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Nt=>je+"="+this.encoder.encodeValue(Nt)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const je=new Oe({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(Ae),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const je=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];je.push(ti(Ae.value)),this.map.set(Ae.param,je);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Nt=this.map.get(Ae.param)||[];const ci=Nt.indexOf(ti(Ae.value));-1!==ci&&Nt.splice(ci,1),Nt.length>0?this.map.set(Ae.param,Nt):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class Re{constructor(){this.map=new Map}set(Ae,je){return this.map.set(Ae,je),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function Ot(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function Bt(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function ui(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class Fi{constructor(Ae,je,Nt,ci){let hi;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function Ft(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ci?(this.body=void 0!==Nt?Nt:null,hi=ci):hi=Nt,hi&&(this.reportProgress=!!hi.reportProgress,this.withCredentials=!!hi.withCredentials,hi.responseType&&(this.responseType=hi.responseType),hi.headers&&(this.headers=hi.headers),hi.context&&(this.context=hi.context),hi.params&&(this.params=hi.params)),this.headers||(this.headers=new tt),this.context||(this.context=new Re),this.params){const di=this.params.toString();if(0===di.length)this.urlWithParams=je;else{const _n=je.indexOf("?");this.urlWithParams=je+(-1===_n?"?":_n<je.length-1?"&":"")+di}}else this.params=new Oe,this.urlWithParams=je}serializeBody(){return null===this.body?null:Ot(this.body)||Bt(this.body)||ui(this.body)||function fi(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ui(this.body)?null:Bt(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const je=Ae.method||this.method,Nt=Ae.url||this.url,ci=Ae.responseType||this.responseType,hi=void 0!==Ae.body?Ae.body:this.body,di=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,_n=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let Yi=Ae.headers||this.headers,_r=Ae.params||this.params;const Mr=Ae.context??this.context;return void 0!==Ae.setHeaders&&(Yi=Object.keys(Ae.setHeaders).reduce((ho,oo)=>ho.set(oo,Ae.setHeaders[oo]),Yi)),Ae.setParams&&(_r=Object.keys(Ae.setParams).reduce((ho,oo)=>ho.set(oo,Ae.setParams[oo]),_r)),new Fi(je,Nt,hi,{params:_r,headers:Yi,context:Mr,reportProgress:_n,responseType:ci,withCredentials:di})}}var Bi=function(Fe){return Fe[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe}(Bi||{});class Tn{constructor(Ae,je=200,Nt="OK"){this.headers=Ae.headers||new tt,this.status=void 0!==Ae.status?Ae.status:je,this.statusText=Ae.statusText||Nt,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class qn extends Tn{constructor(Ae={}){super(Ae),this.type=Bi.ResponseHeader}clone(Ae={}){return new qn({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class vn extends Tn{constructor(Ae={}){super(Ae),this.type=Bi.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new vn({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class Fn extends Tn{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function Pn(Fe,Ae){return{body:Ae,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials}}let vt=(()=>{class Fe{constructor(je){this.handler=je}request(je,Nt,ci={}){let hi;if(je instanceof Fi)hi=je;else{let Yi,_r;Yi=ci.headers instanceof tt?ci.headers:new tt(ci.headers),ci.params&&(_r=ci.params instanceof Oe?ci.params:new Oe({fromObject:ci.params})),hi=new Fi(je,Nt,void 0!==ci.body?ci.body:null,{headers:Yi,context:ci.context,params:_r,reportProgress:ci.reportProgress,responseType:ci.responseType||"json",withCredentials:ci.withCredentials})}const di=(0,l.of)(hi).pipe((0,Ve.b)(Yi=>this.handler.handle(Yi)));if(je instanceof Fi||"events"===ci.observe)return di;const _n=di.pipe((0,ne.h)(Yi=>Yi instanceof vn));switch(ci.observe||"body"){case"body":switch(hi.responseType){case"arraybuffer":return _n.pipe((0,$e.U)(Yi=>{if(null!==Yi.body&&!(Yi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yi.body}));case"blob":return _n.pipe((0,$e.U)(Yi=>{if(null!==Yi.body&&!(Yi.body instanceof Blob))throw new Error("Response is not a Blob.");return Yi.body}));case"text":return _n.pipe((0,$e.U)(Yi=>{if(null!==Yi.body&&"string"!=typeof Yi.body)throw new Error("Response is not a string.");return Yi.body}));default:return _n.pipe((0,$e.U)(Yi=>Yi.body))}case"response":return _n;default:throw new Error(`Unreachable: unhandled observe type ${ci.observe}}`)}}delete(je,Nt={}){return this.request("DELETE",je,Nt)}get(je,Nt={}){return this.request("GET",je,Nt)}head(je,Nt={}){return this.request("HEAD",je,Nt)}jsonp(je,Nt){return this.request("JSONP",je,{params:(new Oe).append(Nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,Nt={}){return this.request("OPTIONS",je,Nt)}patch(je,Nt,ci={}){return this.request("PATCH",je,Pn(ci,Nt))}post(je,Nt,ci={}){return this.request("POST",je,Pn(ci,Nt))}put(je,Nt,ci={}){return this.request("PUT",je,Pn(ci,Nt))}}return Fe.\u0275fac=function(je){return new(je||Fe)(C.LFG(nt))},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();function st(Fe,Ae){return Ae(Fe)}function pt(Fe,Ae){return(je,Nt)=>Ae.intercept(je,{handle:ci=>Fe(ci,Nt)})}const ft=new C.OlP(""),Yt=new C.OlP(""),qt=new C.OlP("");function gi(){let Fe=null;return(Ae,je)=>{null===Fe&&(Fe=((0,C.f3M)(ft,{optional:!0})??[]).reduceRight(pt,st));const Nt=(0,C.f3M)(C.HDt),ci=Nt.add();return Fe(Ae,je).pipe((0,Qe.x)(()=>Nt.remove(ci)))}}let ot=(()=>{class Fe extends nt{constructor(je,Nt){super(),this.backend=je,this.injector=Nt,this.chain=null,this.pendingTasks=(0,C.f3M)(C.HDt)}handle(je){if(null===this.chain){const ci=Array.from(new Set([...this.injector.get(Yt),...this.injector.get(qt,[])]));this.chain=ci.reduceRight((hi,di)=>function ct(Fe,Ae,je){return(Nt,ci)=>je.runInContext(()=>Ae(Nt,hi=>Fe(hi,ci)))}(hi,di,this.injector),st)}const Nt=this.pendingTasks.add();return this.chain(je,ci=>this.backend.handle(ci)).pipe((0,Qe.x)(()=>this.pendingTasks.remove(Nt)))}}return Fe.\u0275fac=function(je){return new(je||Fe)(C.LFG(Le),C.LFG(C.lqb))},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Ie=/^\)\]\}',?\n/;let et=(()=>{class Fe{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new C.vHH(-2800,!1);const Nt=this.xhrFactory;return(Nt.\u0275loadImpl?(0,le.D)(Nt.\u0275loadImpl()):(0,l.of)(null)).pipe((0,Se.w)(()=>new v.y(hi=>{const di=Nt.build();if(di.open(je.method,je.urlWithParams),je.withCredentials&&(di.withCredentials=!0),je.headers.forEach((On,cn)=>di.setRequestHeader(On,cn.join(","))),je.headers.has("Accept")||di.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const On=je.detectContentTypeHeader();null!==On&&di.setRequestHeader("Content-Type",On)}if(je.responseType){const On=je.responseType.toLowerCase();di.responseType="json"!==On?On:"text"}const _n=je.serializeBody();let Yi=null;const _r=()=>{if(null!==Yi)return Yi;const On=di.statusText||"OK",cn=new tt(di.getAllResponseHeaders()),dr=function be(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(di)||je.url;return Yi=new qn({headers:cn,status:di.status,statusText:On,url:dr}),Yi},Mr=()=>{let{headers:On,status:cn,statusText:dr,url:Ms}=_r(),In=null;204!==cn&&(In=typeof di.response>"u"?di.responseText:di.response),0===cn&&(cn=In?200:0);let Bn=cn>=200&&cn<300;if("json"===je.responseType&&"string"==typeof In){const ko=In;In=In.replace(Ie,"");try{In=""!==In?JSON.parse(In):null}catch(Ur){In=ko,Bn&&(Bn=!1,In={error:Ur,text:In})}}Bn?(hi.next(new vn({body:In,headers:On,status:cn,statusText:dr,url:Ms||void 0})),hi.complete()):hi.error(new Fn({error:In,headers:On,status:cn,statusText:dr,url:Ms||void 0}))},ho=On=>{const{url:cn}=_r(),dr=new Fn({error:On,status:di.status||0,statusText:di.statusText||"Unknown Error",url:cn||void 0});hi.error(dr)};let oo=!1;const fn=On=>{oo||(hi.next(_r()),oo=!0);let cn={type:Bi.DownloadProgress,loaded:On.loaded};On.lengthComputable&&(cn.total=On.total),"text"===je.responseType&&di.responseText&&(cn.partialText=di.responseText),hi.next(cn)},Ao=On=>{let cn={type:Bi.UploadProgress,loaded:On.loaded};On.lengthComputable&&(cn.total=On.total),hi.next(cn)};return di.addEventListener("load",Mr),di.addEventListener("error",ho),di.addEventListener("timeout",ho),di.addEventListener("abort",ho),je.reportProgress&&(di.addEventListener("progress",fn),null!==_n&&di.upload&&di.upload.addEventListener("progress",Ao)),di.send(_n),hi.next({type:Bi.Sent}),()=>{di.removeEventListener("error",ho),di.removeEventListener("abort",ho),di.removeEventListener("load",Mr),di.removeEventListener("timeout",ho),je.reportProgress&&(di.removeEventListener("progress",fn),null!==_n&&di.upload&&di.upload.removeEventListener("progress",Ao)),di.readyState!==di.DONE&&di.abort()}})))}}return Fe.\u0275fac=function(je){return new(je||Fe)(C.LFG(Be.JF))},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Ye=new C.OlP("XSRF_ENABLED"),ii=new C.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pi=new C.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $t{}let Ci=(()=>{class Fe{constructor(je,Nt,ci){this.doc=je,this.platform=Nt,this.cookieName=ci,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Be.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return Fe.\u0275fac=function(je){return new(je||Fe)(C.LFG(Be.K0),C.LFG(C.Lbi),C.LFG(ii))},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();function Ei(Fe,Ae){const je=Fe.url.toLowerCase();if(!(0,C.f3M)(Ye)||"GET"===Fe.method||"HEAD"===Fe.method||je.startsWith("http://")||je.startsWith("https://"))return Ae(Fe);const Nt=(0,C.f3M)($t).getToken(),ci=(0,C.f3M)(pi);return null!=Nt&&!Fe.headers.has(ci)&&(Fe=Fe.clone({headers:Fe.headers.set(ci,Nt)})),Ae(Fe)}var Pt=function(Fe){return Fe[Fe.Interceptors=0]="Interceptors",Fe[Fe.LegacyInterceptors=1]="LegacyInterceptors",Fe[Fe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fe[Fe.NoXsrfProtection=3]="NoXsrfProtection",Fe[Fe.JsonpSupport=4]="JsonpSupport",Fe[Fe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fe[Fe.Fetch=6]="Fetch",Fe}(Pt||{});function Ut(Fe,Ae){return{\u0275kind:Fe,\u0275providers:Ae}}function Et(...Fe){const Ae=[vt,et,ot,{provide:nt,useExisting:ot},{provide:Le,useExisting:et},{provide:Yt,useValue:Ei,multi:!0},{provide:Ye,useValue:!0},{provide:$t,useClass:Ci}];for(const je of Fe)Ae.push(...je.\u0275providers);return(0,C.MR2)(Ae)}const V=new C.OlP("LEGACY_INTERCEPTOR_FN");let he=(()=>{class Fe{}return Fe.\u0275fac=function(je){return new(je||Fe)},Fe.\u0275mod=C.oAB({type:Fe}),Fe.\u0275inj=C.cJS({providers:[Et(Ut(Pt.LegacyInterceptors,[{provide:V,useFactory:gi},{provide:Yt,useExisting:V,multi:!0}]))]}),Fe})()},5879:(yi,_t,H)=>{"use strict";H.d(_t,{$8M:()=>Va,$WT:()=>sa,$Z:()=>sy,AFp:()=>xh,ALo:()=>Db,AaK:()=>Le,Akn:()=>gc,BQk:()=>Sf,CHM:()=>pr,CRH:()=>$b,DdM:()=>pb,EJc:()=>bo,EiD:()=>Vc,EpF:()=>jy,F$t:()=>Yy,F4k:()=>Hy,FYo:()=>Qs,FiY:()=>Ys,G48:()=>BE,Gf:()=>$f,GfV:()=>bs,GkF:()=>Kg,Gpc:()=>ut,Gre:()=>xv,HDt:()=>Cs,Hsn:()=>Ky,Ikx:()=>u_,JOm:()=>Zu,JVY:()=>bg,JZr:()=>ti,Jf7:()=>Hl,KtG:()=>As,L6k:()=>ah,LAX:()=>uc,LFG:()=>U,Lbi:()=>o,Lck:()=>nb,MAs:()=>By,MMx:()=>ob,MR2:()=>Ld,NdJ:()=>Jg,O4$:()=>b,Ojb:()=>m,OlP:()=>gr,Oqu:()=>d_,P3R:()=>ph,PXZ:()=>kE,Q6J:()=>Wg,QGY:()=>Xg,QbO:()=>a,Qsj:()=>xa,R0b:()=>sr,RDi:()=>oh,Rgc:()=>kh,SBq:()=>Qo,Sil:()=>cs,Suo:()=>Hb,TTD:()=>Ko,TgZ:()=>Ef,Tol:()=>cv,Udp:()=>a_,VKq:()=>fb,VuI:()=>uM,W1O:()=>Wb,WFA:()=>Qg,WLB:()=>gb,XFs:()=>wt,Xpm:()=>Po,Xq5:()=>Lg,Xts:()=>Vl,Y36:()=>Du,YKP:()=>ib,YNc:()=>wf,Yjl:()=>Ds,Yz7:()=>ft,Z0I:()=>ot,ZZ4:()=>nC,_Bn:()=>tb,_UZ:()=>Yg,_Vd:()=>co,_c5:()=>tM,_uU:()=>c_,aQg:()=>rC,c2e:()=>Mn,cJS:()=>qt,cg1:()=>m_,d8E:()=>h_,dDg:()=>SE,dqk:()=>et,eBb:()=>lh,eFA:()=>iE,eJc:()=>R_,ekj:()=>l_,eoX:()=>JC,f3M:()=>de,g9A:()=>Jp,h0i:()=>Ah,hGG:()=>iM,hij:()=>kf,iGM:()=>Hf,ifc:()=>De,ip1:()=>ki,jDz:()=>sb,kEZ:()=>_b,kL8:()=>kv,kcU:()=>S,lG2:()=>js,lcZ:()=>Sb,lqb:()=>$c,lri:()=>Fu,mCW:()=>dh,n5z:()=>rc,n_E:()=>Jm,oAB:()=>$a,oJD:()=>bm,oxw:()=>Wy,pB0:()=>Lp,q3G:()=>Uc,qFp:()=>mM,qLn:()=>Vs,qOj:()=>Fg,qZA:()=>Mf,qzn:()=>va,rFY:()=>bb,rWj:()=>j_,rg0:()=>kl,s9C:()=>e_,sBO:()=>VE,s_b:()=>Vf,soG:()=>rr,tb:()=>X1,tp0:()=>Lu,uIk:()=>zg,vHH:()=>Oe,vpe:()=>yc,wAp:()=>Th,xp6:()=>Gc,ynx:()=>Df,z2F:()=>qf,z3N:()=>dc,zSh:()=>vu,zs3:()=>Vd});var C=H(8645),l=H(7394),le=H(5619),v=H(5592),Ve=H(3019),ne=H(2096),$e=H(3020),Qe=H(4664),Se=H(3997);function Be(e){for(let n in e)if(e[n]===Be)return n;throw Error("Could not find renamed property on target object.")}function nt(e,n){for(const s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=n[s])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function tt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ke=Be({__forward_ref__:Be});function ut(e){return e.__forward_ref__=ut,e.toString=function(){return Le(this())},e}function Mt(e){return Vt(e)?e():e}function Vt(e){return"function"==typeof e&&e.hasOwnProperty(Ke)&&e.__forward_ref__===ut}function ei(e){return e&&!!e.\u0275providers}const ti="https://g.co/ng/security#xss";class Oe extends Error{constructor(n,s){super(function We(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,s)),this.code=n}}function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function fi(e,n){throw new Oe(-201,!1)}function si(e,n){null==e&&function Ne(e,n,s,u){throw new Error(`ASSERTION ERROR: ${e}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,e,null,"!=")}function ft(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qt(e){return{providers:e.providers||[],imports:e.imports||[]}}function gi(e){return Tt(e,rn)||Tt(e,Hi)}function ot(e){return null!==gi(e)}function Tt(e,n){return e.hasOwnProperty(n)?e[n]:null}function bt(e){return e&&(e.hasOwnProperty(zn)||e.hasOwnProperty(Li))?e[zn]:null}const rn=Be({\u0275prov:Be}),zn=Be({\u0275inj:Be}),Hi=Be({ngInjectableDef:Be}),Li=Be({ngInjectorDef:Be});var wt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(wt||{});let ue;function Pe(e){const n=ue;return ue=e,n}function Ie(e,n,s){const u=gi(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&wt.Optional?null:void 0!==n?n:void fi(Le(e))}const et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wi={},pi="__NG_DI_FLAG__",$t="ngTempTokenPath",Ei=/\n/gm,Pt="__source";let Ut;function Y(e){const n=Ut;return Ut=e,n}function V(e,n=wt.Default){if(void 0===Ut)throw new Oe(-203,!1);return null===Ut?Ie(e,void 0,n):Ut.get(e,n&wt.Optional?null:void 0,n)}function U(e,n=wt.Default){return(function Te(){return ue}()||V)(Mt(e),n)}function de(e,n=wt.Default){return U(e,Me(n))}function Me(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fe(e){const n=[];for(let s=0;s<e.length;s++){const u=Mt(e[s]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,!1);let g,M=wt.Default;for(let P=0;P<u.length;P++){const N=u[P],j=X(N);"number"==typeof j?-1===j?g=N.token:M|=j:g=N}n.push(U(g,M))}else n.push(U(u))}return n}function se(e,n){return e[pi]=n,e.prototype[pi]=n,e}function X(e){return e[pi]}function lt(e){return{toString:e}.toString()}var we=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(we||{}),De=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(De||{});const ce={},Ee=[],Xe=Be({\u0275cmp:Be}),It=Be({\u0275dir:Be}),Fe=Be({\u0275pipe:Be}),Ae=Be({\u0275mod:Be}),je=Be({\u0275fac:Be}),Nt=Be({__NG_ELEMENT_ID__:Be}),ci=Be({__NG_ENV_ID__:Be});function hi(e,n,s){let u=e.length;for(;;){const g=e.indexOf(n,s);if(-1===g)return g;if(0===g||e.charCodeAt(g-1)<=32){const M=n.length;if(g+M===u||e.charCodeAt(g+M)<=32)return g}s=g+1}}function di(e,n,s){let u=0;for(;u<s.length;){const g=s[u];if("number"==typeof g){if(0!==g)break;u++;const M=s[u++],P=s[u++],N=s[u++];e.setAttribute(n,P,N,M)}else{const M=g,P=s[++u];Yi(M)?e.setProperty(n,M,P):e.setAttribute(n,M,P),u++}}return u}function _n(e){return 3===e||4===e||6===e}function Yi(e){return 64===e.charCodeAt(0)}function _r(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const g=n[u];"number"==typeof g?s=g:0===s||Mr(e,s,g,null,-1===s||2===s?n[++u]:null)}}return e}function Mr(e,n,s,u,g){let M=0,P=e.length;if(-1===n)P=-1;else for(;M<e.length;){const N=e[M++];if("number"==typeof N){if(N===n){P=-1;break}if(N>n){P=M-1;break}}}for(;M<e.length;){const N=e[M];if("number"==typeof N)break;if(N===s){if(null===u)return void(null!==g&&(e[M+1]=g));if(u===e[M+1])return void(e[M+2]=g)}M++,null!==u&&M++,null!==g&&M++}-1!==P&&(e.splice(P,0,n),M=P+1),e.splice(M++,0,s),null!==u&&e.splice(M++,0,u),null!==g&&e.splice(M++,0,g)}const ho="ng-template";function oo(e,n,s){let u=0,g=!0;for(;u<e.length;){let M=e[u++];if("string"==typeof M&&g){const P=e[u++];if(s&&"class"===M&&-1!==hi(P.toLowerCase(),n,0))return!0}else{if(1===M){for(;u<e.length&&"string"==typeof(M=e[u++]);)if(M.toLowerCase()===n)return!0;return!1}"number"==typeof M&&(g=!1)}}return!1}function fn(e){return 4===e.type&&e.value!==ho}function Ao(e,n,s){return n===(4!==e.type||s?e.value:ho)}function On(e,n,s){let u=4;const g=e.attrs||[],M=function Bn(e){for(let n=0;n<e.length;n++)if(_n(e[n]))return n;return e.length}(g);let P=!1;for(let N=0;N<n.length;N++){const j=n[N];if("number"!=typeof j){if(!P)if(4&u){if(u=2|1&u,""!==j&&!Ao(e,j,s)||""===j&&1===n.length){if(cn(u))return!1;P=!0}}else{const Q=8&u?j:n[++N];if(8&u&&null!==e.attrs){if(!oo(e.attrs,Q,s)){if(cn(u))return!1;P=!0}continue}const ze=dr(8&u?"class":j,g,fn(e),s);if(-1===ze){if(cn(u))return!1;P=!0;continue}if(""!==Q){let gt;gt=ze>M?"":g[ze+1].toLowerCase();const St=8&u?gt:null;if(St&&-1!==hi(St,Q,0)||2&u&&Q!==gt){if(cn(u))return!1;P=!0}}}}else{if(!P&&!cn(u)&&!cn(j))return!1;if(P&&cn(j))continue;P=!1,u=j|1&u}}return cn(u)||P}function cn(e){return 0==(1&e)}function dr(e,n,s,u){if(null===n)return-1;let g=0;if(u||!s){let M=!1;for(;g<n.length;){const P=n[g];if(P===e)return g;if(3===P||6===P)M=!0;else{if(1===P||2===P){let N=n[++g];for(;"string"==typeof N;)N=n[++g];continue}if(4===P)break;if(0===P){g+=4;continue}}g+=M?1:2}return-1}return function ko(e,n){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const u=e[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,e)}function Ms(e,n,s=!1){for(let u=0;u<n.length;u++)if(On(e,n[u],s))return!0;return!1}function Ur(e,n){e:for(let s=0;s<n.length;s++){const u=n[s];if(e.length===u.length){for(let g=0;g<e.length;g++)if(e[g]!==u[g])continue e;return!0}}return!1}function Xi(e,n){return e?":not("+n.trim()+")":n}function Uo(e){let n=e[0],s=1,u=2,g="",M=!1;for(;s<e.length;){let P=e[s];if("string"==typeof P)if(2&u){const N=e[++s];g+="["+P+(N.length>0?'="'+N+'"':"")+"]"}else 8&u?g+="."+P:4&u&&(g+=" "+P);else""!==g&&!cn(P)&&(n+=Xi(M,g),g=""),u=P,M=M||!cn(u);s++}return""!==g&&(n+=Xi(M,g)),n}function Po(e){return lt(()=>{const n=sl(e),s={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||De.Emulated,styles:e.styles||Ee,_:null,schemas:e.schemas||null,tView:null,id:""};Aa(s);const u=e.dependencies;return s.directiveDefs=Hs(u,!1),s.pipeDefs=Hs(u,!0),s.id=function aa(e){let n=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const g of s)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function Cl(e){return dn(e)||vr(e)}function ra(e){return null!==e}function $a(e){return lt(()=>({type:e.type,bootstrap:e.bootstrap||Ee,declarations:e.declarations||Ee,imports:e.imports||Ee,exports:e.exports||Ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oa(e,n){if(null==e)return ce;const s={};for(const u in e)if(e.hasOwnProperty(u)){let g=e[u],M=g;Array.isArray(g)&&(M=g[1],g=g[0]),s[g]=u,n&&(n[g]=M)}return s}function js(e){return lt(()=>{const n=sl(e);return Aa(n),n})}function Ds(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function dn(e){return e[Xe]||null}function vr(e){return e[It]||null}function mo(e){return e[Fe]||null}function sa(e){const n=dn(e)||vr(e)||mo(e);return null!==n&&n.standalone}function Dr(e,n){const s=e[Ae]||null;if(!s&&!0===n)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return s}function sl(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ce,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ee,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oa(e.inputs,n),outputs:oa(e.outputs)}}function Aa(e){e.features?.forEach(n=>n(e))}function Hs(e,n){if(!e)return null;const s=n?mo:Cl;return()=>("function"==typeof e?e():e).map(u=>s(u)).filter(ra)}const br=0,Oi=1,mn=2,Gn=3,Go=4,Oo=5,Sr=6,Or=7,ar=8,Zo=9,wo=10,on=11,Ro=12,kn=13,jr=14,ir=15,Rr=16,Ar=17,Wo=18,us=19,la=20,is=21,Fo=22,Kr=23,hs=24,yn=25,Ml=1,al=2,po=7,wa=9,Xr=11;function Jr(e){return Array.isArray(e)&&"object"==typeof e[Ml]}function nr(e){return Array.isArray(e)&&!0===e[Ml]}function so(e){return 0!=(4&e.flags)}function Hr(e){return e.componentOffset>-1}function Pa(e){return 1==(1&e.flags)}function Fr(e){return!!e.template}function Oa(e){return 0!=(512&e[mn])}function fo(e,n){return e.hasOwnProperty(je)?e[je]:null}let Yd=et.WeakRef??class Yl{constructor(n){this.ref=n}deref(){return this.ref}},Wa=0,jo=null,kr=!1;function Rn(e){const n=jo;return jo=e,n}class cr{constructor(){this.id=Wa++,this.ref=function hd(e){return new Yd(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,s]of this.producers){const u=s.producerNode.deref();if(null!=u&&s.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(n),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=kr;kr=!0;try{for(const[s,u]of this.consumers){const g=u.consumerNode.deref();null!=g&&g.trackingVersion===u.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),g?.producers.delete(this.id))}}finally{kr=n}}producerAccessed(){if(kr)throw new Error("");if(null===jo)return;let n=jo.producers.get(this.id);void 0===n?(n={consumerNode:jo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:jo.trackingVersion},jo.producers.set(this.id,n),this.consumers.set(jo.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=jo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==jo?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Ra=null;function kl(e){const n=Rn(null);try{return e()}finally{Rn(n)}}const Kl=()=>{};class Yo extends cr{constructor(n,s,u){super(),this.watch=n,this.schedule=s,this.dirty=!1,this.cleanupFn=Kl,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Rn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Kl,this.watch(this.registerOnCleanup)}finally{Rn(n)}}cleanup(){this.cleanupFn()}}class rs{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ko(){return Ts}function Ts(e){return e.type.prototype.ngOnChanges&&(e.setInput=eo),dl}function dl(){const e=qa(this),n=e?.current;if(n){const s=e.previous;if(s===ce)e.previous=n;else for(let u in n)s[u]=n[u];e.current=null,this.ngOnChanges(n)}}function eo(e,n,s,u){const g=this.declaredInputs[s],M=qa(e)||function Xl(e,n){return e[ul]=n}(e,{previous:ce,current:null}),P=M.current||(M.current={}),N=M.previous,j=N[g];P[g]=new rs(j&&j.currentValue,n,N===ce),e[u]=n}Ko.ngInherit=!0;const ul="__ngSimpleChanges__";function qa(e){return e[ul]||null}const to=function(e,n,s){},qc="svg";function er(e){for(;Array.isArray(e);)e=e[br];return e}function F(e,n){return er(n[e])}function ee(e,n){return er(n[e.index])}function me(e,n){return e.data[n]}function Ue(e,n){return e[n]}function it(e,n){const s=n[e];return Jr(s)?s:s[br]}function Vn(e,n){return null==n?null:e[n]}function Qt(e){e[Ar]=0}function Dn(e){1024&e[mn]||(e[mn]|=1024,Jn(e,1))}function Lr(e){1024&e[mn]&&(e[mn]&=-1025,Jn(e,-1))}function Jn(e,n){let s=e[Gn];if(null===s)return;s[Oo]+=n;let u=s;for(s=s[Gn];null!==s&&(1===n&&1===u[Oo]||-1===n&&0===u[Oo]);)s[Oo]+=n,u=s,s=s[Gn]}const Ji={lFrame:tc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gn(){return Ji.bindingsEnabled}function go(){return null!==Ji.skipHydrationRootTNode}function oi(){return Ji.lFrame.lView}function ln(){return Ji.lFrame.tView}function pr(e){return Ji.lFrame.contextLView=e,e[ar]}function As(e){return Ji.lFrame.contextLView=null,e}function Co(){let e=Ol();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ol(){return Ji.lFrame.currentTNode}function Ma(e,n){const s=Ji.lFrame;s.currentTNode=e,s.isParent=n}function Fa(){return Ji.lFrame.isParent}function ks(){Ji.lFrame.isParent=!1}function Ho(){const e=Ji.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Br(){return Ji.lFrame.bindingIndex++}function fa(e){const n=Ji.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,s}function Dc(e,n){const s=Ji.lFrame;s.bindingIndex=s.bindingRootIndex=e,wr(n)}function wr(e){Ji.lFrame.currentDirectiveIndex=e}function Sc(e){const n=Ji.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Ya(){return Ji.lFrame.currentQueryIndex}function Da(e){Ji.lFrame.currentQueryIndex=e}function Ql(e){const n=e[Oi];return 2===n.type?n.declTNode:1===n.type?e[Sr]:null}function ec(e,n,s){if(s&wt.SkipSelf){let g=n,M=e;for(;!(g=g.parent,null!==g||s&wt.Host||(g=Ql(M),null===g||(M=M[jr],10&g.type))););if(null===g)return!1;n=g,e=M}const u=Ji.lFrame=Ll();return u.currentTNode=n,u.lView=e,!0}function Fl(e){const n=Ll(),s=e[Oi];Ji.lFrame=n,n.currentTNode=s.firstChild,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Ll(){const e=Ji.lFrame,n=null===e?null:e.child;return null===n?tc(e):n}function tc(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Xn(){const e=Ji.lFrame;return Ji.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const E=Xn;function i(){const e=Xn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function w(){return Ji.lFrame.selectedIndex}function T(e){Ji.lFrame.selectedIndex=e}function f(){const e=Ji.lFrame;return me(e.tView,e.selectedIndex)}function b(){Ji.lFrame.currentNamespace=qc}function S(){!function k(){Ji.lFrame.currentNamespace=null}()}let B=!0;function te(){return B}function ae(e){B=e}function ve(e,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const M=e.data[s].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:N,ngAfterViewInit:j,ngAfterViewChecked:Q,ngOnDestroy:ge}=M;P&&(e.contentHooks??=[]).push(-s,P),N&&((e.contentHooks??=[]).push(s,N),(e.contentCheckHooks??=[]).push(s,N)),j&&(e.viewHooks??=[]).push(-s,j),Q&&((e.viewHooks??=[]).push(s,Q),(e.viewCheckHooks??=[]).push(s,Q)),null!=ge&&(e.destroyHooks??=[]).push(s,ge)}}function rt(e,n,s){dt(e,n,3,s)}function xt(e,n,s,u){(3&e[mn])===s&&dt(e,n,s,u)}function Ge(e,n){let s=e[mn];(3&s)===n&&(s&=8191,s+=1,e[mn]=s)}function dt(e,n,s,u){const M=u??-1,P=n.length-1;let N=0;for(let j=void 0!==u?65535&e[Ar]:0;j<P;j++)if("number"==typeof n[j+1]){if(N=n[j],null!=u&&N>=u)break}else n[j]<0&&(e[Ar]+=65536),(N<M||-1==M)&&(Lt(e,s,n,j),e[Ar]=(4294901760&e[Ar])+j+2),j++}function kt(e,n){to(4,e,n);const s=Rn(null);try{n.call(e)}finally{Rn(s),to(5,e,n)}}function Lt(e,n,s,u){const g=s[u]<0,M=s[u+1],N=e[g?-s[u]:s[u]];g?e[mn]>>13<e[Ar]>>16&&(3&e[mn])===n&&(e[mn]+=8192,kt(N,M)):kt(N,M)}const Gt=-1;class ai{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function wn(e){return e!==Gt}function xn(e){return 32767&e}function Zr(e,n){let s=function Un(e){return e>>16}(e),u=n;for(;s>0;)u=u[jr],s--;return u}let fr=!0;function Wr(e){const n=fr;return fr=e,n}const io=255,Os=5;let La=0;const tr={};function Na(e,n){const s=Ba(e,n);if(-1!==s)return s;const u=n[Oi];u.firstCreatePass&&(e.injectorIndex=n.length,za(u.data,e),za(n,null),za(u.blueprint,null));const g=ss(e,n),M=e.injectorIndex;if(wn(g)){const P=xn(g),N=Zr(g,n),j=N[Oi].data;for(let Q=0;Q<8;Q++)n[M+Q]=N[P+Q]|j[P+Q]}return n[M+8]=g,M}function za(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ba(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ss(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,u=null,g=n;for(;null!==g;){if(u=qs(g),null===u)return Gt;if(s++,g=g[jr],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Gt}function $o(e,n,s){!function hl(e,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Nt)&&(u=s[Nt]),null==u&&(u=s[Nt]=La++);const g=u&io;n.data[e+(g>>Os)]|=1<<g}(e,n,s)}function ic(e,n,s){if(s&wt.Optional||void 0!==e)return e;fi()}function _o(e,n,s,u){if(s&wt.Optional&&void 0===u&&(u=null),!(s&(wt.Self|wt.Host))){const g=e[Zo],M=Pe(void 0);try{return g?g.get(n,u,s&wt.Optional):Ie(n,u,s&wt.Optional)}finally{Pe(M)}}return ic(u,0,s)}function yo(e,n,s,u=wt.Default,g){if(null!==e){if(2048&n[mn]&&!(u&wt.Self)){const P=function Ka(e,n,s,u,g){let M=e,P=n;for(;null!==M&&null!==P&&2048&P[mn]&&!(512&P[mn]);){const N=ys(M,P,s,u|wt.Self,tr);if(N!==tr)return N;let j=M.parent;if(!j){const Q=P[la];if(Q){const ge=Q.get(s,tr,u);if(ge!==tr)return ge}j=qs(P),P=P[jr]}M=j}return g}(e,n,s,u,tr);if(P!==tr)return P}const M=ys(e,n,s,u,tr);if(M!==tr)return M}return _o(n,s,u,g)}function ys(e,n,s,u,g){const M=function fd(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Nt)?e[Nt]:void 0;return"number"==typeof n?n>=0?n&io:Nl:n}(s);if("function"==typeof M){if(!ec(n,e,u))return u&wt.Host?ic(g,0,u):_o(n,s,u,g);try{const P=M(u);if(null!=P||u&wt.Optional)return P;fi()}finally{E()}}else if("number"==typeof M){let P=null,N=Ba(e,n),j=Gt,Q=u&wt.Host?n[ir][Sr]:null;for((-1===N||u&wt.SkipSelf)&&(j=-1===N?ss(e,n):n[N+8],j!==Gt&&Xd(u,!1)?(P=n[Oi],N=xn(j),n=Zr(j,n)):N=-1);-1!==N;){const ge=n[Oi];if(Kd(M,N,ge.data)){const ze=Mo(N,n,s,P,u,Q);if(ze!==tr)return ze}j=n[N+8],j!==Gt&&Xd(u,n[Oi].data[N+8]===Q)&&Kd(M,N,n)?(P=ge,N=xn(j),n=Zr(j,n)):N=-1}}return g}function Mo(e,n,s,u,g,M){const P=n[Oi],N=P.data[e+8],ge=nc(N,P,s,null==u?Hr(N)&&fr:u!=P&&0!=(3&N.type),g&wt.Host&&M===N);return null!==ge?ga(n,P,ge,N):tr}function nc(e,n,s,u,g){const M=e.providerIndexes,P=n.data,N=1048575&M,j=e.directiveStart,ge=M>>20,gt=g?N+ge:e.directiveEnd;for(let St=u?N:N+ge;St<gt;St++){const ni=P[St];if(St<j&&s===ni||St>=j&&ni.type===s)return St}if(g){const St=P[j];if(St&&Fr(St)&&St.type===s)return j}return null}function ga(e,n,s,u){let g=e[s];const M=n.data;if(function ri(e){return e instanceof ai}(g)){const P=g;P.resolving&&function Ot(e,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${e}${s}`)}(function Ft(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}(M[s]));const N=Wr(P.canSeeViewProviders);P.resolving=!0;const j=P.injectImpl?Pe(P.injectImpl):null;ec(e,u,wt.Default);try{g=e[s]=P.factory(void 0,M,e,u),n.firstCreatePass&&s>=u.directiveStart&&function Ce(e,n,s){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:M}=n.type.prototype;if(u){const P=Ts(n);(s.preOrderHooks??=[]).push(e,P),(s.preOrderCheckHooks??=[]).push(e,P)}g&&(s.preOrderHooks??=[]).push(0-e,g),M&&((s.preOrderHooks??=[]).push(e,M),(s.preOrderCheckHooks??=[]).push(e,M))}(s,M[s],n)}finally{null!==j&&Pe(j),Wr(N),P.resolving=!1,E()}}return g}function Kd(e,n,s){return!!(s[n+(e>>Os)]&1<<e)}function Xd(e,n){return!(e&wt.Self||e&wt.Host&&n)}class Tc{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return yo(this._tNode,this._lView,n,Me(u),s)}}function Nl(){return new Tc(Co(),oi())}function rc(e){return lt(()=>{const n=e.prototype.constructor,s=n[je]||ml(n),u=Object.prototype;let g=Object.getPrototypeOf(e.prototype).constructor;for(;g&&g!==u;){const M=g[je]||ml(g);if(M&&M!==s)return M;g=Object.getPrototypeOf(g)}return M=>new M})}function ml(e){return Vt(e)?()=>{const n=ml(Mt(e));return n&&n()}:fo(e)}function qs(e){const n=e[Oi],s=n.type;return 2===s?n.declTNode:1===s?e[Sr]:null}function Va(e){return function _s(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const s=e.attrs;if(s){const u=s.length;let g=0;for(;g<u;){const M=s[g];if(_n(M))break;if(0===M)g+=2;else if("number"==typeof M)for(g++;g<u&&"string"==typeof s[g];)g++;else{if(M===n)return s[g+1];g+=2}}}return null}(Co(),e)}const Xa="__parameters__";function Ic(e,n,s){return lt(()=>{const u=function vo(e){return function(...s){if(e){const u=e(...s);for(const g in u)this[g]=u[g]}}}(n);function g(...M){if(this instanceof g)return u.apply(this,M),this;const P=new g(...M);return N.annotation=P,N;function N(j,Q,ge){const ze=j.hasOwnProperty(Xa)?j[Xa]:Object.defineProperty(j,Xa,{value:[]})[Xa];for(;ze.length<=ge;)ze.push(null);return(ze[ge]=ze[ge]||[]).push(P),j}}return s&&(g.prototype=Object.create(s.prototype)),g.prototype.ngMetadataName=e,g.annotationCls=g,g})}function zl(e,n){e.forEach(s=>Array.isArray(s)?zl(s,n):n(s))}function Qd(e,n,s){n>=e.length?e.push(s):e.splice(n,0,s)}function kc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function bd(e,n){const s=[];for(let u=0;u<e;u++)s.push(n);return s}function _a(e,n,s){let u=Bl(e,n);return u>=0?e[1|u]=s:(u=~u,function Fs(e,n,s,u){let g=e.length;if(g==n)e.push(s,u);else if(1===g)e.push(u,e[0]),e[0]=s;else{for(g--,e.push(e[g-1],e[g]);g>n;)e[g]=e[g-2],g--;e[n]=s,e[n+1]=u}}(e,u,n,s)),u}function xd(e,n){const s=Bl(e,n);if(s>=0)return e[1|s]}function Bl(e,n){return function tu(e,n,s){let u=0,g=e.length>>s;for(;g!==u;){const M=u+(g-u>>1),P=e[M<<s];if(n===P)return M<<s;P>n?g=M:u=M+1}return~(g<<s)}(e,n,1)}const Ys=se(Ic("Optional"),8),Lu=se(Ic("SkipSelf"),4);function $u(e){return 128==(128&e.flags)}var Zu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zu||{});const lg=/^>|^->|<!--|-->|--!>|<!-$/g,cg=/(<|>)/,Rc="\u200b$1\u200b";const sc=new Map;let ed=0;const Zh="__ngContext__";function vs(e,n){Jr(n)?(e[Zh]=n[us],function ug(e){sc.set(e[us],e)}(n)):e[Zh]=n}let qh;function Yh(e,n){return qh(e,n)}function lu(e){const n=e[Gn];return nr(n)?n[Gn]:n}function Kh(e){return Jh(e[Ro])}function Xh(e){return Jh(e[Go])}function Jh(e){for(;null!==e&&!nr(e);)e=e[Go];return e}function Id(e,n,s,u,g){if(null!=u){let M,P=!1;nr(u)?M=u:Jr(u)&&(P=!0,u=u[br]);const N=er(u);0===e&&null!==s?null==g?id(n,s,N):ya(n,s,N,g||null,!0):1===e&&null!==s?ya(n,s,N,g||null,!0):2===e?function Ad(e,n,s){const u=eh(e,n);u&&function _g(e,n,s,u){e.removeChild(n,s,u)}(e,u,n,s)}(n,N,P):3===e&&n.destroyNode(N),null!=M&&function Ns(e,n,s,u,g){const M=s[po];M!==er(s)&&Id(n,e,u,M,g);for(let N=Xr;N<s.length;N++){const j=s[N];hu(j[Oi],j,e,n,u,M)}}(n,e,M,s,g)}}function Yu(e,n){return e.createComment(function xp(e){return e.replace(lg,n=>n.replace(cg,Rc))}(n))}function Ku(e,n,s){return e.createElement(n,s)}function zo(e,n){const s=e[wa],u=s.indexOf(n);Lr(n),s.splice(u,1)}function Xu(e,n){if(e.length<=Xr)return;const s=Xr+n,u=e[s];if(u){const g=u[Rr];null!==g&&g!==e&&zo(g,u),n>0&&(e[s-1][Go]=u[Go]);const M=kc(e,Xr+n);!function Ap(e,n){hu(e,n,n[on],2,null,null),n[br]=null,n[Sr]=null}(u[Oi],u);const P=M[Wo];null!==P&&P.detachView(M[Oi]),u[Gn]=null,u[Go]=null,u[mn]&=-129}return u}function Qh(e,n){if(!(256&n[mn])){const s=n[on];n[Kr]?.destroy(),n[hs]?.destroy(),s.destroyNode&&hu(e,n,s,3,null,null),function fg(e){let n=e[Ro];if(!n)return Ju(e[Oi],e);for(;n;){let s=null;if(Jr(n))s=n[Ro];else{const u=n[Xr];u&&(s=u)}if(!s){for(;n&&!n[Go]&&n!==e;)Jr(n)&&Ju(n[Oi],n),n=n[Gn];null===n&&(n=e),Jr(n)&&Ju(n[Oi],n),s=n&&n[Go]}n=s}}(n)}}function Ju(e,n){if(!(256&n[mn])){n[mn]&=-129,n[mn]|=256,function em(e,n){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let u=0;u<s.length;u+=2){const g=n[s[u]];if(!(g instanceof ai)){const M=s[u+1];if(Array.isArray(M))for(let P=0;P<M.length;P+=2){const N=g[M[P]],j=M[P+1];to(4,N,j);try{j.call(N)}finally{to(5,N,j)}}else{to(4,g,M);try{M.call(g)}finally{to(5,g,M)}}}}}(e,n),function Cr(e,n){const s=e.cleanup,u=n[Or];if(null!==s)for(let M=0;M<s.length-1;M+=2)if("string"==typeof s[M]){const P=s[M+3];P>=0?u[P]():u[-P].unsubscribe(),M+=2}else s[M].call(u[s[M+1]]);null!==u&&(n[Or]=null);const g=n[is];if(null!==g){n[is]=null;for(let M=0;M<g.length;M++)(0,g[M])()}}(e,n),1===n[Oi].type&&n[on].destroy();const s=n[Rr];if(null!==s&&nr(n[Gn])){s!==n[Gn]&&zo(s,n);const u=n[Wo];null!==u&&u.detachView(e)}!function Cp(e){sc.delete(e[us])}(n)}}function Qu(e,n,s){return function tm(e,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[br];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:M}=e.data[u.directiveStart+g];if(M===De.None||M===De.Emulated)return null}return ee(u,s)}}(e,n.parent,s)}function ya(e,n,s,u,g){e.insertBefore(n,s,u,g)}function id(e,n,s){e.appendChild(n,s)}function im(e,n,s,u,g){null!==u?ya(e,n,s,u,g):id(e,n,s)}function eh(e,n){return e.parentNode(n)}function th(e,n,s){return Op(e,n,s)}let nm,Lc,hm,zc,Op=function Pp(e,n,s){return 40&e.type?ee(e,s):null};function nd(e,n,s,u){const g=Qu(e,u,n),M=n[on],N=th(u.parent||n[Sr],u,n);if(null!=g)if(Array.isArray(s))for(let j=0;j<s.length;j++)im(M,g,s[j],N,!1);else im(M,g,s,N,!1);void 0!==nm&&nm(M,u,n,s,g)}function fl(e,n){if(null!==n){const s=n.type;if(3&s)return ee(n,e);if(4&s)return uu(-1,e[n.index]);if(8&s){const u=n.child;if(null!==u)return fl(e,u);{const g=e[n.index];return nr(g)?uu(-1,g):er(g)}}if(32&s)return Yh(n,e)()||er(e[n.index]);{const u=om(e,n);return null!==u?Array.isArray(u)?u[0]:fl(lu(e[ir]),u):fl(e,n.next)}}return null}function om(e,n){return null!==n?e[ir][Sr].projection[n.projection]:null}function uu(e,n){const s=Xr+e+1;if(s<n.length){const u=n[s],g=u[Oi].firstChild;if(null!==g)return fl(u,g)}return n[po]}function am(e,n,s,u,g,M,P){for(;null!=s;){const N=u[s.index],j=s.type;if(P&&0===n&&(N&&vs(er(N),u),s.flags|=2),32!=(32&s.flags))if(8&j)am(e,n,s.child,u,g,M,!1),Id(n,e,g,N,M);else if(32&j){const Q=Yh(s,u);let ge;for(;ge=Q();)Id(n,e,g,ge,M);Id(n,e,g,N,M)}else 16&j?cm(e,n,u,s,g,M):Id(n,e,g,N,M);s=P?s.projectionNext:s.next}}function hu(e,n,s,u,g,M){am(s,u,e.firstChild,n,g,M,!1)}function cm(e,n,s,u,g,M){const P=s[ir],j=P[Sr].projection[u.projection];if(Array.isArray(j))for(let Q=0;Q<j.length;Q++)Id(n,e,g,j[Q],M);else{let Q=j;const ge=P[Gn];$u(u)&&(Q.flags|=128),am(e,n,Q,ge,g,M,!0)}}function lc(e,n,s){""===s?e.removeAttribute(n,"class"):e.setAttribute(n,"class",s)}function kd(e,n,s){const{mergedAttrs:u,classes:g,styles:M}=s;null!==u&&di(e,n,u),null!==g&&lc(e,n,g),null!==M&&function ih(e,n,s){e.setAttribute(n,"style",s)}(e,n,M)}function cc(e){return function Nc(){if(void 0===Lc&&(Lc=null,et.trustedTypes))try{Lc=et.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Lc}()?.createHTML(e)||e}function oh(e){hm=e}function Pd(){if(void 0!==hm)return hm;if(typeof document<"u")return document;throw new Oe(210,!1)}function Od(){if(void 0===zc&&(zc=null,et.trustedTypes))try{zc=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return zc}function Rp(e){return Od()?.createHTML(e)||e}function sh(e){return Od()?.createScriptURL(e)||e}class Ja{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ti})`}}class gl extends Ja{getTypeName(){return"HTML"}}class Bc extends Ja{getTypeName(){return"Style"}}class Fp extends Ja{getTypeName(){return"Script"}}class pm extends Ja{getTypeName(){return"URL"}}class vg extends Ja{getTypeName(){return"ResourceURL"}}function dc(e){return e instanceof Ja?e.changingThisBreaksApplicationSecurity:e}function va(e,n){const s=function rd(e){return e instanceof Ja&&e.getTypeName()||null}(e);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${ti})`)}return s===n}function bg(e){return new gl(e)}function ah(e){return new Bc(e)}function lh(e){return new Fp(e)}function uc(e){return new pm(e)}function Lp(e){return new vg(e)}class fm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(cc(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Np{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=cc(n),s}}const gm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dh(e){return(e=String(e)).match(gm)?e:"unsafe:"+e}function hc(e){const n={};for(const s of e.split(","))n[s]=!0;return n}function Rd(...e){const n={};for(const s of e)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const zp=hc("area,br,col,hr,img,wbr"),Bp=hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_m=hc("rp,rt"),pu=Rd(zp,Rd(Bp,hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rd(_m,hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rd(_m,Bp)),uh=hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ym=Rd(uh,hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fu=hc("script,style,template");class hh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let g=this.checkClobberedElement(s,s.nextSibling);if(g){s=g;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!pu.hasOwnProperty(s))return this.sanitizedSomething=!0,!fu.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let g=0;g<u.length;g++){const M=u.item(g),P=M.name,N=P.toLowerCase();if(!ym.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let j=M.value;uh[N]&&(j=dh(j)),this.buf.push(" ",P,'="',gu(j),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();pu.hasOwnProperty(s)&&!zp.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(gu(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Up=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vm=/([^\#-~ |!])/g;function gu(e){return e.replace(/&/g,"&amp;").replace(Up,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(vm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ks;function Vc(e,n){let s=null;try{Ks=Ks||function ch(e){const n=new Np(e);return function mu(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new fm(n):n}(e);let u=n?String(n):"";s=Ks.getInertBodyElement(u);let g=5,M=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=M,M=s.innerHTML,s=Ks.getInertBodyElement(u)}while(u!==M);return cc((new hh).sanitizeChildren(mh(s)||s))}finally{if(s){const u=mh(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function mh(e){return"content"in e&&function jp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Uc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Uc||{});function bm(e){const n=_u();return n?Rp(n.sanitize(Uc.HTML,e)||""):va(e,"HTML")?Rp(dc(e)):Vc(Pd(),Re(e))}function xm(e){const n=_u();return n?n.sanitize(Uc.URL,e)||"":va(e,"URL")?dc(e):dh(Re(e))}function $p(e){const n=_u();if(n)return sh(n.sanitize(Uc.RESOURCE_URL,e)||"");if(va(e,"ResourceURL"))return sh(dc(e));throw new Oe(904,!1)}function ph(e,n,s){return function Wp(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?$p:xm}(n,s)(e)}function _u(){const e=oi();return e&&e[wo].sanitizer}class gr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ft({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vl=new gr("ENVIRONMENT_INITIALIZER"),wm=new gr("INJECTOR",-1),Fd=new gr("INJECTOR_DEF_TYPES");class Cm{get(n,s=wi){if(s===wi){const u=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw u.name="NullInjectorError",u}return s}}function Ld(e){return{\u0275providers:e}}function sd(...e){return{\u0275providers:yu(0,e),\u0275fromNgModule:!0}}function yu(e,...n){const s=[],u=new Set;let g;return zl(n,M=>{const P=M;Mm(P,s,[],u)&&(g||=[],g.push(P))}),void 0!==g&&Em(g,s),s}function Em(e,n){for(let s=0;s<e.length;s++){const{providers:g}=e[s];Dm(g,M=>{n.push(M)})}}function Mm(e,n,s,u){if(!(e=Mt(e)))return!1;let g=null,M=bt(e);const P=!M&&dn(e);if(M||P){if(P&&!P.standalone)return!1;g=e}else{const j=e.ngModule;if(M=bt(j),!M)return!1;g=j}const N=u.has(g);if(P){if(N)return!1;if(u.add(g),P.dependencies){const j="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const Q of j)Mm(Q,n,s,u)}}else{if(!M)return!1;{if(null!=M.imports&&!N){let Q;u.add(g);try{zl(M.imports,ge=>{Mm(ge,n,s,u)&&(Q||=[],Q.push(ge))})}finally{}void 0!==Q&&Em(Q,n)}if(!N){const Q=fo(g)||(()=>new g);n.push({provide:g,useFactory:Q,deps:Ee},{provide:Fd,useValue:g,multi:!0},{provide:Vl,useValue:()=>U(g),multi:!0})}const j=M.providers;null==j||N||Dm(j,ge=>{n.push(ge)})}}return g!==e&&void 0!==e.providers}function Dm(e,n){for(let s of e)ei(s)&&(s=s.\u0275providers),Array.isArray(s)?Dm(s,n):n(s)}const Nd=Be({provide:String,useValue:Be});function Jo(e){return null!==e&&"object"==typeof e&&Nd in e}function Hc(e){return"function"==typeof e}const vu=new gr("Set Injector scope."),gh={},Kp={};let _h;function yh(){return void 0===_h&&(_h=new Cm),_h}class $c{}class bu extends $c{get destroyed(){return this._destroyed}constructor(n,s,u,g){super(),this.parent=s,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eu(n,P=>this.processProvider(P)),this.records.set(wm,ad(void 0,this)),g.has("environment")&&this.records.set($c,ad(void 0,this));const M=this.records.get(vu);null!=M&&"string"==typeof M.value&&this.scopes.add(M.value),this.injectorDefTypes=new Set(this.get(Fd.multi,Ee,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=Y(this),u=Pe(void 0);try{return n()}finally{Y(s),Pe(u)}}get(n,s=wi,u=wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ci))return n[ci](this);u=Me(u);const g=Y(this),M=Pe(void 0);try{if(!(u&wt.SkipSelf)){let N=this.records.get(n);if(void 0===N){const j=function Cu(e){return"function"==typeof e||"object"==typeof e&&e instanceof gr}(n)&&gi(n);N=j&&this.injectableDefInScope(j)?ad(xu(n),gh):null,this.records.set(n,N)}if(null!=N)return this.hydrate(n,N)}return(u&wt.Self?yh():this.parent).get(n,s=u&wt.Optional&&s===wi?null:s)}catch(P){if("NullInjectorError"===P.name){if((P[$t]=P[$t]||[]).unshift(Le(n)),g)throw P;return function he(e,n,s,u){const g=e[$t];throw n[Pt]&&g.unshift(n[Pt]),e.message=function qe(e,n,s,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let g=Le(n);if(Array.isArray(n))g=n.map(Le).join(" -> ");else if("object"==typeof n){let M=[];for(let P in n)if(n.hasOwnProperty(P)){let N=n[P];M.push(P+":"+("string"==typeof N?JSON.stringify(N):Le(N)))}g=`{${M.join(", ")}}`}return`${s}${u?"("+u+")":""}[${g}]: ${e.replace(Ei,"\n  ")}`}("\n"+e.message,g,s,u),e.ngTokenPath=g,e[$t]=null,e}(P,n,"R3InjectorError",this.source)}throw P}finally{Pe(M),Y(g)}}resolveInjectorInitializers(){const n=Y(this),s=Pe(void 0);try{const u=this.get(Vl.multi,Ee,wt.Self);for(const g of u)g()}finally{Y(n),Pe(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(Le(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(n){let s=Hc(n=Mt(n))?n:Mt(n&&n.provide);const u=function wu(e){return Jo(e)?ad(void 0,e.useValue):ad(vh(e),gh)}(n);if(Hc(n)||!0!==n.multi)this.records.get(s);else{let g=this.records.get(s);g||(g=ad(void 0,gh,!0),g.factory=()=>fe(g.multi),this.records.set(s,g)),s=n,g.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===gh&&(s.value=Kp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function bh(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Mt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function xu(e){const n=gi(e),s=null!==n?n.factory:fo(e);if(null!==s)return s;if(e instanceof gr)throw new Oe(204,!1);if(e instanceof Function)return function Xp(e){const n=e.length;if(n>0)throw bd(n,"?"),new Oe(204,!1);const s=function bi(e){return e&&(e[rn]||e[Hi])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new Oe(204,!1)}function vh(e,n,s){let u;if(Hc(e)){const g=Mt(e);return fo(g)||xu(g)}if(Jo(e))u=()=>Mt(e.useValue);else if(function fh(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...fe(e.deps||[]));else if(function mc(e){return!(!e||!e.useExisting)}(e))u=()=>U(Mt(e.useExisting));else{const g=Mt(e&&(e.useClass||e.provide));if(!function Sm(e){return!!e.deps}(e))return fo(g)||xu(g);u=()=>new g(...fe(e.deps))}return u}function ad(e,n,s=!1){return{factory:e,value:n,multi:s?[]:void 0}}function Eu(e,n){for(const s of e)Array.isArray(s)?Eu(s,n):s&&ei(s)?Eu(s.\u0275providers,n):n(s)}const xh=new gr("AppId",{providedIn:"root",factory:()=>Tm}),Tm="ng",Jp=new gr("Platform Initializer"),o=new gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),a=new gr("AnimationModuleType"),m=new gr("CSP nonce",{providedIn:"root",factory:()=>Pd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ai=(e,n)=>null;function Si(e,n){return Ai(e,n)}class Xs{}class So{}class Js{resolveComponentFactory(n){throw function as(e){const n=Error(`No component factory found for ${Le(e)}.`);return n.ngComponent=e,n}(n)}}let co=(()=>{class e{}return e.NULL=new Js,e})();function To(){return Bo(Co(),oi())}function Bo(e,n){return new Qo(ee(e,n))}let Qo=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=To,e})();function Bs(e){return e instanceof Qo?e.nativeElement:e}class Qs{}let xa=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Vo(){const e=oi(),s=it(Co().index,e);return(Jr(s)?s:e)[on]}(),e})(),jn=(()=>{class e{}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>null}),e})();class bs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xs=new bs("16.1.7"),Io={};function ea(e){for(;e;){e[mn]|=64;const n=lu(e);if(Oa(e)&&!n)return e;e=n}return null}function _l(e){return e.ngOriginalError}class Vs{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&_l(n);for(;s&&_l(s);)s=_l(s);return s||null}}const jl=new gr("",{providedIn:"root",factory:()=>!1});function Hl(e){return e.ownerDocument.defaultView}function pc(e){return e instanceof Function?e():e}class Rm extends cr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){ea(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,s,u){const g=Rn(this);this.trackingVersion++;try{n(s,u)}finally{Rn(g)}}destroy(){this.trackingVersion++}}let wh=null;function nf(){return wh??=new Rm,wh}function rf(e,n){return e[n]??nf()}function ws(e,n){const s=nf();s.hasReadASignal&&(e[n]=wh,s.lView=e,wh=new Rm)}const un={};function Gc(e){tl(ln(),oi(),w()+e,!1)}function tl(e,n,s,u){if(!u)if(3==(3&n[mn])){const M=e.preOrderCheckHooks;null!==M&&rt(n,M,s)}else{const M=e.preOrderHooks;null!==M&&xt(n,M,0,s)}T(s)}function ry(e,n=null,s=null,u){const g=oy(e,n,s,u);return g.resolveInjectorInitializers(),g}function oy(e,n=null,s=null,u,g=new Set){const M=[s||Ee,sd(e)];return u=u||("object"==typeof e?void 0:Le(e)),new bu(M,n||yh(),u||null,g)}let Vd=(()=>{class e{static create(s,u){if(Array.isArray(s))return ry({name:""},u,s,"");{const g=s.name??"";return ry({name:g},s.parent,s.providers,g)}}}return e.THROW_IF_NOT_FOUND=wi,e.NULL=new Cm,e.\u0275prov=ft({token:e,providedIn:"any",factory:()=>U(wm)}),e.__NG_ELEMENT_ID__=-1,e})();function Du(e,n=wt.Default){const s=oi();return null===s?U(e,n):yo(Co(),s,Mt(e),n)}function sy(){throw new Error("invalid")}function sf(e,n,s,u,g,M,P,N,j,Q,ge){const ze=n.blueprint.slice();return ze[br]=g,ze[mn]=140|u,(null!==Q||e&&2048&e[mn])&&(ze[mn]|=2048),Qt(ze),ze[Gn]=ze[jr]=e,ze[ar]=s,ze[wo]=P||e&&e[wo],ze[on]=N||e&&e[on],ze[Zo]=j||e&&e[Zo]||null,ze[Sr]=M,ze[us]=function dg(){return ed++}(),ze[Fo]=ge,ze[la]=Q,ze[ir]=2==n.type?e[ir]:ze,ze}function Su(e,n,s,u,g){let M=e.data[n];if(null===M)M=function Mg(e,n,s,u,g){const M=Ol(),P=Fa(),j=e.data[n]=function y0(e,n,s,u,g,M){let P=n?n.injectorIndex:-1,N=0;return go()&&(N|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:P,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:N,providerIndexes:0,value:g,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?M:M&&M.parent,s,n,u,g);return null===e.firstChild&&(e.firstChild=j),null!==M&&(P?null==M.child&&null!==j.parent&&(M.child=j):null===M.next&&(M.next=j,j.prev=M)),j}(e,n,s,u,g),function os(){return Ji.lFrame.inI18n}()&&(M.flags|=32);else if(64&M.type){M.type=s,M.value=u,M.attrs=g;const P=function Jl(){const e=Ji.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();M.injectorIndex=null===P?-1:P.injectorIndex}return Ma(M,!0),M}function Fm(e,n,s,u){if(0===s)return-1;const g=n.length;for(let M=0;M<s;M++)n.push(u),e.blueprint.push(u),e.data.push(null);return g}function ay(e,n,s,u,g){const M=rf(n,Kr),P=w(),N=2&u;try{if(T(-1),N&&n.length>yn&&tl(e,n,yn,!1),to(N?2:0,g),N)M.runInContext(s,u,g);else{const Q=Rn(null);try{s(u,g)}finally{Rn(Q)}}}finally{N&&null===n[Kr]&&ws(n,Kr),T(P),to(N?3:1,g)}}function Dg(e,n,s){if(so(n)){const u=Rn(null);try{const M=n.directiveEnd;for(let P=n.directiveStart;P<M;P++){const N=e.data[P];N.contentQueries&&N.contentQueries(1,s[P],P)}}finally{Rn(u)}}}function Sg(e,n,s){gn()&&(function dy(e,n,s,u){const g=s.directiveStart,M=s.directiveEnd;Hr(s)&&function Zn(e,n,s){const u=ee(n,e),g=ly(s);let P=16;s.signals?P=4096:s.onPush&&(P=64);const N=Ch(e,sf(e,g,null,P,u,n,null,e[wo].rendererFactory.createRenderer(u,s),null,null,null));e[n.index]=N}(n,s,e.data[g+s.componentOffset]),e.firstCreatePass||Na(s,n),vs(u,n);const P=s.initialInputs;for(let N=g;N<M;N++){const j=e.data[N],Q=ga(n,e,N,s);vs(Q,n),null!==P&&S0(0,N-g,Q,j,0,P),Fr(j)&&(it(s.index,n)[ar]=ga(n,e,N,s))}}(e,n,s,ee(s,n)),64==(64&s.flags)&&uy(e,n,s))}function Tg(e,n,s=ee){const u=n.localNames;if(null!==u){let g=n.index+1;for(let M=0;M<u.length;M+=2){const P=u[M+1],N=-1===P?s(n,e):e[P];e[g++]=N}}}function ly(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ig(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ig(e,n,s,u,g,M,P,N,j,Q,ge){const ze=yn+u,gt=ze+g,St=function h0(e,n){const s=[];for(let u=0;u<n;u++)s.push(u<e?null:un);return s}(ze,gt),ni="function"==typeof Q?Q():Q;return St[Oi]={type:e,blueprint:St,template:s,queries:null,viewQuery:N,declTNode:n,data:St.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:gt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:j,consts:ni,incompleteFirstPass:!1,ssrId:ge}}let cy=e=>null;function uo(e,n,s,u){for(let g in e)if(e.hasOwnProperty(g)){s=null===s?{}:s;const M=e[g];null===u?Lm(s,n,g,M):u.hasOwnProperty(g)&&Lm(s,n,u[g],M)}return s}function Lm(e,n,s,u){e.hasOwnProperty(s)?e[s].push(n,u):e[s]=[n,u]}function yl(e,n,s,u,g,M,P,N){const j=ee(n,s);let ge,Q=n.inputs;!N&&null!=Q&&(ge=Q[u])?(kg(e,s,ge,u,g),Hr(n)&&function x0(e,n){const s=it(n,e);16&s[mn]||(s[mn]|=64)}(s,n.index)):3&n.type&&(u=function b0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),g=null!=P?P(g,n.value||"",u):g,M.setProperty(j,u,g))}function af(e,n,s,u){if(gn()){const g=null===u?null:{"":-1},M=function hy(e,n){const s=e.directiveRegistry;let u=null,g=null;if(s)for(let M=0;M<s.length;M++){const P=s[M];if(Ms(n,P.selectors,!1))if(u||(u=[]),Fr(P))if(null!==P.findHostDirectiveDefs){const N=[];g=g||new Map,P.findHostDirectiveDefs(P,N,g),u.unshift(...N,P),na(e,n,N.length)}else u.unshift(P),na(e,n,0);else g=g||new Map,P.findHostDirectiveDefs?.(P,u,g),u.push(P)}return null===u?null:[u,g]}(e,s);let P,N;null===M?P=N=null:[P,N]=M,null!==P&&lf(e,n,s,P,g,N),g&&function D0(e,n,s){if(n){const u=e.localNames=[];for(let g=0;g<n.length;g+=2){const M=s[n[g+1]];if(null==M)throw new Oe(-301,!1);u.push(n[g],M)}}}(s,u,g)}s.mergedAttrs=_r(s.mergedAttrs,s.attrs)}function lf(e,n,s,u,g,M){for(let Q=0;Q<u.length;Q++)$o(Na(s,n),e,u[Q].type);!function Cn(e,n,s){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+s,e.providerIndexes=n}(s,e.data.length,u.length);for(let Q=0;Q<u.length;Q++){const ge=u[Q];ge.providersResolver&&ge.providersResolver(ge)}let P=!1,N=!1,j=Fm(e,n,u.length,null);for(let Q=0;Q<u.length;Q++){const ge=u[Q];s.mergedAttrs=_r(s.mergedAttrs,ge.hostAttrs),Gl(e,s,n,j,ge),ld(j,ge,g),null!==ge.contentQueries&&(s.flags|=4),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(s.flags|=64);const ze=ge.type.prototype;!P&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),P=!0),!N&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),N=!0),j++}!function v0(e,n,s){const g=n.directiveEnd,M=e.data,P=n.attrs,N=[];let j=null,Q=null;for(let ge=n.directiveStart;ge<g;ge++){const ze=M[ge],gt=s?s.get(ze):null,ni=gt?gt.outputs:null;j=uo(ze.inputs,ge,j,gt?gt.inputs:null),Q=uo(ze.outputs,ge,Q,ni);const vi=null===j||null===P||fn(n)?null:df(j,ge,P);N.push(vi)}null!==j&&(j.hasOwnProperty("class")&&(n.flags|=8),j.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=N,n.inputs=j,n.outputs=Q}(e,s,M)}function uy(e,n,s){const u=s.directiveStart,g=s.directiveEnd,M=s.index,P=function xr(){return Ji.lFrame.currentDirectiveIndex}();try{T(M);for(let N=u;N<g;N++){const j=e.data[N],Q=n[N];wr(N),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&M0(j,Q)}}finally{T(-1),wr(P)}}function M0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function na(e,n,s){n.componentOffset=s,(e.components??=[]).push(n.index)}function ld(e,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=e;Fr(n)&&(s[""]=e)}}function Gl(e,n,s,u,g){e.data[u]=g;const M=g.factory||(g.factory=fo(g.type)),P=new ai(M,Fr(g),Du);e.blueprint[u]=P,s[u]=P,function cf(e,n,s,u,g){const M=g.hostBindings;if(M){let P=e.hostBindingOpCodes;null===P&&(P=e.hostBindingOpCodes=[]);const N=~n.index;(function E0(e){let n=e.length;for(;n>0;){const s=e[--n];if("number"==typeof s&&s<0)return s}return 0})(P)!=N&&P.push(N),P.push(s,u,M)}}(e,n,u,Fm(e,s,g.hostVars,un),g)}function Zl(e,n,s,u,g,M){const P=ee(e,n);!function Ag(e,n,s,u,g,M,P){if(null==M)e.removeAttribute(n,g,s);else{const N=null==P?Re(M):P(M,u||"",g);e.setAttribute(n,g,N,s)}}(n[on],P,M,e.value,s,u,g)}function S0(e,n,s,u,g,M){const P=M[n];if(null!==P)for(let N=0;N<P.length;)fc(u,s,P[N++],P[N++],P[N++])}function fc(e,n,s,u,g){const M=Rn(null);try{const P=e.inputTransforms;null!==P&&P.hasOwnProperty(u)&&(g=P[u].call(n,g)),null!==e.setInput?e.setInput(n,g,s,u):n[u]=g}finally{Rn(M)}}function df(e,n,s){let u=null,g=0;for(;g<s.length;){const M=s[g];if(0!==M)if(5!==M){if("number"==typeof M)break;if(e.hasOwnProperty(M)){null===u&&(u=[]);const P=e[M];for(let N=0;N<P.length;N+=2)if(P[N]===n){u.push(M,P[N+1],s[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function cd(e,n,s,u){return[e,!0,!1,n,null,0,u,s,null,null,null]}function uf(e,n){const s=e.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const M=s[u+1];if(-1!==M){const P=e.data[M];Da(s[u]),P.contentQueries(2,n[M],M)}}}function Ch(e,n){return e[Ro]?e[kn][Go]=n:e[Ro]=n,e[kn]=n,n}function hf(e,n,s){Da(0);const u=Rn(null);try{n(e,s)}finally{Rn(u)}}function my(e){return e[Or]||(e[Or]=[])}function py(e){return e.cleanup||(e.cleanup=[])}function fy(e,n,s){return(null===e||Fr(e))&&(s=function No(e){for(;Array.isArray(e);){if("object"==typeof e[Ml])return e;e=e[br]}return null}(s[n.index])),s[on]}function gy(e,n){const s=e[Zo],u=s?s.get(Vs,null):null;u&&u.handleError(n)}function kg(e,n,s,u,g){for(let M=0;M<s.length;){const P=s[M++],N=s[M++];fc(e.data[P],n[P],u,N,g)}}function T0(e,n){const s=it(n,e),u=s[Oi];!function I0(e,n){for(let s=n.length;s<e.blueprint.length;s++)n.push(e.blueprint[s])}(u,s);const g=s[br];null!==g&&null===s[Fo]&&(s[Fo]=Si(g,s[Zo])),Pg(u,s,s[ar])}function Pg(e,n,s){Fl(n);try{const u=e.viewQuery;null!==u&&hf(1,u,s);const g=e.template;null!==g&&ay(e,n,g,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&uf(e,n),e.staticViewQueries&&hf(2,e.viewQuery,s);const M=e.components;null!==M&&function A0(e,n){for(let s=0;s<n.length;s++)T0(e,n[s])}(n,M)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[mn]&=-5,i()}}let _y=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,u,g){const M=typeof Zone>"u"?null:Zone.current,P=new Yo(s,Q=>{this.all.has(Q)&&this.queue.set(Q,M)},g);let N;this.all.add(P),P.notify();const j=()=>{P.cleanup(),N?.(),this.all.delete(P),this.queue.delete(P)};return N=u?.onDestroy(j),{destroy:j}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>new e}),e})();function mf(e,n,s){let u=s?e.styles:null,g=s?e.classes:null,M=0;if(null!==n)for(let P=0;P<n.length;P++){const N=n[P];"number"==typeof N?M=N:1==M?g=tt(g,N):2==M&&(u=tt(u,N+": "+n[++P]+";"))}s?e.styles=u:e.stylesWithoutHost=u,s?e.classes=g:e.classesWithoutHost=g}function Nm(e,n,s,u,g=!1){for(;null!==s;){const M=n[s.index];if(null!==M&&u.push(er(M)),nr(M)){for(let N=Xr;N<M.length;N++){const j=M[N],Q=j[Oi].firstChild;null!==Q&&Nm(j[Oi],j,Q,u)}M[po]!==M[br]&&u.push(M[po])}const P=s.type;if(8&P)Nm(e,n,s.child,u);else if(32&P){const N=Yh(s,n);let j;for(;j=N();)u.push(j)}else if(16&P){const N=om(n,s);if(Array.isArray(N))u.push(...N);else{const j=lu(n[ir]);Nm(j[Oi],j,N,u,!0)}}s=g?s.projectionNext:s.next}return u}function pf(e,n,s,u=!0){const g=n[wo].rendererFactory;g.begin&&g.begin();try{Og(e,n,e.template,s)}catch(P){throw u&&gy(n,P),P}finally{g.end&&g.end(),n[wo].effectManager?.flush()}}function Og(e,n,s,u){const g=n[mn];if(256!=(256&g)){n[wo].effectManager?.flush(),Fl(n);try{Qt(n),function pa(e){return Ji.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&ay(e,n,s,2,u);const P=3==(3&g);if(P){const Q=e.preOrderCheckHooks;null!==Q&&rt(n,Q,null)}else{const Q=e.preOrderHooks;null!==Q&&xt(n,Q,0,null),Ge(n,0)}if(function R0(e){for(let n=Kh(e);null!==n;n=Xh(n)){if(!n[al])continue;const s=n[wa];for(let u=0;u<s.length;u++){Dn(s[u])}}}(n),Rg(n,2),null!==e.contentQueries&&uf(e,n),P){const Q=e.contentCheckHooks;null!==Q&&rt(n,Q)}else{const Q=e.contentHooks;null!==Q&&xt(n,Q,1),Ge(n,1)}!function u0(e,n){const s=e.hostBindingOpCodes;if(null===s)return;const u=rf(n,hs);try{for(let g=0;g<s.length;g++){const M=s[g];if(M<0)T(~M);else{const P=M,N=s[++g],j=s[++g];Dc(N,P),u.runInContext(j,2,n[P])}}}finally{null===n[hs]&&ws(n,hs),T(-1)}}(e,n);const N=e.components;null!==N&&xy(n,N,0);const j=e.viewQuery;if(null!==j&&hf(2,j,u),P){const Q=e.viewCheckHooks;null!==Q&&rt(n,Q)}else{const Q=e.viewHooks;null!==Q&&xt(n,Q,2),Ge(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[mn]&=-73,Lr(n)}finally{i()}}}function Rg(e,n){for(let s=Kh(e);null!==s;s=Xh(s))for(let u=Xr;u<s.length;u++)by(s[u],n)}function vy(e,n,s){by(it(n,e),s)}function by(e,n){if(!function Vi(e){return 128==(128&e[mn])}(e))return;const s=e[Oi];if(80&e[mn]&&0===n||1024&e[mn]||2===n)Og(s,e,s.template,e[ar]);else if(e[Oo]>0){Rg(e,1);const g=e[Oi].components;null!==g&&xy(e,g,1)}}function xy(e,n,s){for(let u=0;u<n.length;u++)vy(e,n[u],s)}class zm{get rootNodes(){const n=this._lView,s=n[Oi];return Nm(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ar]}set context(n){this._lView[ar]=n}get destroyed(){return 256==(256&this._lView[mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Gn];if(nr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(Xu(n,u),kc(s,u))}this._attachedToViewContainer=!1}Qh(this._lView[Oi],this._lView)}onDestroy(n){!function Nr(e,n){if(256==(256&e[mn]))throw new Oe(911,!1);null===e[is]&&(e[is]=[]),e[is].push(n)}(this._lView,n)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[mn]&=-129}reattach(){this._lView[mn]|=128}detectChanges(){pf(this._lView[Oi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cu(e,n){hu(e,n,n[on],2,null,null)}(this._lView[Oi],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=n}}class Ud extends zm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;pf(n[Oi],n,n[ar],!1)}checkNoChanges(){}get context(){return null}}class ff extends co{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=dn(n);return new Bm(s,this.ngModule)}}function F0(e){const n=[];for(let s in e)e.hasOwnProperty(s)&&n.push({propName:e[s],templateName:s});return n}class hC{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Me(u);const g=this.injector.get(n,Io,u);return g!==Io||s===Io?g:this.parentInjector.get(n,s,u)}}class Bm extends So{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=F0(n.inputs);if(null!==s)for(const g of u)s.hasOwnProperty(g.propName)&&(g.transform=s[g.propName]);return u}get outputs(){return F0(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function yr(e){return e.map(Uo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,g){let M=(g=g||this.ngModule)instanceof $c?g:g?.injector;M&&null!==this.componentDef.getStandaloneInjector&&(M=this.componentDef.getStandaloneInjector(M)||M);const P=M?new hC(n,M):n,N=P.get(Qs,null);if(null===N)throw new Oe(407,!1);const ge={rendererFactory:N,sanitizer:P.get(jn,null),effectManager:P.get(_y,null)},ze=N.createRenderer(null,this.componentDef),gt=this.componentDef.selectors[0][0]||"div",St=u?function m0(e,n,s,u){const M=u.get(jl,!1)||s===De.ShadowDom,P=e.selectRootElement(n,M);return function p0(e){cy(e)}(P),P}(ze,u,this.componentDef.encapsulation,P):Ku(ze,gt,function uC(e){const n=e.toLowerCase();return"svg"===n?qc:"math"===n?"math":null}(gt)),$i=this.componentDef.signals?4608:this.componentDef.onPush?576:528,hn=Ig(0,null,null,1,0,null,null,null,null,null,null),li=sf(null,hn,null,$i,null,null,ge,ze,P,null,null);let $n,ur;Fl(li);try{const Er=this.componentDef;let ol,a0=null;Er.findHostDirectiveDefs?(ol=[],a0=new Map,Er.findHostDirectiveDefs(Er,ol,a0),ol.push(Er)):ol=[Er];const pM=function N0(e,n){const s=e[Oi],u=yn;return e[u]=n,Su(s,u,2,"#host",null)}(li,St),fM=function z0(e,n,s,u,g,M,P){const N=g[Oi];!function mC(e,n,s,u){for(const g of e)n.mergedAttrs=_r(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(mf(n,n.mergedAttrs,!0),null!==s&&kd(u,s,n))}(u,e,n,P);let j=null;null!==n&&(j=Si(n,g[Zo]));const Q=M.rendererFactory.createRenderer(n,s);let ge=16;s.signals?ge=4096:s.onPush&&(ge=64);const ze=sf(g,ly(s),null,ge,g[e.index],e,M,Q,null,null,j);return N.firstCreatePass&&na(N,e,u.length-1),Ch(g,ze),g[e.index]=ze}(pM,St,Er,ol,li,ge,ze);ur=me(hn,yn),St&&function V0(e,n,s,u){if(u)di(e,s,["ng-version",xs.full]);else{const{attrs:g,classes:M}=function Qn(e){const n=[],s=[];let u=1,g=2;for(;u<e.length;){let M=e[u];if("string"==typeof M)2===g?""!==M&&n.push(M,e[++u]):8===g&&s.push(M);else{if(!cn(g))break;g=M}u++}return{attrs:n,classes:s}}(n.selectors[0]);g&&di(e,s,g),M&&M.length>0&&lc(e,s,M.join(" "))}}(ze,Er,St,u),void 0!==s&&function U0(e,n,s){const u=e.projection=[];for(let g=0;g<n.length;g++){const M=s[g];u.push(null!=M?Array.from(M):null)}}(ur,this.ngContentSelectors,s),$n=function B0(e,n,s,u,g,M){const P=Co(),N=g[Oi],j=ee(P,g);lf(N,g,P,s,null,u);for(let ge=0;ge<s.length;ge++)vs(ga(g,N,P.directiveStart+ge,P),g);uy(N,g,P),j&&vs(j,g);const Q=ga(g,N,P.directiveStart+P.componentOffset,P);if(e[ar]=g[ar]=Q,null!==M)for(const ge of M)ge(Q,n);return Dg(N,P,e),Q}(fM,Er,ol,a0,li,[j0]),Pg(hn,li,null)}finally{i()}return new wy(this.componentType,$n,Bo(ur,li),li,ur)}}class wy extends Xs{constructor(n,s,u,g,M){super(),this.location=u,this._rootLView=g,this._tNode=M,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Ud(g),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const M=this._rootLView;kg(M[Oi],M,g,n,s),this.previousInputValues.set(n,s),ea(it(this._tNode.index,M))}}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function j0(){const e=Co();ve(oi()[Oi],e)}function Fg(e){let n=function Cy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const u=[e];for(;n;){let g;if(Fr(e))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Oe(903,!1);g=n.\u0275dir}if(g){if(s){u.push(g);const P=e;P.inputs=gf(e.inputs),P.inputTransforms=gf(e.inputTransforms),P.declaredInputs=gf(e.declaredInputs),P.outputs=gf(e.outputs);const N=g.hostBindings;N&&H0(e,N);const j=g.viewQuery,Q=g.contentQueries;if(j&&pC(e,j),Q&&fC(e,Q),nt(e.inputs,g.inputs),nt(e.declaredInputs,g.declaredInputs),nt(e.outputs,g.outputs),null!==g.inputTransforms&&(null===P.inputTransforms&&(P.inputTransforms={}),nt(P.inputTransforms,g.inputTransforms)),Fr(g)&&g.data.animation){const ge=e.data;ge.animation=(ge.animation||[]).concat(g.data.animation)}}const M=g.features;if(M)for(let P=0;P<M.length;P++){const N=M[P];N&&N.ngInherit&&N(e),N===Fg&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Ey(e){let n=0,s=null;for(let u=e.length-1;u>=0;u--){const g=e[u];g.hostVars=n+=g.hostVars,g.hostAttrs=_r(g.hostAttrs,s=_r(s,g.hostAttrs))}}(u)}function gf(e){return e===ce?{}:e===Ee?[]:e}function pC(e,n){const s=e.viewQuery;e.viewQuery=s?(u,g)=>{n(u,g),s(u,g)}:n}function fC(e,n){const s=e.contentQueries;e.contentQueries=s?(u,g,M)=>{n(u,g,M),s(u,g,M)}:n}function H0(e,n){const s=e.hostBindings;e.hostBindings=s?(u,g)=>{n(u,g),s(u,g)}:n}function Lg(e){const n=e.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const g=n[u];Array.isArray(g)&&g[2]&&(s[u]=g[2])}e.inputTransforms=s}function _f(e){return!!Ng(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ng(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zc(e,n,s){return e[n]=s}function Sa(e,n,s){return!Object.is(e[n],s)&&(e[n]=s,!0)}function Iu(e,n,s,u){const g=Sa(e,n,s);return Sa(e,n+1,u)||g}function zg(e,n,s,u){const g=oi();return Sa(g,Br(),n)&&(ln(),Zl(f(),g,e,n,s,u)),zg}function Um(e,n,s,u){return Sa(e,Br(),s)?n+Re(s)+u:un}function wf(e,n,s,u,g,M,P,N){const j=oi(),Q=ln(),ge=e+yn,ze=Q.firstCreatePass?function dx(e,n,s,u,g,M,P,N,j){const Q=n.consts,ge=Su(n,e,4,P||null,Vn(Q,N));af(n,s,ge,Vn(Q,j)),ve(n,ge);const ze=ge.tView=Ig(2,ge,u,g,M,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Q,null);return null!==n.queries&&(n.queries.template(n,ge),ze.queries=n.queries.embeddedTView(ge)),ge}(ge,Q,j,n,s,u,g,M,P):Q.data[ge];Ma(ze,!1);const gt=zy(Q,j,ze,e);te()&&nd(Q,j,gt,ze),vs(gt,j),Ch(j,j[ge]=cd(gt,j,gt,ze)),Pa(ze)&&Sg(Q,j,ze),null!=P&&Tg(j,ze,N)}let zy=function Cf(e,n,s,u){return ae(!0),n[on].createComment("")};function By(e){return Ue(function Rl(){return Ji.lFrame.contextLView}(),yn+e)}function Wg(e,n,s){const u=oi();return Sa(u,Br(),n)&&yl(ln(),f(),u,e,n,u[on],s,!1),Wg}function qg(e,n,s,u,g){const P=g?"class":"style";kg(e,s,n.inputs[P],P,u)}function Ef(e,n,s,u){const g=oi(),M=ln(),P=yn+e,N=g[on],j=M.firstCreatePass?function px(e,n,s,u,g,M){const P=n.consts,j=Su(n,e,2,u,Vn(P,g));return af(n,s,j,Vn(P,M)),null!==j.attrs&&mf(j,j.attrs,!1),null!==j.mergedAttrs&&mf(j,j.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,j),j}(P,M,g,n,s,u):M.data[P],Q=Vy(M,g,j,N,n,e);g[P]=Q;const ge=Pa(j);return Ma(j,!0),kd(N,Q,j),32!=(32&j.flags)&&te()&&nd(M,g,Q,j),0===function zr(){return Ji.lFrame.elementDepthCount}()&&vs(Q,g),function ma(){Ji.lFrame.elementDepthCount++}(),ge&&(Sg(M,g,j),Dg(M,j,g)),null!==u&&Tg(g,j),Ef}function Mf(){let e=Co();Fa()?ks():(e=e.parent,Ma(e,!1));const n=e;(function Ws(e){return Ji.skipHydrationRootTNode===e})(n)&&function gs(){Ji.skipHydrationRootTNode=null}(),function Is(){Ji.lFrame.elementDepthCount--}();const s=ln();return s.firstCreatePass&&(ve(s,e),so(e)&&s.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Ti(e){return 0!=(8&e.flags)}(n)&&qg(s,n,oi(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function sn(e){return 0!=(16&e.flags)}(n)&&qg(s,n,oi(),n.stylesWithoutHost,!1),Mf}function Yg(e,n,s,u){return Ef(e,n,s,u),Mf(),Yg}let Vy=(e,n,s,u,g,M)=>(ae(!0),Ku(u,g,function R(){return Ji.lFrame.currentNamespace}()));function Df(e,n,s){const u=oi(),g=ln(),M=e+yn,P=g.firstCreatePass?function _x(e,n,s,u,g){const M=n.consts,P=Vn(M,u),N=Su(n,e,8,"ng-container",P);return null!==P&&mf(N,P,!0),af(n,s,N,Vn(M,g)),null!==n.queries&&n.queries.elementStart(n,N),N}(M,g,u,n,s):g.data[M];Ma(P,!0);const N=Uy(g,u,P,e);return u[M]=N,te()&&nd(g,u,N,P),vs(N,u),Pa(P)&&(Sg(g,u,P),Dg(g,P,u)),null!=s&&Tg(u,P),Df}function Sf(){let e=Co();const n=ln();return Fa()?ks():(e=e.parent,Ma(e,!1)),n.firstCreatePass&&(ve(n,e),so(e)&&n.queries.elementEnd(e)),Sf}function Kg(e,n,s){return Df(e,n,s),Sf(),Kg}let Uy=(e,n,s,u)=>(ae(!0),Yu(n[on],""));function jy(){return oi()}function Xg(e){return!!e&&"function"==typeof e.then}function Hy(e){return!!e&&"function"==typeof e.subscribe}function Jg(e,n,s,u){const g=oi(),M=ln(),P=Co();return $y(M,g,g[on],P,e,n,u),Jg}function Qg(e,n){const s=Co(),u=oi(),g=ln();return $y(g,u,fy(Sc(g.data),s,u),s,e,n),Qg}function $y(e,n,s,u,g,M,P){const N=Pa(u),Q=e.firstCreatePass&&py(e),ge=n[ar],ze=my(n);let gt=!0;if(3&u.type||P){const vi=ee(u,n),$i=P?P(vi):vi,hn=ze.length,li=P?ur=>P(er(ur[u.index])):u.index;let $n=null;if(!P&&N&&($n=function bx(e,n,s,u){const g=e.cleanup;if(null!=g)for(let M=0;M<g.length-1;M+=2){const P=g[M];if(P===s&&g[M+1]===u){const N=n[Or],j=g[M+2];return N.length>j?N[j]:null}"string"==typeof P&&(M+=2)}return null}(e,n,g,u.index)),null!==$n)($n.__ngLastListenerFn__||$n).__ngNextListenerFn__=M,$n.__ngLastListenerFn__=M,gt=!1;else{M=Zy(u,n,ge,M,!1);const ur=s.listen($i,g,M);ze.push(M,ur),Q&&Q.push(g,li,hn,hn+1)}}else M=Zy(u,n,ge,M,!1);const St=u.outputs;let ni;if(gt&&null!==St&&(ni=St[g])){const vi=ni.length;if(vi)for(let $i=0;$i<vi;$i+=2){const Er=n[ni[$i]][ni[$i+1]].subscribe(M),ol=ze.length;ze.push(M,Er),Q&&Q.push(g,u.index,ol,-(ol+1))}}}function Gy(e,n,s,u){try{return to(6,n,s),!1!==s(u)}catch(g){return gy(e,g),!1}finally{to(7,n,s)}}function Zy(e,n,s,u,g){return function M(P){if(P===Function)return u;ea(e.componentOffset>-1?it(e.index,n):n);let j=Gy(n,s,u,P),Q=M.__ngNextListenerFn__;for(;Q;)j=Gy(n,s,Q,P)&&j,Q=Q.__ngNextListenerFn__;return g&&!1===j&&P.preventDefault(),j}}function Wy(e=1){return function d(e){return(Ji.lFrame.contextLView=function _(e,n){for(;e>0;)n=n[jr],e--;return n}(e,Ji.lFrame.contextLView))[ar]}(e)}function qy(e,n){let s=null;const u=function In(e){const n=e.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(e);for(let g=0;g<n.length;g++){const M=n[g];if("*"!==M){if(null===u?Ms(e,M,!0):Ur(u,M))return g}else s=g}return s}function Yy(e){const n=oi()[ir][Sr];if(!n.projection){const u=n.projection=bd(e?e.length:1,null),g=u.slice();let M=n.child;for(;null!==M;){const P=e?qy(M,e):0;null!==P&&(g[P]?g[P].projectionNext=M:u[P]=M,g[P]=M),M=M.next}}}function Ky(e,n=0,s){const u=oi(),g=ln(),M=Su(g,yn+e,16,null,s||null);null===M.projection&&(M.projection=n),ks(),(!u[Fo]||go())&&32!=(32&M.flags)&&function lm(e,n,s){cm(n[on],0,n,s,Qu(e,s,n),th(s.parent||n[Sr],s,n))}(g,u,M)}function e_(e,n,s){return $d(e,"",n,"",s),e_}function $d(e,n,s,u,g){const M=oi(),P=Um(M,n,s,u);return P!==un&&yl(ln(),f(),M,e,P,M[on],g,!1),$d}function Tf(e,n){return e<<17|n<<2}function Gd(e){return e>>17&32767}function r_(e){return 2|e}function Ou(e){return(131068&e)>>2}function o_(e,n){return-131069&e|n<<2}function s_(e){return 1|e}function iv(e,n,s,u,g){const M=e[s+1],P=null===n;let N=u?Gd(M):Ou(M),j=!1;for(;0!==N&&(!1===j||P);){const ge=e[N+1];Dx(e[N],n)&&(j=!0,e[N+1]=u?s_(ge):r_(ge)),N=u?Gd(ge):Ou(ge)}j&&(e[s+1]=u?r_(M):s_(M))}function Dx(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Bl(e,n)>=0}const Us={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nv(e){return e.substring(Us.key,Us.keyEnd)}function Sx(e){return e.substring(Us.value,Us.valueEnd)}function rv(e,n){const s=Us.textEnd;return s===n?-1:(n=Us.keyEnd=function Ax(e,n,s){for(;n<s&&e.charCodeAt(n)>32;)n++;return n}(e,Us.key=n,s),Dh(e,n,s))}function ov(e,n){const s=Us.textEnd;let u=Us.key=Dh(e,n,s);return s===u?-1:(u=Us.keyEnd=function kx(e,n,s){let u;for(;n<s&&(45===(u=e.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(e,u,s),u=av(e,u,s),u=Us.value=Dh(e,u,s),u=Us.valueEnd=function Px(e,n,s){let u=-1,g=-1,M=-1,P=n,N=P;for(;P<s;){const j=e.charCodeAt(P++);if(59===j)return N;34===j||39===j?N=P=lv(e,j,P,s):n===P-4&&85===M&&82===g&&76===u&&40===j?N=P=lv(e,41,P,s):j>32&&(N=P),M=g,g=u,u=-33&j}return N}(e,u,s),av(e,u,s))}function sv(e){Us.key=0,Us.keyEnd=0,Us.value=0,Us.valueEnd=0,Us.textEnd=e.length}function Dh(e,n,s){for(;n<s&&e.charCodeAt(n)<=32;)n++;return n}function av(e,n,s,u){return(n=Dh(e,n,s))<s&&n++,n}function lv(e,n,s,u){let g=-1,M=s;for(;M<u;){const P=e.charCodeAt(M++);if(P==n&&92!==g)return M;g=92==P&&92===g?0:P}throw new Error}function a_(e,n,s){return _c(e,n,s,!1),a_}function l_(e,n){return _c(e,n,null,!0),l_}function gc(e){bl(Lx,Ox,e,!1)}function Ox(e,n){for(let s=function Ix(e){return sv(e),ov(e,Dh(e,0,Us.textEnd))}(n);s>=0;s=ov(n,s))Lx(e,nv(n),Sx(n))}function cv(e){bl(AC,Wc,e,!0)}function Wc(e,n){for(let s=function Tx(e){return sv(e),rv(e,Dh(e,0,Us.textEnd))}(n);s>=0;s=rv(n,s))_a(e,nv(n),!0)}function _c(e,n,s,u){const g=oi(),M=ln(),P=fa(2);M.firstUpdatePass&&Fx(M,e,P,u),n!==un&&Sa(g,P,n)&&Nx(M,M.data[w()],g,g[on],e,g[P+1]=function Bx(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Le(dc(e)))),e}(n,s),u,P)}function bl(e,n,s,u){const g=ln(),M=fa(2);g.firstUpdatePass&&Fx(g,null,M,u);const P=oi();if(s!==un&&Sa(P,M,s)){const N=g.data[w()];if(uv(N,u)&&!Rx(g,M)){let j=u?N.classesWithoutHost:N.stylesWithoutHost;null!==j&&(s=tt(j,s||"")),qg(g,N,P,s,u)}else!function kC(e,n,s,u,g,M,P,N){g===un&&(g=Ee);let j=0,Q=0,ge=0<g.length?g[0]:null,ze=0<M.length?M[0]:null;for(;null!==ge||null!==ze;){const gt=j<g.length?g[j+1]:void 0,St=Q<M.length?M[Q+1]:void 0;let vi,ni=null;ge===ze?(j+=2,Q+=2,gt!==St&&(ni=ze,vi=St)):null===ze||null!==ge&&ge<ze?(j+=2,ni=ge):(Q+=2,ni=ze,vi=St),null!==ni&&Nx(e,n,s,u,ni,vi,P,N),ge=j<g.length?g[j]:null,ze=Q<M.length?M[Q]:null}}(g,N,P,P[on],P[M+1],P[M+1]=function IC(e,n,s){if(null==s||""===s)return Ee;const u=[],g=dc(s);if(Array.isArray(g))for(let M=0;M<g.length;M++)e(u,g[M],!0);else if("object"==typeof g)for(const M in g)g.hasOwnProperty(M)&&e(u,M,g[M]);else"string"==typeof g&&n(u,g);return u}(e,n,s),u,M)}}function Rx(e,n){return n>=e.expandoStartIndex}function Fx(e,n,s,u){const g=e.data;if(null===g[s+1]){const M=g[w()],P=Rx(e,s);uv(M,u)&&null===n&&!P&&(n=!1),n=function MC(e,n,s,u){const g=Sc(e);let M=u?n.residualClasses:n.residualStyles;if(null===g)0===(u?n.classBindings:n.styleBindings)&&(s=If(s=dv(null,e,n,s,u),n.attrs,u),M=null);else{const P=n.directiveStylingLast;if(-1===P||e[P]!==g)if(s=dv(g,e,n,s,u),null===M){let j=function DC(e,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Ou(u))return e[Gd(u)]}(e,n,u);void 0!==j&&Array.isArray(j)&&(j=dv(null,e,n,j[1],u),j=If(j,n.attrs,u),function SC(e,n,s,u){e[Gd(s?n.classBindings:n.styleBindings)]=u}(e,n,u,j))}else M=function TC(e,n,s){let u;const g=n.directiveEnd;for(let M=1+n.directiveStylingLast;M<g;M++)u=If(u,e[M].hostAttrs,s);return If(u,n.attrs,s)}(e,n,u)}return void 0!==M&&(u?n.residualClasses=M:n.residualStyles=M),s}(g,M,n,u),function Ex(e,n,s,u,g,M){let P=M?n.classBindings:n.styleBindings,N=Gd(P),j=Ou(P);e[u]=s;let ge,Q=!1;if(Array.isArray(s)?(ge=s[1],(null===ge||Bl(s,ge)>0)&&(Q=!0)):ge=s,g)if(0!==j){const gt=Gd(e[N+1]);e[u+1]=Tf(gt,N),0!==gt&&(e[gt+1]=o_(e[gt+1],u)),e[N+1]=function wx(e,n){return 131071&e|n<<17}(e[N+1],u)}else e[u+1]=Tf(N,0),0!==N&&(e[N+1]=o_(e[N+1],u)),N=u;else e[u+1]=Tf(j,0),0===N?N=u:e[j+1]=o_(e[j+1],u),j=u;Q&&(e[u+1]=r_(e[u+1])),iv(e,ge,u,!0),iv(e,ge,u,!1),function Mx(e,n,s,u,g){const M=g?e.residualClasses:e.residualStyles;null!=M&&"string"==typeof n&&Bl(M,n)>=0&&(s[u+1]=s_(s[u+1]))}(n,ge,e,u,M),P=Tf(N,j),M?n.classBindings=P:n.styleBindings=P}(g,M,n,s,P,u)}}function dv(e,n,s,u,g){let M=null;const P=s.directiveEnd;let N=s.directiveStylingLast;for(-1===N?N=s.directiveStart:N++;N<P&&(M=n[N],u=If(u,M.hostAttrs,g),M!==e);)N++;return null!==e&&(s.directiveStylingLast=N),u}function If(e,n,s){const u=s?1:2;let g=-1;if(null!==n)for(let M=0;M<n.length;M++){const P=n[M];"number"==typeof P?g=P:g===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_a(e,P,!!s||n[++M]))}return void 0===e?null:e}function Lx(e,n,s){_a(e,n,dc(s))}function AC(e,n,s){const u=String(n);""!==u&&!u.includes(" ")&&_a(e,u,s)}function Nx(e,n,s,u,g,M,P,N){if(!(3&n.type))return;const j=e.data,Q=j[N+1],ge=function Cx(e){return 1==(1&e)}(Q)?zx(j,n,s,g,Ou(Q),P):void 0;Af(ge)||(Af(M)||function xx(e){return 2==(2&e)}(Q)&&(M=zx(j,null,s,g,N,P)),function dm(e,n,s,u,g){if(n)g?e.addClass(s,u):e.removeClass(s,u);else{let M=-1===u.indexOf("-")?void 0:Zu.DashCase;null==g?e.removeStyle(s,u,M):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),M|=Zu.Important),e.setStyle(s,u,g,M))}}(u,P,F(w(),s),g,M))}function zx(e,n,s,u,g,M){const P=null===n;let N;for(;g>0;){const j=e[g],Q=Array.isArray(j),ge=Q?j[1]:j,ze=null===ge;let gt=s[g+1];gt===un&&(gt=ze?Ee:void 0);let St=ze?xd(gt,u):ge===u?gt:void 0;if(Q&&!Af(St)&&(St=xd(j,u)),Af(St)&&(N=St,P))return N;const ni=e[g+1];g=P?Gd(ni):Ou(ni)}if(null!==n){let j=M?n.residualClasses:n.residualStyles;null!=j&&(N=xd(j,u))}return N}function Af(e){return void 0!==e}function uv(e,n){return 0!=(e.flags&(n?8:16))}function c_(e,n=""){const s=oi(),u=ln(),g=e+yn,M=u.firstCreatePass?Su(u,g,1,n,null):u.data[g],P=hv(u,s,M,n,e);s[g]=P,te()&&nd(u,s,P,M),Ma(M,!1)}let hv=(e,n,s,u,g)=>(ae(!0),function td(e,n){return e.createText(n)}(n[on],u));function d_(e){return kf("",e,""),d_}function kf(e,n,s){const u=oi(),g=Um(u,e,n,s);return g!==un&&function dd(e,n,s){const u=F(n,e);!function Ip(e,n,s){e.setValue(n,s)}(e[on],u,s)}(u,w(),g),kf}function xv(e,n,s){bl(_a,Wc,Um(oi(),e,n,s),!0)}function u_(e,n,s){const u=oi();return Sa(u,Br(),n)&&yl(ln(),f(),u,e,n,u[on],s,!0),u_}function h_(e,n,s){const u=oi();if(Sa(u,Br(),n)){const M=ln(),P=f();yl(M,P,u,e,n,fy(Sc(M.data),P,u),s,!0)}return h_}const Ru=void 0;var sw=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ow(e){const s=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Sh={};function m_(e){const n=function aw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=Pv(n);if(s)return s;const u=n.split("-")[0];if(s=Pv(u),s)return s;if("en"===u)return sw;throw new Oe(701,!1)}function kv(e){return m_(e)[Th.PluralCase]}function Pv(e){return e in Sh||(Sh[e]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[e]),Sh[e]}var Th=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Th||{});const Ih="en-US";let Ov=Ih;function x_(e,n,s,u,g){if(e=Mt(e),Array.isArray(e))for(let M=0;M<e.length;M++)x_(e[M],n,s,u,g);else{const M=ln(),P=oi();let N=Hc(e)?e:Mt(e.provide),j=vh(e);const Q=Co(),ge=1048575&Q.providerIndexes,ze=Q.directiveStart,gt=Q.providerIndexes>>20;if(Hc(e)||!e.multi){const St=new ai(j,g,Du),ni=C_(N,n,g?ge:ge+gt,ze);-1===ni?($o(Na(Q,P),M,N),w_(M,e,n.length),n.push(N),Q.directiveStart++,Q.directiveEnd++,g&&(Q.providerIndexes+=1048576),s.push(St),P.push(St)):(s[ni]=St,P[ni]=St)}else{const St=C_(N,n,ge+gt,ze),ni=C_(N,n,ge,ge+gt),$i=ni>=0&&s[ni];if(g&&!$i||!g&&!(St>=0&&s[St])){$o(Na(Q,P),M,N);const hn=function e1(e,n,s,u,g){const M=new ai(e,s,Du);return M.multi=[],M.index=n,M.componentProviders=0,eb(M,g,u&&!s),M}(g?Qw:Jw,s.length,g,u,j);!g&&$i&&(s[ni].providerFactory=hn),w_(M,e,n.length,0),n.push(N),Q.directiveStart++,Q.directiveEnd++,g&&(Q.providerIndexes+=1048576),s.push(hn),P.push(hn)}else w_(M,e,St>-1?St:ni,eb(s[g?ni:St],j,!g&&u));!g&&u&&$i&&s[ni].componentProviders++}}}function w_(e,n,s,u){const g=Hc(n),M=function Yp(e){return!!e.useClass}(n);if(g||M){const j=(M?Mt(n.useClass):n).prototype.ngOnDestroy;if(j){const Q=e.destroyHooks||(e.destroyHooks=[]);if(!g&&n.multi){const ge=Q.indexOf(s);-1===ge?Q.push(s,[u,j]):Q[ge+1].push(u,j)}else Q.push(s,j)}}}function eb(e,n,s){return s&&e.componentProviders++,e.multi.push(n)-1}function C_(e,n,s,u){for(let g=s;g<u;g++)if(n[g]===e)return g;return-1}function Jw(e,n,s,u){return E_(this.multi,[])}function Qw(e,n,s,u){const g=this.multi;let M;if(this.providerFactory){const P=this.providerFactory.componentProviders,N=ga(s,s[Oi],this.providerFactory.index,u);M=N.slice(0,P),E_(g,M);for(let j=P;j<N.length;j++)M.push(N[j])}else M=[],E_(g,M);return M}function E_(e,n){for(let s=0;s<e.length;s++)n.push((0,e[s])());return n}function tb(e,n=[]){return s=>{s.providersResolver=(u,g)=>function Xw(e,n,s){const u=ln();if(u.firstCreatePass){const g=Fr(e);x_(s,u.data,u.blueprint,g,!0),x_(n,u.data,u.blueprint,g,!1)}}(u,g?g(e):e,n)}}class Ah{}class ib{}function nb(e,n){return new M_(e,n??null,[])}class M_ extends Ah{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ff(this);const g=Dr(n);this._bootstrapComponents=pc(g.bootstrap),this._r3Injector=oy(n,s,[{provide:Ah,useValue:this},{provide:co,useValue:this.componentFactoryResolver},...u],Le(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class D_ extends ib{constructor(n){super(),this.moduleType=n}create(n){return new M_(this.moduleType,n,[])}}class rb extends Ah{constructor(n){super(),this.componentFactoryResolver=new ff(this),this.instance=null;const s=new bu([...n.providers,{provide:Ah,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],n.parent||yh(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ob(e,n,s=null){return new rb({providers:e,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let n1=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=yu(0,s.type),g=u.length>0?ob([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,g)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ft({token:e,providedIn:"environment",factory:()=>new e(U($c))}),e})();function sb(e){e.getStandaloneInjector=n=>n.get(n1).getOrCreateStandaloneInjector(e)}function pb(e,n,s){const u=Ho()+e,g=oi();return g[u]===un?Zc(g,u,s?n.call(s):n()):function Vm(e,n){return e[n]}(g,u)}function fb(e,n,s,u){return xb(oi(),Ho(),e,n,s,u)}function gb(e,n,s,u,g){return function wb(e,n,s,u,g,M,P){const N=n+s;return Iu(e,N,g,M)?Zc(e,N+2,P?u.call(P,g,M):u(g,M)):Km(e,N+2)}(oi(),Ho(),e,n,s,u,g)}function _b(e,n,s,u,g,M){return function Cb(e,n,s,u,g,M,P,N){const j=n+s;return function vf(e,n,s,u,g){const M=Iu(e,n,s,u);return Sa(e,n+2,g)||M}(e,j,g,M,P)?Zc(e,j+3,N?u.call(N,g,M,P):u(g,M,P)):Km(e,j+3)}(oi(),Ho(),e,n,s,u,g,M)}function bb(e,n,s,u){return function Mb(e,n,s,u,g,M){let P=n+s,N=!1;for(let j=0;j<g.length;j++)Sa(e,P++,g[j])&&(N=!0);return N?Zc(e,P,u.apply(M,g)):Km(e,P)}(oi(),Ho(),e,n,s,u)}function Km(e,n){const s=e[n];return s===un?void 0:s}function xb(e,n,s,u,g,M){const P=n+s;return Sa(e,P,g)?Zc(e,P+1,M?u.call(M,g):u(g)):Km(e,P+1)}function Db(e,n){const s=ln();let u;const g=e+yn;s.firstCreatePass?(u=function p1(e,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(e===u.name)return u}}(n,s.pipeRegistry),s.data[g]=u,u.onDestroy&&(s.destroyHooks??=[]).push(g,u.onDestroy)):u=s.data[g];const M=u.factory||(u.factory=fo(u.type)),P=Pe(Du);try{const N=Wr(!1),j=M();return Wr(N),function mx(e,n,s,u){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),n[s]=u}(s,oi(),g,j),j}finally{Pe(P)}}function Sb(e,n,s){const u=e+yn,g=oi(),M=Ue(g,u);return function Xm(e,n){return e[Oi].data[n].pure}(g,u)?xb(g,Ho(),n,M.transform,s,M):M.transform(s)}function zf(e){return n=>{setTimeout(e,void 0,n)}}const yc=class v1 extends C.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let g=n,M=s||(()=>null),P=u;if(n&&"object"==typeof n){const j=n;g=j.next?.bind(j),M=j.error?.bind(j),P=j.complete?.bind(j)}this.__isAsync&&(M=zf(M),g&&(g=zf(g)),P&&(P=zf(P)));const N=super.subscribe({next:g,error:M,complete:P});return n instanceof l.w0&&n.add(N),N}};function b1(){return this._results[Symbol.iterator]()}class Jm{get changes(){return this._changes||(this._changes=new yc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Jm.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=b1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const g=function Rs(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function vd(e,n,s){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let g=e[u],M=n[u];if(s&&(g=s(g),M=s(M)),M!==g)return!1}return!0}(u._results,g,s))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Tb,e})();const x1=kh,w1=class extends x1{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s,null)}createEmbeddedViewImpl(n,s,u){const P=this._declarationTContainer.tView,N=sf(this._declarationLView,P,n,4096&this._declarationLView[mn]?4096:16,null,P.declTNode,null,null,null,s||null,u||null);N[Rr]=this._declarationLView[this._declarationTContainer.index];const Q=this._declarationLView[Wo];return null!==Q&&(N[Wo]=Q.createEmbeddedView(P)),Pg(P,N,n),new zm(N)}};function Tb(){return Bf(Co(),oi())}function Bf(e,n){return 4&e.type?new w1(n,e,Bo(e,n)):null}let Vf=(()=>{class e{}return e.__NG_ELEMENT_ID__=I1,e})();function I1(){return Fb(Co(),oi())}const Pb=Vf,Ob=class extends Pb{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Bo(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){const n=ss(this._hostTNode,this._hostLView);if(wn(n)){const s=Zr(n,this._hostLView),u=xn(n);return new Tc(s[Oi].data[u+8],s)}return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Rb(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(n,s,u){let g,M;"number"==typeof u?g=u:null!=u&&(g=u.index,M=u.injector);const N=n.createEmbeddedViewImpl(s||{},M,null);return this.insertImpl(N,g,false),N}createComponent(n,s,u,g,M){const P=n&&!function Ac(e){return"function"==typeof e}(n);let N;if(P)N=s;else{const vi=s||{};N=vi.index,u=vi.injector,g=vi.projectableNodes,M=vi.environmentInjector||vi.ngModuleRef}const j=P?n:new Bm(dn(n)),Q=u||this.parentInjector;if(!M&&null==j.ngModule){const $i=(P?Q:this.parentInjector).get($c,null);$i&&(M=$i)}dn(j.componentType??{});const St=j.create(Q,g,null,M);return this.insertImpl(St.hostView,N,false),St}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const g=n._lView,M=g[Oi];if(function Kn(e){return nr(e[Gn])}(g)){const j=this.indexOf(n);if(-1!==j)this.detach(j);else{const Q=g[Gn],ge=new Ob(Q,Q[Sr],Q[Gn]);ge.detach(ge.indexOf(n))}}const P=this._adjustIndex(s),N=this._lContainer;if(function gg(e,n,s,u){const g=Xr+u,M=s.length;u>0&&(s[g-1][Go]=n),u<M-Xr?(n[Go]=s[g],Qd(s,Xr+u,n)):(s.push(n),n[Go]=null),n[Gn]=s;const P=n[Rr];null!==P&&s!==P&&function du(e,n){const s=e[wa];n[ir]!==n[Gn][Gn][ir]&&(e[al]=!0),null===s?e[wa]=[n]:s.push(n)}(P,n);const N=n[Wo];null!==N&&N.insertView(e),n[mn]|=128}(M,g,N,P),!u){const j=uu(P,N),Q=g[on],ge=eh(Q,N[po]);null!==ge&&function pg(e,n,s,u,g,M){u[br]=g,u[Sr]=n,hu(e,u,s,1,g,M)}(M,N[Sr],Q,g,ge,j)}return n.attachToViewContainerRef(),Qd(A_(N),P,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Rb(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=Xu(this._lContainer,s);u&&(kc(A_(this._lContainer),s),Qh(u[Oi],u))}detach(n){const s=this._adjustIndex(n,-1),u=Xu(this._lContainer,s);return u&&null!=kc(A_(this._lContainer),s)?new zm(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function Rb(e){return e[8]}function A_(e){return e[8]||(e[8]=[])}function Fb(e,n){let s;const u=n[e.index];return nr(u)?s=u:(s=cd(u,n,null,e),n[e.index]=s,Ch(n,s)),Nb(s,n,e,u),new Ob(s,e,n)}let Nb=function zb(e,n,s,u){if(e[po])return;let g;g=8&s.type?er(u):function Lb(e,n){const s=e[on],u=s.createComment(""),g=ee(n,e);return ya(s,eh(s,g),u,function kp(e,n){return e.nextSibling(n)}(s,g),!1),u}(n,s),e[po]=g};class Uf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Uf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,g=[];for(let M=0;M<u;M++){const P=s.getByIndex(M);g.push(this.queries[P.indexInDeclarationView].clone())}return new Zd(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Zb(n,s).matches&&this.queries[s].setDirty()}}class Vb{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class jf{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const g=null!==s?s.length:0,M=this.getByIndex(u).embeddedTView(n,g);M&&(M.indexInDeclarationView=u,null!==s?s.push(M):s=[M])}return null!==s?new jf(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Qm{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Qm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const M=u[g];this.matchTNodeWithReadOption(n,s,Ub(s,M)),this.matchTNodeWithReadOption(n,s,nc(s,n,M,!1,!1))}else u===kh?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,nc(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===Qo||g===Vf||g===kh&&4&s.type)this.addMatch(s.index,-2);else{const M=nc(s,n,g,!1,!1);null!==M&&this.addMatch(s.index,M)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function Ub(e,n){const s=e.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function k_(e,n,s,u){return-1===s?function jb(e,n){return 11&e.type?Bo(e,n):4&e.type?Bf(e,n):null}(n,e):-2===s?function P_(e,n,s){return s===Qo?Bo(n,e):s===kh?Bf(n,e):s===Vf?Fb(n,e):void 0}(e,n,u):ga(e,e[Oi],s,n)}function O_(e,n,s,u){const g=n[Wo].queries[u];if(null===g.matches){const M=e.data,P=s.matches,N=[];for(let j=0;j<P.length;j+=2){const Q=P[j];N.push(Q<0?null:k_(n,M[Q],P[j+1],s.metadata.read))}g.matches=N}return g.matches}function ep(e,n,s,u){const g=e.queries.getByIndex(s),M=g.matches;if(null!==M){const P=O_(e,n,g,s);for(let N=0;N<M.length;N+=2){const j=M[N];if(j>0)u.push(P[N/2]);else{const Q=M[N+1],ge=n[-j];for(let ze=Xr;ze<ge.length;ze++){const gt=ge[ze];gt[Rr]===gt[Gn]&&ep(gt[Oi],gt,Q,u)}if(null!==ge[wa]){const ze=ge[wa];for(let gt=0;gt<ze.length;gt++){const St=ze[gt];ep(St[Oi],St,Q,u)}}}}}return u}function Hf(e){const n=oi(),s=ln(),u=Ya();Da(u+1);const g=Zb(s,u);if(e.dirty&&function Wt(e){return 4==(4&e[mn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)e.reset([]);else{const M=g.crossesNgTemplate?ep(s,n,u,[]):O_(s,n,g,u);e.reset(M,Bs),e.notifyOnChanges()}return!0}return!1}function $f(e,n,s){const u=ln();u.firstCreatePass&&(Gb(u,new Vb(e,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),tp(u,oi(),n)}function Hb(e,n,s,u){const g=ln();if(g.firstCreatePass){const M=Co();Gb(g,new Vb(n,s,u),M.index),function P1(e,n){const s=e.contentQueries||(e.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,n)}(g,e),2==(2&s)&&(g.staticContentQueries=!0)}tp(g,oi(),s)}function $b(){return function k1(e,n){return e[Wo].queries[n].queryList}(oi(),Ya())}function tp(e,n,s){const u=new Jm(4==(4&s));(function _0(e,n,s,u){const g=my(n);g.push(s),e.firstCreatePass&&py(e).push(u,g.length-1)})(e,n,u,u.destroy),null===n[Wo]&&(n[Wo]=new Zd),n[Wo].queries.push(new Uf(u))}function Gb(e,n,s){null===e.queries&&(e.queries=new jf),e.queries.track(new Qm(n,s))}function Zb(e,n){return e.queries.getByIndex(n)}function Wb(e,n){return Bf(e,n)}function R_(e){return!!Dr(e)}const ki=new gr("Application Initializer");let ji=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=de(ki,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const g of this.appInits){const M=g();if(Xg(M))s.push(M);else if(Hy(M)){const P=new Promise((N,j)=>{M.subscribe({complete:N,error:j})});s.push(P)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(g=>{this.reject(g)}),0===s.length&&u(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mn=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const rr=new gr("LocaleId",{providedIn:"root",factory:()=>de(rr,wt.Optional|wt.SkipSelf)||function Wn(){return typeof $localize<"u"&&$localize.locale||Ih}()}),bo=new gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Cs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class rl{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let cs=(()=>{class e{compileModuleSync(s){return new D_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),M=pc(Dr(s).declarations).reduce((P,N)=>{const j=dn(N);return j&&P.push(new Bm(j)),P},[]);return new rl(u,M)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pn(...e){}class sr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&s,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function bn(){const e="function"==typeof et.requestAnimationFrame;let n=et[e?"requestAnimationFrame":"setTimeout"],s=et[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const g=s[Zone.__symbol__("OriginalDelegate")];g&&(s=g)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ro(e){const n=()=>{!function xl(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(et,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wl(e),e.isCheckStableRunning=!0,Es(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,g,M,P,N)=>{try{return bc(e),s.invokeTask(g,M,P,N)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||e.shouldCoalesceRunChangeDetection)&&n(),es(e)}},onInvoke:(s,u,g,M,P,N,j)=>{try{return bc(e),s.invoke(g,M,P,N,j)}finally{e.shouldCoalesceRunChangeDetection&&n(),es(e)}},onHasTask:(s,u,g,M)=>{s.hasTask(g,M),u===g&&("microTask"==M.change?(e._hasPendingMicrotasks=M.microTask,wl(e),Es(e)):"macroTask"==M.change&&(e.hasPendingMacrotasks=M.macroTask))},onHandleError:(s,u,g,M)=>(s.handleError(g,M),e.runOutsideAngular(()=>e.onError.emit(M)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sr.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(sr.isInAngularZone())throw new Oe(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,g){const M=this._inner,P=M.scheduleEventTask("NgZoneEvent: "+g,n,Ha,pn,pn);try{return M.runTask(P,s,u)}finally{M.cancelTask(P)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const Ha={};function Es(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function bc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function es(e){e._nesting--,Es(e)}class ql{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,g){return n.apply(s,u)}}const Ia=new gr("",{providedIn:"root",factory:qd});function qd(){const e=de(sr);let n=!0;const s=new v.y(g=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{g.next(n),g.complete()})}),u=new v.y(g=>{let M;e.runOutsideAngular(()=>{M=e.onStable.subscribe(()=>{sr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,g.next(!0))})})});const P=e.onUnstable.subscribe(()=>{sr.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{g.next(!1)}))});return()=>{M.unsubscribe(),P.unsubscribe()}});return(0,Ve.T)(s,u.pipe((0,$e.B)()))}const Fu=new gr(""),j_=new gr("");let Y1,SE=(()=>{class e{constructor(s,u,g){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Y1||(function TE(e){Y1=e}(g),g.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,g){let M=-1;u&&u>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==M),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:M,updateCb:g})}whenStable(s,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,g){return[]}}return e.\u0275fac=function(s){return new(s||e)(U(sr),U(JC),U(j_))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),JC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Y1?.findTestabilityInTree(this,s,u)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Lh=null;const QC=new gr("AllowMultipleToken"),K1=new gr("PlatformDestroyListeners"),X1=new gr("appBootstrapListener");class kE{constructor(n,s){this.name=n,this.token=s}}function iE(e,n,s=[]){const u=`Platform: ${n}`,g=new gr(u);return(M=[])=>{let P=J1();if(!P||P.injector.get(QC,!1)){const N=[...s,...M,{provide:g,useValue:!0}];e?e(N):function PE(e){if(Lh&&!Lh.get(QC,!1))throw new Oe(400,!1);(function eE(){!function Lo(e){Ra=e}(()=>{throw new Oe(600,!1)})})(),Lh=e;const n=e.get(rE);(function tE(e){e.get(Jp,null)?.forEach(s=>s())})(e)}(function nE(e=[],n){return Vd.create({name:n,providers:[{provide:vu,useValue:"platform"},{provide:K1,useValue:new Set([()=>Lh=null])},...e]})}(N,u))}return function RE(e){const n=J1();if(!n)throw new Oe(401,!1);return n}()}}function J1(){return Lh?.get(rE)??null}let rE=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const g=function FE(e="zone.js",n){return"noop"===e?new ql:"zone.js"===e?new sr(n):e}(u?.ngZone,function oE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return g.run(()=>{const M=function t1(e,n,s){return new M_(e,n,s)}(s.moduleType,this.injector,function dE(e){return[{provide:sr,useFactory:e},{provide:Vl,multi:!0,useFactory:()=>{const n=de(NE,{optional:!0});return()=>n.initialize()}},{provide:cE,useFactory:LE},{provide:Ia,useFactory:qd}]}(()=>g)),P=M.injector.get(Vs,null);return g.runOutsideAngular(()=>{const N=g.onError.subscribe({next:j=>{P.handleError(j)}});M.onDestroy(()=>{n0(this._modules,M),N.unsubscribe()})}),function sE(e,n,s){try{const u=s();return Xg(u)?u.catch(g=>{throw n.runOutsideAngular(()=>e.handleError(g)),g}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(P,g,()=>{const N=M.injector.get(ji);return N.runInitializers(),N.donePromise.then(()=>(function Rv(e){si(e,"Expected localeId to be defined"),"string"==typeof e&&(Ov=e.toLowerCase().replace(/_/g,"-"))}(M.injector.get(rr,Ih)||Ih),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,u=[]){const g=aE({},u);return function IE(e,n,s){const u=new D_(s);return Promise.resolve(u)}(0,0,s).then(M=>this.bootstrapModuleFactory(M,g))}_moduleDoBootstrap(s){const u=s.injector.get(qf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!s.instance.ngDoBootstrap)throw new Oe(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(K1,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(U(Vd))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function aE(e,n){return Array.isArray(n)?n.reduce(aE,e):{...e,...n}}let qf=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=de(cE),this.zoneIsStable=de(Ia),this.componentTypes=[],this.components=[],this.isStable=de(Cs).hasPendingTasks.pipe((0,Qe.w)(s=>s?(0,ne.of)(!1):this.zoneIsStable),(0,Se.x)(),(0,$e.B)()),this._injector=de($c)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const g=s instanceof So;if(!this._injector.get(ji).done)throw!g&&sa(s),new Oe(405,!1);let P;P=g?s:this._injector.get(co).resolveComponentFactory(s),this.componentTypes.push(P.componentType);const N=function AE(e){return e.isBoundToModule}(P)?void 0:this._injector.get(Ah),Q=P.create(Vd.NULL,[],u||P.selector,N),ge=Q.location.nativeElement,ze=Q.injector.get(Fu,null);return ze?.registerApplication(ge),Q.onDestroy(()=>{this.detachView(Q.hostView),n0(this.components,Q),ze?.unregisterApplication(ge)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;n0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(X1,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>n0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Oe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function n0(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}const cE=new gr("",{providedIn:"root",factory:()=>de(Vs).handleError.bind(void 0)});function LE(){const e=de(sr),n=de(Vs);return s=>e.runOutsideAngular(()=>n.handleError(s))}let NE=(()=>{class e{constructor(){this.zone=de(sr),this.applicationRef=de(qf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function BE(){}let VE=(()=>{class e{}return e.__NG_ELEMENT_ID__=UE,e})();function UE(e){return function jE(e,n,s){if(Hr(e)&&!s){const u=it(e.index,n);return new zm(u,u)}return 47&e.type?new zm(n[ir],n):null}(Co(),oi(),16==(16&e))}class pE{constructor(){}supports(n){return _f(n)}create(n){return new qE(n)}}const WE=(e,n)=>n;class qE{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||WE}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,g=0,M=null;for(;s||u;){const P=!u||s&&s.currentIndex<gE(u,g,M)?s:u,N=gE(P,g,M),j=P.currentIndex;if(P===u)g--,u=u._nextRemoved;else if(s=s._next,null==P.previousIndex)g++;else{M||(M=[]);const Q=N-g,ge=j-g;if(Q!=ge){for(let gt=0;gt<Q;gt++){const St=gt<M.length?M[gt]:M[gt]=0,ni=St+gt;ge<=ni&&ni<Q&&(M[gt]=St+1)}M[P.previousIndex]=ge-Q}}N!==j&&n(P,N,j)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!_f(n))throw new Oe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,M,P,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let N=0;N<this.length;N++)M=n[N],P=this._trackByFn(N,M),null!==s&&Object.is(s.trackById,P)?(u&&(s=this._verifyReinsertion(s,M,P,N)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,P,N),u=!0),s=s._next}else g=0,function q0(e,n){if(Array.isArray(e))for(let s=0;s<e.length;s++)n(e[s]);else{const s=e[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,N=>{P=this._trackByFn(g,N),null!==s&&Object.is(s.trackById,P)?(u&&(s=this._verifyReinsertion(s,N,P,g)),Object.is(s.item,N)||this._addIdentityChange(s,N)):(s=this._mismatch(s,N,P,g),u=!0),s=s._next,g++}),this.length=g;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,g){let M;return null===n?M=this._itTail:(M=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,M,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,M,g)):n=this._addAfter(new YE(s,u),M,g),n}_verifyReinsertion(n,s,u,g){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==M?n=this._reinsertAfter(M,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,M=n._nextRemoved;return null===g?this._removalsHead=M:g._nextRemoved=M,null===M?this._removalsTail=g:M._prevRemoved=g,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const g=null===s?this._itHead:s._next;return n._next=g,n._prev=s,null===g?this._itTail=n:g._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new fE),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class YE{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class fE{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new KE,this.map.set(s,u)),u.add(n)}get(n,s){const g=this.map.get(n);return g?g.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gE(e,n,s){const u=e.previousIndex;if(null===u)return u;let g=0;return s&&u<s.length&&(g=s[u]),u+n+g}class _E{constructor(){}supports(n){return n instanceof Map||Ng(n)}create(){return new XE}}class XE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Ng(n)))throw new Oe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,g)=>{if(s&&s.key===g)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const M=this._getOrCreateRecordForKey(g,u);s=this._insertBeforeOrAppend(s,M)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,s);const M=g._prev,P=g._next;return M&&(M._next=P),P&&(P._prev=M),g._next=null,g._prev=null,g}const u=new JE(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class JE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yE(){return new nC([new pE])}let nC=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(null!=u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||yE()),deps:[[e,new Lu,new Ys]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(null!=u)return u;throw new Oe(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:yE}),e})();function vE(){return new rC([new _E])}let rC=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||vE()),deps:[[e,new Lu,new Ys]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(u)return u;throw new Oe(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:vE}),e})();const tM=iE(null,"core",[]);let iM=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(U(qf))},e.\u0275mod=$a({type:e}),e.\u0275inj=qt({}),e})();function uM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function mM(e){const n=dn(e);if(!n)return null;const s=new Bm(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(yi,_t,H)=>{"use strict";H.d(_t,{Cf:()=>Vt,F:()=>ko,Fj:()=>Ke,JJ:()=>bi,JU:()=>Qe,On:()=>dn,Zs:()=>Dl,a5:()=>qt,kI:()=>ti,sg:()=>Oo,u5:()=>hr});var C=H(5879),l=H(6814),le=H(7715),v=H(9315),Ve=H(7398);let ne=(()=>{class K{constructor(G,xe){this._renderer=G,this._elementRef=xe,this.onChange=jt=>{},this.onTouched=()=>{}}setProperty(G,xe){this._renderer.setProperty(this._elementRef.nativeElement,G,xe)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(C.Qsj),C.Y36(C.SBq))},K.\u0275dir=C.lG2({type:K}),K})(),$e=(()=>{class K extends ne{}return K.\u0275fac=function(){let W;return function(xe){return(W||(W=C.n5z(K)))(xe||K)}}(),K.\u0275dir=C.lG2({type:K,features:[C.qOj]}),K})();const Qe=new C.OlP("NgValueAccessor"),nt={provide:Qe,useExisting:(0,C.Gpc)(()=>Ke),multi:!0},tt=new C.OlP("CompositionEventMode");let Ke=(()=>{class K extends ne{constructor(G,xe,jt){super(G,xe),this._compositionMode=jt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Le(){const K=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(G){this.setProperty("value",G??"")}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(tt,8))},K.\u0275dir=C.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,xe){1&G&&C.NdJ("input",function(Ii){return xe._handleInput(Ii.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(Ii){return xe._compositionEnd(Ii.target.value)})},features:[C._Bn([nt]),C.qOj]}),K})();function ut(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Mt(K){return null!=K&&"number"==typeof K.length}const Vt=new C.OlP("NgValidators"),ei=new C.OlP("NgAsyncValidators"),Di=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ti{static min(W){return function Oe(K){return W=>{if(ut(W.value)||ut(K))return null;const G=parseFloat(W.value);return!isNaN(G)&&G<K?{min:{min:K,actual:W.value}}:null}}(W)}static max(W){return function We(K){return W=>{if(ut(W.value)||ut(K))return null;const G=parseFloat(W.value);return!isNaN(G)&&G>K?{max:{max:K,actual:W.value}}:null}}(W)}static required(W){return Re(W)}static requiredTrue(W){return Ft(W)}static email(W){return function Ot(K){return ut(K.value)||Di.test(K.value)?null:{email:!0}}(W)}static minLength(W){return function Bt(K){return W=>ut(W.value)||!Mt(W.value)?null:W.value.length<K?{minlength:{requiredLength:K,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function ui(K){return W=>Mt(W.value)&&W.value.length>K?{maxlength:{requiredLength:K,actualLength:W.value.length}}:null}(W)}static pattern(W){return function fi(K){if(!K)return Fi;let W,G;return"string"==typeof K?(G="","^"!==K.charAt(0)&&(G+="^"),G+=K,"$"!==K.charAt(K.length-1)&&(G+="$"),W=new RegExp(G)):(G=K.toString(),W=K),xe=>{if(ut(xe.value))return null;const jt=xe.value;return W.test(jt)?null:{pattern:{requiredPattern:G,actualValue:jt}}}}(W)}static nullValidator(W){return null}static compose(W){return vt(W)}static composeAsync(W){return Rt(W)}}function Re(K){return ut(K.value)?{required:!0}:null}function Ft(K){return!0===K.value?null:{required:!0}}function Fi(K){return null}function Bi(K){return null!=K}function Tn(K){return(0,C.QGY)(K)?(0,le.D)(K):K}function qn(K){let W={};return K.forEach(G=>{W=null!=G?{...W,...G}:W}),0===Object.keys(W).length?null:W}function vn(K,W){return W.map(G=>G(K))}function Pn(K){return K.map(W=>function Fn(K){return!K.validate}(W)?W:G=>W.validate(G))}function vt(K){if(!K)return null;const W=K.filter(Bi);return 0==W.length?null:function(G){return qn(vn(G,W))}}function Ct(K){return null!=K?vt(Pn(K)):null}function Rt(K){if(!K)return null;const W=K.filter(Bi);return 0==W.length?null:function(G){const xe=vn(G,W).map(Tn);return(0,v.D)(xe).pipe((0,Ve.U)(qn))}}function zt(K){return null!=K?Rt(Pn(K)):null}function Jt(K,W){return null===K?[W]:Array.isArray(K)?[...K,W]:[K,W]}function Dt(K){return K._rawValidators}function si(K){return K._rawAsyncValidators}function Ne(K){return K?Array.isArray(K)?K:[K]:[]}function st(K,W){return Array.isArray(K)?K.includes(W):K===W}function pt(K,W){const G=Ne(W);return Ne(K).forEach(jt=>{st(G,jt)||G.push(jt)}),G}function ct(K,W){return Ne(W).filter(G=>!st(K,G))}class ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,G){return!!this.control&&this.control.hasError(W,G)}getError(W,G){return this.control?this.control.getError(W,G):null}}class Yt extends ft{get formDirective(){return null}get path(){return null}}class qt extends ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gi{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bi=(()=>{class K extends gi{constructor(G){super(G)}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(qt,2))},K.\u0275dir=C.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,xe){2&G&&C.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[C.qOj]}),K})();const Ci="VALID",Ei="INVALID",Qi="PENDING",Pt="DISABLED";function Ut(K){return(U(K)?K.validators:K)||null}function Y(K,W){return(U(W)?W.asyncValidators:K)||null}function U(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Me{constructor(W,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(G)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===Ci}get invalid(){return this.status===Ei}get pending(){return this.status==Qi}get disabled(){return this.status===Pt}get enabled(){return this.status!==Pt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(pt(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(pt(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(ct(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(ct(W,this._rawAsyncValidators))}hasValidator(W){return st(this._rawValidators,W)}hasAsyncValidator(W){return st(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(G=>{G.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(G=>{G.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=Qi,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=Pt,this.errors=null,this._forEachChild(xe=>{xe.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(xe=>xe(!0))}enable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=Ci,this._forEachChild(xe=>{xe.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(xe=>xe(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ci||this.status===Qi)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pt:Ci}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=Qi,this._hasOwnPendingAsyncValidator=!0;const G=Tn(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(xe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(xe,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,G={}){this.errors=W,this._updateControlsErrors(!1!==G.emitEvent)}get(W){let G=W;return null==G||(Array.isArray(G)||(G=G.split(".")),0===G.length)?null:G.reduce((xe,jt)=>xe&&xe._find(jt),this)}getError(W,G){const xe=G?this.get(G):this;return xe&&xe.errors?xe.errors[W]:null}hasError(W,G){return!!this.getError(W,G)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?Pt:this.errors?Ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qi)?Qi:this._anyControlsHaveStatus(Ei)?Ei:Ci}_anyControlsHaveStatus(W){return this._anyControls(G=>G.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){U(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function Et(K){return Array.isArray(K)?Ct(K):K||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function V(K){return Array.isArray(K)?zt(K):K||null}(this._rawAsyncValidators)}}class fe extends Me{constructor(W,G,xe){super(Ut(G),Y(xe,G)),this.controls=W,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,G){return this.controls[W]?this.controls[W]:(this.controls[W]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(W,G,xe={}){this.registerControl(W,G),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}removeControl(W,G={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(W,G,xe={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],G&&this.registerControl(W,G),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,G={}){(function de(K,W,G){K._forEachChild((xe,jt)=>{if(void 0===G[jt])throw new C.vHH(1002,"")})})(this,0,W),Object.keys(W).forEach(xe=>{(function ie(K,W,G){const xe=K.controls;if(!(W?Object.keys(xe):xe).length)throw new C.vHH(1e3,"");if(!xe[G])throw new C.vHH(1001,"")})(this,!0,xe),this.controls[xe].setValue(W[xe],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(W,G={}){null!=W&&(Object.keys(W).forEach(xe=>{const jt=this.controls[xe];jt&&jt.patchValue(W[xe],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(W={},G={}){this._forEachChild((xe,jt)=>{xe.reset(W[jt],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(W,G,xe)=>(W[xe]=G.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(G,xe)=>!!xe._syncPendingControls()||G);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(G=>{const xe=this.controls[G];xe&&W(xe,G)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[G,xe]of Object.entries(this.controls))if(this.contains(G)&&W(xe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(G,xe,jt)=>((xe.enabled||this.disabled)&&(G[jt]=xe.value),G))}_reduceChildren(W,G){let xe=W;return this._forEachChild((jt,Ii)=>{xe=G(xe,jt,Ii)}),xe}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}const lt=new C.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>we}),we="always";function ce(K,W,G=we){Fe(K,W),W.valueAccessor.writeValue(K.value),(K.disabled||"always"===G)&&W.valueAccessor.setDisabledState?.(K.disabled),function je(K,W){W.valueAccessor.registerOnChange(G=>{K._pendingValue=G,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&ci(K,W)})}(K,W),function hi(K,W){const G=(xe,jt)=>{W.valueAccessor.writeValue(xe),jt&&W.viewToModelUpdate(xe)};K.registerOnChange(G),W._registerOnDestroy(()=>{K._unregisterOnChange(G)})}(K,W),function Nt(K,W){W.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&ci(K,W),"submit"!==K.updateOn&&K.markAsTouched()})}(K,W),function It(K,W){if(W.valueAccessor.setDisabledState){const G=xe=>{W.valueAccessor.setDisabledState(xe)};K.registerOnDisabledChange(G),W._registerOnDestroy(()=>{K._unregisterOnDisabledChange(G)})}}(K,W)}function Ee(K,W,G=!0){const xe=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(xe),W.valueAccessor.registerOnTouched(xe)),Ae(K,W),K&&(W._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Xe(K,W){K.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(W)})}function Fe(K,W){const G=Dt(K);null!==W.validator?K.setValidators(Jt(G,W.validator)):"function"==typeof G&&K.setValidators([G]);const xe=si(K);null!==W.asyncValidator?K.setAsyncValidators(Jt(xe,W.asyncValidator)):"function"==typeof xe&&K.setAsyncValidators([xe]);const jt=()=>K.updateValueAndValidity();Xe(W._rawValidators,jt),Xe(W._rawAsyncValidators,jt)}function Ae(K,W){let G=!1;if(null!==K){if(null!==W.validator){const jt=Dt(K);if(Array.isArray(jt)&&jt.length>0){const Ii=jt.filter($r=>$r!==W.validator);Ii.length!==jt.length&&(G=!0,K.setValidators(Ii))}}if(null!==W.asyncValidator){const jt=si(K);if(Array.isArray(jt)&&jt.length>0){const Ii=jt.filter($r=>$r!==W.asyncValidator);Ii.length!==jt.length&&(G=!0,K.setAsyncValidators(Ii))}}}const xe=()=>{};return Xe(W._rawValidators,xe),Xe(W._rawAsyncValidators,xe),G}function ci(K,W){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function di(K,W){Fe(K,W)}function On(K,W){K._syncPendingControls(),W.forEach(G=>{const xe=G.control;"submit"===xe.updateOn&&xe._pendingChange&&(G.viewToModelUpdate(xe._pendingValue),xe._pendingChange=!1)})}const In={provide:Yt,useExisting:(0,C.Gpc)(()=>ko)},Bn=(()=>Promise.resolve())();let ko=(()=>{class K extends Yt{constructor(G,xe,jt){super(),this.callSetDisabledState=jt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new fe({},Ct(G),zt(xe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(G){Bn.then(()=>{const xe=this._findContainer(G.path);G.control=xe.registerControl(G.name,G.control),ce(G.control,G,this.callSetDisabledState),G.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(G)})}getControl(G){return this.form.get(G.path)}removeControl(G){Bn.then(()=>{const xe=this._findContainer(G.path);xe&&xe.removeControl(G.name),this._directives.delete(G)})}addFormGroup(G){Bn.then(()=>{const xe=this._findContainer(G.path),jt=new fe({});di(jt,G),xe.registerControl(G.name,jt),jt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(G){Bn.then(()=>{const xe=this._findContainer(G.path);xe&&xe.removeControl(G.name)})}getFormGroup(G){return this.form.get(G.path)}updateModel(G,xe){Bn.then(()=>{this.form.get(G.path).setValue(xe)})}setValue(G){this.control.setValue(G)}onSubmit(G){return this.submitted=!0,On(this.form,this._directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(G){return G.pop(),G.length?this.form.get(G):this.form}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(Vt,10),C.Y36(ei,10),C.Y36(lt,8))},K.\u0275dir=C.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(G,xe){1&G&&C.NdJ("submit",function(Ii){return xe.onSubmit(Ii)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([In]),C.qOj]}),K})();function Ur(K,W){const G=K.indexOf(W);G>-1&&K.splice(G,1)}function Xi(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Uo=class extends Me{constructor(W=null,G,xe){super(Ut(G),Y(xe,G)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U(G)&&(G.nonNullable||G.initialValueIsDefault)&&(this.defaultValue=Xi(W)?W.value:W)}setValue(W,G={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(xe=>xe(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(W,G={}){this.setValue(W,G)}reset(W=this.defaultValue,G={}){this._applyFormState(W),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){Ur(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){Ur(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){Xi(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}},js={provide:qt,useExisting:(0,C.Gpc)(()=>dn)},Ds=(()=>Promise.resolve())();let dn=(()=>{class K extends qt{constructor(G,xe,jt,Ii,$r,fo){super(),this._changeDetectorRef=$r,this.callSetDisabledState=fo,this.control=new Uo,this._registered=!1,this.name="",this.update=new C.vpe,this._parent=G,this._setValidators(xe),this._setAsyncValidators(jt),this.valueAccessor=function cn(K,W){if(!W)return null;let G,xe,jt;return Array.isArray(W),W.forEach(Ii=>{Ii.constructor===Ke?G=Ii:function Ao(K){return Object.getPrototypeOf(K.constructor)===$e}(Ii)?xe=Ii:jt=Ii}),jt||xe||G||null}(0,Ii)}ngOnChanges(G){if(this._checkForErrors(),!this._registered||"name"in G){if(this._registered&&(this._checkName(),this.formDirective)){const xe=G.name.previousValue;this.formDirective.removeControl({name:xe,path:this._getPath(xe)})}this._setUpControl()}"isDisabled"in G&&this._updateDisabled(G),function fn(K,W){if(!K.hasOwnProperty("model"))return!1;const G=K.model;return!!G.isFirstChange()||!Object.is(W,G.currentValue)}(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ce(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){Ds.then(()=>{this.control.setValue(G,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(G){const xe=G.isDisabled.currentValue,jt=0!==xe&&(0,C.VuI)(xe);Ds.then(()=>{jt&&!this.control.disabled?this.control.disable():!jt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(G){return this._parent?function De(K,W){return[...W.path,K]}(G,this._parent):[G]}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(Yt,9),C.Y36(Vt,10),C.Y36(ei,10),C.Y36(Qe,10),C.Y36(C.sBO,8),C.Y36(lt,8))},K.\u0275dir=C.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([js]),C.qOj,C.TTD]}),K})(),Aa=(()=>{class K{}return K.\u0275fac=function(G){return new(G||K)},K.\u0275mod=C.oAB({type:K}),K.\u0275inj=C.cJS({}),K})();const Go={provide:Yt,useExisting:(0,C.Gpc)(()=>Oo)};let Oo=(()=>{class K extends Yt{constructor(G,xe,jt){super(),this.callSetDisabledState=jt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(G),this._setAsyncValidators(xe)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ae(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const xe=this.form.get(G.path);return ce(xe,G,this.callSetDisabledState),xe.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),xe}getControl(G){return this.form.get(G.path)}removeControl(G){Ee(G.control||null,G,!1),function dr(K,W){const G=K.indexOf(W);G>-1&&K.splice(G,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,xe){this.form.get(G.path).setValue(xe)}onSubmit(G){return this.submitted=!0,On(this.form,this.directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const xe=G.control,jt=this.form.get(G.path);xe!==jt&&(Ee(xe||null,G),(K=>K instanceof Uo)(jt)&&(ce(jt,G,this.callSetDisabledState),G.control=jt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const xe=this.form.get(G.path);di(xe,G),xe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const xe=this.form.get(G.path);xe&&function _n(K,W){return Ae(K,W)}(xe,G)&&xe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fe(this.form,this),this._oldForm&&Ae(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(G){return new(G||K)(C.Y36(Vt,10),C.Y36(ei,10),C.Y36(lt,8))},K.\u0275dir=C.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(G,xe){1&G&&C.NdJ("submit",function(Ii){return xe.onSubmit(Ii)})("reset",function(){return xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([Go]),C.qOj,C.TTD]}),K})(),ms=(()=>{class K{constructor(){this._validator=Fi}ngOnChanges(G){if(this.inputName in G){const xe=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(xe),this._validator=this._enabled?this.createValidator(xe):Fi,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return K.\u0275fac=function(G){return new(G||K)},K.\u0275dir=C.lG2({type:K,features:[C.TTD]}),K})();const wa={provide:Vt,useExisting:(0,C.Gpc)(()=>Xr),multi:!0},Ca={provide:Vt,useExisting:(0,C.Gpc)(()=>Dl),multi:!0};let Xr=(()=>{class K extends ms{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C.VuI,this.createValidator=G=>Re}enabled(G){return G}}return K.\u0275fac=function(){let W;return function(xe){return(W||(W=C.n5z(K)))(xe||K)}}(),K.\u0275dir=C.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,xe){2&G&&C.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[C._Bn([wa]),C.qOj]}),K})(),Dl=(()=>{class K extends Xr{constructor(){super(...arguments),this.createValidator=G=>Ft}}return K.\u0275fac=function(){let W;return function(xe){return(W||(W=C.n5z(K)))(xe||K)}}(),K.\u0275dir=C.lG2({type:K,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(G,xe){2&G&&C.uIk("required",xe._enabled?"":null)},features:[C._Bn([Ca]),C.qOj]}),K})(),ps=(()=>{class K{}return K.\u0275fac=function(G){return new(G||K)},K.\u0275mod=C.oAB({type:K}),K.\u0275inj=C.cJS({imports:[Aa]}),K})(),hr=(()=>{class K{static withConfig(G){return{ngModule:K,providers:[{provide:lt,useValue:G.callSetDisabledState??we}]}}}return K.\u0275fac=function(G){return new(G||K)},K.\u0275mod=C.oAB({type:K}),K.\u0275inj=C.cJS({imports:[ps]}),K})()},2296:(yi,_t,H)=>{"use strict";H.d(_t,{RK:()=>Dt,cs:()=>Ct,lW:()=>Tn,o6:()=>si,ot:()=>Ne,zs:()=>qn});var C=H(2831),l=H(5879),le=H(7849),v=H(3680),Ve=H(6814),ne=H(2495);const $e=["mat-button",""],Qe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Se=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],nt=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Le=["mat-fab",""],ut=["mat-icon-button",""],Mt=["*"],ei={capture:!0},Di=["focus","click","mouseenter","touchstart"],ti="mat-button-ripple-uninitialized";let Oe=(()=>{class st{constructor(){this._document=(0,l.f3M)(Ve.K0,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(v.Y2,{optional:!0}),this._platform=(0,l.f3M)(C.t4),this._ngZone=(0,l.f3M)(l.R0b),this._onInteraction=ct=>{if(ct.target===this._document)return;const Yt=ct.target.closest(`[${ti}]`);Yt&&(Yt.removeAttribute(ti),this._appendRipple(Yt))},this._ngZone.runOutsideAngular(()=>{for(const ct of Di)this._document?.addEventListener(ct,this._onInteraction,ei)})}ngOnDestroy(){for(const ct of Di)this._document?.removeEventListener(ct,this._onInteraction,ei)}_appendRipple(ct){if(!this._document)return;const ft=this._document.createElement("span");ft.classList.add("mat-mdc-button-ripple");const Yt=new We(ct,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Yt.rippleConfig.centered=ct.hasAttribute("mat-icon-button"),new v.IR(Yt,this._ngZone,ft,this._platform).setupTriggerEvents(ct),ct.append(ft)}_createMatRipple(ct){if(!this._document)return;ct.querySelector(".mat-mdc-button-ripple")?.remove(),ct.removeAttribute(ti);const ft=this._document.createElement("span");ft.classList.add("mat-mdc-button-ripple");const Yt=new v.wG(new l.SBq(ft),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Yt._isInitialized=!0,Yt.trigger=ct,ct.append(ft),Yt}}return st.\u0275fac=function(ct){return new(ct||st)},st.\u0275prov=l.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();class We{constructor(pt,ct,ft){this._button=pt,this._globalRippleOptions=ct,this._setRippleConfig(ct,ft)}_setRippleConfig(pt,ct){this.rippleConfig=pt||{},"NoopAnimations"===ct&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Ot=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Bt=(0,v.pj)((0,v.Id)((0,v.Kr)(class{constructor(st){this._elementRef=st}})));let ui=(()=>{class st extends Bt{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ct){this._ripple=ct}constructor(ct,ft,Yt,qt){super(ct),this._platform=ft,this._ngZone=Yt,this._animationMode=qt,this._focusMonitor=(0,l.f3M)(le.tE),this._rippleLoader=(0,l.f3M)(Oe),this._isFab=!1;const gi=ct.nativeElement.classList;for(const ot of Ot)this._hasHostAttributes(ot.selector)&&ot.mdcClasses.forEach(Tt=>{gi.add(Tt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ct="program",ft){ct?this._focusMonitor.focusVia(this._elementRef.nativeElement,ct,ft):this._elementRef.nativeElement.focus(ft)}_hasHostAttributes(...ct){return ct.some(ft=>this._elementRef.nativeElement.hasAttribute(ft))}}return st.\u0275fac=function(ct){l.$Z()},st.\u0275dir=l.lG2({type:st,features:[l.qOj,l.TTD]}),st})(),Bi=(()=>{class st extends ui{constructor(ct,ft,Yt,qt){super(ct,ft,Yt,qt),this._haltDisabledEvents=gi=>{this.disabled&&(gi.preventDefault(),gi.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return st.\u0275fac=function(ct){l.$Z()},st.\u0275dir=l.lG2({type:st,features:[l.qOj]}),st})(),Tn=(()=>{class st extends ui{constructor(ct,ft,Yt,qt){super(ct,ft,Yt,qt)}}return st.\u0275fac=function(ct){return new(ct||st)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},st.\u0275cmp=l.Xpm({type:st,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(ct,ft){2&ct&&(l.uIk("disabled",ft.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ft._animationMode)("mat-unthemed",!ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:$e,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,ft){1&ct&&(l.F$t(Qe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!ft._isFab)("mdc-fab__ripple",ft._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),st})(),qn=(()=>{class st extends Bi{constructor(ct,ft,Yt,qt){super(ct,ft,Yt,qt)}}return st.\u0275fac=function(ct){return new(ct||st)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},st.\u0275cmp=l.Xpm({type:st,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(ct,ft){2&ct&&(l.uIk("disabled",ft.disabled||null)("tabindex",ft.disabled?-1:ft.tabIndex)("aria-disabled",ft.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===ft._animationMode)("mat-unthemed",!ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:$e,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,ft){1&ct&&(l.F$t(Qe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!ft._isFab)("mdc-fab__ripple",ft._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',nt],encapsulation:2,changeDetection:0}),st})();const vn=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Fn});function Fn(){return{color:"accent"}}const Pn=Fn();let Ct=(()=>{class st extends ui{get extended(){return this._extended}set extended(ct){this._extended=(0,ne.Ig)(ct)}constructor(ct,ft,Yt,qt,gi){super(ct,ft,Yt,qt),this._options=gi,this._isFab=!0,this._options=this._options||Pn,this.color=this.defaultColor=this._options.color||Pn.color}}return st.\u0275fac=function(ct){return new(ct||st)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(vn,8))},st.\u0275cmp=l.Xpm({type:st,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(ct,ft){2&ct&&(l.uIk("disabled",ft.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ft._animationMode)("mat-unthemed",!ft.color)("mat-mdc-button-base",!0)("mdc-fab--extended",ft.extended)("mat-mdc-extended-fab",ft.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[l.qOj],attrs:Le,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,ft){1&ct&&(l.F$t(Qe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!ft._isFab)("mdc-fab__ripple",ft._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),st})(),Dt=(()=>{class st extends ui{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ct,ft,Yt,qt){super(ct,ft,Yt,qt)}}return st.\u0275fac=function(ct){return new(ct||st)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},st.\u0275cmp=l.Xpm({type:st,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(ct,ft){2&ct&&(l.uIk("disabled",ft.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ft._animationMode)("mat-unthemed",!ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ut,ngContentSelectors:Mt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,ft){1&ct&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',nt],encapsulation:2,changeDetection:0}),st})(),si=(()=>{class st extends Bi{constructor(ct,ft,Yt,qt){super(ct,ft,Yt,qt)}}return st.\u0275fac=function(ct){return new(ct||st)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},st.\u0275cmp=l.Xpm({type:st,selectors:[["a","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(ct,ft){2&ct&&(l.uIk("disabled",ft.disabled||null)("tabindex",ft.disabled?-1:ft.tabIndex)("aria-disabled",ft.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===ft._animationMode)("mat-unthemed",!ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:ut,ngContentSelectors:Se,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,ft){1&ct&&(l.F$t(Qe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!ft._isFab)("mdc-fab__ripple",ft._isFab)},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',nt],encapsulation:2,changeDetection:0}),st})(),Ne=(()=>{class st{}return st.\u0275fac=function(ct){return new(ct||st)},st.\u0275mod=l.oAB({type:st}),st.\u0275inj=l.cJS({imports:[v.BQ,v.si,v.BQ]}),st})()},3680:(yi,_t,H)=>{"use strict";H.d(_t,{rD:()=>pt,K7:()=>wi,HF:()=>et,Y2:()=>ue,BQ:()=>Ft,ey:()=>Qi,Ng:()=>Et,us:()=>be,wG:()=>Te,si:()=>Pe,IR:()=>Li,CB:()=>Pt,jH:()=>Ut,pj:()=>Fi,Kr:()=>Bi,Id:()=>fi,FD:()=>qn,dB:()=>vn,sb:()=>Tn});var C=H(5879),l=H(7849),le=H(9388),Ve=H(6814),ne=H(2831),$e=H(2495),Qe=H(5592),Se=H(8645),Be=H(6028);const tt=["text"];function Ke(Y,V){if(1&Y&&C._UZ(0,"mat-pseudo-checkbox",6),2&Y){const U=C.oxw();C.Q6J("disabled",U.disabled)("state",U.selected?"checked":"unchecked")}}function ut(Y,V){if(1&Y&&C._UZ(0,"mat-pseudo-checkbox",7),2&Y){const U=C.oxw();C.Q6J("disabled",U.disabled)}}function Mt(Y,V){if(1&Y&&(C.TgZ(0,"span",8),C._uU(1),C.qZA()),2&Y){const U=C.oxw();C.xp6(1),C.hij("(",U.group.label,")")}}const Vt=[[["mat-icon"]],"*"],ei=["mat-icon","*"],Re=new C.OlP("mat-sanity-checks",{providedIn:"root",factory:function We(){return!0}});let Ft=(()=>{class Y{constructor(U,ie,de){this._sanityChecks=ie,this._document=de,this._hasDoneGlobalChecks=!1,U._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(U){return!(0,ne.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[U])}}return Y.\u0275fac=function(U){return new(U||Y)(C.LFG(l.qm),C.LFG(Re,8),C.LFG(Ve.K0))},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[le.vT,le.vT]}),Y})();function fi(Y){return class extends Y{get disabled(){return this._disabled}set disabled(V){this._disabled=(0,$e.Ig)(V)}constructor(...V){super(...V),this._disabled=!1}}}function Fi(Y,V){return class extends Y{get color(){return this._color}set color(U){const ie=U||this.defaultColor;ie!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ie&&this._elementRef.nativeElement.classList.add(`mat-${ie}`),this._color=ie)}constructor(...U){super(...U),this.defaultColor=V,this.color=V}}}function Bi(Y){return class extends Y{get disableRipple(){return this._disableRipple}set disableRipple(V){this._disableRipple=(0,$e.Ig)(V)}constructor(...V){super(...V),this._disableRipple=!1}}}function Tn(Y,V=0){return class extends Y{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(U){this._tabIndex=null!=U?(0,$e.su)(U):this.defaultTabIndex}constructor(...U){super(...U),this._tabIndex=V,this.defaultTabIndex=V}}}function qn(Y){return class extends Y{updateErrorState(){const V=this.errorState,Me=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Me!==V&&(this.errorState=Me,this.stateChanges.next())}constructor(...V){super(...V),this.errorState=!1}}}function vn(Y){return class extends Y{constructor(...V){super(...V),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Qe.y(U=>{this._isInitialized?this._notifySubscriber(U):this._pendingSubscribers.push(U)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(V){V.next(),V.complete()}}}let pt=(()=>{class Y{isErrorState(U,ie){return!!(U&&U.invalid&&(U.touched||ie&&ie.submitted))}}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275prov=C.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();class gi{constructor(V,U,ie,de=!1){this._renderer=V,this.element=U,this.config=ie,this._animationForciblyDisabledThroughCss=de,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ot=(0,ne.i$)({passive:!0,capture:!0});class Tt{constructor(){this._events=new Map,this._delegateEventHandler=V=>{const U=(0,ne.sA)(V);U&&this._events.get(V.type)?.forEach((ie,de)=>{(de===U||de.contains(U))&&ie.forEach(Me=>Me.handleEvent(V))})}}addHandler(V,U,ie,de){const Me=this._events.get(U);if(Me){const fe=Me.get(ie);fe?fe.add(de):Me.set(ie,new Set([de]))}else this._events.set(U,new Map([[ie,new Set([de])]])),V.runOutsideAngular(()=>{document.addEventListener(U,this._delegateEventHandler,ot)})}removeHandler(V,U,ie){const de=this._events.get(V);if(!de)return;const Me=de.get(U);Me&&(Me.delete(ie),0===Me.size&&de.delete(U),0===de.size&&(this._events.delete(V),document.removeEventListener(V,this._delegateEventHandler,ot)))}}const bi={enterDuration:225,exitDuration:150},rn=(0,ne.i$)({passive:!0,capture:!0}),zn=["mousedown","touchstart"],Hi=["mouseup","mouseleave","touchend","touchcancel"];class Li{constructor(V,U,ie,de){this._target=V,this._ngZone=U,this._platform=de,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,de.isBrowser&&(this._containerElement=(0,$e.fI)(ie))}fadeInRipple(V,U,ie={}){const de=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Me={...bi,...ie.animation};ie.centered&&(V=de.left+de.width/2,U=de.top+de.height/2);const fe=ie.radius||function wt(Y,V,U){const ie=Math.max(Math.abs(Y-U.left),Math.abs(Y-U.right)),de=Math.max(Math.abs(V-U.top),Math.abs(V-U.bottom));return Math.sqrt(ie*ie+de*de)}(V,U,de),se=V-de.left,X=U-de.top,he=Me.enterDuration,qe=document.createElement("div");qe.classList.add("mat-ripple-element"),qe.style.left=se-fe+"px",qe.style.top=X-fe+"px",qe.style.height=2*fe+"px",qe.style.width=2*fe+"px",null!=ie.color&&(qe.style.backgroundColor=ie.color),qe.style.transitionDuration=`${he}ms`,this._containerElement.appendChild(qe);const lt=window.getComputedStyle(qe),De=lt.transitionDuration,ce="none"===lt.transitionProperty||"0s"===De||"0s, 0s"===De||0===de.width&&0===de.height,Ee=new gi(this,qe,ie,ce);qe.style.transform="scale3d(1, 1, 1)",Ee.state=0,ie.persistent||(this._mostRecentTransientRipple=Ee);let Xe=null;return!ce&&(he||Me.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const It=()=>this._finishRippleTransition(Ee),Fe=()=>this._destroyRipple(Ee);qe.addEventListener("transitionend",It),qe.addEventListener("transitioncancel",Fe),Xe={onTransitionEnd:It,onTransitionCancel:Fe}}),this._activeRipples.set(Ee,Xe),(ce||!he)&&this._finishRippleTransition(Ee),Ee}fadeOutRipple(V){if(2===V.state||3===V.state)return;const U=V.element,ie={...bi,...V.config.animation};U.style.transitionDuration=`${ie.exitDuration}ms`,U.style.opacity="0",V.state=2,(V._animationForciblyDisabledThroughCss||!ie.exitDuration)&&this._finishRippleTransition(V)}fadeOutAll(){this._getActiveRipples().forEach(V=>V.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(V=>{V.config.persistent||V.fadeOut()})}setupTriggerEvents(V){const U=(0,$e.fI)(V);!this._platform.isBrowser||!U||U===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=U,zn.forEach(ie=>{Li._eventManager.addHandler(this._ngZone,ie,U,this)}))}handleEvent(V){"mousedown"===V.type?this._onMousedown(V):"touchstart"===V.type?this._onTouchStart(V):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hi.forEach(U=>{this._triggerElement.addEventListener(U,this,rn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(V){0===V.state?this._startFadeOutTransition(V):2===V.state&&this._destroyRipple(V)}_startFadeOutTransition(V){const U=V===this._mostRecentTransientRipple,{persistent:ie}=V.config;V.state=1,!ie&&(!U||!this._isPointerDown)&&V.fadeOut()}_destroyRipple(V){const U=this._activeRipples.get(V)??null;this._activeRipples.delete(V),this._activeRipples.size||(this._containerRect=null),V===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),V.state=3,null!==U&&(V.element.removeEventListener("transitionend",U.onTransitionEnd),V.element.removeEventListener("transitioncancel",U.onTransitionCancel)),V.element.remove()}_onMousedown(V){const U=(0,l.X6)(V),ie=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!U&&!ie&&(this._isPointerDown=!0,this.fadeInRipple(V.clientX,V.clientY,this._target.rippleConfig))}_onTouchStart(V){if(!this._target.rippleDisabled&&!(0,l.yG)(V)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const U=V.changedTouches;if(U)for(let ie=0;ie<U.length;ie++)this.fadeInRipple(U[ie].clientX,U[ie].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(V=>{!V.config.persistent&&(1===V.state||V.config.terminateOnPointerUp&&0===V.state)&&V.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const V=this._triggerElement;V&&(zn.forEach(U=>Li._eventManager.removeHandler(U,V,this)),this._pointerUpEventsRegistered&&Hi.forEach(U=>V.removeEventListener(U,this,rn)))}}Li._eventManager=new Tt;const ue=new C.OlP("mat-ripple-global-options");let Te=(()=>{class Y{get disabled(){return this._disabled}set disabled(U){U&&this.fadeOutAllNonPersistent(),this._disabled=U,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(U){this._trigger=U,this._setupTriggerEventsIfEnabled()}constructor(U,ie,de,Me,fe){this._elementRef=U,this._animationMode=fe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Me||{},this._rippleRenderer=new Li(this,ie,U,de)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(U,ie=0,de){return"number"==typeof U?this._rippleRenderer.fadeInRipple(U,ie,{...this.rippleConfig,...de}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...U})}}return Y.\u0275fac=function(U){return new(U||Y)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(ne.t4),C.Y36(ue,8),C.Y36(C.QbO,8))},Y.\u0275dir=C.lG2({type:Y,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(U,ie){2&U&&C.ekj("mat-ripple-unbounded",ie.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Y})(),Pe=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[Ft,Ft]}),Y})(),Ie=(()=>{class Y{constructor(U){this._animationMode=U,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return Y.\u0275fac=function(U){return new(U||Y)(C.Y36(C.QbO,8))},Y.\u0275cmp=C.Xpm({type:Y,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(U,ie){2&U&&C.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ie.state)("mat-pseudo-checkbox-checked","checked"===ie.state)("mat-pseudo-checkbox-disabled",ie.disabled)("mat-pseudo-checkbox-minimal","minimal"===ie.appearance)("mat-pseudo-checkbox-full","full"===ie.appearance)("_mat-animation-noopable","NoopAnimations"===ie._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(U,ie){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),Y})(),be=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[Ft]}),Y})();const et=new C.OlP("MAT_OPTION_PARENT_COMPONENT"),wi=new C.OlP("MatOptgroup");let $t=0;class Ci{constructor(V,U=!1){this.source=V,this.isUserInput=U}}let Ei=(()=>{class Y{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(U){this._disabled=(0,$e.Ig)(U)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(U,ie,de,Me){this._element=U,this._changeDetectorRef=ie,this._parent=de,this.group=Me,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+$t++,this.onSelectionChange=new C.vpe,this._stateChanges=new Se.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(U=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),U&&this._emitSelectionChangeEvent())}deselect(U=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),U&&this._emitSelectionChangeEvent())}focus(U,ie){const de=this._getHostElement();"function"==typeof de.focus&&de.focus(ie)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(U){(U.keyCode===Be.K5||U.keyCode===Be.L_)&&!(0,Be.Vb)(U)&&(this._selectViaInteraction(),U.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const U=this.viewValue;U!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=U)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(U=!1){this.onSelectionChange.emit(new Ci(this,U))}}return Y.\u0275fac=function(U){C.$Z()},Y.\u0275dir=C.lG2({type:Y,viewQuery:function(U,ie){if(1&U&&C.Gf(tt,7),2&U){let de;C.iGM(de=C.CRH())&&(ie._text=de.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Y})(),Qi=(()=>{class Y extends Ei{constructor(U,ie,de,Me){super(U,ie,de,Me)}}return Y.\u0275fac=function(U){return new(U||Y)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(et,8),C.Y36(wi,8))},Y.\u0275cmp=C.Xpm({type:Y,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(U,ie){1&U&&C.NdJ("click",function(){return ie._selectViaInteraction()})("keydown",function(Me){return ie._handleKeydown(Me)}),2&U&&(C.Ikx("id",ie.id),C.uIk("aria-selected",ie.selected)("aria-disabled",ie.disabled.toString()),C.ekj("mdc-list-item--selected",ie.selected)("mat-mdc-option-multiple",ie.multiple)("mat-mdc-option-active",ie.active)("mdc-list-item--disabled",ie.disabled))},exportAs:["matOption"],features:[C.qOj],ngContentSelectors:ei,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(U,ie){1&U&&(C.F$t(Vt),C.YNc(0,Ke,1,2,"mat-pseudo-checkbox",0),C.Hsn(1),C.TgZ(2,"span",1,2),C.Hsn(4,1),C.qZA(),C.YNc(5,ut,1,1,"mat-pseudo-checkbox",3),C.YNc(6,Mt,2,1,"span",4),C._UZ(7,"div",5)),2&U&&(C.Q6J("ngIf",ie.multiple),C.xp6(5),C.Q6J("ngIf",!ie.multiple&&ie.selected&&!ie.hideSingleSelectionIndicator),C.xp6(1),C.Q6J("ngIf",ie.group&&ie.group._inert),C.xp6(1),C.Q6J("matRippleTrigger",ie._getHostElement())("matRippleDisabled",ie.disabled||ie.disableRipple))},dependencies:[Te,Ve.O5,Ie],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),Y})();function Pt(Y,V,U){if(U.length){let ie=V.toArray(),de=U.toArray(),Me=0;for(let fe=0;fe<Y+1;fe++)ie[fe].group&&ie[fe].group===de[Me]&&Me++;return Me}return 0}function Ut(Y,V,U,ie){return Y<U?Y:Y+V>U+ie?Math.max(0,Y-ie+V):U}let Et=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[Pe,Ve.ez,Ft,be]}),Y})()},4170:(yi,_t,H)=>{"use strict";H.d(_t,{G_:()=>Ye,KE:()=>Ei,Eo:()=>Pe,lN:()=>Qi,R9:()=>bi});var C=H(5879),l=H(9388),le=H(2831),v=H(7394),Ve=H(8645),ne=H(3019),$e=H(9773),Qe=H(5592),Se=H(2181),Be=H(940);class Le{constructor(Ut){this._box=Ut,this._destroyed=new Ve.x,this._resizeSubject=new Ve.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Et=>this._resizeSubject.next(Et)))}observe(Ut){return this._elementObservables.has(Ut)||this._elementObservables.set(Ut,new Qe.y(Et=>{const Y=this._resizeSubject.subscribe(Et);return this._resizeObserver?.observe(Ut,{box:this._box}),()=>{this._resizeObserver?.unobserve(Ut),Y.unsubscribe(),this._elementObservables.delete(Ut)}}).pipe((0,Se.h)(Et=>Et.some(Y=>Y.target===Ut)),(0,Be.d)({bufferSize:1,refCount:!0}),(0,$e.R)(this._destroyed))),this._elementObservables.get(Ut)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let tt=(()=>{class Pt{constructor(){this._observers=new Map,this._ngZone=(0,C.f3M)(C.R0b)}ngOnDestroy(){for(const[,Et]of this._observers)Et.destroy();this._observers.clear()}observe(Et,Y){const V=Y?.box||"content-box";return this._observers.has(V)||this._observers.set(V,new Le(V)),this._observers.get(V).observe(Et)}}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275prov=C.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt})();var Ke=H(2495),ut=H(6825),Mt=H(6814),Vt=H(7131),ei=H(3680);const Di=["notch"],ti=["matFormFieldNotchedOutline",""],Oe=["*"],We=["textField"],Re=["iconPrefixContainer"],Ft=["textPrefixContainer"];function Ot(Pt,Ut){1&Pt&&C._UZ(0,"span",19)}function Bt(Pt,Ut){if(1&Pt&&(C.TgZ(0,"label",17),C.Hsn(1,1),C.YNc(2,Ot,1,0,"span",18),C.qZA()),2&Pt){const Et=C.oxw(2);C.Q6J("floating",Et._shouldLabelFloat())("monitorResize",Et._hasOutline())("id",Et._labelId),C.uIk("for",Et._control.id),C.xp6(2),C.Q6J("ngIf",!Et.hideRequiredMarker&&Et._control.required)}}function ui(Pt,Ut){if(1&Pt&&C.YNc(0,Bt,3,5,"label",16),2&Pt){const Et=C.oxw();C.Q6J("ngIf",Et._hasFloatingLabel())}}function fi(Pt,Ut){1&Pt&&C._UZ(0,"div",20)}function Fi(Pt,Ut){}function Bi(Pt,Ut){if(1&Pt&&C.YNc(0,Fi,0,0,"ng-template",22),2&Pt){C.oxw(2);const Et=C.MAs(1);C.Q6J("ngTemplateOutlet",Et)}}function Tn(Pt,Ut){if(1&Pt&&(C.TgZ(0,"div",21),C.YNc(1,Bi,1,1,"ng-template",9),C.qZA()),2&Pt){const Et=C.oxw();C.Q6J("matFormFieldNotchedOutlineOpen",Et._shouldLabelFloat()),C.xp6(1),C.Q6J("ngIf",!Et._forceDisplayInfixLabel())}}function qn(Pt,Ut){1&Pt&&(C.TgZ(0,"div",23,24),C.Hsn(2,2),C.qZA())}function vn(Pt,Ut){1&Pt&&(C.TgZ(0,"div",25,26),C.Hsn(2,3),C.qZA())}function Fn(Pt,Ut){}function Pn(Pt,Ut){if(1&Pt&&C.YNc(0,Fn,0,0,"ng-template",22),2&Pt){C.oxw();const Et=C.MAs(1);C.Q6J("ngTemplateOutlet",Et)}}function vt(Pt,Ut){1&Pt&&(C.TgZ(0,"div",27),C.Hsn(1,4),C.qZA())}function Ct(Pt,Ut){1&Pt&&(C.TgZ(0,"div",28),C.Hsn(1,5),C.qZA())}function Rt(Pt,Ut){1&Pt&&C._UZ(0,"div",29)}function zt(Pt,Ut){if(1&Pt&&(C.TgZ(0,"div",30),C.Hsn(1,6),C.qZA()),2&Pt){const Et=C.oxw();C.Q6J("@transitionMessages",Et._subscriptAnimationState)}}function Jt(Pt,Ut){if(1&Pt&&(C.TgZ(0,"mat-hint",34),C._uU(1),C.qZA()),2&Pt){const Et=C.oxw(2);C.Q6J("id",Et._hintLabelId),C.xp6(1),C.Oqu(Et.hintLabel)}}function Dt(Pt,Ut){if(1&Pt&&(C.TgZ(0,"div",31),C.YNc(1,Jt,2,2,"mat-hint",32),C.Hsn(2,7),C._UZ(3,"div",33),C.Hsn(4,8),C.qZA()),2&Pt){const Et=C.oxw();C.Q6J("@transitionMessages",Et._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",Et.hintLabel)}}const si=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ne=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let st=(()=>{class Pt{}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275dir=C.lG2({type:Pt,selectors:[["mat-label"]]}),Pt})();const ct=new C.OlP("MatError");let Yt=0,qt=(()=>{class Pt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Yt++}}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275dir=C.lG2({type:Pt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Et,Y){2&Et&&(C.Ikx("id",Y.id),C.uIk("align",null),C.ekj("mat-mdc-form-field-hint-end","end"===Y.align))},inputs:{align:"align",id:"id"}}),Pt})();const gi=new C.OlP("MatPrefix"),Tt=new C.OlP("MatSuffix");let bi=(()=>{class Pt{constructor(){this._isText=!1}set _isTextSelector(Et){this._isText=!0}}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275dir=C.lG2({type:Pt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[C._Bn([{provide:Tt,useExisting:Pt}])]}),Pt})();const bt=new C.OlP("FloatingLabelParent");let rn=(()=>{class Pt{get floating(){return this._floating}set floating(Et){this._floating=Et,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Et){this._monitorResize=Et,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Et){this._elementRef=Et,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,C.f3M)(tt),this._ngZone=(0,C.f3M)(C.R0b),this._parent=(0,C.f3M)(bt),this._resizeSubscription=new v.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function zn(Pt){if(null!==Pt.offsetParent)return Pt.scrollWidth;const Et=Pt.cloneNode(!0);Et.style.setProperty("position","absolute"),Et.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Et);const Y=Et.scrollWidth;return Et.remove(),Y}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return Pt.\u0275fac=function(Et){return new(Et||Pt)(C.Y36(C.SBq))},Pt.\u0275dir=C.lG2({type:Pt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Et,Y){2&Et&&C.ekj("mdc-floating-label--float-above",Y.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),Pt})();const Hi="mdc-line-ripple--active",Li="mdc-line-ripple--deactivating";let wt=(()=>{class Pt{constructor(Et,Y){this._elementRef=Et,this._handleTransitionEnd=V=>{const U=this._elementRef.nativeElement.classList,ie=U.contains(Li);"opacity"===V.propertyName&&ie&&U.remove(Hi,Li)},Y.runOutsideAngular(()=>{Et.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Et=this._elementRef.nativeElement.classList;Et.remove(Li),Et.add(Hi)}deactivate(){this._elementRef.nativeElement.classList.add(Li)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return Pt.\u0275fac=function(Et){return new(Et||Pt)(C.Y36(C.SBq),C.Y36(C.R0b))},Pt.\u0275dir=C.lG2({type:Pt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),Pt})(),ue=(()=>{class Pt{constructor(Et,Y){this._elementRef=Et,this._ngZone=Y,this.open=!1}ngAfterViewInit(){const Et=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Et?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Et.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Et.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Et){this._notch.nativeElement.style.width=this.open&&Et?`calc(${Et}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return Pt.\u0275fac=function(Et){return new(Et||Pt)(C.Y36(C.SBq),C.Y36(C.R0b))},Pt.\u0275cmp=C.Xpm({type:Pt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Et,Y){if(1&Et&&C.Gf(Di,5),2&Et){let V;C.iGM(V=C.CRH())&&(Y._notch=V.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Et,Y){2&Et&&C.ekj("mdc-notched-outline--notched",Y.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ti,ngContentSelectors:Oe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Et,Y){1&Et&&(C.F$t(),C._UZ(0,"div",0),C.TgZ(1,"div",1,2),C.Hsn(3),C.qZA(),C._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),Pt})();const Te={transitionMessages:(0,ut.X$)("transitionMessages",[(0,ut.SB)("enter",(0,ut.oB)({opacity:1,transform:"translateY(0%)"})),(0,ut.eR)("void => enter",[(0,ut.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ut.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pe=(()=>{class Pt{}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275dir=C.lG2({type:Pt}),Pt})();const Ye=new C.OlP("MatFormField"),Zt=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ii=0,Ei=(()=>{class Pt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Et){this._hideRequiredMarker=(0,Ke.Ig)(Et)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Et){Et!==this._floatLabel&&(this._floatLabel=Et,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Et){const Y=this._appearance;this._appearance=Et||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Y&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Et){this._subscriptSizing=Et||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Et){this._hintLabel=Et,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Et){this._explicitFormFieldControl=Et}constructor(Et,Y,V,U,ie,de,Me,fe){this._elementRef=Et,this._changeDetectorRef=Y,this._ngZone=V,this._dir=U,this._platform=ie,this._defaults=de,this._animationMode=Me,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ii++,this._hintLabelId="mat-mdc-hint-"+ii++,this._subscriptAnimationState="",this._destroyed=new Ve.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,de&&(de.appearance&&(this.appearance=de.appearance),this._hideRequiredMarker=!!de?.hideRequiredMarker,de.color&&(this.color=de.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Et=this._control;Et.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Et.controlType}`),Et.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Et.ngControl&&Et.ngControl.valueChanges&&Et.ngControl.valueChanges.pipe((0,$e.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Et=>!Et._isText),this._hasTextPrefix=!!this._prefixChildren.find(Et=>Et._isText),this._hasIconSuffix=!!this._suffixChildren.find(Et=>!Et._isText),this._hasTextSuffix=!!this._suffixChildren.find(Et=>Et._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ne.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,$e.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(Et){const Y=this._control?this._control.ngControl:null;return Y&&Y[Et]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Et=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Et.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Y=this._hintChildren?this._hintChildren.find(U=>"start"===U.align):null,V=this._hintChildren?this._hintChildren.find(U=>"end"===U.align):null;Y?Et.push(Y.id):this._hintLabel&&Et.push(this._hintLabelId),V&&Et.push(V.id)}else this._errorChildren&&Et.push(...this._errorChildren.map(Y=>Y.id));this._control.setDescribedByIds(Et)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const Et=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Et.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Y=this._iconPrefixContainer?.nativeElement,V=this._textPrefixContainer?.nativeElement,U=Y?.getBoundingClientRect().width??0,ie=V?.getBoundingClientRect().width??0;Et.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${U+ie}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Et=this._elementRef.nativeElement;if(Et.getRootNode){const Y=Et.getRootNode();return Y&&Y!==Et}return document.documentElement.contains(Et)}}return Pt.\u0275fac=function(Et){return new(Et||Pt)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(C.R0b),C.Y36(l.Is),C.Y36(le.t4),C.Y36(Zt,8),C.Y36(C.QbO,8),C.Y36(Mt.K0))},Pt.\u0275cmp=C.Xpm({type:Pt,selectors:[["mat-form-field"]],contentQueries:function(Et,Y,V){if(1&Et&&(C.Suo(V,st,5),C.Suo(V,st,7),C.Suo(V,Pe,5),C.Suo(V,gi,5),C.Suo(V,Tt,5),C.Suo(V,ct,5),C.Suo(V,qt,5)),2&Et){let U;C.iGM(U=C.CRH())&&(Y._labelChildNonStatic=U.first),C.iGM(U=C.CRH())&&(Y._labelChildStatic=U.first),C.iGM(U=C.CRH())&&(Y._formFieldControl=U.first),C.iGM(U=C.CRH())&&(Y._prefixChildren=U),C.iGM(U=C.CRH())&&(Y._suffixChildren=U),C.iGM(U=C.CRH())&&(Y._errorChildren=U),C.iGM(U=C.CRH())&&(Y._hintChildren=U)}},viewQuery:function(Et,Y){if(1&Et&&(C.Gf(We,5),C.Gf(Re,5),C.Gf(Ft,5),C.Gf(rn,5),C.Gf(ue,5),C.Gf(wt,5)),2&Et){let V;C.iGM(V=C.CRH())&&(Y._textField=V.first),C.iGM(V=C.CRH())&&(Y._iconPrefixContainer=V.first),C.iGM(V=C.CRH())&&(Y._textPrefixContainer=V.first),C.iGM(V=C.CRH())&&(Y._floatingLabel=V.first),C.iGM(V=C.CRH())&&(Y._notchedOutline=V.first),C.iGM(V=C.CRH())&&(Y._lineRipple=V.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Et,Y){2&Et&&C.ekj("mat-mdc-form-field-label-always-float",Y._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Y._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Y._hasIconSuffix)("mat-form-field-invalid",Y._control.errorState)("mat-form-field-disabled",Y._control.disabled)("mat-form-field-autofilled",Y._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Y._animationMode)("mat-form-field-appearance-fill","fill"==Y.appearance)("mat-form-field-appearance-outline","outline"==Y.appearance)("mat-form-field-hide-placeholder",Y._hasFloatingLabel()&&!Y._shouldLabelFloat())("mat-focused",Y._control.focused)("mat-primary","accent"!==Y.color&&"warn"!==Y.color)("mat-accent","accent"===Y.color)("mat-warn","warn"===Y.color)("ng-untouched",Y._shouldForward("untouched"))("ng-touched",Y._shouldForward("touched"))("ng-pristine",Y._shouldForward("pristine"))("ng-dirty",Y._shouldForward("dirty"))("ng-valid",Y._shouldForward("valid"))("ng-invalid",Y._shouldForward("invalid"))("ng-pending",Y._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:Ye,useExisting:Pt},{provide:bt,useExisting:Pt}])],ngContentSelectors:Ne,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Et,Y){1&Et&&(C.F$t(si),C.YNc(0,ui,1,1,"ng-template",null,0,C.W1O),C.TgZ(2,"div",1,2),C.NdJ("click",function(U){return Y._control.onContainerClick(U)}),C.YNc(4,fi,1,0,"div",3),C.TgZ(5,"div",4),C.YNc(6,Tn,2,2,"div",5),C.YNc(7,qn,3,0,"div",6),C.YNc(8,vn,3,0,"div",7),C.TgZ(9,"div",8),C.YNc(10,Pn,1,1,"ng-template",9),C.Hsn(11),C.qZA(),C.YNc(12,vt,2,0,"div",10),C.YNc(13,Ct,2,0,"div",11),C.qZA(),C.YNc(14,Rt,1,0,"div",12),C.qZA(),C.TgZ(15,"div",13),C.YNc(16,zt,2,1,"div",14),C.YNc(17,Dt,5,2,"div",15),C.qZA()),2&Et&&(C.xp6(2),C.ekj("mdc-text-field--filled",!Y._hasOutline())("mdc-text-field--outlined",Y._hasOutline())("mdc-text-field--no-label",!Y._hasFloatingLabel())("mdc-text-field--disabled",Y._control.disabled)("mdc-text-field--invalid",Y._control.errorState),C.xp6(2),C.Q6J("ngIf",!Y._hasOutline()&&!Y._control.disabled),C.xp6(2),C.Q6J("ngIf",Y._hasOutline()),C.xp6(1),C.Q6J("ngIf",Y._hasIconPrefix),C.xp6(1),C.Q6J("ngIf",Y._hasTextPrefix),C.xp6(2),C.Q6J("ngIf",!Y._hasOutline()||Y._forceDisplayInfixLabel()),C.xp6(2),C.Q6J("ngIf",Y._hasTextSuffix),C.xp6(1),C.Q6J("ngIf",Y._hasIconSuffix),C.xp6(1),C.Q6J("ngIf",!Y._hasOutline()),C.xp6(1),C.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Y.subscriptSizing),C.Q6J("ngSwitch",Y._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},dependencies:[Mt.O5,Mt.tP,Mt.RF,Mt.n9,qt,rn,ue,wt],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Te.transitionMessages]},changeDetection:0}),Pt})(),Qi=(()=>{class Pt{}return Pt.\u0275fac=function(Et){return new(Et||Pt)},Pt.\u0275mod=C.oAB({type:Pt}),Pt.\u0275inj=C.cJS({imports:[ei.BQ,Mt.ez,Vt.Q8,ei.BQ]}),Pt})()},617:(yi,_t,H)=>{"use strict";H.d(_t,{Hw:()=>zt,Ps:()=>Jt,jv:()=>Bt});var C=H(5879),l=H(3680),le=H(2495),v=H(6814),Ve=H(2096),ne=H(8504),$e=H(9315),Qe=H(7394),Se=H(9397),Be=H(7398),nt=H(6306),Le=H(4716),tt=H(3020),Ke=H(8180),ut=H(9862),Mt=H(6593);const Vt=["*"];let ei;function ti(Dt){return function Di(){if(void 0===ei&&(ei=null,typeof window<"u")){const Dt=window;void 0!==Dt.trustedTypes&&(ei=Dt.trustedTypes.createPolicy("angular#components",{createHTML:si=>si}))}return ei}()?.createHTML(Dt)||Dt}function Oe(Dt){return Error(`Unable to find icon with the name "${Dt}"`)}function Re(Dt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Dt}".`)}function Ft(Dt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Dt}".`)}class Ot{constructor(si,Ne,st){this.url=si,this.svgText=Ne,this.options=st}}let Bt=(()=>{class Dt{constructor(Ne,st,pt,ct){this._httpClient=Ne,this._sanitizer=st,this._errorHandler=ct,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=pt}addSvgIcon(Ne,st,pt){return this.addSvgIconInNamespace("",Ne,st,pt)}addSvgIconLiteral(Ne,st,pt){return this.addSvgIconLiteralInNamespace("",Ne,st,pt)}addSvgIconInNamespace(Ne,st,pt,ct){return this._addSvgIconConfig(Ne,st,new Ot(pt,null,ct))}addSvgIconResolver(Ne){return this._resolvers.push(Ne),this}addSvgIconLiteralInNamespace(Ne,st,pt,ct){const ft=this._sanitizer.sanitize(C.q3G.HTML,pt);if(!ft)throw Ft(pt);const Yt=ti(ft);return this._addSvgIconConfig(Ne,st,new Ot("",Yt,ct))}addSvgIconSet(Ne,st){return this.addSvgIconSetInNamespace("",Ne,st)}addSvgIconSetLiteral(Ne,st){return this.addSvgIconSetLiteralInNamespace("",Ne,st)}addSvgIconSetInNamespace(Ne,st,pt){return this._addSvgIconSetConfig(Ne,new Ot(st,null,pt))}addSvgIconSetLiteralInNamespace(Ne,st,pt){const ct=this._sanitizer.sanitize(C.q3G.HTML,st);if(!ct)throw Ft(st);const ft=ti(ct);return this._addSvgIconSetConfig(Ne,new Ot("",ft,pt))}registerFontClassAlias(Ne,st=Ne){return this._fontCssClassesByAlias.set(Ne,st),this}classNameForFontAlias(Ne){return this._fontCssClassesByAlias.get(Ne)||Ne}setDefaultFontSetClass(...Ne){return this._defaultFontSetClass=Ne,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ne){const st=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,Ne);if(!st)throw Re(Ne);const pt=this._cachedIconsByUrl.get(st);return pt?(0,Ve.of)(Fi(pt)):this._loadSvgIconFromConfig(new Ot(Ne,null)).pipe((0,Se.b)(ct=>this._cachedIconsByUrl.set(st,ct)),(0,Be.U)(ct=>Fi(ct)))}getNamedSvgIcon(Ne,st=""){const pt=Bi(st,Ne);let ct=this._svgIconConfigs.get(pt);if(ct)return this._getSvgFromConfig(ct);if(ct=this._getIconConfigFromResolvers(st,Ne),ct)return this._svgIconConfigs.set(pt,ct),this._getSvgFromConfig(ct);const ft=this._iconSetConfigs.get(st);return ft?this._getSvgFromIconSetConfigs(Ne,ft):(0,ne._)(Oe(pt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ne){return Ne.svgText?(0,Ve.of)(Fi(this._svgElementFromConfig(Ne))):this._loadSvgIconFromConfig(Ne).pipe((0,Be.U)(st=>Fi(st)))}_getSvgFromIconSetConfigs(Ne,st){const pt=this._extractIconWithNameFromAnySet(Ne,st);if(pt)return(0,Ve.of)(pt);const ct=st.filter(ft=>!ft.svgText).map(ft=>this._loadSvgIconSetFromConfig(ft).pipe((0,nt.K)(Yt=>{const gi=`Loading icon set URL: ${this._sanitizer.sanitize(C.q3G.RESOURCE_URL,ft.url)} failed: ${Yt.message}`;return this._errorHandler.handleError(new Error(gi)),(0,Ve.of)(null)})));return(0,$e.D)(ct).pipe((0,Be.U)(()=>{const ft=this._extractIconWithNameFromAnySet(Ne,st);if(!ft)throw Oe(Ne);return ft}))}_extractIconWithNameFromAnySet(Ne,st){for(let pt=st.length-1;pt>=0;pt--){const ct=st[pt];if(ct.svgText&&ct.svgText.toString().indexOf(Ne)>-1){const ft=this._svgElementFromConfig(ct),Yt=this._extractSvgIconFromSet(ft,Ne,ct.options);if(Yt)return Yt}}return null}_loadSvgIconFromConfig(Ne){return this._fetchIcon(Ne).pipe((0,Se.b)(st=>Ne.svgText=st),(0,Be.U)(()=>this._svgElementFromConfig(Ne)))}_loadSvgIconSetFromConfig(Ne){return Ne.svgText?(0,Ve.of)(null):this._fetchIcon(Ne).pipe((0,Se.b)(st=>Ne.svgText=st))}_extractSvgIconFromSet(Ne,st,pt){const ct=Ne.querySelector(`[id="${st}"]`);if(!ct)return null;const ft=ct.cloneNode(!0);if(ft.removeAttribute("id"),"svg"===ft.nodeName.toLowerCase())return this._setSvgAttributes(ft,pt);if("symbol"===ft.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ft),pt);const Yt=this._svgElementFromString(ti("<svg></svg>"));return Yt.appendChild(ft),this._setSvgAttributes(Yt,pt)}_svgElementFromString(Ne){const st=this._document.createElement("DIV");st.innerHTML=Ne;const pt=st.querySelector("svg");if(!pt)throw Error("<svg> tag not found");return pt}_toSvgElement(Ne){const st=this._svgElementFromString(ti("<svg></svg>")),pt=Ne.attributes;for(let ct=0;ct<pt.length;ct++){const{name:ft,value:Yt}=pt[ct];"id"!==ft&&st.setAttribute(ft,Yt)}for(let ct=0;ct<Ne.childNodes.length;ct++)Ne.childNodes[ct].nodeType===this._document.ELEMENT_NODE&&st.appendChild(Ne.childNodes[ct].cloneNode(!0));return st}_setSvgAttributes(Ne,st){return Ne.setAttribute("fit",""),Ne.setAttribute("height","100%"),Ne.setAttribute("width","100%"),Ne.setAttribute("preserveAspectRatio","xMidYMid meet"),Ne.setAttribute("focusable","false"),st&&st.viewBox&&Ne.setAttribute("viewBox",st.viewBox),Ne}_fetchIcon(Ne){const{url:st,options:pt}=Ne,ct=pt?.withCredentials??!1;if(!this._httpClient)throw function We(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==st)throw Error(`Cannot fetch icon from URL "${st}".`);const ft=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,st);if(!ft)throw Re(st);const Yt=this._inProgressUrlFetches.get(ft);if(Yt)return Yt;const qt=this._httpClient.get(ft,{responseType:"text",withCredentials:ct}).pipe((0,Be.U)(gi=>ti(gi)),(0,Le.x)(()=>this._inProgressUrlFetches.delete(ft)),(0,tt.B)());return this._inProgressUrlFetches.set(ft,qt),qt}_addSvgIconConfig(Ne,st,pt){return this._svgIconConfigs.set(Bi(Ne,st),pt),this}_addSvgIconSetConfig(Ne,st){const pt=this._iconSetConfigs.get(Ne);return pt?pt.push(st):this._iconSetConfigs.set(Ne,[st]),this}_svgElementFromConfig(Ne){if(!Ne.svgElement){const st=this._svgElementFromString(Ne.svgText);this._setSvgAttributes(st,Ne.options),Ne.svgElement=st}return Ne.svgElement}_getIconConfigFromResolvers(Ne,st){for(let pt=0;pt<this._resolvers.length;pt++){const ct=this._resolvers[pt](st,Ne);if(ct)return Tn(ct)?new Ot(ct.url,null,ct.options):new Ot(ct,null)}}}return Dt.\u0275fac=function(Ne){return new(Ne||Dt)(C.LFG(ut.eN,8),C.LFG(Mt.H7),C.LFG(v.K0,8),C.LFG(C.qLn))},Dt.\u0275prov=C.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();function Fi(Dt){return Dt.cloneNode(!0)}function Bi(Dt,si){return Dt+":"+si}function Tn(Dt){return!(!Dt.url||!Dt.options)}const qn=(0,l.pj)(class{constructor(Dt){this._elementRef=Dt}}),vn=new C.OlP("MAT_ICON_DEFAULT_OPTIONS"),Fn=new C.OlP("mat-icon-location",{providedIn:"root",factory:function Pn(){const Dt=(0,C.f3M)(v.K0),si=Dt?Dt.location:null;return{getPathname:()=>si?si.pathname+si.search:""}}}),vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ct=vt.map(Dt=>`[${Dt}]`).join(", "),Rt=/^url\(['"]?#(.*?)['"]?\)$/;let zt=(()=>{class Dt extends qn{get inline(){return this._inline}set inline(Ne){this._inline=(0,le.Ig)(Ne)}get svgIcon(){return this._svgIcon}set svgIcon(Ne){Ne!==this._svgIcon&&(Ne?this._updateSvgIcon(Ne):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ne)}get fontSet(){return this._fontSet}set fontSet(Ne){const st=this._cleanupFontValue(Ne);st!==this._fontSet&&(this._fontSet=st,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ne){const st=this._cleanupFontValue(Ne);st!==this._fontIcon&&(this._fontIcon=st,this._updateFontIconClasses())}constructor(Ne,st,pt,ct,ft,Yt){super(Ne),this._iconRegistry=st,this._location=ct,this._errorHandler=ft,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Qe.w0.EMPTY,Yt&&(Yt.color&&(this.color=this.defaultColor=Yt.color),Yt.fontSet&&(this.fontSet=Yt.fontSet)),pt||Ne.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ne){if(!Ne)return["",""];const st=Ne.split(":");switch(st.length){case 1:return["",st[0]];case 2:return st;default:throw Error(`Invalid icon name: "${Ne}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ne=this._elementsWithExternalReferences;if(Ne&&Ne.size){const st=this._location.getPathname();st!==this._previousPath&&(this._previousPath=st,this._prependPathToReferences(st))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ne){this._clearSvgElement();const st=this._location.getPathname();this._previousPath=st,this._cacheChildrenWithExternalReferences(Ne),this._prependPathToReferences(st),this._elementRef.nativeElement.appendChild(Ne)}_clearSvgElement(){const Ne=this._elementRef.nativeElement;let st=Ne.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();st--;){const pt=Ne.childNodes[st];(1!==pt.nodeType||"svg"===pt.nodeName.toLowerCase())&&pt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ne=this._elementRef.nativeElement,st=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(pt=>pt.length>0);this._previousFontSetClass.forEach(pt=>Ne.classList.remove(pt)),st.forEach(pt=>Ne.classList.add(pt)),this._previousFontSetClass=st,this.fontIcon!==this._previousFontIconClass&&!st.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ne.classList.remove(this._previousFontIconClass),this.fontIcon&&Ne.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ne){return"string"==typeof Ne?Ne.trim().split(" ")[0]:Ne}_prependPathToReferences(Ne){const st=this._elementsWithExternalReferences;st&&st.forEach((pt,ct)=>{pt.forEach(ft=>{ct.setAttribute(ft.name,`url('${Ne}#${ft.value}')`)})})}_cacheChildrenWithExternalReferences(Ne){const st=Ne.querySelectorAll(Ct),pt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ct=0;ct<st.length;ct++)vt.forEach(ft=>{const Yt=st[ct],qt=Yt.getAttribute(ft),gi=qt?qt.match(Rt):null;if(gi){let ot=pt.get(Yt);ot||(ot=[],pt.set(Yt,ot)),ot.push({name:ft,value:gi[1]})}})}_updateSvgIcon(Ne){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ne){const[st,pt]=this._splitIconName(Ne);st&&(this._svgNamespace=st),pt&&(this._svgName=pt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(pt,st).pipe((0,Ke.q)(1)).subscribe(ct=>this._setSvgElement(ct),ct=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${st}:${pt}! ${ct.message}`))})}}}return Dt.\u0275fac=function(Ne){return new(Ne||Dt)(C.Y36(C.SBq),C.Y36(Bt),C.$8M("aria-hidden"),C.Y36(Fn),C.Y36(C.qLn),C.Y36(vn,8))},Dt.\u0275cmp=C.Xpm({type:Dt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ne,st){2&Ne&&(C.uIk("data-mat-icon-type",st._usingFontIcon()?"font":"svg")("data-mat-icon-name",st._svgName||st.fontIcon)("data-mat-icon-namespace",st._svgNamespace||st.fontSet)("fontIcon",st._usingFontIcon()?st.fontIcon:null),C.ekj("mat-icon-inline",st.inline)("mat-icon-no-color","primary"!==st.color&&"accent"!==st.color&&"warn"!==st.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[C.qOj],ngContentSelectors:Vt,decls:1,vars:0,template:function(Ne,st){1&Ne&&(C.F$t(),C.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Dt})(),Jt=(()=>{class Dt{}return Dt.\u0275fac=function(Ne){return new(Ne||Dt)},Dt.\u0275mod=C.oAB({type:Dt}),Dt.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]}),Dt})()},8525:(yi,_t,H)=>{"use strict";H.d(_t,{LD:()=>Yt,gD:()=>ft});var C=H(3651),l=H(6814),le=H(5879),v=H(3680),Ve=H(4170),ne=H(799),$e=H(7849),Qe=H(9388),Se=H(2495),Be=H(8337),nt=H(6028),Le=H(6223),tt=H(8645),Ke=H(4911),ut=H(3019),Mt=H(7921),Vt=H(4664),ei=H(8180),Di=H(2181),ti=H(7398),Oe=H(3997),We=H(9773),Re=H(6825);const Ft=["trigger"],Ot=["panel"];function Bt(qt,gi){if(1&qt&&(le.TgZ(0,"span",10),le._uU(1),le.qZA()),2&qt){const ot=le.oxw();le.xp6(1),le.Oqu(ot.placeholder)}}function ui(qt,gi){if(1&qt&&(le.TgZ(0,"span",14),le._uU(1),le.qZA()),2&qt){const ot=le.oxw(2);le.xp6(1),le.Oqu(ot.triggerValue)}}function fi(qt,gi){1&qt&&le.Hsn(0,0,["*ngSwitchCase","true"])}function Fi(qt,gi){if(1&qt&&(le.TgZ(0,"span",11),le.YNc(1,ui,2,1,"span",12),le.YNc(2,fi,1,0,"ng-content",13),le.qZA()),2&qt){const ot=le.oxw();le.Q6J("ngSwitch",!!ot.customTrigger),le.xp6(2),le.Q6J("ngSwitchCase",!0)}}function Bi(qt,gi){if(1&qt){const ot=le.EpF();le.O4$(),le.kcU(),le.TgZ(0,"div",15,16),le.NdJ("@transformPanel.done",function(bi){le.CHM(ot);const bt=le.oxw();return le.KtG(bt._panelDoneAnimatingStream.next(bi.toState))})("keydown",function(bi){le.CHM(ot);const bt=le.oxw();return le.KtG(bt._handleKeydown(bi))}),le.Hsn(2,1),le.qZA()}if(2&qt){const ot=le.oxw();le.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ot._getPanelTheme(),""),le.Q6J("ngClass",ot.panelClass)("@transformPanel","showing"),le.uIk("id",ot.id+"-panel")("aria-multiselectable",ot.multiple)("aria-label",ot.ariaLabel||null)("aria-labelledby",ot._getPanelAriaLabelledby())}}const Tn=[[["mat-select-trigger"]],"*"],qn=["mat-select-trigger","*"],vn={transformPanelWrap:(0,Re.X$)("transformPanelWrap",[(0,Re.eR)("* => void",(0,Re.IO)("@transformPanel",[(0,Re.pV)()],{optional:!0}))]),transformPanel:(0,Re.X$)("transformPanel",[(0,Re.SB)("void",(0,Re.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Re.eR)("void => showing",(0,Re.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Re.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Re.eR)("* => void",(0,Re.jt)("100ms linear",(0,Re.oB)({opacity:0})))])};let Ct=0;const Rt=new le.OlP("mat-select-scroll-strategy"),Jt=new le.OlP("MAT_SELECT_CONFIG"),Dt={provide:Rt,deps:[C.aV],useFactory:function zt(qt){return()=>qt.scrollStrategies.reposition()}},si=new le.OlP("MatSelectTrigger");class Ne{constructor(gi,ot){this.source=gi,this.value=ot}}const st=(0,v.Kr)((0,v.sb)((0,v.Id)((0,v.FD)(class{constructor(qt,gi,ot,Tt,bi){this._elementRef=qt,this._defaultErrorStateMatcher=gi,this._parentForm=ot,this._parentFormGroup=Tt,this.ngControl=bi,this.stateChanges=new tt.x}}))));let pt=(()=>{class qt extends st{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ot){this._placeholder=ot,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Le.kI.required)??!1}set required(ot){this._required=(0,Se.Ig)(ot),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ot){this._multiple=(0,Se.Ig)(ot)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ot){this._disableOptionCentering=(0,Se.Ig)(ot)}get compareWith(){return this._compareWith}set compareWith(ot){this._compareWith=ot,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ot){this._assignValue(ot)&&this._onChange(ot)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ot){this._typeaheadDebounceInterval=(0,Se.su)(ot)}get id(){return this._id}set id(ot){this._id=ot||this._uid,this.stateChanges.next()}constructor(ot,Tt,bi,bt,rn,zn,Hi,Li,wt,ue,Te,Pe,Ie,be){super(rn,bt,Hi,Li,ue),this._viewportRuler=ot,this._changeDetectorRef=Tt,this._ngZone=bi,this._dir=zn,this._parentFormField=wt,this._liveAnnouncer=Ie,this._defaultOptions=be,this._panelOpen=!1,this._compareWith=(et,Ye)=>et===Ye,this._uid="mat-select-"+Ct++,this._triggerAriaLabelledBy=null,this._destroy=new tt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Ct++,this._panelDoneAnimatingStream=new tt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Ke.P)(()=>{const et=this.options;return et?et.changes.pipe((0,Mt.O)(et),(0,Vt.w)(()=>(0,ut.T)(...et.map(Ye=>Ye.onSelectionChange)))):this._ngZone.onStable.pipe((0,ei.q)(1),(0,Vt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new le.vpe,this._openedStream=this.openedChange.pipe((0,Di.h)(et=>et),(0,ti.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Di.h)(et=>!et),(0,ti.U)(()=>{})),this.selectionChange=new le.vpe,this.valueChange=new le.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=be?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=be.typeaheadDebounceInterval),this._scrollStrategyFactory=Pe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Te)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Be.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Oe.x)(),(0,We.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,We.R)(this._destroy)).subscribe(ot=>{ot.added.forEach(Tt=>Tt.select()),ot.removed.forEach(Tt=>Tt.deselect())}),this.options.changes.pipe((0,Mt.O)(null),(0,We.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ot=this._getTriggerAriaLabelledby(),Tt=this.ngControl;if(ot!==this._triggerAriaLabelledBy){const bi=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ot,ot?bi.setAttribute("aria-labelledby",ot):bi.removeAttribute("aria-labelledby")}Tt&&(this._previousControl!==Tt.control&&(void 0!==this._previousControl&&null!==Tt.disabled&&Tt.disabled!==this.disabled&&(this.disabled=Tt.disabled),this._previousControl=Tt.control),this.updateErrorState())}ngOnChanges(ot){(ot.disabled||ot.userAriaDescribedBy)&&this.stateChanges.next(),ot.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ot=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ot)return;const Tt=`${this.id}-panel`;this._trackedModal&&(0,$e.iD)(this._trackedModal,"aria-owns",Tt),(0,$e.Zf)(ot,"aria-owns",Tt),this._trackedModal=ot}_clearFromModal(){this._trackedModal&&((0,$e.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ot){this._assignValue(ot)}registerOnChange(ot){this._onChange=ot}registerOnTouched(ot){this._onTouched=ot}setDisabledState(ot){this.disabled=ot,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ot=this._selectionModel.selected.map(Tt=>Tt.viewValue);return this._isRtl()&&ot.reverse(),ot.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ot){this.disabled||(this.panelOpen?this._handleOpenKeydown(ot):this._handleClosedKeydown(ot))}_handleClosedKeydown(ot){const Tt=ot.keyCode,bi=Tt===nt.JH||Tt===nt.LH||Tt===nt.oh||Tt===nt.SV,bt=Tt===nt.K5||Tt===nt.L_,rn=this._keyManager;if(!rn.isTyping()&&bt&&!(0,nt.Vb)(ot)||(this.multiple||ot.altKey)&&bi)ot.preventDefault(),this.open();else if(!this.multiple){const zn=this.selected;rn.onKeydown(ot);const Hi=this.selected;Hi&&zn!==Hi&&this._liveAnnouncer.announce(Hi.viewValue,1e4)}}_handleOpenKeydown(ot){const Tt=this._keyManager,bi=ot.keyCode,bt=bi===nt.JH||bi===nt.LH,rn=Tt.isTyping();if(bt&&ot.altKey)ot.preventDefault(),this.close();else if(rn||bi!==nt.K5&&bi!==nt.L_||!Tt.activeItem||(0,nt.Vb)(ot))if(!rn&&this._multiple&&bi===nt.A&&ot.ctrlKey){ot.preventDefault();const zn=this.options.some(Hi=>!Hi.disabled&&!Hi.selected);this.options.forEach(Hi=>{Hi.disabled||(zn?Hi.select():Hi.deselect())})}else{const zn=Tt.activeItemIndex;Tt.onKeydown(ot),this._multiple&&bt&&ot.shiftKey&&Tt.activeItem&&Tt.activeItemIndex!==zn&&Tt.activeItem._selectViaInteraction()}else ot.preventDefault(),Tt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ei.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ot){if(this.options.forEach(Tt=>Tt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ot)Array.isArray(ot),ot.forEach(Tt=>this._selectOptionByValue(Tt)),this._sortValues();else{const Tt=this._selectOptionByValue(ot);Tt?this._keyManager.updateActiveItem(Tt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ot){const Tt=this.options.find(bi=>{if(this._selectionModel.isSelected(bi))return!1;try{return null!=bi.value&&this._compareWith(bi.value,ot)}catch{return!1}});return Tt&&this._selectionModel.select(Tt),Tt}_assignValue(ot){return!!(ot!==this._value||this._multiple&&Array.isArray(ot))&&(this.options&&this._setSelectionByValue(ot),this._value=ot,!0)}_skipPredicate(ot){return ot.disabled}_initKeyManager(){this._keyManager=new $e.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ot=(0,ut.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,We.R)(ot)).subscribe(Tt=>{this._onSelect(Tt.source,Tt.isUserInput),Tt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ut.T)(...this.options.map(Tt=>Tt._stateChanges)).pipe((0,We.R)(ot)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ot,Tt){const bi=this._selectionModel.isSelected(ot);null!=ot.value||this._multiple?(bi!==ot.selected&&(ot.selected?this._selectionModel.select(ot):this._selectionModel.deselect(ot)),Tt&&this._keyManager.setActiveItem(ot),this.multiple&&(this._sortValues(),Tt&&this.focus())):(ot.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ot.value)),bi!==this._selectionModel.isSelected(ot)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ot=this.options.toArray();this._selectionModel.sort((Tt,bi)=>this.sortComparator?this.sortComparator(Tt,bi,ot):ot.indexOf(Tt)-ot.indexOf(bi)),this.stateChanges.next()}}_propagateChanges(ot){let Tt=null;Tt=this.multiple?this.selected.map(bi=>bi.value):this.selected?this.selected.value:ot,this._value=Tt,this.valueChange.emit(Tt),this._onChange(Tt),this.selectionChange.emit(this._getChangeEvent(Tt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ot=-1;for(let Tt=0;Tt<this.options.length;Tt++)if(!this.options.get(Tt).disabled){ot=Tt;break}this._keyManager.setActiveItem(ot)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ot){this._elementRef.nativeElement.focus(ot)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ot=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ot?ot+" ":"")+this.ariaLabelledby:ot}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ot=this._parentFormField?.getLabelId();let Tt=(ot?ot+" ":"")+this._valueId;return this.ariaLabelledby&&(Tt+=" "+this.ariaLabelledby),Tt}_panelDoneAnimating(ot){this.openedChange.emit(ot)}setDescribedByIds(ot){ot.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ot.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return qt.\u0275fac=function(ot){return new(ot||qt)(le.Y36(ne.rL),le.Y36(le.sBO),le.Y36(le.R0b),le.Y36(v.rD),le.Y36(le.SBq),le.Y36(Qe.Is,8),le.Y36(Le.F,8),le.Y36(Le.sg,8),le.Y36(Ve.G_,8),le.Y36(Le.a5,10),le.$8M("tabindex"),le.Y36(Rt),le.Y36($e.Kd),le.Y36(Jt,8))},qt.\u0275dir=le.lG2({type:qt,viewQuery:function(ot,Tt){if(1&ot&&(le.Gf(Ft,5),le.Gf(Ot,5),le.Gf(C.pI,5)),2&ot){let bi;le.iGM(bi=le.CRH())&&(Tt.trigger=bi.first),le.iGM(bi=le.CRH())&&(Tt.panel=bi.first),le.iGM(bi=le.CRH())&&(Tt._overlayDir=bi.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[le.qOj,le.TTD]}),qt})(),ft=(()=>{class qt extends pt{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ot=>!this.panelOpen&&ot.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,We.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ot){const Tt=this.options.toArray()[ot];if(Tt){const bi=this.panel.nativeElement,bt=(0,v.CB)(ot,this.options,this.optionGroups),rn=Tt._getHostElement();bi.scrollTop=0===ot&&1===bt?0:(0,v.jH)(rn.offsetTop,rn.offsetHeight,bi.scrollTop,bi.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ot){return new Ne(this,ot)}_getOverlayWidth(ot){return"auto"===this.panelWidth?(ot instanceof C.xu?ot.elementRef:ot||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ot){this._hideSingleSelectionIndicator=(0,Se.Ig)(ot),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ot of this.options)ot._changeDetectorRef.markForCheck()}}return qt.\u0275fac=function(){let gi;return function(Tt){return(gi||(gi=le.n5z(qt)))(Tt||qt)}}(),qt.\u0275cmp=le.Xpm({type:qt,selectors:[["mat-select"]],contentQueries:function(ot,Tt,bi){if(1&ot&&(le.Suo(bi,si,5),le.Suo(bi,v.ey,5),le.Suo(bi,v.K7,5)),2&ot){let bt;le.iGM(bt=le.CRH())&&(Tt.customTrigger=bt.first),le.iGM(bt=le.CRH())&&(Tt.options=bt),le.iGM(bt=le.CRH())&&(Tt.optionGroups=bt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(ot,Tt){1&ot&&le.NdJ("keydown",function(bt){return Tt._handleKeydown(bt)})("focus",function(){return Tt._onFocus()})("blur",function(){return Tt._onBlur()}),2&ot&&(le.uIk("id",Tt.id)("tabindex",Tt.tabIndex)("aria-controls",Tt.panelOpen?Tt.id+"-panel":null)("aria-expanded",Tt.panelOpen)("aria-label",Tt.ariaLabel||null)("aria-required",Tt.required.toString())("aria-disabled",Tt.disabled.toString())("aria-invalid",Tt.errorState)("aria-activedescendant",Tt._getAriaActiveDescendant()),le.ekj("mat-mdc-select-disabled",Tt.disabled)("mat-mdc-select-invalid",Tt.errorState)("mat-mdc-select-required",Tt.required)("mat-mdc-select-empty",Tt.empty)("mat-mdc-select-multiple",Tt.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[le._Bn([{provide:Ve.Eo,useExisting:qt},{provide:v.HF,useExisting:qt}]),le.qOj],ngContentSelectors:qn,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(ot,Tt){if(1&ot&&(le.F$t(Tn),le.TgZ(0,"div",0,1),le.NdJ("click",function(){return Tt.toggle()}),le.TgZ(3,"div",2),le.YNc(4,Bt,2,1,"span",3),le.YNc(5,Fi,3,2,"span",4),le.qZA(),le.TgZ(6,"div",5)(7,"div",6),le.O4$(),le.TgZ(8,"svg",7),le._UZ(9,"path",8),le.qZA()()()(),le.YNc(10,Bi,3,9,"ng-template",9),le.NdJ("backdropClick",function(){return Tt.close()})("attach",function(){return Tt._onAttached()})("detach",function(){return Tt.close()})),2&ot){const bi=le.MAs(1);le.xp6(3),le.Q6J("ngSwitch",Tt.empty),le.uIk("id",Tt._valueId),le.xp6(1),le.Q6J("ngSwitchCase",!0),le.xp6(1),le.Q6J("ngSwitchCase",!1),le.xp6(5),le.Q6J("cdkConnectedOverlayPanelClass",Tt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Tt._scrollStrategy)("cdkConnectedOverlayOrigin",Tt._preferredOverlayOrigin||bi)("cdkConnectedOverlayOpen",Tt.panelOpen)("cdkConnectedOverlayPositions",Tt._positions)("cdkConnectedOverlayWidth",Tt._overlayWidth)}},dependencies:[l.mk,l.RF,l.n9,l.ED,C.pI,C.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[vn.transformPanel]},changeDetection:0}),qt})(),Yt=(()=>{class qt{}return qt.\u0275fac=function(ot){return new(ot||qt)},qt.\u0275mod=le.oAB({type:qt}),qt.\u0275inj=le.cJS({providers:[Dt],imports:[l.ez,C.U8,v.Ng,v.BQ,ne.ZD,Ve.lN,v.Ng,v.BQ]}),qt})()},1274:(yi,_t,H)=>{"use strict";H.d(_t,{Ye:()=>Se,g0:()=>nt});var C=H(5879),l=H(3680),le=H(2831),v=H(6814);const Ve=["*",[["mat-toolbar-row"]]],ne=["*","mat-toolbar-row"],$e=(0,l.pj)(class{constructor(Le){this._elementRef=Le}});let Qe=(()=>{class Le{}return Le.\u0275fac=function(Ke){return new(Ke||Le)},Le.\u0275dir=C.lG2({type:Le,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Le})(),Se=(()=>{class Le extends $e{constructor(Ke,ut,Mt){super(Ke),this._platform=ut,this._document=Mt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Le.\u0275fac=function(Ke){return new(Ke||Le)(C.Y36(C.SBq),C.Y36(le.t4),C.Y36(v.K0))},Le.\u0275cmp=C.Xpm({type:Le,selectors:[["mat-toolbar"]],contentQueries:function(Ke,ut,Mt){if(1&Ke&&C.Suo(Mt,Qe,5),2&Ke){let Vt;C.iGM(Vt=C.CRH())&&(ut._toolbarRows=Vt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ke,ut){2&Ke&&C.ekj("mat-toolbar-multiple-rows",ut._toolbarRows.length>0)("mat-toolbar-single-row",0===ut._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[C.qOj],ngContentSelectors:ne,decls:2,vars:0,template:function(Ke,ut){1&Ke&&(C.F$t(Ve),C.Hsn(0),C.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),Le})(),nt=(()=>{class Le{}return Le.\u0275fac=function(Ke){return new(Ke||Le)},Le.\u0275mod=C.oAB({type:Le}),Le.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]}),Le})()},6593:(yi,_t,H)=>{"use strict";H.d(_t,{Dx:()=>zn,H7:()=>Ei,b2:()=>ot,q6:()=>ft,se:()=>Bt});var C=H(5879),l=H(6814);class le extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends le{static makeCurrent(){(0,l.HT)(new v)}onAndCancel(se,X,he){return se.addEventListener(X,he),()=>{se.removeEventListener(X,he)}}dispatchEvent(se,X){se.dispatchEvent(X)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,X){return(X=X||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,X){return"window"===X?window:"document"===X?se:"body"===X?se.body:null}getBaseHref(se){const X=function ne(){return Ve=Ve||document.querySelector("base"),Ve?Ve.getAttribute("href"):null}();return null==X?null:function Qe(fe){$e=$e||document.createElement("a"),$e.setAttribute("href",fe);const se=$e.pathname;return"/"===se.charAt(0)?se:`/${se}`}(X)}resetBaseElement(){Ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,l.Mx)(document.cookie,se)}}let $e,Ve=null,Be=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function(X){return new(X||fe)},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const nt=new C.OlP("EventManagerPlugins");let Le=(()=>{class fe{constructor(X,he){this._zone=he,this._eventNameToPlugin=new Map,X.forEach(qe=>{qe.manager=this}),this._plugins=X.slice().reverse()}addEventListener(X,he,qe){return this._findPluginFor(he).addEventListener(X,he,qe)}getZone(){return this._zone}_findPluginFor(X){let he=this._eventNameToPlugin.get(X);if(he)return he;if(he=this._plugins.find(lt=>lt.supports(X)),!he)throw new C.vHH(5101,!1);return this._eventNameToPlugin.set(X,he),he}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(nt),C.LFG(C.R0b))},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class tt{constructor(se){this._doc=se}}const Ke="ng-app-id";let ut=(()=>{class fe{constructor(X,he,qe,lt={}){this.doc=X,this.appId=he,this.nonce=qe,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(lt),this.resetHostNodes()}addStyles(X){for(const he of X)1===this.changeUsageCount(he,1)&&this.onStyleAdded(he)}removeStyles(X){for(const he of X)this.changeUsageCount(he,-1)<=0&&this.onStyleRemoved(he)}ngOnDestroy(){const X=this.styleNodesInDOM;X&&(X.forEach(he=>he.remove()),X.clear());for(const he of this.getAllStyles())this.onStyleRemoved(he);this.resetHostNodes()}addHost(X){this.hostNodes.add(X);for(const he of this.getAllStyles())this.addStyleToHost(X,he)}removeHost(X){this.hostNodes.delete(X)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(X){for(const he of this.hostNodes)this.addStyleToHost(he,X)}onStyleRemoved(X){const he=this.styleRef;he.get(X)?.elements?.forEach(qe=>qe.remove()),he.delete(X)}collectServerRenderedStyles(){const X=this.doc.head?.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(X?.length){const he=new Map;return X.forEach(qe=>{null!=qe.textContent&&he.set(qe.textContent,qe)}),he}return null}changeUsageCount(X,he){const qe=this.styleRef;if(qe.has(X)){const lt=qe.get(X);return lt.usage+=he,lt.usage}return qe.set(X,{usage:he,elements:[]}),he}getStyleElement(X,he){const qe=this.styleNodesInDOM,lt=qe?.get(he);if(lt?.parentNode===X)return qe.delete(he),lt.removeAttribute(Ke),lt;{const we=this.doc.createElement("style");return this.nonce&&we.setAttribute("nonce",this.nonce),we.textContent=he,this.platformIsServer&&we.setAttribute(Ke,this.appId),we}}addStyleToHost(X,he){const qe=this.getStyleElement(X,he);X.appendChild(qe);const lt=this.styleRef,we=lt.get(he)?.elements;we?we.push(qe):lt.set(he,{elements:[qe],usage:1})}resetHostNodes(){const X=this.hostNodes;X.clear(),X.add(this.doc.head)}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(l.K0),C.LFG(C.AFp),C.LFG(C.Ojb,8),C.LFG(C.Lbi))},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,We=new C.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ot(fe,se){return se.map(X=>X.replace(Vt,fe))}let Bt=(()=>{class fe{constructor(X,he,qe,lt,we,De,ce,Ee=null){this.eventManager=X,this.sharedStylesHost=he,this.appId=qe,this.removeStylesOnCompDestroy=lt,this.doc=we,this.platformId=De,this.ngZone=ce,this.nonce=Ee,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(De),this.defaultRenderer=new ui(X,we,ce,this.platformIsServer)}createRenderer(X,he){if(!X||!he)return this.defaultRenderer;this.platformIsServer&&he.encapsulation===C.ifc.ShadowDom&&(he={...he,encapsulation:C.ifc.Emulated});const qe=this.getOrCreateRenderer(X,he);return qe instanceof vn?qe.applyToHost(X):qe instanceof qn&&qe.applyStyles(),qe}getOrCreateRenderer(X,he){const qe=this.rendererByCompId;let lt=qe.get(he.id);if(!lt){const we=this.doc,De=this.ngZone,ce=this.eventManager,Ee=this.sharedStylesHost,Xe=this.removeStylesOnCompDestroy,It=this.platformIsServer;switch(he.encapsulation){case C.ifc.Emulated:lt=new vn(ce,Ee,he,this.appId,Xe,we,De,It);break;case C.ifc.ShadowDom:return new Tn(ce,Ee,X,he,we,De,this.nonce,It);default:lt=new qn(ce,Ee,he,Xe,we,De,It)}qe.set(he.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(Le),C.LFG(ut),C.LFG(C.AFp),C.LFG(We),C.LFG(l.K0),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(C.Ojb))},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class ui{constructor(se,X,he,qe){this.eventManager=se,this.doc=X,this.ngZone=he,this.platformIsServer=qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,X){return X?this.doc.createElementNS(Mt[X]||X,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,X){(Bi(se)?se.content:se).appendChild(X)}insertBefore(se,X,he){se&&(Bi(se)?se.content:se).insertBefore(X,he)}removeChild(se,X){se&&se.removeChild(X)}selectRootElement(se,X){let he="string"==typeof se?this.doc.querySelector(se):se;if(!he)throw new C.vHH(-5104,!1);return X||(he.textContent=""),he}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,X,he,qe){if(qe){X=qe+":"+X;const lt=Mt[qe];lt?se.setAttributeNS(lt,X,he):se.setAttribute(X,he)}else se.setAttribute(X,he)}removeAttribute(se,X,he){if(he){const qe=Mt[he];qe?se.removeAttributeNS(qe,X):se.removeAttribute(`${he}:${X}`)}else se.removeAttribute(X)}addClass(se,X){se.classList.add(X)}removeClass(se,X){se.classList.remove(X)}setStyle(se,X,he,qe){qe&(C.JOm.DashCase|C.JOm.Important)?se.style.setProperty(X,he,qe&C.JOm.Important?"important":""):se.style[X]=he}removeStyle(se,X,he){he&C.JOm.DashCase?se.style.removeProperty(X):se.style[X]=""}setProperty(se,X,he){se[X]=he}setValue(se,X){se.nodeValue=X}listen(se,X,he){if("string"==typeof se&&!(se=(0,l.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${X}`);return this.eventManager.addEventListener(se,X,this.decoratePreventDefault(he))}decoratePreventDefault(se){return X=>{if("__ngUnwrap__"===X)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(X)):se(X))&&X.preventDefault()}}}function Bi(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class Tn extends ui{constructor(se,X,he,qe,lt,we,De,ce){super(se,lt,we,ce),this.sharedStylesHost=X,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ee=Ot(qe.id,qe.styles);for(const Xe of Ee){const It=document.createElement("style");De&&It.setAttribute("nonce",De),It.textContent=Xe,this.shadowRoot.appendChild(It)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,X){return super.appendChild(this.nodeOrShadowRoot(se),X)}insertBefore(se,X,he){return super.insertBefore(this.nodeOrShadowRoot(se),X,he)}removeChild(se,X){return super.removeChild(this.nodeOrShadowRoot(se),X)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qn extends ui{constructor(se,X,he,qe,lt,we,De,ce){super(se,lt,we,De),this.sharedStylesHost=X,this.removeStylesOnCompDestroy=qe,this.styles=ce?Ot(ce,he.styles):he.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vn extends qn{constructor(se,X,he,qe,lt,we,De,ce){const Ee=qe+"-"+he.id;super(se,X,he,lt,we,De,ce,Ee),this.contentAttr=function Re(fe){return"_ngcontent-%COMP%".replace(Vt,fe)}(Ee),this.hostAttr=function Ft(fe){return"_nghost-%COMP%".replace(Vt,fe)}(Ee)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,X){const he=super.createElement(se,X);return super.setAttribute(he,this.contentAttr,""),he}}let Fn=(()=>{class fe extends tt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,he,qe){return X.addEventListener(he,qe,!1),()=>this.removeEventListener(X,he,qe)}removeEventListener(X,he,qe){return X.removeEventListener(he,qe)}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(l.K0))},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Pn=["alt","control","meta","shift"],vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let Rt=(()=>{class fe extends tt{constructor(X){super(X)}supports(X){return null!=fe.parseEventName(X)}addEventListener(X,he,qe){const lt=fe.parseEventName(he),we=fe.eventCallback(lt.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(X,lt.domEventName,we))}static parseEventName(X){const he=X.toLowerCase().split("."),qe=he.shift();if(0===he.length||"keydown"!==qe&&"keyup"!==qe)return null;const lt=fe._normalizeKey(he.pop());let we="",De=he.indexOf("code");if(De>-1&&(he.splice(De,1),we="code."),Pn.forEach(Ee=>{const Xe=he.indexOf(Ee);Xe>-1&&(he.splice(Xe,1),we+=Ee+".")}),we+=lt,0!=he.length||0===lt.length)return null;const ce={};return ce.domEventName=qe,ce.fullKey=we,ce}static matchEventFullKeyCode(X,he){let qe=vt[X.key]||X.key,lt="";return he.indexOf("code.")>-1&&(qe=X.code,lt="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),Pn.forEach(we=>{we!==qe&&(0,Ct[we])(X)&&(lt+=we+".")}),lt+=qe,lt===he)}static eventCallback(X,he,qe){return lt=>{fe.matchEventFullKeyCode(lt,X)&&qe.runGuarded(()=>he(lt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(l.K0))},fe.\u0275prov=C.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const ft=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:l.bD},{provide:C.g9A,useValue:function Ne(){v.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function pt(){return(0,C.RDi)(document),document},deps:[]}]),Yt=new C.OlP(""),qt=[{provide:C.rWj,useClass:class Se{addToWindow(se){C.dqk.getAngularTestability=(he,qe=!0)=>{const lt=se.findTestabilityInTree(he,qe);if(null==lt)throw new C.vHH(5103,!1);return lt},C.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(he=>{const qe=C.dqk.getAllAngularTestabilities();let lt=qe.length,we=!1;const De=function(ce){we=we||ce,lt--,0==lt&&he(we)};qe.forEach(ce=>{ce.whenStable(De)})})}findTestabilityInTree(se,X,he){return null==X?null:se.getTestability(X)??(he?(0,l.q)().isShadowRoot(X)?this.findTestabilityInTree(se,X.host,!0):this.findTestabilityInTree(se,X.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],gi=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function st(){return new C.qLn},deps:[]},{provide:nt,useClass:Fn,multi:!0,deps:[l.K0,C.R0b,C.Lbi]},{provide:nt,useClass:Rt,multi:!0,deps:[l.K0]},Bt,ut,Le,{provide:C.FYo,useExisting:Bt},{provide:l.JF,useClass:Be,deps:[]},[]];let ot=(()=>{class fe{constructor(X){}static withServerTransition(X){return{ngModule:fe,providers:[{provide:C.AFp,useValue:X.appId}]}}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(Yt,12))},fe.\u0275mod=C.oAB({type:fe}),fe.\u0275inj=C.cJS({providers:[...gi,...qt],imports:[l.ez,C.hGG]}),fe})(),zn=(()=>{class fe{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(l.K0))},fe.\u0275prov=C.Yz7({token:fe,factory:function(X){let he=null;return he=X?new X:function rn(){return new zn((0,C.LFG)(l.K0))}(),he},providedIn:"root"}),fe})();typeof window<"u"&&window;let Ei=(()=>{class fe{}return fe.\u0275fac=function(X){return new(X||fe)},fe.\u0275prov=C.Yz7({token:fe,factory:function(X){let he=null;return he=X?new(X||fe):C.LFG(Pt),he},providedIn:"root"}),fe})(),Pt=(()=>{class fe extends Ei{constructor(X){super(),this._doc=X}sanitize(X,he){if(null==he)return null;switch(X){case C.q3G.NONE:return he;case C.q3G.HTML:return(0,C.qzn)(he,"HTML")?(0,C.z3N)(he):(0,C.EiD)(this._doc,String(he)).toString();case C.q3G.STYLE:return(0,C.qzn)(he,"Style")?(0,C.z3N)(he):he;case C.q3G.SCRIPT:if((0,C.qzn)(he,"Script"))return(0,C.z3N)(he);throw new C.vHH(5200,!1);case C.q3G.URL:return(0,C.qzn)(he,"URL")?(0,C.z3N)(he):(0,C.mCW)(String(he));case C.q3G.RESOURCE_URL:if((0,C.qzn)(he,"ResourceURL"))return(0,C.z3N)(he);throw new C.vHH(5201,!1);default:throw new C.vHH(5202,!1)}}bypassSecurityTrustHtml(X){return(0,C.JVY)(X)}bypassSecurityTrustStyle(X){return(0,C.L6k)(X)}bypassSecurityTrustScript(X){return(0,C.eBb)(X)}bypassSecurityTrustUrl(X){return(0,C.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,C.pB0)(X)}}return fe.\u0275fac=function(X){return new(X||fe)(C.LFG(l.K0))},fe.\u0275prov=C.Yz7({token:fe,factory:function(X){let he=null;return he=X?new X:function Qi(fe){return new Pt(fe.get(l.K0))}(C.LFG(C.zs3)),he},providedIn:"root"}),fe})()},8184:(yi,_t,H)=>{"use strict";H.d(_t,{gz:()=>Gn,F0:()=>zr,rH:()=>Is,Od:()=>gn,Bz:()=>Ya,lC:()=>Ro});var C=H(5879),l=H(5592),le=H(4674),Ve=H(7715),ne=H(2096),$e=H(5619),Qe=H(2572),Se=H(6973),Be=H(5211),nt=H(4911),Le=H(8407),tt=H(8504),Ke=H(6232),ut=H(7394),Mt=H(9360),Vt=H(8251);function ei(){return(0,Mt.e)((f,b)=>{let y=null;f._refCount++;const S=(0,Vt.x)(b,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(y=null);const k=f._connection,R=y;y=null,k&&(!R||k===R)&&k.unsubscribe(),b.unsubscribe()});f.subscribe(S),S.closed||(y=f.connect())})}class Di extends l.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new ut.w0;const y=this.getSubject();b.add(this.source.subscribe((0,Vt.x)(y,void 0,()=>{this._teardown(),y.complete()},S=>{this._teardown(),y.error(S)},()=>this._teardown()))),b.closed&&(this._connection=null,b=ut.w0.EMPTY)}return b}refCount(){return ei()(this)}}var ti=H(8645),Oe=H(6814),We=H(7398),Re=H(4664),Ft=H(8180),Ot=H(7921),Bt=H(2181),ui=H(1631),fi=H(1374),Fi=H(6328),Bi=H(9397),Tn=H(6306);var Fn=H(3572);function Pn(f){return f<=0?()=>Ke.E:(0,Mt.e)((b,y)=>{let S=[];b.subscribe((0,Vt.x)(y,k=>{S.push(k),f<S.length&&S.shift()},()=>{for(const k of S)y.next(k);y.complete()},void 0,()=>{S=null}))})}var vt=H(3026),Ct=H(2737),zt=H(975),Jt=H(4716),Dt=H(7537),si=H(6593);const Ne="primary",st=Symbol("RouteTitle");class pt{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function ct(f){return new pt(f)}function ft(f,b,y){const S=y.path.split("/");if(S.length>f.length||"full"===y.pathMatch&&(b.hasChildren()||S.length<f.length))return null;const k={};for(let R=0;R<S.length;R++){const B=S[R],te=f[R];if(B.startsWith(":"))k[B.substring(1)]=te;else if(B!==te.path)return null}return{consumed:f.slice(0,S.length),posParams:k}}function qt(f,b){const y=f?Object.keys(f):void 0,S=b?Object.keys(b):void 0;if(!y||!S||y.length!=S.length)return!1;let k;for(let R=0;R<y.length;R++)if(k=y[R],!gi(f[k],b[k]))return!1;return!0}function gi(f,b){if(Array.isArray(f)&&Array.isArray(b)){if(f.length!==b.length)return!1;const y=[...f].sort(),S=[...b].sort();return y.every((k,R)=>S[R]===k)}return f===b}function ot(f){return f.length>0?f[f.length-1]:null}function Tt(f){return function v(f){return!!f&&(f instanceof l.y||(0,le.m)(f.lift)&&(0,le.m)(f.subscribe))}(f)?f:(0,C.QGY)(f)?(0,Ve.D)(Promise.resolve(f)):(0,ne.of)(f)}const bi={exact:function Hi(f,b,y){if(!Ye(f.segments,b.segments)||!Te(f.segments,b.segments,y)||f.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!f.children[S]||!Hi(f.children[S],b.children[S],y))return!1;return!0},subset:wt},bt={exact:function zn(f,b){return qt(f,b)},subset:function Li(f,b){return Object.keys(b).length<=Object.keys(f).length&&Object.keys(b).every(y=>gi(f[y],b[y]))},ignored:()=>!0};function rn(f,b,y){return bi[y.paths](f.root,b.root,y.matrixParams)&&bt[y.queryParams](f.queryParams,b.queryParams)&&!("exact"===y.fragment&&f.fragment!==b.fragment)}function wt(f,b,y){return ue(f,b,b.segments,y)}function ue(f,b,y,S){if(f.segments.length>y.length){const k=f.segments.slice(0,y.length);return!(!Ye(k,y)||b.hasChildren()||!Te(k,y,S))}if(f.segments.length===y.length){if(!Ye(f.segments,y)||!Te(f.segments,y,S))return!1;for(const k in b.children)if(!f.children[k]||!wt(f.children[k],b.children[k],S))return!1;return!0}{const k=y.slice(0,f.segments.length),R=y.slice(f.segments.length);return!!(Ye(f.segments,k)&&Te(f.segments,k,S)&&f.children[Ne])&&ue(f.children[Ne],b,R,S)}}function Te(f,b,y){return b.every((S,k)=>bt[y](f[k].parameters,S.parameters))}class Pe{constructor(b=new Ie([],{}),y={},S=null){this.root=b,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class Ie{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class be{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return V(this)}}function Ye(f,b){return f.length===b.length&&f.every((y,S)=>y.path===b[S].path)}let ii=(()=>{class f{}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return new wi},providedIn:"root"}),f})();class wi{parse(b){const y=new we(b);return new Pe(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${Ci(b.root,!0)}`,S=function ie(f){const b=Object.keys(f).map(y=>{const S=f[y];return Array.isArray(S)?S.map(k=>`${Qi(y)}=${Qi(k)}`).join("&"):`${Qi(y)}=${Qi(S)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${S}${"string"==typeof b.fragment?`#${function Pt(f){return encodeURI(f)}(b.fragment)}`:""}`}}const pi=new wi;function $t(f){return f.segments.map(b=>V(b)).join("/")}function Ci(f,b){if(!f.hasChildren())return $t(f);if(b){const y=f.children[Ne]?Ci(f.children[Ne],!1):"",S=[];return Object.entries(f.children).forEach(([k,R])=>{k!==Ne&&S.push(`${k}:${Ci(R,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function Zt(f,b){let y=[];return Object.entries(f.children).forEach(([S,k])=>{S===Ne&&(y=y.concat(b(k,S)))}),Object.entries(f.children).forEach(([S,k])=>{S!==Ne&&(y=y.concat(b(k,S)))}),y}(f,(S,k)=>k===Ne?[Ci(f.children[Ne],!1)]:[`${k}:${Ci(S,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Ne]?`${$t(f)}/${y[0]}`:`${$t(f)}/(${y.join("//")})`}}function Ei(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qi(f){return Ei(f).replace(/%3B/gi,";")}function Ut(f){return Ei(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Et(f){return decodeURIComponent(f)}function Y(f){return Et(f.replace(/\+/g,"%20"))}function V(f){return`${Ut(f.path)}${function U(f){return Object.keys(f).map(b=>`;${Ut(b)}=${Ut(f[b])}`).join("")}(f.parameters)}`}const de=/^[^\/()?;#]+/;function Me(f){const b=f.match(de);return b?b[0]:""}const fe=/^[^\/()?;=#]+/,X=/^[^=?&#]+/,qe=/^[^&#]+/;class we{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(S[Ne]=new Ie(b,y)),S}parseSegment(){const b=Me(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(b),new be(Et(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function se(f){const b=f.match(fe);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const k=Me(this.remaining);k&&(S=k,this.capture(S))}b[Et(y)]=Et(S)}parseQueryParam(b){const y=function he(f){const b=f.match(X);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const B=function lt(f){const b=f.match(qe);return b?b[0]:""}(this.remaining);B&&(S=B,this.capture(S))}const k=Y(y),R=Y(S);if(b.hasOwnProperty(k)){let B=b[k];Array.isArray(B)||(B=[B],b[k]=B),B.push(R)}else b[k]=R}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Me(this.remaining),k=this.remaining[S.length];if("/"!==k&&")"!==k&&";"!==k)throw new C.vHH(4010,!1);let R;S.indexOf(":")>-1?(R=S.slice(0,S.indexOf(":")),this.capture(R),this.capture(":")):b&&(R=Ne);const B=this.parseChildren();y[R]=1===Object.keys(B).length?B[Ne]:new Ie([],B),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new C.vHH(4011,!1)}}function De(f){return f.segments.length>0?new Ie([],{[Ne]:f}):f}function ce(f){const b={};for(const S of Object.keys(f.children)){const R=ce(f.children[S]);if(S===Ne&&0===R.segments.length&&R.hasChildren())for(const[B,te]of Object.entries(R.children))b[B]=te;else(R.segments.length>0||R.hasChildren())&&(b[S]=R)}return function Ee(f){if(1===f.numberOfChildren&&f.children[Ne]){const b=f.children[Ne];return new Ie(f.segments.concat(b.segments),b.children)}return f}(new Ie(f.segments,b))}function Xe(f){return f instanceof Pe}function Fe(f){let b;const k=De(function y(R){const B={};for(const ae of R.children){const Ce=y(ae);B[ae.outlet]=Ce}const te=new Ie(R.url,B);return R===f&&(b=te),te}(f.root));return b??k}function Ae(f,b,y,S){let k=f;for(;k.parent;)k=k.parent;if(0===b.length)return ci(k,k,k,y,S);const R=function _n(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new di(!0,0,f);let b=0,y=!1;const S=f.reduce((k,R,B)=>{if("object"==typeof R&&null!=R){if(R.outlets){const te={};return Object.entries(R.outlets).forEach(([ae,Ce])=>{te[ae]="string"==typeof Ce?Ce.split("/"):Ce}),[...k,{outlets:te}]}if(R.segmentPath)return[...k,R.segmentPath]}return"string"!=typeof R?[...k,R]:0===B?(R.split("/").forEach((te,ae)=>{0==ae&&"."===te||(0==ae&&""===te?y=!0:".."===te?b++:""!=te&&k.push(te))}),k):[...k,R]},[]);return new di(y,b,S)}(b);if(R.toRoot())return ci(k,k,new Ie([],{}),y,S);const B=function _r(f,b,y){if(f.isAbsolute)return new Yi(b,!0,0);if(!y)return new Yi(b,!1,NaN);if(null===y.parent)return new Yi(y,!0,0);const S=je(f.commands[0])?0:1;return function Mr(f,b,y){let S=f,k=b,R=y;for(;R>k;){if(R-=k,S=S.parent,!S)throw new C.vHH(4005,!1);k=S.segments.length}return new Yi(S,!1,k-R)}(y,y.segments.length-1+S,f.numberOfDoubleDots)}(R,k,f),te=B.processChildren?fn(B.segmentGroup,B.index,R.commands):oo(B.segmentGroup,B.index,R.commands);return ci(k,B.segmentGroup,te,y,S)}function je(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Nt(f){return"object"==typeof f&&null!=f&&f.outlets}function ci(f,b,y,S,k){let B,R={};S&&Object.entries(S).forEach(([ae,Ce])=>{R[ae]=Array.isArray(Ce)?Ce.map(ve=>`${ve}`):`${Ce}`}),B=f===b?y:hi(f,b,y);const te=De(ce(B));return new Pe(te,R,k)}function hi(f,b,y){const S={};return Object.entries(f.children).forEach(([k,R])=>{S[k]=R===b?y:hi(R,b,y)}),new Ie(f.segments,S)}class di{constructor(b,y,S){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=S,b&&S.length>0&&je(S[0]))throw new C.vHH(4003,!1);const k=S.find(Nt);if(k&&k!==ot(S))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yi{constructor(b,y,S){this.segmentGroup=b,this.processChildren=y,this.index=S}}function oo(f,b,y){if(f||(f=new Ie([],{})),0===f.segments.length&&f.hasChildren())return fn(f,b,y);const S=function Ao(f,b,y){let S=0,k=b;const R={match:!1,pathIndex:0,commandIndex:0};for(;k<f.segments.length;){if(S>=y.length)return R;const B=f.segments[k],te=y[S];if(Nt(te))break;const ae=`${te}`,Ce=S<y.length-1?y[S+1]:null;if(k>0&&void 0===ae)break;if(ae&&Ce&&"object"==typeof Ce&&void 0===Ce.outlets){if(!Ms(ae,Ce,B))return R;S+=2}else{if(!Ms(ae,{},B))return R;S++}k++}return{match:!0,pathIndex:k,commandIndex:S}}(f,b,y),k=y.slice(S.commandIndex);if(S.match&&S.pathIndex<f.segments.length){const R=new Ie(f.segments.slice(0,S.pathIndex),{});return R.children[Ne]=new Ie(f.segments.slice(S.pathIndex),f.children),fn(R,0,k)}return S.match&&0===k.length?new Ie(f.segments,{}):S.match&&!f.hasChildren()?On(f,b,y):S.match?fn(f,0,k):On(f,b,y)}function fn(f,b,y){if(0===y.length)return new Ie(f.segments,{});{const S=function ho(f){return Nt(f[0])?f[0].outlets:{[Ne]:f}}(y),k={};if(!S[Ne]&&f.children[Ne]&&1===f.numberOfChildren&&0===f.children[Ne].segments.length){const R=fn(f.children[Ne],b,y);return new Ie(f.segments,R.children)}return Object.entries(S).forEach(([R,B])=>{"string"==typeof B&&(B=[B]),null!==B&&(k[R]=oo(f.children[R],b,B))}),Object.entries(f.children).forEach(([R,B])=>{void 0===S[R]&&(k[R]=B)}),new Ie(f.segments,k)}}function On(f,b,y){const S=f.segments.slice(0,b);let k=0;for(;k<y.length;){const R=y[k];if(Nt(R)){const ae=cn(R.outlets);return new Ie(S,ae)}if(0===k&&je(y[0])){S.push(new be(f.segments[b].path,dr(y[0]))),k++;continue}const B=Nt(R)?R.outlets[Ne]:`${R}`,te=k<y.length-1?y[k+1]:null;B&&te&&je(te)?(S.push(new be(B,dr(te))),k+=2):(S.push(new be(B,{})),k++)}return new Ie(S,{})}function cn(f){const b={};return Object.entries(f).forEach(([y,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(b[y]=On(new Ie([],{}),0,S))}),b}function dr(f){const b={};return Object.entries(f).forEach(([y,S])=>b[y]=`${S}`),b}function Ms(f,b,y){return f==y.path&&qt(b,y.parameters)}const In="imperative";class Bn{constructor(b,y){this.id=b,this.url=y}}class ko extends Bn{constructor(b,y,S="imperative",k=null){super(b,y),this.type=0,this.navigationTrigger=S,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Bn{constructor(b,y,S){super(b,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xi extends Bn{constructor(b,y,S,k){super(b,y),this.reason=S,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends Bn{constructor(b,y,S,k){super(b,y),this.reason=S,this.code=k,this.type=16}}class yr extends Bn{constructor(b,y,S,k){super(b,y),this.error=S,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qn extends Bn{constructor(b,y,S,k){super(b,y),this.urlAfterRedirects=S,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po extends Bn{constructor(b,y,S,k){super(b,y),this.urlAfterRedirects=S,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo extends Bn{constructor(b,y,S,k,R){super(b,y),this.urlAfterRedirects=S,this.state=k,this.shouldActivate=R,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cl extends Bn{constructor(b,y,S,k){super(b,y),this.urlAfterRedirects=S,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ra extends Bn{constructor(b,y,S,k){super(b,y),this.urlAfterRedirects=S,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $a{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class El{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oa{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(b,y,S){this.routerEvent=b,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dr,this.attachRef=null}}let Dr=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const k=this.getOrCreateContext(y);k.outlet=S,this.contexts.set(y,k)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new sa,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class sl{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=Aa(b,this._root);return y?y.children.map(S=>S.value):[]}firstChild(b){const y=Aa(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=Hs(b,this._root);return y.length<2?[]:y[y.length-2].children.map(k=>k.value).filter(k=>k!==b)}pathFromRoot(b){return Hs(b,this._root).map(y=>y.value)}}function Aa(f,b){if(f===b.value)return b;for(const y of b.children){const S=Aa(f,y);if(S)return S}return null}function Hs(f,b){if(f===b.value)return[b];for(const y of b.children){const S=Hs(f,y);if(S.length)return S.unshift(b),S}return[]}class ts{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function aa(f){const b={};return f&&f.children.forEach(y=>b[y.value.outlet]=y),b}class br extends sl{constructor(b,y){super(b),this.snapshot=y,ar(this,b)}toString(){return this.snapshot.toString()}}function Oi(f,b){const y=function mn(f,b){const B=new Sr([],{},{},"",{},Ne,b,null,{});return new Or("",new ts(B,[]))}(0,b),S=new $e.X([new be("",{})]),k=new $e.X({}),R=new $e.X({}),B=new $e.X({}),te=new $e.X(""),ae=new Gn(S,k,B,te,R,Ne,b,y.root);return ae.snapshot=y.root,new br(new ts(ae,[]),y)}class Gn{constructor(b,y,S,k,R,B,te,ae){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=S,this.fragmentSubject=k,this.dataSubject=R,this.outlet=B,this.component=te,this._futureSnapshot=ae,this.title=this.dataSubject?.pipe((0,We.U)(Ce=>Ce[st]))??(0,ne.of)(void 0),this.url=b,this.params=y,this.queryParams=S,this.fragment=k,this.data=R}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(b=>ct(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(b=>ct(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Go(f,b="emptyOnly"){const y=f.pathFromRoot;let S=0;if("always"!==b)for(S=y.length-1;S>=1;){const k=y[S],R=y[S-1];if(k.routeConfig&&""===k.routeConfig.path)S--;else{if(R.component)break;S--}}return function Oo(f){return f.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(S))}class Sr{get title(){return this.data?.[st]}constructor(b,y,S,k,R,B,te,ae,Ce){this.url=b,this.params=y,this.queryParams=S,this.fragment=k,this.data=R,this.outlet=B,this.component=te,this.routeConfig=ae,this._resolve=Ce}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Or extends sl{constructor(b,y){super(y),this.url=b,ar(this,y)}toString(){return Zo(this._root)}}function ar(f,b){b.value._routerState=f,b.children.forEach(y=>ar(f,y))}function Zo(f){const b=f.children.length>0?` { ${f.children.map(Zo).join(", ")} } `:"";return`${f.value}${b}`}function wo(f){if(f.snapshot){const b=f.snapshot,y=f._futureSnapshot;f.snapshot=y,qt(b.queryParams,y.queryParams)||f.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&f.fragmentSubject.next(y.fragment),qt(b.params,y.params)||f.paramsSubject.next(y.params),function Yt(f,b){if(f.length!==b.length)return!1;for(let y=0;y<f.length;++y)if(!qt(f[y],b[y]))return!1;return!0}(b.url,y.url)||f.urlSubject.next(y.url),qt(b.data,y.data)||f.dataSubject.next(y.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function on(f,b){const y=qt(f.params,b.params)&&function et(f,b){return Ye(f,b)&&f.every((y,S)=>qt(y.parameters,b[S].parameters))}(f.url,b.url);return y&&!(!f.parent!=!b.parent)&&(!f.parent||on(f.parent,b.parent))}let Ro=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ne,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(Dr),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb),this.inputBinder=(0,C.f3M)(jr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:k}=y.name;if(S)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new C.vHH(4013,!1);this._activatedRoute=y;const k=this.location,B=y.snapshot.component,te=this.parentContexts.getOrCreateContext(this.name).children,ae=new kn(y,te,k.injector);this.activated=k.createComponent(B,{index:k.length,injector:ae,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275dir=C.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),f})();class kn{constructor(b,y,S){this.route=b,this.childContexts=y,this.parent=S}get(b,y){return b===Gn?this.route:b===Dr?this.childContexts:this.parent.get(b,y)}}const jr=new C.OlP("");let ir=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:S}=y,k=(0,Qe.a)([S.queryParams,S.params,S.data]).pipe((0,Re.w)(([R,B,te],ae)=>(te={...R,...B,...te},0===ae?(0,ne.of)(te):Promise.resolve(te)))).subscribe(R=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(y);const B=(0,C.qFp)(S.component);if(B)for(const{templateName:te}of B.inputs)y.activatedComponentRef.setInput(te,R[te]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,k)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac}),f})();function Ar(f,b,y){if(y&&f.shouldReuseRoute(b.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=b.value;const k=function Wo(f,b,y){return b.children.map(S=>{for(const k of y.children)if(f.shouldReuseRoute(S.value,k.value.snapshot))return Ar(f,S,k);return Ar(f,S)})}(f,b,y);return new ts(S,k)}{if(f.shouldAttach(b.value)){const R=f.retrieve(b.value);if(null!==R){const B=R.route;return B.value._futureSnapshot=b.value,B.children=b.children.map(te=>Ar(f,te)),B}}const S=function us(f){return new Gn(new $e.X(f.url),new $e.X(f.params),new $e.X(f.queryParams),new $e.X(f.fragment),new $e.X(f.data),f.outlet,f.component,f)}(b.value),k=b.children.map(R=>Ar(f,R));return new ts(S,k)}}const la="ngNavigationCancelingError";function is(f,b){const{redirectTo:y,navigationBehaviorOptions:S}=Xe(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,k=Fo(!1,0,b);return k.url=y,k.navigationBehaviorOptions=S,k}function Fo(f,b,y){const S=new Error("NavigationCancelingError: "+(f||""));return S[la]=!0,S.cancellationCode=b,y&&(S.url=y),S}function Kr(f){return hs(f)&&Xe(f.url)}function hs(f){return f&&f[la]}let yn=(()=>{class f{}return f.\u0275fac=function(y){return new(y||f)},f.\u0275cmp=C.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(y,S){1&y&&C._UZ(0,"router-outlet")},dependencies:[Ro],encapsulation:2}),f})();function Jr(f){const b=f.children&&f.children.map(Jr),y=b?{...f,children:b}:{...f};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Ne&&(y.component=yn),y}function nr(f){return f.outlet||Ne}function Hr(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let b=f.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Oa{constructor(b,y,S,k,R){this.routeReuseStrategy=b,this.futureState=y,this.currState=S,this.forwardEvent=k,this.inputBindingEnabled=R}activate(b){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,b),wo(this.futureState.root),this.activateChildRoutes(y,S,b)}deactivateChildRoutes(b,y,S){const k=aa(y);b.children.forEach(R=>{const B=R.value.outlet;this.deactivateRoutes(R,k[B],S),delete k[B]}),Object.values(k).forEach(R=>{this.deactivateRouteAndItsChildren(R,S)})}deactivateRoutes(b,y,S){const k=b.value,R=y?y.value:null;if(k===R)if(k.component){const B=S.getContext(k.outlet);B&&this.deactivateChildRoutes(b,y,B.children)}else this.deactivateChildRoutes(b,y,S);else R&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const S=y.getContext(b.value.outlet),k=S&&b.value.component?S.children:y,R=aa(b);for(const B of Object.keys(R))this.deactivateRouteAndItsChildren(R[B],k);if(S&&S.outlet){const B=S.outlet.detach(),te=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:B,route:b,contexts:te})}}deactivateRouteAndOutlet(b,y){const S=y.getContext(b.value.outlet),k=S&&b.value.component?S.children:y,R=aa(b);for(const B of Object.keys(R))this.deactivateRouteAndItsChildren(R[B],k);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(b,y,S){const k=aa(y);b.children.forEach(R=>{this.activateRoutes(R,k[R.value.outlet],S),this.forwardEvent(new dn(R.value.snapshot))}),b.children.length&&this.forwardEvent(new js(b.value.snapshot))}activateRoutes(b,y,S){const k=b.value,R=y?y.value:null;if(wo(k),k===R)if(k.component){const B=S.getOrCreateContext(k.outlet);this.activateChildRoutes(b,y,B.children)}else this.activateChildRoutes(b,y,S);else if(k.component){const B=S.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const te=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),B.children.onOutletReAttached(te.contexts),B.attachRef=te.componentRef,B.route=te.route.value,B.outlet&&B.outlet.attach(te.componentRef,te.route.value),wo(te.route.value),this.activateChildRoutes(b,null,B.children)}else{const te=Hr(k.snapshot);B.attachRef=null,B.route=k,B.injector=te,B.outlet&&B.outlet.activateWith(k,B.injector),this.activateChildRoutes(b,null,B.children)}}else this.activateChildRoutes(b,null,S)}}class ll{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Ea{constructor(b,y){this.component=b,this.route=y}}function $s(f,b,y){const S=f._root;return ns(S,b?b._root:null,y,[S.value])}function ps(f,b){const y=Symbol(),S=b.get(f,y);return S===y?"function"!=typeof f||(0,C.Z0I)(f)?b.get(f):f:S}function ns(f,b,y,S,k={canDeactivateChecks:[],canActivateChecks:[]}){const R=aa(b);return f.children.forEach(B=>{(function xc(f,b,y,S,k={canDeactivateChecks:[],canActivateChecks:[]}){const R=f.value,B=b?b.value:null,te=y?y.getContext(f.value.outlet):null;if(B&&R.routeConfig===B.routeConfig){const ae=function Tl(f,b,y){if("function"==typeof y)return y(f,b);switch(y){case"pathParamsChange":return!Ye(f.url,b.url);case"pathParamsOrQueryParamsChange":return!Ye(f.url,b.url)||!qt(f.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!on(f,b)||!qt(f.queryParams,b.queryParams);default:return!on(f,b)}}(B,R,R.routeConfig.runGuardsAndResolvers);ae?k.canActivateChecks.push(new ll(S)):(R.data=B.data,R._resolvedData=B._resolvedData),ns(f,b,R.component?te?te.children:null:y,S,k),ae&&te&&te.outlet&&te.outlet.isActivated&&k.canDeactivateChecks.push(new Ea(te.outlet.component,B))}else B&&nn(b,te,k),k.canActivateChecks.push(new ll(S)),ns(f,null,R.component?te?te.children:null:y,S,k)})(B,R[B.value.outlet],y,S.concat([B.value]),k),delete R[B.value.outlet]}),Object.entries(R).forEach(([B,te])=>nn(te,y.getContext(B),k)),k}function nn(f,b,y){const S=aa(f),k=f.value;Object.entries(S).forEach(([R,B])=>{nn(B,k.component?b?b.children.getContext(R):null:b,y)}),y.canDeactivateChecks.push(new Ea(k.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,k))}function an(f){return"function"==typeof f}function xe(f){return f instanceof Se.K||"EmptyError"===f?.name}const jt=Symbol("INITIAL_VALUE");function Ii(){return(0,Re.w)(f=>(0,Qe.a)(f.map(b=>b.pipe((0,Ft.q)(1),(0,Ot.O)(jt)))).pipe((0,We.U)(b=>{for(const y of b)if(!0!==y){if(y===jt)return jt;if(!1===y||y instanceof Pe)return y}return!0}),(0,Bt.h)(b=>b!==jt),(0,Ft.q)(1)))}function Cc(f){return(0,Le.z)((0,Bi.b)(b=>{if(Xe(b))throw is(0,b)}),(0,We.U)(b=>!0===b))}class jo{constructor(b){this.segmentGroup=b||null}}class kr{constructor(b){this.urlTree=b}}function Rn(f){return(0,tt._)(new jo(f))}function cr(f){return(0,tt._)(new kr(f))}class mr{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new C.vHH(4002,!1)}lineralizeSegments(b,y){let S=[],k=y.root;for(;;){if(S=S.concat(k.segments),0===k.numberOfChildren)return(0,ne.of)(S);if(k.numberOfChildren>1||!k.children[Ne])return(0,tt._)(new C.vHH(4e3,!1));k=k.children[Ne]}}applyRedirectCommands(b,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,S)}applyRedirectCreateUrlTree(b,y,S,k){const R=this.createSegmentGroup(b,y.root,S,k);return new Pe(R,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const S={};return Object.entries(b).forEach(([k,R])=>{if("string"==typeof R&&R.startsWith(":")){const te=R.substring(1);S[k]=y[te]}else S[k]=R}),S}createSegmentGroup(b,y,S,k){const R=this.createSegments(b,y.segments,S,k);let B={};return Object.entries(y.children).forEach(([te,ae])=>{B[te]=this.createSegmentGroup(b,ae,S,k)}),new Ie(R,B)}createSegments(b,y,S,k){return y.map(R=>R.path.startsWith(":")?this.findPosParam(b,R,k):this.findOrReturn(R,S))}findPosParam(b,y,S){const k=S[y.path.substring(1)];if(!k)throw new C.vHH(4001,!1);return k}findOrReturn(b,y){let S=0;for(const k of y){if(k.path===b.path)return y.splice(S),k;S++}return b}}const Yn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qo(f,b,y,S,k){const R=cl(f,b,y);return R.matched?(S=function ms(f,b){return f.providers&&!f._injector&&(f._injector=(0,C.MMx)(f.providers,b,`Route: ${f.path}`)),f._injector??b}(b,S),function Wa(f,b,y,S){const k=b.canMatch;if(!k||0===k.length)return(0,ne.of)(!0);const R=k.map(B=>{const te=ps(B,f);return Tt(function K(f){return f&&an(f.canMatch)}(te)?te.canMatch(b,y):f.runInContext(()=>te(b,y)))});return(0,ne.of)(R).pipe(Ii(),Cc())}(S,b,y).pipe((0,We.U)(B=>!0===B?R:{...Yn}))):(0,ne.of)(R)}function cl(f,b,y){if(""===b.path)return"full"===b.pathMatch&&(f.hasChildren()||y.length>0)?{...Yn}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const k=(b.matcher||ft)(y,f,b);if(!k)return{...Yn};const R={};Object.entries(k.posParams??{}).forEach(([te,ae])=>{R[te]=ae.path});const B=k.consumed.length>0?{...R,...k.consumed[k.consumed.length-1].parameters}:R;return{matched:!0,consumedSegments:k.consumed,remainingSegments:y.slice(k.consumed.length),parameters:B,positionalParamSegments:k.posParams??{}}}function Ra(f,b,y,S){return y.length>0&&function Ir(f,b,y){return y.some(S=>fs(f,b,S)&&nr(S)!==Ne)}(f,y,S)?{segmentGroup:new Ie(b,Lo(S,new Ie(y,f.children))),slicedSegments:[]}:0===y.length&&function Al(f,b,y){return y.some(S=>fs(f,b,S))}(f,y,S)?{segmentGroup:new Ie(f.segments,Tr(f,0,y,S,f.children)),slicedSegments:y}:{segmentGroup:new Ie(f.segments,f.children),slicedSegments:y}}function Tr(f,b,y,S,k){const R={};for(const B of S)if(fs(f,y,B)&&!k[nr(B)]){const te=new Ie([],{});R[nr(B)]=te}return{...k,...R}}function Lo(f,b){const y={};y[Ne]=b;for(const S of f)if(""===S.path&&nr(S)!==Ne){const k=new Ie([],{});y[nr(S)]=k}return y}function fs(f,b,y){return(!(f.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class Yo{constructor(b,y,S,k,R,B,te){this.injector=b,this.configLoader=y,this.rootComponentType=S,this.config=k,this.urlTree=R,this.paramsInheritanceStrategy=B,this.urlSerializer=te,this.allowRedirects=!0,this.applyRedirects=new mr(this.urlSerializer,this.urlTree)}noMatchError(b){return new C.vHH(4002,!1)}recognize(){const b=Ra(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Ne).pipe((0,Tn.K)(y=>{if(y instanceof kr)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof jo?this.noMatchError(y):y}),(0,We.U)(y=>{const S=new Sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ne,this.rootComponentType,null,{}),k=new ts(S,y),R=new Or("",k),B=function It(f,b,y=null,S=null){return Ae(Fe(f),b,y,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return B.queryParams=this.urlTree.queryParams,R.url=this.urlSerializer.serialize(B),this.inheritParamsAndData(R._root),{state:R,tree:B}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,Ne).pipe((0,Tn.K)(S=>{throw S instanceof jo?this.noMatchError(S):S}))}inheritParamsAndData(b){const y=b.value,S=Go(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),b.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(b,y,S,k){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,y,S):this.processSegment(b,y,S,S.segments,k,!0)}processChildren(b,y,S){const k=[];for(const R of Object.keys(S.children))"primary"===R?k.unshift(R):k.push(R);return(0,Ve.D)(k).pipe((0,Fi.b)(R=>{const B=S.children[R],te=function so(f,b){const y=f.filter(S=>nr(S)===b);return y.push(...f.filter(S=>nr(S)!==b)),y}(y,R);return this.processSegmentGroup(b,te,B,R)}),function vn(f,b){return(0,Mt.e)(function qn(f,b,y,S,k){return(R,B)=>{let te=y,ae=b,Ce=0;R.subscribe((0,Vt.x)(B,ve=>{const rt=Ce++;ae=te?f(ae,ve,rt):(te=!0,ve),S&&B.next(ae)},k&&(()=>{te&&B.next(ae),B.complete()})))}}(f,b,arguments.length>=2,!0))}((R,B)=>(R.push(...B),R)),(0,Fn.d)(null),function Rt(f,b){const y=arguments.length>=2;return S=>S.pipe(f?(0,Bt.h)((k,R)=>f(k,R,S)):Ct.y,Pn(1),y?(0,Fn.d)(b):(0,vt.T)(()=>new Se.K))}(),(0,ui.z)(R=>{if(null===R)return Rn(S);const B=Ts(R);return function rs(f){f.sort((b,y)=>b.value.outlet===Ne?-1:y.value.outlet===Ne?1:b.value.outlet.localeCompare(y.value.outlet))}(B),(0,ne.of)(B)}))}processSegment(b,y,S,k,R,B){return(0,Ve.D)(y).pipe((0,Fi.b)(te=>this.processSegmentAgainstRoute(te._injector??b,y,te,S,k,R,B).pipe((0,Tn.K)(ae=>{if(ae instanceof jo)return(0,ne.of)(null);throw ae}))),(0,fi.P)(te=>!!te),(0,Tn.K)(te=>{if(xe(te))return function kl(f,b,y){return 0===b.length&&!f.children[y]}(S,k,R)?(0,ne.of)([]):Rn(S);throw te}))}processSegmentAgainstRoute(b,y,S,k,R,B,te){return function Qr(f,b,y,S){return!!(nr(f)===S||S!==Ne&&fs(b,y,f))&&("**"===f.path||cl(b,f,y).matched)}(S,k,R,B)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(b,k,S,R,B,te):te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,k,y,S,R,B):Rn(k):Rn(k)}expandSegmentAgainstRouteUsingRedirect(b,y,S,k,R,B){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,k,B):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,k,R,B)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,S,k){const R=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?cr(R):this.applyRedirects.lineralizeSegments(S,R).pipe((0,ui.z)(B=>{const te=new Ie(B,{});return this.processSegment(b,y,te,B,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,k,R,B){const{matched:te,consumedSegments:ae,remainingSegments:Ce,positionalParamSegments:ve}=cl(y,k,R);if(!te)return Rn(y);const rt=this.applyRedirects.applyRedirectCommands(ae,k.redirectTo,ve);return k.redirectTo.startsWith("/")?cr(rt):this.applyRedirects.lineralizeSegments(k,rt).pipe((0,ui.z)(xt=>this.processSegment(b,S,y,xt.concat(Ce),B,!1)))}matchSegmentAgainstRoute(b,y,S,k,R,B){let te;if("**"===S.path){const ae=k.length>0?ot(k).parameters:{},Ce=new Sr(k,ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eo(S),nr(S),S.component??S._loadedComponent??null,S,ul(S));te=(0,ne.of)({snapshot:Ce,consumedSegments:[],remainingSegments:[]}),y.children={}}else te=qo(y,S,k,b).pipe((0,We.U)(({matched:ae,consumedSegments:Ce,remainingSegments:ve,parameters:rt})=>ae?{snapshot:new Sr(Ce,rt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eo(S),nr(S),S.component??S._loadedComponent??null,S,ul(S)),consumedSegments:Ce,remainingSegments:ve}:null));return te.pipe((0,Re.w)(ae=>null===ae?Rn(y):this.getChildConfig(b=S._injector??b,S,k).pipe((0,Re.w)(({routes:Ce})=>{const ve=S._loadedInjector??b,{snapshot:rt,consumedSegments:xt,remainingSegments:Ge}=ae,{segmentGroup:dt,slicedSegments:kt}=Ra(y,xt,Ge,Ce);if(0===kt.length&&dt.hasChildren())return this.processChildren(ve,Ce,dt).pipe((0,We.U)(Gt=>null===Gt?null:[new ts(rt,Gt)]));if(0===Ce.length&&0===kt.length)return(0,ne.of)([new ts(rt,[])]);const Lt=nr(S)===R;return this.processSegment(ve,Ce,dt,kt,Lt?Ne:R,!0).pipe((0,We.U)(Gt=>[new ts(rt,Gt)]))}))))}getChildConfig(b,y,S){return y.children?(0,ne.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,ne.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function hd(f,b,y,S){const k=b.canLoad;if(void 0===k||0===k.length)return(0,ne.of)(!0);const R=k.map(B=>{const te=ps(B,f);return Tt(function Il(f){return f&&an(f.canLoad)}(te)?te.canLoad(b,y):f.runInContext(()=>te(b,y)))});return(0,ne.of)(R).pipe(Ii(),Cc())}(b,y,S).pipe((0,ui.z)(k=>k?this.configLoader.loadChildren(b,y).pipe((0,Bi.b)(R=>{y._loadedRoutes=R.routes,y._loadedInjector=R.injector})):function Ss(f){return(0,tt._)(Fo(!1,3))}())):(0,ne.of)({routes:[],injector:b})}}function Ko(f){const b=f.value.routeConfig;return b&&""===b.path}function Ts(f){const b=[],y=new Set;for(const S of f){if(!Ko(S)){b.push(S);continue}const k=b.find(R=>S.value.routeConfig===R.value.routeConfig);void 0!==k?(k.children.push(...S.children),y.add(k)):b.push(S)}for(const S of y){const k=Ts(S.children);b.push(new ts(S.value,k))}return b.filter(S=>!y.has(S))}function eo(f){return f.data||{}}function ul(f){return f.resolve||{}}function Xo(f){return"string"==typeof f.title||null===f.title}function er(f){return(0,Re.w)(b=>{const y=f(b);return y?(0,Ve.D)(y).pipe((0,We.U)(()=>b)):(0,ne.of)(b)})}const No=new C.OlP("ROUTES");let F=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,ne.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=Tt(y.loadComponent()).pipe((0,We.U)(Z),(0,Bi.b)(R=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=R}),(0,Jt.x)(()=>{this.componentLoaders.delete(y)})),k=new Di(S,()=>new ti.x).pipe(ei());return this.componentLoaders.set(y,k),k}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ne.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const R=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,We.U)(te=>{this.onLoadEndListener&&this.onLoadEndListener(S);let ae,Ce;return Array.isArray(te)?Ce=te:(ae=te.create(y).injector,Ce=ae.get(No,[],C.XFs.Self|C.XFs.Optional).flat()),{routes:Ce.map(Jr),injector:ae}}),(0,Jt.x)(()=>{this.childrenLoaders.delete(S)})),B=new Di(R,()=>new ti.x).pipe(ei());return this.childrenLoaders.set(S,B),B}loadModuleFactoryOrRoutes(y){return Tt(y()).pipe((0,We.U)(Z),(0,ui.z)(S=>S instanceof C.YKP||Array.isArray(S)?(0,ne.of)(S):(0,Ve.D)(this.compiler.compileModuleAsync(S))))}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Z(f){return function ee(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let me=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ti.x,this.configLoader=(0,C.f3M)(F),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(ii),this.rootContexts=(0,C.f3M)(Dr),this.inputBindingEnabled=null!==(0,C.f3M)(jr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new El(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new $a(k))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:S})}setupNavigations(y){return this.transitions=new $e.X({id:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:In,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Bt.h)(S=>0!==S.id),(0,We.U)(S=>({...S,extractedUrl:y.urlHandlingStrategy.extract(S.rawUrl)})),(0,Re.w)(S=>{let k=!1,R=!1;return(0,ne.of)(S).pipe((0,Bi.b)(B=>{this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Re.w)(B=>{const te=y.browserUrlTree.toString(),ae=!y.navigated||B.extractedUrl.toString()!==te||te!==y.currentUrlTree.toString();if(!ae&&"reload"!==(B.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const ve="";return this.events.next(new Uo(B.id,y.serializeUrl(S.rawUrl),ve,0)),y.rawUrlTree=B.rawUrl,B.resolve(null),Ke.E}if(y.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return Ue(B.source)&&(y.browserUrlTree=B.extractedUrl),(0,ne.of)(B).pipe((0,Re.w)(ve=>{const rt=this.transitions?.getValue();return this.events.next(new ko(ve.id,this.urlSerializer.serialize(ve.extractedUrl),ve.source,ve.restoredState)),rt!==this.transitions?.getValue()?Ke.E:Promise.resolve(ve)}),function qa(f,b,y,S,k,R){return(0,ui.z)(B=>function Kl(f,b,y,S,k,R,B="emptyOnly"){return new Yo(f,b,y,S,k,B,R).recognize()}(f,b,y,S,B.extractedUrl,k,R).pipe((0,We.U)(({state:te,tree:ae})=>({...B,targetSnapshot:te,urlAfterRedirects:ae}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Bi.b)(ve=>{if(S.targetSnapshot=ve.targetSnapshot,S.urlAfterRedirects=ve.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ve.urlAfterRedirects},"eager"===y.urlUpdateStrategy){if(!ve.extras.skipLocationChange){const xt=y.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl);y.setBrowserUrl(xt,ve)}y.browserUrlTree=ve.urlAfterRedirects}const rt=new Qn(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(rt)}));if(ae&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:ve,extractedUrl:rt,source:xt,restoredState:Ge,extras:dt}=B,kt=new ko(ve,this.urlSerializer.serialize(rt),xt,Ge);this.events.next(kt);const Lt=Oi(0,this.rootComponentType).snapshot;return S={...B,targetSnapshot:Lt,urlAfterRedirects:rt,extras:{...dt,skipLocationChange:!1,replaceUrl:!1}},(0,ne.of)(S)}{const ve="";return this.events.next(new Uo(B.id,y.serializeUrl(S.extractedUrl),ve,1)),y.rawUrlTree=B.rawUrl,B.resolve(null),Ke.E}}),(0,Bi.b)(B=>{const te=new Po(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(te)}),(0,We.U)(B=>S={...B,guards:$s(B.targetSnapshot,B.currentSnapshot,this.rootContexts)}),function $r(f,b){return(0,ui.z)(y=>{const{targetSnapshot:S,currentSnapshot:k,guards:{canActivateChecks:R,canDeactivateChecks:B}}=y;return 0===B.length&&0===R.length?(0,ne.of)({...y,guardsResult:!0}):function fo(f,b,y,S){return(0,Ve.D)(f).pipe((0,ui.z)(k=>function Yd(f,b,y,S,k){const R=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!R||0===R.length)return(0,ne.of)(!0);const B=R.map(te=>{const ae=Hr(b)??k,Ce=ps(te,ae);return Tt(function Ga(f){return f&&an(f.canDeactivate)}(Ce)?Ce.canDeactivate(f,b,y,S):ae.runInContext(()=>Ce(f,b,y,S))).pipe((0,fi.P)())});return(0,ne.of)(B).pipe(Ii())}(k.component,k.route,y,b,S)),(0,fi.P)(k=>!0!==k,!0))}(B,S,k,f).pipe((0,ui.z)(te=>te&&function Ln(f){return"boolean"==typeof f}(te)?function Gs(f,b,y,S){return(0,Ve.D)(b).pipe((0,Fi.b)(k=>(0,Be.z)(function Za(f,b){return null!==f&&b&&b(new oa(f)),(0,ne.of)(!0)}(k.route.parent,S),function ca(f,b){return null!==f&&b&&b(new Ds(f)),(0,ne.of)(!0)}(k.route,S),function Yl(f,b,y){const S=b[b.length-1],R=b.slice(0,b.length-1).reverse().map(B=>function Sl(f){const b=f.routeConfig?f.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:f,guards:b}:null}(B)).filter(B=>null!==B).map(B=>(0,nt.P)(()=>{const te=B.guards.map(ae=>{const Ce=Hr(B.node)??y,ve=ps(ae,Ce);return Tt(function hr(f){return f&&an(f.canActivateChild)}(ve)?ve.canActivateChild(S,f):Ce.runInContext(()=>ve(S,f))).pipe((0,fi.P)())});return(0,ne.of)(te).pipe(Ii())}));return(0,ne.of)(R).pipe(Ii())}(f,k.path,y),function wc(f,b,y){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ne.of)(!0);const k=S.map(R=>(0,nt.P)(()=>{const B=Hr(b)??y,te=ps(R,B);return Tt(function lr(f){return f&&an(f.canActivate)}(te)?te.canActivate(b,f):B.runInContext(()=>te(b,f))).pipe((0,fi.P)())}));return(0,ne.of)(k).pipe(Ii())}(f,k.route,y))),(0,fi.P)(k=>!0!==k,!0))}(S,R,f,b):(0,ne.of)(te)),(0,We.U)(te=>({...y,guardsResult:te})))})}(this.environmentInjector,B=>this.events.next(B)),(0,Bi.b)(B=>{if(S.guardsResult=B.guardsResult,Xe(B.guardsResult))throw is(0,B.guardsResult);const te=new xo(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(te)}),(0,Bt.h)(B=>!!B.guardsResult||(y.restoreHistory(B),this.cancelNavigationTransition(B,"",3),!1)),er(B=>{if(B.guards.canActivateChecks.length)return(0,ne.of)(B).pipe((0,Bi.b)(te=>{const ae=new Cl(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(ae)}),(0,Re.w)(te=>{let ae=!1;return(0,ne.of)(te).pipe(function Xl(f,b){return(0,ui.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:k}}=y;if(!k.length)return(0,ne.of)(y);let R=0;return(0,Ve.D)(k).pipe((0,Fi.b)(B=>function Pl(f,b,y,S){const k=f.routeConfig,R=f._resolve;return void 0!==k?.title&&!Xo(k)&&(R[st]=k.title),function da(f,b,y,S){const k=function to(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===k.length)return(0,ne.of)({});const R={};return(0,Ve.D)(k).pipe((0,ui.z)(B=>function qc(f,b,y,S){const k=Hr(b)??S,R=ps(f,k);return Tt(R.resolve?R.resolve(b,y):k.runInContext(()=>R(b,y)))}(f[B],b,y,S).pipe((0,fi.P)(),(0,Bi.b)(te=>{R[B]=te}))),Pn(1),(0,zt.h)(R),(0,Tn.K)(B=>xe(B)?Ke.E:(0,tt._)(B)))}(R,f,b,S).pipe((0,We.U)(B=>(f._resolvedData=B,f.data=Go(f,y).resolve,k&&Xo(k)&&(f.data[st]=k.title),null)))}(B.route,S,f,b)),(0,Bi.b)(()=>R++),Pn(1),(0,ui.z)(B=>R===k.length?(0,ne.of)(y):Ke.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Bi.b)({next:()=>ae=!0,complete:()=>{ae||(y.restoreHistory(te),this.cancelNavigationTransition(te,"",2))}}))}),(0,Bi.b)(te=>{const ae=new ra(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(ae)}))}),er(B=>{const te=ae=>{const Ce=[];ae.routeConfig?.loadComponent&&!ae.routeConfig._loadedComponent&&Ce.push(this.configLoader.loadComponent(ae.routeConfig).pipe((0,Bi.b)(ve=>{ae.component=ve}),(0,We.U)(()=>{})));for(const ve of ae.children)Ce.push(...te(ve));return Ce};return(0,Qe.a)(te(B.targetSnapshot.root)).pipe((0,Fn.d)(),(0,Ft.q)(1))}),er(()=>this.afterPreactivation()),(0,We.U)(B=>{const te=function Rr(f,b,y){const S=Ar(f,b._root,y?y._root:void 0);return new br(S,b)}(y.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return S={...B,targetRouterState:te}}),(0,Bi.b)(B=>{y.currentUrlTree=B.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),y.routerState=B.targetRouterState,"deferred"===y.urlUpdateStrategy&&(B.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,B),y.browserUrlTree=B.urlAfterRedirects)}),((f,b,y,S)=>(0,We.U)(k=>(new Oa(b,k.targetRouterState,k.currentRouterState,y,S).activate(f),k)))(this.rootContexts,y.routeReuseStrategy,B=>this.events.next(B),this.inputBindingEnabled),(0,Ft.q)(1),(0,Bi.b)({next:B=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Ur(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{k=!0}}),(0,Jt.x)(()=>{k||R||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),(0,Tn.K)(B=>{if(R=!0,hs(B)){Kr(B)||(y.navigated=!0,y.restoreHistory(S,!0));const te=new Xi(S.id,this.urlSerializer.serialize(S.extractedUrl),B.message,B.cancellationCode);if(this.events.next(te),Kr(B)){const ae=y.urlHandlingStrategy.merge(B.url,y.rawUrlTree),Ce={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Ue(S.source)};y.scheduleNavigation(ae,In,null,Ce,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{y.restoreHistory(S,!0);const te=new yr(S.id,this.urlSerializer.serialize(S.extractedUrl),B,S.targetSnapshot??void 0);this.events.next(te);try{S.resolve(y.errorHandler(B))}catch(ae){S.reject(ae)}}return Ke.E}))}))}cancelNavigationTransition(y,S,k){const R=new Xi(y.id,this.urlSerializer.serialize(y.extractedUrl),S,k);this.events.next(R),y.resolve(!1)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Ue(f){return f!==In}let it=(()=>{class f{buildTitle(y){let S,k=y.root;for(;void 0!==k;)S=this.getResolvedTitleForRoute(k)??S,k=k.children.find(R=>R.outlet===Ne);return S}getResolvedTitleForRoute(y){return y.data[st]}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(Wt)},providedIn:"root"}),f})(),Wt=(()=>{class f extends it{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}}return f.\u0275fac=function(y){return new(y||f)(C.LFG(si.Dx))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Vi=(()=>{class f{}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(Vn)},providedIn:"root"}),f})();class Kn{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let Vn=(()=>{class f extends Kn{}return f.\u0275fac=function(){let b;return function(S){return(b||(b=C.n5z(f)))(S||f)}}(),f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Qt=new C.OlP("",{providedIn:"root",factory:()=>({})});let Dn=(()=>{class f{}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(Lr)},providedIn:"root"}),f})(),Lr=(()=>{class f{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var Jn=function(f){return f[f.COMPLETE=0]="COMPLETE",f[f.FAILED=1]="FAILED",f[f.REDIRECTING=2]="REDIRECTING",f}(Jn||{});function Nr(f,b){f.events.pipe((0,Bt.h)(y=>y instanceof Ur||y instanceof Xi||y instanceof yr||y instanceof Uo),(0,We.U)(y=>y instanceof Ur||y instanceof Uo?Jn.COMPLETE:y instanceof Xi&&(0===y.code||1===y.code)?Jn.REDIRECTING:Jn.FAILED),(0,Bt.h)(y=>y!==Jn.REDIRECTING),(0,Ft.q)(1)).subscribe(()=>{b()})}function ua(f){throw f}function Ji(f,b,y){return b.parse("/")}const ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this.options=(0,C.f3M)(Qt,{optional:!0})||{},this.pendingTasks=(0,C.f3M)(C.HDt),this.errorHandler=this.options.errorHandler||ua,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ji,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(Dn),this.routeReuseStrategy=(0,C.f3M)(Vi),this.titleStrategy=(0,C.f3M)(it),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.f3M)(No,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.f3M)(me),this.urlSerializer=(0,C.f3M)(ii),this.location=(0,C.f3M)(Oe.Ye),this.componentInputBindingEnabled=!!(0,C.f3M)(jr,{optional:!0}),this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Oi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),In,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,k){const R={replaceUrl:!0},B=k?.navigationId?k:null;if(k){const ae={...k};delete ae.navigationId,delete ae.\u0275routerPageId,0!==Object.keys(ae).length&&(R.state=ae)}const te=this.parseUrl(y);this.scheduleNavigation(te,S,B,R)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,S={}){const{relativeTo:k,queryParams:R,fragment:B,queryParamsHandling:te,preserveFragment:ae}=S,Ce=ae?this.currentUrlTree.fragment:B;let rt,ve=null;switch(te){case"merge":ve={...this.currentUrlTree.queryParams,...R};break;case"preserve":ve=this.currentUrlTree.queryParams;break;default:ve=R||null}null!==ve&&(ve=this.removeEmptyProps(ve));try{rt=Fe(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),rt=this.currentUrlTree.root}return Ae(rt,y,ve,Ce??null)}navigateByUrl(y,S={skipLocationChange:!1}){const k=Xe(y)?y:this.parseUrl(y),R=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(R,In,null,S)}navigate(y,S={skipLocationChange:!1}){return function ma(f){for(let b=0;b<f.length;b++)if(null==f[b])throw new C.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(k){S=this.malformedUriErrorHandler(k,this.urlSerializer,y)}return S}isActive(y,S){let k;if(k=!0===S?{...ha}:!1===S?{...Zs}:S,Xe(y))return rn(this.currentUrlTree,y,k);const R=this.parseUrl(y);return rn(this.currentUrlTree,R,k)}removeEmptyProps(y){return Object.keys(y).reduce((S,k)=>{const R=y[k];return null!=R&&(S[k]=R),S},{})}scheduleNavigation(y,S,k,R,B){if(this.disposed)return Promise.resolve(!1);let te,ae,Ce;B?(te=B.resolve,ae=B.reject,Ce=B.promise):Ce=new Promise((rt,xt)=>{te=rt,ae=xt});const ve=this.pendingTasks.add();return Nr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ve))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:R,resolve:te,reject:ae,promise:Ce,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ce.catch(rt=>Promise.reject(rt))}setBrowserUrl(y,S){const k=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(k)||S.extras.replaceUrl){const B={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(k,"",B)}else{const R={...S.extras.state,...this.generateNgRouterState(S.id,(this.browserPageId??0)+1)};this.location.go(k,"",R)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){const R=this.currentPageId-(this.browserPageId??this.currentPageId);0!==R?this.location.historyGo(R):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===R&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Is=(()=>{class f{constructor(y,S,k,R,B,te){this.router=y,this.route=S,this.tabIndexAttribute=k,this.renderer=R,this.el=B,this.locationStrategy=te,this.href=null,this.commands=null,this.onChanges=new ti.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ae=B.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ae||"area"===ae,this.isAnchorElement?this.subscription=y.events.subscribe(Ce=>{Ce instanceof Ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,k,R,B){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||k||R||B||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,C.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,S){const k=this.renderer,R=this.el.nativeElement;null!==S?k.setAttribute(R,y,S):k.removeAttribute(R,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(y){return new(y||f)(C.Y36(zr),C.Y36(Gn),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Oe.S$))},f.\u0275dir=C.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,S){1&y&&C.NdJ("click",function(R){return S.onClick(R.button,R.ctrlKey,R.shiftKey,R.altKey,R.metaKey)}),2&y&&C.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",C.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",C.VuI],replaceUrl:["replaceUrl","replaceUrl",C.VuI],routerLink:"routerLink"},standalone:!0,features:[C.Xq5,C.TTD]}),f})(),gn=(()=>{class f{get isActive(){return this._isActive}constructor(y,S,k,R,B){this.router=y,this.element=S,this.renderer=k,this.cdr=R,this.link=B,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new C.vpe,this.routerEventsSubscription=y.events.subscribe(te=>{te instanceof Ur&&this.update()})}ngAfterContentInit(){(0,ne.of)(this.links.changes,(0,ne.of)(null)).pipe((0,Dt.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(S=>!!S).map(S=>S.onChanges);this.linkInputChangesSubscription=(0,Ve.D)(y).pipe((0,Dt.J)()).subscribe(S=>{this._isActive!==this.isLinkActive(this.router)(S)&&this.update()})}set routerLinkActive(y){const S=Array.isArray(y)?y:y.split(" ");this.classes=S.filter(k=>!!k)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.classes.forEach(S=>{y?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const S=function go(f){return!!f.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&y.isActive(k.urlTree,S)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}}return f.\u0275fac=function(y){return new(y||f)(C.Y36(zr),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(C.sBO),C.Y36(Is,8))},f.\u0275dir=C.lG2({type:f,selectors:[["","routerLinkActive",""]],contentQueries:function(y,S,k){if(1&y&&C.Suo(k,Is,5),2&y){let R;C.iGM(R=C.CRH())&&(S.links=R)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[C.TTD]}),f})();class Ws{}let Yc=(()=>{class f{constructor(y,S,k,R,B){this.router=y,this.injector=k,this.preloadingStrategy=R,this.loader=B}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bt.h)(y=>y instanceof Ur),(0,Fi.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const k=[];for(const R of S){R.providers&&!R._injector&&(R._injector=(0,C.MMx)(R.providers,y,`Route: ${R.path}`));const B=R._injector??y,te=R._loadedInjector??B;(R.loadChildren&&!R._loadedRoutes&&void 0===R.canLoad||R.loadComponent&&!R._loadedComponent)&&k.push(this.preloadConfig(B,R)),(R.children||R._loadedRoutes)&&k.push(this.processRoutes(te,R.children??R._loadedRoutes))}return(0,Ve.D)(k).pipe((0,Dt.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let k;k=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,ne.of)(null);const R=k.pipe((0,ui.z)(B=>null===B?(0,ne.of)(void 0):(S._loadedRoutes=B.routes,S._loadedInjector=B.injector,this.processRoutes(B.injector??y,B.routes))));if(S.loadComponent&&!S._loadedComponent){const B=this.loader.loadComponent(S);return(0,Ve.D)([R,B]).pipe((0,Dt.J)())}return R})}}return f.\u0275fac=function(y){return new(y||f)(C.LFG(zr),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(Ws),C.LFG(F))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const gs=new C.OlP("");let oi=(()=>{class f{constructor(y,S,k,R,B={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=k,this.zone=R,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ur?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Uo&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof vr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return f.\u0275fac=function(y){C.$Z()},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac}),f})();function As(f,b){return{\u0275kind:f,\u0275providers:b}}function Fa(){const f=(0,C.f3M)(C.zs3);return b=>{const y=f.get(C.z2F);if(b!==y.components[0])return;const S=f.get(zr),k=f.get(ks);1===f.get(Rl)&&S.initialNavigation(),f.get(Ps,null,C.XFs.Optional)?.setUpPreloading(),f.get(gs,null,C.XFs.Optional)?.init(),S.resetRootComponentType(y.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const ks=new C.OlP("",{factory:()=>new ti.x}),Rl=new C.OlP("",{providedIn:"root",factory:()=>1}),Ps=new C.OlP("");function pa(f){return As(0,[{provide:Ps,useExisting:Yc},{provide:Ws,useExisting:f}])}const xr=new C.OlP("ROUTER_FORROOT_GUARD"),wr=[Oe.Ye,{provide:ii,useClass:wi},zr,Dr,{provide:Gn,useFactory:function pr(f){return f.routerState.root},deps:[zr]},F,[]];function Sc(){return new C.PXZ("Router",zr)}let Ya=(()=>{class f{constructor(y){}static forRoot(y,S){return{ngModule:f,providers:[wr,[],{provide:No,multi:!0,useValue:y},{provide:xr,useFactory:Fl,deps:[[zr,new C.FiY,new C.tp0]]},{provide:Qt,useValue:S||{}},S?.useHash?{provide:Oe.S$,useClass:Oe.Do}:{provide:Oe.S$,useClass:Oe.b0},{provide:gs,useFactory:()=>{const f=(0,C.f3M)(Oe.EM),b=(0,C.f3M)(C.R0b),y=(0,C.f3M)(Qt),S=(0,C.f3M)(me),k=(0,C.f3M)(ii);return y.scrollOffset&&f.setOffset(y.scrollOffset),new oi(k,S,f,b,y)}},S?.preloadingStrategy?pa(S.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:Sc},S?.initialNavigation?Ll(S):[],S?.bindToComponentInputs?As(8,[ir,{provide:jr,useExisting:ir}]).\u0275providers:[],[{provide:tc,useFactory:Fa},{provide:C.tb,multi:!0,useExisting:tc}]]}}static forChild(y){return{ngModule:f,providers:[{provide:No,multi:!0,useValue:y}]}}}return f.\u0275fac=function(y){return new(y||f)(C.LFG(xr,8))},f.\u0275mod=C.oAB({type:f}),f.\u0275inj=C.cJS({}),f})();function Fl(f){return"guarded"}function Ll(f){return["disabled"===f.initialNavigation?As(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const b=(0,C.f3M)(zr);return()=>{b.setUpLocationChangeListener()}}},{provide:Rl,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?As(2,[{provide:Rl,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:b=>{const y=b.get(Oe.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const k=b.get(zr),R=b.get(ks);Nr(k,()=>{S(!0)}),b.get(me).afterPreactivation=()=>(S(!0),R.closed?(0,ne.of)(void 0):R),k.initialNavigation()}))}}]).\u0275providers:[]]}const tc=new C.OlP("")},7582:(yi,_t,H)=>{"use strict";function Le(vt,Ct,Rt,zt){return new(Rt||(Rt=Promise))(function(Dt,si){function Ne(ct){try{pt(zt.next(ct))}catch(ft){si(ft)}}function st(ct){try{pt(zt.throw(ct))}catch(ft){si(ft)}}function pt(ct){ct.done?Dt(ct.value):function Jt(Dt){return Dt instanceof Rt?Dt:new Rt(function(si){si(Dt)})}(ct.value).then(Ne,st)}pt((zt=zt.apply(vt,Ct||[])).next())})}function Oe(vt){return this instanceof Oe?(this.v=vt,this):new Oe(vt)}function We(vt,Ct,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,zt=Rt.apply(vt,Ct||[]),Dt=[];return Jt={},si("next"),si("throw"),si("return"),Jt[Symbol.asyncIterator]=function(){return this},Jt;function si(Yt){zt[Yt]&&(Jt[Yt]=function(qt){return new Promise(function(gi,ot){Dt.push([Yt,qt,gi,ot])>1||Ne(Yt,qt)})})}function Ne(Yt,qt){try{!function st(Yt){Yt.value instanceof Oe?Promise.resolve(Yt.value.v).then(pt,ct):ft(Dt[0][2],Yt)}(zt[Yt](qt))}catch(gi){ft(Dt[0][3],gi)}}function pt(Yt){Ne("next",Yt)}function ct(Yt){Ne("throw",Yt)}function ft(Yt,qt){Yt(qt),Dt.shift(),Dt.length&&Ne(Dt[0][0],Dt[0][1])}}function Ft(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,Ct=vt[Symbol.asyncIterator];return Ct?Ct.call(vt):(vt=function Mt(vt){var Ct="function"==typeof Symbol&&Symbol.iterator,Rt=Ct&&vt[Ct],zt=0;if(Rt)return Rt.call(vt);if(vt&&"number"==typeof vt.length)return{next:function(){return vt&&zt>=vt.length&&(vt=void 0),{value:vt&&vt[zt++],done:!vt}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")}(vt),Rt={},zt("next"),zt("throw"),zt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function zt(Dt){Rt[Dt]=vt[Dt]&&function(si){return new Promise(function(Ne,st){!function Jt(Dt,si,Ne,st){Promise.resolve(st).then(function(pt){Dt({value:pt,done:Ne})},si)}(Ne,st,(si=vt[Dt](si)).done,si.value)})}}}H.d(_t,{FC:()=>We,KL:()=>Ft,mG:()=>Le,qq:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},yi=>{yi(yi.s=4772)}]);